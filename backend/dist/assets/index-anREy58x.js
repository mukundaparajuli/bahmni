var S5=i=>{throw TypeError(i)};var e1=(i,t,e)=>t.has(i)||S5("Cannot "+e);var ri=(i,t,e)=>(e1(i,t,"read from private field"),e?e.call(i):t.get(i)),Do=(i,t,e)=>t.has(i)?S5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),hs=(i,t,e,n)=>(e1(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),Oo=(i,t,e)=>(e1(i,t,"access private method"),e);var E5=(i,t,e,n)=>({set _(r){hs(i,t,r,e)},get _(){return ri(i,t,n)}});function H4(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var tz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var n1={exports:{}},Xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function q4(){if(_5)return Xf;_5=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return Xf.Fragment=t,Xf.jsx=e,Xf.jsxs=e,Xf}var N5;function V4(){return N5||(N5=1,n1.exports=q4()),n1.exports}var S=V4(),i1={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5;function G4(){if(C5)return Ge;C5=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function _($,dt,F){this.props=$,this.context=dt,this.refs=y,this.updater=F||v}_.prototype.isReactComponent={},_.prototype.setState=function($,dt){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,dt,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=_.prototype;function T($,dt,F){this.props=$,this.context=dt,this.refs=y,this.updater=F||v}var L=T.prototype=new E;L.constructor=T,x(L,_.prototype),L.isPureReactComponent=!0;var O=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function k($,dt,F,V,tt,at){return F=at.ref,{$$typeof:i,type:$,key:dt,ref:F!==void 0?F:null,props:at}}function j($,dt){return k($.type,dt,void 0,void 0,void 0,$.props)}function K($){return typeof $=="object"&&$!==null&&$.$$typeof===i}function st($){var dt={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(F){return dt[F]})}var B=/\/+/g;function G($,dt){return typeof $=="object"&&$!==null&&$.key!=null?st(""+$.key):dt.toString(36)}function it(){}function nt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(it,it):($.status="pending",$.then(function(dt){$.status==="pending"&&($.status="fulfilled",$.value=dt)},function(dt){$.status==="pending"&&($.status="rejected",$.reason=dt)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ht($,dt,F,V,tt){var at=typeof $;(at==="undefined"||at==="boolean")&&($=null);var ot=!1;if($===null)ot=!0;else switch(at){case"bigint":case"string":case"number":ot=!0;break;case"object":switch($.$$typeof){case i:case t:ot=!0;break;case f:return ot=$._init,ht(ot($._payload),dt,F,V,tt)}}if(ot)return tt=tt($),ot=V===""?"."+G($,0):V,O(tt)?(F="",ot!=null&&(F=ot.replace(B,"$&/")+"/"),ht(tt,dt,F,"",function(xt){return xt})):tt!=null&&(K(tt)&&(tt=j(tt,F+(tt.key==null||$&&$.key===tt.key?"":(""+tt.key).replace(B,"$&/")+"/")+ot)),dt.push(tt)),1;ot=0;var ct=V===""?".":V+":";if(O($))for(var mt=0;mt<$.length;mt++)V=$[mt],at=ct+G(V,mt),ot+=ht(V,dt,F,at,tt);else if(mt=g($),typeof mt=="function")for($=mt.call($),mt=0;!(V=$.next()).done;)V=V.value,at=ct+G(V,mt++),ot+=ht(V,dt,F,at,tt);else if(at==="object"){if(typeof $.then=="function")return ht(nt($),dt,F,V,tt);throw dt=String($),Error("Objects are not valid as a React child (found: "+(dt==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":dt)+"). If you meant to render a collection of children, use an array instead.")}return ot}function U($,dt,F){if($==null)return $;var V=[],tt=0;return ht($,V,"","",function(at){return dt.call(F,at,tt++)}),V}function Z($){if($._status===-1){var dt=$._result;dt=dt(),dt.then(function(F){($._status===0||$._status===-1)&&($._status=1,$._result=F)},function(F){($._status===0||$._status===-1)&&($._status=2,$._result=F)}),$._status===-1&&($._status=0,$._result=dt)}if($._status===1)return $._result.default;throw $._result}var J=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var dt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(dt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function pt(){}return Ge.Children={map:U,forEach:function($,dt,F){U($,function(){dt.apply(this,arguments)},F)},count:function($){var dt=0;return U($,function(){dt++}),dt},toArray:function($){return U($,function(dt){return dt})||[]},only:function($){if(!K($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ge.Component=_,Ge.Fragment=e,Ge.Profiler=r,Ge.PureComponent=T,Ge.StrictMode=n,Ge.Suspense=u,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ge.__COMPILER_RUNTIME={__proto__:null,c:function($){return D.H.useMemoCache($)}},Ge.cache=function($){return function(){return $.apply(null,arguments)}},Ge.cloneElement=function($,dt,F){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var V=x({},$.props),tt=$.key,at=void 0;if(dt!=null)for(ot in dt.ref!==void 0&&(at=void 0),dt.key!==void 0&&(tt=""+dt.key),dt)!I.call(dt,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&dt.ref===void 0||(V[ot]=dt[ot]);var ot=arguments.length-2;if(ot===1)V.children=F;else if(1<ot){for(var ct=Array(ot),mt=0;mt<ot;mt++)ct[mt]=arguments[mt+2];V.children=ct}return k($.type,tt,void 0,void 0,at,V)},Ge.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Ge.createElement=function($,dt,F){var V,tt={},at=null;if(dt!=null)for(V in dt.key!==void 0&&(at=""+dt.key),dt)I.call(dt,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(tt[V]=dt[V]);var ot=arguments.length-2;if(ot===1)tt.children=F;else if(1<ot){for(var ct=Array(ot),mt=0;mt<ot;mt++)ct[mt]=arguments[mt+2];tt.children=ct}if($&&$.defaultProps)for(V in ot=$.defaultProps,ot)tt[V]===void 0&&(tt[V]=ot[V]);return k($,at,void 0,void 0,null,tt)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function($){return{$$typeof:c,render:$}},Ge.isValidElement=K,Ge.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:Z}},Ge.memo=function($,dt){return{$$typeof:d,type:$,compare:dt===void 0?null:dt}},Ge.startTransition=function($){var dt=D.T,F={};D.T=F;try{var V=$(),tt=D.S;tt!==null&&tt(F,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(pt,J)}catch(at){J(at)}finally{D.T=dt}},Ge.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ge.use=function($){return D.H.use($)},Ge.useActionState=function($,dt,F){return D.H.useActionState($,dt,F)},Ge.useCallback=function($,dt){return D.H.useCallback($,dt)},Ge.useContext=function($){return D.H.useContext($)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function($,dt){return D.H.useDeferredValue($,dt)},Ge.useEffect=function($,dt,F){var V=D.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect($,dt)},Ge.useId=function(){return D.H.useId()},Ge.useImperativeHandle=function($,dt,F){return D.H.useImperativeHandle($,dt,F)},Ge.useInsertionEffect=function($,dt){return D.H.useInsertionEffect($,dt)},Ge.useLayoutEffect=function($,dt){return D.H.useLayoutEffect($,dt)},Ge.useMemo=function($,dt){return D.H.useMemo($,dt)},Ge.useOptimistic=function($,dt){return D.H.useOptimistic($,dt)},Ge.useReducer=function($,dt,F){return D.H.useReducer($,dt,F)},Ge.useRef=function($){return D.H.useRef($)},Ge.useState=function($){return D.H.useState($)},Ge.useSyncExternalStore=function($,dt,F){return D.H.useSyncExternalStore($,dt,F)},Ge.useTransition=function(){return D.H.useTransition()},Ge.version="19.1.0",Ge}var R5;function Dp(){return R5||(R5=1,i1.exports=G4()),i1.exports}var M=Dp();const Yt=Pp(M),hS=H4({__proto__:null,default:Yt},[M]);var r1={exports:{}},Kf={},s1={exports:{}},a1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5;function $4(){return T5||(T5=1,function(i){function t(U,Z){var J=U.length;U.push(Z);t:for(;0<J;){var pt=J-1>>>1,$=U[pt];if(0<r($,Z))U[pt]=Z,U[J]=$,J=pt;else break t}}function e(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Z=U[0],J=U.pop();if(J!==Z){U[0]=J;t:for(var pt=0,$=U.length,dt=$>>>1;pt<dt;){var F=2*(pt+1)-1,V=U[F],tt=F+1,at=U[tt];if(0>r(V,J))tt<$&&0>r(at,V)?(U[pt]=at,U[tt]=J,pt=tt):(U[pt]=V,U[F]=J,pt=F);else if(tt<$&&0>r(at,J))U[pt]=at,U[tt]=J,pt=tt;else break t}}return Z}function r(U,Z){var J=U.sortIndex-Z.sortIndex;return J!==0?J:U.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,g=3,v=!1,x=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var Z=e(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=U)n(d),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=e(d)}}function D(U){if(y=!1,O(U),!x)if(e(u)!==null)x=!0,I||(I=!0,G());else{var Z=e(d);Z!==null&&ht(D,Z.startTime-U)}}var I=!1,k=-1,j=5,K=-1;function st(){return _?!0:!(i.unstable_now()-K<j)}function B(){if(_=!1,I){var U=i.unstable_now();K=U;var Z=!0;try{t:{x=!1,y&&(y=!1,T(k),k=-1),v=!0;var J=g;try{e:{for(O(U),p=e(u);p!==null&&!(p.expirationTime>U&&st());){var pt=p.callback;if(typeof pt=="function"){p.callback=null,g=p.priorityLevel;var $=pt(p.expirationTime<=U);if(U=i.unstable_now(),typeof $=="function"){p.callback=$,O(U),Z=!0;break e}p===e(u)&&n(u),O(U)}else n(u);p=e(u)}if(p!==null)Z=!0;else{var dt=e(d);dt!==null&&ht(D,dt.startTime-U),Z=!1}}break t}finally{p=null,g=J,v=!1}Z=void 0}}finally{Z?G():I=!1}}}var G;if(typeof L=="function")G=function(){L(B)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,nt=it.port2;it.port1.onmessage=B,G=function(){nt.postMessage(null)}}else G=function(){E(B,0)};function ht(U,Z){k=E(function(){U(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(U){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var J=g;g=Z;try{return U()}finally{g=J}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=g;g=U;try{return Z()}finally{g=J}},i.unstable_scheduleCallback=function(U,Z,J){var pt=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pt+J:pt):J=pt,U){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=J+$,U={id:f++,callback:Z,priorityLevel:U,startTime:J,expirationTime:$,sortIndex:-1},J>pt?(U.sortIndex=J,t(d,U),e(u)===null&&U===e(d)&&(y?(T(k),k=-1):y=!0,ht(D,J-pt))):(U.sortIndex=$,t(u,U),x||v||(x=!0,I||(I=!0,G()))),U},i.unstable_shouldYield=st,i.unstable_wrapCallback=function(U){var Z=g;return function(){var J=g;g=Z;try{return U.apply(this,arguments)}finally{g=J}}}}(a1)),a1}var L5;function W4(){return L5||(L5=1,s1.exports=$4()),s1.exports}var o1={exports:{}},Or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5;function Y4(){if(M5)return Or;M5=1;var i=Dp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Or.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},Or.flushSync=function(u){var d=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=d,n.p=f,n.d.f()}},Or.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Or.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Or.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=c(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Or.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Or.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=c(f,d.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Or.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=c(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Or.requestFormReset=function(u){n.d.r(u)},Or.unstable_batchedUpdates=function(u,d){return u(d)},Or.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},Or.useFormStatus=function(){return o.H.useHostTransitionStatus()},Or.version="19.1.0",Or}var P5;function dS(){if(P5)return o1.exports;P5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),o1.exports=Y4(),o1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D5;function X4(){if(D5)return Kf;D5=1;var i=W4(),t=Dp(),e=dS();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,m=l;;){var w=h.return;if(w===null)break;var N=w.alternate;if(N===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===h)return c(w),a;if(N===m)return c(w),l;N=N.sibling}throw Error(n(188))}if(h.return!==m.return)h=w,m=N;else{for(var z=!1,Q=w.child;Q;){if(Q===h){z=!0,h=w,m=N;break}if(Q===m){z=!0,m=w,h=N;break}Q=Q.sibling}if(!z){for(Q=N.child;Q;){if(Q===h){z=!0,h=N,m=w;break}if(Q===m){z=!0,m=N,h=w;break}Q=Q.sibling}if(!z)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var it=Symbol.for("react.client.reference");function nt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===it?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case _:return"Profiler";case y:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList";case K:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case L:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case O:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return l=a.displayName||null,l!==null?l:nt(a.type)||"Memo";case j:l=a._payload,a=a._init;try{return nt(a(l))}catch{}}return null}var ht=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},pt=[],$=-1;function dt(a){return{current:a}}function F(a){0>$||(a.current=pt[$],pt[$]=null,$--)}function V(a,l){$++,pt[$]=a.current,a.current=l}var tt=dt(null),at=dt(null),ot=dt(null),ct=dt(null);function mt(a,l){switch(V(ot,l),V(at,a),V(tt,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Qw(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Qw(l),a=Zw(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(tt),V(tt,a)}function xt(){F(tt),F(at),F(ot)}function Tt(a){a.memoizedState!==null&&V(ct,a);var l=tt.current,h=Zw(l,a.type);l!==h&&(V(at,a),V(tt,h))}function Ot(a){at.current===a&&(F(tt),F(at)),ct.current===a&&(F(ct),Vf._currentValue=J)}var zt=Object.prototype.hasOwnProperty,$t=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Lt=i.unstable_shouldYield,lt=i.unstable_requestPaint,se=i.unstable_now,ae=i.unstable_getCurrentPriorityLevel,Vt=i.unstable_ImmediatePriority,Zt=i.unstable_UserBlockingPriority,Jt=i.unstable_NormalPriority,Xt=i.unstable_LowPriority,ce=i.unstable_IdlePriority,Ce=i.log,ke=i.unstable_setDisableYieldValue,Se=null,be=null;function Fe(a){if(typeof Ce=="function"&&ke(a),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Se,a)}catch{}}var le=Math.clz32?Math.clz32:Xn,Re=Math.log,ne=Math.LN2;function Xn(a){return a>>>=0,a===0?32:31-(Re(a)/ne|0)|0}var We=256,tr=4194304;function Qe(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yn(a,l,h){var m=a.pendingLanes;if(m===0)return 0;var w=0,N=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~N,m!==0?w=Qe(m):(z&=Q,z!==0?w=Qe(z):h||(h=Q&~a,h!==0&&(w=Qe(h))))):(Q=m&~N,Q!==0?w=Qe(Q):z!==0?w=Qe(z):h||(h=m&~a,h!==0&&(w=Qe(h)))),w===0?0:l!==0&&l!==w&&(l&N)===0&&(N=w&-w,h=l&-l,N>=h||N===32&&(h&4194048)!==0)?l:w}function er(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function on(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var a=We;return We<<=1,(We&4194048)===0&&(We=256),a}function In(){var a=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),a}function gr(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function nr(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Fn(a,l,h,m,w,N){var z=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var Q=a.entanglements,ft=a.expirationTimes,Rt=a.hiddenUpdates;for(h=z&~h;0<h;){var Ft=31-le(h),Gt=1<<Ft;Q[Ft]=0,ft[Ft]=-1;var Mt=Rt[Ft];if(Mt!==null)for(Rt[Ft]=null,Ft=0;Ft<Mt.length;Ft++){var Pt=Mt[Ft];Pt!==null&&(Pt.lane&=-536870913)}h&=~Gt}m!==0&&Qt(a,m,0),N!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=N&~(z&~l))}function Qt(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-le(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|h&4194090}function xe(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var m=31-le(h),w=1<<m;w&l|a[m]&l&&(a[m]|=l),h&=~w}}function Pn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function hn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ir(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:v5(a.type))}function En(a,l){var h=Z.p;try{return Z.p=a,l()}finally{Z.p=h}}var oe=Math.random().toString(36).slice(2),gn="__reactFiber$"+oe,tn="__reactProps$"+oe,vn="__reactContainer$"+oe,Gn="__reactEvents$"+oe,_n="__reactListeners$"+oe,_r="__reactHandles$"+oe,el="__reactResources$"+oe,Vr="__reactMarker$"+oe;function Gr(a){delete a[gn],delete a[tn],delete a[Gn],delete a[_n],delete a[_r]}function rr(a){var l=a[gn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[vn]||h[gn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=n5(a);a!==null;){if(h=a[gn])return h;a=n5(a)}return l}a=h,h=a.parentNode}return null}function sr(a){if(a=a[gn]||a[vn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Nr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Wi(a){var l=a[el];return l||(l=a[el]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Cn(a){a[Vr]=!0}var Ja=new Set,nl={};function es(a,l){ws(a,l),ws(a+"Capture",l)}function ws(a,l){for(nl[a]=l,a=0;a<l.length;a++)Ja.add(l[a])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},Ah={};function sf(a){return zt.call(Ah,a)?!0:zt.call(iu,a)?!1:Vl.test(a)?Ah[a]=!0:(iu[a]=!0,!1)}function ha(a,l,h){if(sf(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function il(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function xs(a,l,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+m)}}var rl,Sh;function da(a){if(rl===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);rl=l&&l[1]||"",Sh=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rl+a+Sh}var ru=!1;function to(a,l){if(!a||ru)return"";ru=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Pt){var Mt=Pt}Reflect.construct(a,[],Gt)}else{try{Gt.call()}catch(Pt){Mt=Pt}a.call(Gt.prototype)}}else{try{throw Error()}catch(Pt){Mt=Pt}(Gt=a())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Pt){if(Pt&&Mt&&typeof Pt.stack=="string")return[Pt.stack,Mt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),z=N[0],Q=N[1];if(z&&Q){var ft=z.split(`
`),Rt=Q.split(`
`);for(w=m=0;m<ft.length&&!ft[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Rt.length&&!Rt[w].includes("DetermineComponentFrameRoot");)w++;if(m===ft.length||w===Rt.length)for(m=ft.length-1,w=Rt.length-1;1<=m&&0<=w&&ft[m]!==Rt[w];)w--;for(;1<=m&&0<=w;m--,w--)if(ft[m]!==Rt[w]){if(m!==1||w!==1)do if(m--,w--,0>w||ft[m]!==Rt[w]){var Ft=`
`+ft[m].replace(" at new "," at ");return a.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",a.displayName)),Ft}while(1<=m&&0<=w);break}}}finally{ru=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?da(h):""}function af(a){switch(a.tag){case 26:case 27:case 5:return da(a.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return to(a.type,!1);case 11:return to(a.type.render,!1);case 1:return to(a.type,!0);case 31:return da("Activity");default:return""}}function Jn(a){try{var l="";do l+=af(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function vr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function su(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Eh(a){var l=su(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,N=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(z){m=""+z,N.call(this,z)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(z){m=""+z},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function eo(a){a._valueTracker||(a._valueTracker=Eh(a))}function _h(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return a&&(m=su(a)?a.checked?"true":"false":a.value),a=m,a!==h?(l.setValue(a),!0):!1}function Cr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gl=/[\n"\\]/g;function Bn(a){return a.replace(Gl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function sl(a,l,h,m,w,N,z,Q){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),l!=null?z==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+vr(l)):a.value!==""+vr(l)&&(a.value=""+vr(l)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),l!=null?ou(a,z,vr(l)):h!=null?ou(a,z,vr(h)):m!=null&&a.removeAttribute("value"),w==null&&N!=null&&(a.defaultChecked=!!N),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?a.name=""+vr(Q):a.removeAttribute("name")}function au(a,l,h,m,w,N,z,Q){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),l!=null||h!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;h=h!=null?""+vr(h):"",l=l!=null?""+vr(l):h,Q||l===a.value||(a.value=l),a.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=Q?a.checked:!!m,a.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z)}function ou(a,l,h){l==="number"&&Cr(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function fa(a,l,h,m){if(a=a.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=l.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&m&&(a[h].defaultSelected=!0)}else{for(h=""+vr(h),l=null,w=0;w<a.length;w++){if(a[w].value===h){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function Nh(a,l,h){if(l!=null&&(l=""+vr(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+vr(h):""}function lu(a,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(n(92));if(ht(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=vr(l),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m)}function no(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ch(a,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,h):typeof h!="number"||h===0||cu.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function Rh(a,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&h[w]!==m&&Ch(a,w,m)}else for(var N in l)l.hasOwnProperty(N)&&Ch(a,N,l[N])}function uu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(a){return $l.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Wl=null;function ki(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var io=null,ga=null;function De(a){var l=sr(a);if(l&&(a=l.stateNode)){var h=a[tn]||null;t:switch(a=l.stateNode,l.type){case"input":if(sl(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Bn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==a&&m.form===a.form){var w=m[tn]||null;if(!w)throw Error(n(90));sl(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===a.form&&_h(m)}break t;case"textarea":Nh(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&fa(a,!!h.multiple,l,!1)}}}var hu=!1;function Th(a,l,h){if(hu)return a(l,h);hu=!0;try{var m=a(l);return m}finally{if(hu=!1,(io!==null||ga!==null)&&(Dm(),io&&(l=io,a=ga,ga=io=null,De(l),a)))for(l=0;l<a.length;l++)De(a[l])}}function Rr(a,l){var h=a.stateNode;if(h===null)return null;var m=h[tn]||null;if(m===null)return null;h=m[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(ns)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Yl=!1}var is=null,du=null,Xl=null;function Lh(){if(Xl)return Xl;var a,l=du,h=l.length,m,w="value"in is?is.value:is.textContent,N=w.length;for(a=0;a<h&&l[a]===w[a];a++);var z=h-a;for(m=1;m<=z&&l[h-m]===w[N-m];m++);return Xl=w.slice(a,1<m?1-m:void 0)}function ro(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Vs(){return!0}function va(){return!1}function ar(a){function l(h,m,w,N,z){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=N,this.target=z,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(h=a[Q],this[Q]=h?h(N):N[Q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vs:va,this.isPropagationStopped=va,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),l}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=ar($r),Gs=f({},$r,{view:0,detail:0}),Mh=ar(Gs),Kl,Ql,ao,Wr=f({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ao&&(ao&&a.type==="mousemove"?(Kl=a.screenX-ao.screenX,Ql=a.screenY-ao.screenY):Ql=Kl=0,ao=a),Kl)},movementY:function(a){return"movementY"in a?a.movementY:Ql}}),$s=ar(Wr),of=f({},Wr,{dataTransfer:0}),oo=ar(of),As=f({},Gs,{relatedTarget:0}),al=ar(As),ol=f({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=ar(ol),Zl=f({},$r,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cf=ar(Zl),fu=f({},$r,{data:0}),Jl=ar(fu),Ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=pu[a])?!!l[a]:!1}function ec(){return mu}var uf=f({},Gs,{key:function(a){if(a.key){var l=Ph[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ro(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?tc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(a){return a.type==="keypress"?ro(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ro(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),nc=ar(uf),ll=f({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=ar(ll),lo=f({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),gu=ar(lo),C=f({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=ar(C),ut=f({},Wr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gt=ar(ut),Et=f({},$r,{newState:0,oldState:0}),jt=ar(Et),Wt=[9,13,27,32],ie=ns&&"CompositionEvent"in window,me=null;ns&&"documentMode"in document&&(me=document.documentMode);var Be=ns&&"TextEvent"in window&&!me,je=ns&&(!ie||me&&8<me&&11>=me),en=" ",$n=!1;function Kn(a,l){switch(a){case"keyup":return Wt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ci(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ui=!1;function ji(a,l){switch(a){case"compositionend":return ci(l);case"keypress":return l.which!==32?null:($n=!0,en);case"textInput":return a=l.data,a===en&&$n?null:a;default:return null}}function Ss(a,l){if(ui)return a==="compositionend"||!ie&&Kn(a,l)?(a=Lh(),Xl=du=is=null,ui=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return je&&l.locale!=="ko"?null:l.data;default:return null}}var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Es(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Yr[a.type]:l==="textarea"}function vu(a,l,h,m){io?ga?ga.push(m):ga=[m]:io=m,l=Bm(l,"onChange"),0<l.length&&(h=new so("onChange","change",null,h,m),a.push({event:h,listeners:l}))}var ba=null,ya=null;function rc(a){$w(a,0)}function co(a){var l=Nr(a);if(_h(l))return a}function sc(a,l){if(a==="change")return l}var cl=!1;if(ns){var xi;if(ns){var uo="oninput"in document;if(!uo){var ul=document.createElement("div");ul.setAttribute("oninput","return;"),uo=typeof ul.oninput=="function"}xi=uo}else xi=!1;cl=xi&&(!document.documentMode||9<document.documentMode)}function hl(){ba&&(ba.detachEvent("onpropertychange",ac),ya=ba=null)}function ac(a){if(a.propertyName==="value"&&co(ya)){var l=[];vu(l,ya,a,ki(a)),Th(rc,l)}}function Tr(a,l,h){a==="focusin"?(hl(),ba=l,ya=h,ba.attachEvent("onpropertychange",ac)):a==="focusout"&&hl()}function hf(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return co(ya)}function bu(a,l){if(a==="click")return co(l)}function Dh(a,l){if(a==="input"||a==="change")return co(l)}function rs(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ii=typeof Object.is=="function"?Object.is:rs;function ho(a,l){if(Ii(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!zt.call(l,w)||!Ii(a[w],l[w]))return!1}return!0}function yu(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function wa(a,l){var h=yu(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=l&&m>=l)return{node:h,offset:l-a};a=m}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=yu(h)}}function fo(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?fo(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function br(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Cr(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Cr(a.document)}return l}function Yi(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var po=ns&&"documentMode"in document&&11>=document.documentMode,Lr=null,_s=null,Ws=null,Ns=!1;function ti(a,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ns||Lr==null||Lr!==Cr(m)||(m=Lr,"selectionStart"in m&&Yi(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ws&&ho(Ws,m)||(Ws=m,m=Bm(_s,"onSelect"),0<m.length&&(l=new so("onSelect","select",null,l,h),a.push({event:l,listeners:m}),l.target=Lr)))}function Cs(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var gi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Mr={},dl={};ns&&(dl=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Ys(a){if(Mr[a])return Mr[a];if(!gi[a])return a;var l=gi[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in dl)return Mr[a]=l[h];return a}var oc=Ys("animationend"),mo=Ys("animationiteration"),go=Ys("animationstart"),vo=Ys("transitionrun"),fl=Ys("transitionstart"),lc=Ys("transitioncancel"),bo=Ys("transitionend"),xa=new Map,pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pl.push("scrollEnd");function ei(a,l){xa.set(a,l),es(l,[a])}var Xr=new WeakMap;function Ye(a,l){if(typeof a=="object"&&a!==null){var h=Xr.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Jn(l)},Xr.set(a,l),l)}return{value:a,source:l,stack:Jn(l)}}var Xe=[],Dn=0,hi=0;function ss(){for(var a=Dn,l=hi=Dn=0;l<a;){var h=Xe[l];Xe[l++]=null;var m=Xe[l];Xe[l++]=null;var w=Xe[l];Xe[l++]=null;var N=Xe[l];if(Xe[l++]=null,m!==null&&w!==null){var z=m.pending;z===null?w.next=w:(w.next=z.next,z.next=w),m.pending=w}N!==0&&Oh(h,w,N)}}function yo(a,l,h,m){Xe[Dn++]=a,Xe[Dn++]=l,Xe[Dn++]=h,Xe[Dn++]=m,hi|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function wo(a,l,h,m){return yo(a,l,h,m),ml(a)}function Aa(a,l){return yo(a,null,null,l),ml(a)}function Oh(a,l,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var w=!1,N=a.return;N!==null;)N.childLanes|=h,m=N.alternate,m!==null&&(m.childLanes|=h),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(w=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,w&&l!==null&&(w=31-le(h),a=N.hiddenUpdates,m=a[w],m===null?a[w]=[l]:m.push(l),l.lane=h|536870912),N):null}function ml(a){if(50<jf)throw jf=0,_v=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Fi={};function as(a,l,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(a,l,h,m){return new as(a,l,h,m)}function cc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xs(a,l){var h=a.alternate;return h===null?(h=or(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function wu(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function gl(a,l,h,m,w,N){var z=0;if(m=a,typeof a=="function")cc(a)&&(z=1);else if(typeof a=="string")z=T4(a,h,tt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case K:return a=or(31,h,l,w),a.elementType=K,a.lanes=N,a;case x:return Sa(h.children,w,N,l);case y:z=8,w|=24;break;case _:return a=or(12,h,l,w|2),a.elementType=_,a.lanes=N,a;case D:return a=or(13,h,l,w),a.elementType=D,a.lanes=N,a;case I:return a=or(19,h,l,w),a.elementType=I,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:case L:z=10;break t;case T:z=9;break t;case O:z=11;break t;case k:z=14;break t;case j:z=16,m=null;break t}z=29,h=Error(n(130,a===null?"null":typeof a,"")),m=null}return l=or(z,h,l,w),l.elementType=a,l.type=m,l.lanes=N,l}function Sa(a,l,h,m){return a=or(7,a,m,l),a.lanes=h,a}function kh(a,l,h){return a=or(6,a,null,l),a.lanes=h,a}function xu(a,l,h){return l=or(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var xo=[],Ea=0,uc=null,jh=0,os=[],Kr=0,vl=null,_a=1,Na="";function bl(a,l){xo[Ea++]=jh,xo[Ea++]=uc,uc=a,jh=l}function im(a,l,h){os[Kr++]=_a,os[Kr++]=Na,os[Kr++]=vl,vl=a;var m=_a;a=Na;var w=32-le(m)-1;m&=~(1<<w),h+=1;var N=32-le(l)+w;if(30<N){var z=w-w%5;N=(m&(1<<z)-1).toString(32),m>>=z,w-=z,_a=1<<32-le(l)+w|h<<w|m,Na=N+a}else _a=1<<N|h<<w|m,Na=a}function Au(a){a.return!==null&&(bl(a,1),im(a,1,0))}function Su(a){for(;a===uc;)uc=xo[--Ea],xo[Ea]=null,jh=xo[--Ea],xo[Ea]=null;for(;a===vl;)vl=os[--Kr],os[Kr]=null,Na=os[--Kr],os[Kr]=null,_a=os[--Kr],os[Kr]=null}var Ai=null,ni=null,bn=!1,Ao=null,Ks=!1,df=Error(n(519));function yl(a){var l=Error(n(418,""));throw hc(Ye(l,a)),df}function rm(a){var l=a.stateNode,h=a.type,m=a.memoizedProps;switch(l[gn]=a,l[tn]=m,h){case"dialog":rn("cancel",l),rn("close",l);break;case"iframe":case"object":case"embed":rn("load",l);break;case"video":case"audio":for(h=0;h<Ff.length;h++)rn(Ff[h],l);break;case"source":rn("error",l);break;case"img":case"image":case"link":rn("error",l),rn("load",l);break;case"details":rn("toggle",l);break;case"input":rn("invalid",l),au(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),eo(l);break;case"select":rn("invalid",l);break;case"textarea":rn("invalid",l),lu(l,m.value,m.defaultValue,m.children),eo(l)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||Kw(l.textContent,h)?(m.popover!=null&&(rn("beforetoggle",l),rn("toggle",l)),m.onScroll!=null&&rn("scroll",l),m.onScrollEnd!=null&&rn("scrollend",l),m.onClick!=null&&(l.onclick=zm),l=!0):l=!1,l||yl(a)}function Ca(a){for(Ai=a.return;Ai;)switch(Ai.tag){case 5:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:Ai=Ai.return}}function yr(a){if(a!==Ai)return!1;if(!bn)return Ca(a),bn=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Uv(a.type,a.memoizedProps)),h=!h),h&&ni&&yl(a),Ca(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){ni=ka(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}ni=null}}else l===27?(l=ni,Rc(a.type)?(a=Gv,Gv=null,ni=a):ni=l):ni=Ai?ka(a.stateNode.nextSibling):null;return!0}function Qr(){ni=Ai=null,bn=!1}function sm(){var a=Ao;return a!==null&&(us===null?us=a:us.push.apply(us,a),Ao=null),a}function hc(a){Ao===null?Ao=[a]:Ao.push(a)}var Qs=dt(null),Bi=null,Ra=null;function So(a,l,h){V(Qs,l._currentValue),l._currentValue=h}function Zs(a){a._currentValue=Qs.current,F(Qs)}function Ih(a,l,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===h)break;a=a.return}}function Fh(a,l,h,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var N=w.dependencies;if(N!==null){var z=w.child;N=N.firstContext;t:for(;N!==null;){var Q=N;N=w;for(var ft=0;ft<l.length;ft++)if(Q.context===l[ft]){N.lanes|=h,Q=N.alternate,Q!==null&&(Q.lanes|=h),Ih(N.return,h,a),m||(z=null);break t}N=Q.next}}else if(w.tag===18){if(z=w.return,z===null)throw Error(n(341));z.lanes|=h,N=z.alternate,N!==null&&(N.lanes|=h),Ih(z,h,a),z=null}else z=w.child;if(z!==null)z.return=w;else for(z=w;z!==null;){if(z===a){z=null;break}if(w=z.sibling,w!==null){w.return=z.return,z=w;break}z=z.return}w=z}}function dc(a,l,h,m){a=null;for(var w=l,N=!1;w!==null;){if(!N){if((w.flags&524288)!==0)N=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var z=w.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Q=w.type;Ii(w.pendingProps.value,z.value)||(a!==null?a.push(Q):a=[Q])}}else if(w===ct.current){if(z=w.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Vf):a=[Vf])}w=w.return}a!==null&&Fh(l,a,h,m),l.flags|=262144}function Bh(a){for(a=a.firstContext;a!==null;){if(!Ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Js(a){Bi=a,Ra=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Si(a){return zh(Bi,a)}function Eo(a,l){return Bi===null&&Js(a),zh(a,l)}function zh(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ra===null){if(a===null)throw Error(n(308));Ra=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ra=Ra.next=l;return h}var K0=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},am=i.unstable_scheduleCallback,Q0=i.unstable_NormalPriority,Ei={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new K0,data:new Map,refCount:0}}function Eu(a){a.refCount--,a.refCount===0&&am(Q0,function(){a.controller.abort()})}var _u=null,pf=0,wl=0,Ta=null;function Z0(a,l){if(_u===null){var h=_u=[];pf=0,wl=Pv(),Ta={status:"pending",value:void 0,then:function(m){h.push(m)}}}return pf++,l.then(om,om),l}function om(){if(--pf===0&&_u!==null){Ta!==null&&(Ta.status="fulfilled");var a=_u;_u=null,wl=0,Ta=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function lm(a,l){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<h.length;w++)(0,h[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var b=U.S;U.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Z0(a,l),b!==null&&b(a,l)};var A=dt(null);function R(){var a=A.current;return a!==null?a:Yn.pooledCache}function P(a,l){l===null?V(A,A.current):V(A,l.pool)}function H(){var a=R();return a===null?null:{parent:Ei._currentValue,pool:a}}var W=Error(n(460)),Y=Error(n(474)),X=Error(n(542)),et={then:function(){}};function rt(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vt(){}function Ct(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(vt,vt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Ht(a),a;default:if(typeof l.status=="string")l.then(vt,vt);else{if(a=Yn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Ht(a),a}throw _t=l,W}}var _t=null;function At(){if(_t===null)throw Error(n(459));var a=_t;return _t=null,a}function Ht(a){if(a===W||a===X)throw Error(n(483))}var Dt=!1;function bt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function It(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qt(a,l,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Tn&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=ml(a),Oh(a,null,h),l}return yo(a,m,l,h),ml(a)}function Bt(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,xe(a,h)}}function re(a,l){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?w=N=z:N=N.next=z,h=h.next}while(h!==null);N===null?w=N=l:N=N.next=l}else w=N=l;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var te=!1;function ge(){if(te){var a=Ta;if(a!==null)throw a}}function ee(a,l,h,m){te=!1;var w=a.updateQueue;Dt=!1;var N=w.firstBaseUpdate,z=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var ft=Q,Rt=ft.next;ft.next=null,z===null?N=Rt:z.next=Rt,z=ft;var Ft=a.alternate;Ft!==null&&(Ft=Ft.updateQueue,Q=Ft.lastBaseUpdate,Q!==z&&(Q===null?Ft.firstBaseUpdate=Rt:Q.next=Rt,Ft.lastBaseUpdate=ft))}if(N!==null){var Gt=w.baseState;z=0,Ft=Rt=ft=null,Q=N;do{var Mt=Q.lane&-536870913,Pt=Mt!==Q.lane;if(Pt?(mn&Mt)===Mt:(m&Mt)===Mt){Mt!==0&&Mt===wl&&(te=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var Oe=a,Ee=Q;Mt=l;var kn=h;switch(Ee.tag){case 1:if(Oe=Ee.payload,typeof Oe=="function"){Gt=Oe.call(kn,Gt,Mt);break t}Gt=Oe;break t;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ee.payload,Mt=typeof Oe=="function"?Oe.call(kn,Gt,Mt):Oe,Mt==null)break t;Gt=f({},Gt,Mt);break t;case 2:Dt=!0}}Mt=Q.callback,Mt!==null&&(a.flags|=64,Pt&&(a.flags|=8192),Pt=w.callbacks,Pt===null?w.callbacks=[Mt]:Pt.push(Mt))}else Pt={lane:Mt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ft===null?(Rt=Ft=Pt,ft=Gt):Ft=Ft.next=Pt,z|=Mt;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;Pt=Q,Q=Pt.next,Pt.next=null,w.lastBaseUpdate=Pt,w.shared.pending=null}}while(!0);Ft===null&&(ft=Gt),w.baseState=ft,w.firstBaseUpdate=Rt,w.lastBaseUpdate=Ft,N===null&&(w.shared.lanes=0),Ec|=z,a.lanes=z,a.memoizedState=Gt}}function fn(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function wn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)fn(h[a],l)}var $e=dt(null),Ve=dt(0);function Nn(a,l){a=Ll,V(Ve,a),V($e,l),Ll=a|l.baseLanes}function xn(){V(Ve,Ll),V($e,$e.current)}function Ie(){Ll=Ve.current,F($e),F(Ve)}var Rn=0,we=null,Me=null,dn=null,pn=!1,zi=!1,_i=!1,di=0,fi=0,vi=null,ls=0;function An(){throw Error(n(321))}function bi(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Ii(a[h],l[h]))return!1;return!0}function Rs(a,l,h,m,w,N){return Rn=N,we=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=a===null||a.memoizedState===null?L2:M2,_i=!1,N=h(m,w),_i=!1,zi&&(N=xl(l,h,m,w)),_o(a),N}function _o(a){U.H=wm;var l=Me!==null&&Me.next!==null;if(Rn=0,dn=Me=we=null,pn=!1,fi=0,vi=null,l)throw Error(n(300));a===null||lr||(a=a.dependencies,a!==null&&Bh(a)&&(lr=!0))}function xl(a,l,h,m){we=a;var w=0;do{if(zi&&(vi=null),fi=0,zi=!1,25<=w)throw Error(n(301));if(w+=1,dn=Me=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}U.H=z3,N=l(h,m)}while(zi);return N}function No(){var a=U.H,l=a.useState()[0];return l=typeof l.then=="function"?Co(l):l,a=a.useState()[0],(Me!==null?Me.memoizedState:null)!==a&&(we.flags|=1024),l}function Wn(){var a=di!==0;return di=0,a}function Nu(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Uh(a){if(pn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}pn=!1}Rn=0,dn=Me=we=null,zi=!1,fi=di=0,vi=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?we.memoizedState=dn=a:dn=dn.next=a,dn}function Qn(){if(Me===null){var a=we.alternate;a=a!==null?a.memoizedState:null}else a=Me.next;var l=dn===null?we.memoizedState:dn.next;if(l!==null)dn=l,Me=a;else{if(a===null)throw we.alternate===null?Error(n(467)):Error(n(310));Me=a,a={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},dn===null?we.memoizedState=dn=a:dn=dn.next=a}return dn}function Al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Co(a){var l=fi;return fi+=1,vi===null&&(vi=[]),a=Ct(vi,a,l),l=we,(dn===null?l.memoizedState:dn.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?L2:M2),a}function Pr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Co(a);if(a.$$typeof===L)return Si(a)}throw Error(n(438,String(a)))}function Ro(a){var l=null,h=we.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=we.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Al(),we.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),m=0;m<a;m++)h[m]=st;return l.index++,h}function Dr(a,l){return typeof l=="function"?l(a):l}function Cu(a){var l=Qn();return fc(l,Me,a)}function fc(a,l,h){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=h;var w=a.baseQueue,N=m.pending;if(N!==null){if(w!==null){var z=w.next;w.next=N.next,N.next=z}l.baseQueue=w=N,m.pending=null}if(N=a.baseState,w===null)a.memoizedState=N;else{l=w.next;var Q=z=null,ft=null,Rt=l,Ft=!1;do{var Gt=Rt.lane&-536870913;if(Gt!==Rt.lane?(mn&Gt)===Gt:(Rn&Gt)===Gt){var Mt=Rt.revertLane;if(Mt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Gt===wl&&(Ft=!0);else if((Rn&Mt)===Mt){Rt=Rt.next,Mt===wl&&(Ft=!0);continue}else Gt={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ft===null?(Q=ft=Gt,z=N):ft=ft.next=Gt,we.lanes|=Mt,Ec|=Mt;Gt=Rt.action,_i&&h(N,Gt),N=Rt.hasEagerState?Rt.eagerState:h(N,Gt)}else Mt={lane:Gt,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ft===null?(Q=ft=Mt,z=N):ft=ft.next=Mt,we.lanes|=Gt,Ec|=Gt;Rt=Rt.next}while(Rt!==null&&Rt!==l);if(ft===null?z=N:ft.next=Q,!Ii(N,a.memoizedState)&&(lr=!0,Ft&&(h=Ta,h!==null)))throw h;a.memoizedState=N,a.baseState=z,a.baseQueue=ft,m.lastRenderedState=N}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Hh(a){var l=Qn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,w=h.pending,N=l.memoizedState;if(w!==null){h.pending=null;var z=w=w.next;do N=a(N,z.action),z=z.next;while(z!==w);Ii(N,l.memoizedState)||(lr=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),h.lastRenderedState=N}return[N,m]}function Ru(a,l,h){var m=we,w=Qn(),N=bn;if(N){if(h===void 0)throw Error(n(407));h=h()}else h=l();var z=!Ii((Me||w).memoizedState,h);z&&(w.memoizedState=h,lr=!0),w=w.queue;var Q=pc.bind(null,m,w,a);if(vc(2048,8,Q,[a]),w.getSnapshot!==l||z||dn!==null&&dn.memoizedState.tag&1){if(m.flags|=2048,Ma(9,Pu(),Tu.bind(null,m,w,h,l),null),Yn===null)throw Error(n(349));N||(Rn&124)!==0||qh(m,l,h)}return h}function qh(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=we.updateQueue,l===null?(l=Al(),we.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Tu(a,l,h,m){l.value=h,l.getSnapshot=m,cm(l)&&um(a)}function pc(a,l,h){return h(function(){cm(l)&&um(a)})}function cm(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Ii(a,h)}catch{return!0}}function um(a){var l=Aa(a,2);l!==null&&Os(l,a,2)}function Lu(a){var l=wr();if(typeof a=="function"){var h=a;if(a=h(),_i){Fe(!0);try{h()}finally{Fe(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},l}function La(a,l,h,m){return a.baseState=h,fc(a,Me,typeof m=="function"?m:Dr)}function J0(a,l,h,m,w){if(ym(a))throw Error(n(485));if(a=l.action,a!==null){var N={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){N.listeners.push(z)}};U.T!==null?h(!0):N.isTransition=!1,m(N),h=l.pending,h===null?(N.next=l.pending=N,hm(l,N)):(N.next=h.next,l.pending=h.next=N)}}function hm(a,l){var h=l.action,m=l.payload,w=a.state;if(l.isTransition){var N=U.T,z={};U.T=z;try{var Q=h(w,m),ft=U.S;ft!==null&&ft(z,Q),dm(a,l,Q)}catch(Rt){mc(a,l,Rt)}finally{U.T=N}}else try{N=h(w,m),dm(a,l,N)}catch(Rt){mc(a,l,Rt)}}function dm(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){mf(a,l,m)},function(m){return mc(a,l,m)}):mf(a,l,h)}function mf(a,l,h){l.status="fulfilled",l.value=h,gf(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,hm(a,h)))}function mc(a,l,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,gf(l),l=l.next;while(l!==m)}a.action=null}function gf(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function vf(a,l){return l}function Mu(a,l){if(bn){var h=Yn.formState;if(h!==null){t:{var m=we;if(bn){if(ni){e:{for(var w=ni,N=Ks;w.nodeType!==8;){if(!N){w=null;break e}if(w=ka(w.nextSibling),w===null){w=null;break e}}N=w.data,w=N==="F!"||N==="F"?w:null}if(w){ni=ka(w.nextSibling),m=w.data==="F!";break t}}yl(m)}m=!1}m&&(l=h[0])}}return h=wr(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:l},h.queue=m,h=C2.bind(null,we,m),m.dispatch=h,m=Lu(!1),N=tv.bind(null,we,!1,m.queue),m=wr(),w={state:l,dispatch:null,action:a,pending:null},m.queue=w,h=J0.bind(null,we,w,N,h),w.dispatch=h,m.memoizedState=a,[l,h,!1]}function Vh(a){var l=Qn();return gc(l,Me,a)}function gc(a,l,h){if(l=fc(a,l,vf)[0],a=Cu(Dr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Co(l)}catch(z){throw z===W?X:z}else m=l;l=Qn();var w=l.queue,N=w.dispatch;return h!==l.memoizedState&&(we.flags|=2048,Ma(9,Pu(),fm.bind(null,w,h),null)),[m,N,a]}function fm(a,l){a.action=l}function pm(a){var l=Qn(),h=Me;if(h!==null)return gc(l,h,a);Qn(),l=l.memoizedState,h=Qn();var m=h.queue.dispatch;return h.memoizedState=a,[l,m,!1]}function Ma(a,l,h,m){return a={tag:a,create:h,deps:m,inst:l,next:null},l=we.updateQueue,l===null&&(l=Al(),we.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,l.lastEffect=a),a}function Pu(){return{destroy:void 0,resource:void 0}}function Gh(){return Qn().memoizedState}function Ts(a,l,h,m){var w=wr();m=m===void 0?null:m,we.flags|=a,w.memoizedState=Ma(1|l,Pu(),h,m)}function vc(a,l,h,m){var w=Qn();m=m===void 0?null:m;var N=w.memoizedState.inst;Me!==null&&m!==null&&bi(m,Me.memoizedState.deps)?w.memoizedState=Ma(l,N,h,m):(we.flags|=a,w.memoizedState=Ma(1|l,N,h,m))}function bf(a,l){Ts(8390656,8,a,l)}function mm(a,l){vc(2048,8,a,l)}function yf(a,l){return vc(4,2,a,l)}function Sl(a,l){return vc(4,4,a,l)}function gm(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wf(a,l,h){h=h!=null?h.concat([a]):null,vc(4,4,gm.bind(null,l,a),h)}function xf(){}function Af(a,l){var h=Qn();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&bi(l,m[1])?m[0]:(h.memoizedState=[a,l],a)}function vm(a,l){var h=Qn();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&bi(l,m[1]))return m[0];if(m=a(),_i){Fe(!0);try{a()}finally{Fe(!1)}}return h.memoizedState=[m,l],m}function El(a,l,h){return h===void 0||(Rn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=Sw(),we.lanes|=a,Ec|=a,h)}function $h(a,l,h,m){return Ii(h,l)?h:$e.current!==null?(a=El(a,h,m),Ii(a,l)||(lr=!0),a):(Rn&42)===0?(lr=!0,a.memoizedState=h):(a=Sw(),we.lanes|=a,Ec|=a,l)}function Du(a,l,h,m,w){var N=Z.p;Z.p=N!==0&&8>N?N:8;var z=U.T,Q={};U.T=Q,tv(a,!1,l,h);try{var ft=w(),Rt=U.S;if(Rt!==null&&Rt(Q,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Ft=lm(ft,m);Nf(a,l,Ft,Ds(a))}else Nf(a,l,m,Ds(a))}catch(Gt){Nf(a,l,{then:function(){},status:"rejected",reason:Gt},Ds())}finally{Z.p=N,U.T=z}}function Pa(){}function ta(a,l,h,m){if(a.tag!==5)throw Error(n(476));var w=Da(a).queue;Du(a,w,l,J,h===null?Pa:function(){return Ou(a),h(m)})}function Da(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:J},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Ou(a){var l=Da(a).next.queue;Nf(a,l,{},Ds())}function ku(){return Si(Vf)}function Sf(){return Qn().memoizedState}function bm(){return Qn().memoizedState}function Ef(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ds();a=It(h);var m=qt(l,a,h);m!==null&&(Os(m,l,h),Bt(m,l,h)),l={cache:ff()},a.payload=l;return}l=l.return}}function _f(a,l,h){var m=Ds();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ym(a)?R2(l,h):(h=wo(a,l,h,m),h!==null&&(Os(h,a,m),T2(h,l,m)))}function C2(a,l,h){var m=Ds();Nf(a,l,h,m)}function Nf(a,l,h,m){var w={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ym(a))R2(l,w);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var z=l.lastRenderedState,Q=N(z,h);if(w.hasEagerState=!0,w.eagerState=Q,Ii(Q,z))return yo(a,l,w,0),Yn===null&&ss(),!1}catch{}finally{}if(h=wo(a,l,w,m),h!==null)return Os(h,a,m),T2(h,l,m),!0}return!1}function tv(a,l,h,m){if(m={lane:2,revertLane:Pv(),action:m,hasEagerState:!1,eagerState:null,next:null},ym(a)){if(l)throw Error(n(479))}else l=wo(a,h,m,2),l!==null&&Os(l,a,2)}function ym(a){var l=a.alternate;return a===we||l!==null&&l===we}function R2(a,l){zi=pn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function T2(a,l,h){if((h&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,xe(a,h)}}var wm={readContext:Si,use:Pr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},L2={readContext:Si,use:Pr,useCallback:function(a,l){return wr().memoizedState=[a,l===void 0?null:l],a},useContext:Si,useEffect:bf,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,Ts(4194308,4,gm.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Ts(4194308,4,a,l)},useInsertionEffect:function(a,l){Ts(4,2,a,l)},useMemo:function(a,l){var h=wr();l=l===void 0?null:l;var m=a();if(_i){Fe(!0);try{a()}finally{Fe(!1)}}return h.memoizedState=[m,l],m},useReducer:function(a,l,h){var m=wr();if(h!==void 0){var w=h(l);if(_i){Fe(!0);try{h(l)}finally{Fe(!1)}}}else w=l;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=_f.bind(null,we,a),[m.memoizedState,a]},useRef:function(a){var l=wr();return a={current:a},l.memoizedState=a},useState:function(a){a=Lu(a);var l=a.queue,h=C2.bind(null,we,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:xf,useDeferredValue:function(a,l){var h=wr();return El(h,a,l)},useTransition:function(){var a=Lu(!1);return a=Du.bind(null,we,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var m=we,w=wr();if(bn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Yn===null)throw Error(n(349));(mn&124)!==0||qh(m,l,h)}w.memoizedState=h;var N={value:h,getSnapshot:l};return w.queue=N,bf(pc.bind(null,m,N,a),[a]),m.flags|=2048,Ma(9,Pu(),Tu.bind(null,m,N,h,l),null),h},useId:function(){var a=wr(),l=Yn.identifierPrefix;if(bn){var h=Na,m=_a;h=(m&~(1<<32-le(m)-1)).toString(32)+h,l=""+l+"R"+h,h=di++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=ls++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:ku,useFormState:Mu,useActionState:Mu,useOptimistic:function(a){var l=wr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=tv.bind(null,we,!0,h),h.dispatch=l,[a,l]},useMemoCache:Ro,useCacheRefresh:function(){return wr().memoizedState=Ef.bind(null,we)}},M2={readContext:Si,use:Pr,useCallback:Af,useContext:Si,useEffect:mm,useImperativeHandle:wf,useInsertionEffect:yf,useLayoutEffect:Sl,useMemo:vm,useReducer:Cu,useRef:Gh,useState:function(){return Cu(Dr)},useDebugValue:xf,useDeferredValue:function(a,l){var h=Qn();return $h(h,Me.memoizedState,a,l)},useTransition:function(){var a=Cu(Dr)[0],l=Qn().memoizedState;return[typeof a=="boolean"?a:Co(a),l]},useSyncExternalStore:Ru,useId:Sf,useHostTransitionStatus:ku,useFormState:Vh,useActionState:Vh,useOptimistic:function(a,l){var h=Qn();return La(h,Me,a,l)},useMemoCache:Ro,useCacheRefresh:bm},z3={readContext:Si,use:Pr,useCallback:Af,useContext:Si,useEffect:mm,useImperativeHandle:wf,useInsertionEffect:yf,useLayoutEffect:Sl,useMemo:vm,useReducer:Hh,useRef:Gh,useState:function(){return Hh(Dr)},useDebugValue:xf,useDeferredValue:function(a,l){var h=Qn();return Me===null?El(h,a,l):$h(h,Me.memoizedState,a,l)},useTransition:function(){var a=Hh(Dr)[0],l=Qn().memoizedState;return[typeof a=="boolean"?a:Co(a),l]},useSyncExternalStore:Ru,useId:Sf,useHostTransitionStatus:ku,useFormState:pm,useActionState:pm,useOptimistic:function(a,l){var h=Qn();return Me!==null?La(h,Me,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:bm},Wh=null,Cf=0;function xm(a){var l=Cf;return Cf+=1,Wh===null&&(Wh=[]),Ct(Wh,a,l)}function Rf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Am(a,l){throw l.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function P2(a){var l=a._init;return l(a._payload)}function D2(a){function l(St,yt){if(a){var Nt=St.deletions;Nt===null?(St.deletions=[yt],St.flags|=16):Nt.push(yt)}}function h(St,yt){if(!a)return null;for(;yt!==null;)l(St,yt),yt=yt.sibling;return null}function m(St){for(var yt=new Map;St!==null;)St.key!==null?yt.set(St.key,St):yt.set(St.index,St),St=St.sibling;return yt}function w(St,yt){return St=Xs(St,yt),St.index=0,St.sibling=null,St}function N(St,yt,Nt){return St.index=Nt,a?(Nt=St.alternate,Nt!==null?(Nt=Nt.index,Nt<yt?(St.flags|=67108866,yt):Nt):(St.flags|=67108866,yt)):(St.flags|=1048576,yt)}function z(St){return a&&St.alternate===null&&(St.flags|=67108866),St}function Q(St,yt,Nt,Ut){return yt===null||yt.tag!==6?(yt=kh(Nt,St.mode,Ut),yt.return=St,yt):(yt=w(yt,Nt),yt.return=St,yt)}function ft(St,yt,Nt,Ut){var he=Nt.type;return he===x?Ft(St,yt,Nt.props.children,Ut,Nt.key):yt!==null&&(yt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===j&&P2(he)===yt.type)?(yt=w(yt,Nt.props),Rf(yt,Nt),yt.return=St,yt):(yt=gl(Nt.type,Nt.key,Nt.props,null,St.mode,Ut),Rf(yt,Nt),yt.return=St,yt)}function Rt(St,yt,Nt,Ut){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Nt.containerInfo||yt.stateNode.implementation!==Nt.implementation?(yt=xu(Nt,St.mode,Ut),yt.return=St,yt):(yt=w(yt,Nt.children||[]),yt.return=St,yt)}function Ft(St,yt,Nt,Ut,he){return yt===null||yt.tag!==7?(yt=Sa(Nt,St.mode,Ut,he),yt.return=St,yt):(yt=w(yt,Nt),yt.return=St,yt)}function Gt(St,yt,Nt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=kh(""+yt,St.mode,Nt),yt.return=St,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case g:return Nt=gl(yt.type,yt.key,yt.props,null,St.mode,Nt),Rf(Nt,yt),Nt.return=St,Nt;case v:return yt=xu(yt,St.mode,Nt),yt.return=St,yt;case j:var Ut=yt._init;return yt=Ut(yt._payload),Gt(St,yt,Nt)}if(ht(yt)||G(yt))return yt=Sa(yt,St.mode,Nt,null),yt.return=St,yt;if(typeof yt.then=="function")return Gt(St,xm(yt),Nt);if(yt.$$typeof===L)return Gt(St,Eo(St,yt),Nt);Am(St,yt)}return null}function Mt(St,yt,Nt,Ut){var he=yt!==null?yt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return he!==null?null:Q(St,yt,""+Nt,Ut);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case g:return Nt.key===he?ft(St,yt,Nt,Ut):null;case v:return Nt.key===he?Rt(St,yt,Nt,Ut):null;case j:return he=Nt._init,Nt=he(Nt._payload),Mt(St,yt,Nt,Ut)}if(ht(Nt)||G(Nt))return he!==null?null:Ft(St,yt,Nt,Ut,null);if(typeof Nt.then=="function")return Mt(St,yt,xm(Nt),Ut);if(Nt.$$typeof===L)return Mt(St,yt,Eo(St,Nt),Ut);Am(St,Nt)}return null}function Pt(St,yt,Nt,Ut,he){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return St=St.get(Nt)||null,Q(yt,St,""+Ut,he);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case g:return St=St.get(Ut.key===null?Nt:Ut.key)||null,ft(yt,St,Ut,he);case v:return St=St.get(Ut.key===null?Nt:Ut.key)||null,Rt(yt,St,Ut,he);case j:var Ze=Ut._init;return Ut=Ze(Ut._payload),Pt(St,yt,Nt,Ut,he)}if(ht(Ut)||G(Ut))return St=St.get(Nt)||null,Ft(yt,St,Ut,he,null);if(typeof Ut.then=="function")return Pt(St,yt,Nt,xm(Ut),he);if(Ut.$$typeof===L)return Pt(St,yt,Nt,Eo(yt,Ut),he);Am(yt,Ut)}return null}function Oe(St,yt,Nt,Ut){for(var he=null,Ze=null,ve=yt,Te=yt=0,ur=null;ve!==null&&Te<Nt.length;Te++){ve.index>Te?(ur=ve,ve=null):ur=ve.sibling;var Sn=Mt(St,ve,Nt[Te],Ut);if(Sn===null){ve===null&&(ve=ur);break}a&&ve&&Sn.alternate===null&&l(St,ve),yt=N(Sn,yt,Te),Ze===null?he=Sn:Ze.sibling=Sn,Ze=Sn,ve=ur}if(Te===Nt.length)return h(St,ve),bn&&bl(St,Te),he;if(ve===null){for(;Te<Nt.length;Te++)ve=Gt(St,Nt[Te],Ut),ve!==null&&(yt=N(ve,yt,Te),Ze===null?he=ve:Ze.sibling=ve,Ze=ve);return bn&&bl(St,Te),he}for(ve=m(ve);Te<Nt.length;Te++)ur=Pt(ve,St,Te,Nt[Te],Ut),ur!==null&&(a&&ur.alternate!==null&&ve.delete(ur.key===null?Te:ur.key),yt=N(ur,yt,Te),Ze===null?he=ur:Ze.sibling=ur,Ze=ur);return a&&ve.forEach(function(Dc){return l(St,Dc)}),bn&&bl(St,Te),he}function Ee(St,yt,Nt,Ut){if(Nt==null)throw Error(n(151));for(var he=null,Ze=null,ve=yt,Te=yt=0,ur=null,Sn=Nt.next();ve!==null&&!Sn.done;Te++,Sn=Nt.next()){ve.index>Te?(ur=ve,ve=null):ur=ve.sibling;var Dc=Mt(St,ve,Sn.value,Ut);if(Dc===null){ve===null&&(ve=ur);break}a&&ve&&Dc.alternate===null&&l(St,ve),yt=N(Dc,yt,Te),Ze===null?he=Dc:Ze.sibling=Dc,Ze=Dc,ve=ur}if(Sn.done)return h(St,ve),bn&&bl(St,Te),he;if(ve===null){for(;!Sn.done;Te++,Sn=Nt.next())Sn=Gt(St,Sn.value,Ut),Sn!==null&&(yt=N(Sn,yt,Te),Ze===null?he=Sn:Ze.sibling=Sn,Ze=Sn);return bn&&bl(St,Te),he}for(ve=m(ve);!Sn.done;Te++,Sn=Nt.next())Sn=Pt(ve,St,Te,Sn.value,Ut),Sn!==null&&(a&&Sn.alternate!==null&&ve.delete(Sn.key===null?Te:Sn.key),yt=N(Sn,yt,Te),Ze===null?he=Sn:Ze.sibling=Sn,Ze=Sn);return a&&ve.forEach(function(U4){return l(St,U4)}),bn&&bl(St,Te),he}function kn(St,yt,Nt,Ut){if(typeof Nt=="object"&&Nt!==null&&Nt.type===x&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case g:t:{for(var he=Nt.key;yt!==null;){if(yt.key===he){if(he=Nt.type,he===x){if(yt.tag===7){h(St,yt.sibling),Ut=w(yt,Nt.props.children),Ut.return=St,St=Ut;break t}}else if(yt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===j&&P2(he)===yt.type){h(St,yt.sibling),Ut=w(yt,Nt.props),Rf(Ut,Nt),Ut.return=St,St=Ut;break t}h(St,yt);break}else l(St,yt);yt=yt.sibling}Nt.type===x?(Ut=Sa(Nt.props.children,St.mode,Ut,Nt.key),Ut.return=St,St=Ut):(Ut=gl(Nt.type,Nt.key,Nt.props,null,St.mode,Ut),Rf(Ut,Nt),Ut.return=St,St=Ut)}return z(St);case v:t:{for(he=Nt.key;yt!==null;){if(yt.key===he)if(yt.tag===4&&yt.stateNode.containerInfo===Nt.containerInfo&&yt.stateNode.implementation===Nt.implementation){h(St,yt.sibling),Ut=w(yt,Nt.children||[]),Ut.return=St,St=Ut;break t}else{h(St,yt);break}else l(St,yt);yt=yt.sibling}Ut=xu(Nt,St.mode,Ut),Ut.return=St,St=Ut}return z(St);case j:return he=Nt._init,Nt=he(Nt._payload),kn(St,yt,Nt,Ut)}if(ht(Nt))return Oe(St,yt,Nt,Ut);if(G(Nt)){if(he=G(Nt),typeof he!="function")throw Error(n(150));return Nt=he.call(Nt),Ee(St,yt,Nt,Ut)}if(typeof Nt.then=="function")return kn(St,yt,xm(Nt),Ut);if(Nt.$$typeof===L)return kn(St,yt,Eo(St,Nt),Ut);Am(St,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,yt!==null&&yt.tag===6?(h(St,yt.sibling),Ut=w(yt,Nt),Ut.return=St,St=Ut):(h(St,yt),Ut=kh(Nt,St.mode,Ut),Ut.return=St,St=Ut),z(St)):h(St,yt)}return function(St,yt,Nt,Ut){try{Cf=0;var he=kn(St,yt,Nt,Ut);return Wh=null,he}catch(ve){if(ve===W||ve===X)throw ve;var Ze=or(29,ve,null,St.mode);return Ze.lanes=Ut,Ze.return=St,Ze}finally{}}}var Yh=D2(!0),O2=D2(!1),ea=dt(null),To=null;function bc(a){var l=a.alternate;V(Xi,Xi.current&1),V(ea,a),To===null&&(l===null||$e.current!==null||l.memoizedState!==null)&&(To=a)}function k2(a){if(a.tag===22){if(V(Xi,Xi.current),V(ea,a),To===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(To=a)}}else yc()}function yc(){V(Xi,Xi.current),V(ea,ea.current)}function _l(a){F(ea),To===a&&(To=null),F(Xi)}var Xi=dt(0);function Sm(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Vv(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ev(a,l,h,m){l=a.memoizedState,h=h(m,l),h=h==null?l:f({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var nv={enqueueSetState:function(a,l,h){a=a._reactInternals;var m=Ds(),w=It(m);w.payload=l,h!=null&&(w.callback=h),l=qt(a,w,m),l!==null&&(Os(l,a,m),Bt(l,a,m))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var m=Ds(),w=It(m);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=qt(a,w,m),l!==null&&(Os(l,a,m),Bt(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Ds(),m=It(h);m.tag=2,l!=null&&(m.callback=l),l=qt(a,m,h),l!==null&&(Os(l,a,h),Bt(l,a,h))}};function j2(a,l,h,m,w,N,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,N,z):l.prototype&&l.prototype.isPureReactComponent?!ho(h,m)||!ho(w,N):!0}function I2(a,l,h,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==a&&nv.enqueueReplaceState(l,l.state,null)}function ju(a,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(a=a.defaultProps){h===l&&(h=f({},h));for(var w in a)h[w]===void 0&&(h[w]=a[w])}return h}var Em=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function F2(a){Em(a)}function B2(a){console.error(a)}function z2(a){Em(a)}function _m(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function U2(a,l,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function iv(a,l,h){return h=It(h),h.tag=3,h.payload={element:null},h.callback=function(){_m(a,l)},h}function H2(a){return a=It(a),a.tag=3,a}function q2(a,l,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var N=m.value;a.payload=function(){return w(N)},a.callback=function(){U2(l,h,m)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){U2(l,h,m),typeof w!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function U3(a,l,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&dc(l,h,w,!0),h=ea.current,h!==null){switch(h.tag){case 13:return To===null?Cv():h.alternate===null&&yi===0&&(yi=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===et?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),Tv(a,m,w)),!1;case 22:return h.flags|=65536,m===et?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),Tv(a,m,w)),!1}throw Error(n(435,h.tag))}return Tv(a,m,w),Cv(),!1}if(bn)return l=ea.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==df&&(a=Error(n(422),{cause:m}),hc(Ye(a,h)))):(m!==df&&(l=Error(n(423),{cause:m}),hc(Ye(l,h))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=Ye(m,h),w=iv(a.stateNode,m,w),re(a,w),yi!==4&&(yi=2)),!1;var N=Error(n(520),{cause:m});if(N=Ye(N,h),kf===null?kf=[N]:kf.push(N),yi!==4&&(yi=2),l===null)return!0;m=Ye(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=w&-w,h.lanes|=a,a=iv(h.stateNode,m,a),re(h,a),!1;case 1:if(l=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_c===null||!_c.has(N))))return h.flags|=65536,w&=-w,h.lanes|=w,w=H2(w),q2(w,a,h,m),re(h,w),!1}h=h.return}while(h!==null);return!1}var V2=Error(n(461)),lr=!1;function xr(a,l,h,m){l.child=a===null?O2(l,null,h,m):Yh(l,a.child,h,m)}function G2(a,l,h,m,w){h=h.render;var N=l.ref;if("ref"in m){var z={};for(var Q in m)Q!=="ref"&&(z[Q]=m[Q])}else z=m;return Js(l),m=Rs(a,l,h,z,N,w),Q=Wn(),a!==null&&!lr?(Nu(a,l,w),Nl(a,l,w)):(bn&&Q&&Au(l),l.flags|=1,xr(a,l,m,w),l.child)}function $2(a,l,h,m,w){if(a===null){var N=h.type;return typeof N=="function"&&!cc(N)&&N.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=N,W2(a,l,N,m,w)):(a=gl(h.type,null,m,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(N=a.child,!hv(a,w)){var z=N.memoizedProps;if(h=h.compare,h=h!==null?h:ho,h(z,m)&&a.ref===l.ref)return Nl(a,l,w)}return l.flags|=1,a=Xs(N,m),a.ref=l.ref,a.return=l,l.child=a}function W2(a,l,h,m,w){if(a!==null){var N=a.memoizedProps;if(ho(N,m)&&a.ref===l.ref)if(lr=!1,l.pendingProps=m=N,hv(a,w))(a.flags&131072)!==0&&(lr=!0);else return l.lanes=a.lanes,Nl(a,l,w)}return rv(a,l,h,m,w)}function Y2(a,l,h){var m=l.pendingProps,w=m.children,N=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=N!==null?N.baseLanes|h:h,a!==null){for(w=l.child=a.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;l.childLanes=N&~m}else l.childLanes=0,l.child=null;return X2(a,l,m,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&P(l,N!==null?N.cachePool:null),N!==null?Nn(l,N):xn(),k2(l);else return l.lanes=l.childLanes=536870912,X2(a,l,N!==null?N.baseLanes|h:h,h)}else N!==null?(P(l,N.cachePool),Nn(l,N),yc(),l.memoizedState=null):(a!==null&&P(l,null),xn(),yc());return xr(a,l,w,h),l.child}function X2(a,l,h,m){var w=R();return w=w===null?null:{parent:Ei._currentValue,pool:w},l.memoizedState={baseLanes:h,cachePool:w},a!==null&&P(l,null),xn(),k2(l),a!==null&&dc(a,l,m,!0),null}function Nm(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function rv(a,l,h,m,w){return Js(l),h=Rs(a,l,h,m,void 0,w),m=Wn(),a!==null&&!lr?(Nu(a,l,w),Nl(a,l,w)):(bn&&m&&Au(l),l.flags|=1,xr(a,l,h,w),l.child)}function K2(a,l,h,m,w,N){return Js(l),l.updateQueue=null,h=xl(l,m,h,w),_o(a),m=Wn(),a!==null&&!lr?(Nu(a,l,N),Nl(a,l,N)):(bn&&m&&Au(l),l.flags|=1,xr(a,l,h,N),l.child)}function Q2(a,l,h,m,w){if(Js(l),l.stateNode===null){var N=Fi,z=h.contextType;typeof z=="object"&&z!==null&&(N=Si(z)),N=new h(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=nv,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},bt(l),z=h.contextType,N.context=typeof z=="object"&&z!==null?Si(z):Fi,N.state=l.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(ev(l,h,z,m),N.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(z=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),z!==N.state&&nv.enqueueReplaceState(N,N.state,null),ee(l,m,N,w),ge(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){N=l.stateNode;var Q=l.memoizedProps,ft=ju(h,Q);N.props=ft;var Rt=N.context,Ft=h.contextType;z=Fi,typeof Ft=="object"&&Ft!==null&&(z=Si(Ft));var Gt=h.getDerivedStateFromProps;Ft=typeof Gt=="function"||typeof N.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,Ft||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q||Rt!==z)&&I2(l,N,m,z),Dt=!1;var Mt=l.memoizedState;N.state=Mt,ee(l,m,N,w),ge(),Rt=l.memoizedState,Q||Mt!==Rt||Dt?(typeof Gt=="function"&&(ev(l,h,Gt,m),Rt=l.memoizedState),(ft=Dt||j2(l,h,ft,m,Mt,Rt,z))?(Ft||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Rt),N.props=m,N.state=Rt,N.context=z,m=ft):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,wt(a,l),z=l.memoizedProps,Ft=ju(h,z),N.props=Ft,Gt=l.pendingProps,Mt=N.context,Rt=h.contextType,ft=Fi,typeof Rt=="object"&&Rt!==null&&(ft=Si(Rt)),Q=h.getDerivedStateFromProps,(Rt=typeof Q=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z!==Gt||Mt!==ft)&&I2(l,N,m,ft),Dt=!1,Mt=l.memoizedState,N.state=Mt,ee(l,m,N,w),ge();var Pt=l.memoizedState;z!==Gt||Mt!==Pt||Dt||a!==null&&a.dependencies!==null&&Bh(a.dependencies)?(typeof Q=="function"&&(ev(l,h,Q,m),Pt=l.memoizedState),(Ft=Dt||j2(l,h,Ft,m,Mt,Pt,ft)||a!==null&&a.dependencies!==null&&Bh(a.dependencies))?(Rt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Pt,ft),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Pt,ft)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||z===a.memoizedProps&&Mt===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Mt===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Pt),N.props=m,N.state=Pt,N.context=ft,m=Ft):(typeof N.componentDidUpdate!="function"||z===a.memoizedProps&&Mt===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Mt===a.memoizedState||(l.flags|=1024),m=!1)}return N=m,Nm(a,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,a!==null&&m?(l.child=Yh(l,a.child,null,w),l.child=Yh(l,null,h,w)):xr(a,l,h,w),l.memoizedState=N.state,a=l.child):a=Nl(a,l,w),a}function Z2(a,l,h,m){return Qr(),l.flags|=256,xr(a,l,h,m),l.child}var sv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(a){return{baseLanes:a,cachePool:H()}}function ov(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=na),a}function J2(a,l,h){var m=l.pendingProps,w=!1,N=(l.flags&128)!==0,z;if((z=N)||(z=a!==null&&a.memoizedState===null?!1:(Xi.current&2)!==0),z&&(w=!0,l.flags&=-129),z=(l.flags&32)!==0,l.flags&=-33,a===null){if(bn){if(w?bc(l):yc(),bn){var Q=ni,ft;if(ft=Q){t:{for(ft=Q,Q=Ks;ft.nodeType!==8;){if(!Q){Q=null;break t}if(ft=ka(ft.nextSibling),ft===null){Q=null;break t}}Q=ft}Q!==null?(l.memoizedState={dehydrated:Q,treeContext:vl!==null?{id:_a,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},ft=or(18,null,null,0),ft.stateNode=Q,ft.return=l,l.child=ft,Ai=l,ni=null,ft=!0):ft=!1}ft||yl(l)}if(Q=l.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Vv(Q)?l.lanes=32:l.lanes=536870912,null;_l(l)}return Q=m.children,m=m.fallback,w?(yc(),w=l.mode,Q=Cm({mode:"hidden",children:Q},w),m=Sa(m,w,h,null),Q.return=l,m.return=l,Q.sibling=m,l.child=Q,w=l.child,w.memoizedState=av(h),w.childLanes=ov(a,z,h),l.memoizedState=sv,m):(bc(l),lv(l,Q))}if(ft=a.memoizedState,ft!==null&&(Q=ft.dehydrated,Q!==null)){if(N)l.flags&256?(bc(l),l.flags&=-257,l=cv(a,l,h)):l.memoizedState!==null?(yc(),l.child=a.child,l.flags|=128,l=null):(yc(),w=m.fallback,Q=l.mode,m=Cm({mode:"visible",children:m.children},Q),w=Sa(w,Q,h,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,Yh(l,a.child,null,h),m=l.child,m.memoizedState=av(h),m.childLanes=ov(a,z,h),l.memoizedState=sv,l=w);else if(bc(l),Vv(Q)){if(z=Q.nextSibling&&Q.nextSibling.dataset,z)var Rt=z.dgst;z=Rt,m=Error(n(419)),m.stack="",m.digest=z,hc({value:m,source:null,stack:null}),l=cv(a,l,h)}else if(lr||dc(a,l,h,!1),z=(h&a.childLanes)!==0,lr||z){if(z=Yn,z!==null&&(m=h&-h,m=(m&42)!==0?1:Pn(m),m=(m&(z.suspendedLanes|h))!==0?0:m,m!==0&&m!==ft.retryLane))throw ft.retryLane=m,Aa(a,m),Os(z,a,m),V2;Q.data==="$?"||Cv(),l=cv(a,l,h)}else Q.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ft.treeContext,ni=ka(Q.nextSibling),Ai=l,bn=!0,Ao=null,Ks=!1,a!==null&&(os[Kr++]=_a,os[Kr++]=Na,os[Kr++]=vl,_a=a.id,Na=a.overflow,vl=l),l=lv(l,m.children),l.flags|=4096);return l}return w?(yc(),w=m.fallback,Q=l.mode,ft=a.child,Rt=ft.sibling,m=Xs(ft,{mode:"hidden",children:m.children}),m.subtreeFlags=ft.subtreeFlags&65011712,Rt!==null?w=Xs(Rt,w):(w=Sa(w,Q,h,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,Q=a.child.memoizedState,Q===null?Q=av(h):(ft=Q.cachePool,ft!==null?(Rt=Ei._currentValue,ft=ft.parent!==Rt?{parent:Rt,pool:Rt}:ft):ft=H(),Q={baseLanes:Q.baseLanes|h,cachePool:ft}),w.memoizedState=Q,w.childLanes=ov(a,z,h),l.memoizedState=sv,m):(bc(l),h=a.child,a=h.sibling,h=Xs(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,a!==null&&(z=l.deletions,z===null?(l.deletions=[a],l.flags|=16):z.push(a)),l.child=h,l.memoizedState=null,h)}function lv(a,l){return l=Cm({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Cm(a,l){return a=or(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function cv(a,l,h){return Yh(l,a.child,null,h),a=lv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function tw(a,l,h){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Ih(a.return,l,h)}function uv(a,l,h,m,w){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=h,N.tailMode=w)}function ew(a,l,h){var m=l.pendingProps,w=m.revealOrder,N=m.tail;if(xr(a,l,m.children,h),m=Xi.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&tw(a,h,l);else if(a.tag===19)tw(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(V(Xi,m),w){case"forwards":for(h=l.child,w=null;h!==null;)a=h.alternate,a!==null&&Sm(a)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),uv(l,!1,w,h,N);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&Sm(a)===null){l.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}uv(l,!0,h,null,N);break;case"together":uv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Nl(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Ec|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(dc(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Xs(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Xs(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function hv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Bh(a)))}function H3(a,l,h){switch(l.tag){case 3:mt(l,l.stateNode.containerInfo),So(l,Ei,a.memoizedState.cache),Qr();break;case 27:case 5:Tt(l);break;case 4:mt(l,l.stateNode.containerInfo);break;case 10:So(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(bc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?J2(a,l,h):(bc(l),a=Nl(a,l,h),a!==null?a.sibling:null);bc(l);break;case 19:var w=(a.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(dc(a,l,h,!1),m=(h&l.childLanes)!==0),w){if(m)return ew(a,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),V(Xi,Xi.current),m)break;return null;case 22:case 23:return l.lanes=0,Y2(a,l,h);case 24:So(l,Ei,a.memoizedState.cache)}return Nl(a,l,h)}function nw(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)lr=!0;else{if(!hv(a,h)&&(l.flags&128)===0)return lr=!1,H3(a,l,h);lr=(a.flags&131072)!==0}else lr=!1,bn&&(l.flags&1048576)!==0&&im(l,jh,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var m=l.elementType,w=m._init;if(m=w(m._payload),l.type=m,typeof m=="function")cc(m)?(a=ju(m,a),l.tag=1,l=Q2(null,l,m,a,h)):(l.tag=0,l=rv(null,l,m,a,h));else{if(m!=null){if(w=m.$$typeof,w===O){l.tag=11,l=G2(null,l,m,a,h);break t}else if(w===k){l.tag=14,l=$2(null,l,m,a,h);break t}}throw l=nt(m)||m,Error(n(306,l,""))}}return l;case 0:return rv(a,l,l.type,l.pendingProps,h);case 1:return m=l.type,w=ju(m,l.pendingProps),Q2(a,l,m,w,h);case 3:t:{if(mt(l,l.stateNode.containerInfo),a===null)throw Error(n(387));m=l.pendingProps;var N=l.memoizedState;w=N.element,wt(a,l),ee(l,m,null,h);var z=l.memoizedState;if(m=z.cache,So(l,Ei,m),m!==N.cache&&Fh(l,[Ei],h,!0),ge(),m=z.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:z.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Z2(a,l,m,h);break t}else if(m!==w){w=Ye(Error(n(424)),l),hc(w),l=Z2(a,l,m,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ni=ka(a.firstChild),Ai=l,bn=!0,Ao=null,Ks=!0,h=O2(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Qr(),m===w){l=Nl(a,l,h);break t}xr(a,l,m,h)}l=l.child}return l;case 26:return Nm(a,l),a===null?(h=a5(l.type,null,l.pendingProps,null))?l.memoizedState=h:bn||(h=l.type,a=l.pendingProps,m=Um(ot.current).createElement(h),m[gn]=l,m[tn]=a,Sr(m,h,a),Cn(m),l.stateNode=m):l.memoizedState=a5(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Tt(l),a===null&&bn&&(m=l.stateNode=i5(l.type,l.pendingProps,ot.current),Ai=l,Ks=!0,w=ni,Rc(l.type)?(Gv=w,ni=ka(m.firstChild)):ni=w),xr(a,l,l.pendingProps.children,h),Nm(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&bn&&((w=m=ni)&&(m=g4(m,l.type,l.pendingProps,Ks),m!==null?(l.stateNode=m,Ai=l,ni=ka(m.firstChild),Ks=!1,w=!0):w=!1),w||yl(l)),Tt(l),w=l.type,N=l.pendingProps,z=a!==null?a.memoizedProps:null,m=N.children,Uv(w,N)?m=null:z!==null&&Uv(w,z)&&(l.flags|=32),l.memoizedState!==null&&(w=Rs(a,l,No,null,null,h),Vf._currentValue=w),Nm(a,l),xr(a,l,m,h),l.child;case 6:return a===null&&bn&&((a=h=ni)&&(h=v4(h,l.pendingProps,Ks),h!==null?(l.stateNode=h,Ai=l,ni=null,a=!0):a=!1),a||yl(l)),null;case 13:return J2(a,l,h);case 4:return mt(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Yh(l,null,m,h):xr(a,l,m,h),l.child;case 11:return G2(a,l,l.type,l.pendingProps,h);case 7:return xr(a,l,l.pendingProps,h),l.child;case 8:return xr(a,l,l.pendingProps.children,h),l.child;case 12:return xr(a,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,So(l,l.type,m.value),xr(a,l,m.children,h),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Js(l),w=Si(w),m=m(w),l.flags|=1,xr(a,l,m,h),l.child;case 14:return $2(a,l,l.type,l.pendingProps,h);case 15:return W2(a,l,l.type,l.pendingProps,h);case 19:return ew(a,l,h);case 31:return m=l.pendingProps,h=l.mode,m={mode:m.mode,children:m.children},a===null?(h=Cm(m,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Xs(a.child,m),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return Y2(a,l,h);case 24:return Js(l),m=Si(Ei),a===null?(w=R(),w===null&&(w=Yn,N=ff(),w.pooledCache=N,N.refCount++,N!==null&&(w.pooledCacheLanes|=h),w=N),l.memoizedState={parent:m,cache:w},bt(l),So(l,Ei,w)):((a.lanes&h)!==0&&(wt(a,l),ee(l,null,null,h),ge()),w=a.memoizedState,N=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),So(l,Ei,m)):(m=N.cache,So(l,Ei,m),m!==w.cache&&Fh(l,[Ei],h,!0))),xr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Cl(a){a.flags|=4}function iw(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!h5(l)){if(l=ea.current,l!==null&&((mn&4194048)===mn?To!==null:(mn&62914560)!==mn&&(mn&536870912)===0||l!==To))throw _t=et,Y;a.flags|=8192}}function Rm(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?In():536870912,a.lanes|=l,Zh|=l)}function Tf(a,l){if(!bn)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function pi(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(l)for(var w=a.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=h,l}function q3(a,l,h){var m=l.pendingProps;switch(Su(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(l),null;case 1:return pi(l),null;case 3:return h=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Zs(Ei),xt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(yr(l)?Cl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,sm())),pi(l),null;case 26:return h=l.memoizedState,a===null?(Cl(l),h!==null?(pi(l),iw(l,h)):(pi(l),l.flags&=-16777217)):h?h!==a.memoizedState?(Cl(l),pi(l),iw(l,h)):(pi(l),l.flags&=-16777217):(a.memoizedProps!==m&&Cl(l),pi(l),l.flags&=-16777217),null;case 27:Ot(l),h=ot.current;var w=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Cl(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return pi(l),null}a=tt.current,yr(l)?rm(l):(a=i5(w,m,h),l.stateNode=a,Cl(l))}return pi(l),null;case 5:if(Ot(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Cl(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return pi(l),null}if(a=tt.current,yr(l))rm(l);else{switch(w=Um(ot.current),a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?w.createElement(h,{is:m.is}):w.createElement(h)}}a[gn]=l,a[tn]=m;t:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break t;for(;w.sibling===null;){if(w.return===null||w.return===l)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=a;t:switch(Sr(a,h,m),h){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Cl(l)}}return pi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Cl(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(a=ot.current,yr(l)){if(a=l.stateNode,h=l.memoizedProps,m=null,w=Ai,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[gn]=l,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||Kw(a.nodeValue,h)),a||yl(l)}else a=Um(a).createTextNode(m),a[gn]=l,l.stateNode=a}return pi(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=yr(l),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[gn]=l}else Qr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pi(l),w=!1}else w=sm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(_l(l),l):(_l(l),null)}if(_l(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=m!==null,a=a!==null&&a.memoizedState!==null,h){m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==w&&(m.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),Rm(l,l.updateQueue),pi(l),null;case 4:return xt(),a===null&&jv(l.stateNode.containerInfo),pi(l),null;case 10:return Zs(l.type),pi(l),null;case 19:if(F(Xi),w=l.memoizedState,w===null)return pi(l),null;if(m=(l.flags&128)!==0,N=w.rendering,N===null)if(m)Tf(w,!1);else{if(yi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=Sm(a),N!==null){for(l.flags|=128,Tf(w,!1),a=N.updateQueue,l.updateQueue=a,Rm(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)wu(h,a),h=h.sibling;return V(Xi,Xi.current&1|2),l.child}a=a.sibling}w.tail!==null&&se()>Mm&&(l.flags|=128,m=!0,Tf(w,!1),l.lanes=4194304)}else{if(!m)if(a=Sm(N),a!==null){if(l.flags|=128,m=!0,a=a.updateQueue,l.updateQueue=a,Rm(l,a),Tf(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!bn)return pi(l),null}else 2*se()-w.renderingStartTime>Mm&&h!==536870912&&(l.flags|=128,m=!0,Tf(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(a=w.last,a!==null?a.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=se(),l.sibling=null,a=Xi.current,V(Xi,m?a&1|2:a&1),l):(pi(l),null);case 22:case 23:return _l(l),Ie(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(pi(l),l.subtreeFlags&6&&(l.flags|=8192)):pi(l),h=l.updateQueue,h!==null&&Rm(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),a!==null&&F(A),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Zs(Ei),pi(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function V3(a,l){switch(Su(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Zs(Ei),xt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ot(l),null;case 13:if(_l(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Qr()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return F(Xi),null;case 4:return xt(),null;case 10:return Zs(l.type),null;case 22:case 23:return _l(l),Ie(),a!==null&&F(A),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Zs(Ei),null;case 25:return null;default:return null}}function rw(a,l){switch(Su(l),l.tag){case 3:Zs(Ei),xt();break;case 26:case 27:case 5:Ot(l);break;case 4:xt();break;case 13:_l(l);break;case 19:F(Xi);break;case 10:Zs(l.type);break;case 22:case 23:_l(l),Ie(),a!==null&&F(A);break;case 24:Zs(Ei)}}function Lf(a,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&a)===a){m=void 0;var N=h.create,z=h.inst;m=N(),z.destroy=m}h=h.next}while(h!==w)}}catch(Q){zn(l,l.return,Q)}}function wc(a,l,h){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var N=w.next;m=N;do{if((m.tag&a)===a){var z=m.inst,Q=z.destroy;if(Q!==void 0){z.destroy=void 0,w=l;var ft=h,Rt=Q;try{Rt()}catch(Ft){zn(w,ft,Ft)}}}m=m.next}while(m!==N)}}catch(Ft){zn(l,l.return,Ft)}}function sw(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{wn(l,h)}catch(m){zn(a,a.return,m)}}}function aw(a,l,h){h.props=ju(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){zn(a,l,m)}}function Mf(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(w){zn(a,l,w)}}function Lo(a,l){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){zn(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){zn(a,l,w)}else h.current=null}function ow(a){var l=a.type,h=a.memoizedProps,m=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break t;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){zn(a,a.return,w)}}function dv(a,l,h){try{var m=a.stateNode;h4(m,a.type,h,l),m[tn]=l}catch(w){zn(a,a.return,w)}}function lw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Rc(a.type)||a.tag===4}function fv(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||lw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Rc(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pv(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=zm));else if(m!==4&&(m===27&&Rc(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(pv(a,l,h),a=a.sibling;a!==null;)pv(a,l,h),a=a.sibling}function Tm(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(m!==4&&(m===27&&Rc(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Tm(a,l,h),a=a.sibling;a!==null;)Tm(a,l,h),a=a.sibling}function cw(a){var l=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Sr(l,m,h),l[gn]=a,l[tn]=h}catch(N){zn(a,a.return,N)}}var Rl=!1,Ni=!1,mv=!1,uw=typeof WeakSet=="function"?WeakSet:Set,cr=null;function G3(a,l){if(a=a.containerInfo,Bv=Wm,a=br(a),Yi(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break t}var z=0,Q=-1,ft=-1,Rt=0,Ft=0,Gt=a,Mt=null;e:for(;;){for(var Pt;Gt!==h||w!==0&&Gt.nodeType!==3||(Q=z+w),Gt!==N||m!==0&&Gt.nodeType!==3||(ft=z+m),Gt.nodeType===3&&(z+=Gt.nodeValue.length),(Pt=Gt.firstChild)!==null;)Mt=Gt,Gt=Pt;for(;;){if(Gt===a)break e;if(Mt===h&&++Rt===w&&(Q=z),Mt===N&&++Ft===m&&(ft=z),(Pt=Gt.nextSibling)!==null)break;Gt=Mt,Mt=Gt.parentNode}Gt=Pt}h=Q===-1||ft===-1?null:{start:Q,end:ft}}else h=null}h=h||{start:0,end:0}}else h=null;for(zv={focusedElem:a,selectionRange:h},Wm=!1,cr=l;cr!==null;)if(l=cr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,cr=a;else for(;cr!==null;){switch(l=cr,N=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,h=l,w=N.memoizedProps,N=N.memoizedState,m=h.stateNode;try{var Oe=ju(h.type,w,h.elementType===h.type);a=m.getSnapshotBeforeUpdate(Oe,N),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ee){zn(h,h.return,Ee)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)qv(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,cr=a;break}cr=l.return}}function hw(a,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:xc(a,h),m&4&&Lf(5,h);break;case 1:if(xc(a,h),m&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(z){zn(h,h.return,z)}else{var w=ju(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(z){zn(h,h.return,z)}}m&64&&sw(h),m&512&&Mf(h,h.return);break;case 3:if(xc(a,h),m&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{wn(a,l)}catch(z){zn(h,h.return,z)}}break;case 27:l===null&&m&4&&cw(h);case 26:case 5:xc(a,h),l===null&&m&4&&ow(h),m&512&&Mf(h,h.return);break;case 12:xc(a,h);break;case 13:xc(a,h),m&4&&pw(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=t4.bind(null,h),b4(a,h))));break;case 22:if(m=h.memoizedState!==null||Rl,!m){l=l!==null&&l.memoizedState!==null||Ni,w=Rl;var N=Ni;Rl=m,(Ni=l)&&!N?Ac(a,h,(h.subtreeFlags&8772)!==0):xc(a,h),Rl=w,Ni=N}break;case 30:break;default:xc(a,h)}}function dw(a){var l=a.alternate;l!==null&&(a.alternate=null,dw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Gr(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ii=null,cs=!1;function Tl(a,l,h){for(h=h.child;h!==null;)fw(a,l,h),h=h.sibling}function fw(a,l,h){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Se,h)}catch{}switch(h.tag){case 26:Ni||Lo(h,l),Tl(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ni||Lo(h,l);var m=ii,w=cs;Rc(h.type)&&(ii=h.stateNode,cs=!1),Tl(a,l,h),zf(h.stateNode),ii=m,cs=w;break;case 5:Ni||Lo(h,l);case 6:if(m=ii,w=cs,ii=null,Tl(a,l,h),ii=m,cs=w,ii!==null)if(cs)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(h.stateNode)}catch(N){zn(h,l,N)}else try{ii.removeChild(h.stateNode)}catch(N){zn(h,l,N)}break;case 18:ii!==null&&(cs?(a=ii,e5(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Yf(a)):e5(ii,h.stateNode));break;case 4:m=ii,w=cs,ii=h.stateNode.containerInfo,cs=!0,Tl(a,l,h),ii=m,cs=w;break;case 0:case 11:case 14:case 15:Ni||wc(2,h,l),Ni||wc(4,h,l),Tl(a,l,h);break;case 1:Ni||(Lo(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&aw(h,l,m)),Tl(a,l,h);break;case 21:Tl(a,l,h);break;case 22:Ni=(m=Ni)||h.memoizedState!==null,Tl(a,l,h),Ni=m;break;default:Tl(a,l,h)}}function pw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Yf(a)}catch(h){zn(l,l.return,h)}}function $3(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new uw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new uw),l;default:throw Error(n(435,a.tag))}}function gv(a,l){var h=$3(a);l.forEach(function(m){var w=e4.bind(null,a,m);h.has(m)||(h.add(m),m.then(w,w))})}function Ls(a,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],N=a,z=l,Q=z;t:for(;Q!==null;){switch(Q.tag){case 27:if(Rc(Q.type)){ii=Q.stateNode,cs=!1;break t}break;case 5:ii=Q.stateNode,cs=!1;break t;case 3:case 4:ii=Q.stateNode.containerInfo,cs=!0;break t}Q=Q.return}if(ii===null)throw Error(n(160));fw(N,z,w),ii=null,cs=!1,N=w.alternate,N!==null&&(N.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)mw(l,a),l=l.sibling}var Oa=null;function mw(a,l){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ls(l,a),Ms(a),m&4&&(wc(3,a,a.return),Lf(3,a),wc(5,a,a.return));break;case 1:Ls(l,a),Ms(a),m&512&&(Ni||h===null||Lo(h,h.return)),m&64&&Rl&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=Oa;if(Ls(l,a),Ms(a),m&512&&(Ni||h===null||Lo(h,h.return)),m&4){var N=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){t:{m=a.type,h=a.memoizedProps,w=w.ownerDocument||w;e:switch(m){case"title":N=w.getElementsByTagName("title")[0],(!N||N[Vr]||N[gn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=w.createElement(m),w.head.insertBefore(N,w.querySelector("head > title"))),Sr(N,m,h),N[gn]=a,Cn(N),m=N;break t;case"link":var z=c5("link","href",w).get(m+(h.href||""));if(z){for(var Q=0;Q<z.length;Q++)if(N=z[Q],N.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&N.getAttribute("rel")===(h.rel==null?null:h.rel)&&N.getAttribute("title")===(h.title==null?null:h.title)&&N.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(Q,1);break e}}N=w.createElement(m),Sr(N,m,h),w.head.appendChild(N);break;case"meta":if(z=c5("meta","content",w).get(m+(h.content||""))){for(Q=0;Q<z.length;Q++)if(N=z[Q],N.getAttribute("content")===(h.content==null?null:""+h.content)&&N.getAttribute("name")===(h.name==null?null:h.name)&&N.getAttribute("property")===(h.property==null?null:h.property)&&N.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&N.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(Q,1);break e}}N=w.createElement(m),Sr(N,m,h),w.head.appendChild(N);break;default:throw Error(n(468,m))}N[gn]=a,Cn(N),m=N}a.stateNode=m}else u5(w,a.type,a.stateNode);else a.stateNode=l5(w,m,a.memoizedProps);else N!==m?(N===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):N.count--,m===null?u5(w,a.type,a.stateNode):l5(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&dv(a,a.memoizedProps,h.memoizedProps)}break;case 27:Ls(l,a),Ms(a),m&512&&(Ni||h===null||Lo(h,h.return)),h!==null&&m&4&&dv(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Ls(l,a),Ms(a),m&512&&(Ni||h===null||Lo(h,h.return)),a.flags&32){w=a.stateNode;try{no(w,"")}catch(Pt){zn(a,a.return,Pt)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,dv(a,w,h!==null?h.memoizedProps:w)),m&1024&&(mv=!0);break;case 6:if(Ls(l,a),Ms(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Pt){zn(a,a.return,Pt)}}break;case 3:if(Vm=null,w=Oa,Oa=Hm(l.containerInfo),Ls(l,a),Oa=w,Ms(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Yf(l.containerInfo)}catch(Pt){zn(a,a.return,Pt)}mv&&(mv=!1,gw(a));break;case 4:m=Oa,Oa=Hm(a.stateNode.containerInfo),Ls(l,a),Ms(a),Oa=m;break;case 12:Ls(l,a),Ms(a);break;case 13:Ls(l,a),Ms(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Av=se()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,gv(a,m)));break;case 22:w=a.memoizedState!==null;var ft=h!==null&&h.memoizedState!==null,Rt=Rl,Ft=Ni;if(Rl=Rt||w,Ni=Ft||ft,Ls(l,a),Ni=Ft,Rl=Rt,Ms(a),m&8192)t:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(h===null||ft||Rl||Ni||Iu(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ft=h=l;try{if(N=ft.stateNode,w)z=N.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Q=ft.stateNode;var Gt=ft.memoizedProps.style,Mt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;Q.style.display=Mt==null||typeof Mt=="boolean"?"":(""+Mt).trim()}}catch(Pt){zn(ft,ft.return,Pt)}}}else if(l.tag===6){if(h===null){ft=l;try{ft.stateNode.nodeValue=w?"":ft.memoizedProps}catch(Pt){zn(ft,ft.return,Pt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,gv(a,h))));break;case 19:Ls(l,a),Ms(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,gv(a,m)));break;case 30:break;case 21:break;default:Ls(l,a),Ms(a)}}function Ms(a){var l=a.flags;if(l&2){try{for(var h,m=a.return;m!==null;){if(lw(m)){h=m;break}m=m.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var w=h.stateNode,N=fv(a);Tm(a,N,w);break;case 5:var z=h.stateNode;h.flags&32&&(no(z,""),h.flags&=-33);var Q=fv(a);Tm(a,Q,z);break;case 3:case 4:var ft=h.stateNode.containerInfo,Rt=fv(a);pv(a,Rt,ft);break;default:throw Error(n(161))}}catch(Ft){zn(a,a.return,Ft)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function gw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;gw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function xc(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)hw(a,l.alternate,l),l=l.sibling}function Iu(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:wc(4,l,l.return),Iu(l);break;case 1:Lo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&aw(l,l.return,h),Iu(l);break;case 27:zf(l.stateNode);case 26:case 5:Lo(l,l.return),Iu(l);break;case 22:l.memoizedState===null&&Iu(l);break;case 30:Iu(l);break;default:Iu(l)}a=a.sibling}}function Ac(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=a,N=l,z=N.flags;switch(N.tag){case 0:case 11:case 15:Ac(w,N,h),Lf(4,N);break;case 1:if(Ac(w,N,h),m=N,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Rt){zn(m,m.return,Rt)}if(m=N,w=m.updateQueue,w!==null){var Q=m.stateNode;try{var ft=w.shared.hiddenCallbacks;if(ft!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ft.length;w++)fn(ft[w],Q)}catch(Rt){zn(m,m.return,Rt)}}h&&z&64&&sw(N),Mf(N,N.return);break;case 27:cw(N);case 26:case 5:Ac(w,N,h),h&&m===null&&z&4&&ow(N),Mf(N,N.return);break;case 12:Ac(w,N,h);break;case 13:Ac(w,N,h),h&&z&4&&pw(w,N);break;case 22:N.memoizedState===null&&Ac(w,N,h),Mf(N,N.return);break;case 30:break;default:Ac(w,N,h)}l=l.sibling}}function vv(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Eu(h))}function bv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Eu(a))}function Mo(a,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vw(a,l,h,m),l=l.sibling}function vw(a,l,h,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Mo(a,l,h,m),w&2048&&Lf(9,l);break;case 1:Mo(a,l,h,m);break;case 3:Mo(a,l,h,m),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Eu(a)));break;case 12:if(w&2048){Mo(a,l,h,m),a=l.stateNode;try{var N=l.memoizedProps,z=N.id,Q=N.onPostCommit;typeof Q=="function"&&Q(z,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ft){zn(l,l.return,ft)}}else Mo(a,l,h,m);break;case 13:Mo(a,l,h,m);break;case 23:break;case 22:N=l.stateNode,z=l.alternate,l.memoizedState!==null?N._visibility&2?Mo(a,l,h,m):Pf(a,l):N._visibility&2?Mo(a,l,h,m):(N._visibility|=2,Xh(a,l,h,m,(l.subtreeFlags&10256)!==0)),w&2048&&vv(z,l);break;case 24:Mo(a,l,h,m),w&2048&&bv(l.alternate,l);break;default:Mo(a,l,h,m)}}function Xh(a,l,h,m,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=a,z=l,Q=h,ft=m,Rt=z.flags;switch(z.tag){case 0:case 11:case 15:Xh(N,z,Q,ft,w),Lf(8,z);break;case 23:break;case 22:var Ft=z.stateNode;z.memoizedState!==null?Ft._visibility&2?Xh(N,z,Q,ft,w):Pf(N,z):(Ft._visibility|=2,Xh(N,z,Q,ft,w)),w&&Rt&2048&&vv(z.alternate,z);break;case 24:Xh(N,z,Q,ft,w),w&&Rt&2048&&bv(z.alternate,z);break;default:Xh(N,z,Q,ft,w)}l=l.sibling}}function Pf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,m=l,w=m.flags;switch(m.tag){case 22:Pf(h,m),w&2048&&vv(m.alternate,m);break;case 24:Pf(h,m),w&2048&&bv(m.alternate,m);break;default:Pf(h,m)}l=l.sibling}}var Df=8192;function Kh(a){if(a.subtreeFlags&Df)for(a=a.child;a!==null;)bw(a),a=a.sibling}function bw(a){switch(a.tag){case 26:Kh(a),a.flags&Df&&a.memoizedState!==null&&M4(Oa,a.memoizedState,a.memoizedProps);break;case 5:Kh(a);break;case 3:case 4:var l=Oa;Oa=Hm(a.stateNode.containerInfo),Kh(a),Oa=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Df,Df=16777216,Kh(a),Df=l):Kh(a));break;default:Kh(a)}}function yw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Of(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];cr=m,xw(m,a)}yw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ww(a),a=a.sibling}function ww(a){switch(a.tag){case 0:case 11:case 15:Of(a),a.flags&2048&&wc(9,a,a.return);break;case 3:Of(a);break;case 12:Of(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Lm(a)):Of(a);break;default:Of(a)}}function Lm(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];cr=m,xw(m,a)}yw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:wc(8,l,l.return),Lm(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Lm(l));break;default:Lm(l)}a=a.sibling}}function xw(a,l){for(;cr!==null;){var h=cr;switch(h.tag){case 0:case 11:case 15:wc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Eu(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,cr=m;else t:for(h=a;cr!==null;){m=cr;var w=m.sibling,N=m.return;if(dw(m),m===h){cr=null;break t}if(w!==null){w.return=N,cr=w;break t}cr=N}}}var W3={getCacheForType:function(a){var l=Si(Ei),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},Y3=typeof WeakMap=="function"?WeakMap:Map,Tn=0,Yn=null,nn=null,mn=0,Ln=0,Ps=null,Sc=!1,Qh=!1,yv=!1,Ll=0,yi=0,Ec=0,Fu=0,wv=0,na=0,Zh=0,kf=null,us=null,xv=!1,Av=0,Mm=1/0,Pm=null,_c=null,Ar=0,Nc=null,Jh=null,td=0,Sv=0,Ev=null,Aw=null,jf=0,_v=null;function Ds(){if((Tn&2)!==0&&mn!==0)return mn&-mn;if(U.T!==null){var a=wl;return a!==0?a:Pv()}return ir()}function Sw(){na===0&&(na=(mn&536870912)===0||bn?$i():536870912);var a=ea.current;return a!==null&&(a.flags|=32),na}function Os(a,l,h){(a===Yn&&(Ln===2||Ln===9)||a.cancelPendingCommit!==null)&&(ed(a,0),Cc(a,mn,na,!1)),nr(a,h),((Tn&2)===0||a!==Yn)&&(a===Yn&&((Tn&2)===0&&(Fu|=h),yi===4&&Cc(a,mn,na,!1)),Po(a))}function Ew(a,l,h){if((Tn&6)!==0)throw Error(n(327));var m=!h&&(l&124)===0&&(l&a.expiredLanes)===0||er(a,l),w=m?Q3(a,l):Rv(a,l,!0),N=m;do{if(w===0){Qh&&!m&&Cc(a,l,0,!1);break}else{if(h=a.current.alternate,N&&!X3(h)){w=Rv(a,l,!1),N=!1;continue}if(w===2){if(N=l,a.errorRecoveryDisabledLanes&N)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){l=z;t:{var Q=a;w=kf;var ft=Q.current.memoizedState.isDehydrated;if(ft&&(ed(Q,z).flags|=256),z=Rv(Q,z,!1),z!==2){if(yv&&!ft){Q.errorRecoveryDisabledLanes|=N,Fu|=N,w=4;break t}N=us,us=w,N!==null&&(us===null?us=N:us.push.apply(us,N))}w=z}if(N=!1,w!==2)continue}}if(w===1){ed(a,0),Cc(a,l,0,!0);break}t:{switch(m=a,N=w,N){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Cc(m,l,na,!Sc);break t;case 2:us=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(w=Av+300-se(),10<w)){if(Cc(m,l,na,!Sc),yn(m,0,!0)!==0)break t;m.timeoutHandle=Jw(_w.bind(null,m,h,us,Pm,xv,l,na,Fu,Zh,Sc,N,2,-0,0),w);break t}_w(m,h,us,Pm,xv,l,na,Fu,Zh,Sc,N,0,-0,0)}}break}while(!0);Po(a)}function _w(a,l,h,m,w,N,z,Q,ft,Rt,Ft,Gt,Mt,Pt){if(a.timeoutHandle=-1,Gt=l.subtreeFlags,(Gt&8192||(Gt&16785408)===16785408)&&(qf={stylesheets:null,count:0,unsuspend:L4},bw(l),Gt=P4(),Gt!==null)){a.cancelPendingCommit=Gt(Pw.bind(null,a,l,N,h,m,w,z,Q,ft,Ft,1,Mt,Pt)),Cc(a,N,z,!Rt);return}Pw(a,l,N,h,m,w,z,Q,ft)}function X3(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],N=w.getSnapshot;w=w.value;try{if(!Ii(N(),w))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Cc(a,l,h,m){l&=~wv,l&=~Fu,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var w=l;0<w;){var N=31-le(w),z=1<<N;m[N]=-1,w&=~z}h!==0&&Qt(a,h,l)}function Dm(){return(Tn&6)===0?(If(0),!1):!0}function Nv(){if(nn!==null){if(Ln===0)var a=nn.return;else a=nn,Ra=Bi=null,Uh(a),Wh=null,Cf=0,a=nn;for(;a!==null;)rw(a.alternate,a),a=a.return;nn=null}}function ed(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,f4(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Nv(),Yn=a,nn=h=Xs(a.current,null),mn=l,Ln=0,Ps=null,Sc=!1,Qh=er(a,l),yv=!1,Zh=na=wv=Fu=Ec=yi=0,us=kf=null,xv=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var w=31-le(m),N=1<<w;l|=a[w],m&=~N}return Ll=l,ss(),h}function Nw(a,l){we=null,U.H=wm,l===W||l===X?(l=At(),Ln=3):l===Y?(l=At(),Ln=4):Ln=l===V2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ps=l,nn===null&&(yi=1,_m(a,Ye(l,a.current)))}function Cw(){var a=U.H;return U.H=wm,a===null?wm:a}function Rw(){var a=U.A;return U.A=W3,a}function Cv(){yi=4,Sc||(mn&4194048)!==mn&&ea.current!==null||(Qh=!0),(Ec&134217727)===0&&(Fu&134217727)===0||Yn===null||Cc(Yn,mn,na,!1)}function Rv(a,l,h){var m=Tn;Tn|=2;var w=Cw(),N=Rw();(Yn!==a||mn!==l)&&(Pm=null,ed(a,l)),l=!1;var z=yi;t:do try{if(Ln!==0&&nn!==null){var Q=nn,ft=Ps;switch(Ln){case 8:Nv(),z=6;break t;case 3:case 2:case 9:case 6:ea.current===null&&(l=!0);var Rt=Ln;if(Ln=0,Ps=null,nd(a,Q,ft,Rt),h&&Qh){z=0;break t}break;default:Rt=Ln,Ln=0,Ps=null,nd(a,Q,ft,Rt)}}K3(),z=yi;break}catch(Ft){Nw(a,Ft)}while(!0);return l&&a.shellSuspendCounter++,Ra=Bi=null,Tn=m,U.H=w,U.A=N,nn===null&&(Yn=null,mn=0,ss()),z}function K3(){for(;nn!==null;)Tw(nn)}function Q3(a,l){var h=Tn;Tn|=2;var m=Cw(),w=Rw();Yn!==a||mn!==l?(Pm=null,Mm=se()+500,ed(a,l)):Qh=er(a,l);t:do try{if(Ln!==0&&nn!==null){l=nn;var N=Ps;e:switch(Ln){case 1:Ln=0,Ps=null,nd(a,l,N,1);break;case 2:case 9:if(rt(N)){Ln=0,Ps=null,Lw(l);break}l=function(){Ln!==2&&Ln!==9||Yn!==a||(Ln=7),Po(a)},N.then(l,l);break t;case 3:Ln=7;break t;case 4:Ln=5;break t;case 7:rt(N)?(Ln=0,Ps=null,Lw(l)):(Ln=0,Ps=null,nd(a,l,N,7));break;case 5:var z=null;switch(nn.tag){case 26:z=nn.memoizedState;case 5:case 27:var Q=nn;if(!z||h5(z)){Ln=0,Ps=null;var ft=Q.sibling;if(ft!==null)nn=ft;else{var Rt=Q.return;Rt!==null?(nn=Rt,Om(Rt)):nn=null}break e}}Ln=0,Ps=null,nd(a,l,N,5);break;case 6:Ln=0,Ps=null,nd(a,l,N,6);break;case 8:Nv(),yi=6;break t;default:throw Error(n(462))}}Z3();break}catch(Ft){Nw(a,Ft)}while(!0);return Ra=Bi=null,U.H=m,U.A=w,Tn=h,nn!==null?0:(Yn=null,mn=0,ss(),yi)}function Z3(){for(;nn!==null&&!Lt();)Tw(nn)}function Tw(a){var l=nw(a.alternate,a,Ll);a.memoizedProps=a.pendingProps,l===null?Om(a):nn=l}function Lw(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=K2(h,l,l.pendingProps,l.type,void 0,mn);break;case 11:l=K2(h,l,l.pendingProps,l.type.render,l.ref,mn);break;case 5:Uh(l);default:rw(h,l),l=nn=wu(l,Ll),l=nw(h,l,Ll)}a.memoizedProps=a.pendingProps,l===null?Om(a):nn=l}function nd(a,l,h,m){Ra=Bi=null,Uh(l),Wh=null,Cf=0;var w=l.return;try{if(U3(a,w,l,h,mn)){yi=1,_m(a,Ye(h,a.current)),nn=null;return}}catch(N){if(w!==null)throw nn=w,N;yi=1,_m(a,Ye(h,a.current)),nn=null;return}l.flags&32768?(bn||m===1?a=!0:Qh||(mn&536870912)!==0?a=!1:(Sc=a=!0,(m===2||m===9||m===3||m===6)&&(m=ea.current,m!==null&&m.tag===13&&(m.flags|=16384))),Mw(l,a)):Om(l)}function Om(a){var l=a;do{if((l.flags&32768)!==0){Mw(l,Sc);return}a=l.return;var h=q3(l.alternate,l,Ll);if(h!==null){nn=h;return}if(l=l.sibling,l!==null){nn=l;return}nn=l=a}while(l!==null);yi===0&&(yi=5)}function Mw(a,l){do{var h=V3(a.alternate,a);if(h!==null){h.flags&=32767,nn=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){nn=a;return}nn=a=h}while(a!==null);yi=6,nn=null}function Pw(a,l,h,m,w,N,z,Q,ft){a.cancelPendingCommit=null;do km();while(Ar!==0);if((Tn&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(N=l.lanes|l.childLanes,N|=hi,Fn(a,h,N,z,Q,ft),a===Yn&&(nn=Yn=null,mn=0),Jh=l,Nc=a,td=h,Sv=N,Ev=w,Aw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n4(Jt,function(){return Iw(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=U.T,U.T=null,w=Z.p,Z.p=2,z=Tn,Tn|=4;try{G3(a,l,h)}finally{Tn=z,Z.p=w,U.T=m}}Ar=1,Dw(),Ow(),kw()}}function Dw(){if(Ar===1){Ar=0;var a=Nc,l=Jh,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var m=Z.p;Z.p=2;var w=Tn;Tn|=4;try{mw(l,a);var N=zv,z=br(a.containerInfo),Q=N.focusedElem,ft=N.selectionRange;if(z!==Q&&Q&&Q.ownerDocument&&fo(Q.ownerDocument.documentElement,Q)){if(ft!==null&&Yi(Q)){var Rt=ft.start,Ft=ft.end;if(Ft===void 0&&(Ft=Rt),"selectionStart"in Q)Q.selectionStart=Rt,Q.selectionEnd=Math.min(Ft,Q.value.length);else{var Gt=Q.ownerDocument||document,Mt=Gt&&Gt.defaultView||window;if(Mt.getSelection){var Pt=Mt.getSelection(),Oe=Q.textContent.length,Ee=Math.min(ft.start,Oe),kn=ft.end===void 0?Ee:Math.min(ft.end,Oe);!Pt.extend&&Ee>kn&&(z=kn,kn=Ee,Ee=z);var St=wa(Q,Ee),yt=wa(Q,kn);if(St&&yt&&(Pt.rangeCount!==1||Pt.anchorNode!==St.node||Pt.anchorOffset!==St.offset||Pt.focusNode!==yt.node||Pt.focusOffset!==yt.offset)){var Nt=Gt.createRange();Nt.setStart(St.node,St.offset),Pt.removeAllRanges(),Ee>kn?(Pt.addRange(Nt),Pt.extend(yt.node,yt.offset)):(Nt.setEnd(yt.node,yt.offset),Pt.addRange(Nt))}}}}for(Gt=[],Pt=Q;Pt=Pt.parentNode;)Pt.nodeType===1&&Gt.push({element:Pt,left:Pt.scrollLeft,top:Pt.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Gt.length;Q++){var Ut=Gt[Q];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}Wm=!!Bv,zv=Bv=null}finally{Tn=w,Z.p=m,U.T=h}}a.current=l,Ar=2}}function Ow(){if(Ar===2){Ar=0;var a=Nc,l=Jh,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var m=Z.p;Z.p=2;var w=Tn;Tn|=4;try{hw(a,l.alternate,l)}finally{Tn=w,Z.p=m,U.T=h}}Ar=3}}function kw(){if(Ar===4||Ar===3){Ar=0,lt();var a=Nc,l=Jh,h=td,m=Aw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ar=5:(Ar=0,Jh=Nc=null,jw(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(_c=null),hn(h),l=l.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Se,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=U.T,w=Z.p,Z.p=2,U.T=null;try{for(var N=a.onRecoverableError,z=0;z<m.length;z++){var Q=m[z];N(Q.value,{componentStack:Q.stack})}}finally{U.T=l,Z.p=w}}(td&3)!==0&&km(),Po(a),w=a.pendingLanes,(h&4194090)!==0&&(w&42)!==0?a===_v?jf++:(jf=0,_v=a):jf=0,If(0)}}function jw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Eu(l)))}function km(a){return Dw(),Ow(),kw(),Iw()}function Iw(){if(Ar!==5)return!1;var a=Nc,l=Sv;Sv=0;var h=hn(td),m=U.T,w=Z.p;try{Z.p=32>h?32:h,U.T=null,h=Ev,Ev=null;var N=Nc,z=td;if(Ar=0,Jh=Nc=null,td=0,(Tn&6)!==0)throw Error(n(331));var Q=Tn;if(Tn|=4,ww(N.current),vw(N,N.current,z,h),Tn=Q,If(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Se,N)}catch{}return!0}finally{Z.p=w,U.T=m,jw(a,l)}}function Fw(a,l,h){l=Ye(h,l),l=iv(a.stateNode,l,2),a=qt(a,l,2),a!==null&&(nr(a,2),Po(a))}function zn(a,l,h){if(a.tag===3)Fw(a,a,h);else for(;l!==null;){if(l.tag===3){Fw(l,a,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_c===null||!_c.has(m))){a=Ye(h,a),h=H2(2),m=qt(l,h,2),m!==null&&(q2(h,m,l,a),nr(m,2),Po(m));break}}l=l.return}}function Tv(a,l,h){var m=a.pingCache;if(m===null){m=a.pingCache=new Y3;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(h)||(yv=!0,w.add(h),a=J3.bind(null,a,l,h),l.then(a,a))}function J3(a,l,h){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Yn===a&&(mn&h)===h&&(yi===4||yi===3&&(mn&62914560)===mn&&300>se()-Av?(Tn&2)===0&&ed(a,0):wv|=h,Zh===mn&&(Zh=0)),Po(a)}function Bw(a,l){l===0&&(l=In()),a=Aa(a,l),a!==null&&(nr(a,l),Po(a))}function t4(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Bw(a,h)}function e4(a,l){var h=0;switch(a.tag){case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),Bw(a,h)}function n4(a,l){return $t(a,l)}var jm=null,id=null,Lv=!1,Im=!1,Mv=!1,Bu=0;function Po(a){a!==id&&a.next===null&&(id===null?jm=id=a:id=id.next=a),Im=!0,Lv||(Lv=!0,r4())}function If(a,l){if(!Mv&&Im){Mv=!0;do for(var h=!1,m=jm;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var N=0;else{var z=m.suspendedLanes,Q=m.pingedLanes;N=(1<<31-le(42|a)+1)-1,N&=w&~(z&~Q),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(h=!0,qw(m,N))}else N=mn,N=yn(m,m===Yn?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||er(m,N)||(h=!0,qw(m,N));m=m.next}while(h);Mv=!1}}function i4(){zw()}function zw(){Im=Lv=!1;var a=0;Bu!==0&&(d4()&&(a=Bu),Bu=0);for(var l=se(),h=null,m=jm;m!==null;){var w=m.next,N=Uw(m,l);N===0?(m.next=null,h===null?jm=w:h.next=w,w===null&&(id=h)):(h=m,(a!==0||(N&3)!==0)&&(Im=!0)),m=w}If(a)}function Uw(a,l){for(var h=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var z=31-le(N),Q=1<<z,ft=w[z];ft===-1?((Q&h)===0||(Q&m)!==0)&&(w[z]=on(Q,l)):ft<=l&&(a.expiredLanes|=Q),N&=~Q}if(l=Yn,h=mn,h=yn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===l&&(Ln===2||Ln===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Kt(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||er(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(m!==null&&Kt(m),hn(h)){case 2:case 8:h=Zt;break;case 32:h=Jt;break;case 268435456:h=ce;break;default:h=Jt}return m=Hw.bind(null,a),h=$t(h,m),a.callbackPriority=l,a.callbackNode=h,l}return m!==null&&m!==null&&Kt(m),a.callbackPriority=2,a.callbackNode=null,2}function Hw(a,l){if(Ar!==0&&Ar!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(km()&&a.callbackNode!==h)return null;var m=mn;return m=yn(a,a===Yn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Ew(a,m,l),Uw(a,se()),a.callbackNode!=null&&a.callbackNode===h?Hw.bind(null,a):null)}function qw(a,l){if(km())return null;Ew(a,l,!0)}function r4(){p4(function(){(Tn&6)!==0?$t(Vt,i4):zw()})}function Pv(){return Bu===0&&(Bu=$i()),Bu}function Vw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ma(""+a)}function Gw(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function s4(a,l,h,m,w){if(l==="submit"&&h&&h.stateNode===w){var N=Vw((w[tn]||null).action),z=m.submitter;z&&(l=(l=z[tn]||null)?Vw(l.formAction):z.getAttribute("formAction"),l!==null&&(N=l,z=null));var Q=new so("action","action",null,m,w);a.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Bu!==0){var ft=z?Gw(w,z):new FormData(w);ta(h,{pending:!0,data:ft,method:w.method,action:N},null,ft)}}else typeof N=="function"&&(Q.preventDefault(),ft=z?Gw(w,z):new FormData(w),ta(h,{pending:!0,data:ft,method:w.method,action:N},N,ft))},currentTarget:w}]})}}for(var Dv=0;Dv<pl.length;Dv++){var Ov=pl[Dv],a4=Ov.toLowerCase(),o4=Ov[0].toUpperCase()+Ov.slice(1);ei(a4,"on"+o4)}ei(oc,"onAnimationEnd"),ei(mo,"onAnimationIteration"),ei(go,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(vo,"onTransitionRun"),ei(fl,"onTransitionStart"),ei(lc,"onTransitionCancel"),ei(bo,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ff));function $w(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],w=m.event;m=m.listeners;t:{var N=void 0;if(l)for(var z=m.length-1;0<=z;z--){var Q=m[z],ft=Q.instance,Rt=Q.currentTarget;if(Q=Q.listener,ft!==N&&w.isPropagationStopped())break t;N=Q,w.currentTarget=Rt;try{N(w)}catch(Ft){Em(Ft)}w.currentTarget=null,N=ft}else for(z=0;z<m.length;z++){if(Q=m[z],ft=Q.instance,Rt=Q.currentTarget,Q=Q.listener,ft!==N&&w.isPropagationStopped())break t;N=Q,w.currentTarget=Rt;try{N(w)}catch(Ft){Em(Ft)}w.currentTarget=null,N=ft}}}}function rn(a,l){var h=l[Gn];h===void 0&&(h=l[Gn]=new Set);var m=a+"__bubble";h.has(m)||(Ww(l,a,2,!1),h.add(m))}function kv(a,l,h){var m=0;l&&(m|=4),Ww(h,a,m,l)}var Fm="_reactListening"+Math.random().toString(36).slice(2);function jv(a){if(!a[Fm]){a[Fm]=!0,Ja.forEach(function(h){h!=="selectionchange"&&(l4.has(h)||kv(h,!1,a),kv(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Fm]||(l[Fm]=!0,kv("selectionchange",!1,l))}}function Ww(a,l,h,m){switch(v5(l)){case 2:var w=k4;break;case 8:w=j4;break;default:w=Kv}h=w.bind(null,l,h,a),w=void 0,!Yl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(l,h,{capture:!0,passive:w}):a.addEventListener(l,h,!0):w!==void 0?a.addEventListener(l,h,{passive:w}):a.addEventListener(l,h,!1)}function Iv(a,l,h,m,w){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)t:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var Q=m.stateNode.containerInfo;if(Q===w)break;if(z===4)for(z=m.return;z!==null;){var ft=z.tag;if((ft===3||ft===4)&&z.stateNode.containerInfo===w)return;z=z.return}for(;Q!==null;){if(z=rr(Q),z===null)return;if(ft=z.tag,ft===5||ft===6||ft===26||ft===27){m=N=z;continue t}Q=Q.parentNode}}m=m.return}Th(function(){var Rt=N,Ft=ki(h),Gt=[];t:{var Mt=xa.get(a);if(Mt!==void 0){var Pt=so,Oe=a;switch(a){case"keypress":if(ro(h)===0)break t;case"keydown":case"keyup":Pt=nc;break;case"focusin":Oe="focus",Pt=al;break;case"focusout":Oe="blur",Pt=al;break;case"beforeblur":case"afterblur":Pt=al;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=gu;break;case oc:case mo:case go:Pt=lf;break;case bo:Pt=q;break;case"scroll":case"scrollend":Pt=Mh;break;case"wheel":Pt=gt;break;case"copy":case"cut":case"paste":Pt=cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=ic;break;case"toggle":case"beforetoggle":Pt=jt}var Ee=(l&4)!==0,kn=!Ee&&(a==="scroll"||a==="scrollend"),St=Ee?Mt!==null?Mt+"Capture":null:Mt;Ee=[];for(var yt=Rt,Nt;yt!==null;){var Ut=yt;if(Nt=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||Nt===null||St===null||(Ut=Rr(yt,St),Ut!=null&&Ee.push(Bf(yt,Ut,Nt))),kn)break;yt=yt.return}0<Ee.length&&(Mt=new Pt(Mt,Oe,null,h,Ft),Gt.push({event:Mt,listeners:Ee}))}}if((l&7)===0){t:{if(Mt=a==="mouseover"||a==="pointerover",Pt=a==="mouseout"||a==="pointerout",Mt&&h!==Wl&&(Oe=h.relatedTarget||h.fromElement)&&(rr(Oe)||Oe[vn]))break t;if((Pt||Mt)&&(Mt=Ft.window===Ft?Ft:(Mt=Ft.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,Pt?(Oe=h.relatedTarget||h.toElement,Pt=Rt,Oe=Oe?rr(Oe):null,Oe!==null&&(kn=s(Oe),Ee=Oe.tag,Oe!==kn||Ee!==5&&Ee!==27&&Ee!==6)&&(Oe=null)):(Pt=null,Oe=Rt),Pt!==Oe)){if(Ee=$s,Ut="onMouseLeave",St="onMouseEnter",yt="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=ic,Ut="onPointerLeave",St="onPointerEnter",yt="pointer"),kn=Pt==null?Mt:Nr(Pt),Nt=Oe==null?Mt:Nr(Oe),Mt=new Ee(Ut,yt+"leave",Pt,h,Ft),Mt.target=kn,Mt.relatedTarget=Nt,Ut=null,rr(Ft)===Rt&&(Ee=new Ee(St,yt+"enter",Oe,h,Ft),Ee.target=Nt,Ee.relatedTarget=kn,Ut=Ee),kn=Ut,Pt&&Oe)e:{for(Ee=Pt,St=Oe,yt=0,Nt=Ee;Nt;Nt=rd(Nt))yt++;for(Nt=0,Ut=St;Ut;Ut=rd(Ut))Nt++;for(;0<yt-Nt;)Ee=rd(Ee),yt--;for(;0<Nt-yt;)St=rd(St),Nt--;for(;yt--;){if(Ee===St||St!==null&&Ee===St.alternate)break e;Ee=rd(Ee),St=rd(St)}Ee=null}else Ee=null;Pt!==null&&Yw(Gt,Mt,Pt,Ee,!1),Oe!==null&&kn!==null&&Yw(Gt,kn,Oe,Ee,!0)}}t:{if(Mt=Rt?Nr(Rt):window,Pt=Mt.nodeName&&Mt.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&Mt.type==="file")var he=sc;else if(Es(Mt))if(cl)he=Dh;else{he=hf;var Ze=Tr}else Pt=Mt.nodeName,!Pt||Pt.toLowerCase()!=="input"||Mt.type!=="checkbox"&&Mt.type!=="radio"?Rt&&uu(Rt.elementType)&&(he=sc):he=bu;if(he&&(he=he(a,Rt))){vu(Gt,he,h,Ft);break t}Ze&&Ze(a,Mt,Rt),a==="focusout"&&Rt&&Mt.type==="number"&&Rt.memoizedProps.value!=null&&ou(Mt,"number",Mt.value)}switch(Ze=Rt?Nr(Rt):window,a){case"focusin":(Es(Ze)||Ze.contentEditable==="true")&&(Lr=Ze,_s=Rt,Ws=null);break;case"focusout":Ws=_s=Lr=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,ti(Gt,h,Ft);break;case"selectionchange":if(po)break;case"keydown":case"keyup":ti(Gt,h,Ft)}var ve;if(ie)t:{switch(a){case"compositionstart":var Te="onCompositionStart";break t;case"compositionend":Te="onCompositionEnd";break t;case"compositionupdate":Te="onCompositionUpdate";break t}Te=void 0}else ui?Kn(a,h)&&(Te="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Te="onCompositionStart");Te&&(je&&h.locale!=="ko"&&(ui||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ui&&(ve=Lh()):(is=Ft,du="value"in is?is.value:is.textContent,ui=!0)),Ze=Bm(Rt,Te),0<Ze.length&&(Te=new Jl(Te,a,null,h,Ft),Gt.push({event:Te,listeners:Ze}),ve?Te.data=ve:(ve=ci(h),ve!==null&&(Te.data=ve)))),(ve=Be?ji(a,h):Ss(a,h))&&(Te=Bm(Rt,"onBeforeInput"),0<Te.length&&(Ze=new Jl("onBeforeInput","beforeinput",null,h,Ft),Gt.push({event:Ze,listeners:Te}),Ze.data=ve)),s4(Gt,a,Rt,h,Ft)}$w(Gt,l)})}function Bf(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Bm(a,l){for(var h=l+"Capture",m=[];a!==null;){var w=a,N=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||N===null||(w=Rr(a,h),w!=null&&m.unshift(Bf(a,w,N)),w=Rr(a,l),w!=null&&m.push(Bf(a,w,N))),a.tag===3)return m;a=a.return}return[]}function rd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Yw(a,l,h,m,w){for(var N=l._reactName,z=[];h!==null&&h!==m;){var Q=h,ft=Q.alternate,Rt=Q.stateNode;if(Q=Q.tag,ft!==null&&ft===m)break;Q!==5&&Q!==26&&Q!==27||Rt===null||(ft=Rt,w?(Rt=Rr(h,N),Rt!=null&&z.unshift(Bf(h,Rt,ft))):w||(Rt=Rr(h,N),Rt!=null&&z.push(Bf(h,Rt,ft)))),h=h.return}z.length!==0&&a.push({event:l,listeners:z})}var c4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function Xw(a){return(typeof a=="string"?a:""+a).replace(c4,`
`).replace(u4,"")}function Kw(a,l){return l=Xw(l),Xw(a)===l}function zm(){}function On(a,l,h,m,w,N){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||no(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&no(a,""+m);break;case"className":il(a,"class",m);break;case"tabIndex":il(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":il(a,h,m);break;case"style":Rh(a,m,N);break;case"data":if(l!=="object"){il(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=ma(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(h==="formAction"?(l!=="input"&&On(a,l,"name",w.name,w,null),On(a,l,"formEncType",w.formEncType,w,null),On(a,l,"formMethod",w.formMethod,w,null),On(a,l,"formTarget",w.formTarget,w,null)):(On(a,l,"encType",w.encType,w,null),On(a,l,"method",w.method,w,null),On(a,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=ma(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=zm);break;case"onScroll":m!=null&&rn("scroll",a);break;case"onScrollEnd":m!=null&&rn("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=ma(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":rn("beforetoggle",a),rn("toggle",a),ha(a,"popover",m);break;case"xlinkActuate":xs(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":xs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":xs(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":xs(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":xs(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":xs(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":xs(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":xs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":xs(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ha(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=pa.get(h)||h,ha(a,h,m))}}function Fv(a,l,h,m,w,N){switch(h){case"style":Rh(a,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof m=="string"?no(a,m):(typeof m=="number"||typeof m=="bigint")&&no(a,""+m);break;case"onScroll":m!=null&&rn("scroll",a);break;case"onScrollEnd":m!=null&&rn("scrollend",a);break;case"onClick":m!=null&&(a.onclick=zm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),l=h.slice(2,w?h.length-7:void 0),N=a[tn]||null,N=N!=null?N[h]:null,typeof N=="function"&&a.removeEventListener(l,N,w),typeof m=="function")){typeof N!="function"&&N!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,m,w);break t}h in a?a[h]=m:m===!0?a.setAttribute(h,""):ha(a,h,m)}}}function Sr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",a),rn("load",a);var m=!1,w=!1,N;for(N in h)if(h.hasOwnProperty(N)){var z=h[N];if(z!=null)switch(N){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:On(a,l,N,z,h,null)}}w&&On(a,l,"srcSet",h.srcSet,h,null),m&&On(a,l,"src",h.src,h,null);return;case"input":rn("invalid",a);var Q=N=z=w=null,ft=null,Rt=null;for(m in h)if(h.hasOwnProperty(m)){var Ft=h[m];if(Ft!=null)switch(m){case"name":w=Ft;break;case"type":z=Ft;break;case"checked":ft=Ft;break;case"defaultChecked":Rt=Ft;break;case"value":N=Ft;break;case"defaultValue":Q=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(n(137,l));break;default:On(a,l,m,Ft,h,null)}}au(a,N,Q,ft,Rt,z,w,!1),eo(a);return;case"select":rn("invalid",a),m=z=N=null;for(w in h)if(h.hasOwnProperty(w)&&(Q=h[w],Q!=null))switch(w){case"value":N=Q;break;case"defaultValue":z=Q;break;case"multiple":m=Q;default:On(a,l,w,Q,h,null)}l=N,h=z,a.multiple=!!m,l!=null?fa(a,!!m,l,!1):h!=null&&fa(a,!!m,h,!0);return;case"textarea":rn("invalid",a),N=w=m=null;for(z in h)if(h.hasOwnProperty(z)&&(Q=h[z],Q!=null))switch(z){case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":N=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:On(a,l,z,Q,h,null)}lu(a,m,w,N),eo(a);return;case"option":for(ft in h)if(h.hasOwnProperty(ft)&&(m=h[ft],m!=null))switch(ft){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:On(a,l,ft,m,h,null)}return;case"dialog":rn("beforetoggle",a),rn("toggle",a),rn("cancel",a),rn("close",a);break;case"iframe":case"object":rn("load",a);break;case"video":case"audio":for(m=0;m<Ff.length;m++)rn(Ff[m],a);break;case"image":rn("error",a),rn("load",a);break;case"details":rn("toggle",a);break;case"embed":case"source":case"link":rn("error",a),rn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in h)if(h.hasOwnProperty(Rt)&&(m=h[Rt],m!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:On(a,l,Rt,m,h,null)}return;default:if(uu(l)){for(Ft in h)h.hasOwnProperty(Ft)&&(m=h[Ft],m!==void 0&&Fv(a,l,Ft,m,h,void 0));return}}for(Q in h)h.hasOwnProperty(Q)&&(m=h[Q],m!=null&&On(a,l,Q,m,h,null))}function h4(a,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,N=null,z=null,Q=null,ft=null,Rt=null,Ft=null;for(Pt in h){var Gt=h[Pt];if(h.hasOwnProperty(Pt)&&Gt!=null)switch(Pt){case"checked":break;case"value":break;case"defaultValue":ft=Gt;default:m.hasOwnProperty(Pt)||On(a,l,Pt,null,m,Gt)}}for(var Mt in m){var Pt=m[Mt];if(Gt=h[Mt],m.hasOwnProperty(Mt)&&(Pt!=null||Gt!=null))switch(Mt){case"type":N=Pt;break;case"name":w=Pt;break;case"checked":Rt=Pt;break;case"defaultChecked":Ft=Pt;break;case"value":z=Pt;break;case"defaultValue":Q=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(n(137,l));break;default:Pt!==Gt&&On(a,l,Mt,Pt,m,Gt)}}sl(a,z,Q,ft,Rt,Ft,N,w);return;case"select":Pt=z=Q=Mt=null;for(N in h)if(ft=h[N],h.hasOwnProperty(N)&&ft!=null)switch(N){case"value":break;case"multiple":Pt=ft;default:m.hasOwnProperty(N)||On(a,l,N,null,m,ft)}for(w in m)if(N=m[w],ft=h[w],m.hasOwnProperty(w)&&(N!=null||ft!=null))switch(w){case"value":Mt=N;break;case"defaultValue":Q=N;break;case"multiple":z=N;default:N!==ft&&On(a,l,w,N,m,ft)}l=Q,h=z,m=Pt,Mt!=null?fa(a,!!h,Mt,!1):!!m!=!!h&&(l!=null?fa(a,!!h,l,!0):fa(a,!!h,h?[]:"",!1));return;case"textarea":Pt=Mt=null;for(Q in h)if(w=h[Q],h.hasOwnProperty(Q)&&w!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:On(a,l,Q,null,m,w)}for(z in m)if(w=m[z],N=h[z],m.hasOwnProperty(z)&&(w!=null||N!=null))switch(z){case"value":Mt=w;break;case"defaultValue":Pt=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==N&&On(a,l,z,w,m,N)}Nh(a,Mt,Pt);return;case"option":for(var Oe in h)if(Mt=h[Oe],h.hasOwnProperty(Oe)&&Mt!=null&&!m.hasOwnProperty(Oe))switch(Oe){case"selected":a.selected=!1;break;default:On(a,l,Oe,null,m,Mt)}for(ft in m)if(Mt=m[ft],Pt=h[ft],m.hasOwnProperty(ft)&&Mt!==Pt&&(Mt!=null||Pt!=null))switch(ft){case"selected":a.selected=Mt&&typeof Mt!="function"&&typeof Mt!="symbol";break;default:On(a,l,ft,Mt,m,Pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in h)Mt=h[Ee],h.hasOwnProperty(Ee)&&Mt!=null&&!m.hasOwnProperty(Ee)&&On(a,l,Ee,null,m,Mt);for(Rt in m)if(Mt=m[Rt],Pt=h[Rt],m.hasOwnProperty(Rt)&&Mt!==Pt&&(Mt!=null||Pt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(n(137,l));break;default:On(a,l,Rt,Mt,m,Pt)}return;default:if(uu(l)){for(var kn in h)Mt=h[kn],h.hasOwnProperty(kn)&&Mt!==void 0&&!m.hasOwnProperty(kn)&&Fv(a,l,kn,void 0,m,Mt);for(Ft in m)Mt=m[Ft],Pt=h[Ft],!m.hasOwnProperty(Ft)||Mt===Pt||Mt===void 0&&Pt===void 0||Fv(a,l,Ft,Mt,m,Pt);return}}for(var St in h)Mt=h[St],h.hasOwnProperty(St)&&Mt!=null&&!m.hasOwnProperty(St)&&On(a,l,St,null,m,Mt);for(Gt in m)Mt=m[Gt],Pt=h[Gt],!m.hasOwnProperty(Gt)||Mt===Pt||Mt==null&&Pt==null||On(a,l,Gt,Mt,m,Pt)}var Bv=null,zv=null;function Um(a){return a.nodeType===9?a:a.ownerDocument}function Qw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Uv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hv=null;function d4(){var a=window.event;return a&&a.type==="popstate"?a===Hv?!1:(Hv=a,!0):(Hv=null,!1)}var Jw=typeof setTimeout=="function"?setTimeout:void 0,f4=typeof clearTimeout=="function"?clearTimeout:void 0,t5=typeof Promise=="function"?Promise:void 0,p4=typeof queueMicrotask=="function"?queueMicrotask:typeof t5<"u"?function(a){return t5.resolve(null).then(a).catch(m4)}:Jw;function m4(a){setTimeout(function(){throw a})}function Rc(a){return a==="head"}function e5(a,l){var h=l,m=0,w=0;do{var N=h.nextSibling;if(a.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(0<m&&8>m){h=m;var z=a.ownerDocument;if(h&1&&zf(z.documentElement),h&2&&zf(z.body),h&4)for(h=z.head,zf(h),z=h.firstChild;z;){var Q=z.nextSibling,ft=z.nodeName;z[Vr]||ft==="SCRIPT"||ft==="STYLE"||ft==="LINK"&&z.rel.toLowerCase()==="stylesheet"||h.removeChild(z),z=Q}}if(w===0){a.removeChild(N),Yf(l);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:m=h.charCodeAt(0)-48;else m=0;h=N}while(h);Yf(l)}function qv(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":qv(h),Gr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function g4(a,l,h,m){for(;a.nodeType===1;){var w=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Vr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var N=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=ka(a.nextSibling),a===null)break}return null}function v4(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=ka(a.nextSibling),a===null))return null;return a}function Vv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function b4(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var m=function(){l(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ka(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Gv=null;function n5(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function i5(a,l,h){switch(l=Um(h),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function zf(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Gr(a)}var ia=new Map,r5=new Set;function Hm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ml=Z.d;Z.d={f:y4,r:w4,D:x4,C:A4,L:S4,m:E4,X:N4,S:_4,M:C4};function y4(){var a=Ml.f(),l=Dm();return a||l}function w4(a){var l=sr(a);l!==null&&l.tag===5&&l.type==="form"?Ou(l):Ml.r(a)}var sd=typeof document>"u"?null:document;function s5(a,l,h){var m=sd;if(m&&typeof l=="string"&&l){var w=Bn(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),r5.has(w)||(r5.add(w),a={rel:a,crossOrigin:h,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Sr(l,"link",a),Cn(l),m.head.appendChild(l)))}}function x4(a){Ml.D(a),s5("dns-prefetch",a,null)}function A4(a,l){Ml.C(a,l),s5("preconnect",a,l)}function S4(a,l,h){Ml.L(a,l,h);var m=sd;if(m&&a&&l){var w='link[rel="preload"][as="'+Bn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Bn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Bn(h.imageSizes)+'"]')):w+='[href="'+Bn(a)+'"]';var N=w;switch(l){case"style":N=ad(a);break;case"script":N=od(a)}ia.has(N)||(a=f({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),ia.set(N,a),m.querySelector(w)!==null||l==="style"&&m.querySelector(Uf(N))||l==="script"&&m.querySelector(Hf(N))||(l=m.createElement("link"),Sr(l,"link",a),Cn(l),m.head.appendChild(l)))}}function E4(a,l){Ml.m(a,l);var h=sd;if(h&&a){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Bn(m)+'"][href="'+Bn(a)+'"]',N=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=od(a)}if(!ia.has(N)&&(a=f({rel:"modulepreload",href:a},l),ia.set(N,a),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Hf(N)))return}m=h.createElement("link"),Sr(m,"link",a),Cn(m),h.head.appendChild(m)}}}function _4(a,l,h){Ml.S(a,l,h);var m=sd;if(m&&a){var w=Wi(m).hoistableStyles,N=ad(a);l=l||"default";var z=w.get(N);if(!z){var Q={loading:0,preload:null};if(z=m.querySelector(Uf(N)))Q.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":l},h),(h=ia.get(N))&&$v(a,h);var ft=z=m.createElement("link");Cn(ft),Sr(ft,"link",a),ft._p=new Promise(function(Rt,Ft){ft.onload=Rt,ft.onerror=Ft}),ft.addEventListener("load",function(){Q.loading|=1}),ft.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,qm(z,l,m)}z={type:"stylesheet",instance:z,count:1,state:Q},w.set(N,z)}}}function N4(a,l){Ml.X(a,l);var h=sd;if(h&&a){var m=Wi(h).hoistableScripts,w=od(a),N=m.get(w);N||(N=h.querySelector(Hf(w)),N||(a=f({src:a,async:!0},l),(l=ia.get(w))&&Wv(a,l),N=h.createElement("script"),Cn(N),Sr(N,"link",a),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(w,N))}}function C4(a,l){Ml.M(a,l);var h=sd;if(h&&a){var m=Wi(h).hoistableScripts,w=od(a),N=m.get(w);N||(N=h.querySelector(Hf(w)),N||(a=f({src:a,async:!0,type:"module"},l),(l=ia.get(w))&&Wv(a,l),N=h.createElement("script"),Cn(N),Sr(N,"link",a),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(w,N))}}function a5(a,l,h,m){var w=(w=ot.current)?Hm(w):null;if(!w)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=ad(h.href),h=Wi(w).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=ad(h.href);var N=Wi(w).hoistableStyles,z=N.get(a);if(z||(w=w.ownerDocument||w,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,z),(N=w.querySelector(Uf(a)))&&!N._p&&(z.instance=N,z.state.loading=5),ia.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ia.set(a,h),N||R4(w,a,h,z.state))),l&&m===null)throw Error(n(528,""));return z}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=od(h),h=Wi(w).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function ad(a){return'href="'+Bn(a)+'"'}function Uf(a){return'link[rel="stylesheet"]['+a+"]"}function o5(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function R4(a,l,h,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Sr(l,"link",h),Cn(l),a.head.appendChild(l))}function od(a){return'[src="'+Bn(a)+'"]'}function Hf(a){return"script[async]"+a}function l5(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Bn(h.href)+'"]');if(m)return l.instance=m,Cn(m),m;var w=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Cn(m),Sr(m,"style",w),qm(m,h.precedence,a),l.instance=m;case"stylesheet":w=ad(h.href);var N=a.querySelector(Uf(w));if(N)return l.state.loading|=4,l.instance=N,Cn(N),N;m=o5(h),(w=ia.get(w))&&$v(m,w),N=(a.ownerDocument||a).createElement("link"),Cn(N);var z=N;return z._p=new Promise(function(Q,ft){z.onload=Q,z.onerror=ft}),Sr(N,"link",m),l.state.loading|=4,qm(N,h.precedence,a),l.instance=N;case"script":return N=od(h.src),(w=a.querySelector(Hf(N)))?(l.instance=w,Cn(w),w):(m=h,(w=ia.get(N))&&(m=f({},h),Wv(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),Cn(w),Sr(w,"link",m),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,qm(m,h.precedence,a));return l.instance}function qm(a,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,N=w,z=0;z<m.length;z++){var Q=m[z];if(Q.dataset.precedence===l)N=Q;else if(N!==w)break}N?N.parentNode.insertBefore(a,N.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function $v(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Wv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Vm=null;function c5(a,l,h){if(Vm===null){var m=new Map,w=Vm=new Map;w.set(h,m)}else w=Vm,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),w=0;w<h.length;w++){var N=h[w];if(!(N[Vr]||N[gn]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var z=N.getAttribute(l)||"";z=a+z;var Q=m.get(z);Q?Q.push(N):m.set(z,[N])}}return m}function u5(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function T4(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function h5(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var qf=null;function L4(){}function M4(a,l,h){if(qf===null)throw Error(n(475));var m=qf;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=ad(h.href),N=a.querySelector(Uf(w));if(N){a=N._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Gm.bind(m),a.then(m,m)),l.state.loading|=4,l.instance=N,Cn(N);return}N=a.ownerDocument||a,h=o5(h),(w=ia.get(w))&&$v(h,w),N=N.createElement("link"),Cn(N);var z=N;z._p=new Promise(function(Q,ft){z.onload=Q,z.onerror=ft}),Sr(N,"link",h),l.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Gm.bind(m),a.addEventListener("load",l),a.addEventListener("error",l))}}function P4(){if(qf===null)throw Error(n(475));var a=qf;return a.stylesheets&&a.count===0&&Yv(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&Yv(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Gm(){if(this.count--,this.count===0){if(this.stylesheets)Yv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $m=null;function Yv(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$m=new Map,l.forEach(D4,a),$m=null,Gm.call(a))}function D4(a,l){if(!(l.state.loading&4)){var h=$m.get(a);if(h)var m=h.get(null);else{h=new Map,$m.set(a,h);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<w.length;N++){var z=w[N];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),m=z)}m&&h.set(null,m)}w=l.instance,z=w.getAttribute("data-precedence"),N=h.get(z)||m,N===m&&h.set(null,w),h.set(z,w),this.count++,m=Gm.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),N?N.parentNode.insertBefore(w,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var Vf={$$typeof:L,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function O4(a,l,h,m,w,N,z,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=N,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function d5(a,l,h,m,w,N,z,Q,ft,Rt,Ft,Gt){return a=new O4(a,l,h,z,Q,ft,Rt,Gt),l=1,N===!0&&(l|=24),N=or(3,null,null,l),a.current=N,N.stateNode=a,l=ff(),l.refCount++,a.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:h,cache:l},bt(N),a}function f5(a){return a?(a=Fi,a):Fi}function p5(a,l,h,m,w,N){w=f5(w),m.context===null?m.context=w:m.pendingContext=w,m=It(l),m.payload={element:h},N=N===void 0?null:N,N!==null&&(m.callback=N),h=qt(a,m,l),h!==null&&(Os(h,a,l),Bt(h,a,l))}function m5(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Xv(a,l){m5(a,l),(a=a.alternate)&&m5(a,l)}function g5(a){if(a.tag===13){var l=Aa(a,67108864);l!==null&&Os(l,a,67108864),Xv(a,67108864)}}var Wm=!0;function k4(a,l,h,m){var w=U.T;U.T=null;var N=Z.p;try{Z.p=2,Kv(a,l,h,m)}finally{Z.p=N,U.T=w}}function j4(a,l,h,m){var w=U.T;U.T=null;var N=Z.p;try{Z.p=8,Kv(a,l,h,m)}finally{Z.p=N,U.T=w}}function Kv(a,l,h,m){if(Wm){var w=Qv(m);if(w===null)Iv(a,l,m,Ym,h),b5(a,m);else if(F4(w,a,l,h,m))m.stopPropagation();else if(b5(a,m),l&4&&-1<I4.indexOf(a)){for(;w!==null;){var N=sr(w);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var z=Qe(N.pendingLanes);if(z!==0){var Q=N;for(Q.pendingLanes|=2,Q.entangledLanes|=2;z;){var ft=1<<31-le(z);Q.entanglements[1]|=ft,z&=~ft}Po(N),(Tn&6)===0&&(Mm=se()+500,If(0))}}break;case 13:Q=Aa(N,2),Q!==null&&Os(Q,N,2),Dm(),Xv(N,2)}if(N=Qv(m),N===null&&Iv(a,l,m,Ym,h),N===w)break;w=N}w!==null&&m.stopPropagation()}else Iv(a,l,m,null,h)}}function Qv(a){return a=ki(a),Zv(a)}var Ym=null;function Zv(a){if(Ym=null,a=rr(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Ym=a,null}function v5(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case Vt:return 2;case Zt:return 8;case Jt:case Xt:return 32;case ce:return 268435456;default:return 32}default:return 32}}var Jv=!1,Tc=null,Lc=null,Mc=null,Gf=new Map,$f=new Map,Pc=[],I4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b5(a,l){switch(a){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":Lc=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":Gf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$f.delete(l.pointerId)}}function Wf(a,l,h,m,w,N){return a===null||a.nativeEvent!==N?(a={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:N,targetContainers:[w]},l!==null&&(l=sr(l),l!==null&&g5(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function F4(a,l,h,m,w){switch(l){case"focusin":return Tc=Wf(Tc,a,l,h,m,w),!0;case"dragenter":return Lc=Wf(Lc,a,l,h,m,w),!0;case"mouseover":return Mc=Wf(Mc,a,l,h,m,w),!0;case"pointerover":var N=w.pointerId;return Gf.set(N,Wf(Gf.get(N)||null,a,l,h,m,w)),!0;case"gotpointercapture":return N=w.pointerId,$f.set(N,Wf($f.get(N)||null,a,l,h,m,w)),!0}return!1}function y5(a){var l=rr(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,En(a.priority,function(){if(h.tag===13){var m=Ds();m=Pn(m);var w=Aa(h,m);w!==null&&Os(w,h,m),Xv(h,m)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Qv(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);Wl=m,h.target.dispatchEvent(m),Wl=null}else return l=sr(h),l!==null&&g5(l),a.blockedOn=h,!1;l.shift()}return!0}function w5(a,l,h){Xm(a)&&h.delete(l)}function B4(){Jv=!1,Tc!==null&&Xm(Tc)&&(Tc=null),Lc!==null&&Xm(Lc)&&(Lc=null),Mc!==null&&Xm(Mc)&&(Mc=null),Gf.forEach(w5),$f.forEach(w5)}function Km(a,l){a.blockedOn===l&&(a.blockedOn=null,Jv||(Jv=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,B4)))}var Qm=null;function x5(a){Qm!==a&&(Qm=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qm===a&&(Qm=null);for(var l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],w=a[l+2];if(typeof m!="function"){if(Zv(m||h)===null)continue;break}var N=sr(h);N!==null&&(a.splice(l,3),l-=3,ta(N,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function Yf(a){function l(ft){return Km(ft,a)}Tc!==null&&Km(Tc,a),Lc!==null&&Km(Lc,a),Mc!==null&&Km(Mc,a),Gf.forEach(l),$f.forEach(l);for(var h=0;h<Pc.length;h++){var m=Pc[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Pc.length&&(h=Pc[0],h.blockedOn===null);)y5(h),h.blockedOn===null&&Pc.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],N=h[m+1],z=w[tn]||null;if(typeof N=="function")z||x5(h);else if(z){var Q=null;if(N&&N.hasAttribute("formAction")){if(w=N,z=N[tn]||null)Q=z.formAction;else if(Zv(w)!==null)continue}else Q=z.action;typeof Q=="function"?h[m+1]=Q:(h.splice(m,3),m-=3),x5(h)}}}function t1(a){this._internalRoot=a}Zm.prototype.render=t1.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,m=Ds();p5(h,m,a,l,null,null)},Zm.prototype.unmount=t1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;p5(a.current,2,null,a,null,null),Dm(),l[vn]=null}};function Zm(a){this._internalRoot=a}Zm.prototype.unstable_scheduleHydration=function(a){if(a){var l=ir();a={blockedOn:null,target:a,priority:l};for(var h=0;h<Pc.length&&l!==0&&l<Pc[h].priority;h++);Pc.splice(h,0,a),h===0&&y5(a)}};var A5=t.version;if(A5!=="19.1.0")throw Error(n(527,A5,"19.1.0"));Z.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var z4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{Se=Jm.inject(z4),be=Jm}catch{}}return Kf.createRoot=function(a,l){if(!r(a))throw Error(n(299));var h=!1,m="",w=F2,N=B2,z=z2,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks)),l=d5(a,1,!1,null,null,h,m,w,N,z,Q,null),a[vn]=l.current,jv(a),new t1(l)},Kf.hydrateRoot=function(a,l,h){if(!r(a))throw Error(n(299));var m=!1,w="",N=F2,z=B2,Q=z2,ft=null,Rt=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(Q=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ft=h.unstable_transitionCallbacks),h.formState!==void 0&&(Rt=h.formState)),l=d5(a,1,!0,l,h??null,m,w,N,z,Q,ft,Rt),l.context=f5(null),h=l.current,m=Ds(),m=Pn(m),w=It(m),w.callback=null,qt(h,w,m),h=m,l.current.lanes=h,nr(l,h),Po(l),a[vn]=l.current,jv(a),new Zm(l)},Kf.version="19.1.0",Kf}var O5;function K4(){if(O5)return r1.exports;O5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),r1.exports=X4(),r1.exports}var Q4=K4();const Z4=Pp(Q4);var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nh=typeof window>"u"||"Deno"in globalThis;function Jr(){}function J4(i,t){return typeof i=="function"?i(t):i}function X1(i){return typeof i=="number"&&i>=0&&i!==1/0}function fS(i,t){return Math.max(i+(t||0)-Date.now(),0)}function Vc(i,t){return typeof i=="function"?i(t):i}function oa(i,t){return typeof i=="function"?i(t):i}function k5(i,t){const{type:e="all",exact:n,fetchStatus:r,predicate:s,queryKey:o,stale:c}=i;if(o){if(n){if(t.queryHash!==ry(o,t.options))return!1}else if(!bp(t.queryKey,o))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||r&&r!==t.state.fetchStatus||s&&!s(t))}function j5(i,t){const{exact:e,status:n,predicate:r,mutationKey:s}=i;if(s){if(!t.options.mutationKey)return!1;if(e){if(ih(t.options.mutationKey)!==ih(s))return!1}else if(!bp(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function ry(i,t){return(t?.queryKeyHashFn||ih)(i)}function ih(i){return JSON.stringify(i,(t,e)=>K1(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function bp(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>bp(i[e],t[e])):!1}function pS(i,t){if(i===t)return i;const e=I5(i)&&I5(t);if(e||K1(i)&&K1(t)){const n=e?i:Object.keys(i),r=n.length,s=e?t:Object.keys(t),o=s.length,c=e?[]:{},u=new Set(n);let d=0;for(let f=0;f<o;f++){const p=e?f:s[f];(!e&&u.has(p)||e)&&i[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=pS(i[p],t[p]),c[p]===i[p]&&i[p]!==void 0&&d++)}return r===o&&d===r?i:c}return t}function qg(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function I5(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function K1(i){if(!F5(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!F5(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function F5(i){return Object.prototype.toString.call(i)==="[object Object]"}function tR(i){return new Promise(t=>{setTimeout(t,i)})}function Q1(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?pS(i,t):t}function eR(i,t,e=0){const n=[...i,t];return e&&n.length>e?n.slice(1):n}function nR(i,t,e=0){const n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var sy=Symbol();function mS(i,t){return!i.queryFn&&t?.initialPromise?()=>t.initialPromise:!i.queryFn||i.queryFn===sy?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function gS(i,t){return typeof i=="function"?i(...t):!!i}var iR=class extends qd{#t;#e;#n;constructor(){super(),this.#n=i=>{if(!nh&&window.addEventListener){const t=()=>i();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(i){this.#n=i,this.#e?.(),this.#e=i(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(i){this.#t!==i&&(this.#t=i,this.onFocus())}onFocus(){const i=this.isFocused();this.listeners.forEach(t=>{t(i)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ay=new iR,rR=class extends qd{#t=!0;#e;#n;constructor(){super(),this.#n=i=>{if(!nh&&window.addEventListener){const t=()=>i(!0),e=()=>i(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(i){this.#n=i,this.#e?.(),this.#e=i(this.setOnline.bind(this))}setOnline(i){this.#t!==i&&(this.#t=i,this.listeners.forEach(e=>{e(i)}))}isOnline(){return this.#t}},Vg=new rR;function Z1(){let i,t;const e=new Promise((r,s)=>{i=r,t=s});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function sR(i){return Math.min(1e3*2**i,3e4)}function vS(i){return(i??"online")==="online"?Vg.isOnline():!0}var bS=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function l1(i){return i instanceof bS}function yS(i){let t=!1,e=0,n=!1,r;const s=Z1(),o=y=>{n||(g(new bS(y)),i.abort?.())},c=()=>{t=!0},u=()=>{t=!1},d=()=>ay.isFocused()&&(i.networkMode==="always"||Vg.isOnline())&&i.canRun(),f=()=>vS(i.networkMode)&&i.canRun(),p=y=>{n||(n=!0,i.onSuccess?.(y),r?.(),s.resolve(y))},g=y=>{n||(n=!0,i.onError?.(y),r?.(),s.reject(y))},v=()=>new Promise(y=>{r=_=>{(n||d())&&y(_)},i.onPause?.()}).then(()=>{r=void 0,n||i.onContinue?.()}),x=()=>{if(n)return;let y;const _=e===0?i.initialPromise:void 0;try{y=_??i.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{if(n)return;const T=i.retry??(nh?0:3),L=i.retryDelay??sR,O=typeof L=="function"?L(e,E):L,D=T===!0||typeof T=="number"&&e<T||typeof T=="function"&&T(e,E);if(t||!D){g(E);return}e++,i.onFail?.(e,E),tR(O).then(()=>d()?void 0:v()).then(()=>{t?g(E):x()})})};return{promise:s,cancel:o,continue:()=>(r?.(),s),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?x():v().then(x),s)}}var aR=i=>setTimeout(i,0);function oR(){let i=[],t=0,e=c=>{c()},n=c=>{c()},r=aR;const s=c=>{t?i.push(c):r(()=>{e(c)})},o=()=>{const c=i;i=[],c.length&&r(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||o()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{r=c}}}var Zi=oR(),wS=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X1(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(nh?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},lR=class extends wS{#t;#e;#n;#i;#s;#r;#o;constructor(i){super(),this.#o=!1,this.#r=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.#i=i.client,this.#n=this.#i.getQueryCache(),this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.#t=cR(this.options),this.state=i.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(i){this.options={...this.#r,...i},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(i,t){const e=Q1(this.state.data,i,this.options);return this.#a({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(i,t){this.#a({type:"setState",state:i,setStateOptions:t})}cancel(i){const t=this.#s?.promise;return this.#s?.cancel(i),t?t.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(i=>oa(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(i=>Vc(i.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(i=0){return this.state.data===void 0?!0:i==="static"?!1:this.state.isInvalidated?!0:!fS(this.state.dataUpdatedAt,i)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(t=>t!==i),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(i,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(i&&this.setOptions(i),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const e=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,e.signal)})},r=()=>{const u=mS(this.options,t),f=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:r};return n(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const c=u=>{l1(u)&&u.silent||this.#a({type:"error",error:u}),l1(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#s=yS({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:u=>{if(u===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){c(d);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:c,onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(i){const t=e=>{switch(i.type){case"failed":return{...e,fetchFailureCount:i.failureCount,fetchFailureReason:i.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...xS(e.data,this.options),fetchMeta:i.meta??null};case"success":return this.#e=void 0,{...e,data:i.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=i.error;return l1(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...i.state}}};this.state=t(this.state),Zi.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:i})})}};function xS(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vS(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function cR(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var uR=class extends qd{constructor(i={}){super(),this.config=i,this.#t=new Map}#t;build(i,t,e){const n=t.queryKey,r=t.queryHash??ry(n,t);let s=this.get(r);return s||(s=new lR({client:i,queryKey:n,queryHash:r,options:i.defaultQueryOptions(t),state:e,defaultOptions:i.getQueryDefaults(n)}),this.add(s)),s}add(i){this.#t.has(i.queryHash)||(this.#t.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){const t=this.#t.get(i.queryHash);t&&(i.destroy(),t===i&&this.#t.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){Zi.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#t.get(i)}getAll(){return[...this.#t.values()]}find(i){const t={exact:!0,...i};return this.getAll().find(e=>k5(t,e))}findAll(i={}){const t=this.getAll();return Object.keys(i).length>0?t.filter(e=>k5(i,e)):t}notify(i){Zi.batch(()=>{this.listeners.forEach(t=>{t(i)})})}onFocus(){Zi.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){Zi.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}},hR=class extends wS{#t;#e;#n;constructor(i){super(),this.mutationId=i.mutationId,this.#e=i.mutationCache,this.#t=[],this.state=i.state||AS(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){this.#t.includes(i)||(this.#t.push(i),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.#t=this.#t.filter(t=>t!==i),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(i){const t=()=>{this.#i({type:"continue"})};this.#n=yS({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#i({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(e)t();else{this.#i({type:"pending",variables:i,isPaused:n}),await this.#e.config.onMutate?.(i,this);const s=await this.options.onMutate?.(i);s!==this.state.context&&this.#i({type:"pending",context:s,variables:i,isPaused:n})}const r=await this.#n.start();return await this.#e.config.onSuccess?.(r,i,this.state.context,this),await this.options.onSuccess?.(r,i,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,i,this.state.context),this.#i({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,i,this.state.context,this),await this.options.onError?.(r,i,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,i,this.state.context),r}finally{this.#i({type:"error",error:r})}}finally{this.#e.runNext(this)}}#i(i){const t=e=>{switch(i.type){case"failed":return{...e,failureCount:i.failureCount,failureReason:i.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()};case"success":return{...e,data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:i.error,failureCount:e.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zi.batch(()=>{this.#t.forEach(e=>{e.onMutationUpdate(i)}),this.#e.notify({mutation:this,type:"updated",action:i})})}};function AS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dR=class extends qd{constructor(i={}){super(),this.config=i,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(i,t,e){const n=new hR({mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(t),state:e});return this.add(n),n}add(i){this.#t.add(i);const t=tg(i);if(typeof t=="string"){const e=this.#e.get(t);e?e.push(i):this.#e.set(t,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#t.delete(i)){const t=tg(i);if(typeof t=="string"){const e=this.#e.get(t);if(e)if(e.length>1){const n=e.indexOf(i);n!==-1&&e.splice(n,1)}else e[0]===i&&this.#e.delete(t)}}this.notify({type:"removed",mutation:i})}canRun(i){const t=tg(i);if(typeof t=="string"){const n=this.#e.get(t)?.find(r=>r.state.status==="pending");return!n||n===i}else return!0}runNext(i){const t=tg(i);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==i&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zi.batch(()=>{this.#t.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(i){const t={exact:!0,...i};return this.getAll().find(e=>j5(t,e))}findAll(i={}){return this.getAll().filter(t=>j5(i,t))}notify(i){Zi.batch(()=>{this.listeners.forEach(t=>{t(i)})})}resumePausedMutations(){const i=this.getAll().filter(t=>t.state.isPaused);return Zi.batch(()=>Promise.all(i.map(t=>t.continue().catch(Jr))))}};function tg(i){return i.options.scope?.id}function B5(i){return{onFetch:(t,e)=>{const n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=mS(t.options,t.fetchOptions),v=async(x,y,_)=>{if(f)return Promise.reject();if(y==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:y,direction:_?"backward":"forward",meta:t.options.meta};return p(I),I})(),L=await g(T),{maxPages:O}=t.options,D=_?nR:eR;return{pages:D(x.pages,L,O),pageParams:D(x.pageParams,y,O)}};if(r&&s.length){const x=r==="backward",y=x?fR:z5,_={pages:s,pageParams:o},E=y(n,_);c=await v(_,E,x)}else{const x=i??s.length;do{const y=u===0?o[0]??n.initialPageParam:z5(n,c);if(u>0&&y==null)break;c=await v(c,y),u++}while(u<x)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=d}}}function z5(i,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function fR(i,{pages:t,pageParams:e}){return t.length>0?i.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var pR=class{#t;#e;#n;#i;#s;#r;#o;#a;constructor(i={}){this.#t=i.queryCache||new uR,this.#e=i.mutationCache||new dR,this.#n=i.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=ay.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Vg.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(i){return this.#t.findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return this.#e.findAll({...i,status:"pending"}).length}getQueryData(i){const t=this.defaultQueryOptions({queryKey:i});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=this.#t.build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(Vc(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return this.#t.findAll(i).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(i,t,e){const n=this.defaultQueryOptions({queryKey:i}),s=this.#t.get(n.queryHash)?.state.data,o=J4(t,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...e,manual:!0})}setQueriesData(i,t,e){return Zi.batch(()=>this.#t.findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){const t=this.defaultQueryOptions({queryKey:i});return this.#t.get(t.queryHash)?.state}removeQueries(i){const t=this.#t;Zi.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=this.#t;return Zi.batch(()=>(e.findAll(i).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},n=Zi.batch(()=>this.#t.findAll(i).map(r=>r.cancel(e)));return Promise.all(n).then(Jr).catch(Jr)}invalidateQueries(i,t={}){return Zi.batch(()=>(this.#t.findAll(i).forEach(e=>{e.invalidate()}),i?.refetchType==="none"?Promise.resolve():this.refetchQueries({...i,type:i?.refetchType??i?.type??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},n=Zi.batch(()=>this.#t.findAll(i).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,e);return e.throwOnError||(s=s.catch(Jr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Jr)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=this.#t.build(this,t);return e.isStaleByTime(Vc(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Jr).catch(Jr)}fetchInfiniteQuery(i){return i.behavior=B5(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Jr).catch(Jr)}ensureInfiniteQueryData(i){return i.behavior=B5(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Vg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,t){this.#i.set(ih(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...this.#i.values()],e={};return t.forEach(n=>{bp(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){this.#s.set(ih(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...this.#s.values()],e={};return t.forEach(n=>{bp(i,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...this.#n.queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=ry(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sy&&(t.enabled=!1),t}defaultMutationOptions(i){return i?._defaulted?i:{...this.#n.mutations,...i?.mutationKey&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},mR=class extends qd{constructor(i,t){super(),this.options=t,this.#t=i,this.#a=null,this.#o=Z1(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#s;#r;#o;#a;#h;#c;#d;#u;#f;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),U5(this.#e,this.options)?this.#g():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J1(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J1(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#A(),this.#e.removeObserver(this)}setOptions(i){const t=this.options,e=this.#e;if(this.options=this.#t.defaultQueryOptions(i),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!qg(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&H5(this.#e,e,this.options,t)&&this.#g(),this.updateResult(),n&&(this.#e!==e||oa(this.options.enabled,this.#e)!==oa(t.enabled,this.#e)||Vc(this.options.staleTime,this.#e)!==Vc(t.staleTime,this.#e))&&this.#m();const r=this.#v();n&&(this.#e!==e||oa(this.options.enabled,this.#e)!==oa(t.enabled,this.#e)||r!==this.#l)&&this.#b(r)}getOptimisticResult(i){const t=this.#t.getQueryCache().build(this.#t,i),e=this.createResult(t,i);return vR(this,e)&&(this.#i=e,this.#r=this.options,this.#s=this.#e.state),e}getCurrentResult(){return this.#i}trackResult(i,t){return new Proxy(i,{get:(e,n)=>(this.trackProp(n),t?.(n),Reflect.get(e,n))})}trackProp(i){this.#p.add(i)}getCurrentQuery(){return this.#e}refetch({...i}={}){return this.fetch({...i})}fetchOptimistic(i){const t=this.#t.defaultQueryOptions(i),e=this.#t.getQueryCache().build(this.#t,t);return e.fetch().then(()=>this.createResult(e,t))}fetch(i){return this.#g({...i,cancelRefetch:i.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#g(i){this.#S();let t=this.#e.fetch(this.options,i);return i?.throwOnError||(t=t.catch(Jr)),t}#m(){this.#x();const i=Vc(this.options.staleTime,this.#e);if(nh||this.#i.isStale||!X1(i))return;const e=fS(this.#i.dataUpdatedAt,i)+1;this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},e)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(i){this.#A(),this.#l=i,!(nh||oa(this.options.enabled,this.#e)===!1||!X1(this.#l)||this.#l===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||ay.isFocused())&&this.#g()},this.#l))}#y(){this.#m(),this.#b(this.#v())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#A(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(i,t){const e=this.#e,n=this.options,r=this.#i,s=this.#s,o=this.#r,u=i!==e?i.state:this.#n,{state:d}=i;let f={...d},p=!1,g;if(t._optimisticResults){const j=this.hasListeners(),K=!j&&U5(i,t),st=j&&H5(i,e,t,n);(K||st)&&(f={...f,...xS(d.data,i.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:y}=f;g=f.data;let _=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let j;r?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(j=r.data,_=!0):j=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,j!==void 0&&(y="success",g=Q1(r?.data,j,t),p=!0)}if(t.select&&g!==void 0&&!_)if(r&&g===s?.data&&t.select===this.#h)g=this.#c;else try{this.#h=t.select,g=t.select(g),g=Q1(r?.data,g,t),this.#c=g,this.#a=null}catch(j){this.#a=j}this.#a&&(v=this.#a,g=this.#c,x=Date.now(),y="error");const E=f.fetchStatus==="fetching",T=y==="pending",L=y==="error",O=T&&E,D=g!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:T,isSuccess:y==="success",isError:L,isInitialLoading:O,isLoading:O,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!T,isLoadingError:L&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:L&&D,isStale:oy(i,t),refetch:this.refetch,promise:this.#o,isEnabled:oa(t.enabled,i)!==!1};if(this.options.experimental_prefetchInRender){const j=B=>{k.status==="error"?B.reject(k.error):k.data!==void 0&&B.resolve(k.data)},K=()=>{const B=this.#o=k.promise=Z1();j(B)},st=this.#o;switch(st.status){case"pending":i.queryHash===e.queryHash&&j(st);break;case"fulfilled":(k.status==="error"||k.data!==st.value)&&K();break;case"rejected":(k.status!=="error"||k.error!==st.reason)&&K();break}}return k}updateResult(){const i=this.#i,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#r=this.options,this.#s.data!==void 0&&(this.#d=this.#e),qg(t,i))return;this.#i=t;const e=()=>{if(!i)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#p.size)return!0;const s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const c=o;return this.#i[c]!==i[c]&&s.has(c)})};this.#N({listeners:e()})}#S(){const i=this.#t.getQueryCache().build(this.#t,this.options);if(i===this.#e)return;const t=this.#e;this.#e=i,this.#n=i.state,this.hasListeners()&&(t?.removeObserver(this),i.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(i){Zi.batch(()=>{i.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function gR(i,t){return oa(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function U5(i,t){return gR(i,t)||i.state.data!==void 0&&J1(i,t,t.refetchOnMount)}function J1(i,t,e){if(oa(t.enabled,i)!==!1&&Vc(t.staleTime,i)!=="static"){const n=typeof e=="function"?e(i):e;return n==="always"||n!==!1&&oy(i,t)}return!1}function H5(i,t,e,n){return(i!==t||oa(n.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&oy(i,e)}function oy(i,t){return oa(t.enabled,i)!==!1&&i.isStaleByTime(Vc(t.staleTime,i))}function vR(i,t){return!qg(i.getCurrentResult(),t)}var bR=class extends qd{#t;#e=void 0;#n;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#t.defaultMutationOptions(t),qg(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&ih(e.mutationKey)!==ih(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#r()}mutate(t,e){return this.#i=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??AS();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#r(t){Zi.batch(()=>{if(this.#i&&this.hasListeners()){const e=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,e,n),this.#i.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#i.onError?.(t.error,e,n),this.#i.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(e=>{e(this.#e)})})}},SS=M.createContext(void 0),Op=i=>{const t=M.useContext(SS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yR=({client:i,children:t})=>(M.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),S.jsx(SS.Provider,{value:i,children:t})),ES=M.createContext(!1),wR=()=>M.useContext(ES);ES.Provider;function xR(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var AR=M.createContext(xR()),SR=()=>M.useContext(AR),ER=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},_R=i=>{M.useEffect(()=>{i.clearReset()},[i])},NR=({result:i,errorResetBoundary:t,throwOnError:e,query:n,suspense:r})=>i.isError&&!t.isReset()&&!i.isFetching&&n&&(r&&i.data===void 0||gS(e,[i.error,n])),CR=i=>{if(i.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...n)=>t(e(...n)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},RR=(i,t)=>i.isLoading&&i.isFetching&&!t,TR=(i,t)=>i?.suspense&&t.isPending,q5=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function LR(i,t,e){const n=wR(),r=SR(),s=Op(),o=s.defaultQueryOptions(i);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",CR(o),ER(o,r),_R(r);const c=!s.getQueryCache().get(o.queryHash),[u]=M.useState(()=>new t(s,o)),d=u.getOptimisticResult(o),f=!n&&i.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(p=>{const g=f?u.subscribe(Zi.batchCalls(p)):Jr;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),M.useEffect(()=>{u.setOptions(o)},[o,u]),TR(o,d))throw q5(o,u,r);if(NR({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!nh&&RR(d,n)&&(c?q5(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Jr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function kp(i,t){return LR(i,mR)}function Us(i,t){const e=Op(),[n]=M.useState(()=>new bR(e,i));M.useEffect(()=>{n.setOptions(i)},[n,i]);const r=M.useSyncExternalStore(M.useCallback(o=>n.subscribe(Zi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=M.useCallback((o,c)=>{n.mutate(o,c).catch(Jr)},[n]);if(r.error&&gS(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function _S(i,t){return function(){return i.apply(t,arguments)}}const{toString:MR}=Object.prototype,{getPrototypeOf:ly}=Object,{iterator:o0,toStringTag:NS}=Symbol,l0=(i=>t=>{const e=MR.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ya=i=>(i=i.toLowerCase(),t=>l0(t)===i),c0=i=>t=>typeof t===i,{isArray:Vd}=Array,yp=c0("undefined");function PR(i){return i!==null&&!yp(i)&&i.constructor!==null&&!yp(i.constructor)&&vs(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const CS=Ya("ArrayBuffer");function DR(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&CS(i.buffer),t}const OR=c0("string"),vs=c0("function"),RS=c0("number"),u0=i=>i!==null&&typeof i=="object",kR=i=>i===!0||i===!1,_g=i=>{if(l0(i)!=="object")return!1;const t=ly(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(NS in i)&&!(o0 in i)},jR=Ya("Date"),IR=Ya("File"),FR=Ya("Blob"),BR=Ya("FileList"),zR=i=>u0(i)&&vs(i.pipe),UR=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||vs(i.append)&&((t=l0(i))==="formdata"||t==="object"&&vs(i.toString)&&i.toString()==="[object FormData]"))},HR=Ya("URLSearchParams"),[qR,VR,GR,$R]=["ReadableStream","Request","Response","Headers"].map(Ya),WR=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jp(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let n,r;if(typeof i!="object"&&(i=[i]),Vd(i))for(n=0,r=i.length;n<r;n++)t.call(null,i[n],n,i);else{const s=e?Object.getOwnPropertyNames(i):Object.keys(i),o=s.length;let c;for(n=0;n<o;n++)c=s[n],t.call(null,i[c],c,i)}}function TS(i,t){t=t.toLowerCase();const e=Object.keys(i);let n=e.length,r;for(;n-- >0;)if(r=e[n],t===r.toLowerCase())return r;return null}const Yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LS=i=>!yp(i)&&i!==Yu;function tb(){const{caseless:i}=LS(this)&&this||{},t={},e=(n,r)=>{const s=i&&TS(t,r)||r;_g(t[s])&&_g(n)?t[s]=tb(t[s],n):_g(n)?t[s]=tb({},n):Vd(n)?t[s]=n.slice():t[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&jp(arguments[n],e);return t}const YR=(i,t,e,{allOwnKeys:n}={})=>(jp(t,(r,s)=>{e&&vs(r)?i[s]=_S(r,e):i[s]=r},{allOwnKeys:n}),i),XR=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),KR=(i,t,e,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},QR=(i,t,e,n)=>{let r,s,o;const c={};if(t=t||{},i==null)return t;do{for(r=Object.getOwnPropertyNames(i),s=r.length;s-- >0;)o=r[s],(!n||n(o,i,t))&&!c[o]&&(t[o]=i[o],c[o]=!0);i=e!==!1&&ly(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},ZR=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const n=i.indexOf(t,e);return n!==-1&&n===e},JR=i=>{if(!i)return null;if(Vd(i))return i;let t=i.length;if(!RS(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},tT=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&ly(Uint8Array)),eT=(i,t)=>{const n=(i&&i[o0]).call(i);let r;for(;(r=n.next())&&!r.done;){const s=r.value;t.call(i,s[0],s[1])}},nT=(i,t)=>{let e;const n=[];for(;(e=i.exec(t))!==null;)n.push(e);return n},iT=Ya("HTMLFormElement"),rT=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,r){return n.toUpperCase()+r}),V5=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),sT=Ya("RegExp"),MS=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),n={};jp(e,(r,s)=>{let o;(o=t(r,s,i))!==!1&&(n[s]=o||r)}),Object.defineProperties(i,n)},aT=i=>{MS(i,(t,e)=>{if(vs(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=i[e];if(vs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},oT=(i,t)=>{const e={},n=r=>{r.forEach(s=>{e[s]=!0})};return Vd(i)?n(i):n(String(i).split(t)),e},lT=()=>{},cT=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function uT(i){return!!(i&&vs(i.append)&&i[NS]==="FormData"&&i[o0])}const hT=i=>{const t=new Array(10),e=(n,r)=>{if(u0(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const s=Vd(n)?[]:{};return jp(n,(o,c)=>{const u=e(o,r+1);!yp(u)&&(s[c]=u)}),t[r]=void 0,s}}return n};return e(i,0)},dT=Ya("AsyncFunction"),fT=i=>i&&(u0(i)||vs(i))&&vs(i.then)&&vs(i.catch),PS=((i,t)=>i?setImmediate:t?((e,n)=>(Yu.addEventListener("message",({source:r,data:s})=>{r===Yu&&s===e&&n.length&&n.shift()()},!1),r=>{n.push(r),Yu.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",vs(Yu.postMessage)),pT=typeof queueMicrotask<"u"?queueMicrotask.bind(Yu):typeof process<"u"&&process.nextTick||PS,mT=i=>i!=null&&vs(i[o0]),kt={isArray:Vd,isArrayBuffer:CS,isBuffer:PR,isFormData:UR,isArrayBufferView:DR,isString:OR,isNumber:RS,isBoolean:kR,isObject:u0,isPlainObject:_g,isReadableStream:qR,isRequest:VR,isResponse:GR,isHeaders:$R,isUndefined:yp,isDate:jR,isFile:IR,isBlob:FR,isRegExp:sT,isFunction:vs,isStream:zR,isURLSearchParams:HR,isTypedArray:tT,isFileList:BR,forEach:jp,merge:tb,extend:YR,trim:WR,stripBOM:XR,inherits:KR,toFlatObject:QR,kindOf:l0,kindOfTest:Ya,endsWith:ZR,toArray:JR,forEachEntry:eT,matchAll:nT,isHTMLForm:iT,hasOwnProperty:V5,hasOwnProp:V5,reduceDescriptors:MS,freezeMethods:aT,toObjectSet:oT,toCamelCase:rT,noop:lT,toFiniteNumber:cT,findKey:TS,global:Yu,isContextDefined:LS,isSpecCompliantForm:uT,toJSONObject:hT,isAsyncFn:dT,isThenable:fT,setImmediate:PS,asap:pT,isIterable:mT};function qe(i,t,e,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}kt.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const DS=qe.prototype,OS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{OS[i]={value:i}});Object.defineProperties(qe,OS);Object.defineProperty(DS,"isAxiosError",{value:!0});qe.from=(i,t,e,n,r,s)=>{const o=Object.create(DS);return kt.toFlatObject(i,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),qe.call(o,i.message,t,e,n,r),o.cause=i,o.name=i.name,s&&Object.assign(o,s),o};const gT=null;function eb(i){return kt.isPlainObject(i)||kt.isArray(i)}function kS(i){return kt.endsWith(i,"[]")?i.slice(0,-2):i}function G5(i,t,e){return i?i.concat(t).map(function(r,s){return r=kS(r),!e&&s?"["+r+"]":r}).join(e?".":""):t}function vT(i){return kt.isArray(i)&&!i.some(eb)}const bT=kt.toFlatObject(kt,{},null,function(t){return/^is[A-Z]/.test(t)});function h0(i,t,e){if(!kt.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=kt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!kt.isUndefined(_[y])});const n=e.metaTokens,r=e.visitor||f,s=e.dots,o=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&kt.isSpecCompliantForm(t);if(!kt.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(kt.isDate(x))return x.toISOString();if(kt.isBoolean(x))return x.toString();if(!u&&kt.isBlob(x))throw new qe("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(x)||kt.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,_){let E=x;if(x&&!_&&typeof x=="object"){if(kt.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(kt.isArray(x)&&vT(x)||(kt.isFileList(x)||kt.endsWith(y,"[]"))&&(E=kt.toArray(x)))return y=kS(y),E.forEach(function(L,O){!(kt.isUndefined(L)||L===null)&&t.append(o===!0?G5([y],O,s):o===null?y:y+"[]",d(L))}),!1}return eb(x)?!0:(t.append(G5(_,y,s),d(x)),!1)}const p=[],g=Object.assign(bT,{defaultVisitor:f,convertValue:d,isVisitable:eb});function v(x,y){if(!kt.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(x),kt.forEach(x,function(E,T){(!(kt.isUndefined(E)||E===null)&&r.call(t,E,kt.isString(T)?T.trim():T,y,g))===!0&&v(E,y?y.concat(T):[T])}),p.pop()}}if(!kt.isObject(i))throw new TypeError("data must be an object");return v(i),t}function $5(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function cy(i,t){this._pairs=[],i&&h0(i,this,t)}const jS=cy.prototype;jS.append=function(t,e){this._pairs.push([t,e])};jS.toString=function(t){const e=t?function(n){return t.call(this,n,$5)}:$5;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function yT(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IS(i,t,e){if(!t)return i;const n=e&&e.encode||yT;kt.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let s;if(r?s=r(t,e):s=kt.isURLSearchParams(t)?t.toString():new cy(t,e).toString(n),s){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+s}return i}class W5{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){kt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const FS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wT=typeof URLSearchParams<"u"?URLSearchParams:cy,xT=typeof FormData<"u"?FormData:null,AT=typeof Blob<"u"?Blob:null,ST={isBrowser:!0,classes:{URLSearchParams:wT,FormData:xT,Blob:AT},protocols:["http","https","file","blob","url","data"]},uy=typeof window<"u"&&typeof document<"u",nb=typeof navigator=="object"&&navigator||void 0,ET=uy&&(!nb||["ReactNative","NativeScript","NS"].indexOf(nb.product)<0),_T=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NT=uy&&window.location.href||"http://localhost",CT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uy,hasStandardBrowserEnv:ET,hasStandardBrowserWebWorkerEnv:_T,navigator:nb,origin:NT},Symbol.toStringTag,{value:"Module"})),Ur={...CT,...ST};function RT(i,t){return h0(i,new Ur.classes.URLSearchParams,Object.assign({visitor:function(e,n,r,s){return Ur.isNode&&kt.isBuffer(e)?(this.append(n,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function TT(i){return kt.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function LT(i){const t={},e=Object.keys(i);let n;const r=e.length;let s;for(n=0;n<r;n++)s=e[n],t[s]=i[s];return t}function BS(i){function t(e,n,r,s){let o=e[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=s>=e.length;return o=!o&&kt.isArray(r)?r.length:o,u?(kt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!c):((!r[o]||!kt.isObject(r[o]))&&(r[o]=[]),t(e,n,r[o],s)&&kt.isArray(r[o])&&(r[o]=LT(r[o])),!c)}if(kt.isFormData(i)&&kt.isFunction(i.entries)){const e={};return kt.forEachEntry(i,(n,r)=>{t(TT(n),r,e,0)}),e}return null}function MT(i,t,e){if(kt.isString(i))try{return(t||JSON.parse)(i),kt.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}const Ip={transitional:FS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,s=kt.isObject(t);if(s&&kt.isHTMLForm(t)&&(t=new FormData(t)),kt.isFormData(t))return r?JSON.stringify(BS(t)):t;if(kt.isArrayBuffer(t)||kt.isBuffer(t)||kt.isStream(t)||kt.isFile(t)||kt.isBlob(t)||kt.isReadableStream(t))return t;if(kt.isArrayBufferView(t))return t.buffer;if(kt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return RT(t,this.formSerializer).toString();if((c=kt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return h0(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),MT(t)):t}],transformResponse:[function(t){const e=this.transitional||Ip.transitional,n=e&&e.forcedJSONParsing,r=this.responseType==="json";if(kt.isResponse(t)||kt.isReadableStream(t))return t;if(t&&kt.isString(t)&&(n&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?qe.from(c,qe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],i=>{Ip.headers[i]={}});const PT=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DT=i=>{const t={};let e,n,r;return i&&i.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!e||t[e]&&PT[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},Y5=Symbol("internals");function Qf(i){return i&&String(i).trim().toLowerCase()}function Ng(i){return i===!1||i==null?i:kt.isArray(i)?i.map(Ng):String(i)}function OT(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(i);)t[n[1]]=n[2];return t}const kT=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function c1(i,t,e,n,r){if(kt.isFunction(n))return n.call(this,t,e);if(r&&(t=e),!!kt.isString(t)){if(kt.isString(n))return t.indexOf(n)!==-1;if(kt.isRegExp(n))return n.test(t)}}function jT(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function IT(i,t){const e=kt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+e,{value:function(r,s,o){return this[n].call(this,t,r,s,o)},configurable:!0})})}let bs=class{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function s(c,u,d){const f=Qf(u);if(!f)throw new Error("header name must be a non-empty string");const p=kt.findKey(r,f);(!p||r[p]===void 0||d===!0||d===void 0&&r[p]!==!1)&&(r[p||u]=Ng(c))}const o=(c,u)=>kt.forEach(c,(d,f)=>s(d,f,u));if(kt.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(kt.isString(t)&&(t=t.trim())&&!kT(t))o(DT(t),e);else if(kt.isObject(t)&&kt.isIterable(t)){let c={},u,d;for(const f of t){if(!kt.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?kt.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,e)}else t!=null&&s(e,t,n);return this}get(t,e){if(t=Qf(t),t){const n=kt.findKey(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return OT(r);if(kt.isFunction(e))return e.call(this,r,n);if(kt.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Qf(t),t){const n=kt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||c1(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let r=!1;function s(o){if(o=Qf(o),o){const c=kt.findKey(n,o);c&&(!e||c1(n,n[c],c,e))&&(delete n[c],r=!0)}}return kt.isArray(t)?t.forEach(s):s(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const s=e[n];(!t||c1(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const e=this,n={};return kt.forEach(this,(r,s)=>{const o=kt.findKey(n,s);if(o){e[o]=Ng(r),delete e[s];return}const c=t?jT(s):String(s).trim();c!==s&&delete e[s],e[c]=Ng(r),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return kt.forEach(this,(n,r)=>{n!=null&&n!==!1&&(e[r]=t&&kt.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[Y5]=this[Y5]={accessors:{}}).accessors,r=this.prototype;function s(o){const c=Qf(o);n[c]||(IT(r,o),n[c]=!0)}return kt.isArray(t)?t.forEach(s):s(t),this}};bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);kt.reduceDescriptors(bs.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[e]=n}}});kt.freezeMethods(bs);function u1(i,t){const e=this||Ip,n=t||e,r=bs.from(n.headers);let s=n.data;return kt.forEach(i,function(c){s=c.call(e,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function zS(i){return!!(i&&i.__CANCEL__)}function Gd(i,t,e){qe.call(this,i??"canceled",qe.ERR_CANCELED,t,e),this.name="CanceledError"}kt.inherits(Gd,qe,{__CANCEL__:!0});function US(i,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?i(e):t(new qe("Request failed with status code "+e.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function FT(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function BT(i,t){i=i||10;const e=new Array(i),n=new Array(i);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[s];o||(o=d),e[r]=u,n[r]=d;let p=s,g=0;for(;p!==r;)g+=e[p++],p=p%i;if(r=(r+1)%i,r===s&&(s=(s+1)%i),d-o<t)return;const v=f&&d-f;return v?Math.round(g*1e3/v):void 0}}function zT(i,t){let e=0,n=1e3/t,r,s;const o=(d,f=Date.now())=>{e=f,r=null,s&&(clearTimeout(s),s=null),i.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-e;p>=n?o(d,f):(r=d,s||(s=setTimeout(()=>{s=null,o(r)},n-p)))},()=>r&&o(r)]}const Gg=(i,t,e=3)=>{let n=0;const r=BT(50,250);return zT(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,u=o-n,d=r(u),f=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};i(p)},e)},X5=(i,t)=>{const e=i!=null;return[n=>t[0]({lengthComputable:e,total:i,loaded:n}),t[1]]},K5=i=>(...t)=>kt.asap(()=>i(...t)),UT=Ur.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,Ur.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(Ur.origin),Ur.navigator&&/(msie|trident)/i.test(Ur.navigator.userAgent)):()=>!0,HT=Ur.hasStandardBrowserEnv?{write(i,t,e,n,r,s){const o=[i+"="+encodeURIComponent(t)];kt.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),kt.isString(n)&&o.push("path="+n),kt.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qT(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function VT(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function HS(i,t,e){let n=!qT(t);return i&&(n||e==!1)?VT(i,t):t}const Q5=i=>i instanceof bs?{...i}:i;function rh(i,t){t=t||{};const e={};function n(d,f,p,g){return kt.isPlainObject(d)&&kt.isPlainObject(f)?kt.merge.call({caseless:g},d,f):kt.isPlainObject(f)?kt.merge({},f):kt.isArray(f)?f.slice():f}function r(d,f,p,g){if(kt.isUndefined(f)){if(!kt.isUndefined(d))return n(void 0,d,p,g)}else return n(d,f,p,g)}function s(d,f){if(!kt.isUndefined(f))return n(void 0,f)}function o(d,f){if(kt.isUndefined(f)){if(!kt.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function c(d,f,p){if(p in t)return n(d,f);if(p in i)return n(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,p)=>r(Q5(d),Q5(f),p,!0)};return kt.forEach(Object.keys(Object.assign({},i,t)),function(f){const p=u[f]||r,g=p(i[f],t[f],f);kt.isUndefined(g)&&p!==c||(e[f]=g)}),e}const qS=i=>{const t=rh({},i);let{data:e,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=bs.from(o),t.url=IS(HS(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(kt.isFormData(e)){if(Ur.hasStandardBrowserEnv||Ur.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ur.hasStandardBrowserEnv&&(n&&kt.isFunction(n)&&(n=n(t)),n||n!==!1&&UT(t.url))){const d=r&&s&&HT.read(s);d&&o.set(r,d)}return t},GT=typeof XMLHttpRequest<"u",$T=GT&&function(i){return new Promise(function(e,n){const r=qS(i);let s=r.data;const o=bs.from(r.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=r,f,p,g,v,x;function y(){v&&v(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function E(){if(!_)return;const L=bs.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:L,config:i,request:_};US(function(k){e(k),y()},function(k){n(k),y()},D),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(n(new qe("Request aborted",qe.ECONNABORTED,i,_)),_=null)},_.onerror=function(){n(new qe("Network Error",qe.ERR_NETWORK,i,_)),_=null},_.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||FS;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),n(new qe(O,D.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,i,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&kt.forEach(o.toJSON(),function(O,D){_.setRequestHeader(D,O)}),kt.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),c&&c!=="json"&&(_.responseType=r.responseType),d&&([g,x]=Gg(d,!0),_.addEventListener("progress",g)),u&&_.upload&&([p,v]=Gg(u),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(f=L=>{_&&(n(!L||L.type?new Gd(null,i,_):L),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const T=FT(r.url);if(T&&Ur.protocols.indexOf(T)===-1){n(new qe("Unsupported protocol "+T+":",qe.ERR_BAD_REQUEST,i));return}_.send(s||null)})},WT=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let n=new AbortController,r;const s=function(d){if(!r){r=!0,c();const f=d instanceof Error?d:this.reason;n.abort(f instanceof qe?f:new Gd(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,s(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),i=null)};i.forEach(d=>d.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>kt.asap(c),u}},YT=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let n=0,r;for(;n<e;)r=n+t,yield i.slice(n,r),n=r},XT=async function*(i,t){for await(const e of KT(i))yield*YT(e,t)},KT=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Z5=(i,t,e,n)=>{const r=XT(i,t);let s=0,o,c=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await r.next();if(d){c(),u.close();return}let p=f.byteLength;if(e){let g=s+=p;e(g)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),r.return()}},{highWaterMark:2})},d0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VS=d0&&typeof ReadableStream=="function",QT=d0&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),GS=(i,...t)=>{try{return!!i(...t)}catch{return!1}},ZT=VS&&GS(()=>{let i=!1;const t=new Request(Ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),J5=64*1024,ib=VS&&GS(()=>kt.isReadableStream(new Response("").body)),$g={stream:ib&&(i=>i.body)};d0&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$g[t]&&($g[t]=kt.isFunction(i[t])?e=>e[t]():(e,n)=>{throw new qe(`Response type '${t}' is not supported`,qe.ERR_NOT_SUPPORT,n)})})})(new Response);const JT=async i=>{if(i==null)return 0;if(kt.isBlob(i))return i.size;if(kt.isSpecCompliantForm(i))return(await new Request(Ur.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(kt.isArrayBufferView(i)||kt.isArrayBuffer(i))return i.byteLength;if(kt.isURLSearchParams(i)&&(i=i+""),kt.isString(i))return(await QT(i)).byteLength},tL=async(i,t)=>{const e=kt.toFiniteNumber(i.getContentLength());return e??JT(t)},eL=d0&&(async i=>{let{url:t,method:e,data:n,signal:r,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:g}=qS(i);d=d?(d+"").toLowerCase():"text";let v=WT([r,s&&s.toAbortSignal()],o),x;const y=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let _;try{if(u&&ZT&&e!=="get"&&e!=="head"&&(_=await tL(f,n))!==0){let D=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(kt.isFormData(n)&&(I=D.headers.get("content-type"))&&f.setContentType(I),D.body){const[k,j]=X5(_,Gg(K5(u)));n=Z5(D.body,J5,k,j)}}kt.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;x=new Request(t,{...g,signal:v,method:e.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:E?p:void 0});let T=await fetch(x,g);const L=ib&&(d==="stream"||d==="response");if(ib&&(c||L&&y)){const D={};["status","statusText","headers"].forEach(K=>{D[K]=T[K]});const I=kt.toFiniteNumber(T.headers.get("content-length")),[k,j]=c&&X5(I,Gg(K5(c),!0))||[];T=new Response(Z5(T.body,J5,k,()=>{j&&j(),y&&y()}),D)}d=d||"text";let O=await $g[kt.findKey($g,d)||"text"](T,i);return!L&&y&&y(),await new Promise((D,I)=>{US(D,I,{data:O,headers:bs.from(T.headers),status:T.status,statusText:T.statusText,config:i,request:x})})}catch(E){throw y&&y(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,i,x),{cause:E.cause||E}):qe.from(E,E&&E.code,i,x)}}),rb={http:gT,xhr:$T,fetch:eL};kt.forEach(rb,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const tx=i=>`- ${i}`,nL=i=>kt.isFunction(i)||i===null||i===!1,$S={getAdapter:i=>{i=kt.isArray(i)?i:[i];const{length:t}=i;let e,n;const r={};for(let s=0;s<t;s++){e=i[s];let o;if(n=e,!nL(e)&&(n=rb[(o=String(e)).toLowerCase()],n===void 0))throw new qe(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+s]=n}if(!n){const s=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(tx).join(`
`):" "+tx(s[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:rb};function h1(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Gd(null,i)}function ex(i){return h1(i),i.headers=bs.from(i.headers),i.data=u1.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),$S.getAdapter(i.adapter||Ip.adapter)(i).then(function(n){return h1(i),n.data=u1.call(i,i.transformResponse,n),n.headers=bs.from(n.headers),n},function(n){return zS(n)||(h1(i),n&&n.response&&(n.response.data=u1.call(i,i.transformResponse,n.response),n.response.headers=bs.from(n.response.headers))),Promise.reject(n)})}const WS="1.10.0",f0={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{f0[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const nx={};f0.transitional=function(t,e,n){function r(s,o){return"[Axios v"+WS+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,c)=>{if(t===!1)throw new qe(r(o," has been removed"+(e?" in "+e:"")),qe.ERR_DEPRECATED);return e&&!nx[o]&&(nx[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,c):!0}};f0.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function iL(i,t,e){if(typeof i!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let r=n.length;for(;r-- >0;){const s=n[r],o=t[s];if(o){const c=i[s],u=c===void 0||o(c,s,i);if(u!==!0)throw new qe("option "+s+" must be "+u,qe.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new qe("Unknown option "+s,qe.ERR_BAD_OPTION)}}const Cg={assertOptions:iL,validators:f0},ko=Cg.validators;let th=class{constructor(t){this.defaults=t||{},this.interceptors={request:new W5,response:new W5}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=rh(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:s}=e;n!==void 0&&Cg.assertOptions(n,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),r!=null&&(kt.isFunction(r)?e.paramsSerializer={serialize:r}:Cg.assertOptions(r,{encode:ko.function,serialize:ko.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Cg.assertOptions(e,{baseUrl:ko.spelling("baseURL"),withXsrfToken:ko.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&kt.merge(s.common,s[e.method]);s&&kt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),e.headers=bs.concat(o,s);const c=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(e)===!1||(u=u&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,p=0,g;if(!u){const x=[ex.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,d),g=x.length,f=Promise.resolve(e);p<g;)f=f.then(x[p++],x[p++]);return f}g=c.length;let v=e;for(p=0;p<g;){const x=c[p++],y=c[p++];try{v=x(v)}catch(_){y.call(this,_);break}}try{f=ex.call(this,v)}catch(x){return Promise.reject(x)}for(p=0,g=d.length;p<g;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=rh(this.defaults,t);const e=HS(t.baseURL,t.url,t.allowAbsoluteUrls);return IS(e,t.params,t.paramsSerializer)}};kt.forEach(["delete","get","head","options"],function(t){th.prototype[t]=function(e,n){return this.request(rh(n||{},{method:t,url:e,data:(n||{}).data}))}});kt.forEach(["post","put","patch"],function(t){function e(n){return function(s,o,c){return this.request(rh(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}th.prototype[t]=e(),th.prototype[t+"Form"]=e(!0)});let rL=class YS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(c=>{n.subscribe(c),s=c}).then(r);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,c){n.reason||(n.reason=new Gd(s,o,c),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new YS(function(r){t=r}),cancel:t}}};function sL(i){return function(e){return i.apply(null,e)}}function aL(i){return kt.isObject(i)&&i.isAxiosError===!0}const sb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sb).forEach(([i,t])=>{sb[t]=i});function XS(i){const t=new th(i),e=_S(th.prototype.request,t);return kt.extend(e,th.prototype,t,{allOwnKeys:!0}),kt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return XS(rh(i,r))},e}const Di=XS(Ip);Di.Axios=th;Di.CanceledError=Gd;Di.CancelToken=rL;Di.isCancel=zS;Di.VERSION=WS;Di.toFormData=h0;Di.AxiosError=qe;Di.Cancel=Di.CanceledError;Di.all=function(t){return Promise.all(t)};Di.spread=sL;Di.isAxiosError=aL;Di.mergeConfig=rh;Di.AxiosHeaders=bs;Di.formToJSON=i=>BS(kt.isHTMLForm(i)?new FormData(i):i);Di.getAdapter=$S.getAdapter;Di.HttpStatusCode=sb;Di.default=Di;const{Axios:rz,AxiosError:sz,CanceledError:az,isCancel:oz,CancelToken:lz,VERSION:cz,all:uz,Cancel:hz,isAxiosError:dz,spread:fz,toFormData:pz,AxiosHeaders:mz,HttpStatusCode:gz,formToJSON:vz,getAdapter:bz,mergeConfig:yz}=Di,oL="https://192.168.0.7:5555",qn=Di.create({baseURL:`${oL}/api/v1`});qn.interceptors.request.use(i=>(i.data instanceof FormData?delete i.headers["Content-Type"]:i.headers["Content-Type"]="application/json",i));qn.interceptors.request.use(i=>{const t=localStorage.getItem("token");return t&&(i.headers.Authorization=`Bearer ${t}`),i});qn.interceptors.response.use(i=>i,i=>(i.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(i)));const lL=i=>qn.post("/auth/login",i),cL=i=>qn.post("/auth/password-reset",i),uL=(i,t)=>qn.post(`/auth/password-reset/${i}`,t),hL=i=>qn.post("/user/register",i),dL=i=>qn.post("/user/self-register",i),fL=i=>qn.post("/user/review-registration",i),pL=(i,t)=>qn.put(`/user/status/${i}`,t),mL=(i,t)=>qn.put(`/user/roles/${i}`,t),gL=()=>qn.get("/user"),vL=(i,t)=>qn.put(`/user/${i}`,t),bh=M.createContext(),bL=({children:i})=>{const t=Op(),[e,n]=M.useState(JSON.parse(localStorage.getItem("user"))||null),r=Us({mutationFn:lL,onSuccess:({data:o})=>{localStorage.setItem("token",o.data.token),localStorage.setItem("user",JSON.stringify(o.data.user)),n(o.data.user)}}),s=Us({mutationFn:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),t.clear(),window.location.href="/login"}});return S.jsx(bh.Provider,{value:{user:e,setUser:n,login:r.mutate,logout:s.mutate,isLoading:r.isLoading||s.isLoading,error:r.error||s.error},children:i})},yL=new pR({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ix="popstate";function wL(i={}){function t(n,r){let{pathname:s,search:o,hash:c}=n.location;return ab("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:wp(r)}return AL(t,e,null,i)}function li(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Va(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xL(){return Math.random().toString(36).substring(2,10)}function rx(i,t){return{usr:i.state,key:i.key,idx:t}}function ab(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?$d(t):t,state:e,key:t&&t.key||n||xL()}}function wp({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function $d(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function AL(i,t,e,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=f(),E=_==null?null:_-d;d=_,u&&u({action:c,location:y.location,delta:E})}function g(_,E){c="PUSH";let T=ab(y.location,_,E);d=f()+1;let L=rx(T,d),O=y.createHref(T);try{o.pushState(L,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(O)}s&&u&&u({action:c,location:y.location,delta:1})}function v(_,E){c="REPLACE";let T=ab(y.location,_,E);d=f();let L=rx(T,d),O=y.createHref(T);o.replaceState(L,"",O),s&&u&&u({action:c,location:y.location,delta:0})}function x(_){return SL(_)}let y={get action(){return c},get location(){return i(r,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(ix,p),u=_,()=>{r.removeEventListener(ix,p),u=null}},createHref(_){return t(r,_)},createURL:x,encodeLocation(_){let E=x(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(_){return o.go(_)}};return y}function SL(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),li(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:wp(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function KS(i,t,e="/"){return EL(i,t,e,!1)}function EL(i,t,e,n){let r=typeof t=="string"?$d(t):t,s=Il(r.pathname||"/",e);if(s==null)return null;let o=QS(i);_L(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=jL(s);c=OL(o[u],d,n)}return c}function QS(i,t=[],e=[],n=""){let r=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(li(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=jl([n,u.relativePath]),f=e.concat(u);s.children&&s.children.length>0&&(li(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),QS(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:PL(d,s.index),routesMeta:f})};return i.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let c of ZS(s.path))r(s,o,c)}),t}function ZS(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=ZS(n.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>i.startsWith("/")&&u===""?"/":u)}function _L(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:DL(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var NL=/^:[\w-]+$/,CL=3,RL=2,TL=1,LL=10,ML=-2,sx=i=>i==="*";function PL(i,t){let e=i.split("/"),n=e.length;return e.some(sx)&&(n+=ML),t&&(n+=RL),e.filter(r=>!sx(r)).reduce((r,s)=>r+(NL.test(s)?CL:s===""?TL:LL),n)}function DL(i,t){return i.length===t.length&&i.slice(0,-1).every((n,r)=>n===t[r])?i[i.length-1]-t[t.length-1]:0}function OL(i,t,e=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Wg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&e&&!n[n.length-1].route.index&&(p=Wg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:jl([s,p.pathname]),pathnameBase:zL(jl([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=jl([s,p.pathnameBase]))}return o}function Wg(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=kL(i.path,i.caseSensitive,i.end),r=t.match(e);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let x=c[g]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:i}}function kL(i,t=!1,e=!0){Va(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function jL(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Va(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Il(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function IL(i,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof i=="string"?$d(i):i;return{pathname:e?e.startsWith("/")?e:FL(e,t):t,search:UL(n),hash:HL(r)}}function FL(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function d1(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BL(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function hy(i){let t=BL(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function dy(i,t,e,n=!1){let r;typeof i=="string"?r=$d(i):(r={...i},li(!r.pathname||!r.pathname.includes("?"),d1("?","pathname","search",r)),li(!r.pathname||!r.pathname.includes("#"),d1("#","pathname","hash",r)),li(!r.search||!r.search.includes("#"),d1("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=e;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=IL(r,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var jl=i=>i.join("/").replace(/\/\/+/g,"/"),zL=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),UL=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HL=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function qL(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var JS=["POST","PUT","PATCH","DELETE"];new Set(JS);var VL=["GET",...JS];new Set(VL);var Wd=M.createContext(null);Wd.displayName="DataRouter";var p0=M.createContext(null);p0.displayName="DataRouterState";M.createContext(!1);var tE=M.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var GL=M.createContext(new Map);GL.displayName="Fetchers";var $L=M.createContext(null);$L.displayName="Await";var Xa=M.createContext(null);Xa.displayName="Navigation";var Fp=M.createContext(null);Fp.displayName="Location";var ua=M.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var fy=M.createContext(null);fy.displayName="RouteError";function WL(i,{relative:t}={}){li(Yd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=M.useContext(Xa),{hash:r,pathname:s,search:o}=zp(i,{relative:t}),c=s;return e!=="/"&&(c=s==="/"?e:jl([e,s])),n.createHref({pathname:c,search:o,hash:r})}function Yd(){return M.useContext(Fp)!=null}function Hl(){return li(Yd(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Fp).location}var eE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(i){M.useContext(Xa).static||M.useLayoutEffect(i)}function Bp(){let{isDataRoute:i}=M.useContext(ua);return i?c6():YL()}function YL(){li(Yd(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(Wd),{basename:t,navigator:e}=M.useContext(Xa),{matches:n}=M.useContext(ua),{pathname:r}=Hl(),s=JSON.stringify(hy(n)),o=M.useRef(!1);return nE(()=>{o.current=!0}),M.useCallback((u,d={})=>{if(Va(o.current,eE),!o.current)return;if(typeof u=="number"){e.go(u);return}let f=dy(u,JSON.parse(s),r,d.relative==="path");i==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:jl([t,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[t,e,s,r,i])}var XL=M.createContext(null);function KL(i){let t=M.useContext(ua).outlet;return t&&M.createElement(XL.Provider,{value:i},t)}function QL(){let{matches:i}=M.useContext(ua),t=i[i.length-1];return t?t.params:{}}function zp(i,{relative:t}={}){let{matches:e}=M.useContext(ua),{pathname:n}=Hl(),r=JSON.stringify(hy(e));return M.useMemo(()=>dy(i,JSON.parse(r),n,t==="path"),[i,r,n,t])}function ZL(i,t){return iE(i,t)}function iE(i,t,e,n){li(Yd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=M.useContext(Xa),{matches:s}=M.useContext(ua),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";rE(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Hl(),g;if(t){let E=typeof t=="string"?$d(t):t;li(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=p;let v=g.pathname||"/",x=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=KS(i,{pathname:x});Va(f||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Va(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=i6(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:jl([d,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:jl([d,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,e,n);return t&&_?M.createElement(Fp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function JL(){let i=l6(),t=qL(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:r},e):null,o)}var t6=M.createElement(JL,null),e6=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?M.createElement(ua.Provider,{value:this.props.routeContext},M.createElement(fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n6({routeContext:i,match:t,children:e}){let n=M.useContext(Wd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ua.Provider,{value:i},e)}function i6(i,t=[],e=null,n=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let r=i,s=e?.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);li(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(e)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=e,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,f)=>{let p,g=!1,v=null,x=null;e&&(p=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||t6,o&&(c<0&&f===0?(rE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,f+1)),_=()=>{let E;return p?E=v:g?E=x:d.route.Component?E=M.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,M.createElement(n6,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:e!=null},children:E})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?M.createElement(e6,{location:e.location,revalidation:e.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}function py(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r6(i){let t=M.useContext(Wd);return li(t,py(i)),t}function s6(i){let t=M.useContext(p0);return li(t,py(i)),t}function a6(i){let t=M.useContext(ua);return li(t,py(i)),t}function my(i){let t=a6(i),e=t.matches[t.matches.length-1];return li(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function o6(){return my("useRouteId")}function l6(){let i=M.useContext(fy),t=s6("useRouteError"),e=my("useRouteError");return i!==void 0?i:t.errors?.[e]}function c6(){let{router:i}=r6("useNavigate"),t=my("useNavigate"),e=M.useRef(!1);return nE(()=>{e.current=!0}),M.useCallback(async(r,s={})=>{Va(e.current,eE),e.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:t,...s}))},[i,t])}var ax={};function rE(i,t,e){!t&&!ax[i]&&(ax[i]=!0,Va(!1,e))}M.memo(u6);function u6({routes:i,future:t,state:e}){return iE(i,void 0,e,t)}function ob({to:i,replace:t,state:e,relative:n}){li(Yd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=M.useContext(Xa);Va(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=M.useContext(ua),{pathname:o}=Hl(),c=Bp(),u=dy(i,hy(s),o,n==="path"),d=JSON.stringify(u);return M.useEffect(()=>{c(JSON.parse(d),{replace:t,state:e,relative:n})},[c,d,n,t,e]),null}function sE(i){return KL(i.context)}function Hi(i){li(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h6({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:s=!1}){li(!Yd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof e=="string"&&(e=$d(e));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=e,v=M.useMemo(()=>{let x=Il(u,o);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:g},navigationType:n}},[o,u,d,f,p,g,n]);return Va(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:M.createElement(Xa.Provider,{value:c},M.createElement(Fp.Provider,{children:t,value:v}))}function d6({children:i,location:t}){return ZL(lb(i),t)}function lb(i,t=[]){let e=[];return M.Children.forEach(i,(n,r)=>{if(!M.isValidElement(n))return;let s=[...t,r];if(n.type===M.Fragment){e.push.apply(e,lb(n.props.children,s));return}li(n.type===Hi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),li(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lb(n.props.children,s)),e.push(o)}),e}var Rg="get",Tg="application/x-www-form-urlencoded";function m0(i){return i!=null&&typeof i.tagName=="string"}function f6(i){return m0(i)&&i.tagName.toLowerCase()==="button"}function p6(i){return m0(i)&&i.tagName.toLowerCase()==="form"}function m6(i){return m0(i)&&i.tagName.toLowerCase()==="input"}function g6(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function v6(i,t){return i.button===0&&(!t||t==="_self")&&!g6(i)}var eg=null;function b6(){if(eg===null)try{new FormData(document.createElement("form"),0),eg=!1}catch{eg=!0}return eg}var y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f1(i){return i!=null&&!y6.has(i)?(Va(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tg}"`),null):i}function w6(i,t){let e,n,r,s,o;if(p6(i)){let c=i.getAttribute("action");n=c?Il(c,t):null,e=i.getAttribute("method")||Rg,r=f1(i.getAttribute("enctype"))||Tg,s=new FormData(i)}else if(f6(i)||m6(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||c.getAttribute("action");if(n=u?Il(u,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||Rg,r=f1(i.getAttribute("formenctype"))||f1(c.getAttribute("enctype"))||Tg,s=new FormData(c,i),!b6()){let{name:d,type:f,value:p}=i;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(m0(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Rg,n=null,r=Tg,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gy(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function x6(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Il(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function A6(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S6(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function E6(i,t,e){let n=await Promise.all(i.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await A6(s,e);return o.links?o.links():[]}return[]}));return R6(n.flat(1).filter(S6).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ox(i,t,e,n,r,s){let o=(u,d)=>e[d]?u.route.id!==e[d].route.id:!0,c=(u,d)=>e[d].pathname!==u.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?t.filter((u,d)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function _6(i,t,{includeHydrateFallback:e}={}){return N6(i.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function N6(i){return[...new Set(i)]}function C6(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function R6(i,t){let e=new Set;return new Set(t),i.reduce((n,r)=>{let s=JSON.stringify(C6(r));return e.has(s)||(e.add(s),n.push({key:s,link:r})),n},[])}function aE(){let i=M.useContext(Wd);return gy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function T6(){let i=M.useContext(p0);return gy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vy=M.createContext(void 0);vy.displayName="FrameworkContext";function oE(){let i=M.useContext(vy);return gy(i,"You must render this element inside a <HydratedRouter> element"),i}function L6(i,t){let e=M.useContext(vy),[n,r]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,g=M.useRef(null);M.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let y=E=>{E.forEach(T=>{o(T.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[i]),M.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let v=()=>{r(!0)},x=()=>{r(!1),o(!1)};return e?i!=="intent"?[s,g,{}]:[s,g,{onFocus:Zf(c,v),onBlur:Zf(u,x),onMouseEnter:Zf(d,v),onMouseLeave:Zf(f,x),onTouchStart:Zf(p,v)}]:[!1,g,{}]}function Zf(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function M6({page:i,...t}){let{router:e}=aE(),n=M.useMemo(()=>KS(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?M.createElement(D6,{page:i,matches:n,...t}):null}function P6(i){let{manifest:t,routeModules:e}=oE(),[n,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return E6(i,t,e).then(o=>{s||r(o)}),()=>{s=!0}},[i,t,e]),n}function D6({page:i,matches:t,...e}){let n=Hl(),{manifest:r,routeModules:s}=oE(),{basename:o}=aE(),{loaderData:c,matches:u}=T6(),d=M.useMemo(()=>ox(i,t,u,r,n,"data"),[i,t,u,r,n]),f=M.useMemo(()=>ox(i,t,u,r,n,"assets"),[i,t,u,r,n]),p=M.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(t.forEach(E=>{let T=r.routes[E.route.id];!T||!T.hasLoader||(!d.some(L=>L.route.id===E.route.id)&&E.route.id in c&&s[E.route.id]?.shouldRevalidate||T.hasClientLoader?y=!0:x.add(E.route.id))}),x.size===0)return[];let _=x6(i,o,"data");return y&&x.size>0&&_.searchParams.set("_routes",t.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[o,c,n,r,d,t,i,s]),g=M.useMemo(()=>_6(f,r),[f,r]),v=P6(f);return M.createElement(M.Fragment,null,p.map(x=>M.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),g.map(x=>M.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),v.map(({key:x,link:y})=>M.createElement("link",{key:x,...y})))}function O6(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.7.0")}catch{}function k6({basename:i,children:t,window:e}){let n=M.useRef();n.current==null&&(n.current=wL({window:e,v5Compat:!0}));let r=n.current,[s,o]=M.useState({action:r.action,location:r.location}),c=M.useCallback(u=>{M.startTransition(()=>o(u))},[o]);return M.useLayoutEffect(()=>r.listen(c),[r,c]),M.createElement(h6,{basename:i,children:t,location:s.location,navigationType:s.action,navigator:r})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=M.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...g},v){let{basename:x}=M.useContext(Xa),y=typeof d=="string"&&cE.test(d),_,E=!1;if(typeof d=="string"&&y&&(_=d,lE))try{let K=new URL(window.location.href),st=d.startsWith("//")?new URL(K.protocol+d):new URL(d),B=Il(st.pathname,x);st.origin===K.origin&&B!=null?d=B+st.search+st.hash:E=!0}catch{Va(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=WL(d,{relative:r}),[L,O,D]=L6(n,g),I=B6(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:p});function k(K){t&&t(K),K.defaultPrevented||I(K)}let j=M.createElement("a",{...g,...D,href:_||T,onClick:E||s?t:k,ref:O6(v,O),target:u,"data-discover":!y&&e==="render"?"true":void 0});return L&&!y?M.createElement(M.Fragment,null,j,M.createElement(M6,{page:T})):j});fr.displayName="Link";var j6=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...d},f){let p=zp(o,{relative:d.relative}),g=Hl(),v=M.useContext(p0),{navigator:x,basename:y}=M.useContext(Xa),_=v!=null&&V6(p)&&c===!0,E=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,T=g.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(T=T.toLowerCase(),L=L?L.toLowerCase():null,E=E.toLowerCase()),L&&y&&(L=Il(L,y)||L);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=T===E||!r&&T.startsWith(E)&&T.charAt(O)==="/",I=L!=null&&(L===E||!r&&L.startsWith(E)&&L.charAt(E.length)==="/"),k={isActive:D,isPending:I,isTransitioning:_},j=D?t:void 0,K;typeof n=="function"?K=n(k):K=[n,D?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let st=typeof s=="function"?s(k):s;return M.createElement(fr,{...d,"aria-current":j,className:K,ref:f,style:st,to:o,viewTransition:c},typeof u=="function"?u(k):u)});j6.displayName="NavLink";var I6=M.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:s,method:o=Rg,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...g},v)=>{let x=H6(),y=q6(c,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&cE.test(c),T=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let O=L.nativeEvent.submitter,D=O?.getAttribute("formmethod")||o;x(O||L.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return M.createElement("form",{ref:v,method:_,action:y,onSubmit:n?u:T,...g,"data-discover":!E&&i==="render"?"true":void 0})});I6.displayName="Form";function F6(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(i){let t=M.useContext(Wd);return li(t,F6(i)),t}function B6(i,{target:t,replace:e,state:n,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=Bp(),u=Hl(),d=zp(i,{relative:s});return M.useCallback(f=>{if(v6(f,t)){f.preventDefault();let p=e!==void 0?e:wp(u)===wp(d);c(i,{replace:p,state:n,preventScrollReset:r,relative:s,viewTransition:o})}},[u,c,d,e,n,t,i,r,s,o])}var z6=0,U6=()=>`__${String(++z6)}__`;function H6(){let{router:i}=uE("useSubmit"),{basename:t}=M.useContext(Xa),e=o6();return M.useCallback(async(n,r={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=w6(n,t);if(r.navigate===!1){let f=r.fetcherKey||U6();await i.fetch(f,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await i.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,t,e])}function q6(i,{relative:t}={}){let{basename:e}=M.useContext(Xa),n=M.useContext(ua);li(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...zp(i||".",{relative:t})},o=Hl();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:jl([e,s.pathname])),wp(s)}function V6(i,t={}){let e=M.useContext(tE);li(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=uE("useViewTransitionState"),r=zp(i,{relative:t.relative});if(!e.isTransitioning)return!1;let s=Il(e.currentLocation.pathname,n)||e.currentLocation.pathname,o=Il(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Wg(r.pathname,o)!=null||Wg(r.pathname,s)!=null}var Up=dS();const hE=Pp(Up);function lx(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function dE(...i){return t=>{let e=!1;const n=i.map(r=>{const s=lx(r,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():lx(i[r],null)}}}}function Vn(...i){return M.useCallback(dE(...i),i)}function sh(i){const t=G6(i),e=M.forwardRef((n,r)=>{const{children:s,...o}=n,c=M.Children.toArray(s),u=c.find(W6);if(u){const d=u.props.children,f=c.map(p=>p===u?M.Children.count(d)>1?M.Children.only(null):M.isValidElement(d)?d.props.children:null:p);return S.jsx(t,{...o,ref:r,children:M.isValidElement(d)?M.cloneElement(d,void 0,f):null})}return S.jsx(t,{...o,ref:r,children:s})});return e.displayName=`${i}.Slot`,e}var g0=sh("Slot");function G6(i){const t=M.forwardRef((e,n)=>{const{children:r,...s}=e;if(M.isValidElement(r)){const o=X6(r),c=Y6(s,r.props);return r.type!==M.Fragment&&(c.ref=n?dE(n,o):o),M.cloneElement(r,c)}return M.Children.count(r)>1?M.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var fE=Symbol("radix.slottable");function $6(i){const t=({children:e})=>S.jsx(S.Fragment,{children:e});return t.displayName=`${i}.Slottable`,t.__radixId=fE,t}function W6(i){return M.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===fE}function Y6(i,t){const e={...t};for(const n in t){const r=i[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?e[n]=(...c)=>{const u=s(...c);return r(...c),u}:r&&(e[n]=r):n==="style"?e[n]={...r,...s}:n==="className"&&(e[n]=[r,s].filter(Boolean).join(" "))}return{...i,...e}}function X6(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function pE(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=pE(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function Xd(){for(var i,t,e=0,n="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=pE(i))&&(n&&(n+=" "),n+=t);return n}const cx=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,ux=Xd,by=(i,t)=>e=>{var n;if(t?.variants==null)return ux(i,e?.class,e?.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(d=>{const f=e?.[d],p=s?.[d];if(f===null)return null;const g=cx(f)||cx(p);return r[d][g]}),c=e&&Object.entries(e).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...s,...c}[y]):{...s,...c}[y]===_})?[...d,p,g]:d},[]);return ux(i,o,u,e?.class,e?.className)},yy="-",K6=i=>{const t=Z6(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:o=>{const c=o.split(yy);return c[0]===""&&c.length!==1&&c.shift(),mE(c,t)||Q6(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},mE=(i,t)=>{if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),r=n?mE(i.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const s=i.join(yy);return t.validators.find(({validator:o})=>o(s))?.classGroupId},hx=/^\[(.+)\]$/,Q6=i=>{if(hx.test(i)){const t=hx.exec(i)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Z6=i=>{const{theme:t,classGroups:e}=i,n={nextPart:new Map,validators:[]};for(const r in e)cb(e[r],n,r,t);return n},cb=(i,t,e,n)=>{i.forEach(r=>{if(typeof r=="string"){const s=r===""?t:dx(t,r);s.classGroupId=e;return}if(typeof r=="function"){if(J6(r)){cb(r(n),t,e,n);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([s,o])=>{cb(o,dx(t,s),e,n)})})},dx=(i,t)=>{let e=i;return t.split(yy).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},J6=i=>i.isThemeGetter,tM=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const r=(s,o)=>{e.set(s,o),t++,t>i&&(t=0,n=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return r(s,o),o},set(s,o){e.has(s)?e.set(s,o):r(s,o)}}},ub="!",hb=":",eM=hb.length,nM=i=>{const{prefix:t,experimentalParseClassName:e}=i;let n=r=>{const s=[];let o=0,c=0,u=0,d;for(let x=0;x<r.length;x++){let y=r[x];if(o===0&&c===0){if(y===hb){s.push(r.slice(u,x)),u=x+eM;continue}if(y==="/"){d=x;continue}}y==="["?o++:y==="]"?o--:y==="("?c++:y===")"&&c--}const f=s.length===0?r:r.substring(u),p=iM(f),g=p!==f,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}};if(t){const r=t+hb,s=n;n=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const r=n;n=s=>e({className:s,parseClassName:r})}return n},iM=i=>i.endsWith(ub)?i.substring(0,i.length-1):i.startsWith(ub)?i.substring(1):i,rM=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(o=>{o[0]==="["||t[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},sM=i=>({cache:tM(i.cacheSize),parseClassName:nM(i),sortModifiers:rM(i),...K6(i)}),aM=/\s+/,oM=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],c=i.trim().split(aM);let u="";for(let d=c.length-1;d>=0;d-=1){const f=c[d],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}=e(f);if(p){u=f+(u.length>0?" "+u:u);continue}let _=!!y,E=n(_?x.substring(0,y):x);if(!E){if(!_){u=f+(u.length>0?" "+u:u);continue}if(E=n(x),!E){u=f+(u.length>0?" "+u:u);continue}_=!1}const T=s(g).join(":"),L=v?T+ub:T,O=L+E;if(o.includes(O))continue;o.push(O);const D=r(E,_);for(let I=0;I<D.length;++I){const k=D[I];o.push(L+k)}u=f+(u.length>0?" "+u:u)}return u};function lM(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=gE(t))&&(n&&(n+=" "),n+=e);return n}const gE=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=gE(i[n]))&&(e&&(e+=" "),e+=t);return e};function cM(i,...t){let e,n,r,s=o;function o(u){const d=t.reduce((f,p)=>p(f),i());return e=sM(d),n=e.cache.get,r=e.cache.set,s=c,c(u)}function c(u){const d=n(u);if(d)return d;const f=oM(u,e);return r(u,f),f}return function(){return s(lM.apply(null,arguments))}}const Ki=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},vE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uM=/^\d+\/\d+$/,hM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ld=i=>uM.test(i),Ke=i=>!!i&&!Number.isNaN(Number(i)),Oc=i=>!!i&&Number.isInteger(Number(i)),p1=i=>i.endsWith("%")&&Ke(i.slice(0,-1)),Pl=i=>hM.test(i),gM=()=>!0,vM=i=>dM.test(i)&&!fM.test(i),yE=()=>!1,bM=i=>pM.test(i),yM=i=>mM.test(i),wM=i=>!de(i)&&!fe(i),xM=i=>Kd(i,AE,yE),de=i=>vE.test(i),zu=i=>Kd(i,SE,vM),m1=i=>Kd(i,NM,Ke),fx=i=>Kd(i,wE,yE),AM=i=>Kd(i,xE,yM),ng=i=>Kd(i,EE,bM),fe=i=>bE.test(i),Jf=i=>Qd(i,SE),SM=i=>Qd(i,CM),px=i=>Qd(i,wE),EM=i=>Qd(i,AE),_M=i=>Qd(i,xE),ig=i=>Qd(i,EE,!0),Kd=(i,t,e)=>{const n=vE.exec(i);return n?n[1]?t(n[1]):e(n[2]):!1},Qd=(i,t,e=!1)=>{const n=bE.exec(i);return n?n[1]?t(n[1]):e:!1},wE=i=>i==="position"||i==="percentage",xE=i=>i==="image"||i==="url",AE=i=>i==="length"||i==="size"||i==="bg-size",SE=i=>i==="length",NM=i=>i==="number",CM=i=>i==="family-name",EE=i=>i==="shadow",RM=()=>{const i=Ki("color"),t=Ki("font"),e=Ki("text"),n=Ki("font-weight"),r=Ki("tracking"),s=Ki("leading"),o=Ki("breakpoint"),c=Ki("container"),u=Ki("spacing"),d=Ki("radius"),f=Ki("shadow"),p=Ki("inset-shadow"),g=Ki("text-shadow"),v=Ki("drop-shadow"),x=Ki("blur"),y=Ki("perspective"),_=Ki("aspect"),E=Ki("ease"),T=Ki("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...O(),fe,de],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],j=()=>[fe,de,u],K=()=>[ld,"full","auto",...j()],st=()=>[Oc,"none","subgrid",fe,de],B=()=>["auto",{span:["full",Oc,fe,de]},Oc,fe,de],G=()=>[Oc,"auto",fe,de],it=()=>["auto","min","max","fr",fe,de],nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ht=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...j()],Z=()=>[ld,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],J=()=>[i,fe,de],pt=()=>[...O(),px,fx,{position:[fe,de]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],dt=()=>["auto","cover","contain",EM,xM,{size:[fe,de]}],F=()=>[p1,Jf,zu],V=()=>["","none","full",d,fe,de],tt=()=>["",Ke,Jf,zu],at=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>[Ke,p1,px,fx],mt=()=>["","none",x,fe,de],xt=()=>["none",Ke,fe,de],Tt=()=>["none",Ke,fe,de],Ot=()=>[Ke,fe,de],zt=()=>[ld,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pl],breakpoint:[Pl],color:[gM],container:[Pl],"drop-shadow":[Pl],ease:["in","out","in-out"],font:[wM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pl],shadow:[Pl],spacing:["px",Ke],text:[Pl],"text-shadow":[Pl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ld,de,fe,_]}],container:["container"],columns:[{columns:[Ke,de,fe,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Oc,"auto",fe,de]}],basis:[{basis:[ld,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,ld,"auto","initial","none",de]}],grow:[{grow:["",Ke,fe,de]}],shrink:[{shrink:["",Ke,fe,de]}],order:[{order:[Oc,"first","last","none",fe,de]}],"grid-cols":[{"grid-cols":st()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":st()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":it()}],"auto-rows":[{"auto-rows":it()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...nt(),"normal"]}],"justify-items":[{"justify-items":[...ht(),"normal"]}],"justify-self":[{"justify-self":["auto",...ht()]}],"align-content":[{content:["normal",...nt()]}],"align-items":[{items:[...ht(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ht(),{baseline:["","last"]}]}],"place-content":[{"place-content":nt()}],"place-items":[{"place-items":[...ht(),"baseline"]}],"place-self":[{"place-self":["auto",...ht()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",e,Jf,zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,fe,m1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",p1,de]}],"font-family":[{font:[SM,de,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,fe,de]}],"line-clamp":[{"line-clamp":[Ke,"none",fe,m1]}],leading:[{leading:[s,...j()]}],"list-image":[{"list-image":["none",fe,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...at(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",fe,zu]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ke,"auto",fe,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pt()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:dt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oc,fe,de],radial:["",fe,de],conic:[Oc,fe,de]},_M,AM]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:tt()}],"border-w-x":[{"border-x":tt()}],"border-w-y":[{"border-y":tt()}],"border-w-s":[{"border-s":tt()}],"border-w-e":[{"border-e":tt()}],"border-w-t":[{"border-t":tt()}],"border-w-r":[{"border-r":tt()}],"border-w-b":[{"border-b":tt()}],"border-w-l":[{"border-l":tt()}],"divide-x":[{"divide-x":tt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":tt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...at(),"hidden","none"]}],"divide-style":[{divide:[...at(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...at(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,fe,de]}],"outline-w":[{outline:["",Ke,Jf,zu]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",f,ig,ng]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",p,ig,ng]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:tt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ke,zu]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":tt()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",g,ig,ng]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ke,fe,de]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":ct()}],"mask-image-linear-to-pos":[{"mask-linear-to":ct()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":ct()}],"mask-image-t-to-pos":[{"mask-t-to":ct()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":ct()}],"mask-image-r-to-pos":[{"mask-r-to":ct()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":ct()}],"mask-image-b-to-pos":[{"mask-b-to":ct()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":ct()}],"mask-image-l-to-pos":[{"mask-l-to":ct()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":ct()}],"mask-image-x-to-pos":[{"mask-x-to":ct()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":ct()}],"mask-image-y-to-pos":[{"mask-y-to":ct()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[fe,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":ct()}],"mask-image-radial-to-pos":[{"mask-radial-to":ct()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":ct()}],"mask-image-conic-to-pos":[{"mask-conic-to":ct()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pt()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:dt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,de]}],filter:[{filter:["","none",fe,de]}],blur:[{blur:mt()}],brightness:[{brightness:[Ke,fe,de]}],contrast:[{contrast:[Ke,fe,de]}],"drop-shadow":[{"drop-shadow":["","none",v,ig,ng]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ke,fe,de]}],"hue-rotate":[{"hue-rotate":[Ke,fe,de]}],invert:[{invert:["",Ke,fe,de]}],saturate:[{saturate:[Ke,fe,de]}],sepia:[{sepia:["",Ke,fe,de]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,de]}],"backdrop-blur":[{"backdrop-blur":mt()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,fe,de]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,fe,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,fe,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,fe,de]}],"backdrop-invert":[{"backdrop-invert":["",Ke,fe,de]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,fe,de]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,fe,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,fe,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",fe,de]}],ease:[{ease:["linear","initial",E,fe,de]}],delay:[{delay:[Ke,fe,de]}],animate:[{animate:["none",T,fe,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,fe,de]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:xt()}],"rotate-x":[{"rotate-x":xt()}],"rotate-y":[{"rotate-y":xt()}],"rotate-z":[{"rotate-z":xt()}],scale:[{scale:Tt()}],"scale-x":[{"scale-x":Tt()}],"scale-y":[{"scale-y":Tt()}],"scale-z":[{"scale-z":Tt()}],"scale-3d":["scale-3d"],skew:[{skew:Ot()}],"skew-x":[{"skew-x":Ot()}],"skew-y":[{"skew-y":Ot()}],transform:[{transform:[fe,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zt()}],"translate-x":[{"translate-x":zt()}],"translate-y":[{"translate-y":zt()}],"translate-z":[{"translate-z":zt()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,de]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ke,Jf,zu,m1]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},TM=cM(RM);function Ne(...i){return TM(Xd(i))}const _E=by("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function sn({className:i,variant:t,size:e,asChild:n=!1,...r}){const s=n?g0:"button";return S.jsx(s,{"data-slot":"button",className:Ne(_E({variant:t,size:e,className:i})),...r})}const Zd=i=>{const[t,e]=M.useState(i),[n,r]=M.useState({});return{formData:t,handleChange:c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d})),r(f=>({...f,[u]:""}))},handleFileChange:(c,u)=>{const d=c.target.files[0];e(f=>({...f,[u]:d})),r(f=>({...f,[u]:""}))},errors:n,setErrors:r}};function LM(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const MM=i=>{switch(i){case"success":return OM;case"info":return jM;case"warning":return kM;case"error":return IM;default:return null}},PM=Array(12).fill(0),DM=({visible:i,className:t})=>Yt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},Yt.createElement("div",{className:"sonner-spinner"},PM.map((e,n)=>Yt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OM=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kM=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jM=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IM=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FM=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Yt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Yt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BM=()=>{const[i,t]=Yt.useState(document.hidden);return Yt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let db=1;class zM{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...r}=t,s=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:db++,o=this.toasts.find(u=>u.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:n}),{...u,...t,id:s,dismissible:c,title:n}):u):this.addToast({title:n,...r,dismissible:c,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const c=r.then(async d=>{if(o=["resolve",d],Yt.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(HM(d)&&!d.ok){s=!1;const p=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,x=typeof p=="object"&&!Yt.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...x})}else if(d instanceof Error){s=!1;const p=typeof e.error=="function"?await e.error(d):e.error,g=typeof e.description=="function"?await e.description(d):e.description,x=typeof p=="object"&&!Yt.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...x})}else if(e.success!==void 0){s=!1;const p=typeof e.success=="function"?await e.success(d):e.success,g=typeof e.description=="function"?await e.description(d):e.description,x=typeof p=="object"&&!Yt.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:g,...x})}}).catch(async d=>{if(o=["reject",d],e.error!==void 0){s=!1;const f=typeof e.error=="function"?await e.error(d):e.error,p=typeof e.description=="function"?await e.description(d):e.description,v=typeof f=="object"&&!Yt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),u=()=>new Promise((d,f)=>c.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,e)=>{const n=e?.id||db++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ps=new zM,UM=(i,t)=>{const e=t?.id||db++;return ps.addToast({title:i,...t,id:e}),e},HM=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",qM=UM,VM=()=>ps.toasts,GM=()=>ps.getActiveToasts(),mx=Object.assign(qM,{success:ps.success,info:ps.info,warning:ps.warning,error:ps.error,custom:ps.custom,message:ps.message,promise:ps.promise,dismiss:ps.dismiss,loading:ps.loading},{getHistory:VM,getToasts:GM});LM("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rg(i){return i.label!==void 0}const $M=3,WM="24px",YM="16px",gx=4e3,XM=356,KM=14,QM=45,ZM=200;function jo(...i){return i.filter(Boolean).join(" ")}function JM(i){const[t,e]=i.split("-"),n=[];return t&&n.push(t),e&&n.push(e),n}const tP=i=>{var t,e,n,r,s,o,c,u,d;const{invert:f,toast:p,unstyled:g,interacting:v,setHeights:x,visibleToasts:y,heights:_,index:E,toasts:T,expanded:L,removeToast:O,defaultRichColors:D,closeButton:I,style:k,cancelButtonStyle:j,actionButtonStyle:K,className:st="",descriptionClassName:B="",duration:G,position:it,gap:nt,expandByDefault:ht,classNames:U,icons:Z,closeButtonAriaLabel:J="Close toast"}=i,[pt,$]=Yt.useState(null),[dt,F]=Yt.useState(null),[V,tt]=Yt.useState(!1),[at,ot]=Yt.useState(!1),[ct,mt]=Yt.useState(!1),[xt,Tt]=Yt.useState(!1),[Ot,zt]=Yt.useState(!1),[$t,Kt]=Yt.useState(0),[Lt,lt]=Yt.useState(0),se=Yt.useRef(p.duration||G||gx),ae=Yt.useRef(null),Vt=Yt.useRef(null),Zt=E===0,Jt=E+1<=y,Xt=p.type,ce=p.dismissible!==!1,Ce=p.className||"",ke=p.descriptionClassName||"",Se=Yt.useMemo(()=>_.findIndex(Qt=>Qt.toastId===p.id)||0,[_,p.id]),be=Yt.useMemo(()=>{var Qt;return(Qt=p.closeButton)!=null?Qt:I},[p.closeButton,I]),Fe=Yt.useMemo(()=>p.duration||G||gx,[p.duration,G]),le=Yt.useRef(0),Re=Yt.useRef(0),ne=Yt.useRef(0),Xn=Yt.useRef(null),[We,tr]=it.split("-"),Qe=Yt.useMemo(()=>_.reduce((Qt,xe,Pn)=>Pn>=Se?Qt:Qt+xe.height,0),[_,Se]),yn=BM(),er=p.invert||f,on=Xt==="loading";Re.current=Yt.useMemo(()=>Se*nt+Qe,[Se,Qe]),Yt.useEffect(()=>{se.current=Fe},[Fe]),Yt.useEffect(()=>{tt(!0)},[]),Yt.useEffect(()=>{const Qt=Vt.current;if(Qt){const xe=Qt.getBoundingClientRect().height;return lt(xe),x(Pn=>[{toastId:p.id,height:xe,position:p.position},...Pn]),()=>x(Pn=>Pn.filter(hn=>hn.toastId!==p.id))}},[x,p.id]),Yt.useLayoutEffect(()=>{if(!V)return;const Qt=Vt.current,xe=Qt.style.height;Qt.style.height="auto";const Pn=Qt.getBoundingClientRect().height;Qt.style.height=xe,lt(Pn),x(hn=>hn.find(En=>En.toastId===p.id)?hn.map(En=>En.toastId===p.id?{...En,height:Pn}:En):[{toastId:p.id,height:Pn,position:p.position},...hn])},[V,p.title,p.description,x,p.id,p.jsx,p.action,p.cancel]);const $i=Yt.useCallback(()=>{ot(!0),Kt(Re.current),x(Qt=>Qt.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{O(p)},ZM)},[p,O,x,Re]);Yt.useEffect(()=>{if(p.promise&&Xt==="loading"||p.duration===1/0||p.type==="loading")return;let Qt;return L||v||yn?(()=>{if(ne.current<le.current){const hn=new Date().getTime()-le.current;se.current=se.current-hn}ne.current=new Date().getTime()})():(()=>{se.current!==1/0&&(le.current=new Date().getTime(),Qt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),$i()},se.current))})(),()=>clearTimeout(Qt)},[L,v,p,Xt,yn,$i]),Yt.useEffect(()=>{p.delete&&($i(),p.onDismiss==null||p.onDismiss.call(p,p))},[$i,p.delete]);function In(){var Qt;if(Z?.loading){var xe;return Yt.createElement("div",{className:jo(U?.loader,p==null||(xe=p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Xt==="loading"},Z.loading)}return Yt.createElement(DM,{className:jo(U?.loader,p==null||(Qt=p.classNames)==null?void 0:Qt.loader),visible:Xt==="loading"})}const gr=p.icon||Z?.[Xt]||MM(Xt);var nr,Fn;return Yt.createElement("li",{tabIndex:0,ref:Vt,className:jo(st,Ce,U?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,U?.default,U?.[Xt],p==null||(e=p.classNames)==null?void 0:e[Xt]),"data-sonner-toast":"","data-rich-colors":(nr=p.richColors)!=null?nr:D,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Ot,"data-removed":at,"data-visible":Jt,"data-y-position":We,"data-x-position":tr,"data-index":E,"data-front":Zt,"data-swiping":ct,"data-dismissible":ce,"data-type":Xt,"data-invert":er,"data-swipe-out":xt,"data-swipe-direction":dt,"data-expanded":!!(L||ht&&V),style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${at?$t:Re.current}px`,"--initial-height":ht?"auto":`${Lt}px`,...k,...p.style},onDragEnd:()=>{mt(!1),$(null),Xn.current=null},onPointerDown:Qt=>{Qt.button!==2&&(on||!ce||(ae.current=new Date,Kt(Re.current),Qt.target.setPointerCapture(Qt.pointerId),Qt.target.tagName!=="BUTTON"&&(mt(!0),Xn.current={x:Qt.clientX,y:Qt.clientY})))},onPointerUp:()=>{var Qt,xe,Pn;if(xt||!ce)return;Xn.current=null;const hn=Number(((Qt=Vt.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ir=Number(((xe=Vt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),En=new Date().getTime()-((Pn=ae.current)==null?void 0:Pn.getTime()),oe=pt==="x"?hn:ir,gn=Math.abs(oe)/En;if(Math.abs(oe)>=QM||gn>.11){Kt(Re.current),p.onDismiss==null||p.onDismiss.call(p,p),F(pt==="x"?hn>0?"right":"left":ir>0?"down":"up"),$i(),Tt(!0);return}else{var tn,vn;(tn=Vt.current)==null||tn.style.setProperty("--swipe-amount-x","0px"),(vn=Vt.current)==null||vn.style.setProperty("--swipe-amount-y","0px")}zt(!1),mt(!1),$(null)},onPointerMove:Qt=>{var xe,Pn,hn;if(!Xn.current||!ce||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const En=Qt.clientY-Xn.current.y,oe=Qt.clientX-Xn.current.x;var gn;const tn=(gn=i.swipeDirections)!=null?gn:JM(it);!pt&&(Math.abs(oe)>1||Math.abs(En)>1)&&$(Math.abs(oe)>Math.abs(En)?"x":"y");let vn={x:0,y:0};const Gn=_n=>1/(1.5+Math.abs(_n)/20);if(pt==="y"){if(tn.includes("top")||tn.includes("bottom"))if(tn.includes("top")&&En<0||tn.includes("bottom")&&En>0)vn.y=En;else{const _n=En*Gn(En);vn.y=Math.abs(_n)<Math.abs(En)?_n:En}}else if(pt==="x"&&(tn.includes("left")||tn.includes("right")))if(tn.includes("left")&&oe<0||tn.includes("right")&&oe>0)vn.x=oe;else{const _n=oe*Gn(oe);vn.x=Math.abs(_n)<Math.abs(oe)?_n:oe}(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&zt(!0),(Pn=Vt.current)==null||Pn.style.setProperty("--swipe-amount-x",`${vn.x}px`),(hn=Vt.current)==null||hn.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},be&&!p.jsx&&Xt!=="loading"?Yt.createElement("button",{"aria-label":J,"data-disabled":on,"data-close-button":!0,onClick:on||!ce?()=>{}:()=>{$i(),p.onDismiss==null||p.onDismiss.call(p,p)},className:jo(U?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(Fn=Z?.close)!=null?Fn:FM):null,(Xt||p.icon||p.promise)&&p.icon!==null&&(Z?.[Xt]!==null||p.icon)?Yt.createElement("div",{"data-icon":"",className:jo(U?.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||In():null,p.type!=="loading"?gr:null):null,Yt.createElement("div",{"data-content":"",className:jo(U?.content,p==null||(s=p.classNames)==null?void 0:s.content)},Yt.createElement("div",{"data-title":"",className:jo(U?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?Yt.createElement("div",{"data-description":"",className:jo(B,ke,U?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),Yt.isValidElement(p.cancel)?p.cancel:p.cancel&&rg(p.cancel)?Yt.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:Qt=>{rg(p.cancel)&&ce&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Qt),$i())},className:jo(U?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,Yt.isValidElement(p.action)?p.action:p.action&&rg(p.action)?Yt.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||K,onClick:Qt=>{rg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Qt),!Qt.defaultPrevented&&$i())},className:jo(U?.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function vx(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function eP(i,t){const e={};return[i,t].forEach((n,r)=>{const s=r===1,o=s?"--mobile-offset":"--offset",c=s?YM:WM;function u(d){["top","right","bottom","left"].forEach(f=>{e[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?e[`${o}-${d}`]=c:e[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(c)}),e}const nP=Yt.forwardRef(function(t,e){const{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:g,duration:v,style:x,visibleToasts:y=$M,toastOptions:_,dir:E=vx(),gap:T=KM,icons:L,containerAriaLabel:O="Notifications"}=t,[D,I]=Yt.useState([]),k=Yt.useMemo(()=>Array.from(new Set([r].concat(D.filter(dt=>dt.position).map(dt=>dt.position)))),[D,r]),[j,K]=Yt.useState([]),[st,B]=Yt.useState(!1),[G,it]=Yt.useState(!1),[nt,ht]=Yt.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Yt.useRef(null),Z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=Yt.useRef(null),pt=Yt.useRef(!1),$=Yt.useCallback(dt=>{I(F=>{var V;return(V=F.find(tt=>tt.id===dt.id))!=null&&V.delete||ps.dismiss(dt.id),F.filter(({id:tt})=>tt!==dt.id)})},[]);return Yt.useEffect(()=>ps.subscribe(dt=>{if(dt.dismiss){requestAnimationFrame(()=>{I(F=>F.map(V=>V.id===dt.id?{...V,delete:!0}:V))});return}setTimeout(()=>{hE.flushSync(()=>{I(F=>{const V=F.findIndex(tt=>tt.id===dt.id);return V!==-1?[...F.slice(0,V),{...F[V],...dt},...F.slice(V+1)]:[dt,...F]})})})}),[D]),Yt.useEffect(()=>{if(p!=="system"){ht(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ht("dark"):ht("light")),typeof window>"u")return;const dt=window.matchMedia("(prefers-color-scheme: dark)");try{dt.addEventListener("change",({matches:F})=>{ht(F?"dark":"light")})}catch{dt.addListener(({matches:V})=>{try{ht(V?"dark":"light")}catch(tt){console.error(tt)}})}},[p]),Yt.useEffect(()=>{D.length<=1&&B(!1)},[D]),Yt.useEffect(()=>{const dt=F=>{var V;if(s.every(ot=>F[ot]||F.code===ot)){var at;B(!0),(at=U.current)==null||at.focus()}F.code==="Escape"&&(document.activeElement===U.current||(V=U.current)!=null&&V.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",dt),()=>document.removeEventListener("keydown",dt)},[s]),Yt.useEffect(()=>{if(U.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,pt.current=!1)}},[U.current]),Yt.createElement("section",{ref:e,"aria-label":`${O} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((dt,F)=>{var V;const[tt,at]=dt.split("-");return D.length?Yt.createElement("ol",{key:dt,dir:E==="auto"?vx():E,tabIndex:-1,ref:U,className:u,"data-sonner-toaster":!0,"data-sonner-theme":nt,"data-y-position":tt,"data-x-position":at,style:{"--front-toast-height":`${((V=j[0])==null?void 0:V.height)||0}px`,"--width":`${XM}px`,"--gap":`${T}px`,...x,...eP(d,f)},onBlur:ot=>{pt.current&&!ot.currentTarget.contains(ot.relatedTarget)&&(pt.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:ot=>{ot.target instanceof HTMLElement&&ot.target.dataset.dismissible==="false"||pt.current||(pt.current=!0,J.current=ot.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{G||B(!1)},onDragEnd:()=>B(!1),onPointerDown:ot=>{ot.target instanceof HTMLElement&&ot.target.dataset.dismissible==="false"||it(!0)},onPointerUp:()=>it(!1)},D.filter(ot=>!ot.position&&F===0||ot.position===dt).map((ot,ct)=>{var mt,xt;return Yt.createElement(tP,{key:ot.id,icons:L,index:ct,toast:ot,defaultRichColors:g,duration:(mt=_?.duration)!=null?mt:v,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:n,visibleToasts:y,closeButton:(xt=_?.closeButton)!=null?xt:c,interacting:G,position:dt,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:$,toasts:D.filter(Tt=>Tt.position==ot.position),heights:j.filter(Tt=>Tt.position==ot.position),setHeights:K,expandByDefault:o,gap:T,expanded:st,swipeDirections:t.swipeDirections})})):null}))}),Zo=()=>({showError:(e,n)=>{mx.error(e?.response?.data?.message||n,{duration:5e3,style:{background:"#fee2e2",color:"#b91c1c",border:"1px solid #ef4444"}})},showSuccess:e=>{mx.success(e,{duration:4e3,style:{background:"#d1fae5",color:"#065f46",border:"1px solid #10b981"}})}});function wy({className:i,type:t,...e}){return S.jsx("input",{type:t,"data-slot":"input",className:Ne("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...e})}var iP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],un=iP.reduce((i,t)=>{const e=sh(`Primitive.${t}`),n=M.forwardRef((r,s)=>{const{asChild:o,...c}=r,u=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(u,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{});function rP(i,t){i&&Up.flushSync(()=>i.dispatchEvent(t))}var sP="Label",NE=M.forwardRef((i,t)=>S.jsx(un.label,{...i,ref:t,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(i.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));NE.displayName=sP;var aP=NE;function Ha({className:i,...t}){return S.jsx(aP,{"data-slot":"label",className:Ne("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...t})}function bx(i,[t,e]){return Math.min(e,Math.max(t,i))}function Je(i,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(i?.(r),e===!1||!r.defaultPrevented)return t?.(r)}}function oP(i,t){const e=M.createContext(t),n=s=>{const{children:o,...c}=s,u=M.useMemo(()=>c,Object.values(c));return S.jsx(e.Provider,{value:u,children:o})};n.displayName=i+"Provider";function r(s){const o=M.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${i}\``)}return[n,r]}function Jc(i,t=[]){let e=[];function n(s,o){const c=M.createContext(o),u=e.length;e=[...e,o];const d=p=>{const{scope:g,children:v,...x}=p,y=g?.[i]?.[u]||c,_=M.useMemo(()=>x,Object.values(x));return S.jsx(y.Provider,{value:_,children:v})};d.displayName=s+"Provider";function f(p,g){const v=g?.[i]?.[u]||c,x=M.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=e.map(o=>M.createContext(o));return function(c){const u=c?.[i]||s;return M.useMemo(()=>({[`__scope${i}`]:{...c,[i]:u}}),[c,u])}};return r.scopeName=i,[n,lP(r,...t)]}function lP(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=n.reduce((c,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...c,...p}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function cP(i){const t=i+"CollectionProvider",[e,n]=Jc(t),[r,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:E}=y,T=Yt.useRef(null),L=Yt.useRef(new Map).current;return S.jsx(r,{scope:_,itemMap:L,collectionRef:T,children:E})};o.displayName=t;const c=i+"CollectionSlot",u=sh(c),d=Yt.forwardRef((y,_)=>{const{scope:E,children:T}=y,L=s(c,E),O=Vn(_,L.collectionRef);return S.jsx(u,{ref:O,children:T})});d.displayName=c;const f=i+"CollectionItemSlot",p="data-radix-collection-item",g=sh(f),v=Yt.forwardRef((y,_)=>{const{scope:E,children:T,...L}=y,O=Yt.useRef(null),D=Vn(_,O),I=s(f,E);return Yt.useEffect(()=>(I.itemMap.set(O,{ref:O,...L}),()=>void I.itemMap.delete(O))),S.jsx(g,{[p]:"",ref:D,children:T})});v.displayName=f;function x(y){const _=s(i+"CollectionConsumer",y);return Yt.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const L=Array.from(T.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((I,k)=>L.indexOf(I.ref.current)-L.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},x,n]}var uP=M.createContext(void 0);function hP(i){const t=M.useContext(uP);return i||t||"ltr"}function Wc(i){const t=M.useRef(i);return M.useEffect(()=>{t.current=i}),M.useMemo(()=>(...e)=>t.current?.(...e),[])}function dP(i,t=globalThis?.document){const e=Wc(i);M.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var fP="DismissableLayer",fb="dismissableLayer.update",pP="dismissableLayer.pointerDownOutside",mP="dismissableLayer.focusOutside",yx,CE=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hp=M.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=i,d=M.useContext(CE),[f,p]=M.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=M.useState({}),x=Vn(t,k=>p(k)),y=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(_),T=f?y.indexOf(f):-1,L=d.layersWithOutsidePointerEventsDisabled.size>0,O=T>=E,D=bP(k=>{const j=k.target,K=[...d.branches].some(st=>st.contains(j));!O||K||(r?.(k),o?.(k),k.defaultPrevented||c?.())},g),I=yP(k=>{const j=k.target;[...d.branches].some(st=>st.contains(j))||(s?.(k),o?.(k),k.defaultPrevented||c?.())},g);return dP(k=>{T===d.layers.size-1&&(n?.(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},g),M.useEffect(()=>{if(f)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yx=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),wx(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=yx)}},[f,g,e,d]),M.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),wx())},[f,d]),M.useEffect(()=>{const k=()=>v({});return document.addEventListener(fb,k),()=>document.removeEventListener(fb,k)},[]),S.jsx(un.div,{...u,ref:x,style:{pointerEvents:L?O?"auto":"none":void 0,...i.style},onFocusCapture:Je(i.onFocusCapture,I.onFocusCapture),onBlurCapture:Je(i.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Je(i.onPointerDownCapture,D.onPointerDownCapture)})});Hp.displayName=fP;var gP="DismissableLayerBranch",vP=M.forwardRef((i,t)=>{const e=M.useContext(CE),n=M.useRef(null),r=Vn(t,n);return M.useEffect(()=>{const s=n.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),S.jsx(un.div,{...i,ref:r})});vP.displayName=gP;function bP(i,t=globalThis?.document){const e=Wc(i),n=M.useRef(!1),r=M.useRef(()=>{});return M.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let u=function(){RE(pP,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function yP(i,t=globalThis?.document){const e=Wc(i),n=M.useRef(!1);return M.useEffect(()=>{const r=s=>{s.target&&!n.current&&RE(mP,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wx(){const i=new CustomEvent(fb);document.dispatchEvent(i)}function RE(i,t,e,{discrete:n}){const r=e.originalEvent.target,s=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(i,t,{once:!0}),n?rP(r,s):r.dispatchEvent(s)}var g1=0;function xy(){M.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??xx()),document.body.insertAdjacentElement("beforeend",i[1]??xx()),g1++,()=>{g1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),g1--}},[])}function xx(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var v1="focusScope.autoFocusOnMount",b1="focusScope.autoFocusOnUnmount",Ax={bubbles:!1,cancelable:!0},wP="FocusScope",v0=M.forwardRef((i,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=i,[c,u]=M.useState(null),d=Wc(r),f=Wc(s),p=M.useRef(null),g=Vn(t,y=>u(y)),v=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let y=function(L){if(v.paused||!c)return;const O=L.target;c.contains(O)?p.current=O:Fc(p.current,{select:!0})},_=function(L){if(v.paused||!c)return;const O=L.relatedTarget;O!==null&&(c.contains(O)||Fc(p.current,{select:!0}))},E=function(L){if(document.activeElement===document.body)for(const D of L)D.removedNodes.length>0&&Fc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const T=new MutationObserver(E);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),T.disconnect()}}},[n,c,v.paused]),M.useEffect(()=>{if(c){Ex.add(v);const y=document.activeElement;if(!c.contains(y)){const E=new CustomEvent(v1,Ax);c.addEventListener(v1,d),c.dispatchEvent(E),E.defaultPrevented||(xP(NP(TE(c)),{select:!0}),document.activeElement===y&&Fc(c))}return()=>{c.removeEventListener(v1,d),setTimeout(()=>{const E=new CustomEvent(b1,Ax);c.addEventListener(b1,f),c.dispatchEvent(E),E.defaultPrevented||Fc(y??document.body,{select:!0}),c.removeEventListener(b1,f),Ex.remove(v)},0)}}},[c,d,f,v]);const x=M.useCallback(y=>{if(!e&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(_&&E){const T=y.currentTarget,[L,O]=AP(T);L&&O?!y.shiftKey&&E===O?(y.preventDefault(),e&&Fc(L,{select:!0})):y.shiftKey&&E===L&&(y.preventDefault(),e&&Fc(O,{select:!0})):E===T&&y.preventDefault()}},[e,n,v.paused]);return S.jsx(un.div,{tabIndex:-1,...o,ref:g,onKeyDown:x})});v0.displayName=wP;function xP(i,{select:t=!1}={}){const e=document.activeElement;for(const n of i)if(Fc(n,{select:t}),document.activeElement!==e)return}function AP(i){const t=TE(i),e=Sx(t,i),n=Sx(t.reverse(),i);return[e,n]}function TE(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function Sx(i,t){for(const e of i)if(!SP(e,{upTo:t}))return e}function SP(i,{upTo:t}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(t!==void 0&&i===t)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function EP(i){return i instanceof HTMLInputElement&&"select"in i}function Fc(i,{select:t=!1}={}){if(i&&i.focus){const e=document.activeElement;i.focus({preventScroll:!0}),i!==e&&EP(i)&&t&&i.select()}}var Ex=_P();function _P(){let i=[];return{add(t){const e=i[0];t!==e&&e?.pause(),i=_x(i,t),i.unshift(t)},remove(t){i=_x(i,t),i[0]?.resume()}}}function _x(i,t){const e=[...i],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function NP(i){return i.filter(t=>t.tagName!=="A")}var Ji=globalThis?.document?M.useLayoutEffect:()=>{},CP=hS[" useId ".trim().toString()]||(()=>{}),RP=0;function Gc(i){const[t,e]=M.useState(CP());return Ji(()=>{e(n=>n??String(RP++))},[i]),i||(t?`radix-${t}`:"")}const TP=["top","right","bottom","left"],Yc=Math.min,Fs=Math.max,Yg=Math.round,sg=Math.floor,Wo=i=>({x:i,y:i}),LP={left:"right",right:"left",bottom:"top",top:"bottom"},MP={start:"end",end:"start"};function pb(i,t,e){return Fs(i,Yc(t,e))}function Fl(i,t){return typeof i=="function"?i(t):i}function Bl(i){return i.split("-")[0]}function Jd(i){return i.split("-")[1]}function Ay(i){return i==="x"?"y":"x"}function Sy(i){return i==="y"?"height":"width"}const PP=new Set(["top","bottom"]);function Go(i){return PP.has(Bl(i))?"y":"x"}function Ey(i){return Ay(Go(i))}function DP(i,t,e){e===void 0&&(e=!1);const n=Jd(i),r=Ey(i),s=Sy(r);let o=r==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Xg(o)),[o,Xg(o)]}function OP(i){const t=Xg(i);return[mb(i),t,mb(t)]}function mb(i){return i.replace(/start|end/g,t=>MP[t])}const Nx=["left","right"],Cx=["right","left"],kP=["top","bottom"],jP=["bottom","top"];function IP(i,t,e){switch(i){case"top":case"bottom":return e?t?Cx:Nx:t?Nx:Cx;case"left":case"right":return t?kP:jP;default:return[]}}function FP(i,t,e,n){const r=Jd(i);let s=IP(Bl(i),e==="start",n);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(mb)))),s}function Xg(i){return i.replace(/left|right|bottom|top/g,t=>LP[t])}function BP(i){return{top:0,right:0,bottom:0,left:0,...i}}function LE(i){return typeof i!="number"?BP(i):{top:i,right:i,bottom:i,left:i}}function Kg(i){const{x:t,y:e,width:n,height:r}=i;return{width:n,height:r,top:e,left:t,right:t+n,bottom:e+r,x:t,y:e}}function Rx(i,t,e){let{reference:n,floating:r}=i;const s=Go(t),o=Ey(t),c=Sy(o),u=Bl(t),d=s==="y",f=n.x+n.width/2-r.width/2,p=n.y+n.height/2-r.height/2,g=n[c]/2-r[c]/2;let v;switch(u){case"top":v={x:f,y:n.y-r.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-r.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Jd(t)){case"start":v[o]-=g*(e&&d?-1:1);break;case"end":v[o]+=g*(e&&d?-1:1);break}return v}const zP=async(i,t,e)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=e,c=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:i,floating:t,strategy:r}),{x:f,y:p}=Rx(d,n,u),g=n,v={},x=0;for(let y=0;y<c.length;y++){const{name:_,fn:E}=c[y],{x:T,y:L,data:O,reset:D}=await E({x:f,y:p,initialPlacement:n,placement:g,strategy:r,middlewareData:v,rects:d,platform:o,elements:{reference:i,floating:t}});f=T??f,p=L??p,v={...v,[_]:{...v[_],...O}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(g=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:i,floating:t,strategy:r}):D.rects),{x:f,y:p}=Rx(d,g,u)),y=-1)}return{x:f,y:p,placement:g,strategy:r,middlewareData:v}};async function xp(i,t){var e;t===void 0&&(t={});const{x:n,y:r,platform:s,rects:o,elements:c,strategy:u}=i,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Fl(t,i),x=LE(v),_=c[g?p==="floating"?"reference":"floating":p],E=Kg(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(_)))==null||e?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),T=p==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),O=await(s.isElement==null?void 0:s.isElement(L))?await(s.getScale==null?void 0:s.getScale(L))||{x:1,y:1}:{x:1,y:1},D=Kg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:L,strategy:u}):T);return{top:(E.top-D.top+x.top)/O.y,bottom:(D.bottom-E.bottom+x.bottom)/O.y,left:(E.left-D.left+x.left)/O.x,right:(D.right-E.right+x.right)/O.x}}const UP=i=>({name:"arrow",options:i,async fn(t){const{x:e,y:n,placement:r,rects:s,platform:o,elements:c,middlewareData:u}=t,{element:d,padding:f=0}=Fl(i,t)||{};if(d==null)return{};const p=LE(f),g={x:e,y:n},v=Ey(r),x=Sy(v),y=await o.getDimensions(d),_=v==="y",E=_?"top":"left",T=_?"bottom":"right",L=_?"clientHeight":"clientWidth",O=s.reference[x]+s.reference[v]-g[v]-s.floating[x],D=g[v]-s.reference[v],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=I?I[L]:0;(!k||!await(o.isElement==null?void 0:o.isElement(I)))&&(k=c.floating[L]||s.floating[x]);const j=O/2-D/2,K=k/2-y[x]/2-1,st=Yc(p[E],K),B=Yc(p[T],K),G=st,it=k-y[x]-B,nt=k/2-y[x]/2+j,ht=pb(G,nt,it),U=!u.arrow&&Jd(r)!=null&&nt!==ht&&s.reference[x]/2-(nt<G?st:B)-y[x]/2<0,Z=U?nt<G?nt-G:nt-it:0;return{[v]:g[v]+Z,data:{[v]:ht,centerOffset:nt-ht-Z,...U&&{alignmentOffset:Z}},reset:U}}}),HP=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,..._}=Fl(i,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const E=Bl(r),T=Go(c),L=Bl(c)===c,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),D=g||(L||!y?[Xg(c)]:OP(c)),I=x!=="none";!g&&I&&D.push(...FP(c,y,x,O));const k=[c,...D],j=await xp(t,_),K=[];let st=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&K.push(j[E]),p){const nt=DP(r,o,O);K.push(j[nt[0]],j[nt[1]])}if(st=[...st,{placement:r,overflows:K}],!K.every(nt=>nt<=0)){var B,G;const nt=(((B=s.flip)==null?void 0:B.index)||0)+1,ht=k[nt];if(ht&&(!(p==="alignment"?T!==Go(ht):!1)||st.every(J=>J.overflows[0]>0&&Go(J.placement)===T)))return{data:{index:nt,overflows:st},reset:{placement:ht}};let U=(G=st.filter(Z=>Z.overflows[0]<=0).sort((Z,J)=>Z.overflows[1]-J.overflows[1])[0])==null?void 0:G.placement;if(!U)switch(v){case"bestFit":{var it;const Z=(it=st.filter(J=>{if(I){const pt=Go(J.placement);return pt===T||pt==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(pt=>pt>0).reduce((pt,$)=>pt+$,0)]).sort((J,pt)=>J[1]-pt[1])[0])==null?void 0:it[0];Z&&(U=Z);break}case"initialPlacement":U=c;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function Tx(i,t){return{top:i.top-t.height,right:i.right-t.width,bottom:i.bottom-t.height,left:i.left-t.width}}function Lx(i){return TP.some(t=>i[t]>=0)}const qP=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...r}=Fl(i,t);switch(n){case"referenceHidden":{const s=await xp(t,{...r,elementContext:"reference"}),o=Tx(s,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Lx(o)}}}case"escaped":{const s=await xp(t,{...r,altBoundary:!0}),o=Tx(s,e.floating);return{data:{escapedOffsets:o,escaped:Lx(o)}}}default:return{}}}}},ME=new Set(["left","top"]);async function VP(i,t){const{placement:e,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Bl(e),c=Jd(e),u=Go(e)==="y",d=ME.has(o)?-1:1,f=s&&u?-1:1,p=Fl(t,i);let{mainAxis:g,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof x=="number"&&(v=c==="end"?x*-1:x),u?{x:v*f,y:g*d}:{x:g*d,y:v*f}}const GP=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:r,y:s,placement:o,middlewareData:c}=t,u=await VP(t,i);return o===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:o}}}}},$P=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:n,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:_=>{let{x:E,y:T}=_;return{x:E,y:T}}},...u}=Fl(i,t),d={x:e,y:n},f=await xp(t,u),p=Go(Bl(r)),g=Ay(p);let v=d[g],x=d[p];if(s){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=v+f[_],L=v-f[E];v=pb(T,v,L)}if(o){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",T=x+f[_],L=x-f[E];x=pb(T,x,L)}const y=c.fn({...t,[g]:v,[p]:x});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[g]:s,[p]:o}}}}}},WP=function(i){return i===void 0&&(i={}),{options:i,fn(t){const{x:e,y:n,placement:r,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Fl(i,t),f={x:e,y:n},p=Go(r),g=Ay(p);let v=f[g],x=f[p];const y=Fl(c,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const L=g==="y"?"height":"width",O=s.reference[g]-s.floating[L]+_.mainAxis,D=s.reference[g]+s.reference[L]-_.mainAxis;v<O?v=O:v>D&&(v=D)}if(d){var E,T;const L=g==="y"?"width":"height",O=ME.has(Bl(r)),D=s.reference[p]-s.floating[L]+(O&&((E=o.offset)==null?void 0:E[p])||0)+(O?0:_.crossAxis),I=s.reference[p]+s.reference[L]+(O?0:((T=o.offset)==null?void 0:T[p])||0)-(O?_.crossAxis:0);x<D?x=D:x>I&&(x=I)}return{[g]:v,[p]:x}}}},YP=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){var e,n;const{placement:r,rects:s,platform:o,elements:c}=t,{apply:u=()=>{},...d}=Fl(i,t),f=await xp(t,d),p=Bl(r),g=Jd(r),v=Go(r)==="y",{width:x,height:y}=s.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(E=p,_=g==="end"?"top":"bottom");const T=y-f.top-f.bottom,L=x-f.left-f.right,O=Yc(y-f[_],T),D=Yc(x-f[E],L),I=!t.middlewareData.shift;let k=O,j=D;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(j=L),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=T),I&&!g){const st=Fs(f.left,0),B=Fs(f.right,0),G=Fs(f.top,0),it=Fs(f.bottom,0);v?j=x-2*(st!==0||B!==0?st+B:Fs(f.left,f.right)):k=y-2*(G!==0||it!==0?G+it:Fs(f.top,f.bottom))}await u({...t,availableWidth:j,availableHeight:k});const K=await o.getDimensions(c.floating);return x!==K.width||y!==K.height?{reset:{rects:!0}}:{}}}};function b0(){return typeof window<"u"}function tf(i){return PE(i)?(i.nodeName||"").toLowerCase():"#document"}function Hs(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function Jo(i){var t;return(t=(PE(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function PE(i){return b0()?i instanceof Node||i instanceof Hs(i).Node:!1}function Ga(i){return b0()?i instanceof Element||i instanceof Hs(i).Element:!1}function Ko(i){return b0()?i instanceof HTMLElement||i instanceof Hs(i).HTMLElement:!1}function Mx(i){return!b0()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Hs(i).ShadowRoot}const XP=new Set(["inline","contents"]);function qp(i){const{overflow:t,overflowX:e,overflowY:n,display:r}=$a(i);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!XP.has(r)}const KP=new Set(["table","td","th"]);function QP(i){return KP.has(tf(i))}const ZP=[":popover-open",":modal"];function y0(i){return ZP.some(t=>{try{return i.matches(t)}catch{return!1}})}const JP=["transform","translate","scale","rotate","perspective"],tD=["transform","translate","scale","rotate","perspective","filter"],eD=["paint","layout","strict","content"];function _y(i){const t=Ny(),e=Ga(i)?$a(i):i;return JP.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||tD.some(n=>(e.willChange||"").includes(n))||eD.some(n=>(e.contain||"").includes(n))}function nD(i){let t=Xc(i);for(;Ko(t)&&!Id(t);){if(_y(t))return t;if(y0(t))return null;t=Xc(t)}return null}function Ny(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iD=new Set(["html","body","#document"]);function Id(i){return iD.has(tf(i))}function $a(i){return Hs(i).getComputedStyle(i)}function w0(i){return Ga(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Xc(i){if(tf(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Mx(i)&&i.host||Jo(i);return Mx(t)?t.host:t}function DE(i){const t=Xc(i);return Id(t)?i.ownerDocument?i.ownerDocument.body:i.body:Ko(t)&&qp(t)?t:DE(t)}function Ap(i,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=DE(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=Hs(r);if(s){const c=gb(o);return t.concat(o,o.visualViewport||[],qp(r)?r:[],c&&e?Ap(c):[])}return t.concat(r,Ap(r,[],e))}function gb(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function OE(i){const t=$a(i);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Ko(i),s=r?i.offsetWidth:e,o=r?i.offsetHeight:n,c=Yg(e)!==s||Yg(n)!==o;return c&&(e=s,n=o),{width:e,height:n,$:c}}function Cy(i){return Ga(i)?i:i.contextElement}function Ed(i){const t=Cy(i);if(!Ko(t))return Wo(1);const e=t.getBoundingClientRect(),{width:n,height:r,$:s}=OE(t);let o=(s?Yg(e.width):e.width)/n,c=(s?Yg(e.height):e.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const rD=Wo(0);function kE(i){const t=Hs(i);return!Ny()||!t.visualViewport?rD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sD(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==Hs(i)?!1:t}function ah(i,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=i.getBoundingClientRect(),s=Cy(i);let o=Wo(1);t&&(n?Ga(n)&&(o=Ed(n)):o=Ed(i));const c=sD(s,e,n)?kE(s):Wo(0);let u=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,f=r.width/o.x,p=r.height/o.y;if(s){const g=Hs(s),v=n&&Ga(n)?Hs(n):n;let x=g,y=gb(x);for(;y&&n&&v!==x;){const _=Ed(y),E=y.getBoundingClientRect(),T=$a(y),L=E.left+(y.clientLeft+parseFloat(T.paddingLeft))*_.x,O=E.top+(y.clientTop+parseFloat(T.paddingTop))*_.y;u*=_.x,d*=_.y,f*=_.x,p*=_.y,u+=L,d+=O,x=Hs(y),y=gb(x)}}return Kg({width:f,height:p,x:u,y:d})}function Ry(i,t){const e=w0(i).scrollLeft;return t?t.left+e:ah(Jo(i)).left+e}function jE(i,t,e){e===void 0&&(e=!1);const n=i.getBoundingClientRect(),r=n.left+t.scrollLeft-(e?0:Ry(i,n)),s=n.top+t.scrollTop;return{x:r,y:s}}function aD(i){let{elements:t,rect:e,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Jo(n),c=t?y0(t.floating):!1;if(n===o||c&&s)return e;let u={scrollLeft:0,scrollTop:0},d=Wo(1);const f=Wo(0),p=Ko(n);if((p||!p&&!s)&&((tf(n)!=="body"||qp(o))&&(u=w0(n)),Ko(n))){const v=ah(n);d=Ed(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!s?jE(o,u,!0):Wo(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:e.y*d.y-u.scrollTop*d.y+f.y+g.y}}function oD(i){return Array.from(i.getClientRects())}function lD(i){const t=Jo(i),e=w0(i),n=i.ownerDocument.body,r=Fs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Fs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+Ry(i);const c=-e.scrollTop;return $a(n).direction==="rtl"&&(o+=Fs(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:c}}function cD(i,t){const e=Hs(i),n=Jo(i),r=e.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,u=0;if(r){s=r.width,o=r.height;const d=Ny();(!d||d&&t==="fixed")&&(c=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:c,y:u}}const uD=new Set(["absolute","fixed"]);function hD(i,t){const e=ah(i,!0,t==="fixed"),n=e.top+i.clientTop,r=e.left+i.clientLeft,s=Ko(i)?Ed(i):Wo(1),o=i.clientWidth*s.x,c=i.clientHeight*s.y,u=r*s.x,d=n*s.y;return{width:o,height:c,x:u,y:d}}function Px(i,t,e){let n;if(t==="viewport")n=cD(i,e);else if(t==="document")n=lD(Jo(i));else if(Ga(t))n=hD(t,e);else{const r=kE(i);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Kg(n)}function IE(i,t){const e=Xc(i);return e===t||!Ga(e)||Id(e)?!1:$a(e).position==="fixed"||IE(e,t)}function dD(i,t){const e=t.get(i);if(e)return e;let n=Ap(i,[],!1).filter(c=>Ga(c)&&tf(c)!=="body"),r=null;const s=$a(i).position==="fixed";let o=s?Xc(i):i;for(;Ga(o)&&!Id(o);){const c=$a(o),u=_y(o);!u&&c.position==="fixed"&&(r=null),(s?!u&&!r:!u&&c.position==="static"&&!!r&&uD.has(r.position)||qp(o)&&!u&&IE(i,o))?n=n.filter(f=>f!==o):r=c,o=Xc(o)}return t.set(i,n),n}function fD(i){let{element:t,boundary:e,rootBoundary:n,strategy:r}=i;const o=[...e==="clippingAncestors"?y0(t)?[]:dD(t,this._c):[].concat(e),n],c=o[0],u=o.reduce((d,f)=>{const p=Px(t,f,r);return d.top=Fs(p.top,d.top),d.right=Yc(p.right,d.right),d.bottom=Yc(p.bottom,d.bottom),d.left=Fs(p.left,d.left),d},Px(t,c,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function pD(i){const{width:t,height:e}=OE(i);return{width:t,height:e}}function mD(i,t,e){const n=Ko(t),r=Jo(t),s=e==="fixed",o=ah(i,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=Wo(0);function d(){u.x=Ry(r)}if(n||!n&&!s)if((tf(t)!=="body"||qp(r))&&(c=w0(t)),n){const v=ah(t,!0,s,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else r&&d();s&&!n&&r&&d();const f=r&&!n&&!s?jE(r,c):Wo(0),p=o.left+c.scrollLeft-u.x-f.x,g=o.top+c.scrollTop-u.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function y1(i){return $a(i).position==="static"}function Dx(i,t){if(!Ko(i)||$a(i).position==="fixed")return null;if(t)return t(i);let e=i.offsetParent;return Jo(i)===e&&(e=e.ownerDocument.body),e}function FE(i,t){const e=Hs(i);if(y0(i))return e;if(!Ko(i)){let r=Xc(i);for(;r&&!Id(r);){if(Ga(r)&&!y1(r))return r;r=Xc(r)}return e}let n=Dx(i,t);for(;n&&QP(n)&&y1(n);)n=Dx(n,t);return n&&Id(n)&&y1(n)&&!_y(n)?e:n||nD(i)||e}const gD=async function(i){const t=this.getOffsetParent||FE,e=this.getDimensions,n=await e(i.floating);return{reference:mD(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vD(i){return $a(i).direction==="rtl"}const bD={convertOffsetParentRelativeRectToViewportRelativeRect:aD,getDocumentElement:Jo,getClippingRect:fD,getOffsetParent:FE,getElementRects:gD,getClientRects:oD,getDimensions:pD,getScale:Ed,isElement:Ga,isRTL:vD};function BE(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height}function yD(i,t){let e=null,n;const r=Jo(i);function s(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=i.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=d;if(c||t(),!g||!v)return;const x=sg(p),y=sg(r.clientWidth-(f+g)),_=sg(r.clientHeight-(p+v)),E=sg(f),L={rootMargin:-x+"px "+-y+"px "+-_+"px "+-E+"px",threshold:Fs(0,Yc(1,u))||1};let O=!0;function D(I){const k=I[0].intersectionRatio;if(k!==u){if(!O)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!BE(d,i.getBoundingClientRect())&&o(),O=!1}try{e=new IntersectionObserver(D,{...L,root:r.ownerDocument})}catch{e=new IntersectionObserver(D,L)}e.observe(i)}return o(!0),s}function wD(i,t,e,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Cy(i),f=r||s?[...d?Ap(d):[],...Ap(t)]:[];f.forEach(E=>{r&&E.addEventListener("scroll",e,{passive:!0}),s&&E.addEventListener("resize",e)});const p=d&&c?yD(d,e):null;let g=-1,v=null;o&&(v=new ResizeObserver(E=>{let[T]=E;T&&T.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var L;(L=v)==null||L.observe(t)})),e()}),d&&!u&&v.observe(d),v.observe(t));let x,y=u?ah(i):null;u&&_();function _(){const E=ah(i);y&&!BE(y,E)&&e(),y=E,x=requestAnimationFrame(_)}return e(),()=>{var E;f.forEach(T=>{r&&T.removeEventListener("scroll",e),s&&T.removeEventListener("resize",e)}),p?.(),(E=v)==null||E.disconnect(),v=null,u&&cancelAnimationFrame(x)}}const xD=GP,AD=$P,SD=HP,ED=YP,_D=qP,Ox=UP,ND=WP,CD=(i,t,e)=>{const n=new Map,r={platform:bD,...e},s={...r.platform,_c:n};return zP(i,t,{...r,platform:s})};var RD=typeof document<"u",TD=function(){},Lg=RD?M.useLayoutEffect:TD;function Qg(i,t){if(i===t)return!0;if(typeof i!=typeof t)return!1;if(typeof i=="function"&&i.toString()===t.toString())return!0;let e,n,r;if(i&&t&&typeof i=="object"){if(Array.isArray(i)){if(e=i.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!Qg(i[n],t[n]))return!1;return!0}if(r=Object.keys(i),e=r.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=e;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Qg(i[s],t[s]))return!1}return!0}return i!==i&&t!==t}function zE(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function kx(i,t){const e=zE(i);return Math.round(t*e)/e}function w1(i){const t=M.useRef(i);return Lg(()=>{t.current=i}),t}function LD(i){i===void 0&&(i={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=i,[f,p]=M.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=M.useState(n);Qg(g,n)||v(n);const[x,y]=M.useState(null),[_,E]=M.useState(null),T=M.useCallback(J=>{J!==I.current&&(I.current=J,y(J))},[]),L=M.useCallback(J=>{J!==k.current&&(k.current=J,E(J))},[]),O=s||x,D=o||_,I=M.useRef(null),k=M.useRef(null),j=M.useRef(f),K=u!=null,st=w1(u),B=w1(r),G=w1(d),it=M.useCallback(()=>{if(!I.current||!k.current)return;const J={placement:t,strategy:e,middleware:g};B.current&&(J.platform=B.current),CD(I.current,k.current,J).then(pt=>{const $={...pt,isPositioned:G.current!==!1};nt.current&&!Qg(j.current,$)&&(j.current=$,Up.flushSync(()=>{p($)}))})},[g,t,e,B,G]);Lg(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[d]);const nt=M.useRef(!1);Lg(()=>(nt.current=!0,()=>{nt.current=!1}),[]),Lg(()=>{if(O&&(I.current=O),D&&(k.current=D),O&&D){if(st.current)return st.current(O,D,it);it()}},[O,D,it,st,K]);const ht=M.useMemo(()=>({reference:I,floating:k,setReference:T,setFloating:L}),[T,L]),U=M.useMemo(()=>({reference:O,floating:D}),[O,D]),Z=M.useMemo(()=>{const J={position:e,left:0,top:0};if(!U.floating)return J;const pt=kx(U.floating,f.x),$=kx(U.floating,f.y);return c?{...J,transform:"translate("+pt+"px, "+$+"px)",...zE(U.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:pt,top:$}},[e,c,U.floating,f.x,f.y]);return M.useMemo(()=>({...f,update:it,refs:ht,elements:U,floatingStyles:Z}),[f,it,ht,U,Z])}const MD=i=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:i,fn(e){const{element:n,padding:r}=typeof i=="function"?i(e):i;return n&&t(n)?n.current!=null?Ox({element:n.current,padding:r}).fn(e):{}:n?Ox({element:n,padding:r}).fn(e):{}}}},PD=(i,t)=>({...xD(i),options:[i,t]}),DD=(i,t)=>({...AD(i),options:[i,t]}),OD=(i,t)=>({...ND(i),options:[i,t]}),kD=(i,t)=>({...SD(i),options:[i,t]}),jD=(i,t)=>({...ED(i),options:[i,t]}),ID=(i,t)=>({..._D(i),options:[i,t]}),FD=(i,t)=>({...MD(i),options:[i,t]});var BD="Arrow",UE=M.forwardRef((i,t)=>{const{children:e,width:n=10,height:r=5,...s}=i;return S.jsx(un.svg,{...s,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?e:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});UE.displayName=BD;var zD=UE;function HE(i){const[t,e]=M.useState(void 0);return Ji(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,c;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=i.offsetWidth,c=i.offsetHeight;e({width:o,height:c})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var Ty="Popper",[qE,ef]=Jc(Ty),[UD,VE]=qE(Ty),GE=i=>{const{__scopePopper:t,children:e}=i,[n,r]=M.useState(null);return S.jsx(UD,{scope:t,anchor:n,onAnchorChange:r,children:e})};GE.displayName=Ty;var $E="PopperAnchor",WE=M.forwardRef((i,t)=>{const{__scopePopper:e,virtualRef:n,...r}=i,s=VE($E,e),o=M.useRef(null),c=Vn(t,o);return M.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:S.jsx(un.div,{...r,ref:c})});WE.displayName=$E;var Ly="PopperContent",[HD,qD]=qE(Ly),YE=M.forwardRef((i,t)=>{const{__scopePopper:e,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:x,...y}=i,_=VE(Ly,e),[E,T]=M.useState(null),L=Vn(t,ct=>T(ct)),[O,D]=M.useState(null),I=HE(O),k=I?.width??0,j=I?.height??0,K=n+(s!=="center"?"-"+s:""),st=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(d)?d:[d],G=B.length>0,it={padding:st,boundary:B.filter(GD),altBoundary:G},{refs:nt,floatingStyles:ht,placement:U,isPositioned:Z,middlewareData:J}=LD({strategy:"fixed",placement:K,whileElementsMounted:(...ct)=>wD(...ct,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[PD({mainAxis:r+j,alignmentAxis:o}),u&&DD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?OD():void 0,...it}),u&&kD({...it}),jD({...it,apply:({elements:ct,rects:mt,availableWidth:xt,availableHeight:Tt})=>{const{width:Ot,height:zt}=mt.reference,$t=ct.floating.style;$t.setProperty("--radix-popper-available-width",`${xt}px`),$t.setProperty("--radix-popper-available-height",`${Tt}px`),$t.setProperty("--radix-popper-anchor-width",`${Ot}px`),$t.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),O&&FD({element:O,padding:c}),$D({arrowWidth:k,arrowHeight:j}),g&&ID({strategy:"referenceHidden",...it})]}),[pt,$]=QE(U),dt=Wc(x);Ji(()=>{Z&&dt?.()},[Z,dt]);const F=J.arrow?.x,V=J.arrow?.y,tt=J.arrow?.centerOffset!==0,[at,ot]=M.useState();return Ji(()=>{E&&ot(window.getComputedStyle(E).zIndex)},[E]),S.jsx("div",{ref:nt.setFloating,"data-radix-popper-content-wrapper":"",style:{...ht,transform:Z?ht.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:S.jsx(HD,{scope:e,placedSide:pt,onArrowChange:D,arrowX:F,arrowY:V,shouldHideArrow:tt,children:S.jsx(un.div,{"data-side":pt,"data-align":$,...y,ref:L,style:{...y.style,animation:Z?void 0:"none"}})})})});YE.displayName=Ly;var XE="PopperArrow",VD={top:"bottom",right:"left",bottom:"top",left:"right"},KE=M.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=qD(XE,n),o=VD[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(zD,{...r,ref:e,style:{...r.style,display:"block"}})})});KE.displayName=XE;function GD(i){return i!==null}var $D=i=>({name:"transformOrigin",options:i,fn(t){const{placement:e,rects:n,middlewareData:r}=t,o=r.arrow?.centerOffset!==0,c=o?0:i.arrowWidth,u=o?0:i.arrowHeight,[d,f]=QE(e),p={start:"0%",center:"50%",end:"100%"}[f],g=(r.arrow?.x??0)+c/2,v=(r.arrow?.y??0)+u/2;let x="",y="";return d==="bottom"?(x=o?p:`${g}px`,y=`${-u}px`):d==="top"?(x=o?p:`${g}px`,y=`${n.floating.height+u}px`):d==="right"?(x=`${-u}px`,y=o?p:`${v}px`):d==="left"&&(x=`${n.floating.width+u}px`,y=o?p:`${v}px`),{data:{x,y}}}});function QE(i){const[t,e="center"]=i.split("-");return[t,e]}var My=GE,x0=WE,Py=YE,Dy=KE,WD="Portal",Vp=M.forwardRef((i,t)=>{const{container:e,...n}=i,[r,s]=M.useState(!1);Ji(()=>s(!0),[]);const o=e||r&&globalThis?.document?.body;return o?hE.createPortal(S.jsx(un.div,{...n,ref:t}),o):null});Vp.displayName=WD;var YD=hS[" useInsertionEffect ".trim().toString()]||Ji;function Fd({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[r,s,o]=XD({defaultProp:t,onChange:e}),c=i!==void 0,u=c?i:r;{const f=M.useRef(i!==void 0);M.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const d=M.useCallback(f=>{if(c){const p=KD(f)?f(i):f;p!==i&&o.current?.(p)}else s(f)},[c,i,s,o]);return[u,d]}function XD({defaultProp:i,onChange:t}){const[e,n]=M.useState(i),r=M.useRef(e),s=M.useRef(t);return YD(()=>{s.current=t},[t]),M.useEffect(()=>{r.current!==e&&(s.current?.(e),r.current=e)},[e,r]),[e,n,s]}function KD(i){return typeof i=="function"}function ZE(i){const t=M.useRef({value:i,previous:i});return M.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}var JE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QD="VisuallyHidden",t_=M.forwardRef((i,t)=>S.jsx(un.span,{...i,ref:t,style:{...JE,...i.style}}));t_.displayName=QD;var ZD=t_,JD=function(i){if(typeof document>"u")return null;var t=Array.isArray(i)?i[0]:i;return t.ownerDocument.body},cd=new WeakMap,ag=new WeakMap,og={},x1=0,e_=function(i){return i&&(i.host||e_(i.parentNode))},tO=function(i,t){return t.map(function(e){if(i.contains(e))return e;var n=e_(e);return n&&i.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",i,". Doing nothing"),null)}).filter(function(e){return!!e})},eO=function(i,t,e,n){var r=tO(t,Array.isArray(i)?i:[i]);og[e]||(og[e]=new WeakMap);var s=og[e],o=[],c=new Set,u=new Set(r),d=function(p){!p||c.has(p)||(c.add(p),d(p.parentNode))};r.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))f(g);else try{var v=g.getAttribute(n),x=v!==null&&v!=="false",y=(cd.get(g)||0)+1,_=(s.get(g)||0)+1;cd.set(g,y),s.set(g,_),o.push(g),y===1&&x&&ag.set(g,!0),_===1&&g.setAttribute(e,"true"),x||g.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return f(t),c.clear(),x1++,function(){o.forEach(function(p){var g=cd.get(p)-1,v=s.get(p)-1;cd.set(p,g),s.set(p,v),g||(ag.has(p)||p.removeAttribute(n),ag.delete(p)),v||p.removeAttribute(e)}),x1--,x1||(cd=new WeakMap,cd=new WeakMap,ag=new WeakMap,og={})}},Oy=function(i,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),r=JD(i);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),eO(n,r,e,"aria-hidden")):function(){return null}},qo=function(){return qo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},qo.apply(this,arguments)};function n_(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e}function nO(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return i.concat(s||Array.prototype.slice.call(t))}var Mg="right-scroll-bar-position",Pg="width-before-scroll-bar",iO="with-scroll-bars-hidden",rO="--removed-body-scroll-bar-size";function A1(i,t){return typeof i=="function"?i(t):i&&(i.current=t),i}function sO(i,t){var e=M.useState(function(){return{value:i,callback:t,facade:{get current(){return e.value},set current(n){var r=e.value;r!==n&&(e.value=n,e.callback(n,r))}}}})[0];return e.callback=t,e.facade}var aO=typeof window<"u"?M.useLayoutEffect:M.useEffect,jx=new WeakMap;function oO(i,t){var e=sO(null,function(n){return i.forEach(function(r){return A1(r,n)})});return aO(function(){var n=jx.get(e);if(n){var r=new Set(n),s=new Set(i),o=e.current;r.forEach(function(c){s.has(c)||A1(c,null)}),s.forEach(function(c){r.has(c)||A1(c,o)})}jx.set(e,i)},[i]),e}function lO(i){return i}function cO(i,t){t===void 0&&(t=lO);var e=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:i},useMedium:function(s){var o=t(s,n);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;e.length;){var o=e;e=[],o.forEach(s)}e={push:function(c){return s(c)},filter:function(){return e}}},assignMedium:function(s){n=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(s),o=e}var u=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),e={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),e}}}};return r}function uO(i){i===void 0&&(i={});var t=cO(null);return t.options=qo({async:!0,ssr:!1},i),t}var i_=function(i){var t=i.sideCar,e=n_(i,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,qo({},e))};i_.isSideCarExport=!0;function hO(i,t){return i.useMedium(t),i_}var r_=uO(),S1=function(){},A0=M.forwardRef(function(i,t){var e=M.useRef(null),n=M.useState({onScrollCapture:S1,onWheelCapture:S1,onTouchMoveCapture:S1}),r=n[0],s=n[1],o=i.forwardProps,c=i.children,u=i.className,d=i.removeScrollBar,f=i.enabled,p=i.shards,g=i.sideCar,v=i.noRelative,x=i.noIsolation,y=i.inert,_=i.allowPinchZoom,E=i.as,T=E===void 0?"div":E,L=i.gapMode,O=n_(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=g,I=oO([e,t]),k=qo(qo({},O),r);return M.createElement(M.Fragment,null,f&&M.createElement(D,{sideCar:r_,removeScrollBar:d,shards:p,noRelative:v,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:e,gapMode:L}),o?M.cloneElement(M.Children.only(c),qo(qo({},k),{ref:I})):M.createElement(T,qo({},k,{className:u,ref:I}),c))});A0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A0.classNames={fullWidth:Pg,zeroRight:Mg};var dO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fO(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var t=dO();return t&&i.setAttribute("nonce",t),i}function pO(i,t){i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}function mO(i){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(i)}var gO=function(){var i=0,t=null;return{add:function(e){i==0&&(t=fO())&&(pO(t,e),mO(t)),i++},remove:function(){i--,!i&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vO=function(){var i=gO();return function(t,e){M.useEffect(function(){return i.add(t),function(){i.remove()}},[t&&e])}},s_=function(){var i=vO(),t=function(e){var n=e.styles,r=e.dynamic;return i(n,r),null};return t},bO={left:0,top:0,right:0,gap:0},E1=function(i){return parseInt(i||"",10)||0},yO=function(i){var t=window.getComputedStyle(document.body),e=t[i==="padding"?"paddingLeft":"marginLeft"],n=t[i==="padding"?"paddingTop":"marginTop"],r=t[i==="padding"?"paddingRight":"marginRight"];return[E1(e),E1(n),E1(r)]},wO=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return bO;var t=yO(i),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},xO=s_(),_d="data-scroll-locked",AO=function(i,t,e,n){var r=i.left,s=i.top,o=i.right,c=i.gap;return e===void 0&&(e="margin"),`
  .`.concat(iO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(_d,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mg,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Pg,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Mg," .").concat(Mg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pg," .").concat(Pg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_d,`] {
    `).concat(rO,": ").concat(c,`px;
  }
`)},Ix=function(){var i=parseInt(document.body.getAttribute(_d)||"0",10);return isFinite(i)?i:0},SO=function(){M.useEffect(function(){return document.body.setAttribute(_d,(Ix()+1).toString()),function(){var i=Ix()-1;i<=0?document.body.removeAttribute(_d):document.body.setAttribute(_d,i.toString())}},[])},EO=function(i){var t=i.noRelative,e=i.noImportant,n=i.gapMode,r=n===void 0?"margin":n;SO();var s=M.useMemo(function(){return wO(r)},[r]);return M.createElement(xO,{styles:AO(s,!t,r,e?"":"!important")})},vb=!1;if(typeof window<"u")try{var lg=Object.defineProperty({},"passive",{get:function(){return vb=!0,!0}});window.addEventListener("test",lg,lg),window.removeEventListener("test",lg,lg)}catch{vb=!1}var ud=vb?{passive:!1}:!1,_O=function(i){return i.tagName==="TEXTAREA"},a_=function(i,t){if(!(i instanceof Element))return!1;var e=window.getComputedStyle(i);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!_O(i)&&e[t]==="visible")},NO=function(i){return a_(i,"overflowY")},CO=function(i){return a_(i,"overflowX")},Fx=function(i,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=o_(i,n);if(r){var s=l_(i,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},RO=function(i){var t=i.scrollTop,e=i.scrollHeight,n=i.clientHeight;return[t,e,n]},TO=function(i){var t=i.scrollLeft,e=i.scrollWidth,n=i.clientWidth;return[t,e,n]},o_=function(i,t){return i==="v"?NO(t):CO(t)},l_=function(i,t){return i==="v"?RO(t):TO(t)},LO=function(i,t){return i==="h"&&t==="rtl"?-1:1},MO=function(i,t,e,n,r){var s=LO(i,window.getComputedStyle(t).direction),o=s*n,c=e.target,u=t.contains(c),d=!1,f=o>0,p=0,g=0;do{if(!c)break;var v=l_(i,c),x=v[0],y=v[1],_=v[2],E=y-_-s*x;(x||E)&&o_(i,c)&&(p+=E,g+=x);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(d=!0),d},cg=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},Bx=function(i){return[i.deltaX,i.deltaY]},zx=function(i){return i&&"current"in i?i.current:i},PO=function(i,t){return i[0]===t[0]&&i[1]===t[1]},DO=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},OO=0,hd=[];function kO(i){var t=M.useRef([]),e=M.useRef([0,0]),n=M.useRef(),r=M.useState(OO++)[0],s=M.useState(s_)[0],o=M.useRef(i);M.useEffect(function(){o.current=i},[i]),M.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(r));var y=nO([i.lockRef.current],(i.shards||[]).map(zx),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[i.inert,i.lockRef.current,i.shards]);var c=M.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=cg(y),T=e.current,L="deltaX"in y?y.deltaX:T[0]-E[0],O="deltaY"in y?y.deltaY:T[1]-E[1],D,I=y.target,k=Math.abs(L)>Math.abs(O)?"h":"v";if("touches"in y&&k==="h"&&I.type==="range")return!1;var j=Fx(k,I);if(!j)return!0;if(j?D=k:(D=k==="v"?"h":"v",j=Fx(k,I)),!j)return!1;if(!n.current&&"changedTouches"in y&&(L||O)&&(n.current=D),!D)return!0;var K=n.current||D;return MO(K,_,y,K==="h"?L:O)},[]),u=M.useCallback(function(y){var _=y;if(!(!hd.length||hd[hd.length-1]!==s)){var E="deltaY"in _?Bx(_):cg(_),T=t.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&PO(D.delta,E)})[0];if(T&&T.should){_.cancelable&&_.preventDefault();return}if(!T){var L=(o.current.shards||[]).map(zx).filter(Boolean).filter(function(D){return D.contains(_.target)}),O=L.length>0?c(_,L[0]):!o.current.noIsolation;O&&_.cancelable&&_.preventDefault()}}},[]),d=M.useCallback(function(y,_,E,T){var L={name:y,delta:_,target:E,should:T,shadowParent:jO(E)};t.current.push(L),setTimeout(function(){t.current=t.current.filter(function(O){return O!==L})},1)},[]),f=M.useCallback(function(y){e.current=cg(y),n.current=void 0},[]),p=M.useCallback(function(y){d(y.type,Bx(y),y.target,c(y,i.lockRef.current))},[]),g=M.useCallback(function(y){d(y.type,cg(y),y.target,c(y,i.lockRef.current))},[]);M.useEffect(function(){return hd.push(s),i.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,ud),document.addEventListener("touchmove",u,ud),document.addEventListener("touchstart",f,ud),function(){hd=hd.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,ud),document.removeEventListener("touchmove",u,ud),document.removeEventListener("touchstart",f,ud)}},[]);var v=i.removeScrollBar,x=i.inert;return M.createElement(M.Fragment,null,x?M.createElement(s,{styles:DO(r)}):null,v?M.createElement(EO,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function jO(i){for(var t=null;i!==null;)i instanceof ShadowRoot&&(t=i.host,i=i.host),i=i.parentNode;return t}const IO=hO(r_,kO);var S0=M.forwardRef(function(i,t){return M.createElement(A0,qo({},i,{ref:t,sideCar:IO}))});S0.classNames=A0.classNames;var FO=[" ","Enter","ArrowUp","ArrowDown"],BO=[" ","Enter"],oh="Select",[E0,_0,zO]=cP(oh),[nf,wz]=Jc(oh,[zO,ef]),N0=ef(),[UO,tu]=nf(oh),[HO,qO]=nf(oh),c_=i=>{const{__scopeSelect:t,children:e,open:n,defaultOpen:r,onOpenChange:s,value:o,defaultValue:c,onValueChange:u,dir:d,name:f,autoComplete:p,disabled:g,required:v,form:x}=i,y=N0(t),[_,E]=M.useState(null),[T,L]=M.useState(null),[O,D]=M.useState(!1),I=hP(d),[k,j]=Fd({prop:n,defaultProp:r??!1,onChange:s,caller:oh}),[K,st]=Fd({prop:o,defaultProp:c,onChange:u,caller:oh}),B=M.useRef(null),G=_?x||!!_.closest("form"):!0,[it,nt]=M.useState(new Set),ht=Array.from(it).map(U=>U.props.value).join(";");return S.jsx(My,{...y,children:S.jsxs(UO,{required:v,scope:t,trigger:_,onTriggerChange:E,valueNode:T,onValueNodeChange:L,valueNodeHasChildren:O,onValueNodeHasChildrenChange:D,contentId:Gc(),value:K,onValueChange:st,open:k,onOpenChange:j,dir:I,triggerPointerDownPosRef:B,disabled:g,children:[S.jsx(E0.Provider,{scope:t,children:S.jsx(HO,{scope:i.__scopeSelect,onNativeOptionAdd:M.useCallback(U=>{nt(Z=>new Set(Z).add(U))},[]),onNativeOptionRemove:M.useCallback(U=>{nt(Z=>{const J=new Set(Z);return J.delete(U),J})},[]),children:e})}),G?S.jsxs(M_,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:K,onChange:U=>st(U.target.value),disabled:g,form:x,children:[K===void 0?S.jsx("option",{value:""}):null,Array.from(it)]},ht):null]})})};c_.displayName=oh;var u_="SelectTrigger",h_=M.forwardRef((i,t)=>{const{__scopeSelect:e,disabled:n=!1,...r}=i,s=N0(e),o=tu(u_,e),c=o.disabled||n,u=Vn(t,o.onTriggerChange),d=_0(e),f=M.useRef("touch"),[p,g,v]=D_(y=>{const _=d().filter(L=>!L.disabled),E=_.find(L=>L.value===o.value),T=O_(_,y,E);T!==void 0&&o.onValueChange(T.value)}),x=y=>{c||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return S.jsx(x0,{asChild:!0,...s,children:S.jsx(un.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":P_(o.value)?"":void 0,...r,ref:u,onClick:Je(r.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Je(r.onPointerDown,y=>{f.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Je(r.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&FO.includes(y.key)&&(x(),y.preventDefault())})})})});h_.displayName=u_;var d_="SelectValue",f_=M.forwardRef((i,t)=>{const{__scopeSelect:e,className:n,style:r,children:s,placeholder:o="",...c}=i,u=tu(d_,e),{onValueNodeHasChildrenChange:d}=u,f=s!==void 0,p=Vn(t,u.onValueNodeChange);return Ji(()=>{d(f)},[d,f]),S.jsx(un.span,{...c,ref:p,style:{pointerEvents:"none"},children:P_(u.value)?S.jsx(S.Fragment,{children:o}):s})});f_.displayName=d_;var VO="SelectIcon",p_=M.forwardRef((i,t)=>{const{__scopeSelect:e,children:n,...r}=i;return S.jsx(un.span,{"aria-hidden":!0,...r,ref:t,children:n||""})});p_.displayName=VO;var GO="SelectPortal",m_=i=>S.jsx(Vp,{asChild:!0,...i});m_.displayName=GO;var lh="SelectContent",g_=M.forwardRef((i,t)=>{const e=tu(lh,i.__scopeSelect),[n,r]=M.useState();if(Ji(()=>{r(new DocumentFragment)},[]),!e.open){const s=n;return s?Up.createPortal(S.jsx(v_,{scope:i.__scopeSelect,children:S.jsx(E0.Slot,{scope:i.__scopeSelect,children:S.jsx("div",{children:i.children})})}),s):null}return S.jsx(b_,{...i,ref:t})});g_.displayName=lh;var Ba=10,[v_,eu]=nf(lh),$O="SelectContentImpl",WO=sh("SelectContent.RemoveScroll"),b_=M.forwardRef((i,t)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_,...E}=i,T=tu(lh,e),[L,O]=M.useState(null),[D,I]=M.useState(null),k=Vn(t,ct=>O(ct)),[j,K]=M.useState(null),[st,B]=M.useState(null),G=_0(e),[it,nt]=M.useState(!1),ht=M.useRef(!1);M.useEffect(()=>{if(L)return Oy(L)},[L]),xy();const U=M.useCallback(ct=>{const[mt,...xt]=G().map(zt=>zt.ref.current),[Tt]=xt.slice(-1),Ot=document.activeElement;for(const zt of ct)if(zt===Ot||(zt?.scrollIntoView({block:"nearest"}),zt===mt&&D&&(D.scrollTop=0),zt===Tt&&D&&(D.scrollTop=D.scrollHeight),zt?.focus(),document.activeElement!==Ot))return},[G,D]),Z=M.useCallback(()=>U([j,L]),[U,j,L]);M.useEffect(()=>{it&&Z()},[it,Z]);const{onOpenChange:J,triggerPointerDownPosRef:pt}=T;M.useEffect(()=>{if(L){let ct={x:0,y:0};const mt=Tt=>{ct={x:Math.abs(Math.round(Tt.pageX)-(pt.current?.x??0)),y:Math.abs(Math.round(Tt.pageY)-(pt.current?.y??0))}},xt=Tt=>{ct.x<=10&&ct.y<=10?Tt.preventDefault():L.contains(Tt.target)||J(!1),document.removeEventListener("pointermove",mt),pt.current=null};return pt.current!==null&&(document.addEventListener("pointermove",mt),document.addEventListener("pointerup",xt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",mt),document.removeEventListener("pointerup",xt,{capture:!0})}}},[L,J,pt]),M.useEffect(()=>{const ct=()=>J(!1);return window.addEventListener("blur",ct),window.addEventListener("resize",ct),()=>{window.removeEventListener("blur",ct),window.removeEventListener("resize",ct)}},[J]);const[$,dt]=D_(ct=>{const mt=G().filter(Ot=>!Ot.disabled),xt=mt.find(Ot=>Ot.ref.current===document.activeElement),Tt=O_(mt,ct,xt);Tt&&setTimeout(()=>Tt.ref.current.focus())}),F=M.useCallback((ct,mt,xt)=>{const Tt=!ht.current&&!xt;(T.value!==void 0&&T.value===mt||Tt)&&(K(ct),Tt&&(ht.current=!0))},[T.value]),V=M.useCallback(()=>L?.focus(),[L]),tt=M.useCallback((ct,mt,xt)=>{const Tt=!ht.current&&!xt;(T.value!==void 0&&T.value===mt||Tt)&&B(ct)},[T.value]),at=n==="popper"?bb:y_,ot=at===bb?{side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_}:{};return S.jsx(v_,{scope:e,content:L,viewport:D,onViewportChange:I,itemRefCallback:F,selectedItem:j,onItemLeave:V,itemTextRefCallback:tt,focusSelectedItem:Z,selectedItemText:st,position:n,isPositioned:it,searchRef:$,children:S.jsx(S0,{as:WO,allowPinchZoom:!0,children:S.jsx(v0,{asChild:!0,trapped:T.open,onMountAutoFocus:ct=>{ct.preventDefault()},onUnmountAutoFocus:Je(r,ct=>{T.trigger?.focus({preventScroll:!0}),ct.preventDefault()}),children:S.jsx(Hp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ct=>ct.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:S.jsx(at,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ct=>ct.preventDefault(),...E,...ot,onPlaced:()=>nt(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Je(E.onKeyDown,ct=>{const mt=ct.ctrlKey||ct.altKey||ct.metaKey;if(ct.key==="Tab"&&ct.preventDefault(),!mt&&ct.key.length===1&&dt(ct.key),["ArrowUp","ArrowDown","Home","End"].includes(ct.key)){let Tt=G().filter(Ot=>!Ot.disabled).map(Ot=>Ot.ref.current);if(["ArrowUp","End"].includes(ct.key)&&(Tt=Tt.slice().reverse()),["ArrowUp","ArrowDown"].includes(ct.key)){const Ot=ct.target,zt=Tt.indexOf(Ot);Tt=Tt.slice(zt+1)}setTimeout(()=>U(Tt)),ct.preventDefault()}})})})})})})});b_.displayName=$O;var YO="SelectItemAlignedPosition",y_=M.forwardRef((i,t)=>{const{__scopeSelect:e,onPlaced:n,...r}=i,s=tu(lh,e),o=eu(lh,e),[c,u]=M.useState(null),[d,f]=M.useState(null),p=Vn(t,k=>f(k)),g=_0(e),v=M.useRef(!1),x=M.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:E,focusSelectedItem:T}=o,L=M.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&d&&y&&_&&E){const k=s.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),K=s.valueNode.getBoundingClientRect(),st=E.getBoundingClientRect();if(s.dir!=="rtl"){const Ot=st.left-j.left,zt=K.left-Ot,$t=k.left-zt,Kt=k.width+$t,Lt=Math.max(Kt,j.width),lt=window.innerWidth-Ba,se=bx(zt,[Ba,Math.max(Ba,lt-Lt)]);c.style.minWidth=Kt+"px",c.style.left=se+"px"}else{const Ot=j.right-st.right,zt=window.innerWidth-K.right-Ot,$t=window.innerWidth-k.right-zt,Kt=k.width+$t,Lt=Math.max(Kt,j.width),lt=window.innerWidth-Ba,se=bx(zt,[Ba,Math.max(Ba,lt-Lt)]);c.style.minWidth=Kt+"px",c.style.right=se+"px"}const B=g(),G=window.innerHeight-Ba*2,it=y.scrollHeight,nt=window.getComputedStyle(d),ht=parseInt(nt.borderTopWidth,10),U=parseInt(nt.paddingTop,10),Z=parseInt(nt.borderBottomWidth,10),J=parseInt(nt.paddingBottom,10),pt=ht+U+it+J+Z,$=Math.min(_.offsetHeight*5,pt),dt=window.getComputedStyle(y),F=parseInt(dt.paddingTop,10),V=parseInt(dt.paddingBottom,10),tt=k.top+k.height/2-Ba,at=G-tt,ot=_.offsetHeight/2,ct=_.offsetTop+ot,mt=ht+U+ct,xt=pt-mt;if(mt<=tt){const Ot=B.length>0&&_===B[B.length-1].ref.current;c.style.bottom="0px";const zt=d.clientHeight-y.offsetTop-y.offsetHeight,$t=Math.max(at,ot+(Ot?V:0)+zt+Z),Kt=mt+$t;c.style.height=Kt+"px"}else{const Ot=B.length>0&&_===B[0].ref.current;c.style.top="0px";const $t=Math.max(tt,ht+y.offsetTop+(Ot?F:0)+ot)+xt;c.style.height=$t+"px",y.scrollTop=mt-tt+y.offsetTop}c.style.margin=`${Ba}px 0`,c.style.minHeight=$+"px",c.style.maxHeight=G+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,c,d,y,_,E,s.dir,n]);Ji(()=>L(),[L]);const[O,D]=M.useState();Ji(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const I=M.useCallback(k=>{k&&x.current===!0&&(L(),T?.(),x.current=!1)},[L,T]);return S.jsx(KO,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:I,children:S.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:S.jsx(un.div,{...r,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});y_.displayName=YO;var XO="SelectPopperPosition",bb=M.forwardRef((i,t)=>{const{__scopeSelect:e,align:n="start",collisionPadding:r=Ba,...s}=i,o=N0(e);return S.jsx(Py,{...o,...s,ref:t,align:n,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bb.displayName=XO;var[KO,ky]=nf(lh,{}),yb="SelectViewport",w_=M.forwardRef((i,t)=>{const{__scopeSelect:e,nonce:n,...r}=i,s=eu(yb,e),o=ky(yb,e),c=Vn(t,s.onViewportChange),u=M.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),S.jsx(E0.Slot,{scope:e,children:S.jsx(un.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Je(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const v=Math.abs(u.current-f.scrollTop);if(v>0){const x=window.innerHeight-Ba*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),E=Math.max(y,_);if(E<x){const T=E+v,L=Math.min(x,T),O=T-L;p.style.height=L+"px",p.style.bottom==="0px"&&(f.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});w_.displayName=yb;var x_="SelectGroup",[QO,ZO]=nf(x_),JO=M.forwardRef((i,t)=>{const{__scopeSelect:e,...n}=i,r=Gc();return S.jsx(QO,{scope:e,id:r,children:S.jsx(un.div,{role:"group","aria-labelledby":r,...n,ref:t})})});JO.displayName=x_;var A_="SelectLabel",tk=M.forwardRef((i,t)=>{const{__scopeSelect:e,...n}=i,r=ZO(A_,e);return S.jsx(un.div,{id:r.id,...n,ref:t})});tk.displayName=A_;var Zg="SelectItem",[ek,S_]=nf(Zg),E_=M.forwardRef((i,t)=>{const{__scopeSelect:e,value:n,disabled:r=!1,textValue:s,...o}=i,c=tu(Zg,e),u=eu(Zg,e),d=c.value===n,[f,p]=M.useState(s??""),[g,v]=M.useState(!1),x=Vn(t,T=>u.itemRefCallback?.(T,n,r)),y=Gc(),_=M.useRef("touch"),E=()=>{r||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(ek,{scope:e,value:n,disabled:r,textId:y,isSelected:d,onItemTextChange:M.useCallback(T=>{p(L=>L||(T?.textContent??"").trim())},[]),children:S.jsx(E0.ItemSlot,{scope:e,value:n,disabled:r,textValue:f,children:S.jsx(un.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:x,onFocus:Je(o.onFocus,()=>v(!0)),onBlur:Je(o.onBlur,()=>v(!1)),onClick:Je(o.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:Je(o.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:Je(o.onPointerDown,T=>{_.current=T.pointerType}),onPointerMove:Je(o.onPointerMove,T=>{_.current=T.pointerType,r?u.onItemLeave?.():_.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,T=>{T.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Je(o.onKeyDown,T=>{u.searchRef?.current!==""&&T.key===" "||(BO.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});E_.displayName=Zg;var up="SelectItemText",__=M.forwardRef((i,t)=>{const{__scopeSelect:e,className:n,style:r,...s}=i,o=tu(up,e),c=eu(up,e),u=S_(up,e),d=qO(up,e),[f,p]=M.useState(null),g=Vn(t,E=>p(E),u.onItemTextChange,E=>c.itemTextRefCallback?.(E,u.value,u.disabled)),v=f?.textContent,x=M.useMemo(()=>S.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=d;return Ji(()=>(y(x),()=>_(x)),[y,_,x]),S.jsxs(S.Fragment,{children:[S.jsx(un.span,{id:u.textId,...s,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Up.createPortal(s.children,o.valueNode):null]})});__.displayName=up;var N_="SelectItemIndicator",C_=M.forwardRef((i,t)=>{const{__scopeSelect:e,...n}=i;return S_(N_,e).isSelected?S.jsx(un.span,{"aria-hidden":!0,...n,ref:t}):null});C_.displayName=N_;var wb="SelectScrollUpButton",R_=M.forwardRef((i,t)=>{const e=eu(wb,i.__scopeSelect),n=ky(wb,i.__scopeSelect),[r,s]=M.useState(!1),o=Vn(t,n.onScrollButtonChange);return Ji(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=u.scrollTop>0;s(d)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),r?S.jsx(L_,{...i,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});R_.displayName=wb;var xb="SelectScrollDownButton",T_=M.forwardRef((i,t)=>{const e=eu(xb,i.__scopeSelect),n=ky(xb,i.__scopeSelect),[r,s]=M.useState(!1),o=Vn(t,n.onScrollButtonChange);return Ji(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;s(f)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),r?S.jsx(L_,{...i,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});T_.displayName=xb;var L_=M.forwardRef((i,t)=>{const{__scopeSelect:e,onAutoScroll:n,...r}=i,s=eu("SelectScrollButton",e),o=M.useRef(null),c=_0(e),u=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>u(),[u]),Ji(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),S.jsx(un.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:Je(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Je(r.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Je(r.onPointerLeave,()=>{u()})})}),nk="SelectSeparator",ik=M.forwardRef((i,t)=>{const{__scopeSelect:e,...n}=i;return S.jsx(un.div,{"aria-hidden":!0,...n,ref:t})});ik.displayName=nk;var Ab="SelectArrow",rk=M.forwardRef((i,t)=>{const{__scopeSelect:e,...n}=i,r=N0(e),s=tu(Ab,e),o=eu(Ab,e);return s.open&&o.position==="popper"?S.jsx(Dy,{...r,...n,ref:t}):null});rk.displayName=Ab;var sk="SelectBubbleInput",M_=M.forwardRef(({__scopeSelect:i,value:t,...e},n)=>{const r=M.useRef(null),s=Vn(n,r),o=ZE(t);return M.useEffect(()=>{const c=r.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(p)}},[o,t]),S.jsx(un.select,{...e,style:{...JE,...e.style},ref:s,defaultValue:t})});M_.displayName=sk;function P_(i){return i===""||i===void 0}function D_(i){const t=Wc(i),e=M.useRef(""),n=M.useRef(0),r=M.useCallback(o=>{const c=e.current+o;t(c),function u(d){e.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),s=M.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,r,s]}function O_(i,t,e){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=e?i.indexOf(e):-1;let o=ak(i,Math.max(s,0));r.length===1&&(o=o.filter(d=>d!==e));const u=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==e?u:void 0}function ak(i,t){return i.map((e,n)=>i[(t+n)%i.length])}var ok=c_,lk=h_,ck=f_,uk=p_,hk=m_,dk=g_,fk=w_,pk=E_,mk=__,gk=C_,vk=R_,bk=T_;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wk=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Ux=i=>{const t=wk(i);return t.charAt(0).toUpperCase()+t.slice(1)},k_=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),xk=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ak={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=M.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...c},u)=>M.createElement("svg",{ref:u,...Ak,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:k_("lucide",r),...!s&&!xk(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,f])=>M.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=(i,t)=>{const e=M.forwardRef(({className:n,...r},s)=>M.createElement(Sk,{ref:s,iconNode:t,className:k_(`lucide-${yk(Ux(i))}`,`lucide-${i}`,n),...r}));return e.displayName=Ux(i),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],j_=Gi("check",Ek);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I_=Gi("chevron-down",_k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ck=Gi("chevron-left",Nk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tk=Gi("chevron-right",Rk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mk=Gi("chevron-up",Lk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dk=Gi("circle-alert",Pk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],F_=Gi("file-text",Ok);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],jk=Gi("house",kk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Sb=Gi("inbox",Ik);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],B_=Gi("info",Fk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xu=Gi("loader-circle",Bk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hx=Gi("log-out",zk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Hk=Gi("menu",Uk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Vk=Gi("panel-left",qk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],z_=Gi("scan",Gk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wk=Gi("search",$k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xk=Gi("shield",Yk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qk=Gi("trash-2",Kk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jk=Gi("user",Zk);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],C0=Gi("x",tj);function ej({...i}){return S.jsx(ok,{"data-slot":"select",...i})}function nj({...i}){return S.jsx(ck,{"data-slot":"select-value",...i})}function ij({className:i,size:t="default",children:e,...n}){return S.jsxs(lk,{"data-slot":"select-trigger","data-size":t,className:Ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...n,children:[e,S.jsx(uk,{asChild:!0,children:S.jsx(I_,{className:"size-4 opacity-50"})})]})}function rj({className:i,children:t,position:e="popper",...n}){return S.jsx(hk,{children:S.jsxs(dk,{"data-slot":"select-content",className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:e,...n,children:[S.jsx(aj,{}),S.jsx(fk,{className:Ne("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),S.jsx(oj,{})]})})}function sj({className:i,children:t,...e}){return S.jsxs(pk,{"data-slot":"select-item",className:Ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",i),...e,children:[S.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:S.jsx(gk,{children:S.jsx(j_,{className:"size-4"})})}),S.jsx(mk,{children:t})]})}function aj({className:i,...t}){return S.jsx(vk,{"data-slot":"select-scroll-up-button",className:Ne("flex cursor-default items-center justify-center py-1",i),...t,children:S.jsx(Mk,{className:"size-4"})})}function oj({className:i,...t}){return S.jsx(bk,{"data-slot":"select-scroll-down-button",className:Ne("flex cursor-default items-center justify-center py-1",i),...t,children:S.jsx(I_,{className:"size-4"})})}const Bs=({label:i,id:t,type:e="text",name:n,value:r,onChange:s,required:o,accept:c,placeholder:u,options:d})=>S.jsxs("div",{className:"mb-4 flex-col space-y-2",children:[S.jsx(Ha,{htmlFor:t,children:i}),d?S.jsxs(ej,{name:n,value:r,onValueChange:f=>s({target:{name:n,value:f}}),required:o,children:[S.jsx(ij,{id:t,children:S.jsx(nj,{placeholder:u})}),S.jsx(rj,{children:d.map(f=>S.jsx(sj,{value:f.value,children:f.label},f.value))})]}):S.jsx(wy,{id:t,type:e,name:n,value:e!=="file"?r:void 0,onChange:s,required:o,accept:c,placeholder:u})]}),lj=()=>{const{login:i,isLoading:t}=M.useContext(bh),{showError:e}=Zo(),n=Bp(),{formData:r,handleChange:s}=Zd({email:"",password:""}),o=c=>{c.preventDefault(),i(r,{onSuccess:()=>n("/"),onError:u=>e(u,"Login failed")})};return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:S.jsxs("form",{onSubmit:o,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Login"}),S.jsx(Bs,{label:"Email",id:"email",type:"email",name:"email",value:r.email,onChange:s,required:!0}),S.jsx(Bs,{label:"Password",id:"password",type:"password",name:"password",value:r.password,onChange:s,required:!0}),S.jsx(sn,{type:"submit",disabled:t,className:"w-full",children:t?"Logging in...":"Login"}),S.jsx("div",{className:"mt-4 text-center",children:S.jsx(fr,{to:"/reset-password",className:"text-blue-600",children:"Forgot Password?"})}),S.jsx("div",{className:"mt-2 text-center",children:S.jsx(fr,{to:"/register",className:"text-blue-600",children:"Register"})})]})})},cj=()=>S.jsx("div",{children:S.jsx(lj,{})}),uj=()=>{const{showError:i,showSuccess:t}=Zo(),{formData:e,handleChange:n}=Zd({employeeId:"",fullName:"",department:"",email:"",education:"",profession:"",password:""}),r=Us({mutationFn:dL,onSuccess:()=>t("Registration submitted, pending approval"),onError:c=>i(c,"Registration failed")}),s=c=>{c.preventDefault(),r.mutate(e)},o=[{id:"employeeId",label:"Employee ID",type:"text",placeholder:"Enter your employee ID"},{id:"fullName",label:"Full Name",type:"text",placeholder:"Enter your full name"},{id:"department",label:"Department",type:"select",placeholder:"Select your department",options:[{value:"engineering",label:"Engineering"},{value:"hr",label:"Human Resources"},{value:"marketing",label:"Marketing"},{value:"finance",label:"Finance"},{value:"it",label:"Information Technology"}]},{id:"email",label:"Email",type:"email",placeholder:"Enter your email"},{id:"education",label:"Education",type:"select",placeholder:"Select your education level",options:[{value:"highschool",label:"High School"},{value:"bachelor",label:"Bachelors Degree"},{value:"master",label:"Masters Degree"},{value:"phd",label:"PhD"}]},{id:"profession",label:"Profession",type:"select",placeholder:"Select your profession",options:[{value:"doctor",label:"Doctor"},{value:"physician",label:"Physician"},{value:"nurse",label:"Nurse"},{value:"Pharmacist",label:"Pharmacist"},{value:"Researcher",label:"Researcher"},{value:"Teacher",label:"Teacher/Lecturer"},{value:"ITspecialist",label:"ITspecialist"},{value:"others",label:"Others"}]},{id:"password",label:"Password",type:"password",placeholder:"Enter your password"}];return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:S.jsxs("form",{onSubmit:s,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Register"}),o.map(c=>S.jsx(Bs,{label:c.label,id:c.id,type:c.type,name:c.id,value:e[c.id],onChange:n,required:!0,placeholder:c.placeholder,options:c.options},c.id)),S.jsx(sn,{type:"submit",disabled:r.isLoading,className:"w-full",children:r.isLoading?"Submitting...":"Submit"}),S.jsx("div",{className:"mt-4 text-center",children:S.jsx(fr,{to:"/login",className:"text-blue-600",children:"Already registered? Login"})})]})})},hj=()=>S.jsx("div",{children:S.jsx(uj,{})}),dj=()=>{const{showError:i,showSuccess:t}=Zo(),{formData:e,handleChange:n}=Zd({email:""}),r=Us({mutationFn:cL,onSuccess:()=>t("Password reset link sent to email"),onError:o=>i(o,"Request failed")}),s=o=>{o.preventDefault(),r.mutate(e)};return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:S.jsxs("form",{onSubmit:s,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Request Password Reset"}),S.jsx(Bs,{label:"Email",id:"email",type:"email",name:"email",value:e.email,onChange:n,required:!0}),S.jsx(sn,{type:"submit",disabled:r.isLoading,className:"w-full",children:r.isLoading?"Sending...":"Send Reset Link"}),S.jsx("div",{className:"mt-4 text-center",children:S.jsx(fr,{to:"/login",className:"text-blue-600",children:"Back to Login"})})]})})},fj=()=>S.jsx("div",{children:S.jsx(dj,{})}),pj=()=>{const{token:i}=QL(),{showError:t,showSuccess:e}=Zo(),{formData:n,handleChange:r}=Zd({newPassword:""}),s=Us({mutationFn:c=>uL(i,c),onSuccess:()=>{e("Password reset successful"),window.location.href="/login"},onError:c=>t(c,"Reset failed")}),o=c=>{c.preventDefault(),s.mutate(n)};return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:S.jsxs("form",{onSubmit:o,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reset Password"}),S.jsx(Bs,{label:"New Password",id:"newPassword",type:"password",name:"newPassword",value:n.newPassword,onChange:r,required:!0}),S.jsx(sn,{type:"submit",disabled:s.isLoading,className:"w-full",children:s.isLoading?"Resetting...":"Reset Password"}),S.jsx("div",{className:"mt-4 text-center",children:S.jsx(fr,{to:"/login",className:"text-blue-600",children:"Back to Login"})})]})})},mj=()=>S.jsx("div",{children:S.jsx(pj,{})}),zc={ADMIN:"Admin",SCANNER_CLERK:"ScannerClerk",APPROVER:"Approver",UPLOADER:"Uploader"};function gj(i,t){return M.useReducer((e,n)=>t[e][n]??e,i)}var ql=i=>{const{present:t,children:e}=i,n=vj(t),r=typeof e=="function"?e({present:n.isPresent}):M.Children.only(e),s=Vn(n.ref,bj(r));return typeof e=="function"||n.isPresent?M.cloneElement(r,{ref:s}):null};ql.displayName="Presence";function vj(i){const[t,e]=M.useState(),n=M.useRef(null),r=M.useRef(i),s=M.useRef("none"),o=i?"mounted":"unmounted",[c,u]=gj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const d=ug(n.current);s.current=c==="mounted"?d:"none"},[c]),Ji(()=>{const d=n.current,f=r.current;if(f!==i){const g=s.current,v=ug(d);i?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,u]),Ji(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=v=>{const y=ug(n.current).includes(v.animationName);if(v.target===t&&y&&(u("ANIMATION_END"),!r.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=ug(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:M.useCallback(d=>{n.current=d?getComputedStyle(d):null,e(d)},[])}}function ug(i){return i?.animationName||"none"}function bj(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var R0="Popover",[U_,xz]=Jc(R0,[ef]),Gp=ef(),[yj,nu]=U_(R0),H_=i=>{const{__scopePopover:t,children:e,open:n,defaultOpen:r,onOpenChange:s,modal:o=!1}=i,c=Gp(t),u=M.useRef(null),[d,f]=M.useState(!1),[p,g]=Fd({prop:n,defaultProp:r??!1,onChange:s,caller:R0});return S.jsx(My,{...c,children:S.jsx(yj,{scope:t,contentId:Gc(),triggerRef:u,open:p,onOpenChange:g,onOpenToggle:M.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:d,onCustomAnchorAdd:M.useCallback(()=>f(!0),[]),onCustomAnchorRemove:M.useCallback(()=>f(!1),[]),modal:o,children:e})})};H_.displayName=R0;var q_="PopoverAnchor",wj=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=nu(q_,e),s=Gp(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=r;return M.useEffect(()=>(o(),()=>c()),[o,c]),S.jsx(x0,{...s,...n,ref:t})});wj.displayName=q_;var V_="PopoverTrigger",G_=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=nu(V_,e),s=Gp(e),o=Vn(t,r.triggerRef),c=S.jsx(un.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":K_(r.open),...n,ref:o,onClick:Je(i.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:S.jsx(x0,{asChild:!0,...s,children:c})});G_.displayName=V_;var jy="PopoverPortal",[xj,Aj]=U_(jy,{forceMount:void 0}),$_=i=>{const{__scopePopover:t,forceMount:e,children:n,container:r}=i,s=nu(jy,t);return S.jsx(xj,{scope:t,forceMount:e,children:S.jsx(ql,{present:e||s.open,children:S.jsx(Vp,{asChild:!0,container:r,children:n})})})};$_.displayName=jy;var Bd="PopoverContent",W_=M.forwardRef((i,t)=>{const e=Aj(Bd,i.__scopePopover),{forceMount:n=e.forceMount,...r}=i,s=nu(Bd,i.__scopePopover);return S.jsx(ql,{present:n||s.open,children:s.modal?S.jsx(Ej,{...r,ref:t}):S.jsx(_j,{...r,ref:t})})});W_.displayName=Bd;var Sj=sh("PopoverContent.RemoveScroll"),Ej=M.forwardRef((i,t)=>{const e=nu(Bd,i.__scopePopover),n=M.useRef(null),r=Vn(t,n),s=M.useRef(!1);return M.useEffect(()=>{const o=n.current;if(o)return Oy(o)},[]),S.jsx(S0,{as:Sj,allowPinchZoom:!0,children:S.jsx(Y_,{...i,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(i.onCloseAutoFocus,o=>{o.preventDefault(),s.current||e.triggerRef.current?.focus()}),onPointerDownOutside:Je(i.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Je(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),_j=M.forwardRef((i,t)=>{const e=nu(Bd,i.__scopePopover),n=M.useRef(!1),r=M.useRef(!1);return S.jsx(Y_,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||e.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;e.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Y_=M.forwardRef((i,t)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...p}=i,g=nu(Bd,e),v=Gp(e);return xy(),S.jsx(v0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:S.jsx(Hp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:S.jsx(Py,{"data-state":K_(g.open),role:"dialog",id:g.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),X_="PopoverClose",Nj=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=nu(X_,e);return S.jsx(un.button,{type:"button",...n,ref:t,onClick:Je(i.onClick,()=>r.onOpenChange(!1))})});Nj.displayName=X_;var Cj="PopoverArrow",Rj=M.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=Gp(e);return S.jsx(Dy,{...r,...n,ref:t})});Rj.displayName=Cj;function K_(i){return i?"open":"closed"}var Tj=H_,Lj=G_,Mj=$_,Pj=W_;function Q_({...i}){return S.jsx(Tj,{"data-slot":"popover",...i})}function Z_({...i}){return S.jsx(Lj,{"data-slot":"popover-trigger",...i})}function J_({className:i,align:t="center",sideOffset:e=4,...n}){return S.jsx(Mj,{children:S.jsx(Pj,{"data-slot":"popover-content",align:t,sideOffset:e,className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",i),...n})})}var _1={exports:{}},N1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function Dj(){if(qx)return N1;qx=1;var i=Dp();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var e=typeof Object.is=="function"?Object.is:t,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function c(p,g){var v=g(),x=n({inst:{value:v,getSnapshot:g}}),y=x[0].inst,_=x[1];return s(function(){y.value=v,y.getSnapshot=g,u(y)&&_({inst:y})},[p,v,g]),r(function(){return u(y)&&_({inst:y}),p(function(){u(y)&&_({inst:y})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!e(p,v)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return N1.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:f,N1}var Vx;function Oj(){return Vx||(Vx=1,_1.exports=Dj()),_1.exports}var kj=Oj();function jj(){return kj.useSyncExternalStore(Ij,()=>!0,()=>!1)}function Ij(){return()=>{}}var Iy="Avatar",[Fj,Az]=Jc(Iy),[Bj,tN]=Fj(Iy),eN=M.forwardRef((i,t)=>{const{__scopeAvatar:e,...n}=i,[r,s]=M.useState("idle");return S.jsx(Bj,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:S.jsx(un.span,{...n,ref:t})})});eN.displayName=Iy;var nN="AvatarImage",iN=M.forwardRef((i,t)=>{const{__scopeAvatar:e,src:n,onLoadingStatusChange:r=()=>{},...s}=i,o=tN(nN,e),c=zj(n,s),u=Wc(d=>{r(d),o.onImageLoadingStatusChange(d)});return Ji(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?S.jsx(un.img,{...s,ref:t,src:n}):null});iN.displayName=nN;var rN="AvatarFallback",sN=M.forwardRef((i,t)=>{const{__scopeAvatar:e,delayMs:n,...r}=i,s=tN(rN,e),[o,c]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?S.jsx(un.span,{...r,ref:t}):null});sN.displayName=rN;function Gx(i,t){return i?t?(i.src!==t&&(i.src=t),i.complete&&i.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zj(i,{referrerPolicy:t,crossOrigin:e}){const n=jj(),r=M.useRef(null),s=n?(r.current||(r.current=new window.Image),r.current):null,[o,c]=M.useState(()=>Gx(s,i));return Ji(()=>{c(Gx(s,i))},[s,i]),Ji(()=>{const u=p=>()=>{c(p)};if(!s)return;const d=u("loaded"),f=u("error");return s.addEventListener("load",d),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof e=="string"&&(s.crossOrigin=e),()=>{s.removeEventListener("load",d),s.removeEventListener("error",f)}},[s,e,t]),o}var Uj=eN,Hj=iN,qj=sN;function Dg({className:i,...t}){return S.jsx(Uj,{"data-slot":"avatar",className:Ne("relative flex size-8 shrink-0 overflow-hidden rounded-full",i),...t})}function Og({className:i,...t}){return S.jsx(Hj,{"data-slot":"avatar-image",className:Ne("aspect-square size-full",i),...t})}function kg({className:i,...t}){return S.jsx(qj,{"data-slot":"avatar-fallback",className:Ne("bg-muted flex size-full items-center justify-center rounded-full",i),...t})}const Vj=by("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Jg({className:i,variant:t,asChild:e=!1,...n}){const r=e?g0:"span";return S.jsx(r,{"data-slot":"badge",className:Ne(Vj({variant:t}),i),...n})}const qa=i=>{if(!i||typeof i!="string"||i.trim()==="")return"";const t="https://192.168.0.7:5555".replace(/\/api$/,"");return i.startsWith("http")?i:`${t}${i}`},Gj=()=>{const{user:i,logout:t}=M.useContext(bh),e=Bp(),[n,r]=M.useState(!1),s=()=>{t(null,{onSuccess:()=>e("/login")}),r(!1)};return S.jsxs("nav",{className:"bg-gray-800 text-white p-4 sticky top-0 z-50 shadow-md",children:[S.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[S.jsxs(fr,{to:"/",className:"text-xl font-bold flex items-center gap-2",children:[S.jsx(jk,{className:"h-5 w-5"}),"Bahmni"]}),S.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?S.jsx(S.Fragment,{children:S.jsxs(Q_,{children:[S.jsx(Z_,{asChild:!0,children:S.jsxs(sn,{variant:"ghost",className:"text-white flex items-center gap-2",children:[S.jsxs(Dg,{className:"h-8 w-8",children:[S.jsx(Og,{src:qa(i.photo),alt:i.fullName}),S.jsx(kg,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),i.fullName]})}),S.jsxs(J_,{className:"w-72 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsxs(Dg,{className:"h-8 w-8",children:[S.jsx(Og,{src:qa(i.photo),alt:i.fullName}),S.jsx(kg,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold text-gray-800",children:i.fullName}),S.jsx("p",{className:"text-xs text-gray-500",children:i.email})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[i.roles.map(o=>S.jsx(Jg,{variant:"secondary",className:"text-xs",children:o},o)),i.roles.length===0&&S.jsx("span",{className:"text-xs text-gray-500",children:"No roles assigned"})]}),S.jsxs("div",{className:"grid gap-2",children:[S.jsx(fr,{to:"/profile",className:"text-sm text-gray-700 hover:text-blue-600 transition-colors",children:"Edit Profile"}),i.roles.includes(zc.ADMIN)&&S.jsx(fr,{to:"/admin",className:"text-sm text-gray-700 hover:text-blue-600 transition-colors",children:"Admin Dashboard"}),S.jsxs(sn,{variant:"ghost",className:"w-full text-left text-sm text-gray-700 bg-gray-100 hover:text-red-600 hover:bg-gray-200",onClick:s,children:[S.jsx(Hx,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsx(fr,{to:"/login",className:"text-sm hover:text-gray-300 transition-colors",children:"Login"}),S.jsx(fr,{to:"/register",className:"text-sm hover:text-gray-300 transition-colors",children:"Register"})]})}),S.jsx(sn,{variant:"ghost",className:"md:hidden text-white",onClick:()=>r(!n),children:n?S.jsx(C0,{className:"h-6 w-6"}):S.jsx(Hk,{className:"h-6 w-6"})})]}),n&&S.jsx("div",{className:"md:hidden bg-gray-800 p-4 flex flex-col gap-3 transition-transform duration-300",children:i?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs(Dg,{className:"h-8 w-8",children:[S.jsx(Og,{src:qa(i.photo),alt:i.fullName}),S.jsx(kg,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold",children:i.fullName}),S.jsx("p",{className:"text-xs text-gray-300",children:i.email})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.roles.map(o=>S.jsx(Jg,{variant:"secondary",className:"text-xs bg-gray-700 text-white",children:o},o)),i.roles.length===0&&S.jsx("span",{className:"text-xs text-gray-300",children:"No roles assigned"})]}),S.jsxs(fr,{to:"/profile",className:"flex items-center gap-2 text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:[S.jsx(Jk,{className:"h-4 w-4"}),"Profile"]}),i.roles.includes(zc.ADMIN)&&S.jsxs(fr,{to:"/admin",className:"flex items-center gap-2 text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:[S.jsx(Xk,{className:"h-4 w-4"}),"Admin Dashboard"]}),S.jsxs(sn,{onClick:s,variant:"outline",className:"text-white border-white hover:bg-gray-700 hover:text-white w-full",children:[S.jsx(Hx,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):S.jsxs(S.Fragment,{children:[S.jsx(fr,{to:"/login",className:"text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:"Login"}),S.jsx(fr,{to:"/register",className:"text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:"Register"})]})})]})},hg=({title:i,description:t,link:e,disabled:n,onClick:r})=>S.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:i}),S.jsx("p",{className:"text-gray-600 mb-4",children:t}),e?S.jsx(fr,{to:e,children:S.jsxs(sn,{disabled:n,children:["Go to ",i]})}):S.jsx(sn,{onClick:r,disabled:n,className:n===!0?"cursor-not-allowed":"",children:i})]}),$j=()=>{const{user:i}=M.useContext(bh);return S.jsxs("div",{className:"container mx-auto p-6",children:[S.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Welcome, ",i?.fullName||"User","!"]}),S.jsxs("p",{className:"text-gray-600 mb-6 flex gap-2 justify-start items-center",children:["Your roles:",S.jsx("div",{className:"flex gap-1",children:i.roles.length>0?i.roles.map(t=>S.jsx(Jg,{variant:"secondary",className:"text-xs",children:t},t)):S.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"})})]}),S.jsxs("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[i?.roles.includes(zc.ADMIN)&&S.jsx(hg,{title:"Admin Dashboard",description:"Manage users, approve registrations, and assign roles.",link:"/admin"}),i?.roles.includes(zc.SCANNER_CLERK)&&S.jsx(hg,{title:"Scan Documents",description:"Scan or upload documents for processing.",onClick:()=>alert("Document scanning coming soon!"),link:"/scanner"}),i?.roles.includes(zc.APPROVER)&&S.jsx(hg,{title:"Review Documents",description:"Review and approve/reject scanned documents.",onClick:()=>alert("Document review coming soon!"),link:"/approver"}),i?.roles.includes(zc.UPLOADER)&&S.jsx(hg,{title:"Upload to Bahmni",description:"Upload approved documents to Bahmni EMR.",onClick:()=>alert("Bahmni upload coming soon!"),link:"/uploader"})]})]})},Wj=()=>{const{user:i}=M.useContext(bh);return i?S.jsx($j,{}):S.jsx(ob,{to:"/login"})};var T0="Dialog",[aN,Sz]=Jc(T0),[Yj,Ka]=aN(T0),oN=i=>{const{__scopeDialog:t,children:e,open:n,defaultOpen:r,onOpenChange:s,modal:o=!0}=i,c=M.useRef(null),u=M.useRef(null),[d,f]=Fd({prop:n,defaultProp:r??!1,onChange:s,caller:T0});return S.jsx(Yj,{scope:t,triggerRef:c,contentRef:u,contentId:Gc(),titleId:Gc(),descriptionId:Gc(),open:d,onOpenChange:f,onOpenToggle:M.useCallback(()=>f(p=>!p),[f]),modal:o,children:e})};oN.displayName=T0;var lN="DialogTrigger",cN=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Ka(lN,e),s=Vn(t,r.triggerRef);return S.jsx(un.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":zy(r.open),...n,ref:s,onClick:Je(i.onClick,r.onOpenToggle)})});cN.displayName=lN;var Fy="DialogPortal",[Xj,uN]=aN(Fy,{forceMount:void 0}),hN=i=>{const{__scopeDialog:t,forceMount:e,children:n,container:r}=i,s=Ka(Fy,t);return S.jsx(Xj,{scope:t,forceMount:e,children:M.Children.map(n,o=>S.jsx(ql,{present:e||s.open,children:S.jsx(Vp,{asChild:!0,container:r,children:o})}))})};hN.displayName=Fy;var t0="DialogOverlay",dN=M.forwardRef((i,t)=>{const e=uN(t0,i.__scopeDialog),{forceMount:n=e.forceMount,...r}=i,s=Ka(t0,i.__scopeDialog);return s.modal?S.jsx(ql,{present:n||s.open,children:S.jsx(Qj,{...r,ref:t})}):null});dN.displayName=t0;var Kj=sh("DialogOverlay.RemoveScroll"),Qj=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Ka(t0,e);return S.jsx(S0,{as:Kj,allowPinchZoom:!0,shards:[r.contentRef],children:S.jsx(un.div,{"data-state":zy(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ch="DialogContent",fN=M.forwardRef((i,t)=>{const e=uN(ch,i.__scopeDialog),{forceMount:n=e.forceMount,...r}=i,s=Ka(ch,i.__scopeDialog);return S.jsx(ql,{present:n||s.open,children:s.modal?S.jsx(Zj,{...r,ref:t}):S.jsx(Jj,{...r,ref:t})})});fN.displayName=ch;var Zj=M.forwardRef((i,t)=>{const e=Ka(ch,i.__scopeDialog),n=M.useRef(null),r=Vn(t,e.contentRef,n);return M.useEffect(()=>{const s=n.current;if(s)return Oy(s)},[]),S.jsx(pN,{...i,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(i.onCloseAutoFocus,s=>{s.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:Je(i.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:Je(i.onFocusOutside,s=>s.preventDefault())})}),Jj=M.forwardRef((i,t)=>{const e=Ka(ch,i.__scopeDialog),n=M.useRef(!1),r=M.useRef(!1);return S.jsx(pN,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||e.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;e.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),pN=M.forwardRef((i,t)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=i,c=Ka(ch,e),u=M.useRef(null),d=Vn(t,u);return xy(),S.jsxs(S.Fragment,{children:[S.jsx(v0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:S.jsx(Hp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":zy(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(t8,{titleId:c.titleId}),S.jsx(n8,{contentRef:u,descriptionId:c.descriptionId})]})]})}),By="DialogTitle",mN=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Ka(By,e);return S.jsx(un.h2,{id:r.titleId,...n,ref:t})});mN.displayName=By;var gN="DialogDescription",vN=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Ka(gN,e);return S.jsx(un.p,{id:r.descriptionId,...n,ref:t})});vN.displayName=gN;var bN="DialogClose",yN=M.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Ka(bN,e);return S.jsx(un.button,{type:"button",...n,ref:t,onClick:Je(i.onClick,()=>r.onOpenChange(!1))})});yN.displayName=bN;function zy(i){return i?"open":"closed"}var wN="DialogTitleWarning",[Ez,xN]=oP(wN,{contentName:ch,titleName:By,docsSlug:"dialog"}),t8=({titleId:i})=>{const t=xN(wN),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{i&&(document.getElementById(i)||console.error(e))},[e,i]),null},e8="DialogDescriptionWarning",n8=({contentRef:i,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xN(e8).contentName}}.`;return M.useEffect(()=>{const r=i.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,i,t]),null},AN=oN,i8=cN,SN=hN,EN=dN,_N=fN,NN=mN,r8=vN,CN=yN;function uh({...i}){return S.jsx(AN,{"data-slot":"dialog",...i})}function L0({...i}){return S.jsx(i8,{"data-slot":"dialog-trigger",...i})}function s8({...i}){return S.jsx(SN,{"data-slot":"dialog-portal",...i})}function a8({className:i,...t}){return S.jsx(EN,{"data-slot":"dialog-overlay",className:Ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...t})}function hh({className:i,children:t,showCloseButton:e=!0,...n}){return S.jsxs(s8,{"data-slot":"dialog-portal",children:[S.jsx(a8,{}),S.jsxs(_N,{"data-slot":"dialog-content",className:Ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...n,children:[t,e&&S.jsxs(CN,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[S.jsx(C0,{}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function dh({className:i,...t}){return S.jsx("div",{"data-slot":"dialog-header",className:Ne("flex flex-col gap-2 text-center sm:text-left",i),...t})}function o8({className:i,...t}){return S.jsx("div",{"data-slot":"dialog-footer",className:Ne("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",i),...t})}function fh({className:i,...t}){return S.jsx(NN,{"data-slot":"dialog-title",className:Ne("text-lg leading-none font-semibold",i),...t})}var M0="Checkbox",[l8,_z]=Jc(M0),[c8,Uy]=l8(M0);function u8(i){const{__scopeCheckbox:t,checked:e,children:n,defaultChecked:r,disabled:s,form:o,name:c,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:p}=i,[g,v]=Fd({prop:e,defaultProp:r??!1,onChange:u,caller:M0}),[x,y]=M.useState(null),[_,E]=M.useState(null),T=M.useRef(!1),L=x?!!o||!!x.closest("form"):!0,O={checked:g,disabled:s,setChecked:v,control:x,setControl:y,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:$c(r)?!1:r,isFormControl:L,bubbleInput:_,setBubbleInput:E};return S.jsx(c8,{scope:t,...O,children:h8(p)?p(O):n})}var RN="CheckboxTrigger",TN=M.forwardRef(({__scopeCheckbox:i,onKeyDown:t,onClick:e,...n},r)=>{const{control:s,value:o,disabled:c,checked:u,required:d,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:x}=Uy(RN,i),y=Vn(r,f),_=M.useRef(u);return M.useEffect(()=>{const E=s?.form;if(E){const T=()=>p(_.current);return E.addEventListener("reset",T),()=>E.removeEventListener("reset",T)}},[s,p]),S.jsx(un.button,{type:"button",role:"checkbox","aria-checked":$c(u)?"mixed":u,"aria-required":d,"data-state":kN(u),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:y,onKeyDown:Je(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Je(e,E=>{p(T=>$c(T)?!0:!T),x&&v&&(g.current=E.isPropagationStopped(),g.current||E.stopPropagation())})})});TN.displayName=RN;var LN=M.forwardRef((i,t)=>{const{__scopeCheckbox:e,name:n,checked:r,defaultChecked:s,required:o,disabled:c,value:u,onCheckedChange:d,form:f,...p}=i;return S.jsx(u8,{__scopeCheckbox:e,checked:r,defaultChecked:s,disabled:c,required:o,onCheckedChange:d,name:n,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>S.jsxs(S.Fragment,{children:[S.jsx(TN,{...p,ref:t,__scopeCheckbox:e}),g&&S.jsx(ON,{__scopeCheckbox:e})]})})});LN.displayName=M0;var MN="CheckboxIndicator",PN=M.forwardRef((i,t)=>{const{__scopeCheckbox:e,forceMount:n,...r}=i,s=Uy(MN,e);return S.jsx(ql,{present:n||$c(s.checked)||s.checked===!0,children:S.jsx(un.span,{"data-state":kN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...i.style}})})});PN.displayName=MN;var DN="CheckboxBubbleInput",ON=M.forwardRef(({__scopeCheckbox:i,...t},e)=>{const{control:n,hasConsumerStoppedPropagationRef:r,checked:s,defaultChecked:o,required:c,disabled:u,name:d,value:f,form:p,bubbleInput:g,setBubbleInput:v}=Uy(DN,i),x=Vn(e,v),y=ZE(s),_=HE(n);M.useEffect(()=>{const T=g;if(!T)return;const L=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(L,"checked").set,I=!r.current;if(y!==s&&D){const k=new Event("click",{bubbles:I});T.indeterminate=$c(s),D.call(T,$c(s)?!1:s),T.dispatchEvent(k)}},[g,y,s,r]);const E=M.useRef($c(s)?!1:s);return S.jsx(un.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??E.current,required:c,disabled:u,name:d,value:f,form:p,...t,tabIndex:-1,ref:x,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ON.displayName=DN;function h8(i){return typeof i=="function"}function $c(i){return i==="indeterminate"}function kN(i){return $c(i)?"indeterminate":i?"checked":"unchecked"}function jN({className:i,...t}){return S.jsx(LN,{"data-slot":"checkbox",className:Ne("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...t,children:S.jsx(PN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:S.jsx(j_,{className:"size-3.5"})})})}const d8=({onClose:i})=>{const{showError:t,showSuccess:e}=Zo(),{formData:n,handleChange:r}=Zd({employeeId:"",fullName:"",email:"",department:"",education:"",profession:"",password:""}),[s,o]=M.useState([]),c=Us({mutationFn:()=>{const p={...n,roles:s};return hL(p)},onSuccess:()=>{e("User registered successfully"),i()},onError:p=>t(p,"User registration failed")}),u=p=>{if(p.preventDefault(),s.length===0){t(null,"At least one role is required");return}c.mutate()},d=(p,g)=>{o(v=>g?[...v,p]:v.filter(x=>x!==p))},f=[{id:"employeeId",label:"Employee ID",type:"text",placeholder:"Enter your employee ID"},{id:"fullName",label:"Full Name",type:"text",placeholder:"Enter your full name"},{id:"department",label:"Department",type:"select",placeholder:"Select your department",options:[{value:"engineering",label:"Engineering"},{value:"hr",label:"Human Resources"},{value:"marketing",label:"Marketing"},{value:"finance",label:"Finance"},{value:"it",label:"Information Technology"}]},{id:"email",label:"Email",type:"email",placeholder:"Enter your email"},{id:"education",label:"Education",type:"select",placeholder:"Select your education level",options:[{value:"highschool",label:"High School"},{value:"bachelor",label:"Bachelors Degree"},{value:"master",label:"Masters Degree"},{value:"phd",label:"PhD"}]},{id:"profession",label:"Profession",type:"select",placeholder:"Select your profession",options:[{value:"engineer",label:"Engineer"},{value:"manager",label:"Manager"},{value:"analyst",label:"Analyst"},{value:"developer",label:"Developer"},{value:"designer",label:"Designer"}]},{id:"password",label:"Password",type:"password",placeholder:"Enter your password"}];return S.jsxs("form",{onSubmit:u,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Register"}),f.map(p=>S.jsx(Bs,{label:p.label,id:p.id,type:p.type,name:p.id,value:n[p.id],onChange:r,required:!0,placeholder:p.placeholder,options:p.options},p.id)),S.jsxs("div",{children:[S.jsx(Ha,{children:"Roles"}),S.jsx("div",{className:"grid gap-2 m-2",children:Object.values(zc).map(p=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(jN,{id:`role-${p}`,checked:s.includes(p),onCheckedChange:g=>d(p,g)}),S.jsx(Ha,{htmlFor:`role-${p}`,children:p})]},p))})]}),S.jsx(sn,{type:"submit",disabled:c.isLoading,className:"w-full",children:c.isLoading?"Submitting...":"Submit"})]})},f8=({user:i,handleReview:t,handleStatusToggle:e,handleRoleUpdate:n,rejectionReason:r,setRejectionReason:s})=>(console.log("UserCard rendered for:",i),S.jsx("div",{className:"p-4 bg-white rounded-lg shadow-md border border-gray-200",children:S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[S.jsxs("div",{className:"space-y-1",children:[i.photo&&S.jsx("img",{src:qa(i.photo),alt:`${i.fullName}'s Photo`,className:"w-16 h-16 rounded-full border object-cover"}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Name:"})," ",i.fullName]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Email:"})," ",i.email]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Employee ID:"})," ",i.employeeId||"N/A"]}),i.employeeIdPhoto&&S.jsx("img",{src:i.employeeIdPhoto,alt:"Employee ID",className:"w-32 h-20 rounded border object-cover"}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Department:"})," ",i.department||"N/A"]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Profession:"})," ",i.profession||"N/A"]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Education:"})," ",i.education||"N/A"]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Status:"})," ",i.isActive?"Active":"Inactive"]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Registration:"})," ",i.registrationStatus]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Account Created:"})," ",new Date(i.createdAt).toLocaleString()]}),S.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.jsx("strong",{className:"text-sm",children:"Roles:"}),i.roles.length>0?i.roles.map(o=>S.jsx(Jg,{variant:"secondary",className:"text-xs",children:o},o)):S.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"})]})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[i.isSelfRegistered&&i.registrationStatus==="Pending"&&S.jsxs(uh,{children:[S.jsx(L0,{asChild:!0,children:S.jsx(sn,{size:"sm",className:"w-full sm:w-auto",children:"Review Registration"})}),S.jsxs(hh,{className:"max-h-[80vh] overflow-y-auto",children:[S.jsx(dh,{children:S.jsx(fh,{children:"Review Registration"})}),S.jsxs("div",{className:"grid gap-4",children:[S.jsx(sn,{onClick:()=>t(i.id,"Approved"),size:"sm",children:"Approve"}),S.jsxs("div",{children:[S.jsx(Ha,{htmlFor:"rejectionReason",children:"Rejection Reason"}),S.jsx(wy,{id:"rejectionReason",value:r,onChange:o=>s(o.target.value)}),S.jsx(sn,{onClick:()=>t(i.id,"Rejected"),disabled:!r,className:"mt-2",size:"sm",children:"Reject"})]})]})]})]}),S.jsx(sn,{onClick:()=>e(i.id,!i.isActive),children:i.isActive?"Deactivate":"Activate"}),S.jsxs(Q_,{children:[S.jsx(Z_,{asChild:!0,children:S.jsx(sn,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:i.roles.length>0?"Edit Roles":"Assign Roles"})}),S.jsx(J_,{className:"w-56",children:S.jsx("div",{className:"grid gap-4",children:Object.values(zc).map(o=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(jN,{id:`${i.id}-${o}`,checked:i.roles.includes(o),onCheckedChange:c=>{const u=c?[...i.roles,o]:i.roles.filter(d=>d!==o);n(i.id,u)}}),S.jsx(Ha,{htmlFor:`${i.id}-${o}`,children:o})]},o))})})]})]})]})})),p8=()=>{const{showError:i,showSuccess:t}=Zo(),{data:e,isLoading:n,refetch:r}=kp({queryKey:["users"],queryFn:gL}),[s,o]=M.useState(""),[c,u]=M.useState(!1),d=Us({mutationFn:fL,onSuccess:()=>{t("Registration reviewed"),r()},onError:y=>i(y,"Review failed")}),f=Us({mutationFn:({userId:y,data:_})=>pL(y,_),onSuccess:()=>{t("User status updated"),r()},onError:y=>i(y,"Status update failed")}),p=Us({mutationFn:({userId:y,data:_})=>mL(y,_),onSuccess:()=>{t("User roles updated"),r()},onError:y=>i(y,"Roles update failed")}),g=(y,_)=>{const E={userId:y,status:_};console.log("Reviewing user:",E),_==="Rejected"&&(E.rejectionReason=s),d.mutate(E),o("")},v=(y,_)=>{f.mutate({userId:y,data:{isActive:_}})},x=(y,_)=>{if(_.length===0){i(null,"At least one role is required");return}p.mutate({userId:y,data:{roles:_}})};return n?S.jsx("div",{children:"Loading..."}):S.jsxs("div",{className:"container mx-auto p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h2",{className:"text-2xl font-bold",children:"Admin Dashboard"}),S.jsxs(uh,{open:c,onOpenChange:u,children:[S.jsx(L0,{asChild:!0,children:S.jsx(sn,{children:"Register New User"})}),S.jsxs(hh,{className:"max-h-[85vh] overflow-y-auto",children:[S.jsx(dh,{children:S.jsx(fh,{children:"Register New User"})}),S.jsx(d8,{onClose:()=>{u(!1),r()}})]})]})]}),S.jsx("div",{className:"grid gap-4",children:e?.data?.data?.users?.map(y=>S.jsx(f8,{user:y,handleReview:g,handleRoleUpdate:x,handleStatusToggle:v,rejectionReason:s,setRejectionReason:o}))})]})},Hy=({children:i,roles:t})=>{const{user:e}=M.useContext(bh);return e?(console.log("User roles:",e.roles),t&&!t.some(n=>e.roles.includes(n))?S.jsx(ob,{to:"/unauthorized"}):i):S.jsx(ob,{to:"/login"})},m8=()=>S.jsx(Hy,{roles:["Admin"],children:S.jsx(p8,{})}),g8=()=>{const{user:i,setUser:t}=M.useContext(bh),{showError:e,showSuccess:n}=Zo(),{formData:r,handleChange:s,handleFileChange:o}=Zd({fullName:i?.fullName||"",email:i?.email||"",department:i?.department||"",employeeId:i?.employeeId||"",password:"",photo:null}),[c,u]=M.useState({}),[d,f]=M.useState(!1),p=Us({mutationFn:y=>vL(i.id,y),onSuccess:({data:y})=>{localStorage.setItem("user",JSON.stringify(y.data)),t(y.data),n("Profile updated successfully"),f(!1)},onError:y=>{console.log(y),e(y,"Profile update failed")}}),g=()=>{const y={};return r.fullName||(y.fullName="Full name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(y.email="Invalid email"):y.email="Email is required",r.department||(y.department="Department is required"),r.employeeId||(y.employeeId="Employee ID is required"),r.password&&r.password.length<6&&(y.password="Password must be at least 6 characters"),r.photo&&!["image/jpeg","image/png"].includes(r.photo.type)&&(y.photo="Only JPEG or PNG images are allowed"),u(y),Object.keys(y).length===0},v=y=>{y.preventDefault(),g()&&f(!0)},x=()=>{const y=new FormData;Object.entries(r).forEach(([_,E])=>{E&&_!=="password"&&y.append(_,E)}),r.password&&y.append("password",r.password),p.mutate(y)};return i?S.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[S.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"User Profile"}),S.jsxs("form",{onSubmit:v,className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 bg-white p-6 rounded-lg shadow-md",children:[S.jsx("div",{className:"col-span-2 flex justify-center mb-4",children:S.jsxs(Dg,{className:"h-24 w-24",children:[S.jsx(Og,{src:r.photo||qa(i.photo),alt:i.fullName}),S.jsx(kg,{className:"bg-gray-600 text-white text-2xl",children:i.fullName.charAt(0).toUpperCase()})]})}),S.jsxs("div",{className:"col-span-1",children:[S.jsx(Ha,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),S.jsx(Bs,{id:"fullName",type:"text",name:"fullName",value:r.fullName,onChange:s,required:!0,className:"mt-1"}),c.fullName&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.fullName})]}),S.jsxs("div",{className:"col-span-1",children:[S.jsx(Ha,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),S.jsx(Bs,{id:"email",type:"email",name:"email",value:r.email,onChange:s,required:!0,className:"mt-1"}),c.email&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.email})]}),S.jsxs("div",{className:"col-span-1",children:[S.jsx(Ha,{htmlFor:"department",className:"text-sm font-medium",children:"Department"}),S.jsx(Bs,{id:"department",type:"text",name:"department",value:r.department,onChange:s,required:!0,className:"mt-1"}),c.department&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.department})]}),S.jsxs("div",{className:"col-span-1",children:[S.jsx(Ha,{htmlFor:"employeeId",className:"text-sm font-medium",children:"Employee ID"}),S.jsx(Bs,{id:"employeeId",type:"text",name:"employeeId",value:r.employeeId,onChange:s,required:!0,className:"mt-1"}),c.employeeId&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.employeeId})]}),S.jsxs("div",{className:"col-span-2",children:[S.jsx(Ha,{htmlFor:"password",className:"text-sm font-medium",children:"New Password (optional)"}),S.jsx(Bs,{id:"password",type:"password",name:"password",value:r.password,onChange:s,className:"mt-1"}),c.password&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.password})]}),S.jsxs("div",{className:"col-span-2",children:[S.jsx(Ha,{htmlFor:"photo",className:"text-sm font-medium",children:"Profile Photo (optional)"}),S.jsx(Bs,{id:"photo",type:"file",name:"photo",onChange:y=>o(y,"photo"),accept:"image/jpeg,image/png",className:"mt-1"}),c.photo&&S.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.photo})]}),S.jsxs("div",{className:"col-span-2 space-y-2",children:[S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Roles:"})," ",i.roles.join(", ")||"None"]}),S.jsxs("p",{className:"text-sm",children:[S.jsx("strong",{children:"Status:"})," ",i.isActive?"Active":"Inactive"]}),S.jsx(sn,{type:"submit",disabled:p.isLoading,className:"w-full mt-4",children:p.isLoading?"Updating...":"Update Profile"})]})]}),S.jsx(uh,{open:d,onOpenChange:f,children:S.jsxs(hh,{className:"sm:max-w-md",children:[S.jsx(dh,{children:S.jsx(fh,{children:"Confirm Profile Update"})}),S.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to update your profile?"}),S.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[S.jsx(sn,{variant:"outline",onClick:()=>f(!1),disabled:p.isLoading,children:"Cancel"}),S.jsx(sn,{onClick:x,disabled:p.isLoading,children:"Confirm"})]})]})})]}):S.jsx("div",{className:"container mx-auto p-6 text-center",children:"Please log in to view your profile."})},C1=768;function v8(){const[i,t]=M.useState(void 0);return M.useEffect(()=>{const e=window.matchMedia(`(max-width: ${C1-1}px)`),n=()=>{t(window.innerWidth<C1)};return e.addEventListener("change",n),t(window.innerWidth<C1),()=>e.removeEventListener("change",n)},[]),!!i}function b8({...i}){return S.jsx(AN,{"data-slot":"sheet",...i})}function y8({...i}){return S.jsx(SN,{"data-slot":"sheet-portal",...i})}function w8({className:i,...t}){return S.jsx(EN,{"data-slot":"sheet-overlay",className:Ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...t})}function x8({className:i,children:t,side:e="right",...n}){return S.jsxs(y8,{children:[S.jsx(w8,{}),S.jsxs(_N,{"data-slot":"sheet-content",className:Ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",i),...n,children:[t,S.jsxs(CN,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[S.jsx(C0,{className:"size-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function A8({className:i,...t}){return S.jsx("div",{"data-slot":"sheet-header",className:Ne("flex flex-col gap-1.5 p-4",i),...t})}function S8({className:i,...t}){return S.jsx(NN,{"data-slot":"sheet-title",className:Ne("text-foreground font-semibold",i),...t})}function E8({className:i,...t}){return S.jsx(r8,{"data-slot":"sheet-description",className:Ne("text-muted-foreground text-sm",i),...t})}var[P0,Nz]=Jc("Tooltip",[ef]),D0=ef(),IN="TooltipProvider",_8=700,Eb="tooltip.open",[N8,qy]=P0(IN),FN=i=>{const{__scopeTooltip:t,delayDuration:e=_8,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:s}=i,o=M.useRef(!0),c=M.useRef(!1),u=M.useRef(0);return M.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),S.jsx(N8,{scope:t,isOpenDelayedRef:o,delayDuration:e,onOpen:M.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:M.useCallback(d=>{c.current=d},[]),disableHoverableContent:r,children:s})};FN.displayName=IN;var Sp="Tooltip",[C8,$p]=P0(Sp),BN=i=>{const{__scopeTooltip:t,children:e,open:n,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:c}=i,u=qy(Sp,i.__scopeTooltip),d=D0(t),[f,p]=M.useState(null),g=Gc(),v=M.useRef(0),x=o??u.disableHoverableContent,y=c??u.delayDuration,_=M.useRef(!1),[E,T]=Fd({prop:n,defaultProp:r??!1,onChange:k=>{k?(u.onOpen(),document.dispatchEvent(new CustomEvent(Eb))):u.onClose(),s?.(k)},caller:Sp}),L=M.useMemo(()=>E?_.current?"delayed-open":"instant-open":"closed",[E]),O=M.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,T(!0)},[T]),D=M.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),I=M.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,T(!0),v.current=0},y)},[y,T]);return M.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),S.jsx(My,{...d,children:S.jsx(C8,{scope:t,contentId:g,open:E,stateAttribute:L,trigger:f,onTriggerChange:p,onTriggerEnter:M.useCallback(()=>{u.isOpenDelayedRef.current?I():O()},[u.isOpenDelayedRef,I,O]),onTriggerLeave:M.useCallback(()=>{x?D():(window.clearTimeout(v.current),v.current=0)},[D,x]),onOpen:O,onClose:D,disableHoverableContent:x,children:e})})};BN.displayName=Sp;var _b="TooltipTrigger",zN=M.forwardRef((i,t)=>{const{__scopeTooltip:e,...n}=i,r=$p(_b,e),s=qy(_b,e),o=D0(e),c=M.useRef(null),u=Vn(t,c,r.onTriggerChange),d=M.useRef(!1),f=M.useRef(!1),p=M.useCallback(()=>d.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),S.jsx(x0,{asChild:!0,...o,children:S.jsx(un.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:u,onPointerMove:Je(i.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Je(i.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Je(i.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Je(i.onFocus,()=>{d.current||r.onOpen()}),onBlur:Je(i.onBlur,r.onClose),onClick:Je(i.onClick,r.onClose)})})});zN.displayName=_b;var Vy="TooltipPortal",[R8,T8]=P0(Vy,{forceMount:void 0}),UN=i=>{const{__scopeTooltip:t,forceMount:e,children:n,container:r}=i,s=$p(Vy,t);return S.jsx(R8,{scope:t,forceMount:e,children:S.jsx(ql,{present:e||s.open,children:S.jsx(Vp,{asChild:!0,container:r,children:n})})})};UN.displayName=Vy;var zd="TooltipContent",HN=M.forwardRef((i,t)=>{const e=T8(zd,i.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...s}=i,o=$p(zd,i.__scopeTooltip);return S.jsx(ql,{present:n||o.open,children:o.disableHoverableContent?S.jsx(qN,{side:r,...s,ref:t}):S.jsx(L8,{side:r,...s,ref:t})})}),L8=M.forwardRef((i,t)=>{const e=$p(zd,i.__scopeTooltip),n=qy(zd,i.__scopeTooltip),r=M.useRef(null),s=Vn(t,r),[o,c]=M.useState(null),{trigger:u,onClose:d}=e,f=r.current,{onPointerInTransitChange:p}=n,g=M.useCallback(()=>{c(null),p(!1)},[p]),v=M.useCallback((x,y)=>{const _=x.currentTarget,E={x:x.clientX,y:x.clientY},T=O8(E,_.getBoundingClientRect()),L=k8(E,T),O=j8(y.getBoundingClientRect()),D=F8([...L,...O]);c(D),p(!0)},[p]);return M.useEffect(()=>()=>g(),[g]),M.useEffect(()=>{if(u&&f){const x=_=>v(_,f),y=_=>v(_,u);return u.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[u,f,v,g]),M.useEffect(()=>{if(o){const x=y=>{const _=y.target,E={x:y.clientX,y:y.clientY},T=u?.contains(_)||f?.contains(_),L=!I8(E,o);T?g():L&&(g(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,f,o,d,g]),S.jsx(qN,{...i,ref:s})}),[M8,P8]=P0(Sp,{isInside:!1}),D8=$6("TooltipContent"),qN=M.forwardRef((i,t)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...c}=i,u=$p(zd,e),d=D0(e),{onClose:f}=u;return M.useEffect(()=>(document.addEventListener(Eb,f),()=>document.removeEventListener(Eb,f)),[f]),M.useEffect(()=>{if(u.trigger){const p=g=>{g.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),S.jsx(Hp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:S.jsxs(Py,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(D8,{children:n}),S.jsx(M8,{scope:e,isInside:!0,children:S.jsx(ZD,{id:u.contentId,role:"tooltip",children:r||n})})]})})});HN.displayName=zd;var VN="TooltipArrow",GN=M.forwardRef((i,t)=>{const{__scopeTooltip:e,...n}=i,r=D0(e);return P8(VN,e).isInside?null:S.jsx(Dy,{...r,...n,ref:t})});GN.displayName=VN;function O8(i,t){const e=Math.abs(t.top-i.y),n=Math.abs(t.bottom-i.y),r=Math.abs(t.right-i.x),s=Math.abs(t.left-i.x);switch(Math.min(e,n,r,s)){case s:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function k8(i,t,e=5){const n=[];switch(t){case"top":n.push({x:i.x-e,y:i.y+e},{x:i.x+e,y:i.y+e});break;case"bottom":n.push({x:i.x-e,y:i.y-e},{x:i.x+e,y:i.y-e});break;case"left":n.push({x:i.x+e,y:i.y-e},{x:i.x+e,y:i.y+e});break;case"right":n.push({x:i.x-e,y:i.y-e},{x:i.x-e,y:i.y+e});break}return n}function j8(i){const{top:t,right:e,bottom:n,left:r}=i;return[{x:r,y:t},{x:e,y:t},{x:e,y:n},{x:r,y:n}]}function I8(i,t){const{x:e,y:n}=i;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s],u=t[o],d=c.x,f=c.y,p=u.x,g=u.y;f>n!=g>n&&e<(p-d)*(n-f)/(g-f)+d&&(r=!r)}return r}function F8(i){const t=i.slice();return t.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),B8(t)}function B8(i){if(i.length<=1)return i.slice();const t=[];for(let n=0;n<i.length;n++){const r=i[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let n=i.length-1;n>=0;n--){const r=i[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var z8=FN,U8=BN,H8=zN,q8=UN,V8=HN,G8=GN;function $N({delayDuration:i=0,...t}){return S.jsx(z8,{"data-slot":"tooltip-provider",delayDuration:i,...t})}function $8({...i}){return S.jsx($N,{children:S.jsx(U8,{"data-slot":"tooltip",...i})})}function W8({...i}){return S.jsx(H8,{"data-slot":"tooltip-trigger",...i})}function Y8({className:i,sideOffset:t=0,children:e,...n}){return S.jsx(q8,{children:S.jsxs(V8,{"data-slot":"tooltip-content",sideOffset:t,className:Ne("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",i),...n,children:[e,S.jsx(G8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const X8="sidebar_state",K8=60*60*24*7,Q8="16rem",Z8="18rem",J8="3rem",t7="b",WN=M.createContext(null);function Gy(){const i=M.useContext(WN);if(!i)throw new Error("useSidebar must be used within a SidebarProvider.");return i}function YN({defaultOpen:i=!0,open:t,onOpenChange:e,className:n,style:r,children:s,...o}){const c=v8(),[u,d]=M.useState(!1),[f,p]=M.useState(i),g=t??f,v=M.useCallback(E=>{const T=typeof E=="function"?E(g):E;e?e(T):p(T),document.cookie=`${X8}=${T}; path=/; max-age=${K8}`},[e,g]),x=M.useCallback(()=>c?d(E=>!E):v(E=>!E),[c,v,d]);M.useEffect(()=>{const E=T=>{T.key===t7&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),x())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[x]);const y=g?"expanded":"collapsed",_=M.useMemo(()=>({state:y,open:g,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:x}),[y,g,v,c,u,d,x]);return S.jsx(WN.Provider,{value:_,children:S.jsx($N,{delayDuration:0,children:S.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Q8,"--sidebar-width-icon":J8,...r},className:Ne("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:s})})})}function XN({side:i="left",variant:t="sidebar",collapsible:e="offcanvas",className:n,children:r,...s}){const{isMobile:o,state:c,openMobile:u,setOpenMobile:d}=Gy();return e==="none"?S.jsx("div",{"data-slot":"sidebar",className:Ne("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...s,children:r}):o?S.jsx(b8,{open:u,onOpenChange:d,...s,children:S.jsxs(x8,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Z8},side:i,children:[S.jsxs(A8,{className:"sr-only",children:[S.jsx(S8,{children:"Sidebar"}),S.jsx(E8,{children:"Displays the mobile sidebar."})]}),S.jsx("div",{className:"flex h-full w-full flex-col",children:r})]})}):S.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":c==="collapsed"?e:"","data-variant":t,"data-side":i,"data-slot":"sidebar",children:[S.jsx("div",{"data-slot":"sidebar-gap",className:Ne("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),S.jsx("div",{"data-slot":"sidebar-container",className:Ne("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",i==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:S.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:r})})]})}function KN({className:i,onClick:t,...e}){const{toggleSidebar:n}=Gy();return S.jsxs(sn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Ne("size-7",i),onClick:r=>{t?.(r),n()},...e,children:[S.jsx(Vk,{}),S.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function QN({className:i,...t}){return S.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Ne("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i),...t})}function ZN({className:i,...t}){return S.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Ne("relative flex w-full min-w-0 flex-col p-2",i),...t})}function e7({className:i,asChild:t=!1,...e}){const n=t?g0:"div";return S.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Ne("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i),...e})}function JN({className:i,...t}){return S.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Ne("w-full text-sm",i),...t})}function tC({className:i,...t}){return S.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Ne("flex w-full min-w-0 flex-col gap-1",i),...t})}function eC({className:i,...t}){return S.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Ne("group/menu-item relative",i),...t})}const n7=by("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function nC({asChild:i=!1,isActive:t=!1,variant:e="default",size:n="default",tooltip:r,className:s,...o}){const c=i?g0:"button",{isMobile:u,state:d}=Gy(),f=S.jsx(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:Ne(n7({variant:e,size:n}),s),...o});return r?(typeof r=="string"&&(r={children:r}),S.jsxs($8,{children:[S.jsx(W8,{asChild:!0,children:f}),S.jsx(Y8,{side:"right",align:"center",hidden:d!=="collapsed"||u,...r})]})):f}const i7=[{title:"Scan Document",url:"/scanner/scan",icon:z_},{title:"Scanned Documents",url:"/scanner/docs",icon:Sb}];function r7(){return S.jsx(XN,{className:"mt-16",children:S.jsx(QN,{children:S.jsxs(ZN,{children:[S.jsx(e7,{children:"Application"}),S.jsx(JN,{children:S.jsx(tC,{children:i7.map(i=>S.jsx(eC,{children:S.jsx(nC,{asChild:!0,children:S.jsxs("a",{href:i.url,children:[S.jsx(i.icon,{}),S.jsx("span",{children:i.title})]})})},i.title))})})]})})})}const s7=()=>S.jsx("div",{className:"mt-8",children:S.jsxs(YN,{children:[S.jsx(r7,{}),S.jsx(KN,{}),S.jsx(sE,{})]})}),a7=()=>S.jsx(Hy,{roles:["ScannerClerk"],children:S.jsx(s7,{})});function $y({className:i,...t}){return S.jsx("div",{"data-slot":"card",className:Ne("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...t})}function Wy({className:i,...t}){return S.jsx("div",{"data-slot":"card-header",className:Ne("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...t})}function Yy({className:i,...t}){return S.jsx("div",{"data-slot":"card-title",className:Ne("leading-none font-semibold",i),...t})}function Xy({className:i,...t}){return S.jsx("div",{"data-slot":"card-content",className:Ne("px-6",i),...t})}function o7(){return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:S.jsxs($y,{className:"w-full max-w-md",children:[S.jsx(Wy,{children:S.jsxs(Yy,{className:"text-2xl flex items-center gap-2",children:[S.jsx(Dk,{className:"h-6 w-6 text-red-500"}),"Unauthorized Access"]})}),S.jsxs(Xy,{children:[S.jsx("p",{className:"text-gray-600 mb-4",children:"You are not authorized to view this page."}),S.jsx(sn,{asChild:!0,children:S.jsx(fr,{to:"/",children:"Go to Homepage"})})]})]})})}var jg={exports:{}},l7=jg.exports,$x;function c7(){return $x||($x=1,function(i,t){(function(n,r){i.exports=r(Dp())})(l7,function(e){return function(n){var r={};function s(o){if(r[o])return r[o].exports;var c=r[o]={i:o,l:!1,exports:{}};return n[o].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=n,s.c=r,s.d=function(o,c,u){s.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,c){if(c&1&&(o=s(o)),c&8||c&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),c&2&&typeof o!="string")for(var d in o)s.d(u,d,(function(f){return o[f]}).bind(null,d));return u},s.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(c,"a",c),c},s.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,r,s){s.r(r);var o=s("react"),c=function(){var g=function(v,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var E in _)_.hasOwnProperty(E)&&(y[E]=_[E])},g(v,x)};return function(v,x){g(v,x);function y(){this.constructor=v}v.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),u=function(){return u=Object.assign||function(g){for(var v,x=1,y=arguments.length;x<y;x++){v=arguments[x];for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(g[_]=v[_])}return g},u.apply(this,arguments)},d=function(g,v){var x={};for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&v.indexOf(y)<0&&(x[y]=g[y]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,y=Object.getOwnPropertySymbols(g);_<y.length;_++)v.indexOf(y[_])<0&&Object.prototype.propertyIsEnumerable.call(g,y[_])&&(x[y[_]]=g[y[_]]);return x};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var x=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return x?new Promise(function(y,_){x.call(navigator,v,y,_)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var p=function(g){c(v,g);function v(x){var y=g.call(this,x)||this;return y.canvas=null,y.ctx=null,y.requestUserMediaId=0,y.unmounted=!1,y.state={hasUserMedia:!1},y}return v.prototype.componentDidMount=function(){var x=this,y=x.state,_=x.props;if(this.unmounted=!1,!f()){_.onUserMediaError("getUserMedia not supported");return}y.hasUserMedia||this.requestUserMedia(),_.children&&typeof _.children!="function"&&console.warn("children must be a function")},v.prototype.componentDidUpdate=function(x){var y=this.props;if(!f()){y.onUserMediaError("getUserMedia not supported");return}var _=JSON.stringify(x.audioConstraints)!==JSON.stringify(y.audioConstraints),E=JSON.stringify(x.videoConstraints)!==JSON.stringify(y.videoConstraints),T=x.minScreenshotWidth!==y.minScreenshotWidth,L=x.minScreenshotHeight!==y.minScreenshotHeight;(E||T||L)&&(this.canvas=null,this.ctx=null),(_||E)&&(this.stopAndCleanup(),this.requestUserMedia())},v.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},v.stopMediaStream=function(x){x&&(x.getVideoTracks&&x.getAudioTracks?(x.getVideoTracks().map(function(y){x.removeTrack(y),y.stop()}),x.getAudioTracks().map(function(y){x.removeTrack(y),y.stop()})):x.stop())},v.prototype.stopAndCleanup=function(){var x=this.state;x.hasUserMedia&&(v.stopMediaStream(this.stream),x.src&&window.URL.revokeObjectURL(x.src))},v.prototype.getScreenshot=function(x){var y=this,_=y.state,E=y.props;if(!_.hasUserMedia)return null;var T=this.getCanvas(x);return T&&T.toDataURL(E.screenshotFormat,E.screenshotQuality)},v.prototype.getCanvas=function(x){var y=this,_=y.state,E=y.props;if(!this.video||!_.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var T=this.video.videoWidth,L=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var O=T/L;T=E.minScreenshotWidth||this.video.clientWidth,L=T/O,E.minScreenshotHeight&&L<E.minScreenshotHeight&&(L=E.minScreenshotHeight,T=L*O)}this.canvas=document.createElement("canvas"),this.canvas.width=x?.width||T,this.canvas.height=x?.height||L,this.ctx=this.canvas.getContext("2d")}var D=this,I=D.ctx,k=D.canvas;return I&&k&&(k.width=x?.width||k.width,k.height=x?.height||k.height,E.mirrored&&(I.translate(k.width,0),I.scale(-1,1)),I.imageSmoothingEnabled=E.imageSmoothing,I.drawImage(this.video,0,0,x?.width||k.width,x?.height||k.height),E.mirrored&&(I.scale(-1,1),I.translate(-k.width,0))),k},v.prototype.requestUserMedia=function(){var x=this,y=this.props,_=function(L,O){var D={video:typeof O<"u"?O:!0};y.audio&&(D.audio=typeof L<"u"?L:!0),x.requestUserMediaId++;var I=x.requestUserMediaId;navigator.mediaDevices.getUserMedia(D).then(function(k){x.unmounted||I!==x.requestUserMediaId?v.stopMediaStream(k):x.handleUserMedia(null,k)}).catch(function(k){x.handleUserMedia(k)})};if("mediaDevices"in navigator)_(y.audioConstraints,y.videoConstraints);else{var E=function(L){return{optional:[{sourceId:L}]}},T=function(L){var O=L.deviceId;return typeof O=="string"?O:Array.isArray(O)&&O.length>0?O[0]:typeof O=="object"&&O.ideal?O.ideal:null};MediaStreamTrack.getSources(function(L){var O=null,D=null;L.forEach(function(j){j.kind==="audio"?O=j.id:j.kind==="video"&&(D=j.id)});var I=T(y.audioConstraints);I&&(O=I);var k=T(y.videoConstraints);k&&(D=k),_(E(O),E(D))})}},v.prototype.handleUserMedia=function(x,y){var _=this.props;if(x||!y){this.setState({hasUserMedia:!1}),_.onUserMediaError(x);return}this.stream=y;try{this.video&&(this.video.srcObject=y),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(y)})}_.onUserMedia(y)},v.prototype.render=function(){var x=this,y=this,_=y.state,E=y.props,T=E.audio;E.forceScreenshotSourceSize;var L=E.disablePictureInPicture;E.onUserMedia,E.onUserMediaError,E.screenshotFormat,E.screenshotQuality,E.minScreenshotWidth,E.minScreenshotHeight,E.audioConstraints,E.videoConstraints,E.imageSmoothing;var O=E.mirrored,D=E.style,I=D===void 0?{}:D,k=E.children,j=d(E,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),K=O?u(u({},I),{transform:(I.transform||"")+" scaleX(-1)"}):I,st={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",u({autoPlay:!0,disablePictureInPicture:L,src:_.src,muted:!T,playsInline:!0,ref:function(B){x.video=B},style:K},j)),k&&k(st))},v.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},v}(o.Component);r.default=p},react:function(n,r){n.exports=e}}).default})}(jg)),jg.exports}var u7=c7();const iC=Pp(u7);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Wx(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function rC(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(e),!0).forEach(function(n){p7(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Wx(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function h7(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function sC(i){var t=h7(i,"string");return typeof t=="symbol"?t:t+""}function Nb(i){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(i)}function d7(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Yx(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,sC(n.key),n)}}function f7(i,t,e){return t&&Yx(i.prototype,t),e&&Yx(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function p7(i,t,e){return t=sC(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function aC(i){return m7(i)||g7(i)||v7(i)||b7()}function m7(i){if(Array.isArray(i))return Cb(i)}function g7(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function v7(i,t){if(i){if(typeof i=="string")return Cb(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Cb(i,t)}}function Cb(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function b7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O0=typeof window<"u"&&typeof window.document<"u",Qo=O0?window:{},Ky=O0&&Qo.document.documentElement?"ontouchstart"in Qo.document.documentElement:!1,Qy=O0?"PointerEvent"in Qo:!1,ai="cropper",Zy="all",oC="crop",lC="move",cC="zoom",Uu="e",Hu="w",dd="s",kc="n",tp="ne",ep="nw",np="se",ip="sw",Rb="".concat(ai,"-crop"),Xx="".concat(ai,"-disabled"),gs="".concat(ai,"-hidden"),Kx="".concat(ai,"-hide"),y7="".concat(ai,"-invisible"),e0="".concat(ai,"-modal"),Tb="".concat(ai,"-move"),Ep="".concat(ai,"Action"),dg="".concat(ai,"Preview"),Jy="crop",uC="move",hC="none",Lb="crop",Mb="cropend",Pb="cropmove",Db="cropstart",Qx="dblclick",w7=Ky?"touchstart":"mousedown",x7=Ky?"touchmove":"mousemove",A7=Ky?"touchend touchcancel":"mouseup",Zx=Qy?"pointerdown":w7,Jx=Qy?"pointermove":x7,tA=Qy?"pointerup pointercancel":A7,eA="ready",nA="resize",iA="wheel",Ob="zoom",rA="image/jpeg",S7=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,E7=/^data:/,_7=/^data:image\/jpeg;base64,/,N7=/^img|canvas$/i,dC=200,fC=100,sA={viewMode:0,dragMode:Jy,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:dC,minContainerHeight:fC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},C7='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',R7=Number.isNaN||Qo.isNaN;function ln(i){return typeof i=="number"&&!R7(i)}var aA=function(t){return t>0&&t<1/0};function R1(i){return typeof i>"u"}function ph(i){return Nb(i)==="object"&&i!==null}var T7=Object.prototype.hasOwnProperty;function yd(i){if(!ph(i))return!1;try{var t=i.constructor,e=t.prototype;return t&&e&&T7.call(e,"isPrototypeOf")}catch{return!1}}function fs(i){return typeof i=="function"}var L7=Array.prototype.slice;function pC(i){return Array.from?Array.from(i):L7.call(i)}function qi(i,t){return i&&fs(t)&&(Array.isArray(i)||ln(i.length)?pC(i).forEach(function(e,n){t.call(i,e,n,i)}):ph(i)&&Object.keys(i).forEach(function(e){t.call(i,i[e],e,i)})),i}var oi=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ph(t)&&n.length>0&&n.forEach(function(s){ph(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},M7=/\.\d*(?:0|9){12}\d*$/;function Nd(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return M7.test(i)?Math.round(i*t)/t:i}var P7=/^width|height|left|top|marginLeft|marginTop$/;function Uc(i,t){var e=i.style;qi(t,function(n,r){P7.test(r)&&ln(n)&&(n="".concat(n,"px")),e[r]=n})}function D7(i,t){return i.classList?i.classList.contains(t):i.className.indexOf(t)>-1}function dr(i,t){if(t){if(ln(i.length)){qi(i,function(n){dr(n,t)});return}if(i.classList){i.classList.add(t);return}var e=i.className.trim();e?e.indexOf(t)<0&&(i.className="".concat(e," ").concat(t)):i.className=t}}function Yo(i,t){if(t){if(ln(i.length)){qi(i,function(e){Yo(e,t)});return}if(i.classList){i.classList.remove(t);return}i.className.indexOf(t)>=0&&(i.className=i.className.replace(t,""))}}function wd(i,t,e){if(t){if(ln(i.length)){qi(i,function(n){wd(n,t,e)});return}e?dr(i,t):Yo(i,t)}}var O7=/([a-z\d])([A-Z])/g;function t2(i){return i.replace(O7,"$1-$2").toLowerCase()}function kb(i,t){return ph(i[t])?i[t]:i.dataset?i.dataset[t]:i.getAttribute("data-".concat(t2(t)))}function _p(i,t,e){ph(e)?i[t]=e:i.dataset?i.dataset[t]=e:i.setAttribute("data-".concat(t2(t)),e)}function k7(i,t){if(ph(i[t]))try{delete i[t]}catch{i[t]=void 0}else if(i.dataset)try{delete i.dataset[t]}catch{i.dataset[t]=void 0}else i.removeAttribute("data-".concat(t2(t)))}var mC=/\s\s*/,gC=function(){var i=!1;if(O0){var t=!1,e=function(){},n=Object.defineProperty({},"once",{get:function(){return i=!0,t},set:function(s){t=s}});Qo.addEventListener("test",e,n),Qo.removeEventListener("test",e,n)}return i}();function ja(i,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=e;t.trim().split(mC).forEach(function(s){if(!gC){var o=i.listeners;o&&o[s]&&o[s][e]&&(r=o[s][e],delete o[s][e],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete i.listeners)}i.removeEventListener(s,r,n)})}function sa(i,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=e;t.trim().split(mC).forEach(function(s){if(n.once&&!gC){var o=i.listeners,c=o===void 0?{}:o;r=function(){delete c[s][e],i.removeEventListener(s,r,n);for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];e.apply(i,f)},c[s]||(c[s]={}),c[s][e]&&i.removeEventListener(s,c[s][e],n),c[s][e]=r,i.listeners=c}i.addEventListener(s,r,n)})}function Cd(i,t,e){var n;return fs(Event)&&fs(CustomEvent)?n=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,e)),i.dispatchEvent(n)}function vC(i){var t=i.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var T1=Qo.location,j7=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function oA(i){var t=i.match(j7);return t!==null&&(t[1]!==T1.protocol||t[2]!==T1.hostname||t[3]!==T1.port)}function lA(i){var t="timestamp=".concat(new Date().getTime());return i+(i.indexOf("?")===-1?"?":"&")+t}function pp(i){var t=i.rotate,e=i.scaleX,n=i.scaleY,r=i.translateX,s=i.translateY,o=[];ln(r)&&r!==0&&o.push("translateX(".concat(r,"px)")),ln(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),ln(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),ln(e)&&e!==1&&o.push("scaleX(".concat(e,")")),ln(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var c=o.length?o.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function I7(i){var t=rC({},i),e=0;return qi(i,function(n,r){delete t[r],qi(t,function(s){var o=Math.abs(n.startX-s.startX),c=Math.abs(n.startY-s.startY),u=Math.abs(n.endX-s.endX),d=Math.abs(n.endY-s.endY),f=Math.sqrt(o*o+c*c),p=Math.sqrt(u*u+d*d),g=(p-f)/f;Math.abs(g)>Math.abs(e)&&(e=g)})}),e}function fg(i,t){var e=i.pageX,n=i.pageY,r={endX:e,endY:n};return t?r:rC({startX:e,startY:n},r)}function F7(i){var t=0,e=0,n=0;return qi(i,function(r){var s=r.startX,o=r.startY;t+=s,e+=o,n+=1}),t/=n,e/=n,{pageX:t,pageY:e}}function Hc(i){var t=i.aspectRatio,e=i.height,n=i.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=aA(n),o=aA(e);if(s&&o){var c=e*t;r==="contain"&&c>n||r==="cover"&&c<n?e=n/t:n=e*t}else s?e=n/t:o&&(n=e*t);return{width:n,height:e}}function B7(i){var t=i.width,e=i.height,n=i.degree;if(n=Math.abs(n)%180,n===90)return{width:e,height:t};var r=n%90*Math.PI/180,s=Math.sin(r),o=Math.cos(r),c=t*o+e*s,u=t*s+e*o;return n>90?{width:u,height:c}:{width:c,height:u}}function z7(i,t,e,n){var r=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,c=t.rotate,u=c===void 0?0:c,d=t.scaleX,f=d===void 0?1:d,p=t.scaleY,g=p===void 0?1:p,v=e.aspectRatio,x=e.naturalWidth,y=e.naturalHeight,_=n.fillColor,E=_===void 0?"transparent":_,T=n.imageSmoothingEnabled,L=T===void 0?!0:T,O=n.imageSmoothingQuality,D=O===void 0?"low":O,I=n.maxWidth,k=I===void 0?1/0:I,j=n.maxHeight,K=j===void 0?1/0:j,st=n.minWidth,B=st===void 0?0:st,G=n.minHeight,it=G===void 0?0:G,nt=document.createElement("canvas"),ht=nt.getContext("2d"),U=Hc({aspectRatio:v,width:k,height:K}),Z=Hc({aspectRatio:v,width:B,height:it},"cover"),J=Math.min(U.width,Math.max(Z.width,x)),pt=Math.min(U.height,Math.max(Z.height,y)),$=Hc({aspectRatio:r,width:k,height:K}),dt=Hc({aspectRatio:r,width:B,height:it},"cover"),F=Math.min($.width,Math.max(dt.width,s)),V=Math.min($.height,Math.max(dt.height,o)),tt=[-F/2,-V/2,F,V];return nt.width=Nd(J),nt.height=Nd(pt),ht.fillStyle=E,ht.fillRect(0,0,J,pt),ht.save(),ht.translate(J/2,pt/2),ht.rotate(u*Math.PI/180),ht.scale(f,g),ht.imageSmoothingEnabled=L,ht.imageSmoothingQuality=D,ht.drawImage.apply(ht,[i].concat(aC(tt.map(function(at){return Math.floor(Nd(at))})))),ht.restore(),nt}var bC=String.fromCharCode;function U7(i,t,e){var n="";e+=t;for(var r=t;r<e;r+=1)n+=bC(i.getUint8(r));return n}var H7=/^data:.*,/;function q7(i){var t=i.replace(H7,""),e=atob(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);return qi(r,function(s,o){r[o]=e.charCodeAt(o)}),n}function V7(i,t){for(var e=[],n=8192,r=new Uint8Array(i);r.length>0;)e.push(bC.apply(null,pC(r.subarray(0,n)))),r=r.subarray(n);return"data:".concat(t,";base64,").concat(btoa(e.join("")))}function G7(i){var t=new DataView(i),e;try{var n,r,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,c=2;c+1<o;){if(t.getUint8(c)===255&&t.getUint8(c+1)===225){r=c;break}c+=1}if(r){var u=r+4,d=r+10;if(U7(t,u,4)==="Exif"){var f=t.getUint16(d);if(n=f===18761,(n||f===19789)&&t.getUint16(d+2,n)===42){var p=t.getUint32(d+4,n);p>=8&&(s=d+p)}}}if(s){var g=t.getUint16(s,n),v,x;for(x=0;x<g;x+=1)if(v=s+x*12+2,t.getUint16(v,n)===274){v+=8,e=t.getUint16(v,n),t.setUint16(v,1,n);break}}}catch{e=1}return e}function $7(i){var t=0,e=1,n=1;switch(i){case 2:e=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,e=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:e,scaleY:n}}var W7={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,r=this.cropper,s=Number(e.minContainerWidth),o=Number(e.minContainerHeight);dr(r,gs),Yo(t,gs);var c={width:Math.max(n.offsetWidth,s>=0?s:dC),height:Math.max(n.offsetHeight,o>=0?o:fC)};this.containerData=c,Uc(r,{width:c.width,height:c.height}),dr(t,gs),Yo(r,gs)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,r=Math.abs(e.rotate)%180===90,s=r?e.naturalHeight:e.naturalWidth,o=r?e.naturalWidth:e.naturalHeight,c=s/o,u=t.width,d=t.height;t.height*c>t.width?n===3?u=t.height*c:d=t.width/c:n===3?d=t.width/c:u=t.height*c;var f={aspectRatio:c,naturalWidth:s,naturalHeight:o,width:u,height:d};this.canvasData=f,this.limited=n===1||n===2,this.limitCanvas(!0,!0),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),f.left=(t.width-f.width)/2,f.top=(t.height-f.height)/2,f.oldLeft=f.left,f.oldTop=f.top,this.initialCanvasData=oi({},f)},limitCanvas:function(t,e){var n=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,c=n.viewMode,u=s.aspectRatio,d=this.cropped&&o;if(t){var f=Number(n.minCanvasWidth)||0,p=Number(n.minCanvasHeight)||0;c>1?(f=Math.max(f,r.width),p=Math.max(p,r.height),c===3&&(p*u>f?f=p*u:p=f/u)):c>0&&(f?f=Math.max(f,d?o.width:0):p?p=Math.max(p,d?o.height:0):d&&(f=o.width,p=o.height,p*u>f?f=p*u:p=f/u));var g=Hc({aspectRatio:u,width:f,height:p});f=g.width,p=g.height,s.minWidth=f,s.minHeight=p,s.maxWidth=1/0,s.maxHeight=1/0}if(e)if(c>(d?0:1)){var v=r.width-s.width,x=r.height-s.height;s.minLeft=Math.min(0,v),s.minTop=Math.min(0,x),s.maxLeft=Math.max(0,v),s.maxTop=Math.max(0,x),d&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,c===2&&(s.width>=r.width&&(s.minLeft=Math.min(0,v),s.maxLeft=Math.max(0,v)),s.height>=r.height&&(s.minTop=Math.min(0,x),s.maxTop=Math.max(0,x))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=r.width,s.maxTop=r.height},renderCanvas:function(t,e){var n=this.canvasData,r=this.imageData;if(e){var s=B7({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=s.width,c=s.height,u=n.width*(o/n.naturalWidth),d=n.height*(c/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(d-n.height)/2,n.width=u,n.height=d,n.aspectRatio=o/c,n.naturalWidth=o,n.naturalHeight=c,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Uc(this.canvas,oi({width:n.width,height:n.height},pp({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,r=n.naturalWidth*(e.width/e.naturalWidth),s=n.naturalHeight*(e.height/e.naturalHeight);oi(n,{width:r,height:s,left:(e.width-r)/2,top:(e.height-s)/2}),Uc(this.image,oi({width:n.width,height:n.height},pp(oi({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,s={width:e.width,height:e.height};n&&(e.height*n>e.width?s.height=s.width/n:s.width=s.height*n),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*r),s.height=Math.max(s.minHeight,s.height*r),s.left=e.left+(e.width-s.width)/2,s.top=e.top+(e.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=oi({},s)},limitCropBox:function(t,e){var n=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,c=this.limited,u=n.aspectRatio;if(t){var d=Number(n.minCropBoxWidth)||0,f=Number(n.minCropBoxHeight)||0,p=c?Math.min(r.width,s.width,s.width+s.left,r.width-s.left):r.width,g=c?Math.min(r.height,s.height,s.height+s.top,r.height-s.top):r.height;d=Math.min(d,r.width),f=Math.min(f,r.height),u&&(d&&f?f*u>d?f=d/u:d=f*u:d?f=d/u:f&&(d=f*u),g*u>p?g=p/u:p=g*u),o.minWidth=Math.min(d,p),o.minHeight=Math.min(f,g),o.maxWidth=p,o.maxHeight=g}e&&(c?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(r.width,s.left+s.width)-o.width,o.maxTop=Math.min(r.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&_p(this.face,Ep,n.width>=e.width&&n.height>=e.height?lC:Zy),Uc(this.cropBox,oi({width:n.width,height:n.height},pp({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Cd(this.element,Lb,this.getData())}},Y7={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,r=e?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=r,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var c=n;typeof n=="string"?c=t.ownerDocument.querySelectorAll(n):n.querySelector&&(c=[n]),this.previews=c,qi(c,function(u){var d=document.createElement("img");_p(u,dg,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),e&&(d.crossOrigin=e),d.src=r,d.alt=s,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(d)})}},resetPreview:function(){qi(this.previews,function(t){var e=kb(t,dg);Uc(t,{width:e.width,height:e.height}),t.innerHTML=e.html,k7(t,dg)})},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,r=n.width,s=n.height,o=t.width,c=t.height,u=n.left-e.left-t.left,d=n.top-e.top-t.top;!this.cropped||this.disabled||(Uc(this.viewBoxImage,oi({width:o,height:c},pp(oi({translateX:-u,translateY:-d},t)))),qi(this.previews,function(f){var p=kb(f,dg),g=p.width,v=p.height,x=g,y=v,_=1;r&&(_=g/r,y=s*_),s&&y>v&&(_=v/s,x=r*_,y=v),Uc(f,{width:x,height:y}),Uc(f.getElementsByTagName("img")[0],oi({width:o*_,height:c*_},pp(oi({translateX:-u*_,translateY:-d*_},t))))}))}},X7={bind:function(){var t=this.element,e=this.options,n=this.cropper;fs(e.cropstart)&&sa(t,Db,e.cropstart),fs(e.cropmove)&&sa(t,Pb,e.cropmove),fs(e.cropend)&&sa(t,Mb,e.cropend),fs(e.crop)&&sa(t,Lb,e.crop),fs(e.zoom)&&sa(t,Ob,e.zoom),sa(n,Zx,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&sa(n,iA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&sa(n,Qx,this.onDblclick=this.dblclick.bind(this)),sa(t.ownerDocument,Jx,this.onCropMove=this.cropMove.bind(this)),sa(t.ownerDocument,tA,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&sa(window,nA,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;fs(e.cropstart)&&ja(t,Db,e.cropstart),fs(e.cropmove)&&ja(t,Pb,e.cropmove),fs(e.cropend)&&ja(t,Mb,e.cropend),fs(e.crop)&&ja(t,Lb,e.crop),fs(e.zoom)&&ja(t,Ob,e.zoom),ja(n,Zx,this.onCropStart),e.zoomable&&e.zoomOnWheel&&ja(n,iA,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ja(n,Qx,this.onDblclick),ja(t.ownerDocument,Jx,this.onCropMove),ja(t.ownerDocument,tA,this.onCropEnd),e.responsive&&ja(window,nA,this.onResize)}},K7={resize:function(){if(!this.disabled){var t=this.options,e=this.container,n=this.containerData,r=e.offsetWidth/n.width,s=e.offsetHeight/n.height,o=Math.abs(r-1)>Math.abs(s-1)?r:s;if(o!==1){var c,u;t.restore&&(c=this.getCanvasData(),u=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(qi(c,function(d,f){c[f]=d*o})),this.setCropBoxData(qi(u,function(d,f){u[f]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===hC||this.setDragMode(D7(this.dragBox,Rb)?uC:Jy)},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(ln(e)&&e!==1||ln(n)&&n!==0||t.ctrlKey))){var r=this.options,s=this.pointers,o;t.changedTouches?qi(t.changedTouches,function(c){s[c.identifier]=fg(c)}):s[t.pointerId||0]=fg(t),Object.keys(s).length>1&&r.zoomable&&r.zoomOnTouch?o=cC:o=kb(t.target,Ep),S7.test(o)&&Cd(this.element,Db,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===oC&&(this.cropping=!0,dr(this.dragBox,e0)))}},cropMove:function(t){var e=this.action;if(!(this.disabled||!e)){var n=this.pointers;t.preventDefault(),Cd(this.element,Pb,{originalEvent:t,action:e})!==!1&&(t.changedTouches?qi(t.changedTouches,function(r){oi(n[r.identifier]||{},fg(r,!0))}):oi(n[t.pointerId||0]||{},fg(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?qi(t.changedTouches,function(r){delete n[r.identifier]}):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,wd(this.dragBox,e0,this.cropped&&this.options.modal)),Cd(this.element,Mb,{originalEvent:t,action:e}))}}},Q7={change:function(t){var e=this.options,n=this.canvasData,r=this.containerData,s=this.cropBoxData,o=this.pointers,c=this.action,u=e.aspectRatio,d=s.left,f=s.top,p=s.width,g=s.height,v=d+p,x=f+g,y=0,_=0,E=r.width,T=r.height,L=!0,O;!u&&t.shiftKey&&(u=p&&g?p/g:1),this.limited&&(y=s.minLeft,_=s.minTop,E=y+Math.min(r.width,n.width,n.left+n.width),T=_+Math.min(r.height,n.height,n.top+n.height));var D=o[Object.keys(o)[0]],I={x:D.endX-D.startX,y:D.endY-D.startY},k=function(K){switch(K){case Uu:v+I.x>E&&(I.x=E-v);break;case Hu:d+I.x<y&&(I.x=y-d);break;case kc:f+I.y<_&&(I.y=_-f);break;case dd:x+I.y>T&&(I.y=T-x);break}};switch(c){case Zy:d+=I.x,f+=I.y;break;case Uu:if(I.x>=0&&(v>=E||u&&(f<=_||x>=T))){L=!1;break}k(Uu),p+=I.x,p<0&&(c=Hu,p=-p,d-=p),u&&(g=p/u,f+=(s.height-g)/2);break;case kc:if(I.y<=0&&(f<=_||u&&(d<=y||v>=E))){L=!1;break}k(kc),g-=I.y,f+=I.y,g<0&&(c=dd,g=-g,f-=g),u&&(p=g*u,d+=(s.width-p)/2);break;case Hu:if(I.x<=0&&(d<=y||u&&(f<=_||x>=T))){L=!1;break}k(Hu),p-=I.x,d+=I.x,p<0&&(c=Uu,p=-p,d-=p),u&&(g=p/u,f+=(s.height-g)/2);break;case dd:if(I.y>=0&&(x>=T||u&&(d<=y||v>=E))){L=!1;break}k(dd),g+=I.y,g<0&&(c=kc,g=-g,f-=g),u&&(p=g*u,d+=(s.width-p)/2);break;case tp:if(u){if(I.y<=0&&(f<=_||v>=E)){L=!1;break}k(kc),g-=I.y,f+=I.y,p=g*u}else k(kc),k(Uu),I.x>=0?v<E?p+=I.x:I.y<=0&&f<=_&&(L=!1):p+=I.x,I.y<=0?f>_&&(g-=I.y,f+=I.y):(g-=I.y,f+=I.y);p<0&&g<0?(c=ip,g=-g,p=-p,f-=g,d-=p):p<0?(c=ep,p=-p,d-=p):g<0&&(c=np,g=-g,f-=g);break;case ep:if(u){if(I.y<=0&&(f<=_||d<=y)){L=!1;break}k(kc),g-=I.y,f+=I.y,p=g*u,d+=s.width-p}else k(kc),k(Hu),I.x<=0?d>y?(p-=I.x,d+=I.x):I.y<=0&&f<=_&&(L=!1):(p-=I.x,d+=I.x),I.y<=0?f>_&&(g-=I.y,f+=I.y):(g-=I.y,f+=I.y);p<0&&g<0?(c=np,g=-g,p=-p,f-=g,d-=p):p<0?(c=tp,p=-p,d-=p):g<0&&(c=ip,g=-g,f-=g);break;case ip:if(u){if(I.x<=0&&(d<=y||x>=T)){L=!1;break}k(Hu),p-=I.x,d+=I.x,g=p/u}else k(dd),k(Hu),I.x<=0?d>y?(p-=I.x,d+=I.x):I.y>=0&&x>=T&&(L=!1):(p-=I.x,d+=I.x),I.y>=0?x<T&&(g+=I.y):g+=I.y;p<0&&g<0?(c=tp,g=-g,p=-p,f-=g,d-=p):p<0?(c=np,p=-p,d-=p):g<0&&(c=ep,g=-g,f-=g);break;case np:if(u){if(I.x>=0&&(v>=E||x>=T)){L=!1;break}k(Uu),p+=I.x,g=p/u}else k(dd),k(Uu),I.x>=0?v<E?p+=I.x:I.y>=0&&x>=T&&(L=!1):p+=I.x,I.y>=0?x<T&&(g+=I.y):g+=I.y;p<0&&g<0?(c=ep,g=-g,p=-p,f-=g,d-=p):p<0?(c=ip,p=-p,d-=p):g<0&&(c=tp,g=-g,f-=g);break;case lC:this.move(I.x,I.y),L=!1;break;case cC:this.zoom(I7(o),t),L=!1;break;case oC:if(!I.x||!I.y){L=!1;break}O=vC(this.cropper),d=D.startX-O.left,f=D.startY-O.top,p=s.minWidth,g=s.minHeight,I.x>0?c=I.y>0?np:tp:I.x<0&&(d-=p,c=I.y>0?ip:ep),I.y<0&&(f-=g),this.cropped||(Yo(this.cropBox,gs),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}L&&(s.width=p,s.height=g,s.left=d,s.top=f,this.action=c,this.renderCropBox()),qi(o,function(j){j.startX=j.endX,j.startY=j.endY})}},Z7={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&dr(this.dragBox,e0),Yo(this.cropBox,gs),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=oi({},this.initialImageData),this.canvasData=oi({},this.initialCanvasData),this.cropBoxData=oi({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(oi(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Yo(this.dragBox,e0),dr(this.cropBox,gs)),this},replace:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,qi(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Yo(this.cropper,Xx)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,dr(this.cropper,Xx)),this},destroy:function(){var t=this.element;return t[ai]?(t[ai]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,r=n.left,s=n.top;return this.moveTo(R1(t)?t:r+Number(t),R1(e)?e:s+Number(e))},moveTo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(ln(t)&&(n.left=t,r=!0),ln(e)&&(n.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var r=this.options,s=this.canvasData,o=s.width,c=s.height,u=s.naturalWidth,d=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&r.zoomable){var f=u*t,p=d*t;if(Cd(this.element,Ob,{ratio:t,oldRatio:o/u,originalEvent:n})===!1)return this;if(n){var g=this.pointers,v=vC(this.cropper),x=g&&Object.keys(g).length?F7(g):{pageX:n.pageX,pageY:n.pageY};s.left-=(f-o)*((x.pageX-v.left-s.left)/o),s.top-=(p-c)*((x.pageY-v.top-s.top)/c)}else yd(e)&&ln(e.x)&&ln(e.y)?(s.left-=(f-o)*((e.x-s.left)/o),s.top-=(p-c)*((e.y-s.top)/c)):(s.left-=(f-o)/2,s.top-=(p-c)/2);s.width=f,s.height=p,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),ln(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,ln(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(ln(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(ln(t)&&(n.scaleX=t,r=!0),ln(e)&&(n.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.options,n=this.imageData,r=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-r.left,y:s.top-r.top,width:s.width,height:s.height};var c=n.width/n.naturalWidth;if(qi(o,function(f,p){o[p]=f/c}),t){var u=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=u-o.y}}else o={x:0,y:0,width:0,height:0};return e.rotatable&&(o.rotate=n.rotate||0),e.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(t){var e=this.options,n=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&yd(t)){var o=!1;e.rotatable&&ln(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),e.scalable&&(ln(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),ln(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var c=n.width/n.naturalWidth;ln(t.x)&&(s.left=t.x*c+r.left),ln(t.y)&&(s.top=t.y*c+r.top),ln(t.width)&&(s.width=t.width*c),ln(t.height)&&(s.height=t.height*c),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?oi({},this.containerData):{}},getImageData:function(){return this.sized?oi({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&qi(["left","top","width","height","naturalWidth","naturalHeight"],function(n){e[n]=t[n]}),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&yd(t)&&(ln(t.left)&&(e.left=t.left),ln(t.top)&&(e.top=t.top),ln(t.width)?(e.width=t.width,e.height=t.width/n):ln(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,e;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(t){var e=this.cropBoxData,n=this.options.aspectRatio,r,s;return this.ready&&this.cropped&&!this.disabled&&yd(t)&&(ln(t.left)&&(e.left=t.left),ln(t.top)&&(e.top=t.top),ln(t.width)&&t.width!==e.width&&(r=!0,e.width=t.width),ln(t.height)&&t.height!==e.height&&(s=!0,e.height=t.height),n&&(r?e.height=e.width/n:s&&(e.width=e.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=z7(this.image,this.imageData,e,t);if(!this.cropped)return n;var r=this.getData(t.rounded),s=r.x,o=r.y,c=r.width,u=r.height,d=n.width/Math.floor(e.naturalWidth);d!==1&&(s*=d,o*=d,c*=d,u*=d);var f=c/u,p=Hc({aspectRatio:f,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),g=Hc({aspectRatio:f,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=Hc({aspectRatio:f,width:t.width||(d!==1?n.width:c),height:t.height||(d!==1?n.height:u)}),x=v.width,y=v.height;x=Math.min(p.width,Math.max(g.width,x)),y=Math.min(p.height,Math.max(g.height,y));var _=document.createElement("canvas"),E=_.getContext("2d");_.width=Nd(x),_.height=Nd(y),E.fillStyle=t.fillColor||"transparent",E.fillRect(0,0,x,y);var T=t.imageSmoothingEnabled,L=T===void 0?!0:T,O=t.imageSmoothingQuality;E.imageSmoothingEnabled=L,O&&(E.imageSmoothingQuality=O);var D=n.width,I=n.height,k=s,j=o,K,st,B,G,it,nt;k<=-c||k>D?(k=0,K=0,B=0,it=0):k<=0?(B=-k,k=0,K=Math.min(D,c+k),it=K):k<=D&&(B=0,K=Math.min(c,D-k),it=K),K<=0||j<=-u||j>I?(j=0,st=0,G=0,nt=0):j<=0?(G=-j,j=0,st=Math.min(I,u+j),nt=st):j<=I&&(G=0,st=Math.min(u,I-j),nt=st);var ht=[k,j,K,st];if(it>0&&nt>0){var U=x/c;ht.push(B*U,G*U,it*U,nt*U)}return E.drawImage.apply(E,[n].concat(aC(ht.map(function(Z){return Math.floor(Nd(Z))})))),_},setAspectRatio:function(t){var e=this.options;return!this.disabled&&!R1(t)&&(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var s=t===Jy,o=e.movable&&t===uC;t=s||o?t:hC,e.dragMode=t,_p(n,Ep,t),wd(n,Rb,s),wd(n,Tb,o),e.cropBoxMovable||(_p(r,Ep,t),wd(r,Rb,s),wd(r,Tb,o))}return this}},J7=Qo.Cropper,yC=function(){function i(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d7(this,i),!t||!N7.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=oi({},sA,yd(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return f7(i,[{key:"init",value:function(){var e=this.element,n=e.tagName.toLowerCase(),r;if(!e[ai]){if(e[ai]=this,n==="img"){if(this.isImg=!0,r=e.getAttribute("src")||"",this.originalUrl=r,!r)return;r=e.src}else n==="canvas"&&window.HTMLCanvasElement&&(r=e.toDataURL());this.load(r)}}},{key:"load",value:function(e){var n=this;if(e){this.url=e,this.imageData={};var r=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(E7.test(e)){_7.test(e)?this.read(q7(e)):this.clone();return}var o=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=c,o.onerror=c,o.ontimeout=c,o.onprogress=function(){o.getResponseHeader("content-type")!==rA&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},s.checkCrossOrigin&&oA(e)&&r.crossOrigin&&(e=lA(e)),o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials=r.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(e){var n=this.options,r=this.imageData,s=G7(e),o=0,c=1,u=1;if(s>1){this.url=V7(e,rA);var d=$7(s);o=d.rotate,c=d.scaleX,u=d.scaleY}n.rotatable&&(r.rotate=o),n.scalable&&(r.scaleX=c,r.scaleY=u),this.clone()}},{key:"clone",value:function(){var e=this.element,n=this.url,r=e.crossOrigin,s=n;this.options.checkCrossOrigin&&oA(n)&&(r||(r="anonymous"),s=lA(n)),this.crossOrigin=r,this.crossOriginUrl=s;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=s||n,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),dr(o,Kx),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var r=Qo.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Qo.navigator.userAgent),s=function(d,f){oi(e.imageData,{naturalWidth:d,naturalHeight:f,aspectRatio:d/f}),e.initialImageData=oi({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(n.naturalWidth&&!r){s(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),r||c.removeChild(o)},o.src=n.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(o))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var e=this.element,n=this.options,r=this.image,s=e.parentNode,o=document.createElement("div");o.innerHTML=C7;var c=o.querySelector(".".concat(ai,"-container")),u=c.querySelector(".".concat(ai,"-canvas")),d=c.querySelector(".".concat(ai,"-drag-box")),f=c.querySelector(".".concat(ai,"-crop-box")),p=f.querySelector(".".concat(ai,"-face"));this.container=s,this.cropper=c,this.canvas=u,this.dragBox=d,this.cropBox=f,this.viewBox=c.querySelector(".".concat(ai,"-view-box")),this.face=p,u.appendChild(r),dr(e,gs),s.insertBefore(c,e.nextSibling),Yo(r,Kx),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,dr(f,gs),n.guides||dr(f.getElementsByClassName("".concat(ai,"-dashed")),gs),n.center||dr(f.getElementsByClassName("".concat(ai,"-center")),gs),n.background&&dr(c,"".concat(ai,"-bg")),n.highlight||dr(p,y7),n.cropBoxMovable&&(dr(p,Tb),_p(p,Ep,Zy)),n.cropBoxResizable||(dr(f.getElementsByClassName("".concat(ai,"-line")),gs),dr(f.getElementsByClassName("".concat(ai,"-point")),gs)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),fs(n.ready)&&sa(e,eA,n.ready,{once:!0}),Cd(e,eA)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),Yo(this.element,gs)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=J7,i}},{key:"setDefaults",value:function(e){oi(sA,yd(e)&&e)}}])}();oi(yC.prototype,W7,Y7,X7,K7,Q7,Z7);var Gu=function(){return Gu=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Gu.apply(this,arguments)};function L1(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]])}return e}var tI=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],eI={opacity:0,maxWidth:"100%"},nI=Yt.forwardRef(function(i,t){var e=L1(i,[]),n=e.dragMode,r=n===void 0?"crop":n,s=e.src,o=e.style,c=e.className,u=e.crossOrigin,d=e.scaleX,f=e.scaleY,p=e.enable,g=e.zoomTo,v=e.rotateTo,x=e.alt,y=x===void 0?"picture":x,_=e.ready,E=e.onInitialized,T=L1(e,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),L={scaleY:f,scaleX:d,enable:p,zoomTo:g,rotateTo:v},O=function(){for(var I=[],k=0;k<arguments.length;k++)I[k]=arguments[k];var j=M.useRef(null);return Yt.useEffect(function(){I.forEach(function(K){K&&(typeof K=="function"?K(j.current):K.current=j.current)})},[I]),j}(t,M.useRef(null));M.useEffect(function(){var I;!((I=O.current)===null||I===void 0)&&I.cropper&&typeof g=="number"&&O.current.cropper.zoomTo(g)},[e.zoomTo]),M.useEffect(function(){var I;!((I=O.current)===null||I===void 0)&&I.cropper&&s!==void 0&&O.current.cropper.reset().clear().replace(s)},[s]),M.useEffect(function(){if(O.current!==null){var I=new yC(O.current,Gu(Gu({dragMode:r},T),{ready:function(k){k.currentTarget!==null&&function(j,K){K===void 0&&(K={});var st=K.enable,B=st===void 0||st,G=K.scaleX,it=G===void 0?1:G,nt=K.scaleY,ht=nt===void 0?1:nt,U=K.zoomTo,Z=U===void 0?0:U,J=K.rotateTo;B?j.enable():j.disable(),j.scaleX(it),j.scaleY(ht),J!==void 0&&j.rotateTo(J),Z>0&&j.zoomTo(Z)}(k.currentTarget.cropper,L),_&&_(k)}}));E&&E(I)}return function(){var k,j;(j=(k=O.current)===null||k===void 0?void 0:k.cropper)===null||j===void 0||j.destroy()}},[O]);var D=function(I){return tI.reduce(function(k,j){var K=k,st=j;return K[st],L1(K,[typeof st=="symbol"?st:st+""])},I)}(Gu(Gu({},T),{crossOrigin:u,src:s,alt:y}));return Yt.createElement("div",{style:o,className:c},Yt.createElement("img",Gu({},D,{style:eI,ref:O})))});const Zr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),jb=[.001,0,0,.001,0,0],M1=1.35,ks={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iI="pdfjs_internal_editor_",ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},cn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},wC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Br={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ci={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},md={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Wp={ERRORS:0,WARNINGS:1,INFOS:5},Np={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},pg={moveTo:0,lineTo:1,curveTo:2,closePath:3},xC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k0=Wp.WARNINGS;function rI(i){Number.isInteger(i)&&(k0=i)}function sI(){return k0}function j0(i){k0>=Wp.INFOS&&console.log(`Info: ${i}`)}function He(i){k0>=Wp.WARNINGS&&console.log(`Warning: ${i}`)}function jn(i){throw new Error(i)}function Vi(i,t){i||jn(t)}function aI(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function e2(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=hI(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return aI(n)?n:null}function n2(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&e2(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function an(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const yh=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class cA extends yh{constructor(t,e){super(t,"PasswordException"),this.code=e}}class P1 extends yh{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class n0 extends yh{constructor(t){super(t,"InvalidPDFException")}}class Cp extends yh{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class oI extends yh{constructor(t){super(t,"FormatError")}}class zl extends yh{constructor(t){super(t,"AbortException")}}function AC(i){(typeof i!="object"||i?.length===void 0)&&jn("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Yp(i){typeof i!="string"&&jn("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function lI(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function cI(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function uI(){try{return new Function(""),!0}catch{return!1}}class mr{static get isLittleEndian(){return an(this,"isLittleEndian",cI())}static get isEvalSupported(){return an(this,"isEvalSupported",uI())}static get isOffscreenCanvasSupported(){return an(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return an(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return an(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return an(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const D1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class ye{static makeHexColor(t,e,n){return`#${D1[t]}${D1[e]}${D1[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],s=t[n+1];t[n]=r*e[0]+s*e[2]+e[4],t[n+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],s=e[1],o=e[2],c=e[3],u=e[4],d=e[5];for(let f=0;f<6;f+=2){const p=t[n+f],g=t[n+f+1];t[n+f]=p*r+g*o+u,t[n+f+1]=p*s+g*c+d}}static applyInverseTransform(t,e){const n=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const r=e[0],s=e[1],o=e[2],c=e[3],u=e[4],d=e[5],f=t[0],p=t[1],g=t[2],v=t[3];let x=r*f+u,y=x,_=r*g+u,E=_,T=c*p+d,L=T,O=c*v+d,D=O;if(s!==0||o!==0){const I=s*f,k=s*g,j=o*p,K=o*v;x+=j,E+=j,_+=K,y+=K,T+=I,D+=I,O+=k,L+=k}n[0]=Math.min(n[0],x,_,y,E),n[1]=Math.min(n[1],T,O,L,D),n[2]=Math.max(n[2],x,_,y,E),n[3]=Math.max(n[3],T,O,L,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],s=t[2],o=t[3],c=n**2+r**2,u=n*s+r*o,d=s**2+o**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[n,s,r,o]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,r)}static#t(t,e,n,r,s,o,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,g=d*d,v=g*d,x=p*(p*(p*t+3*d*e)+3*g*n)+v*r,y=p*(p*(p*s+3*d*o)+3*g*c)+v*u;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],y)}static#e(t,e,n,r,s,o,c,u,d,f,p,g){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,e,n,r,s,o,c,u,-p/f,g);return}const v=f**2-4*p*d;if(v<0)return;const x=Math.sqrt(v),y=2*d;this.#t(t,e,n,r,s,o,c,u,(-f+x)/y,g),this.#t(t,e,n,r,s,o,c,u,(-f-x)/y,g)}static bezierBoundingBox(t,e,n,r,s,o,c,u,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u),this.#e(t,n,s,c,e,r,o,u,3*(-t+3*(n-s)+c),6*(t-2*n+s),3*(n-t),d),this.#e(t,n,s,c,e,r,o,u,3*(-e+3*(r-o)+u),6*(e-2*r+o),3*(r-e),d)}}function hI(i){return decodeURIComponent(escape(i))}let O1=null,uA=null;function SC(i){return O1||(O1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uA=new Map([["","t"]])),i.replaceAll(O1,(t,e,n)=>e?e.normalize("NFKC"):uA.get(n))}function i2(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),AC(i)}const r2="pdfjs_internal_id_";function dI(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...s]=e;if(!i(n)&&!Number.isInteger(n)||!t(r))return!1;const o=s.length;let c=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function zr(i,t,e){return Math.min(Math.max(i,t),e)}function EC(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(AC(i))}function fI(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Yp(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});const Ol="http://www.w3.org/2000/svg";class mh{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function rf(i,t="text"){if(hp(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Xp{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,p,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,p=0,g=0,v=1;break;case 90:f=0,p=1,g=1,v=0;break;case 270:f=0,p=-1,g=-1,v=0;break;case 0:f=1,p=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,v=-v);let x,y,_,E;f===0?(x=Math.abs(d-t[1])*n+s,y=Math.abs(u-t[0])*n+o,_=(t[3]-t[1])*n,E=(t[2]-t[0])*n):(x=Math.abs(u-t[0])*n+s,y=Math.abs(d-t[1])*n+o,_=(t[2]-t[0])*n,E=(t[3]-t[1])*n),this.transform=[f*n,p*n,g*n,v*n,x-f*n*u-g*n*d,y-p*n*u-v*n*d],this.width=_,this.height=E}get rawDims(){const t=this.viewBox;return an(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Xp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return ye.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ye.applyTransform(e,this.transform);const n=[t[2],t[3]];return ye.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ye.applyInverseTransform(n,this.transform),n}}class I0 extends yh{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Kp(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function F0(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function _C(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function NC(i,t="document.pdf"){if(typeof i!="string")return t;if(Kp(i))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class hA{started=Object.create(null);times=[];time(t){t in this.started&&He(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||He(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-r}ms
`);return t.join("")}}function hp(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function ca(i){i.preventDefault()}function Ti(i){i.preventDefault(),i.stopPropagation()}function pI(i){console.log("Deprecated API usage: "+i)}class s2{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(o+=f,c+=p):d==="+"&&(o-=f,c-=p),new Date(Date.UTC(n,r,s,o,c,u))}}function CC(i,{scale:t=1,rotation:e=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Xp({viewBox:s,userUnit:1,scale:t,rotation:e})}function a2(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(He(`Not a valid color format: "${i}"`),[0,0,0])}function mI(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,a2(n))}t.remove()}function mi(i){const{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform();return[t,e,n,r,s,o]}function Io(i){const{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[t,e,n,r,s,o]}function Kc(i,t,e=!1,n=!0){if(t instanceof Xp){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=i,c=mr.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}n&&i.setAttribute("data-main-rotation",t.rotation)}class Wa{constructor(){const{pixelRatio:t}=Wa;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,s=-1){let o=1/0,c=1/0,u=1/0;n=Wa.capPixels(n,s),n>0&&(o=Math.sqrt(n/(t*e))),r!==-1&&(c=r/t,u=r/e);const d=Math.min(o,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const i0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class gp{#t=null;#e=null;#n;#i=null;#s=null;#r=null;static#o=null;constructor(t){this.#n=t,gp.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",ca,{signal:e}),t.addEventListener("pointerdown",gp.#a,{signal:e});const n=this.#i=document.createElement("div");n.className="buttons",t.append(n);const r=this.#n.toolbarPosition;if(r){const{style:s}=t,o=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#a(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,Ti(t)}#c(t){this.#n._focusEventsAllowed=!0,Ti(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ca,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",gp.#o[t]),this.#d(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(n)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#s=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#r=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#r&&(this.#r.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class gI{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ca,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#r(),t}#s(t,e){let n=0,r=0;for(const s of t){const o=s.y+s.height;if(o<n)continue;const c=s.x+(e?s.width:0);if(o>n){r=c,n=o;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,n]}show(t,e,n){const[r,s]=this.#s(e,n),{style:o}=this.#e||=this.#i();t.append(this.#e),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#r(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;t.addEventListener("contextmenu",ca,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function RC(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class vI{#t=0;get id(){return`${iI}${this.#t++}`}}class o2{#t=i2();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return an(this,"_isSVGFittingCanvas",s)}async#i(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await rf(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=o2._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},o.onload=async()=>{const p=n.svgUrl=o.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(r),await u}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){He(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:s}=t;return this.#i(`${e}_${n}_${r}_${s}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const n=await e;return this.#i(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class bI{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const u={cmd:t,undo:e,post:n,type:s};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(u);return}if(o&&this.#t[this.#i].type===s){c&&(u.undo=this.#t[this.#i].undo),this.#t[this.#i]=u;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(u)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Qp{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=mr.platform;for(const[n,r,s={}]of t)for(const o of n){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:c=null}}=n;c&&!c(t,e)||(r.bind(t,...o,e)(),s||Ti(e))}}class l2{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return mI(t),an(this,"_colors",t)}convert(t){const e=a2(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((s,o)=>s===e[o]))return l2._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ye.makeHexColor(...e):t}}class Ul{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#s=null;#r=null;#o=null;#a=new bI;#h=null;#c=null;#d=0;#u=new Set;#f=null;#l=null;#p=new Set;_editorUndoBar=null;#g=!1;#m=!1;#v=!1;#b=null;#y=null;#x=null;#A=null;#S=!1;#N=null;#T=new vI;#E=!1;#R=!1;#C=null;#M=null;#P=null;#D=null;#z=null;#_=ze.NONE;#w=new Set;#I=null;#F=null;#q=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#O=null;#k=null;#H=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ul.prototype,e=o=>o.#k.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return an(this,"_keyboardManager",new Qp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#k.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#k.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,r,s,o,c,u,d,f,p,g,v,x){const y=this._signal=this.#t.signal;this.#k=t,this.#H=e,this.#s=n,this.#F=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:y}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),s._on("setpreference",this.onSetPreference.bind(this),{signal:y}),s._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:y}),this.#it(),this.#ot(),this.#K(),this.#r=o.annotationStorage,this.#b=o.filterFactory,this.#q=c,this.#A=u||null,this.#g=d,this.#m=f,this.#v=p,this.#z=g||null,this.viewParameters={realScale:mh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#D?.clear(),this.#e=null,this.#w.clear(),this.#a.destroy(),this.#s?.destroy(),this.#F?.destroy(),this.#N?.hide(),this.#N=null,this.#P?.destroy(),this.#P=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return an(this,"hcmFilter",this.#q?this.#b.addHCMFilter(this.#q.foreground,this.#q.background):"none")}get direction(){return an(this,"direction",getComputedStyle(this.#k).direction)}get highlightColors(){return an(this,"highlightColors",this.#A?new Map(this.#A.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return an(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#P=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#k.focus()}findParent(t,e){for(const n of this.#i.values()){const{x:r,y:s,width:o,height:c}=n.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=s&&e<=s+c)return n}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*mh.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#W({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#X(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#i.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=e,c=e.toString(),d=this.#W(e).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;e.empty();const p=this.#X(d),g=this.#_===ze.NONE,v=()=>{p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o,text:c}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(ze.HIGHLIGHT,v);return}v()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#W(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#N||=new gI(this),this.#N.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#I&&(this.#N?.hide(),this.#I=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#I)return;const r=this.#W(t).closest(".textLayer");if(!r){this.#I&&(this.#N?.hide(),this.#I=null,this.#L({hasSelectedText:!1}));return}if(this.#N?.hide(),this.#I=e,this.#L({hasSelectedText:!0}),!(this.#_!==ze.HIGHLIGHT&&this.#_!==ze.NONE)&&(this.#_===ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#_===ze.HIGHLIGHT?this.#X(r):null;s?.toggleDrawing();const o=new AbortController,c=this.combinedSignal(o),u=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),s?.toggleDrawing(!0),d.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}}#Y(t=""){this.#_===ze.HIGHLIGHT?this.highlightSelection(t):this.#g&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#rt(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#st(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#M=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[t,e]=this.#M;this.#M=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#K(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#at(){this.#C?.abort(),this.#C=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#K(),this.#Q()}removeEditListeners(){this.#at(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#l)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#l)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#w){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const o of this.#l)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){He(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of n){const d=await r.deserialize(u);if(!d)return;s.push(d)}const o=()=>{for(const u of s)this.#J(u);this.#tt(s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){He(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==ze.NONE&&!this.isEditorHandlingKeyboard&&Ul._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#Y("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#L(t){Object.entries(t).some(([n,r])=>this.#G[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,t)}),this.#_===ze.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#B([[cn.HIGHLIGHT_FREE,!0]]))}#B(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#Q(),this.#L({isEditing:this.#_!==ze.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#st(),this.#Z(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#l){this.#l=t;for(const e of this.#l)this.#B(e.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(this.#_!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#_=t,t===ze.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===ze.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const r of this.#n.values())r.annotationElementId===e||r.id===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#l){switch(t){case cn.CREATE:this.currentLayer.addNewEditor(e);return;case cn.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(e);break;case cn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#w)n.updateParams(t,e);for(const n of this.#l)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const s of this.#n.values())s.editorType===t&&s.show(e);(this.#V?.get(cn.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#B([[cn.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#E){this.#E=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#n.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#D?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#B(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#w);return t}updateUI(t){this.#ut===t&&this.#B(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#B(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#L({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#a.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#a.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#J(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==ze.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=e;const[r,s]=this.#U,o=[...this.#w],c=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#w)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:s,pageIndex:o},c]of t)c.newX=r,c.newY=s,c.newPageIndex=o,e||=r!==c.savedX||s!==c.savedY||o!==c.savedPageIndex;if(!e)return!1;const n=(r,s,o,c)=>{if(this.#n.has(r.id)){const u=this.#i.get(c);u?r._setParentAndPosition(u,s,o):(r.pageIndex=c,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:c}]of t)n(r,s,o,c)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:c}]of t)n(r,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return an(this,"imageManager",new o2)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,p,g)=>({x:(f-r)/o,y:1-(d+p-n)/s,width:g/o,height:p/s});break;case"180":c=(d,f,p,g)=>({x:1-(d+p-n)/s,y:1-(f+g-r)/o,width:p/s,height:g/o});break;case"270":c=(d,f,p,g)=>({x:1-(f+g-r)/o,y:(d-n)/s,width:g/o,height:p/s});break;default:c=(d,f,p,g)=>({x:(d-n)/s,y:(f-r)/o,width:p/s,height:g/o});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:g,y:v,width:x,height:y}of p.getClientRects())x===0||y===0||u.push(c(g,v,x,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#_===ze.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#D?.get(t);r&&(r.setCanvas(e,n),this.#D.delete(t))}addMissingCanvas(t,e){(this.#D||=new Map).set(t,e)}}class Uo{#t=null;#e=!1;#n=null;#i=null;#s=null;#r=null;#o=!1;#a=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Uo.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Uo._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Uo.#f.missing),e.setAttribute("data-l10n-id",Uo.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#h._uiManager._signal;t.addEventListener("contextmenu",ca,{signal:n}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#l}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#o=!0,r(s))},{signal:n}),await this.#p(),t}get#l(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await Uo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#a?.remove(),this.#a=null;return}if(!this.#a){const e=this.#a=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#a.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#c=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#l}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#a?.remove(),this.#a=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Uo.#f[this.#l]),this.#i?.setAttribute("data-l10n-id",Uo.#f[`${this.#l}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const r=100,s=this.#h._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Zp{#t;#e=!1;#n=null;#i;#s;#r;#o;#a=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:c}){this.#t=t,this.#n=n,this.#i=e,this.#s=r,this.#r=s,this.#o=o,this.#d=new AbortController,this.#h=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Wa.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#a)return;const r=this.#a=new AbortController,s=AbortSignal.any([this.#h,r.signal]),o=this.#t,c={capture:!0,signal:s,passive:!1},u=d=>{d.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};o.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Ti(d),u(d))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#h,this.#u.signal]),s=this.#t,o={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#l.bind(this),o);const c=this.#p.bind(this);s.addEventListener("touchend",c,o),s.addEventListener("touchcancel",c,o),o.capture=!0,s.addEventListener("pointerdown",Ti,o),s.addEventListener("pointermove",Ti,o),s.addEventListener("pointercancel",Ti,o),s.addEventListener("pointerup",Ti,o),this.#s?.()}if(Ti(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#l(t){if(!this.#c||t.touches.length!==2)return;Ti(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:s}=e,{screenX:o,screenY:c}=n,u=this.#c,{touch0X:d,touch0Y:f,touch1X:p,touch1Y:g}=u,v=p-d,x=g-f,y=o-r,_=c-s,E=Math.hypot(y,_)||1,T=Math.hypot(v,x)||1;if(!this.#e&&Math.abs(T-E)<=Zp.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=c,!this.#e){this.#e=!0;return}const L=[(r+o)/2,(s+c)/2];this.#r?.(L,T,E)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#c&&(Ti(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#a?.abort(),this.#a=null}}class Ae{#t=null;#e=null;#n=null;#i=!1;#s=null;#r="";#o=!1;#a=null;#h=null;#c=null;#d=null;#u="";#f=!1;#l=null;#p=!1;#g=!1;#m=!1;#v=null;#b=0;#y=0;#x=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#N=Ae._zIndex++;static _borderLineWidth=-1;static _colorManager=new l2;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Ae.prototype._resizeWithKeyboard,e=Ul.TRANSLATE_SMALL,n=Ul.TRANSLATE_BIG;return an(this,"_resizerKeyboardManager",new Qp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Ae.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return an(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new yI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ae._l10n??=t,Ae._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ae._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ae._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){jn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#N}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#H(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/s,this.y=(e+r)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#T([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#T(this.parentDimensions,t,e)}translateInPage(t,e){this.#l||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#l||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,d]=this.getBaseTranslation();o+=u,c+=d;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#l&&(this.#l[0]!==this.x||this.#l[1]!==this.y)}get _hasBeenResized(){return!!this.#l&&(this.#l[2]!==this.width||this.#l[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Ae,r=n/t,s=n/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:s,y:o,width:c,height:u}=this;if(c*=n,u*=r,s*=n,o*=r,this._mustFixPosition)switch(t){case 0:s=zr(s,0,n-c),o=zr(o,0,r-u);break;case 90:s=zr(s,0,n-u),o=zr(o,c,r);break;case 180:s=zr(s,c,n),o=zr(o,u,r);break;case 270:s=zr(s,u,n),o=zr(o,0,r-c);break}this.x=s/=n,this.y=o/=r;const[d,f]=this.getBaseTranslation();s+=d,o+=f,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#E(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Ae.#E(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Ae.#E(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/n).toFixed(2)}%`,this.#o||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),s=!this.#o&&e.endsWith("%");if(r&&s)return;const[o,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!this.#o&&!s&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#a.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#M.bind(this,n),{signal:e}),r.addEventListener("contextmenu",ca,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#a)}#M(t,e){e.preventDefault();const{isMac:n}=mr.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Ti,{passive:!1,signal:o}),window.addEventListener("contextmenu",ca,{signal:o}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#D()};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}#P(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[s,o]=this.parentDimensions;this.setDims(s*n,o*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#D(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#c;this.#c=null;const s=this.x,o=this.y,c=this.width,u=this.height;s===t&&o===e&&c===n&&u===r||this.addCommands({cmd:this.#P.bind(this,s,o,c,u),undo:this.#P.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,e){const[n,r]=this.parentDimensions,s=this.x,o=this.y,c=this.width,u=this.height,d=Ae.MIN_SIZE/n,f=Ae.MIN_SIZE/r,p=this.#R(this.rotation),g=(U,Z)=>[p[0]*U+p[2]*Z,p[1]*U+p[3]*Z],v=this.#R(360-this.rotation),x=(U,Z)=>[v[0]*U+v[2]*Z,v[1]*U+v[3]*Z];let y,_,E=!1,T=!1;switch(t){case"topLeft":E=!0,y=(U,Z)=>[0,0],_=(U,Z)=>[U,Z];break;case"topMiddle":y=(U,Z)=>[U/2,0],_=(U,Z)=>[U/2,Z];break;case"topRight":E=!0,y=(U,Z)=>[U,0],_=(U,Z)=>[0,Z];break;case"middleRight":T=!0,y=(U,Z)=>[U,Z/2],_=(U,Z)=>[0,Z/2];break;case"bottomRight":E=!0,y=(U,Z)=>[U,Z],_=(U,Z)=>[0,0];break;case"bottomMiddle":y=(U,Z)=>[U/2,Z],_=(U,Z)=>[U/2,0];break;case"bottomLeft":E=!0,y=(U,Z)=>[0,Z],_=(U,Z)=>[U,0];break;case"middleLeft":T=!0,y=(U,Z)=>[0,Z/2],_=(U,Z)=>[U,Z/2];break}const L=y(c,u),O=_(c,u);let D=g(...O);const I=Ae._round(s+D[0]),k=Ae._round(o+D[1]);let j=1,K=1,st,B;if(e.fromKeyboard)({deltaX:st,deltaY:B}=e);else{const{screenX:U,screenY:Z}=e,[J,pt]=this.#h;[st,B]=this.screenToPageTranslation(U-J,Z-pt),this.#h[0]=U,this.#h[1]=Z}if([st,B]=x(st/n,B/r),E){const U=Math.hypot(c,u);j=K=Math.max(Math.min(Math.hypot(O[0]-L[0]-st,O[1]-L[1]-B)/U,1/c,1/u),d/c,f/u)}else T?j=zr(Math.abs(O[0]-L[0]-st),d,1)/c:K=zr(Math.abs(O[1]-L[1]-B),f,1)/u;const G=Ae._round(c*j),it=Ae._round(u*K);D=g(..._(G,it));const nt=I-D[0],ht=k-D[1];this.#l||=[this.x,this.y,this.width,this.height],this.width=G,this.height=it,this.x=nt,this.y=ht,this.setDims(n*G,r*it),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#g?this._editToolbar:(this._editToolbar=new gp(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Uo.initialize(Ae._l10n),this.#n=new Uo(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),RC(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new Zp({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#w.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#_(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#w(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;const o=this.#R(this.rotation),c=(I,k)=>[o[0]*I+o[2]*k,o[1]*I+o[3]*k],[u,d]=this.parentDimensions,f=this.x,p=this.y,g=this.width,v=this.height,x=Ae.MIN_SIZE/u,y=Ae.MIN_SIZE/d;s=Math.max(Math.min(s,1/g,1/v),x/g,y/v);const _=Ae._round(g*s),E=Ae._round(v*s);if(_===g&&E===v)return;this.#l||=[f,p,g,v];const T=c(g/2,v/2),L=Ae._round(f+T[0]),O=Ae._round(p+T[1]),D=c(_/2,E/2);this.x=L-D[0],this.y=O-D[1],this.width=_,this.height=E,this.setDims(u*_,d*E),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#D()}pointerdown(t){const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#q(t);return}this.#F(t)}#F(t){const{isMac:e}=mr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#q(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},c=d=>{r.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(d),n&&this._onStopDragging()};e&&(this.#b=t.clientX,this.#y=t.clientY,this.#s=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=d;if(g!==this.#s){Ti(d);return}const[v,x]=this.screenToPageTranslation(f-this.#b,p-this.#y);this.#b=f,this.#y=p,this._uiManager.dragSelectedEditors(v,x)},o),window.addEventListener("touchmove",Ti,o),window.addEventListener("pointerdown",d=>{d.pointerType===this.#r&&(this.#A||d.isPrimary)&&c(d),Ti(d)},o));const u=d=>{if(!this.#s||this.#s===d.pointerId){c(d);return}Ti(d)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/r,f=e/r,p=this.x*s,g=this.y*o,v=this.width*s,x=this.height*o;switch(n){case 0:return[p+d+c,o-g-f-x+u,p+d+v+c,o-g-f+u];case 90:return[p+f+c,o-g+d+u,p+f+x+c,o-g+d+v+u];case 180:return[p-d-v+c,o-g+f+u,p-d+c,o-g+f+x+u];case 270:return[p-f-x+c,o-g-d-v+u,p-f+c,o-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,s,o]=t,c=s-n,u=o-r;switch(this.rotation){case 0:return[n,e-o,c,u];case 90:return[n,e-r,u,c];case 180:return[s,e-r,c,u];case 270:return[s,e-o,u,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&r>0&&t<s&&n>0}#V(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){jn("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,o]=r.pageDimensions,[c,u,d,f]=r.getRectInCurrentCoords(t.rect,o);return r.x=c/s,r.y=u/o,r.width=d/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#H(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#a.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#a.children;if(!this.#e){this.#e=Array.from(e);const o=this.#G.bind(this),c=this.#U.bind(this),u=this._uiManager._signal;for(const d of this.#e){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",this.#O.bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",Ae._l10nResizer[f])}}const n=this.#e[0];let r=0;for(const o of e){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#a.append(this.#a.firstChild);else if(s>r)for(let c=0;c<s-r;c++)this.#a.firstChild.before(this.#a.lastChild);let o=0;for(const c of e){const d=this.#e[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ae._l10nResizer[d])}}this.#k(0),this.#m=!0,this.#a.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#G(t){Ae._resizerKeyboardManager.exec(this,t)}#U(t){this.#m&&t.relatedTarget?.parentNode!==this.#a&&this.#H()}#O(t){this.#u=this.#m?t:""}#k(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#z(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#H(){this.#m=!1,this.#k(-1),this.#D()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:n}=t;let r=this.#x.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},Ae._telemetryTimeout),this.#x.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class yI extends Ae{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dA=3285377520,ra=4294901760,Fo=65535;class TC{constructor(t){this.h1=t?t&4294967295:dA,this.h2=t?t&4294967295:dA}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let y=0,_=t.length;y<_;y++){const E=t.charCodeAt(y);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(e.buffer,0,r);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,g=461845907,v=p&Fo,x=g&Fo;for(let y=0;y<r;y++)y&1?(c=o[y],c=c*p&ra|c*v&Fo,c=c<<15|c>>>17,c=c*g&ra|c*x&Fo,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[y],u=u*p&ra|u*v&Fo,u=u<<15|u>>>17,u=u*g&ra|u*x&Fo,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*p&ra|c*v&Fo,c=c<<15|c>>>17,c=c*g&ra|c*x&Fo,r&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ra|t*36045&Fo,e=e*4283543511&ra|((e<<16|t>>>16)*2950163797&ra)>>>16,t^=e>>>1,t=t*444984403&ra|t*60499&Fo,e=e*3301882366&ra|((e<<16|t>>>16)*3120437893&ra)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ib=Object.freeze({map:null,hash:"",transfer:void 0});class c2{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof Ae)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(e))n[s]!==o&&(r=!0,n[s]=o);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof Ae&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LC(this)}get serializable(){if(this.#n.size===0)return Ib;const t=new Map,e=new TC,n=[],r=Object.create(null);let s=!1;for(const[o,c]of this.#n){const u=c instanceof Ae?c.serialize(!1,r):c;u&&(t.set(o,u),e.update(`${o}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ib}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof Ae))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const o=t[s]||=new Map;for(const[c,u]of Object.entries(r)){if(c==="type")continue;let d=o.get(c);d||(d=new Map,o.set(c,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof Ae)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class LC extends c2{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:n,transfer:r}}get print(){jn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return an(this,"modifiedIds",{ids:new Set,hash:""})}}class wI{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Vi(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=t,c=new FontFace(r,s,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),n?.(t)}catch{He(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}jn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw He(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return an(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return an(this,"isSyncFontLoadingSupported",Zr||mr.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Vi(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return an(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(O,D){return O.charCodeAt(D)<<24|O.charCodeAt(D+1)<<16|O.charCodeAt(D+2)<<8|O.charCodeAt(D+3)&255}function r(O,D,I,k){const j=O.substring(0,D),K=O.substring(D+I);return j+k+K}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(O,D){if(++d>30){He("Load test font never loaded."),D();return}if(u.font="30px "+O,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(f.bind(null,O,D))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const x=16,y=1482184792;let _=n(g,x);for(s=0,o=p.length-3;s<o;s+=4)_=_-y+n(p,s)|0;s<p.length&&(_=_-y+n(p+"XXX",s)|0),g=r(g,x,4,lI(_));const E=`url(data:font/opentype;base64,${btoa(g)});`,T=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(T);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const O of[t.loadedName,p]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=O,L.append(D)}this._document.body.append(L),f(p,()=>{L.remove(),e.complete()})}}class xI{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${EC(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(o){He(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}}function AI(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Zr)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function SI(i){if(Zr&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Yp(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function mg(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Fb=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,EI=i=>typeof i=="object"&&typeof i?.name=="string",MC=dI.bind(null,Fb,EI);class _I{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const gg={DATA:1,ERROR:2},Ui={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fA(){}function ds(i){if(i instanceof zl||i instanceof n0||i instanceof cA||i instanceof Cp||i instanceof P1)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||jn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new zl(i.message);case"InvalidPDFException":return new n0(i.message);case"PasswordException":return new cA(i.message,i.code);case"ResponseException":return new Cp(i.message,i.status,i.missing);case"UnknownErrorException":return new P1(i.message,i.details)}return new P1(i.message,i.toString())}class dp{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===gg.DATA)r.resolve(t.data);else if(t.callback===gg.ERROR)r.reject(ds(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:gg.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:gg.ERROR,callbackId:t.callbackId,reason:ds(o)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,n,r){const s=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:t,streamId:s,data:e,desiredSize:d.desiredSize},r),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:Ui.PULL,streamId:s,desiredSize:d.desiredSize}),f.promise},cancel:d=>{Vi(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:Ui.CANCEL,streamId:s,reason:ds(d)}),f.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:Ui.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Ui.CLOSE,streamId:e}),delete o.streamSinks[e])},error(d){Vi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Ui.ERROR,streamId:e,reason:ds(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Ui.START_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Ui.START_COMPLETE,streamId:e,reason:ds(d)})})}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ui.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(ds(t.reason));break;case Ui.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(ds(t.reason));break;case Ui.PULL:if(!c){s.postMessage({sourceName:n,targetName:r,stream:Ui.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||fA).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Ui.PULL_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Ui.PULL_COMPLETE,streamId:e,reason:ds(d)})});break;case Ui.ENQUEUE:if(Vi(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Ui.CLOSE:if(Vi(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,e);break;case Ui.ERROR:Vi(o,"error should have stream controller"),o.controller.error(ds(t.reason)),this.#s(o,e);break;case Ui.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(ds(t.reason)),this.#s(o,e);break;case Ui.CANCEL:if(!c)break;const u=ds(t.reason);Promise.try(c.onCancel||fA,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Ui.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Ui.CANCEL_COMPLETE,streamId:e,reason:ds(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class PC{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){jn("Abstract method `_createCanvas` called.")}}class NI extends PC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class DC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){jn("Abstract method `_fetch` called.")}}class pA extends DC{async _fetch(t){const e=await rf(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Yp(e)}}class OC{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,s){return"none"}destroy(t=!1){}}class CI extends OC{#t;#e;#n;#i;#s;#r;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#s=e}get#a(){return this.#e||=new Map}get#h(){return this.#r||=new Map}get#c(){if(!this.#n){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#s.createElementNS(Ol,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Ol,"defs"),t.append(n),n.append(this.#n),this.#s.body.append(t)}return this.#n}#d(t){if(t.length===1){const u=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=u[p]/255;const f=d.join(",");return[f,f,f]}const[e,n,r]=t,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=e[u]/255,o[u]=n[u]/255,c[u]=r[u]/255;return[s.join(","),o.join(","),c.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(Kp(e)?He('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=n2(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;const[n,r,s]=this.#d(t),o=t.length===1?n:`${n}${r}${s}`;if(e=this.#a.get(o),e)return this.#a.set(t,e),e;const c=`g_${this.#i}_transfer_map_${this.#o++}`,u=this.#u(c);this.#a.set(t,u),this.#a.set(o,u);const d=this.#p(c);return this.#m(n,r,s,d),u}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let s=this.#h.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#h.set(r,s)),!t||!e))return s.url;const o=this.#b(t);t=ye.makeHexColor(...o);const c=this.#b(e);if(e=ye.makeHexColor(...c),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const u=new Array(256);for(let v=0;v<=255;v++){const x=v/255;u[v]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=u.join(","),f=`g_${this.#i}_hcm_filter`,p=s.filter=this.#p(f);this.#m(d,d,d,p),this.#l(p);const g=(v,x)=>{const y=o[v]/255,_=c[v]/255,E=new Array(x+1);for(let T=0;T<=x;T++)E[T]=y+T/x*(_-y);return E.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),p),s.url=this.#u(f),s.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#a.get(r),e)return this.#a.set(t,e),e;const s=`g_${this.#i}_alpha_map_${this.#o++}`,o=this.#u(s);this.#a.set(t,o),this.#a.set(r,o);const c=this.#p(s);return this.#v(n,c),o}addLuminosityFilter(t){let e=this.#a.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#a.get(r),e)return this.#a.set(t,e),e;const s=`g_${this.#i}_luminosity_map_${this.#o++}`,o=this.#u(s);this.#a.set(t,o),this.#a.set(r,o);const c=this.#p(s);return this.#f(c),t&&this.#v(n,c),o}addHighlightHCMFilter(t,e,n,r,s){const o=`${e}-${n}-${r}-${s}`;let c=this.#h.get(t);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#h.set(t,c)),!e||!n))return c.url;const[u,d]=[e,n].map(this.#b.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[g,v]=[r,s].map(this.#b.bind(this));p<f&&([f,p,g,v]=[p,f,v,g]),this.#c.style.color="";const x=(E,T,L)=>{const O=new Array(256),D=(p-f)/L,I=E/255,k=(T-E)/(255*L);let j=0;for(let K=0;K<=L;K++){const st=Math.round(f+K*D),B=I+K*k;for(let G=j;G<=st;G++)O[G]=B;j=st+1}for(let K=j;K<256;K++)O[K]=O[j-1];return O.join(",")},y=`g_${this.#i}_hcm_${t}_filter`,_=c.filter=this.#p(y);return this.#l(_),this.#m(x(g[0],v[0],5),x(g[1],v[1],5),x(g[2],v[2],5),_),c.url=this.#u(y),c.url}destroy(t=!1){t&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#r?.clear(),this.#r=null,this.#o=0)}#f(t){const e=this.#s.createElementNS(Ol,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#l(t){const e=this.#s.createElementNS(Ol,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(Ol,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#g(t,e,n){const r=this.#s.createElementNS(Ol,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const s=this.#s.createElementNS(Ol,"feComponentTransfer");r.append(s),this.#g(s,"feFuncR",t),this.#g(s,"feFuncG",e),this.#g(s,"feFuncB",n)}#v(t,e){const n=this.#s.createElementNS(Ol,"feComponentTransfer");e.append(n),this.#g(n,"feFuncA",t)}#b(t){return this.#c.style.color=t,a2(getComputedStyle(this.#c).getPropertyValue("color"))}}class kC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){jn("Abstract method `_fetch` called.")}}class mA extends kC{async _fetch(t){const e=await rf(t,"arraybuffer");return new Uint8Array(e)}}class jC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){jn("Abstract method `_fetch` called.")}}class gA extends jC{async _fetch(t){const e=await rf(t,"arraybuffer");return new Uint8Array(e)}}Zr&&He("Please use the `legacy` build in Node.js environments.");async function u2(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class RI extends OC{}class TI extends PC{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class LI extends DC{async _fetch(t){return u2(t)}}class MI extends kC{async _fetch(t){return u2(t)}}class PI extends jC{async _fetch(t){return u2(t)}}const Er={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Bb(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}class h2{isModifyingCurrentTransform(){return!1}getPattern(){jn("Abstract method `getPattern` called.")}}class DI extends h2{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let s;if(r===Er.STROKE||r===Er.FILL){const o=e.current.getClippedPathBoundingBox(r,mi(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=ye.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),Bb(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else Bb(t,this._bbox),s=this._createGradient(t);return s}}function k1(i,t,e,n,r,s,o,c){const u=t.coords,d=t.colors,f=i.data,p=i.width*4;let g;u[e+1]>u[n+1]&&(g=e,e=n,n=g,g=s,s=o,o=g),u[n+1]>u[r+1]&&(g=n,n=r,r=g,g=o,o=c,c=g),u[e+1]>u[n+1]&&(g=e,e=n,n=g,g=s,s=o,o=g);const v=(u[e]+t.offsetX)*t.scaleX,x=(u[e+1]+t.offsetY)*t.scaleY,y=(u[n]+t.offsetX)*t.scaleX,_=(u[n+1]+t.offsetY)*t.scaleY,E=(u[r]+t.offsetX)*t.scaleX,T=(u[r+1]+t.offsetY)*t.scaleY;if(x>=T)return;const L=d[s],O=d[s+1],D=d[s+2],I=d[o],k=d[o+1],j=d[o+2],K=d[c],st=d[c+1],B=d[c+2],G=Math.round(x),it=Math.round(T);let nt,ht,U,Z,J,pt,$,dt;for(let F=G;F<=it;F++){if(F<_){const ct=F<x?0:(x-F)/(x-_);nt=v-(v-y)*ct,ht=L-(L-I)*ct,U=O-(O-k)*ct,Z=D-(D-j)*ct}else{let ct;F>T?ct=1:_===T?ct=0:ct=(_-F)/(_-T),nt=y-(y-E)*ct,ht=I-(I-K)*ct,U=k-(k-st)*ct,Z=j-(j-B)*ct}let V;F<x?V=0:F>T?V=1:V=(x-F)/(x-T),J=v-(v-E)*V,pt=L-(L-K)*V,$=O-(O-st)*V,dt=D-(D-B)*V;const tt=Math.round(Math.min(nt,J)),at=Math.round(Math.max(nt,J));let ot=p*F+tt*4;for(let ct=tt;ct<=at;ct++)V=(nt-ct)/(nt-J),V<0?V=0:V>1&&(V=1),f[ot++]=ht-(ht-pt)*V|0,f[ot++]=U-(U-$)*V|0,f[ot++]=Z-(Z-dt)*V|0,f[ot++]=255}}function OI(i,t,e){const n=t.coords,r=t.colors;let s,o;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(n.length/c)-1,d=c-1;for(s=0;s<u;s++){let f=s*c;for(let p=0;p<d;p++,f++)k1(i,e,n[f],n[f+1],n[f+c],r[f],r[f+1],r[f+c]),k1(i,e,n[f+c+1],n[f+1],n[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)k1(i,e,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class kI extends h2{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),v=d/p,x=f/g,y={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/v,scaleY:1/x},_=p+2*2,E=g+2*2,T=n.getCanvas("mesh",_,E),L=T.context,O=L.createImageData(p,g);if(e){const I=O.data;for(let k=0,j=I.length;k<j;k+=4)I[k]=e[0],I[k+1]=e[1],I[k+2]=e[2],I[k+3]=255}for(const I of this._figures)OI(O,I,y);return L.putImageData(O,2,2),{canvas:T.canvas,offsetX:c-2*v,offsetY:u-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){Bb(t,this._bbox);const s=new Float32Array(2);if(r===Er.SHADING)ye.singularValueDecompose2dScale(mi(t),s);else if(this.matrix){ye.singularValueDecompose2dScale(this.matrix,s);const[c,u]=s;ye.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=c,s[1]*=u}else ye.singularValueDecompose2dScale(e.baseTransform,s);const o=this._createMeshCanvas(s,r===Er.SHADING?null:this._background,e.cachedCanvases);return r!==Er.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class jI extends h2{getPattern(){return"hotpink"}}function II(i){switch(i[0]){case"RadialAxial":return new DI(i);case"Mesh":return new kI(i);case"Dummy":return new jI}throw new Error(`Unknown IR type: ${i[0]}`)}const vA={COLORED:1,UNCOLORED:2};class d2{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),j0("TilingType: "+s);const f=e[0],p=e[1],g=e[2],v=e[3],x=g-f,y=v-p,_=new Float32Array(2);ye.singularValueDecompose2dScale(this.matrix,_);const[E,T]=_;ye.singularValueDecompose2dScale(this.baseTransform,_);const L=E*_[0],O=T*_[1];let D=x,I=y,k=!1,j=!1;const K=Math.ceil(u*L),st=Math.ceil(d*O),B=Math.ceil(x*L),G=Math.ceil(y*O);K>=B?D=u:k=!0,st>=G?I=d:j=!0;const it=this.getSizeAndScale(D,this.ctx.canvas.width,L),nt=this.getSizeAndScale(I,this.ctx.canvas.height,O),ht=t.cachedCanvases.getCanvas("pattern",it.size,nt.size),U=ht.context,Z=c.createCanvasGraphics(U);if(Z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Z,r,o),U.translate(-it.scale*f,-nt.scale*p),Z.transform(it.scale,0,0,nt.scale,0,0),U.save(),this.clipBbox(Z,f,p,g,v),Z.baseTransform=mi(Z.ctx),Z.executeOperatorList(n),Z.endDrawing(),U.restore(),k||j){const J=ht.canvas;k&&(D=u),j&&(I=d);const pt=this.getSizeAndScale(D,this.ctx.canvas.width,L),$=this.getSizeAndScale(I,this.ctx.canvas.height,O),dt=pt.size,F=$.size,V=t.cachedCanvases.getCanvas("pattern-workaround",dt,F),tt=V.context,at=k?Math.floor(x/u):0,ot=j?Math.floor(y/d):0;for(let ct=0;ct<=at;ct++)for(let mt=0;mt<=ot;mt++)tt.drawImage(J,dt*ct,F*mt,dt,F,0,0,dt,F);return{canvas:V.canvas,scaleX:pt.scale,scaleY:$.scale,offsetX:f,offsetY:p}}return{canvas:ht.canvas,scaleX:it.scale,scaleY:nt.scale,offsetX:f,offsetY:p}}getSizeAndScale(t,e,n){const r=Math.max(d2.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=r?s=r:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,r,s){const o=r-e,c=s-n;t.ctx.rect(e,n,o,c),ye.axialAlignedBoundingBox([e,n,r,s],mi(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,s=t.current;switch(e){case vA.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=c;break;case vA.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new oI(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let s=n;r!==Er.SHADING&&(s=ye.transform(s,e.baseTransform),this.matrix&&(s=ye.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let c=new DOMMatrix(s);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const u=t.createPattern(o.canvas,"repeat");return u.setTransform(c),u}}function FI({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=mr.isLittleEndian?4278190080:255,[u,d]=o?[s,c]:[c,s],f=n>>3,p=n&7,g=i.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<r;x++){for(const _=t+f;t<_;t++){const E=t<g?i[t]:255;e[v++]=E&128?d:u,e[v++]=E&64?d:u,e[v++]=E&32?d:u,e[v++]=E&16?d:u,e[v++]=E&8?d:u,e[v++]=E&4?d:u,e[v++]=E&2?d:u,e[v++]=E&1?d:u}if(p===0)continue;const y=t<g?i[t++]:255;for(let _=0;_<p;_++)e[v++]=y&1<<7-_?d:u}return{srcPos:t,destPos:v}}const bA=16,yA=100,BI=15,wA=10,ms=16,j1=new DOMMatrix,Is=new Float32Array(2),xd=new Float32Array([1/0,1/0,-1/0,-1/0]);function zI(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,r,s,o,c){t.transform(e,n,r,s,o,c),this.__originalTransform(e,n,r,s,o,c)},i.setTransform=function(e,n,r,s,o,c){t.setTransform(e,n,r,s,o,c),this.__originalSetTransform(e,n,r,s,o,c)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,s,o,c){t.bezierCurveTo(e,n,r,s,o,c),this.__originalBezierCurveTo(e,n,r,s,o,c)},i.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class UI{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function vg(i,t,e,n,r,s,o,c,u,d){const[f,p,g,v,x,y]=mi(i);if(p===0&&g===0){const T=o*f+x,L=Math.round(T),O=c*v+y,D=Math.round(O),I=(o+u)*f+x,k=Math.abs(Math.round(I)-L)||1,j=(c+d)*v+y,K=Math.abs(Math.round(j)-D)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(v),L,D),i.drawImage(t,e,n,r,s,0,0,k,K),i.setTransform(f,p,g,v,x,y),[k,K]}if(f===0&&v===0){const T=c*g+x,L=Math.round(T),O=o*p+y,D=Math.round(O),I=(c+d)*g+x,k=Math.abs(Math.round(I)-L)||1,j=(o+u)*p+y,K=Math.abs(Math.round(j)-D)||1;return i.setTransform(0,Math.sign(p),Math.sign(g),0,L,D),i.drawImage(t,e,n,r,s,0,0,K,k),i.setTransform(f,p,g,v,x,y),[K,k]}i.drawImage(t,e,n,r,s,o,c,u,d);const _=Math.hypot(f,p),E=Math.hypot(g,v);return[_*u,E*d]}class xA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=jb;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Br.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=xd.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Er.FILL,e=null){const n=this.minMax.slice();if(t===Er.STROKE){e||jn("Stroke bounding box must include transform."),ye.singularValueDecompose2dScale(e,Is);const r=Is[0]*this.lineWidth/2,s=Is[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const t=ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(xd,0)}getClippedPathBoundingBox(t=Er.FILL,e=null){return ye.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function AA(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%ms,s=(e-r)/ms,o=r===0?s:s+1,c=i.createImageData(n,ms);let u=0,d;const f=t.data,p=c.data;let g,v,x,y;if(t.kind===mp.GRAYSCALE_1BPP){const _=f.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),T=E.length,L=n+7>>3,O=4294967295,D=mr.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(x=g<s?ms:r,d=0,v=0;v<x;v++){const I=_-u;let k=0;const j=I>L?n:I*8-7,K=j&-8;let st=0,B=0;for(;k<K;k+=8)B=f[u++],E[d++]=B&128?O:D,E[d++]=B&64?O:D,E[d++]=B&32?O:D,E[d++]=B&16?O:D,E[d++]=B&8?O:D,E[d++]=B&4?O:D,E[d++]=B&2?O:D,E[d++]=B&1?O:D;for(;k<j;k++)st===0&&(B=f[u++],st=128),E[d++]=B&st?O:D,st>>=1}for(;d<T;)E[d++]=0;i.putImageData(c,0,g*ms)}}else if(t.kind===mp.RGBA_32BPP){for(v=0,y=n*ms*4,g=0;g<s;g++)p.set(f.subarray(u,u+y)),u+=y,i.putImageData(c,0,v),v+=ms;g<o&&(y=n*r*4,p.set(f.subarray(u,u+y)),i.putImageData(c,0,v))}else if(t.kind===mp.RGB_24BPP)for(x=ms,y=n*x,g=0;g<o;g++){for(g>=s&&(x=r,y=n*x),d=0,v=y;v--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;i.putImageData(c,0,g*ms)}else throw new Error(`bad image kind: ${t.kind}`)}function SA(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%ms,s=(e-r)/ms,o=r===0?s:s+1,c=i.createImageData(n,ms);let u=0;const d=t.data,f=c.data;for(let p=0;p<o;p++){const g=p<s?ms:r;({srcPos:u}=FI({src:d,srcPos:u,dest:f,width:n,height:g,nonBlackColor:0})),i.putImageData(c,0,p*ms)}}function rp(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function bg(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function EA(i,t){if(t)return!0;ye.singularValueDecompose2dScale(i,Is);const e=Math.fround(Wa.pixelRatio*mh.PDF_TO_CSS_UNITS);return Is[0]<=e&&Is[1]<=e}const HI=["butt","round","square"],qI=["miter","round","bevel"],VI={},_A={};class Rd{constructor(t,e,n,r,s,{optionalContentConfig:o,markedContentStack:c=null},u,d){this.ctx=t,this.current=new xA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new UI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...mi(this.compositeCtx))}this.ctx.save(),bg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=mi(this.ctx)}executeOperatorList(t,e,n,r){const s=t.argsArray,o=t.fnArray;let c=e||0;const u=s.length;if(u===c)return c;const d=u-c>wA&&typeof n=="function",f=d?Date.now()+BI:0;let p=0;const g=this.commonObjs,v=this.objs;let x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(x=o[c],x!==Np.dependency)this[x].apply(this,s[c]);else for(const y of s[c]){const _=y.startsWith("g_")?g:v;if(!_.has(y))return _.get(y,n),c}if(c++,c===u)return c;if(d&&++p>wA){if(Date.now()>f)return n(),c;p=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=n,u=r,d="prescale1",f,p;for(;s>2&&c>1||o>2&&u>1;){let g=c,v=u;s>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/g),o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/v),f=this.cachedCanvases.getCanvas(d,g,v),p=f.context,p.clearRect(0,0,g,v),p.drawImage(t,0,0,c,u,0,0,g,v),t=f.canvas,c=g,u=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,c=mi(e);let u,d,f,p;if((t.bitmap||t.data)&&t.count>1){const K=t.bitmap||t.data.buffer;d=JSON.stringify(o?c:[c.slice(0,4),s]),u=this._cachedBitmapsMap.get(K),u||(u=new Map,this._cachedBitmapsMap.set(K,u));const st=u.get(d);if(st&&!o){const B=Math.round(Math.min(c[0],c[2])+c[4]),G=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:st,offsetX:B,offsetY:G}}f=st}f||(p=this.cachedCanvases.getCanvas("maskCanvas",n,r),SA(p.context,t));let g=ye.transform(c,[1/n,0,0,-1/r,0,0]);g=ye.transform(g,[1,0,0,1,0,-r]);const v=xd.slice();ye.axialAlignedBoundingBox([0,0,n,r],g,v);const[x,y,_,E]=v,T=Math.round(_-x)||1,L=Math.round(E-y)||1,O=this.cachedCanvases.getCanvas("fillCanvas",T,L),D=O.context,I=x,k=y;D.translate(-I,-k),D.transform(...g),f||(f=this._scaleImage(p.canvas,Io(D)),f=f.img,u&&o&&u.set(d,f)),D.imageSmoothingEnabled=EA(mi(D),t.interpolate),vg(D,f,0,0,f.width,f.height,0,0,n,r),D.globalCompositeOperation="source-in";const j=ye.transform(Io(D),[1,0,0,1,-I,-k]);return D.fillStyle=o?s.getPattern(e,this,j,Er.FILL):s,D.fillRect(0,0,n,r),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,O.canvas)),{canvas:O.canvas,offsetX:Math.round(I),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=HI[t]}setLineJoin(t){this.ctx.lineJoin=qI[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),rp(this.suspendedCtx,s),zI(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const s=r[0],o=r[1],c=r[2]-s,u=r[3]-o;c===0||u===0||(this.genericComposeSMask(e.context,n,c,u,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,s,o,c,u,d,f,p){let g=t.canvas,v=u-f,x=d-p;if(o)if(v<0||x<0||v+n>g.width||x+r>g.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,r),E=_.context;E.drawImage(g,-v,-x),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,n,r),E.globalCompositeOperation="source-over",g=_.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(v,x,n,r),t.clip(_),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(v,x,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const y=new Path2D;y.rect(u,d,n,r),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(g,v,x,n,r,u,d,n,r),e.restore()}save(){this.inSMaskMode&&rp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&rp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,s,o){this.ctx.transform(t,e,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const s=e[0]=new Path2D;for(let o=0,c=r.length;o<c;)switch(r[o++]){case pg.moveTo:s.moveTo(r[o++],r[o++]);break;case pg.lineTo:s.lineTo(r[o++],r[o++]);break;case pg.curveTo:s.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case pg.closePath:s.closePath();break;default:He(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=s}ye.axialAlignedBoundingBox(n,mi(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const s=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,Io(n),Er.STROKE),s){const o=new Path2D;o.addPath(t,n.getTransform().invertSelf().multiplySelf(s)),t=o}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Er.STROKE,mi(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const u=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,Io(n),Er.FILL),u){const d=new Path2D;d.addPath(t,n.getTransform().invertSelf().multiplySelf(u)),t=d}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),o&&n.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=VI}eoClip(){this.pendingClip=_A}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:s,x:o,y:c,fontSize:u,path:d}of t)n.addPath(d,new DOMMatrix(s).preMultiplySelf(r).translate(o,c).scale(u,-u));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||jb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&He("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const u=n.italic?"italic":"normal";let d=e;e<bA?d=bA:e>yA&&(d=yA),this.current.fontSizeScale=e/d,this.ctx.font=`${u} ${c} ${d}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,s){const o=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,p=d&Br.FILL_STROKE_MASK,g=!!(d&Br.ADD_TO_PATH_FLAG),v=c.patternFill&&!u.missingFile,x=c.patternStroke&&!u.missingFile;let y;if((u.disableFontFace||g||v||x)&&(y=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||v||x){o.save(),o.translate(e,n),o.scale(f,-f);let _;if((p===Br.FILL||p===Br.FILL_STROKE)&&(r?(_=o.getTransform(),o.setTransform(...r),o.fill(this.#n(y,_,r))):o.fill(y)),p===Br.STROKE||p===Br.FILL_STROKE)if(s){_||=o.getTransform(),o.setTransform(...s);const{a:E,b:T,c:L,d:O}=_,D=ye.inverseTransform(s),I=ye.transform([E,T,L,O,0,0],D);ye.singularValueDecompose2dScale(I,Is),o.lineWidth*=Math.max(Is[0],Is[1])/f,o.stroke(this.#n(y,_,s))}else o.lineWidth/=f,o.stroke(y);o.restore()}else(p===Br.FILL||p===Br.FILL_STROKE)&&o.fillText(t,e,n),(p===Br.STROKE||p===Br.FILL_STROKE)&&o.strokeText(t,e,n);g&&(this.pendingTextPaths||=[]).push({transform:mi(o),x:e,y:n,fontSize:f,path:y})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return an(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,o=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,d=e.fontDirection,f=e.textHScale*d,p=t.length,g=n.vertical,v=g?1:-1,x=n.defaultVMetrics,y=r*e.fontMatrix[0],_=e.textRenderingMode===Br.FILL&&!n.disableFontFace&&!e.patternFill;s.save(),e.textMatrix&&s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),d>0?s.scale(f,-1):s.scale(f,1);let E,T;if(e.patternFill){s.save();const k=e.fillColor.getPattern(s,this,Io(s),Er.FILL);E=mi(s),s.restore(),s.fillStyle=k}if(e.patternStroke){s.save();const k=e.strokeColor.getPattern(s,this,Io(s),Er.STROKE);T=mi(s),s.restore(),s.strokeStyle=k}let L=e.lineWidth;const O=e.textMatrixScale;if(O===0||L===0){const k=e.textRenderingMode&Br.FILL_STROKE_MASK;(k===Br.STROKE||k===Br.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=O;if(o!==1&&(s.scale(o,o),L/=o),s.lineWidth=L,n.isInvalidPDFjsFont){const k=[];let j=0;for(const K of t)k.push(K.unicode),j+=K.width;s.fillText(k.join(""),0,0),e.x+=j*y*f,s.restore(),this.compose();return}let D=0,I;for(I=0;I<p;++I){const k=t[I];if(typeof k=="number"){D+=v*k*r/1e3;continue}let j=!1;const K=(k.isSpace?u:0)+c,st=k.fontChar,B=k.accent;let G,it,nt=k.width;if(g){const U=k.vmetric||x,Z=-(k.vmetric?U[1]:nt*.5)*y,J=U[2]*y;nt=U?-U[0]:nt,G=Z/o,it=(D+J)/o}else G=D/o,it=0;if(n.remeasure&&nt>0){const U=s.measureText(st).width*1e3/r*o;if(nt<U&&this.isFontSubpixelAAEnabled){const Z=nt/U;j=!0,s.save(),s.scale(Z,1),G/=Z}else nt!==U&&(G+=(nt-U)/2e3*r/o)}if(this.contentVisible&&(k.isInFont||n.missingFile)){if(_&&!B)s.fillText(st,G,it);else if(this.paintChar(st,G,it,E,T),B){const U=G+r*B.offset.x/o,Z=it-r*B.offset.y/o;this.paintChar(B.fontChar,U,Z,E,T)}}const ht=g?nt*y-K*d:nt*y+K*d;D+=ht,j&&s.restore()}g?e.y-=D:e.x+=D*f,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,c=r.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,f=n.textHScale*o,p=n.fontMatrix||jb,g=t.length,v=n.textRenderingMode===Br.INVISIBLE;let x,y,_,E;if(!(v||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(f,o),x=0;x<g;++x){if(y=t[x],typeof y=="number"){E=c*y*s/1e3,this.ctx.translate(E,0),n.x+=E*f;continue}const T=(y.isSpace?d:0)+u,L=r.charProcOperatorList[y.operatorListId];L?this.contentVisible&&(this.save(),e.scale(s,s),e.transform(...p),this.executeOperatorList(L),this.restore()):He(`Type3 character "${y.operatorListId}" is not available.`);const O=[y.width,0];ye.applyTransform(O,p),_=O[0]*s+T,e.translate(_,0),n.x+=_*f}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,s,o){const c=new Path2D;c.rect(n,r,s-n,o-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||mi(this.ctx),r={createCanvasGraphics:s=>new Rd(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new d2(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=II(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Io(e),Er.SHADING);const r=Io(e);if(r){const{width:s,height:o}=e.canvas,c=xd.slice();ye.axialAlignedBoundingBox([0,0,s,o],r,c);const[u,d,f,p]=c;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){jn("Should not call beginInlineImage")}beginImageData(){jn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=mi(this.ctx),e)){ye.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,s,o]=e,c=new Path2D;c.rect(n,r,s-n,o-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||j0("TODO: Support non-isolated groups."),t.knockout&&He("Knockout groups not supported.");const n=mi(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=xd.slice();ye.axialAlignedBoundingBox(t.bbox,mi(e),r);const s=[0,0,e.canvas.width,e.canvas.height];r=ye.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,u,d),g=p.context;g.translate(-o,-c),g.transform(...n);let v=new Path2D;const[x,y,_,E]=t.bbox;if(v.rect(x,y,_-x,E-y),t.matrix){const T=new Path2D;T.addPath(v,new DOMMatrix(t.matrix)),v=T}g.clip(v),t.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.save()),rp(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=mi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=xd.slice();ye.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,s),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,n,r,s){if(this.#t(),bg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],c=e[3]-e[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=c,ye.singularValueDecompose2dScale(mi(this.ctx),Is);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Is[0],0,0,-Is[1],0,c*Is[1]),bg(this.ctx)}else{bg(this.ctx),this.endPath();const u=new Path2D;u.rect(e[0],e[1],o,c),this.ctx.clip(u)}}this.current=new xA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const u=mi(c);c.transform(e,n,r,s,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,p=o.length;f<p;f+=2){const g=ye.transform(u,[e,n,r,s,o[f],o[f+1]]);c.drawImage(d.canvas,g[4],g[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:o,width:c,height:u,transform:d}=s,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),p=f.context;p.save();const g=this.getObject(o,s);SA(p,g),p.globalCompositeOperation="source-in",p.fillStyle=r?n.getPattern(p,this,Io(e),Er.FILL):n,p.fillRect(0,0,c,u),p.restore(),e.save(),e.transform(...d),e.scale(1,-1),vg(e,f.canvas,0,0,c,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){He("Dependent image isn't ready yet");return}const o=s.width,c=s.height,u=[];for(let d=0,f=r.length;d<f;d+=2)u.push({transform:[e,0,0,n,r[d],r[d+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/e,-1/n);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,n).context;AA(d,t),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,Io(r));r.imageSmoothingEnabled=EA(mi(r),t.interpolate),vg(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,o=t.height,u=this.cachedCanvases.getCanvas("inlineImage",s,o).context;AA(u,t),r=this.applyTransferMapsToCanvas(u)}for(const s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),vg(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===_A?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=mi(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:s}=this.ctx.getTransform();let o,c;if(n===0&&r===0){const u=Math.abs(e),d=Math.abs(s);if(u===d)if(t===0)o=c=1/u;else{const f=u*t;o=c=f<1?1/f:1}else if(t===0)o=1/u,c=1/d;else{const f=u*t,p=d*t;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(e*s-n*r),d=Math.hypot(e,n),f=Math.hypot(r,s);if(t===0)o=f/u,c=d/u;else{const p=t*u;o=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){n.lineWidth=(r||1)*s,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(s,o),j1.a=1/s,j1.d=1/o;const u=new Path2D;if(u.addPath(t,j1),c.length>0){const d=Math.max(s,o);n.setLineDash(c.map(f=>f/d)),n.lineDashOffset/=d}n.lineWidth=r||1,n.stroke(u),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in Np)Rd.prototype[i]!==void 0&&(Rd.prototype[Np[i]]=Rd.prototype[i]);class la{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class GI{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const gd=Symbol("INTERNAL");class $I{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:s}){this.#t=!!(t&ks.DISPLAY),this.#e=!!(t&ks.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==gd&&jn("Internal method `_setVisible` called."),this.#n=n,this.#i=e}}class WI{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=ks.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const n of t.groups)this.#e.set(n.id,new $I(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(gd,!1);for(const n of t.on)this.#e.get(n)._setVisible(gd,!0);for(const n of t.off)this.#e.get(n)._setVisible(gd,!1);this.#n=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const s=t[r];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#e.has(s))o=this.#e.get(s).visible;else return He(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return j0("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(He(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return He(`Unknown optional content policy ${t.policy}.`),!0}return He(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){He(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==t&&this.#e.get(o)?._setVisible(gd,!1,!0);r._setVisible(gd,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#e.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new TC;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class YI{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Vi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,s?.length>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});Vi(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Vi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new XI(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new KI(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class XI{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=F0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KI{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function QI(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),s(f)}if(e=o(i),e){const f=d(e);return s(f)}if(e=n("filename","i").exec(i),e){e=e[1];let f=c(e);return f=d(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),v=Yp(p);p=g.decode(v),t=!1}catch{}}return p}function s(f){return t&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),t&&(f=r("iso-8859-1",f))),f}function o(f){const p=[];let g;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,y,_,E]=g;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[_,E]}const x=[];for(let y=0;y<p.length&&y in p;++y){let[_,E]=p[y];E=c(E),_&&(E=unescape(E),y===0&&(E=u(E))),x.push(E)}return x.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const v=p[g].indexOf('"');v!==-1&&(p[g]=p[g].slice(0,v),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return r(g,x)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),r(g,x);try{x=atob(x)}catch{}return r(g,x)})}return""}function IC(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function B0(i){return URL.parse(i)?.origin??null}function FC({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function BC(i){const t=i.get("Content-Disposition");if(t){let e=QI(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(F0(e))return e}return null}function Jp(i,t){return new Cp(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function zC(i){return i===200||i===206}function UC(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function HC(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(He(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class ZI{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=IC(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new JI(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new tF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class JI{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,UC(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=B0(s.url),!zC(s.status))throw Jp(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:u}=FC({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=BC(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:HC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class tF{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const o=r.url;fetch(o,UC(s,this._withCredentials,this._abortController)).then(c=>{const u=B0(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!zC(c.status))throw Jp(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:HC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const I1=200,F1=206;function eF(i){const t=i.response;return typeof t!="string"?t:Yp(t).buffer}class nF{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=IC(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=F1):r.expectedStatus=I1,e.responseType="arraybuffer",Vi(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||I1;if(!(s===I1&&n.expectedStatus===F1)&&s!==n.expectedStatus){n.onError(r.status);return}const c=eF(r);if(s===F1){const u=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(He('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class iF{constructor(t){this._source=t,this._manager=new nF(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Vi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rF(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new sF(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class rF{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=B0(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=FC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=BC(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Jp(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sF{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=B0(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Jp(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aF=/^[a-z][a-z0-9\-+.]+:/i;function oF(i){if(aF.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class lF{constructor(t){this.source=t,this.url=oF(t.url),Vi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new cF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new uF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class cF{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Jp(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class uF{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const sp=Symbol("INITIAL_DATA");class qC{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:sp}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===sp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==sp}delete(t){const e=this.#t[t];return!e||e.data===sp?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==sp&&(yield[t,e])}}}const hF=1e5,NA=30;let Rp=class aa{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#o=0;#a=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#l=[];#p=null;#g=[];#m=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#x=new WeakMap;static#A=null;static#S=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(u){u.enqueue(t),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=n.scale*Wa.pixelRatio,this.#d=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:c}=n.rawDims;this.#v=[1,0,0,-1,-o,c+s],this.#a=r,this.#o=s,aa.#M(),Kc(e,n),this.#t.promise.finally(()=>{aa.#S.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=mr.platform;return an(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#N(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),aa.#S.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Wa.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Kc(this.#c,{rotation:r})),n!==this.#u){e?.(),this.#u=n;const s={div:null,properties:null,ctx:aa.#R(this.#s)};for(const o of this.#g)s.properties=this.#m.get(o),s.div=o,this.#E(s)}}cancel(){const t=new zl("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#l}#N(t){if(this.#n)return;this.#r.ctx??=aa.#R(this.#s);const e=this.#g,n=this.#l;for(const r of t){if(e.length>hF){He("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#T(r)}}#T(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#g.push(e);const r=ye.transform(this.#v,t.transform);let s=Math.atan2(r[1],r[0]);const o=this.#f[t.fontName];o.vertical&&(s+=Math.PI/2);let c=this.#i&&o.fontSubstitution||o.fontFamily;c=aa.fontFamilyMap.get(c)||c;const u=Math.hypot(r[2],r[3]),d=u*aa.#P(c,o,this.#s);let f,p;s===0?(f=r[4],p=r[5]-d):(f=r[4]+d*Math.sin(s),p=r[5]-d*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#c?(v.left=`${(100*f/this.#a).toFixed(2)}%`,v.top=`${(100*p/this.#o).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${p.toFixed(2)}px)`),v.fontSize=`${g}${(aa.#A*u).toFixed(2)}px)`,v.fontFamily=c,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),_=Math.abs(t.transform[3]);y!==_&&Math.max(y,_)/Math.min(y,_)>1.5&&(x=!0)}if(x&&(n.canvasWidth=o.vertical?t.height:t.width),this.#m.set(e,n),this.#r.div=e,this.#r.properties=n,this.#E(this.#r),n.hasText&&this.#e.append(e),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#E(t){const{div:e,properties:n,ctx:r}=t,{style:s}=e;let o="";if(aa.#A>1&&(o=`scale(${1/aa.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:d}=n;aa.#C(r,d*this.#u,c);const{width:f}=r.measureText(e.textContent);f>0&&(o=`scaleX(${u*this.#u/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#S.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#R(t=null){let e=this.#y.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#C(t,e,n){const r=this.#x.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#M(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#P(t,e,n){const r=this.#b.get(t);if(r)return r;const s=this.#R(n);s.canvas.width=s.canvas.height=NA,this.#C(s,NA,t);const o=s.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return c?d=c/(c+u):(mr.platform.isFirefox&&He("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#b.set(t,d),d}};class Tp{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(s){if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(Tp.shouldBuildText(c))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const dF=100;function f2(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new p2,{docId:e}=t,n=i.url?AI(i.url):null,r=i.data?SI(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,c=i.password??null,u=i.range instanceof m2?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof Ud?i.worker:null;const p=i.verbosity,g=typeof i.docBaseUrl=="string"&&!Kp(i.docBaseUrl)?i.docBaseUrl:null,v=mg(i.cMapUrl),x=i.cMapPacked!==!1,y=i.CMapReaderFactory||(Zr?LI:pA),_=mg(i.iccUrl),E=mg(i.standardFontDataUrl),T=i.StandardFontDataFactory||(Zr?MI:mA),L=mg(i.wasmUrl),O=i.WasmFactory||(Zr?PI:gA),D=i.stopAtErrors!==!0,I=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,k=i.isEvalSupported!==!1,j=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Zr,K=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Zr&&(mr.platform.isFirefox||!globalThis.chrome),st=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,B=typeof i.disableFontFace=="boolean"?i.disableFontFace:Zr,G=i.fontExtraProperties===!0,it=i.enableXfa===!0,nt=i.ownerDocument||globalThis.document,ht=i.disableRange===!0,U=i.disableStream===!0,Z=i.disableAutoFetch===!0,J=i.pdfBug===!0,pt=i.CanvasFactory||(Zr?TI:NI),$=i.FilterFactory||(Zr?RI:CI),dt=i.enableHWA===!0,F=i.useWasm!==!1,V=u?u.length:i.length??NaN,tt=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Zr&&!B,at=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(y===pA&&T===mA&&O===gA&&v&&E&&L&&hp(v,document.baseURI)&&hp(E,document.baseURI)&&hp(L,document.baseURI)),ot=null;rI(p);const ct={canvasFactory:new pt({ownerDocument:nt,enableHWA:dt}),filterFactory:new $({docId:e,ownerDocument:nt}),cMapReaderFactory:at?null:new y({baseUrl:v,isCompressed:x}),standardFontDataFactory:at?null:new T({baseUrl:E}),wasmFactory:at?null:new O({baseUrl:L})};f||(f=Ud.create({verbosity:p,port:la.workerPort}),t._worker=f);const mt={docId:e,apiVersion:"5.3.31",data:r,password:c,disableAutoFetch:Z,rangeChunkSize:d,length:V,docBaseUrl:g,enableXfa:it,evaluatorOptions:{maxImageSize:I,disableFontFace:B,ignoreErrors:D,isEvalSupported:k,isOffscreenCanvasSupported:j,isImageDecoderSupported:K,canvasMaxAreaInBytes:st,fontExtraProperties:G,useSystemFonts:tt,useWasm:F,useWorkerFetch:at,cMapUrl:v,iccUrl:_,standardFontDataUrl:E,wasmUrl:L}},xt={ownerDocument:nt,pdfBug:J,styleElement:ot,loadingParams:{disableAutoFetch:Z,enableXfa:it}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Tt=f.messageHandler.sendWithPromise("GetDocRequest",mt,r?[r.buffer]:null);let Ot;if(u)Ot=new YI(u,{disableRange:ht,disableStream:U});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const zt=hp(n)?ZI:Zr?lF:iF;Ot=new zt({url:n,length:V,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:ht,disableStream:U})}return Tt.then(zt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const $t=new dp(e,zt,f.port),Kt=new mF($t,t,Ot,xt,ct);t._transport=Kt,$t.send("Ready",null)})}).catch(t._capability.reject),t}class p2{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${p2.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let m2=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#s=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#s)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#i)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){jn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class fF{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return an(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class pF{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new hA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new qC,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Xp({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return an(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=Vo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:p=!1}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(n,r,f,p),{renderingIntent:v,cacheKey:x}=g;this.#t=!1,c||=this._transport.getOptionalContentConfig(v);let y=this._intentStates.get(x);y||(y=Object.create(null),this._intentStates.set(x,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const _=!!(v&ks.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const E=O=>{y.renderTasks.delete(T),_&&(this.#t=!0),this.#e(),O?(T.capability.reject(O),this._abortOperatorList({intentState:y,reason:O instanceof Error?O:new Error(O)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Ad({callback:E,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||=new Set).add(T);const L=T.task;return Promise.all([y.displayReadyCapability.promise,c]).then(([O,D])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:O,optionalContentConfig:D}),T.operatorListChanged()}).catch(E),L}getOperatorList({intent:t="display",annotationMode:e=Vo.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(t,e,n,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Tp.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function s(){o.read().then(function({value:u,done:d}){if(d){n(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},r)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new hA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof I0){let r=dF;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new zl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Bc,Ua,kl,Qu,a0,Zu,Ju,ts,Ig,VC,GC,fp,jd,Fg;const si=class si{constructor({name:t=null,port:e=null,verbosity:n=sI()}={}){Do(this,ts);Do(this,Bc,Promise.withResolvers());Do(this,Ua,null);Do(this,kl,null);Do(this,Qu,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ri(si,Ju).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ri(si,Ju).set(e,this),Oo(this,ts,VC).call(this,e)}else Oo(this,ts,GC).call(this)}get promise(){return ri(this,Bc).promise}get port(){return ri(this,kl)}get messageHandler(){return ri(this,Ua)}destroy(){this.destroyed=!0,ri(this,Qu)?.terminate(),hs(this,Qu,null),ri(si,Ju).delete(ri(this,kl)),hs(this,kl,null),ri(this,Ua)?.destroy(),hs(this,Ua,null)}static create(t){const e=ri(this,Ju).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new si(t)}static get workerSrc(){if(la.workerSrc)return la.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return an(this,"_setupFakeWorkerGlobal",(async()=>ri(this,jd,Fg)?ri(this,jd,Fg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Bc=new WeakMap,Ua=new WeakMap,kl=new WeakMap,Qu=new WeakMap,a0=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,ts=new WeakSet,Ig=function(){ri(this,Bc).resolve(),ri(this,Ua).send("configure",{verbosity:this.verbosity})},VC=function(t){hs(this,kl,t),hs(this,Ua,new dp("main","worker",t)),ri(this,Ua).on("ready",()=>{}),Oo(this,ts,Ig).call(this)},GC=function(){if(ri(si,Zu)||ri(si,jd,Fg)){Oo(this,ts,fp).call(this);return}let{workerSrc:t}=si;try{si._isSameOrigin(window.location,t)||(t=si._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new dp("main","worker",e),r=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?ri(this,Bc).reject(new Error("Worker was destroyed")):Oo(this,ts,fp).call(this)},s=new AbortController;e.addEventListener("error",()=>{ri(this,Qu)||r()},{signal:s.signal}),n.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}hs(this,Ua,n),hs(this,kl,e),hs(this,Qu,e),Oo(this,ts,Ig).call(this)}),n.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{Oo(this,ts,fp).call(this)}});const o=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};o();return}catch{j0("The worker has been disabled.")}Oo(this,ts,fp).call(this)},fp=function(){ri(si,Zu)||(He("Setting up fake worker."),hs(si,Zu,!0)),si._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ri(this,Bc).reject(new Error("Worker was destroyed"));return}const e=new _I;hs(this,kl,e);const n=`fake${E5(si,a0)._++}`,r=new dp(n+"_worker",n,e);t.setup(r,e),hs(this,Ua,new dp(n,n+"_worker",e)),Oo(this,ts,Ig).call(this)}).catch(t=>{ri(this,Bc).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},jd=new WeakSet,Fg=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Do(si,jd),Do(si,a0,0),Do(si,Zu,!1),Do(si,Ju,new WeakMap),Zr&&(hs(si,Zu,!0),la.workerSrc||="./pdf.worker.mjs"),si._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},si._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},si.fromPort=t=>{if(pI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return si.create(t)};let Ud=si;class mF{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,e,n,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new qC,this.fontLoader=new wI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return an(this,"annotationStorage",new c2)}getRenderingIntent(t,e=Vo.ENABLE,n=null,r=!1,s=!1){let o=ks.DISPLAY,c=Ib;switch(t){case"any":o=ks.ANY;break;case"display":break;case"print":o=ks.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${t}`)}const u=o&ks.PRINT&&n instanceof LC?n:this.annotationStorage;switch(e){case Vo.DISABLE:o+=ks.ANNOTATIONS_DISABLE;break;case Vo.ENABLE:break;case Vo.ENABLE_FORMS:o+=ks.ANNOTATIONS_FORMS;break;case Vo.ENABLE_STORAGE:o+=ks.ANNOTATIONS_STORAGE,c=u.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=ks.IS_EDITING),s&&(o+=ks.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Rp.cleanup(),this._networkStream?.cancelAllRequests(new zl("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Vi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Vi(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),t.on("GetRangeReader",(n,r)=>{Vi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){r.close();return}Vi(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new fF(n,this))}),t.on("DocException",n=>{e._capability.reject(ds(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw ds(n);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,n.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const d=s.error;He(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,c=new xI(s,o);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Vi(u,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,f]of d.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,s,o])=>{if(this.destroyed)return;const c=this.#e.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,t);const o=new pF(e,s,this,this._params.pdfBug);return this.#e.set(e,o),o});return this.#n.set(e,r),r}getPageIndex(t){return Fb(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new WI(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new GI(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Rp.cleanup()}}cachedPageNumber(t){if(!Fb(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class gF{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ad{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ad.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ad.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new Rd(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ad.#e.delete(this._canvas),t||=new I0(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ad.#e.delete(this._canvas),this.callback())))}}const g2="5.3.31",$C="47ad820d9";function CA(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function ap(i){return Math.max(0,Math.min(255,255*i))}class RA{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ap(t),[t,t,t]}static G_HTML([t]){const e=CA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(ap)}static RGB_HTML(t){return`#${t.map(CA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[ap(1-Math.min(1,t+r)),ap(1-Math.min(1,n+r)),ap(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,s=1-e,o=1-n,c=Math.min(r,s,o);return["CMYK",r,s,o,c]}}class vF{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){jn("Abstract method `_createSVG` called.")}}class Lp extends vF{_createSVG(t){return document.createElementNS(Ol,t)}}class v2{static setupStorage(t,e,n,r,s){const o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of n.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:s}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&s.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const c=s!=="richText",u=t.div;if(u.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),c&&Tp.shouldBuildText(r.name)&&d.push(p)}return{textDivs:d}}const f=[[r,-1,o]];for(;f.length>0;){const[p,g,v]=f.at(-1);if(g+1===p.children.length){f.pop();continue}const x=p.children[++f.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const E=document.createTextNode(x.value);d.push(E),v.append(E);continue}const _=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(v.append(_),x.attributes&&this.setAttributes({html:_,element:x,storage:e,intent:s,linkService:n}),x.children?.length>0)f.push([x,-1,_]);else if(x.value){const E=document.createTextNode(x.value);c&&Tp.shouldBuildText(y)&&d.push(E),_.append(E)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const tm=1e3,bF=9,gh=new WeakSet;class TA{static create(t){switch(t.data.annotationType){case Ci.LINK:return new WC(t);case Ci.TEXT:return new yF(t);case Ci.WIDGET:switch(t.data.fieldType){case"Tx":return new wF(t);case"Btn":return t.data.radioButton?new YC(t):t.data.checkBox?new AF(t):new SF(t);case"Ch":return new EF(t);case"Sig":return new xF(t)}return new wh(t);case Ci.POPUP:return new zb(t);case Ci.FREETEXT:return new XC(t);case Ci.LINE:return new NF(t);case Ci.SQUARE:return new CF(t);case Ci.CIRCLE:return new RF(t);case Ci.POLYLINE:return new KC(t);case Ci.CARET:return new LF(t);case Ci.INK:return new b2(t);case Ci.POLYGON:return new TF(t);case Ci.HIGHLIGHT:return new QC(t);case Ci.UNDERLINE:return new MF(t);case Ci.SQUIGGLY:return new PF(t);case Ci.STRIKEOUT:return new DF(t);case Ci.STAMP:return new ZC(t);case Ci.FILEATTACHMENT:return new OF(t);default:return new Oi(t)}}}class Oi{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t?.str||e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Oi._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:u}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/s}%`,e.top=`${100*(o-t[3]+u)/o}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof wh||(s.tabIndex=tm);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof zb){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,_=e.borderStyle.verticalCornerRadius;if(y>0||_>0){const T=`calc(${y}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof YC){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=T}switch(e.borderStyle.style){case md.SOLID:o.borderStyle="solid";break;case md.DASHED:o.borderStyle="dashed";break;case md.BEVELED:He("Unimplemented border style: beveled");break;case md.INSET:He("Unimplemented border style: inset");break;case md.UNDERLINE:o.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,o.borderColor=ye.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const d=ye.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:v}=r.rawDims;o.left=`${100*(d[0]-g)/f}%`,o.top=`${100*(d[1]-v)/p}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(x,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;t%180!==0&&([s,o]=[o,s]),e.style.width=`${100*s/n}%`,e.style.height=`${100*o/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const s=r.detail[e],o=s[0],c=s.slice(1);r.target.style[n]=RA[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:RA[`${o}_rgb`](c)})};return an(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,s]of Object.entries(e)){const o=n[r];if(o){const c={detail:{[r]:s},target:t};o(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,_,E,T]=t.subarray(2,6);if(r===y&&s===_&&e===E&&n===T)return}const{style:o}=this.container;let c;if(this.#e){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const u=r-e,d=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=f.createElement("defs");p.append(g);const v=f.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let y=2,_=t.length;y<_;y+=8){const E=t[y],T=t[y+1],L=t[y+2],O=t[y+3],D=f.createElement("rect"),I=(L-e)/u,k=(s-T)/d,j=(E-L)/u,K=(T-O)/d;D.setAttribute("x",I),D.setAttribute("y",k),D.setAttribute("width",j),D.setAttribute("height",K),v.append(D),c?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${k}" width="${j}" height="${K}"/>`)}this.#e&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=this.#n=new zb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){jn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:o,exportValues:c}of r){if(s===-1||o===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!gh.has(d)){He(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:d})}return n}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&gh.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class WC extends Oi{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=n.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:s,include:o}=e,c=[];if(r.length!==0||s.length!==0){const f=new Set(s);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!gh.has(g)){He(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class yF extends Oi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class wh extends Oi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return mr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,s){n.includes("mouse")?t.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(n,o=>{if(n==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(t,e,n,r){for(const[s,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ye.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||bF,s=t.style;let o;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(M1*r))||1,p=d/f;o=Math.min(r,u(p/M1))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,u(d/M1))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=ye.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class wF extends wh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),s.setValue(o.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),gh.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=tm,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=u.userValue=p,u.formattedValue=null});let d=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){u.userValue=v.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:x}=v.detail;u.formattedValue=x,x!=null&&v.target!==document.activeElement&&(v.target.value=x),t.setValue(e,{formattedValue:x})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:x}=v.detail,{target:y}=v;if(x===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",x);let _=u.userValue;!_||_.length<=x||(_=_.slice(0,x),y.value=u.userValue=_,t.setValue(e,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),n.addEventListener("keydown",p=>{u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:v}=p.target;u.lastCommittedValue!==v&&(u.lastCommittedValue=v,u.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,n.addEventListener("blur",p=>{if(!u.focused||!p.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}),f(p)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",p=>{u.lastCommittedValue=null;const{data:g,target:v}=p,{value:x,selectionStart:y,selectionEnd:_}=v;let E=y,T=_;switch(p.inputType){case"deleteWordBackward":{const L=x.substring(0,y).match(/\w*[^\w]*$/);L&&(E-=L[0].length);break}case"deleteWordForward":{const L=x.substring(y).match(/^[^\w]*\w*/);L&&(T+=L[0].length);break}case"deleteContentBackward":y===_&&(E-=1);break;case"deleteContentForward":y===_&&(T+=1);break}p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:g||"",willCommit:!1,selStart:E,selEnd:T}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class xF extends wh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class AF extends wh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return gh.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=tm,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,n)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class YC extends wh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(gh.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=tm,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=o===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=f&&p.id===n;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class SF extends WC{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class EF extends wh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");gh.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=tm;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,x=>x.selected).map(x=>x[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const p={value(g){o?.();const v=g.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const y of r.options)y.selected=x.has(y.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,x=g.detail.remove;v[x].selected=!1,r.remove(x),v.length>0&&Array.prototype.findIndex.call(v,_=>_.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},clear(g){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(g){const{index:v,displayValue:x,exportValue:y}=g.detail.insert,_=r.children[v],E=document.createElement("option");E.textContent=x,E.value=y,_?_.before(E):r.append(E),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const x of v){const{displayValue:y,exportValue:_}=x,E=document.createElement("option");E.textContent=y,E.value=_,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},indices(g){const v=new Set(g.detail.indices);for(const x of g.target.options)x.selected=v.has(x.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("input",f=>{const p=c(!0),g=c(!1);t.setValue(e,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class zb extends Oi{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Oi._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new _F({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${r2}${n}`).join(",")),this.container}}class _F{#t=this.#N.bind(this);#e=this.#C.bind(this);#n=this.#R.bind(this);#i=this.#E.bind(this);#s=null;#r=null;#o=null;#a=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#l=null;#p=null;#g=null;#m=null;#v=null;#b=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:c,parent:u,rect:d,parentRect:f,open:p}){this.#r=t,this.#m=r,this.#o=o,this.#g=c,this.#c=u,this.#s=e,this.#p=d,this.#d=f,this.#h=n,this.#a=s2.toDateObject(s),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",this.#i),g.addEventListener("mouseenter",this.#n),g.addEventListener("mouseleave",this.#e),g.classList.add("popupTriggerArea");for(const g of n)g.container?.addEventListener("keydown",this.#t);this.#r.hidden=!0,p&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#s){const s=t.style.outlineColor=ye.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#m,t.append(e),this.#a){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),e.append(s)}const r=this.#y;if(r)v2.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#o);t.append(s)}this.#r.append(t)}get#y(){const t=this.#g,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#g.html||null}get#x(){return this.#y?.attributes?.style?.fontSize||0}get#A(){return this.#y?.attributes?.style?.color||null}#S(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#A,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const c=r[s];n.append(document.createTextNode(c)),s<o-1&&n.append(document.createElement("br"))}return n}#N(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:e}){this.#v||={contentsObj:this.#o,richText:this.#g},t&&(this.#l=null),e&&(this.#g=this.#S(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#g}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#l=null)}#T(){if(this.#l!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:s}}}=this.#c;let o=!!this.#d,c=o?this.#d:this.#p;for(const x of this.#h)if(!c||ye.intersect(x.data.rect,c)!==null){c=x.data.rect,o=!0;break}const u=ye.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,g=u[1];this.#l=[100*(p-r)/e,100*(g-s)/n];const{style:v}=this.#r;v.left=`${this.#l[0]}%`,v.top=`${this.#l[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#R(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#t)):(this.#C(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#C(){this.#r.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#r.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#R(),this.#b=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class XC extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class NF extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class CF extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",e-s),o.setAttribute("height",n-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RF extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-s/2),o.setAttribute("ry",n/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class KC extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:s,height:o}=this;if(!e)return this.container;const c=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,p=e.length;f<p;f+=2){const g=e[f]-t[0],v=t[3]-e[f+1];u.push(`${g},${v}`)}u=u.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",u),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class TF extends KC{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class LF extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class b2 extends Oi{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ze.HIGHLIGHT:ze.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:o,width:c,height:u}=this.#n(e,t),d=this.svgFactory.create(c,u,!0),f=this.#t=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,g=n.length;p<g;p++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[p].join(",")),f.append(v)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let o=0,c=this.#e.length;o<c;o++)this.#e[o].setAttribute("points",n[o].join(","));if(r){const{transform:o,width:c,height:u}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class QC extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ze.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class MF extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class PF extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class DF extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ZC extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class OF extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=mr.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let y2=class JC{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:c}){this.div=t,this.#t=e,this.#e=n,this.#i=c||null,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e){const n=t.firstChild||t,r=n.id=`${r2}${e}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[o,c]of s)n.setAttribute(o,c);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;Kc(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Lp,annotationStorage:t.annotationStorage||new c2,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const c=o.annotationType===Ci.POPUP;if(c){const f=r.get(o.id);if(!f)continue;s.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const u=TA.create(s);if(!u.isRenderable)continue;if(!c&&o.popupRef){const f=r.get(o.popupRef);f?f.push(u):r.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),await this.#s(d,o.id),u._isEditable&&(this.#n.set(u.data.id,u),this._annotationEditorUIManager?.renderAnnotationElement(u))}this.#r()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new Lp,parent:this};for(const r of t){r.borderStyle||=JC._defaultBorderStyle,n.data=r;const s=TA.create(n);if(!s.isRenderable)continue;const o=s.render();await this.#s(o,r.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Kc(e,{rotation:t.rotation}),this.#r(),e.hidden=!1}#r(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const o=this.#n.get(e);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),o._hasNoCanvas=!1):o.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return an(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:md.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const yg=/\r\n?|\n/g;class Qi extends Ae{#t;#e="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Qi.prototype,e=s=>s.isEmpty(),n=Ul.TRANSLATE_SMALL,r=Ul.TRANSLATE_BIG;return an(this,"_keyboardManager",new Qp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=ze.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Qi._defaultColor||Ae._defaultLineColor,this.#s=t.fontSize||Qi._defaultFontSize}static initialize(t,e){Ae.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case cn.FREETEXT_SIZE:Qi._defaultFontSize=e;break;case cn.FREETEXT_COLOR:Qi._defaultColor=e;break}}updateParams(t,e){switch(t){case cn.FREETEXT_SIZE:this.#r(e);break;case cn.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[cn.FREETEXT_SIZE,Qi._defaultFontSize],[cn.FREETEXT_COLOR,Qi._defaultColor||Ae._defaultLineColor]]}get propertiesToUpdate(){return[[cn.FREETEXT_SIZE,this.#s],[cn.FREETEXT_COLOR,this.#t]]}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#h()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:cn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:cn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Qi._internalPadding*t,-(Qi._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Qi.#c(n)),e=n);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#a().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Qi._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,f]=this.pageDimensions,[p,g]=this.pageTranslation;let v,x;switch(this.rotation){case 0:v=t+(o[0]-p)/d,x=e+this.height-(o[1]-g)/f;break;case 90:v=t+(o[0]-p)/d,x=e-(o[1]-g)/f,[c,u]=[u,-c];break;case 180:v=t-this.width+(o[0]-p)/d,x=e-(o[1]-g)/f,[c,u]=[-c,-u];break;case 270:v=t+(o[0]-p-this.height*f)/d,x=e+(o[1]-g-this.width*d)/f,[c,u]=[-u,c];break}this.setAt(v*r,x*s,c,u)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(yg,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Qi.#f(e.getData("text")||"").replaceAll(yg,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,d=[],f=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(yg,"")),v!==this.editorDiv){let x=d;for(const y of this.editorDiv.childNodes){if(y===v){x=f;continue}x.push(Qi.#c(y))}}d.push(c.nodeValue.slice(0,u).replaceAll(yg,""))}else if(c===this.editorDiv){let v=d,x=0;for(const y of this.editorDiv.childNodes)x++===u&&(v=f),v.push(Qi.#c(y))}this.#e=`${d.join(`
`)}${r}${f.join(`
`)}`,this.#d();const p=new Range;let g=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const x=v.nodeValue.length;if(g<=x){p.setStart(v,g),p.setEnd(v,g);break}g-=x}s.removeAllRanges(),s.addRange(p)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let r=null;if(t instanceof XC){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:d,id:f,popupRef:p},textContent:g,textPosition:v,parent:{page:{pageNumber:x}}}=t;if(!g||g.length===0)return null;r=t={annotationType:ze.FREETEXT,color:Array.from(c),fontSize:o,value:g.join(`
`),position:v,pageIndex:x-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const s=await super.deserialize(t,e,n);return s.#s=t.fontSize,s.#t=ye.makeHexColor(...t.color),s.#e=Qi.#f(t.value),s.annotationElementId=t.id||null,s._initialData=r,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Qi._internalPadding*this.parentScale,n=this.getRect(e,e),r=Ae._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),s={annotationType:ze.FREETEXT,color:r,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.isCopy=!0,s):this.annotationElementId&&!this.#l(s)?null:(s.id=this.annotationElementId,s)}#l(t){const{value:e,fontSize:n,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((o,c)=>o!==r[c])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const s of this.#e.split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}const r=Qi._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ue{static PRECISION=1e-4;toSVGPath(){jn("Abstract method `toSVGPath` must be implemented.")}get box(){jn("Abstract getter `box` must be implemented.")}serialize(t,e){jn("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,s,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c]*r,o[c+1]=n+t[c+1]*s;return o}static _rescaleAndSwap(t,e,n,r,s,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c+1]*r,o[c+1]=n+t[c]*s;return o}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s+=2)r[s]=e+t[s],r[s+1]=n+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,s){switch(s){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,s,o){return[(t+5*n)/6,(e+5*r)/6,(5*n+s)/6,(5*r+o)/6,(n+s)/2,(r+o)/2]}}class Ku{#t;#e=[];#n;#i;#s=[];#r=new Float32Array(18);#o;#a;#h;#c;#d;#u;#f=[];static#l=8;static#p=2;static#g=Ku.#l+Ku.#p;constructor({x:t,y:e},n,r,s,o,c=0){this.#t=n,this.#u=s*r,this.#i=o,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=c,this.#c=Ku.#l*r,this.#h=Ku.#g*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#m(){const t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[n,r,s,o]=this.#t;return[(this.#o+(t[0]-e[0])/2-n)/s,(this.#a+(t[1]-e[1])/2-r)/o,(this.#o+(e[0]-t[0])/2-n)/s,(this.#a+(e[1]-t[1])/2-r)/o]}add({x:t,y:e}){this.#o=t,this.#a=e;const[n,r,s,o]=this.#t;let[c,u,d,f]=this.#r.subarray(8,12);const p=t-d,g=e-f,v=Math.hypot(p,g);if(v<this.#h)return!1;const x=v-this.#c,y=x/v,_=y*p,E=y*g;let T=c,L=u;c=d,u=f,d+=_,f+=E,this.#f?.push(t,e);const O=-E/x,D=_/x,I=O*this.#u,k=D*this.#u;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([d+I,f+k],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([d-I,f-k],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([c+I,u+k],2),this.#s.push(NaN,NaN,NaN,NaN,(c+I-n)/s,(u+k-r)/o),this.#r.set([c-I,u-k],14),this.#e.push(NaN,NaN,NaN,NaN,(c-I-n)/s,(u-k-r)/o)),this.#r.set([T,L,c,u,d,f],6),!this.isEmpty()):(this.#r.set([T,L,c,u,d,f],6),Math.abs(Math.atan2(L-u,T-c)-Math.atan2(E,_))<Math.PI/2?([c,u,d,f]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/s,((u+f)/2-r)/o),[c,u,T,L]=this.#r.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/s,((L+u)/2-r)/o),!0):([T,L,c,u,d,f]=this.#r.subarray(0,6),this.#s.push(((T+5*c)/6-n)/s,((L+5*u)/6-r)/o,((5*c+d)/6-n)/s,((5*u+f)/6-r)/o,((c+d)/2-n)/s,((u+f)/2-r)/o),[d,f,c,u,T,L]=this.#r.subarray(12,18),this.#e.push(((T+5*c)/6-n)/s,((L+5*u)/6-r)/o,((5*c+d)/6-n)/s,((5*u+f)/6-r)/o,((c+d)/2-n)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#v();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(n),n.join(" ")}#v(){const[t,e,n,r]=this.#t,[s,o,c,u]=this.#m();return`M${(this.#r[2]-t)/n} ${(this.#r[3]-e)/r} L${(this.#r[4]-t)/n} ${(this.#r[5]-e)/r} L${s} ${o} L${c} ${u} L${(this.#r[16]-t)/n} ${(this.#r[17]-e)/r} L${(this.#r[14]-t)/n} ${(this.#r[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,n,r,s]=this.#t,o=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[u,d,f,p]=this.#m();t.push(`L${(o[0]-e)/r} ${(o[1]-n)/s} L${u} ${d} L${f} ${p} L${(c[0]-e)/r} ${(c[1]-n)/s}`)}newFreeDrawOutline(t,e,n,r,s,o){return new t3(t,e,n,r,s,o)}getOutlines(){const t=this.#s,e=this.#e,n=this.#r,[r,s,o,c]=this.#t,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=u.length-2;p<g;p+=2)u[p]=(this.#f[p]-r)/o,u[p+1]=(this.#f[p+1]-s)/c;if(u[u.length-2]=(this.#o-r)/o,u[u.length-1]=(this.#a-s)/c,isNaN(n[6])&&!this.isEmpty())return this.#x(u);const d=new Float32Array(this.#s.length+24+this.#e.length);let f=t.length;for(let p=0;p<f;p+=2){if(isNaN(t[p])){d[p]=d[p+1]=NaN;continue}d[p]=t[p],d[p+1]=t[p+1]}f=this.#S(d,f);for(let p=e.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(e[p+g])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[p+g],d[f+1]=e[p+g+1],f+=2}return this.#A(d,f),this.newFreeDrawOutline(d,u,this.#t,this.#d,this.#n,this.#i)}#x(t){const e=this.#r,[n,r,s,o]=this.#t,[c,u,d,f]=this.#m(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(p,t,this.#t,this.#d,this.#n,this.#i)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#S(t,e){const n=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[s,o,c,u]=this.#t,[d,f,p,g]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/c,(n[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-o)/u],e),e+=24}}class t3 extends ue{#t;#e=new Float32Array(4);#n;#i;#s;#r;#o;constructor(t,e,n,r,s,o){super(),this.#o=t,this.#s=e,this.#t=n,this.#r=r,this.#n=s,this.#i=o,this.lastPoint=[NaN,NaN],this.#a(o);const[c,u,d,f]=this.#e;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/d,t[p+1]=(t[p+1]-u)/f;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/d,e[p+1]=(e[p+1]-u)/f}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,n=this.#o.length;e<n;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],s){const o=n-t,c=r-e;let u,d;switch(s){case 0:u=ue._rescale(this.#o,t,r,o,-c),d=ue._rescale(this.#s,t,r,o,-c);break;case 90:u=ue._rescaleAndSwap(this.#o,t,e,o,c),d=ue._rescaleAndSwap(this.#s,t,e,o,c);break;case 180:u=ue._rescale(this.#o,n,e,-o,c),d=ue._rescale(this.#s,n,e,-o,c);break;case 270:u=ue._rescaleAndSwap(this.#o,n,r,-o,-c),d=ue._rescaleAndSwap(this.#s,n,r,-o,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}#a(t){const e=this.#o;let n=e[4],r=e[5];const s=[n,r,n,r];let o=n,c=r;const u=t?Math.max:Math.min;for(let f=6,p=e.length;f<p;f+=6){const g=e[f+4],v=e[f+5];if(isNaN(e[f]))ye.pointBoundingBox(g,v,s),c<v?(o=g,c=v):c===v&&(o=u(o,g));else{const x=[1/0,1/0,-1/0,-1/0];ye.bezierBoundingBox(n,r,...e.slice(f,f+6),x),ye.rectBoundingBox(...x,s),c<x[3]?(o=x[2],c=x[3]):c===x[3]&&(o=u(o,x[2]))}n=g,r=v}const d=this.#e;d[0]=s[0]-this.#n,d[1]=s[1]-this.#n,d[2]=s[2]-s[0]+2*this.#n,d[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[o,c]}get box(){return this.#e}newOutliner(t,e,n,r,s,o=0){return new Ku(t,e,n,r,s,o)}getNewOutline(t,e){const[n,r,s,o]=this.#e,[c,u,d,f]=this.#t,p=s*d,g=o*f,v=n*d+c,x=r*f+u,y=this.newOutliner({x:this.#s[0]*p+v,y:this.#s[1]*g+x},this.#t,this.#r,t,this.#i,e??this.#n);for(let _=2;_<this.#s.length;_+=2)y.add({x:this.#s[_]*p+v,y:this.#s[_+1]*g+x});return y.getOutlines()}}class Ub{#t;#e;#n=[];#i=[];constructor(t,e=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:x,width:y,height:_}of t){const E=Math.floor((v-e)/o)*o,T=Math.ceil((v+y+e)/o)*o,L=Math.floor((x-e)/o)*o,O=Math.ceil((x+_+e)/o)*o,D=[E,L,O,!0],I=[T,L,O,!1];this.#n.push(D,I),ye.rectBoundingBox(E,L,T,O,s)}const c=s[2]-s[0]+2*n,u=s[3]-s[1]+2*n,d=s[0]-n,f=s[1]-n,p=this.#n.at(r?-1:-2),g=[p[0],p[2]];for(const v of this.#n){const[x,y,_]=v;v[0]=(x-d)/c,v[1]=(y-f)/u,v[2]=(_-f)/u}this.#t=new Float32Array([d,f,c,u]),this.#e=g}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#o(e)):(this.#a(e),t.push(...this.#h(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const o of t){const[c,u,d]=o;e.push([c,u,o],[c,d,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const u=e[o][2],d=e[o+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[c,u,d,f,p]=o;n.delete(o);let g=c,v=u;for(s=[c,d],r.push(s);;){let x;if(n.has(f))x=f;else if(n.has(p))x=p;else break;n.delete(x),[c,u,d,f,p]=x,g!==c&&(s.push(g,v,c,v===u?u:d),g=c),v=v===u?d:u}s.push(g,v)}return new kF(r,this.#t,this.#e)}#r(t){const e=this.#i;let n=0,r=e.length-1;for(;n<=r;){const s=n+r>>1,o=e[s][0];if(o===t)return s;o<t?n=s+1:r=s-1}return r+1}#o([,t,e]){const n=this.#r(t);this.#i.splice(n,0,[t,e])}#a([,t,e]){const n=this.#r(t);for(let r=n;r<this.#i.length;r++){const[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}}#h(t){const[e,n,r]=t,s=[[e,n,r]],o=this.#r(r);for(let c=0;c<o;c++){const[u,d]=this.#i[c];for(let f=0,p=s.length;f<p;f++){const[,g,v]=s[f];if(!(d<=g||v<=u)){if(g>=u){if(v>d)s[f][1]=d;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,v>d&&s.push([e,d,v])}}}return s}}class kF extends ue{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let s=2;s<e.length;s+=2){const o=e[s],c=e[s+1];o===n?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${o}`),n=o)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],s){const o=[],c=n-t,u=r-e;for(const d of this.#e){const f=new Array(d.length);for(let p=0;p<d.length;p+=2)f[p]=t+d[p]*c,f[p+1]=r-d[p+1]*u;o.push(f)}return o}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Hb extends Ku{newFreeDrawOutline(t,e,n,r,s,o){return new jF(t,e,n,r,s,o)}}class jF extends t3{newOutliner(t,e,n,r,s,o=0){return new Hb(t,e,n,r,s,o)}}class js{#t=null;#e=null;#n;#i=null;#s=!1;#r=!1;#o=null;#a;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return an(this,"_keyboardManager",new Qp([[["Escape","mac+Escape"],js.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],js.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],js.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],js.prototype._moveToPrevious],[["Home","mac+Home"],js.prototype._moveToBeginning],[["End","mac+End"],js.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#d=cn.HIGHLIGHT_COLOR,this.#o=t):(this.#r=!0,this.#d=cn.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#a=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",js.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",ca,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#c.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",js.#u[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#n),s.addEventListener("click",this.#l.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#l(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#l(e,t)}_moveToNext(t){if(!this.#v){this.#g(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#g(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#g(t);return}this.#i.lastChild?.focus()}#p(t){js._keyboardManager.exec(this,t)}#g(t){if(this.#v){this.hideDropdown();return}if(this.#s=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#m(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const n of this.#i.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class Ri extends Ae{#t=null;#e=0;#n;#i=null;#s=null;#r=null;#o=null;#a=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#l;#p=null;#g="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=ze.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ri.prototype;return an(this,"_keyboardManager",new Qp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ri._defaultColor,this.#m=t.thickness||Ri._defaultThickness,this.#l=t.opacity||Ri._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#g=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#y(t),this.#T()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#a=t.focusOffset,this.#b(),this.#T(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new Ub(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new Ub(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();const{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#c=t;const r=1.5;if(this.#r=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#i=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ri.#E(this.#c.box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ri.#E(this.#r.box,f),path:{d:this.#r.toSVGPath()}})}const[s,o,c,u]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[f,p]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*p/f,this.height=u*f/p;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[f,p]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*p/f,this.height=u*f/p;break}}const{lastPoint:d}=this.#r;this.#f=[(d[0]-s)/c,(d[1]-o)/u]}static initialize(t,e){Ae.initialize(t,e),Ri._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case cn.HIGHLIGHT_DEFAULT_COLOR:Ri._defaultColor=e;break;case cn.HIGHLIGHT_THICKNESS:Ri._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case cn.HIGHLIGHT_COLOR:this.#x(e);break;case cn.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[cn.HIGHLIGHT_DEFAULT_COLOR,Ri._defaultColor],[cn.HIGHLIGHT_THICKNESS,Ri._defaultThickness]]}get propertiesToUpdate(){return[[cn.HIGHLIGHT_COLOR,this.color||Ri._defaultColor],[cn.HIGHLIGHT_THICKNESS,this.#m||Ri._defaultThickness],[cn.HIGHLIGHT_FREE,this.#u]]}#x(t){const e=(s,o)=>{this.color=s,this.#l=o,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:s,"fill-opacity":o}}),this.#s?.updateColor(s)},n=this.color,r=this.#l;this.addCommands({cmd:e.bind(this,t,Ri._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:cn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#A(t){const e=this.#m,n=r=>{this.#m=r,this.#S(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:cn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#s=new js({editor:this}),t.addColorPicker(this.#s)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#N(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#T(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#N():t&&(this.#T(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#S(t){if(!this.#u)return;this.#y({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#N(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#T(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#l},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#E([t,e,n,r],s){switch(s){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=Ri.#E(this.#c.box,t)):n=Ri.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Ri.#E(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#g&&(t.setAttribute("aria-label",this.#g),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),RC(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){Ri._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#a)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#M(){return this.#u?this.rotation:0}#P(){if(this.#u)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:d,width:f,height:p}of s){const g=u*t+n,v=(1-d)*e+r;o[c]=o[c+4]=g,o[c+1]=o[c+3]=v,o[c+2]=o[c+6]=g+f*t,o[c+5]=o[c+7]=v-p*e,c+=8}return o}#D(t){return this.#c.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:r,y:s}){const{x:o,y:c,width:u,height:d}=n.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),g=v=>{f.abort(),this.#_(t,v)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",Ti,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ca,{signal:p}),n.addEventListener("pointermove",this.#z.bind(this,t),{signal:p}),this._freeHighlight=new Hb({x:r,y:s},[o,c,u,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof QC){const{data:{quadPoints:x,rect:y,rotation:_,id:E,color:T,opacity:L,popupRef:O},parent:{page:{pageNumber:D}}}=t;r=t={annotationType:ze.HIGHLIGHT,color:Array.from(T),opacity:L,quadPoints:x,boxes:null,pageIndex:D-1,rect:y.slice(0),rotation:_,id:E,deleted:!1,popupRef:O}}else if(t instanceof b2){const{data:{inkLists:x,rect:y,rotation:_,id:E,color:T,borderStyle:{rawWidth:L},popupRef:O},parent:{page:{pageNumber:D}}}=t;r=t={annotationType:ze.HIGHLIGHT,color:Array.from(T),thickness:L,inkLists:x,boxes:null,pageIndex:D-1,rect:y.slice(0),rotation:_,id:E,deleted:!1,popupRef:O}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=t,d=await super.deserialize(t,e,n);d.color=ye.makeHexColor(...s),d.#l=u||1,c&&(d.#m=t.thickness),d.annotationElementId=t.id||null,d._initialData=r;const[f,p]=d.pageDimensions,[g,v]=d.pageTranslation;if(o){const x=d.#n=[];for(let y=0;y<o.length;y+=8)x.push({x:(o[y]-g)/f,y:1-(o[y+1]-v)/p,width:(o[y+2]-o[y])/f,height:(o[y+1]-o[y+5])/p});d.#b(),d.#T(),d.rotate(d.rotation)}else if(c){d.#u=!0;const x=c[0],y={x:x[0]-g,y:p-(x[1]-v)},_=new Hb(y,[0,0,f,p],1,d.#m/2,!0,.001);for(let L=0,O=x.length;L<O;L+=2)y.x=x[L]-g,y.y=p-(x[L+1]-v),_.add(y);const{id:E,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);d.#y({highlightOutlines:_.getOutlines(),highlightId:E,clipPathId:T}),d.#T(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=Ae._colorManager.convert(this.color),r={annotationType:ze.HIGHLIGHT,color:n,opacity:this.#l,thickness:this.#m,quadPoints:this.#P(),outlines:this.#D(e),pageIndex:this.pageIndex,rect:e,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#w(r)?null:(r.id=this.annotationElementId,r)}#w(t){const{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class e3{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){jn("Not implemented")}}class Le extends Ae{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#o=null;static#a=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#g(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(Le._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))n.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){jn("Not implemented")}static get typesMap(){jn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Le.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,s=r[e],o=c=>{r.updateProperty(e,c);const u=this.#t.updateProperty(e,c);u&&this.#g(u),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#g(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#l([t,e,n,r]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(o/s),r*(s/o)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(o/s),r*(s/o)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(s/o),r*(o/s)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(s/o),r*(o/s)];default:return[t,e,n,r]}}#g(t){if([this.x,this.y,this.width,this.height]=this.#l(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(c/u),r*(u/c),n*(c/u)];case 5:return[1-e,t,n*(c/u),r*(u/c)];case 6:return[1-t-r*(u/c),1-e,r*(u/c),n*(c/u)];case 7:return[e-n*(c/u),1-t-r*(u/c),n*(c/u),r*(u/c)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(u/c),e,r*(u/c),n*(c/u)];case 13:return[1-e-n*(c/u),t-r*(u/c),n*(c/u),r*(u/c)];case 14:return[1-t,1-e-n*(c/u),r*(u/c),n*(c/u)];case 15:return[e,1-t,n*(c/u),r*(u/c)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#g(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,s){jn("Not implemented")}static startDrawing(t,e,n,r){const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:d}=r;if(Le.#o&&Le.#o!==d)return;const{viewport:{rotation:f}}=t,{width:p,height:g}=s.getBoundingClientRect(),v=Le.#i=new AbortController,x=t.combinedSignal(v);if(Le.#r||=u,Le.#o??=d,window.addEventListener("pointerup",y=>{Le.#r===y.pointerId?this._endDraw(y):Le.#a?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointercancel",y=>{Le.#r===y.pointerId?this._currentParent.endDrawingSession():Le.#a?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointerdown",y=>{Le.#o===y.pointerType&&((Le.#a||=new Set).add(y.pointerId),Le.#n.isCancellable()&&(Le.#n.removeLastElement(),Le.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",ca,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",y=>{y.timeStamp===Le.#h&&Ti(y)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),Le.#n){t.drawLayer.updateProperties(this._currentDrawId,Le.#n.startNew(o,c,p,g,f));return}e.updateUIForDefaultProperties(this),Le.#n=this.createDrawerInstance(o,c,p,g,f),Le.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Le.#s.toSVGProperties(),Le.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Le.#h=-1,!Le.#n)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(Le.#r===r){if(Le.#a?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Le.#n.add(e,n)),Le.#h=t.timeStamp,Ti(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Le.#n=null,Le.#s=null,Le.#o=null,Le.#h=NaN),Le.#i&&(Le.#i.abort(),Le.#i=null,Le.#r=NaN,Le.#a=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Le.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Le.#n,r=this._currentDrawId,s=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:cn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(cn.DRAW_STEP),!Le.#n.isEmpty()){const{pageDimensions:[n,r],scale:s}=e,o=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Le.#n.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:Le.#s,mustBeCommitted:!t});return this._cleanup(!0),o}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,s,o){jn("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:c}}=e.viewport,u=this.deserializeDraw(o,c,r,s,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#c({drawOutlines:u}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,n,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class IF{#t=new Float64Array(6);#e;#n;#i;#s;#r;#o="";#a=0;#h=new em;#c;#d;constructor(t,e,n,r,s,o){this.#c=n,this.#d=r,this.#i=s,this.#s=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#n=[{line:c,points:this.#r}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#u(t,e){return ue._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#u(t,e);const[n,r,s,o]=this.#t.subarray(2,6),c=t-s,u=e-o;return Math.hypot(this.#c*c,this.#d*u)<=2?null:(this.#r.push(t,e),isNaN(n)?(this.#t.set([s,o,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,s,o,t,e],0),this.#e.push(...ue.createBezierPoints(n,r,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,s){this.#c=n,this.#d=r,this.#i=s,[t,e]=this.#u(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:o,points:this.#r}),this.#t.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#r=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:r}=this.#n[t];this.#e=n,this.#r=r,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=ue.svgRound(this.#e[4]),e=ue.svgRound(this.#e[5]);if(this.#r.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#r.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${e}`,this.#a=6}if(this.#r.length===4){const r=ue.svgRound(this.#e[10]),s=ue.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${s}`,this.#a=12,this.#o}const n=[];this.#a===0&&(n.push(`M ${t} ${e}`),this.#a=6);for(let r=this.#a,s=this.#e.length;r<s;r+=6){const[o,c,u,d,f,p]=this.#e.slice(r,r+6).map(ue.svgRound);n.push(`C${o} ${c} ${u} ${d} ${f} ${p}`)}return this.#o+=n.join(" "),this.#a=this.#e.length,this.#o}getOutlines(t,e,n,r){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#h.build(this.#n,t,e,n,this.#i,this.#s,r),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class em extends ue{#t;#e=0;#n;#i;#s;#r;#o;#a;#h;build(t,e,n,r,s,o,c){this.#s=e,this.#r=n,this.#o=r,this.#a=s,this.#h=o,this.#n=c??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ue.svgRound(e[4])} ${ue.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ue.svgRound(e[10])} ${ue.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[s,o,c,u,d,f]=e.subarray(n,n+6).map(ue.svgRound);t.push(`C${s} ${o} ${c} ${u} ${d} ${f}`)}}return t.join("")}serialize([t,e,n,r],s){const o=[],c=[],[u,d,f,p]=this.#d();let g,v,x,y,_,E,T,L,O;switch(this.#a){case 0:O=ue._rescale,g=t,v=e+r,x=n,y=-r,_=t+u*n,E=e+(1-d-p)*r,T=t+(u+f)*n,L=e+(1-d)*r;break;case 90:O=ue._rescaleAndSwap,g=t,v=e,x=n,y=r,_=t+d*n,E=e+u*r,T=t+(d+p)*n,L=e+(u+f)*r;break;case 180:O=ue._rescale,g=t+n,v=e,x=-n,y=r,_=t+(1-u-f)*n,E=e+d*r,T=t+(1-u)*n,L=e+(d+p)*r;break;case 270:O=ue._rescaleAndSwap,g=t+n,v=e+r,x=-n,y=-r,_=t+(1-d-p)*n,E=e+(1-u-f)*r,T=t+(1-d)*n,L=e+(1-u)*r;break}for(const{line:D,points:I}of this.#i)o.push(O(D,g,v,x,y,s?new Array(D.length):null)),c.push(O(I,g,v,x,y,s?new Array(I.length):null));return{lines:o,points:c,rect:[_,E,T,L]}}static deserialize(t,e,n,r,s,{paths:{lines:o,points:c},rotation:u,thickness:d}){const f=[];let p,g,v,x,y;switch(u){case 0:y=ue._rescale,p=-t/n,g=e/r+1,v=1/n,x=-1/r;break;case 90:y=ue._rescaleAndSwap,p=-e/r,g=-t/n,v=1/r,x=1/n;break;case 180:y=ue._rescale,p=t/n+1,g=-e/r,v=-1/n,x=1/r;break;case 270:y=ue._rescaleAndSwap,p=e/r+1,g=t/n+1,v=-1/r,x=-1/n;break}if(!o){o=[];for(const E of c){const T=E.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const L=new Float32Array(3*(T-2));o.push(L);let[O,D,I,k]=E.subarray(0,4);L.set([NaN,NaN,NaN,NaN,O,D],0);for(let j=4;j<T;j+=2){const K=E[j],st=E[j+1];L.set(ue.createBezierPoints(O,D,I,k,K,st),(j-2)*3),[O,D,I,k]=[I,k,K,st]}}}for(let E=0,T=o.length;E<T;E++)f.push({line:y(o[E].map(L=>L??NaN),p,g,v,x),points:y(c[E].map(L=>L??NaN),p,g,v,x)});const _=new this.prototype.constructor;return _.build(f,n,r,1,u,d,s),_}#c(t=this.#h){const e=this.#n+t/2*this.#o;return this.#a%180===0?[e/this.#s,e/this.#r]:[e/this.#r,e/this.#s]}#d(){const[t,e,n,r]=this.#t,[s,o]=this.#c(0);return[t+s,e+o,n-2*s,r-2*o]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)ye.pointBoundingBox(r[c],r[c+1],t);continue}let s=r[4],o=r[5];for(let c=6,u=r.length;c<u;c+=6){const[d,f,p,g,v,x]=r.subarray(c,c+6);ye.bezierBoundingBox(s,o,d,f,p,g,v,x,t),s=v,o=x}}const[e,n]=this.#c();t[0]=zr(t[0]-e,0,1),t[1]=zr(t[1]-n,0,1),t[2]=zr(t[2]+e,0,1),t[3]=zr(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#c();this.#h=t;const[r,s]=this.#c(),[o,c]=[r-e,s-n],u=this.#t;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([t,e],n){const[r,s]=this.#c();this.#s=t,this.#r=e,this.#o=n;const[o,c]=this.#c(),u=o-r,d=c-s,f=this.#t;return f[0]-=u,f[1]-=d,f[2]+=2*u,f[3]+=2*d,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ue.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,s=0,o=0,c=0,u=0;switch(this.#e){case 90:r=e/t,s=-t/e,c=t;break;case 180:n=-1,o=-1,c=t,u=e;break;case 270:r=-e/t,s=t/e,u=e;break;default:return""}return`matrix(${n} ${r} ${s} ${o} ${ue.svgRound(c)} ${ue.svgRound(u)})`}getPathResizingSVGProperties([t,e,n,r]){const[s,o]=this.#c(),[c,u,d,f]=this.#t;if(Math.abs(d-s)<=ue.PRECISION||Math.abs(f-o)<=ue.PRECISION){const y=t+n/2-(c+d/2),_=e+r/2-(u+f/2);return{path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${_})`}}}const p=(n-2*s)/(d-2*s),g=(r-2*o)/(f-2*o),v=d/n,x=f/r;return{path:{"transform-origin":`${ue.svgRound(c)} ${ue.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${x}) translate(${ue.svgRound(s)} ${ue.svgRound(o)}) scale(${p} ${g}) translate(${ue.svgRound(-s)} ${ue.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[s,o]=this.#c(),c=this.#t,[u,d,f,p]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=r,Math.abs(f-s)<=ue.PRECISION||Math.abs(p-o)<=ue.PRECISION){const _=t+n/2-(u+f/2),E=e+r/2-(d+p/2);for(const{line:T,points:L}of this.#i)ue._translate(T,_,E,T),ue._translate(L,_,E,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*s)/(f-2*s),v=(r-2*o)/(p-2*o),x=-g*(u+s)+t+s,y=-v*(d+o)+e+o;if(g!==1||v!==1||x!==0||y!==0)for(const{line:_,points:E}of this.#i)ue._rescale(_,x,y,g,v,_),ue._rescale(E,x,y,g,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,s]=n,o=this.#t,c=t-o[0],u=e-o[1];if(this.#s===r&&this.#r===s)for(const{line:d,points:f}of this.#i)ue._translate(d,c,u,d),ue._translate(f,c,u,f);else{const d=this.#s/r,f=this.#r/s;this.#s=r,this.#r=s;for(const{line:p,points:g}of this.#i)ue._rescale(p,c,u,d,f,p),ue._rescale(g,c,u,d,f,g);o[2]*=d,o[3]*=f}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t[0])} ${ue.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class z0 extends e3{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Ae._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new z0(this._viewParameters);return t.updateAll(this),t}}class w2 extends Le{static _type="ink";static _editorType=ze.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Ae.initialize(t,e),this._defaultDrawingOptions=new z0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return an(this,"typesMap",new Map([[cn.INK_THICKNESS,"stroke-width"],[cn.INK_COLOR,"stroke"],[cn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,s){return new IF(t,e,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,s,o){return em.deserialize(t,e,n,r,s,o)}static async deserialize(t,e,n){let r=null;if(t instanceof b2){const{data:{inkLists:o,rect:c,rotation:u,id:d,color:f,opacity:p,borderStyle:{rawWidth:g},popupRef:v},parent:{page:{pageNumber:x}}}=t;r=t={annotationType:ze.INK,color:Array.from(f),thickness:g,opacity:p,paths:{points:o},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:u,id:d,deleted:!1,popupRef:v}}const s=await super.deserialize(t,e,n);return s.annotationElementId=t.id||null,s._initialData=r,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=w2.getDefaultDrawingOptions({stroke:ye.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:ze.INK,color:Ae._colorManager.convert(s),opacity:o,thickness:c,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==e[c])||t.thickness!==n||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class qb extends em{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const wg=8,op=3;class $u{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,n,r,s,o,c){const u=this.#e(n,r,s,o);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=this.#n[2*f],g=this.#n[2*f+1];if(t[(n+p)*e+(r+g)]!==0)return f}return-1}static#s(t,e,n,r,s,o,c){const u=this.#e(n,r,s,o);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=this.#n[2*f],g=this.#n[2*f+1];if(t[(n+p)*e+(r+g)]!==0)return f}return-1}static#r(t,e,n,r){const s=t.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=t[f]<=r?1:0;for(let f=1;f<n-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*n-1-f]=0;let c=1,u;const d=[];for(let f=1;f<n-1;f++){u=1;for(let p=1;p<e-1;p++){const g=f*e+p,v=o[g];if(v===0)continue;let x=f,y=p;if(v===1&&o[g-1]===0)c+=1,y-=1;else if(v>=1&&o[g+1]===0)c+=1,y+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const _=[p,f],E=y===p+1,T={isHole:E,points:_,id:c,parent:0};d.push(T);let L;for(const B of d)if(B.id===u){L=B;break}L?L.isHole?T.parent=E?L.parent:u:T.parent=E?u:L.parent:T.parent=E?u:0;const O=this.#i(o,e,f,p,x,y,0);if(O===-1){o[g]=-c,o[g]!==1&&(u=Math.abs(o[g]));continue}let D=this.#n[2*O],I=this.#n[2*O+1];const k=f+D,j=p+I;x=k,y=j;let K=f,st=p;for(;;){const B=this.#s(o,e,K,st,x,y,1);D=this.#n[2*B],I=this.#n[2*B+1];const G=K+D,it=st+I;_.push(it,G);const nt=K*e+st;if(o[nt+1]===0?o[nt]=-c:o[nt]===1&&(o[nt]=c),G===f&&it===p&&K===k&&st===j){o[g]!==1&&(u=Math.abs(o[g]));break}else x=K,y=st,K=G,st=it}}}return d}static#o(t,e,n,r){if(n-e<=4){for(let k=e;k<n-2;k+=2)r.push(t[k],t[k+1]);return}const s=t[e],o=t[e+1],c=t[n-4]-s,u=t[n-3]-o,d=Math.hypot(c,u),f=c/d,p=u/d,g=f*o-p*s,v=u/c,x=1/d,y=Math.atan(v),_=Math.cos(y),E=Math.sin(y),T=x*(Math.abs(_)+Math.abs(E)),L=x*(1-T+T**2),O=Math.max(Math.atan(Math.abs(E+_)*L),Math.atan(Math.abs(E-_)*L));let D=0,I=e;for(let k=e+2;k<n-2;k+=2){const j=Math.abs(g-f*t[k+1]+p*t[k]);j>D&&(I=k,D=j)}D>(d*O)**2?(this.#o(t,e,I+2,r),this.#o(t,I,n,r)):r.push(s,o)}static#a(t){const e=[],n=t.length;return this.#o(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#h(t,e,n,r,s,o){const c=new Float32Array(o**2),u=-2*r**2,d=o>>1;for(let y=0;y<o;y++){const _=(y-d)**2;for(let E=0;E<o;E++)c[y*o+E]=Math.exp((_+(E-d)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let y=0;y<256;y++)f[y]=Math.exp(y**2/p);const g=t.length,v=new Uint8Array(g),x=new Uint32Array(256);for(let y=0;y<n;y++)for(let _=0;_<e;_++){const E=y*e+_,T=t[E];let L=0,O=0;for(let I=0;I<o;I++){const k=y+I-d;if(!(k<0||k>=n))for(let j=0;j<o;j++){const K=_+j-d;if(K<0||K>=e)continue;const st=t[k*e+K],B=c[I*o+j]*f[Math.abs(st-T)];L+=st*B,O+=B}}const D=v[E]=Math.round(L/O);x[D]++}return[v,x]}static#c(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let c=0,u=n.length;c<u;c++){if(t[(c<<2)+3]===0){r=n[c]=255;continue}const f=n[c]=t[c<<2];f>r&&(r=f),f<s&&(s=f)}const o=255/(r-s);for(let c=0;c<e;c++)n[c]=(n[c]-s)*o;return n}static#u(t){let e,n=-1/0,r=-1/0;const s=t.findIndex(u=>u!==0);let o=s,c=s;for(e=s;e<256;e++){const u=t[e];u>n&&(e-o>r&&(r=e-o,c=e-1),n=u,o=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:s}=this.#t;let o=n,c=r;if(n>s||r>s){let g=n,v=r,x=Math.log2(Math.max(n,r)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let E=0;E<x;E++){o=Math.ceil(g/2),c=Math.ceil(v/2);const T=new OffscreenCanvas(o,c);T.getContext("2d").drawImage(t,0,0,g,v,0,0,o,c),g=o,v=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const _=Math.min(s/o,s/c);o=Math.round(o*_),c=Math.round(c*_)}const d=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,o,c);const f=d.getImageData(0,0,o,c).data;return[this.#d(f),o,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},s,o,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,g=f.font=`${n} ${r} ${p}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:_,fontBoundingBoxAscent:E,fontBoundingBoxDescent:T,width:L}=f.measureText(t),O=1.5,D=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,L)*O),I=Math.ceil(Math.max(Math.abs(y)+Math.abs(_)||p,Math.abs(E)+Math.abs(T)||p)*O);d=new OffscreenCanvas(D,I),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,D,I),f.fillStyle="black",f.fillText(t,D*(O-1)/2,I*(3-O)/2);const k=this.#d(f.getImageData(0,0,D,I).data),j=this.#c(k),K=this.#u(j),st=this.#r(k,D,I,K);return this.processDrawnLines({lines:{curves:st,width:D,height:I},pageWidth:s,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,s){const[o,c,u]=this.#f(t),[d,f]=this.#h(o,c,u,Math.hypot(c,u)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#u(f),g=this.#r(d,c,u,p);return this.processDrawnLines({lines:{curves:g,width:c,height:u},pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:o,areContours:c}){r%180!==0&&([e,n]=[n,e]);const{curves:u,width:d,height:f}=t,p=t.thickness??0,g=[],v=Math.min(e/d,n/f),x=v/e,y=v/n,_=[];for(const{points:T}of u){const L=o?this.#a(T):T;if(!L)continue;_.push(L);const O=L.length,D=new Float32Array(O),I=new Float32Array(3*(O===2?2:O-2));if(g.push({line:I,points:D}),O===2){D[0]=L[0]*x,D[1]=L[1]*y,I.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[k,j,K,st]=L;k*=x,j*=y,K*=x,st*=y,D.set([k,j,K,st],0),I.set([NaN,NaN,NaN,NaN,k,j],0);for(let B=4;B<O;B+=2){const G=D[B]=L[B]*x,it=D[B+1]=L[B+1]*y;I.set(ue.createBezierPoints(k,j,K,st,G,it),(B-2)*3),[k,j,K,st]=[K,st,G,it]}}if(g.length===0)return null;const E=c?new qb:new em;return E.build(g,e,n,1,r,c?0:p,s),{outline:E,newCurves:_,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:s}){let o=1/0,c=-1/0,u=0;for(const L of t){u+=L.length;for(let O=2,D=L.length;O<D;O++){const I=L[O]-L[O-2];o=Math.min(o,I),c=Math.max(c,I)}}let d;o>=-128&&c<=127?d=Int8Array:o>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,p=wg+op*f,g=new Uint32Array(p);let v=0;g[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=e?0:1,g[v++]=Math.max(0,Math.floor(n??0)),g[v++]=f,g[v++]=d.BYTES_PER_ELEMENT;for(const L of t)g[v++]=L.length-2,g[v++]=L[0],g[v++]=L[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(g);const _=d.prototype.constructor;for(const L of t){const O=new _(L.length-2);for(let D=2,I=L.length;D<I;D++)O[D-2]=L[D]-L[D-2];y.write(O)}y.close();const E=await new Response(x.readable).arrayBuffer(),T=new Uint8Array(E);return EC(T)}static async decompressSignature(t){try{const e=fI(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,c=0;for await(const L of n)o||=new Uint8Array(new Uint32Array(L.buffer,0,4)[0]),o.set(L,c),c+=L.length;const u=new Uint32Array(o.buffer,0,o.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],g=u[4]===0,v=u[5],x=u[6],y=u[7],_=[],E=(wg+op*x)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(y){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,E);break}c=0;for(let L=0;L<x;L++){const O=u[op*L+wg],D=new Float32Array(O+2);_.push(D);for(let I=0;I<op-1;I++)D[I]=u[op*L+wg+I+1];for(let I=0;I<O;I++)D[I+2]=D[I]+T[c++]}return{areContours:g,thickness:v,outlines:_,width:f,height:p}}catch(e){return He(`decompressSignature: ${e}`),null}}}class x2 extends e3{constructor(){super(),super.updateProperties({fill:Ae._defaultLineColor,"stroke-width":0})}clone(){const t=new x2;return t.updateAll(this),t}}class A2 extends z0{constructor(t){super(t),super.updateProperties({stroke:Ae._defaultLineColor,"stroke-width":1})}clone(){const t=new A2(this._viewParameters);return t.updateAll(this),t}}class zo extends Le{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=ze.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Ae.initialize(t,e),this._defaultDrawingOptions=new x2,this._defaultDrawnSignatureOptions=new A2(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return an(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:s,areContours:o,description:c,uuid:u,heightInPage:d}=this.#n,{rawDims:{pageWidth:f,pageHeight:p},rotation:g}=this.parent.viewport,v=$u.processDrawnLines({lines:r,pageWidth:f,pageHeight:p,rotation:g,innerMargin:zo._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(v,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:s}=this.#n,o=Math.max(r,s),c=$u.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:n,width:r,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,n,r){const{x:s,y:o}=this,{outline:c}=this.#n=t;this.#t=c instanceof qb,this.#e=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let u;this.#t?u=zo.getDefaultDrawingOptions():(u=zo._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[d,f]=this.parentDimensions,[,p]=this.pageDimensions;let g=e/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(d*this.width,f*this.height),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return $u.process(t,e,n,r,zo._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return $u.extractContoursFromText(t,e,n,r,s,zo._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return $u.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:zo._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=zo.getDefaultDrawingOptions():(this._drawingOptions=zo._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o={annotationType:ze.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:e,points:n},o.uuid=this.#i,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,s,o){return o.areContours?qb.deserialize(t,e,n,r,s,o):em.deserialize(t,e,n,r,s,o)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class FF extends Ae{#t=null;#e=null;#n=null;#i=null;#s=null;#r="";#o=null;#a=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=ze.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Ae.initialize(t,e)}static isHandlingMimeForPasting(t){return i0.includes(t)}static paste(t,e){e.pasteEditor({mode:ze.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#r=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),e&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#l(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=i0.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#l();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#l(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#s||this.#e||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#a||(this.#t?this.#p():this.#l()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#a=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,s]=this.pageDimensions,o=.75;if(this.width)e=this.width*r,n=this.height*s;else if(e>o*r||n>o*s){const f=Math.min(o*r/e,o*s/n);e*=f,n*=f}const[c,u]=this.parentDimensions;this.setDims(e*c/r,n*u/s),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=e/r,this.height=n/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r)}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:s}=this.#t,o=new Wa;let c=this.#t,u=r,d=s,f=null;if(e){if(r>e||s>e){const I=Math.min(e/r,e/s);u=Math.floor(r*I),d=Math.floor(s*I)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*o.sx),v=f.height=Math.ceil(d*o.sy);this.#c||(c=this.#g(g,v));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",_="#42414d");const E=15,T=E*o.sx,L=E*o.sy,O=new OffscreenCanvas(T*2,L*2),D=O.getContext("2d");D.fillStyle=y,D.fillRect(0,0,T*2,L*2),D.fillStyle=_,D.fillRect(0,0,T,L),D.fillRect(T,L,T,L),x.fillStyle=x.createPattern(O,"repeat"),x.fillRect(0,0,g,v),x.drawImage(c,0,0,c.width,c.height,0,0,g,v)}let p=null;if(n){let g,v;if(o.symmetric&&c.width<t&&c.height<t)g=c.width,v=c.height;else if(c=this.#t,r>t||s>t){const _=Math.min(t/r,t/s);g=Math.floor(r*_),v=Math.floor(s*_),this.#c||(c=this.#g(g,v))}const y=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,g,v),p={width:g,height:v,data:y.getImageData(0,0,g,v).data}}return{canvas:f,width:u,height:d,imageData:p}}#g(t,e){const{width:n,height:r}=this.#t;let s=n,o=r,c=this.#t;for(;s>2*t||o>2*e;){const u=s,d=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(c,0,0,u,d,0,0,s,o),c=f.transferToImageBitmap()}return c}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,s=new Wa,o=Math.ceil(n*t*s.sx),c=Math.ceil(r*e*s.sy),u=this.#o;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const d=this.#c?this.#t:this.#g(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,c)}#v(t){if(t){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*mh.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*mh.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,s=!1;if(t instanceof ZC){const{data:{rect:y,rotation:_,id:E,structParent:T,popupRef:L},container:O,parent:{page:{pageNumber:D}},canvas:I}=t;let k,j;I?(delete t.canvas,{id:k,bitmap:j}=n.imageManager.getFromCanvas(O.id,I),I.remove()):(s=!0,t._hasNoCanvas=!0);const K=(await e._structTree.getAriaAttributes(`${r2}${E}`))?.get("aria-label")||"";r=t={annotationType:ze.STAMP,bitmapId:k,bitmap:j,pageIndex:D-1,rect:y.slice(0),rotation:_,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:K},isSvg:!1,structParent:T,popupRef:L}}const o=await super.deserialize(t,e,n),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:g}=t;s?(n.addMissingCanvas(t.id,o),o.#a=!0):f&&n.imageManager.isValidId(f)?(o.#e=f,u&&(o.#t=u)):o.#i=d,o.#c=p;const[v,x]=o.pageDimensions;return o.width=(c[2]-c[0])/v,o.height=(c[3]-c[1])/x,o.annotationElementId=t.id||null,g&&(o.altTextData=g),o._initialData=r,o.#d=!!r,o}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:ze.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(n);if(c.isSame)return null;c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const o=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:o,serialized:n}),n.bitmap=this.#v(!1);else if(this.#c){const c=e.stamps.get(this.#e);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Ho{#t;#e=!1;#n=null;#i=null;#s=null;#r=new Map;#o=!1;#a=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#l;static _initialized=!1;static#p=new Map([Qi,w2,FF,Ri,zo].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:u,viewport:d,l10n:f}){const p=[...Ho.#p.values()];if(!Ho._initialized){Ho._initialized=!0;for(const g of p)g.initialize(f,t)}t.registerEditorTypes(p),this.#l=t,this.pageIndex=e,this.div=n,this.#t=s,this.#n=o,this.viewport=d,this.#u=u,this.drawLayer=c,this._structTree=r,this.#l.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#l.getMode()===ze.NONE}updateToolbar(t){this.#l.updateToolbar(t)}updateMode(t=this.#l.getMode()){switch(this.#y(),t){case ze.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Ho.#p.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#l.setEditingState(t)}addCommands(t){this.#l.addCommands(t)}cleanUndoStack(t){this.#l.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#r.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#l.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#l.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of this.#r.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const s of r){const{id:o}=s.data;if(this.#l.isDeletedAnnotationElement(o))continue;let c=e.get(o);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=t.get(o),c&&(this.#l.addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Ho.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#l.getActive()!==t&&this.#l.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#l.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#g.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#g(t){this.#l.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:n}=mr.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#l.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ri.startHighlighting(this,this.#l.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#l._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#l.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#r.set(t.id,t);const{annotationElementId:e}=t;e&&this.#l.isDeletedAnnotationElement(e)&&this.#l.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#a&&t.annotationElementId&&this.#l.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#l.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#l.addDeletedAnnotationElement(t.annotationElementId),Ae.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#l.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#l.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#l._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#l.getId()}get#m(){return Ho.#p.get(this.#l.getMode())}combinedSignal(t){return this.#l.combinedSignal(t)}#v(t){const e=this.#m;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#m?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#l.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#b(),s=this.getNextId(),o=this.#v({parent:this,id:s,x:n,y:r,uiManager:this.#l,isCentered:!0,...e});o&&this.add(o)}async deserialize(t){return await Ho.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#l)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),s=this.#v({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#l,isCentered:e,...n});return s&&this.add(s),s}#b(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,e+r),d=(s+c)/2-t,f=(o+u)/2-e,[p,g]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:g}}addNewEditor(t={}){this.createAndAddNewEditor(this.#b(),!0,t)}setSelected(t){this.#l.setSelected(t)}toggleSelected(t){this.#l.toggleSelected(t)}unselect(t){this.#l.unselect(t)}pointerup(t){const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#m?.isDrawer&&this.#m.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#l.getMode();if(n===ze.STAMP||n===ze.SIGNATURE){this.#l.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#l.getMode()===ze.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#m?.isDrawer){this.startDrawingSession(t);return}const n=this.#l.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#m.startDrawing(this,this.#l,!1,t);return}this.#l.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#l.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#m.startDrawing(this,this.#l,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#l.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#m.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#l.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#m.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#l.getActive()?.parent===this&&(this.#l.commitOrRemove(),this.#l.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#r.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#l.removeLayer(this)}#y(){for(const t of this.#r.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Kc(this.div,t);for(const e of this.#l.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#l.commitOrRemove(),this.#y();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Kc(this.div,{rotation:n}),e!==n)for(const r of this.#r.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#l.viewParameters.realScale}}class hr{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return an(this,"_svgFactory",new Lp)}static#s(t,[e,n,r,s]){const{style:o}=t;o.top=`${100*n}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#r(){const t=hr._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const n=hr._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=hr._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#a(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=hr.#i++,s=this.#r(),o=hr._svgFactory.createElement("defs");s.append(o);const c=hr._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,c);const d=n?this.#o(o,u):null,f=hr._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=hr.#i++,r=this.#r(),s=hr._svgFactory.createElement("defs");r.append(s);const o=hr._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=hr._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=hr._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=hr._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=hr._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return r.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:s,path:o}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#a(c,n),r&&hr.#s(c,r),s){const{classList:u}=c;for(const[d,f]of Object.entries(s))u.toggle(d,f)}if(o){const d=c.firstChild.firstChild;this.#a(d,o)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Ub};globalThis.pdfjsLib={AbortException:zl,AnnotationEditorLayer:Ho,AnnotationEditorParamsType:cn,AnnotationEditorType:ze,AnnotationEditorUIManager:Ul,AnnotationLayer:y2,AnnotationMode:Vo,AnnotationType:Ci,build:$C,ColorPicker:js,createValidAbsoluteUrl:e2,DOMSVGFactory:Lp,DrawLayer:hr,FeatureTest:mr,fetchData:rf,getDocument:f2,getFilenameFromUrl:_C,getPdfFilenameFromUrl:NC,getUuid:i2,getXfaPageViewport:CC,GlobalWorkerOptions:la,ImageKind:mp,InvalidPDFException:n0,isDataScheme:Kp,isPdfFile:F0,isValidExplicitDest:MC,MathClamp:zr,noContextMenu:ca,normalizeUnicode:SC,OPS:Np,OutputScale:Wa,PasswordResponses:xC,PDFDataRangeTransport:m2,PDFDateString:s2,PDFWorker:Ud,PermissionFlag:wC,PixelsPerInch:mh,RenderingCancelledException:I0,ResponseException:Cp,setLayerDimensions:Kc,shadow:an,SignatureExtractor:$u,stopEvent:Ti,SupportedImageMimeTypes:i0,TextLayer:Rp,TouchManager:Zp,updateUrlHash:n2,Util:ye,VerbosityLevel:Wp,version:g2,XfaLayer:v2};const BF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zl,AnnotationEditorLayer:Ho,AnnotationEditorParamsType:cn,AnnotationEditorType:ze,AnnotationEditorUIManager:Ul,AnnotationLayer:y2,AnnotationMode:Vo,AnnotationType:Ci,ColorPicker:js,DOMSVGFactory:Lp,DrawLayer:hr,FeatureTest:mr,GlobalWorkerOptions:la,ImageKind:mp,InvalidPDFException:n0,MathClamp:zr,OPS:Np,OutputScale:Wa,PDFDataRangeTransport:m2,PDFDateString:s2,PDFWorker:Ud,PasswordResponses:xC,PermissionFlag:wC,PixelsPerInch:mh,RenderingCancelledException:I0,ResponseException:Cp,SignatureExtractor:$u,SupportedImageMimeTypes:i0,TextLayer:Rp,TouchManager:Zp,Util:ye,VerbosityLevel:Wp,XfaLayer:v2,build:$C,createValidAbsoluteUrl:e2,fetchData:rf,getDocument:f2,getFilenameFromUrl:_C,getPdfFilenameFromUrl:NC,getUuid:i2,getXfaPageViewport:CC,isDataScheme:Kp,isPdfFile:F0,isValidExplicitDest:MC,noContextMenu:ca,normalizeUnicode:SC,setLayerDimensions:Kc,shadow:an,stopEvent:Ti,updateUrlHash:n2,version:g2},Symbol.toStringTag,{value:"Module"})),zF=["onCopy","onCut","onPaste"],UF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HF=["onFocus","onBlur"],qF=["onInput","onInvalid","onReset","onSubmit"],VF=["onLoad","onError"],GF=["onKeyDown","onKeyPress","onKeyUp"],$F=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],WF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],YF=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],XF=["onSelect"],KF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],QF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ZF=["onScroll"],JF=["onWheel"],tB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],eB=["onTransitionEnd"],nB=["onToggle"],iB=["onChange"],rB=[...zF,...UF,...HF,...qF,...VF,...GF,...$F,...WF,...YF,...XF,...KF,...QF,...ZF,...JF,...tB,...eB,...iB,...nB];function n3(i,t){const e={};for(const n of rB){const r=i[n];r&&(t?e[n]=s=>r(s,t(n)):e[n]=r)}return e}function nm(i){let t=!1;return{promise:new Promise((n,r)=>{i.then(s=>!t&&n(s)).catch(s=>!t&&r(s))}),cancel(){t=!0}}}var sB="Invariant failed";function Hn(i,t){if(!i)throw new Error(sB)}var B1,LA;function aB(){if(LA)return B1;LA=1;var i=function(){};return B1=i,B1}var oB=aB();const Hr=Pp(oB);var MA=Object.prototype.hasOwnProperty;function PA(i,t,e){for(e of i.keys())if(Td(e,t))return e}function Td(i,t){var e,n,r;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Td(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=PA(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=PA(t,r),!r)||!Td(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(MA.call(i,e)&&++n&&!MA.call(t,e)||!(e in t)||!Td(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const i3=M.createContext(null);function Ld({children:i,type:t}){return S.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const lB="noopener noreferrer nofollow";class cB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Hn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Hn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Hn(this.pdfDocument),Hn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Hn(Array.isArray(e));const n=e[0];new Promise(r=>{Hn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{r(s)}).catch(()=>{Hn(!1)}):typeof n=="number"?r(n):Hn(!1)}).then(r=>{const s=r+1;Hn(this.pdfViewer),Hn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:s})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Hn(this.pdfViewer),Hn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||lB,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const DA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},U0=typeof window<"u",r3=U0&&window.location.protocol==="file:";function uB(i){return typeof i<"u"}function qu(i){return uB(i)&&i!==null}function hB(i){return typeof i=="string"}function dB(i){return i instanceof ArrayBuffer}function fB(i){return Hn(U0),i instanceof Blob}function Vb(i){return hB(i)&&/^data:/.test(i)}function OA(i){Hn(Vb(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function pB(){return U0&&window.devicePixelRatio||1}const s3="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kA(){Hr(!r3,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${s3}`)}function mB(){Hr(!r3,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${s3}`)}function vh(i){i?.cancel&&i.cancel()}function Gb(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function gB(i){return i.name==="RenderingCancelledException"}function vB(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return e(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function bB(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Hd(){return M.useReducer(bB,{value:void 0,error:void 0})}var jA=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const{PDFDataRangeTransport:yB}=BF,wB=(i,t)=>{switch(t){case DA.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case DA.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function IA(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const H0=M.forwardRef(function(t,e){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:c,file:u,inputRef:d,imageResourcesPath:f,loading:p="Loading PDF",noData:g="No PDF file specified.",onItemClick:v,onLoadError:x,onLoadProgress:y,onLoadSuccess:_,onPassword:E=wB,onSourceError:T,onSourceSuccess:L,options:O,renderMode:D,rotate:I,scale:k}=t,j=jA(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[K,st]=Hd(),{value:B,error:G}=K,[it,nt]=Hd(),{value:ht,error:U}=it,Z=M.useRef(new cB),J=M.useRef([]),pt=M.useRef(void 0),$=M.useRef(void 0);u&&u!==pt.current&&IA(u)&&(Hr(!Td(u,pt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),pt.current=u),O&&O!==$.current&&(Hr(!Td(O,$.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),$.current=O);const dt=M.useRef({scrollPageIntoView:Kt=>{const{dest:Lt,pageNumber:lt,pageIndex:se=lt-1}=Kt;if(v){v({dest:Lt,pageIndex:se,pageNumber:lt});return}const ae=J.current[se];if(ae){ae.scrollIntoView();return}Hr(!1,`An internal link leading to page ${lt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(e,()=>({linkService:Z,pages:J,viewer:dt}),[]);function F(){L&&L()}function V(){G&&(Hr(!1,G.toString()),T&&T(G))}function tt(){st({type:"RESET"})}M.useEffect(tt,[u,st]);const at=M.useCallback(async()=>{if(!u)return null;if(typeof u=="string")return Vb(u)?{data:OA(u)}:(kA(),{url:u});if(u instanceof yB)return{range:u};if(dB(u))return{data:u};if(U0&&fB(u))return{data:await vB(u)};if(Hn(typeof u=="object"),Hn(IA(u)),"url"in u&&typeof u.url=="string"){if(Vb(u.url)){const{url:Kt}=u,Lt=jA(u,["url"]),lt=OA(Kt);return Object.assign({data:lt},Lt)}kA()}return u},[u]);M.useEffect(()=>{const Kt=nm(at());return Kt.promise.then(Lt=>{st({type:"RESOLVE",value:Lt})}).catch(Lt=>{st({type:"REJECT",error:Lt})}),()=>{vh(Kt)}},[at,st]),M.useEffect(()=>{if(!(typeof B>"u")){if(B===!1){V();return}F()}},[B]);function ot(){ht&&(_&&_(ht),J.current=new Array(ht.numPages),Z.current.setDocument(ht))}function ct(){U&&(Hr(!1,U.toString()),x&&x(U))}M.useEffect(function(){nt({type:"RESET"})},[nt,B]),M.useEffect(function(){if(!B)return;const Lt=O?Object.assign(Object.assign({},B),O):B,lt=f2(Lt);y&&(lt.onProgress=y),E&&(lt.onPassword=E);const se=lt,ae=se.promise.then(Vt=>{nt({type:"RESOLVE",value:Vt})}).catch(Vt=>{se.destroyed||nt({type:"REJECT",error:Vt})});return()=>{ae.finally(()=>se.destroy())}},[O,nt,B]),M.useEffect(()=>{if(!(typeof ht>"u")){if(ht===!1){ct();return}ot()}},[ht]),M.useEffect(function(){Z.current.setViewer(dt.current),Z.current.setExternalLinkRel(o),Z.current.setExternalLinkTarget(c)},[o,c]);const mt=M.useCallback((Kt,Lt)=>{J.current[Kt]=Lt},[]),xt=M.useCallback(Kt=>{delete J.current[Kt]},[]),Tt=M.useMemo(()=>({imageResourcesPath:f,linkService:Z.current,onItemClick:v,pdf:ht,registerPage:mt,renderMode:D,rotate:I,scale:k,unregisterPage:xt}),[f,v,ht,mt,D,I,k,xt]),Ot=M.useMemo(()=>n3(j,()=>ht),[j,ht]);function zt(){return S.jsx(i3.Provider,{value:Tt,children:n})}function $t(){return u?ht==null?S.jsx(Ld,{type:"loading",children:typeof p=="function"?p():p}):ht===!1?S.jsx(Ld,{type:"error",children:typeof s=="function"?s():s}):zt():S.jsx(Ld,{type:"no-data",children:typeof g=="function"?g():g})}return S.jsx("div",Object.assign({className:Xd("react-pdf__Document",r),ref:d},Ot,{children:$t()}))});function a3(){return M.useContext(i3)}function o3(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(s){for(var o=0,c=e;o<c.length;o++){var u=c[o];typeof u=="function"?u(s):u&&(u.current=s)}}}const l3=M.createContext(null),c3={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},xB=/^H(\d+)$/;function AB(i){return i in c3}function q0(i){return"children"in i}function u3(i){return q0(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function SB(i){const t={};if(q0(i)){const{role:e}=i,n=e.match(xB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(AB(e)){const r=c3[e];r&&(t.role=r)}}return t}function h3(i){const t={};if(q0(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),u3(i)){const[e]=i.children;if(e){const n=h3(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function EB(i){return i?Object.assign(Object.assign({},SB(i)),h3(i)):null}function d3({className:i,node:t}){const e=M.useMemo(()=>EB(t),[t]),n=M.useMemo(()=>!q0(t)||u3(t)?null:t.children.map((r,s)=>S.jsx(d3,{node:r},s)),[t]);return S.jsx("span",Object.assign({className:i},e,{children:n}))}function V0(){return M.useContext(l3)}function _B(){const i=V0();Hn(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,r]=Hd(),{value:s,error:o}=n,{customTextRenderer:c,page:u}=i;function d(){s&&e&&e(s)}function f(){o&&(Hr(!1,o.toString()),t&&t(o))}return M.useEffect(function(){r({type:"RESET"})},[r,u]),M.useEffect(function(){if(c||!u)return;const g=nm(u.getStructTree()),v=g;return g.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>vh(v)},[c,u,r]),M.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}d()}},[s]),s?S.jsx(d3,{className:"react-pdf__Page__structTree structTree",node:s}):null}const FA=Vo;function NB(i){const t=V0();Hn(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:r,devicePixelRatio:s=pB(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:g}=e,{canvasRef:v}=i;Hn(u);const x=M.useRef(null);function y(){u&&c&&c(Gb(u,g))}function _(O){gB(O)||(Hr(!1,O.toString()),o&&o(O))}const E=M.useMemo(()=>u.getViewport({scale:g*s,rotation:p}),[s,u,p,g]),T=M.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);M.useEffect(function(){if(!u)return;u.cleanup();const{current:D}=x;if(!D)return;D.width=E.width,D.height=E.height,D.style.width=`${Math.floor(T.width)}px`,D.style.height=`${Math.floor(T.height)}px`,D.style.visibility="hidden";const I={annotationMode:d?FA.ENABLE_FORMS:FA.ENABLE,canvasContext:D.getContext("2d",{alpha:!1}),viewport:E};r&&(I.background=r);const k=u.render(I),j=k;return k.promise.then(()=>{D.style.visibility="",y()}).catch(_),()=>vh(j)},[r,u,d,E,T]);const L=M.useCallback(()=>{const{current:O}=x;O&&(O.width=0,O.height=0)},[]);return M.useEffect(()=>L,[L]),S.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:o3(v,x),style:{display:"block",userSelect:"none"},children:f?S.jsx(_B,{}):null})}function CB(i){return"str"in i}function RB(){const i=V0();Hn(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:c,pageNumber:u,rotate:d,scale:f}=i;Hn(o);const[p,g]=Hd(),{value:v,error:x}=p,y=M.useRef(null);Hr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){v&&n&&n(v)}function E(){x&&(Hr(!1,x.toString()),e&&e(x))}M.useEffect(function(){g({type:"RESET"})},[o,g]),M.useEffect(function(){if(!o)return;const j=nm(o.getTextContent()),K=j;return j.promise.then(st=>{g({type:"RESOLVE",value:st})}).catch(st=>{g({type:"REJECT",error:st})}),()=>vh(K)},[o,g]),M.useEffect(()=>{if(v!==void 0){if(v===!1){E();return}_()}},[v]);const T=M.useCallback(()=>{s&&s()},[s]),L=M.useCallback(k=>{Hr(!1,k.toString()),r&&r(k)},[r]);function O(){const k=y.current;k&&k.classList.add("selecting")}function D(){const k=y.current;k&&k.classList.remove("selecting")}const I=M.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return M.useLayoutEffect(function(){if(!o||!v)return;const{current:j}=y;if(!j)return;j.innerHTML="";const K=o.streamTextContent({includeMarkedContent:!0}),st={container:j,textContentSource:K,viewport:I},B=new Rp(st),G=B;return B.render().then(()=>{const it=document.createElement("div");it.className="endOfContent",j.append(it);const nt=j.querySelectorAll('[role="presentation"]');if(t){let ht=0;v.items.forEach((U,Z)=>{if(!CB(U))return;const J=nt[ht];if(!J)return;const pt=t(Object.assign({pageIndex:c,pageNumber:u,itemIndex:Z},U));J.innerHTML=pt,ht+=U.str&&U.hasEOL?2:1})}T()}).catch(L),()=>vh(G)},[t,L,T,o,c,u,v,I]),S.jsx("div",{className:Xd("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:O,ref:y})}function TB(){const i=a3(),t=V0();Hn(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:p,rotate:g,scale:v=1}=e;Hn(f),Hn(d),Hn(r);const[x,y]=Hd(),{value:_,error:E}=x,T=M.useRef(null);Hr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){_&&o&&o(_)}function O(){E&&(Hr(!1,E.toString()),s&&s(E))}M.useEffect(function(){y({type:"RESET"})},[y,d]),M.useEffect(function(){if(!d)return;const K=nm(d.getAnnotations()),st=K;return K.promise.then(B=>{y({type:"RESOLVE",value:B})}).catch(B=>{y({type:"REJECT",error:B})}),()=>{vh(st)}},[y,d]),M.useEffect(()=>{if(_!==void 0){if(_===!1){O();return}L()}},[_]);function D(){u&&u()}function I(j){Hr(!1,`${j}`),c&&c(j)}const k=M.useMemo(()=>d.getViewport({scale:v,rotation:g}),[d,g,v]);return M.useEffect(function(){if(!f||!d||!r||!_)return;const{current:K}=T;if(!K)return;const st=k.clone({dontFlip:!0}),B={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:K,l10n:null,page:d,structTreeLayer:null,viewport:st},G={annotations:_,annotationStorage:f.annotationStorage,div:K,imageResourcesPath:n,linkService:r,page:d,renderForms:p,viewport:st};K.innerHTML="";try{new y2(B).render(G),D()}catch(it){I(it)}return()=>{}},[_,n,r,d,f,p,k]),S.jsx("div",{className:Xd("react-pdf__Page__annotations","annotationLayer"),ref:T})}var LB=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const BA=1;function G0(i){const t=a3(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:g="Failed to load the page.",height:v,inputRef:x,loading:y="Loading page",noData:_="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:L,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:I,onLoadError:k,onLoadSuccess:j,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:st,onRenderError:B,onRenderSuccess:G,onRenderTextLayerError:it,onRenderTextLayerSuccess:nt,pageIndex:ht,pageNumber:U,pdf:Z,registerPage:J,renderAnnotationLayer:pt=!0,renderForms:$=!1,renderMode:dt="canvas",renderTextLayer:F=!0,rotate:V,scale:tt=BA,unregisterPage:at,width:ot}=e,ct=LB(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[mt,xt]=Hd(),{value:Tt,error:Ot}=mt,zt=M.useRef(null);Hn(Z);const $t=qu(U)?U-1:ht??null,Kt=U??(qu(ht)?ht+1:null),Lt=V??(Tt?Tt.rotate:null),lt=M.useMemo(()=>{if(!Tt)return null;let be=1;const Fe=tt??BA;if(ot||v){const le=Tt.getViewport({scale:1,rotation:Lt});ot?be=ot/le.width:v&&(be=v/le.height)}return Fe*be},[v,Tt,Lt,tt,ot]);M.useEffect(function(){return()=>{qu($t)&&r&&at&&at($t)}},[r,Z,$t,at]);function se(){if(j){if(!Tt||!lt)return;j(Gb(Tt,lt))}if(r&&J){if(!qu($t)||!zt.current)return;J($t,zt.current)}}function ae(){Ot&&(Hr(!1,Ot.toString()),k&&k(Ot))}M.useEffect(function(){xt({type:"RESET"})},[xt,Z,$t]),M.useEffect(function(){if(!Z||!Kt)return;const Fe=nm(Z.getPage(Kt)),le=Fe;return Fe.promise.then(Re=>{xt({type:"RESOLVE",value:Re})}).catch(Re=>{xt({type:"REJECT",error:Re})}),()=>vh(le)},[xt,Z,Kt]),M.useEffect(()=>{if(Tt!==void 0){if(Tt===!1){ae();return}se()}},[Tt,lt]);const Vt=M.useMemo(()=>Tt&&qu($t)&&Kt&&qu(Lt)&&qu(lt)?{_className:n,canvasBackground:s,customTextRenderer:f,devicePixelRatio:p,onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:L,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:I,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:st,onRenderError:B,onRenderSuccess:G,onRenderTextLayerError:it,onRenderTextLayerSuccess:nt,page:Tt,pageIndex:$t,pageNumber:Kt,renderForms:$,renderTextLayer:F,rotate:Lt,scale:lt}:null,[n,s,f,p,E,T,L,O,D,I,K,st,B,G,it,nt,Tt,$t,Kt,$,F,Lt,lt]),Zt=M.useMemo(()=>n3(ct,()=>Tt&&(lt?Gb(Tt,lt):void 0)),[ct,Tt,lt]),Jt=`${$t}@${lt}/${Lt}`;function Xt(){switch(dt){case"custom":return Hn(d),S.jsx(d,{},`${Jt}_custom`);case"none":return null;case"canvas":default:return S.jsx(NB,{canvasRef:o},`${Jt}_canvas`)}}function ce(){return F?S.jsx(RB,{},`${Jt}_text`):null}function Ce(){return pt?S.jsx(TB,{},`${Jt}_annotations`):null}function ke(){return S.jsxs(l3.Provider,{value:Vt,children:[Xt(),ce(),Ce(),c]})}function Se(){return Kt?Z===null||Tt===void 0||Tt===null?S.jsx(Ld,{type:"loading",children:typeof y=="function"?y():y}):Z===!1||Tt===!1?S.jsx(Ld,{type:"error",children:typeof g=="function"?g():g}):ke():S.jsx(Ld,{type:"no-data",children:typeof _=="function"?_():_})}return S.jsx("div",Object.assign({className:Xd(n,u),"data-page-number":Kt,ref:o3(x,zt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${lt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zt,{children:Se()}))}mB();la.workerSrc="pdf.worker.mjs";const MB="modulepreload",PB=function(i){return"/"+i},zA={},$b=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(e.map(d=>{if(d=PB(d),d in zA)return;zA[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":MB,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function Mn(i){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(i)}var qr=Uint8Array,zs=Uint16Array,S2=Int32Array,$0=new qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W0=new qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wb=new qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f3=function(i,t){for(var e=new zs(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new S2(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)r[s]=s-e[n]<<5|n;return{b:e,r}},p3=f3($0,2),m3=p3.b,Yb=p3.r;m3[28]=258,Yb[258]=28;var g3=f3(W0,0),DB=g3.b,UA=g3.r,Xb=new zs(32768);for(var Zn=0;Zn<32768;++Zn){var jc=(Zn&43690)>>1|(Zn&21845)<<1;jc=(jc&52428)>>2|(jc&13107)<<2,jc=(jc&61680)>>4|(jc&3855)<<4,Xb[Zn]=((jc&65280)>>8|(jc&255)<<8)>>1}var Xo=function(i,t,e){for(var n=i.length,r=0,s=new zs(t);r<n;++r)i[r]&&++s[i[r]-1];var o=new zs(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var c;if(e){c=new zs(1<<t);var u=15-t;for(r=0;r<n;++r)if(i[r])for(var d=r<<4|i[r],f=t-i[r],p=o[i[r]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)c[Xb[p]>>u]=d}else for(c=new zs(n),r=0;r<n;++r)i[r]&&(c[r]=Xb[o[i[r]-1]++]>>15-i[r]);return c},Qc=new qr(288);for(var Zn=0;Zn<144;++Zn)Qc[Zn]=8;for(var Zn=144;Zn<256;++Zn)Qc[Zn]=9;for(var Zn=256;Zn<280;++Zn)Qc[Zn]=7;for(var Zn=280;Zn<288;++Zn)Qc[Zn]=8;var Mp=new qr(32);for(var Zn=0;Zn<32;++Zn)Mp[Zn]=5;var OB=Xo(Qc,9,0),kB=Xo(Qc,9,1),jB=Xo(Mp,5,0),IB=Xo(Mp,5,1),z1=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},Ia=function(i,t,e){var n=t/8|0;return(i[n]|i[n+1]<<8)>>(t&7)&e},U1=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},E2=function(i){return(i+7)/8|0},v3=function(i,t,e){return(e==null||e>i.length)&&(e=i.length),new qr(i.subarray(t,e))},FB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(i,t,e){var n=new Error(t||FB[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,za),!e)throw n;return n},BB=function(i,t,e,n){var r=i.length,s=0;if(!r||t.f&&!t.l)return e||new qr(0);var o=!e,c=o||t.i!=2,u=t.i;o&&(e=new qr(r*3));var d=function(Ot){var zt=e.length;if(Ot>zt){var $t=new qr(Math.max(zt*2,Ot));$t.set(e),e=$t}},f=t.f||0,p=t.p||0,g=t.b||0,v=t.l,x=t.d,y=t.m,_=t.n,E=r*8;do{if(!v){f=Ia(i,p,1);var T=Ia(i,p+1,3);if(p+=3,T)if(T==1)v=kB,x=IB,y=9,_=5;else if(T==2){var I=Ia(i,p,31)+257,k=Ia(i,p+10,15)+4,j=I+Ia(i,p+5,31)+1;p+=14;for(var K=new qr(j),st=new qr(19),B=0;B<k;++B)st[Wb[B]]=Ia(i,p+B*3,7);p+=k*3;for(var G=z1(st),it=(1<<G)-1,nt=Xo(st,G,1),B=0;B<j;){var ht=nt[Ia(i,p,it)];p+=ht&15;var L=ht>>4;if(L<16)K[B++]=L;else{var U=0,Z=0;for(L==16?(Z=3+Ia(i,p,3),p+=2,U=K[B-1]):L==17?(Z=3+Ia(i,p,7),p+=3):L==18&&(Z=11+Ia(i,p,127),p+=7);Z--;)K[B++]=U}}var J=K.subarray(0,I),pt=K.subarray(I);y=z1(J),_=z1(pt),v=Xo(J,y,1),x=Xo(pt,_,1)}else za(1);else{var L=E2(p)+4,O=i[L-4]|i[L-3]<<8,D=L+O;if(D>r){u&&za(0);break}c&&d(g+O),e.set(i.subarray(L,D),g),t.b=g+=O,t.p=p=D*8,t.f=f;continue}if(p>E){u&&za(0);break}}c&&d(g+131072);for(var $=(1<<y)-1,dt=(1<<_)-1,F=p;;F=p){var U=v[U1(i,p)&$],V=U>>4;if(p+=U&15,p>E){u&&za(0);break}if(U||za(2),V<256)e[g++]=V;else if(V==256){F=p,v=null;break}else{var tt=V-254;if(V>264){var B=V-257,at=$0[B];tt=Ia(i,p,(1<<at)-1)+m3[B],p+=at}var ot=x[U1(i,p)&dt],ct=ot>>4;ot||za(3),p+=ot&15;var pt=DB[ct];if(ct>3){var at=W0[ct];pt+=U1(i,p)&(1<<at)-1,p+=at}if(p>E){u&&za(0);break}c&&d(g+131072);var mt=g+tt;if(g<pt){var xt=s-pt,Tt=Math.min(pt,mt);for(xt+g<0&&za(3);g<Tt;++g)e[g]=n[xt+g]}for(;g<mt;++g)e[g]=e[g-pt]}}t.l=v,t.p=F,t.b=g,t.f=f,v&&(f=1,t.m=y,t.d=x,t.n=_)}while(!f);return g!=e.length&&o?v3(e,0,g):e.subarray(0,g)},Dl=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},lp=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},H1=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,s=e.slice();if(!r)return{t:y3,l:0};if(r==1){var o=new qr(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(D,I){return D.f-I.f}),e.push({s:-1,f:25001});var c=e[0],u=e[1],d=0,f=1,p=2;for(e[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=r-1;)c=e[e[d].f<e[p].f?d++:p++],u=e[d!=f&&e[d].f<e[p].f?d++:p++],e[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var g=s[0].s,n=1;n<r;++n)s[n].s>g&&(g=s[n].s);var v=new zs(g+1),x=Kb(e[f-1],v,0);if(x>t){var n=0,y=0,_=x-t,E=1<<_;for(s.sort(function(I,k){return v[k.s]-v[I.s]||I.f-k.f});n<r;++n){var T=s[n].s;if(v[T]>t)y+=E-(1<<x-v[T]),v[T]=t;else break}for(y>>=_;y>0;){var L=s[n].s;v[L]<t?y-=1<<t-v[L]++-1:++n}for(;n>=0&&y;--n){var O=s[n].s;v[O]==t&&(--v[O],++y)}x=t}return{t:new qr(v),l:x}},Kb=function(i,t,e){return i.s==-1?Math.max(Kb(i.l,t,e+1),Kb(i.r,t,e+1)):t[i.s]=e},HA=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new zs(++t),n=0,r=i[0],s=1,o=function(u){e[n++]=u},c=1;c<=t;++c)if(i[c]==r&&c!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=i[c]}return{c:e.subarray(0,n),n:t}},cp=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},b3=function(i,t,e){var n=e.length,r=E2(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=e[s];return(r+4+n)*8},qA=function(i,t,e,n,r,s,o,c,u,d,f){Dl(t,f++,e),++r[256];for(var p=H1(r,15),g=p.t,v=p.l,x=H1(s,15),y=x.t,_=x.l,E=HA(g),T=E.c,L=E.n,O=HA(y),D=O.c,I=O.n,k=new zs(19),j=0;j<T.length;++j)++k[T[j]&31];for(var j=0;j<D.length;++j)++k[D[j]&31];for(var K=H1(k,7),st=K.t,B=K.l,G=19;G>4&&!st[Wb[G-1]];--G);var it=d+5<<3,nt=cp(r,Qc)+cp(s,Mp)+o,ht=cp(r,g)+cp(s,y)+o+14+3*G+cp(k,st)+2*k[16]+3*k[17]+7*k[18];if(u>=0&&it<=nt&&it<=ht)return b3(t,f,i.subarray(u,u+d));var U,Z,J,pt;if(Dl(t,f,1+(ht<nt)),f+=2,ht<nt){U=Xo(g,v,0),Z=g,J=Xo(y,_,0),pt=y;var $=Xo(st,B,0);Dl(t,f,L-257),Dl(t,f+5,I-1),Dl(t,f+10,G-4),f+=14;for(var j=0;j<G;++j)Dl(t,f+3*j,st[Wb[j]]);f+=3*G;for(var dt=[T,D],F=0;F<2;++F)for(var V=dt[F],j=0;j<V.length;++j){var tt=V[j]&31;Dl(t,f,$[tt]),f+=st[tt],tt>15&&(Dl(t,f,V[j]>>5&127),f+=V[j]>>12)}}else U=OB,Z=Qc,J=jB,pt=Mp;for(var j=0;j<c;++j){var at=n[j];if(at>255){var tt=at>>18&31;lp(t,f,U[tt+257]),f+=Z[tt+257],tt>7&&(Dl(t,f,at>>23&31),f+=$0[tt]);var ot=at&31;lp(t,f,J[ot]),f+=pt[ot],ot>3&&(lp(t,f,at>>5&8191),f+=W0[ot])}else lp(t,f,U[at]),f+=Z[at]}return lp(t,f,U[256]),f+Z[256]},zB=new S2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),y3=new qr(0),UB=function(i,t,e,n,r,s){var o=s.z||i.length,c=new qr(n+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(n,c.length-r),d=s.l,f=(s.r||0)&7;if(t){f&&(u[0]=s.r>>3);for(var p=zB[t-1],g=p>>13,v=p&8191,x=(1<<e)-1,y=s.p||new zs(32768),_=s.h||new zs(x+1),E=Math.ceil(e/3),T=2*E,L=function(Kt){return(i[Kt]^i[Kt+1]<<E^i[Kt+2]<<T)&x},O=new S2(25e3),D=new zs(288),I=new zs(32),k=0,j=0,K=s.i||0,st=0,B=s.w||0,G=0;K+2<o;++K){var it=L(K),nt=K&32767,ht=_[it];if(y[nt]=ht,_[it]=nt,B<=K){var U=o-K;if((k>7e3||st>24576)&&(U>423||!d)){f=qA(i,u,0,O,D,I,j,st,G,K-G,f),st=k=j=0,G=K;for(var Z=0;Z<286;++Z)D[Z]=0;for(var Z=0;Z<30;++Z)I[Z]=0}var J=2,pt=0,$=v,dt=nt-ht&32767;if(U>2&&it==L(K-dt))for(var F=Math.min(g,U)-1,V=Math.min(32767,K),tt=Math.min(258,U);dt<=V&&--$&&nt!=ht;){if(i[K+J]==i[K+J-dt]){for(var at=0;at<tt&&i[K+at]==i[K+at-dt];++at);if(at>J){if(J=at,pt=dt,at>F)break;for(var ot=Math.min(dt,at-2),ct=0,Z=0;Z<ot;++Z){var mt=K-dt+Z&32767,xt=y[mt],Tt=mt-xt&32767;Tt>ct&&(ct=Tt,ht=mt)}}}nt=ht,ht=y[nt],dt+=nt-ht&32767}if(pt){O[st++]=268435456|Yb[J]<<18|UA[pt];var Ot=Yb[J]&31,zt=UA[pt]&31;j+=$0[Ot]+W0[zt],++D[257+Ot],++I[zt],B=K+J,++k}else O[st++]=i[K],++D[i[K]]}}for(K=Math.max(K,B);K<o;++K)O[st++]=i[K],++D[i[K]];f=qA(i,u,d,O,D,I,j,st,G,K-G,f),d||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=_,s.p=y,s.i=K,s.w=B)}else{for(var K=s.w||0;K<o+d;K+=65535){var $t=K+65535;$t>=o&&(u[f/8|0]=d,$t=o),f=b3(u,f+1,i.subarray(K,$t))}s.i=o}return v3(c,0,n+E2(f)+r)},w3=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,s=e.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)r+=n+=e[o];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},HB=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new qr(s.length+i.length);o.set(s),o.set(i,s.length),i=o,r.w=s.length}return UB(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)},x3=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},qB=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=w3();r.p(t.dictionary),x3(i,2,r.d())}},VB=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&za(6,"invalid zlib data"),(i[1]>>5&1)==1&&za(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Qb(i,t){t||(t={});var e=w3();e.p(i);var n=HB(i,t,t.dictionary?6:2,4);return qB(n,t),x3(n,n.length-4,e.d()),n}function GB(i,t){return BB(i.subarray(VB(i),-4),{i:2},t,t)}var $B=typeof TextDecoder<"u"&&new TextDecoder,WB=0;try{$B.decode(y3,{stream:!0}),WB=1}catch{}var Pe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function q1(){Pe.console&&typeof Pe.console.log=="function"&&Pe.console.log.apply(Pe.console,arguments)}var Un={log:q1,warn:function(i){Pe.console&&(typeof Pe.console.warn=="function"?Pe.console.warn.apply(Pe.console,arguments):q1.call(null,arguments))},error:function(i){Pe.console&&(typeof Pe.console.error=="function"?Pe.console.error.apply(Pe.console,arguments):q1(i))}};function V1(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Vu(n.response,t,e)},n.onerror=function(){Un.error("could not download file")},n.send()}function VA(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xg(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var vp,Zb,Vu=Pe.saveAs||((typeof window>"u"?"undefined":Mn(window))!=="object"||window!==Pe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=Pe.URL||Pe.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?VA(r.href)?V1(i,t,e):xg(r,r.target="_blank"):xg(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){xg(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(VA(i))V1(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){xg(n)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Mn(s)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return V1(i,t,e);var r=i.type==="application/octet-stream",s=/constructor/i.test(Pe.HTMLElement)||Pe.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Mn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(i)}else{var u=Pe.URL||Pe.webkitURL,d=u.createObjectURL(i);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A3(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,s=e[n].process,o=r.exec(i);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function G1(i,t){var e=i[0],n=i[1],r=i[2],s=i[3];e=kr(e,n,r,s,t[0],7,-680876936),s=kr(s,e,n,r,t[1],12,-389564586),r=kr(r,s,e,n,t[2],17,606105819),n=kr(n,r,s,e,t[3],22,-1044525330),e=kr(e,n,r,s,t[4],7,-176418897),s=kr(s,e,n,r,t[5],12,1200080426),r=kr(r,s,e,n,t[6],17,-1473231341),n=kr(n,r,s,e,t[7],22,-45705983),e=kr(e,n,r,s,t[8],7,1770035416),s=kr(s,e,n,r,t[9],12,-1958414417),r=kr(r,s,e,n,t[10],17,-42063),n=kr(n,r,s,e,t[11],22,-1990404162),e=kr(e,n,r,s,t[12],7,1804603682),s=kr(s,e,n,r,t[13],12,-40341101),r=kr(r,s,e,n,t[14],17,-1502002290),e=jr(e,n=kr(n,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=jr(s,e,n,r,t[6],9,-1069501632),r=jr(r,s,e,n,t[11],14,643717713),n=jr(n,r,s,e,t[0],20,-373897302),e=jr(e,n,r,s,t[5],5,-701558691),s=jr(s,e,n,r,t[10],9,38016083),r=jr(r,s,e,n,t[15],14,-660478335),n=jr(n,r,s,e,t[4],20,-405537848),e=jr(e,n,r,s,t[9],5,568446438),s=jr(s,e,n,r,t[14],9,-1019803690),r=jr(r,s,e,n,t[3],14,-187363961),n=jr(n,r,s,e,t[8],20,1163531501),e=jr(e,n,r,s,t[13],5,-1444681467),s=jr(s,e,n,r,t[2],9,-51403784),r=jr(r,s,e,n,t[7],14,1735328473),e=Ir(e,n=jr(n,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Ir(s,e,n,r,t[8],11,-2022574463),r=Ir(r,s,e,n,t[11],16,1839030562),n=Ir(n,r,s,e,t[14],23,-35309556),e=Ir(e,n,r,s,t[1],4,-1530992060),s=Ir(s,e,n,r,t[4],11,1272893353),r=Ir(r,s,e,n,t[7],16,-155497632),n=Ir(n,r,s,e,t[10],23,-1094730640),e=Ir(e,n,r,s,t[13],4,681279174),s=Ir(s,e,n,r,t[0],11,-358537222),r=Ir(r,s,e,n,t[3],16,-722521979),n=Ir(n,r,s,e,t[6],23,76029189),e=Ir(e,n,r,s,t[9],4,-640364487),s=Ir(s,e,n,r,t[12],11,-421815835),r=Ir(r,s,e,n,t[15],16,530742520),e=Fr(e,n=Ir(n,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Fr(s,e,n,r,t[7],10,1126891415),r=Fr(r,s,e,n,t[14],15,-1416354905),n=Fr(n,r,s,e,t[5],21,-57434055),e=Fr(e,n,r,s,t[12],6,1700485571),s=Fr(s,e,n,r,t[3],10,-1894986606),r=Fr(r,s,e,n,t[10],15,-1051523),n=Fr(n,r,s,e,t[1],21,-2054922799),e=Fr(e,n,r,s,t[8],6,1873313359),s=Fr(s,e,n,r,t[15],10,-30611744),r=Fr(r,s,e,n,t[6],15,-1560198380),n=Fr(n,r,s,e,t[13],21,1309151649),e=Fr(e,n,r,s,t[4],6,-145523070),s=Fr(s,e,n,r,t[11],10,-1120210379),r=Fr(r,s,e,n,t[2],15,718787259),n=Fr(n,r,s,e,t[9],21,-343485551),i[0]=qc(e,i[0]),i[1]=qc(n,i[1]),i[2]=qc(r,i[2]),i[3]=qc(s,i[3])}function Y0(i,t,e,n,r,s){return t=qc(qc(t,i),qc(n,s)),qc(t<<r|t>>>32-r,e)}function kr(i,t,e,n,r,s,o){return Y0(t&e|~t&n,i,t,r,s,o)}function jr(i,t,e,n,r,s,o){return Y0(t&n|e&~n,i,t,r,s,o)}function Ir(i,t,e,n,r,s,o){return Y0(t^e^n,i,t,r,s,o)}function Fr(i,t,e,n,r,s,o){return Y0(e^(t|~n),i,t,r,s,o)}function S3(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)G1(n,YB(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(G1(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,G1(n,r),n}function YB(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}vp=Pe.atob.bind(Pe),Zb=Pe.btoa.bind(Pe);var GA="0123456789abcdef".split("");function XB(i){for(var t="",e=0;e<4;e++)t+=GA[i>>8*e+4&15]+GA[i>>8*e&15];return t}function KB(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Jb(i){return S3(i).map(KB).join("")}var QB=function(i){for(var t=0;t<i.length;t++)i[t]=XB(i[t]);return i.join("")}(S3("hello"))!="5d41402abc4b2a76b9719d911017c592";function qc(i,t){if(QB){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ty(i,t){var e,n,r,s;if(i!==e){for(var o=(r=i,s=1+(256/i.length>>0),new Array(s+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+o.charCodeAt(u))%256,c[u]=c[d],c[d]=f}e=i,n=c}else c=n;var p=t.length,g=0,v=0,x="";for(u=0;u<p;u++)v=(v+(f=c[g=(g+1)%256]))%256,c[g]=c[v],c[v]=f,o=c[(c[g]+c[v])%256],x+=String.fromCharCode(t.charCodeAt(u)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $A={print:4,modify:8,copy:16,"annot-forms":32};function vd(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(c){if($A.perm!==void 0)throw new Error("Invalid permission: "+c);r+=$A[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=Jb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ty(this.encryptionKey,this.padding)}function bd(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=i[n]}return t}function WA(i){if(Mn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(i,n)}catch(c){Pe.console&&Un.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function r0(i){if(!(this instanceof r0))return new r0(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function E3(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Wu(i,t,e,n,r){if(!(this instanceof Wu))return new Wu(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,E3.call(this,n,r)}function Sd(i,t,e,n,r){if(!(this instanceof Sd))return new Sd(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,E3.call(this,n,r)}function _e(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],o=[],c=1,u=16,d="S",f=null;Mn(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(f=i.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(u=i.floatPrecision),d=i.defaultPathOperation||"S"),o=i.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var p=i.putOnlyUsedFonts||!1,g={},v={internal:{},__private__:{}};v.__private__.PubSub=WA;var x="1.3",y=v.__private__.getPdfVersion=function(){return x};v.__private__.setPdfVersion=function(C){x=C};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return _};var E=v.__private__.getPageFormat=function(C){return _[C]};r=r||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},L=T.COMPAT;function O(){this.saveGraphicsState(),lt(new oe(ne,0,0,-ne,0,lo()*ne).toString()+" cm"),this.setFontSize(this.getFontSize()/ne),d="n",L=T.ADVANCED}function D(){this.restoreGraphicsState(),d="S",L=T.COMPAT}var I=v.__private__.combineFontStyleAndFontWeight=function(C,q){if(C=="bold"&&q=="normal"||C=="bold"&&q==400||C=="normal"&&q=="italic"||C=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(C=q==400||q==="normal"?C==="italic"?"italic":"normal":q!=700&&q!=="bold"||C!=="normal"?(q==700?"bold":q)+""+C:"bold"),C};v.advancedAPI=function(C){var q=L===T.COMPAT;return q&&O.call(this),typeof C!="function"||(C(this),q&&D.call(this)),this},v.compatAPI=function(C){var q=L===T.ADVANCED;return q&&D.call(this),typeof C!="function"||(C(this),q&&O.call(this)),this},v.isAdvancedAPI=function(){return L===T.ADVANCED};var k,j=function(C){if(L!==T.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=v.roundToPrecision=v.__private__.roundToPrecision=function(C,q){var ut=t||q;if(isNaN(C)||isNaN(ut))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ut).replace(/0+$/,"")};k=v.hpf=v.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return K(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return K(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return K(C,16)};var st=v.f2=v.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return K(C,2)},B=v.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return K(C,3)},G=v.scale=v.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return L===T.COMPAT?C*ne:L===T.ADVANCED?C:void 0},it=function(C){return L===T.COMPAT?lo()-C:L===T.ADVANCED?C:void 0},nt=function(C){return G(it(C))};v.__private__.setPrecision=v.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var ht,U="00000000000000000000000000000000",Z=v.__private__.getFileId=function(){return U},J=v.__private__.setFileId=function(C){return U=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ki=new vd(f.userPermissions,f.userPassword,f.ownerPassword,U)),U};v.setFileId=function(C){return J(C),this},v.getFileId=function(){return Z()};var pt=v.__private__.convertDateToPDFDate=function(C){var q=C.getTimezoneOffset(),ut=q<0?"+":"-",gt=Math.floor(Math.abs(q/60)),Et=Math.abs(q%60),jt=[ut,tt(gt),"'",tt(Et),"'"].join("");return["D:",C.getFullYear(),tt(C.getMonth()+1),tt(C.getDate()),tt(C.getHours()),tt(C.getMinutes()),tt(C.getSeconds()),jt].join("")},$=v.__private__.convertPDFDateToDate=function(C){var q=parseInt(C.substr(2,4),10),ut=parseInt(C.substr(6,2),10)-1,gt=parseInt(C.substr(8,2),10),Et=parseInt(C.substr(10,2),10),jt=parseInt(C.substr(12,2),10),Wt=parseInt(C.substr(14,2),10);return new Date(q,ut,gt,Et,jt,Wt,0)},dt=v.__private__.setCreationDate=function(C){var q;if(C===void 0&&(C=new Date),C instanceof Date)q=pt(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=C}return ht=q},F=v.__private__.getCreationDate=function(C){var q=ht;return C==="jsDate"&&(q=$(ht)),q};v.setCreationDate=function(C){return dt(C),this},v.getCreationDate=function(C){return F(C)};var V,tt=v.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},at=v.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ot=0,ct=[],mt=[],xt=0,Tt=[],Ot=[],zt=!1,$t=mt,Kt=function(){ot=0,xt=0,mt=[],ct=[],Tt=[],Vr=_n(),Gr=_n()};v.__private__.setCustomOutputDestination=function(C){zt=!0,$t=C};var Lt=function(C){zt||($t=C)};v.__private__.resetCustomOutputDestination=function(){zt=!1,$t=mt};var lt=v.__private__.out=function(C){return C=C.toString(),xt+=C.length+1,$t.push(C),$t},se=v.__private__.write=function(C){return lt(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},ae=v.__private__.getArrayBuffer=function(C){for(var q=C.length,ut=new ArrayBuffer(q),gt=new Uint8Array(ut);q--;)gt[q]=C.charCodeAt(q);return ut},Vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Vt};var Zt=i.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(C){return Zt=L===T.ADVANCED?C/ne:C,this};var Jt,Xt=v.__private__.getFontSize=v.getFontSize=function(){return L===T.COMPAT?Zt:Zt*ne},ce=i.R2L||!1;v.__private__.setR2L=v.setR2L=function(C){return ce=C,this},v.__private__.getR2L=v.getR2L=function(){return ce};var Ce,ke=v.__private__.setZoomMode=function(C){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Jt=C;else if(isNaN(C)){if(q.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Jt=C}else Jt=parseInt(C,10)};v.__private__.getZoomMode=function(){return Jt};var Se,be=v.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ce=C};v.__private__.getPageMode=function(){return Ce};var Fe=v.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Se=C};v.__private__.getLayoutMode=function(){return Se},v.__private__.setDisplayMode=v.setDisplayMode=function(C,q,ut){return ke(C),Fe(q),be(ut),this};var le={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(C){if(Object.keys(le).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return le[C]},v.__private__.getDocumentProperties=function(){return le},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(C){for(var q in le)le.hasOwnProperty(q)&&C[q]&&(le[q]=C[q]);return this},v.__private__.setDocumentProperty=function(C,q){if(Object.keys(le).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return le[C]=q};var Re,ne,Xn,We,tr,Qe={},yn={},er=[],on={},$i={},In={},gr={},nr=null,Fn=0,Qt=[],xe=new WA(v),Pn=i.hotfixes||[],hn={},ir={},En=[],oe=function C(q,ut,gt,Et,jt,Wt){if(!(this instanceof C))return new C(q,ut,gt,Et,jt,Wt);isNaN(q)&&(q=1),isNaN(ut)&&(ut=0),isNaN(gt)&&(gt=0),isNaN(Et)&&(Et=1),isNaN(jt)&&(jt=0),isNaN(Wt)&&(Wt=0),this._matrix=[q,ut,gt,Et,jt,Wt]};Object.defineProperty(oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),oe.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(C)},oe.prototype.multiply=function(C){var q=C.sx*this.sx+C.shy*this.shx,ut=C.sx*this.shy+C.shy*this.sy,gt=C.shx*this.sx+C.sy*this.shx,Et=C.shx*this.shy+C.sy*this.sy,jt=C.tx*this.sx+C.ty*this.shx+this.tx,Wt=C.tx*this.shy+C.ty*this.sy+this.ty;return new oe(q,ut,gt,Et,jt,Wt)},oe.prototype.decompose=function(){var C=this.sx,q=this.shy,ut=this.shx,gt=this.sy,Et=this.tx,jt=this.ty,Wt=Math.sqrt(C*C+q*q),ie=(C/=Wt)*ut+(q/=Wt)*gt;ut-=C*ie,gt-=q*ie;var me=Math.sqrt(ut*ut+gt*gt);return ie/=me,C*(gt/=me)<q*(ut/=me)&&(C=-C,q=-q,ie=-ie,Wt=-Wt),{scale:new oe(Wt,0,0,me,0,0),translate:new oe(1,0,0,1,Et,jt),rotate:new oe(C,q,-q,C,0,0),skew:new oe(1,0,ie,1,0,0)}},oe.prototype.toString=function(C){return this.join(" ")},oe.prototype.inversed=function(){var C=this.sx,q=this.shy,ut=this.shx,gt=this.sy,Et=this.tx,jt=this.ty,Wt=1/(C*gt-q*ut),ie=gt*Wt,me=-q*Wt,Be=-ut*Wt,je=C*Wt;return new oe(ie,me,Be,je,-ie*Et-Be*jt,-me*Et-je*jt)},oe.prototype.applyToPoint=function(C){var q=C.x*this.sx+C.y*this.shx+this.tx,ut=C.x*this.shy+C.y*this.sy+this.ty;return new tc(q,ut)},oe.prototype.applyToRectangle=function(C){var q=this.applyToPoint(C),ut=this.applyToPoint(new tc(C.x+C.w,C.y+C.h));return new pu(q.x,q.y,ut.x-q.x,ut.y-q.y)},oe.prototype.clone=function(){var C=this.sx,q=this.shy,ut=this.shx,gt=this.sy,Et=this.tx,jt=this.ty;return new oe(C,q,ut,gt,Et,jt)},v.Matrix=oe;var gn=v.matrixMult=function(C,q){return q.multiply(C)},tn=new oe(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=tn;var vn=function(C,q){if(!$i[C]){var ut=(q instanceof Wu?"Sh":"P")+(Object.keys(on).length+1).toString(10);q.id=ut,$i[C]=ut,on[ut]=q,xe.publish("addPattern",q)}};v.ShadingPattern=Wu,v.TilingPattern=Sd,v.addShadingPattern=function(C,q){return j("addShadingPattern()"),vn(C,q),this},v.beginTilingPattern=function(C){j("beginTilingPattern()"),ec(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},v.endTilingPattern=function(C,q){j("endTilingPattern()"),q.stream=Ot[V].join(`
`),vn(C,q),xe.publish("endTilingPattern",q),En.pop().restore()};var Gn=v.__private__.newObject=function(){var C=_n();return _r(C,!0),C},_n=v.__private__.newObjectDeferred=function(){return ot++,ct[ot]=function(){return xt},ot},_r=function(C,q){return q=typeof q=="boolean"&&q,ct[C]=xt,q&&lt(C+" 0 obj"),C},el=v.__private__.newAdditionalObject=function(){var C={objId:_n(),content:""};return Tt.push(C),C},Vr=_n(),Gr=_n(),rr=v.__private__.decodeColorString=function(C){var q=C.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ut=parseFloat(q[0]);q=[ut,ut,ut,"r"]}for(var gt="#",Et=0;Et<3;Et++)gt+=("0"+Math.floor(255*parseFloat(q[Et])).toString(16)).slice(-2);return gt},sr=v.__private__.encodeColorString=function(C){var q;typeof C=="string"&&(C={ch1:C});var ut=C.ch1,gt=C.ch2,Et=C.ch3,jt=C.ch4,Wt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ut=="string"&&ut.charAt(0)!=="#"){var ie=new A3(ut);if(ie.ok)ut=ie.toHex();else if(!/^\d*\.?\d*$/.test(ut))throw new Error('Invalid color "'+ut+'" passed to jsPDF.encodeColorString.')}if(typeof ut=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ut)&&(ut="#"+ut[1]+ut[1]+ut[2]+ut[2]+ut[3]+ut[3]),typeof ut=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ut)){var me=parseInt(ut.substr(1),16);ut=me>>16&255,gt=me>>8&255,Et=255&me}if(gt===void 0||jt===void 0&&ut===gt&&gt===Et)if(typeof ut=="string")q=ut+" "+Wt[0];else switch(C.precision){case 2:q=st(ut/255)+" "+Wt[0];break;case 3:default:q=B(ut/255)+" "+Wt[0]}else if(jt===void 0||Mn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return q=["1.","1.","1.",Wt[1]].join(" ");if(typeof ut=="string")q=[ut,gt,Et,Wt[1]].join(" ");else switch(C.precision){case 2:q=[st(ut/255),st(gt/255),st(Et/255),Wt[1]].join(" ");break;default:case 3:q=[B(ut/255),B(gt/255),B(Et/255),Wt[1]].join(" ")}}else if(typeof ut=="string")q=[ut,gt,Et,jt,Wt[2]].join(" ");else switch(C.precision){case 2:q=[st(ut),st(gt),st(Et),st(jt),Wt[2]].join(" ");break;case 3:default:q=[B(ut),B(gt),B(Et),B(jt),Wt[2]].join(" ")}return q},Nr=v.__private__.getFilters=function(){return o},Wi=v.__private__.putStream=function(C){var q=(C=C||{}).data||"",ut=C.filters||Nr(),gt=C.alreadyAppliedFilters||[],Et=C.addLength1||!1,jt=q.length,Wt=C.objectId,ie=function(ui){return ui};if(f!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ie=ki.encryptor(Wt,0));var me={};ut===!0&&(ut=["FlateEncode"]);var Be=C.additionalKeyValues||[],je=(me=_e.API.processDataByFilters!==void 0?_e.API.processDataByFilters(q,ut):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(gt)?gt.join(" "):gt.toString());if(me.data.length!==0&&(Be.push({key:"Length",value:me.data.length}),Et===!0&&Be.push({key:"Length1",value:jt})),je.length!=0)if(je.split("/").length-1==1)Be.push({key:"Filter",value:je});else{Be.push({key:"Filter",value:"["+je+"]"});for(var en=0;en<Be.length;en+=1)if(Be[en].key==="DecodeParms"){for(var $n=[],Kn=0;Kn<me.reverseChain.split("/").length-1;Kn+=1)$n.push("null");$n.push(Be[en].value),Be[en].value="["+$n.join(" ")+"]"}}lt("<<");for(var ci=0;ci<Be.length;ci++)lt("/"+Be[ci].key+" "+Be[ci].value);lt(">>"),me.data.length!==0&&(lt("stream"),lt(ie(me.data)),lt("endstream"))},Cn=v.__private__.putPage=function(C){var q=C.number,ut=C.data,gt=C.objId,Et=C.contentsObjId;_r(gt,!0),lt("<</Type /Page"),lt("/Parent "+C.rootDictionaryObjId+" 0 R"),lt("/Resources "+C.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(k(C.mediaBox.bottomLeftX))+" "+parseFloat(k(C.mediaBox.bottomLeftY))+" "+k(C.mediaBox.topRightX)+" "+k(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&lt("/CropBox ["+k(C.cropBox.bottomLeftX)+" "+k(C.cropBox.bottomLeftY)+" "+k(C.cropBox.topRightX)+" "+k(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&lt("/BleedBox ["+k(C.bleedBox.bottomLeftX)+" "+k(C.bleedBox.bottomLeftY)+" "+k(C.bleedBox.topRightX)+" "+k(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&lt("/TrimBox ["+k(C.trimBox.bottomLeftX)+" "+k(C.trimBox.bottomLeftY)+" "+k(C.trimBox.topRightX)+" "+k(C.trimBox.topRightY)+"]"),C.artBox!==null&&lt("/ArtBox ["+k(C.artBox.bottomLeftX)+" "+k(C.artBox.bottomLeftY)+" "+k(C.artBox.topRightX)+" "+k(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&lt("/UserUnit "+C.userUnit),xe.publish("putPage",{objId:gt,pageContext:Qt[q],pageNumber:q,page:ut}),lt("/Contents "+Et+" 0 R"),lt(">>"),lt("endobj");var jt=ut.join(`
`);return L===T.ADVANCED&&(jt+=`
Q`),_r(Et,!0),Wi({data:jt,filters:Nr(),objectId:Et}),lt("endobj"),gt},Ja=v.__private__.putPages=function(){var C,q,ut=[];for(C=1;C<=Fn;C++)Qt[C].objId=_n(),Qt[C].contentsObjId=_n();for(C=1;C<=Fn;C++)ut.push(Cn({number:C,data:Ot[C],objId:Qt[C].objId,contentsObjId:Qt[C].contentsObjId,mediaBox:Qt[C].mediaBox,cropBox:Qt[C].cropBox,bleedBox:Qt[C].bleedBox,trimBox:Qt[C].trimBox,artBox:Qt[C].artBox,userUnit:Qt[C].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:Gr}));_r(Vr,!0),lt("<</Type /Pages");var gt="/Kids [";for(q=0;q<Fn;q++)gt+=ut[q]+" 0 R ";lt(gt+"]"),lt("/Count "+Fn),lt(">>"),lt("endobj"),xe.publish("postPutPages")},nl=function(C){xe.publish("putFont",{font:C,out:lt,newObject:Gn,putStream:Wi}),C.isAlreadyPutted!==!0&&(C.objectNumber=Gn(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+bd(C.postScriptName)),lt("/Subtype /Type1"),typeof C.encoding=="string"&&lt("/Encoding /"+C.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},es=function(){for(var C in Qe)Qe.hasOwnProperty(C)&&(p===!1||p===!0&&g.hasOwnProperty(C))&&nl(Qe[C])},ws=function(C){C.objectNumber=Gn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[k(C.x),k(C.y),k(C.x+C.width),k(C.y+C.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ut=C.pages[1].join(`
`);Wi({data:ut,additionalKeyValues:q,objectId:C.objectNumber}),lt("endobj")},Vl=function(){for(var C in hn)hn.hasOwnProperty(C)&&ws(hn[C])},iu=function(C,q){var ut,gt=[],Et=1/(q-1);for(ut=0;ut<1;ut+=Et)gt.push(ut);if(gt.push(1),C[0].offset!=0){var jt={offset:0,color:C[0].color};C.unshift(jt)}if(C[C.length-1].offset!=1){var Wt={offset:1,color:C[C.length-1].color};C.push(Wt)}for(var ie="",me=0,Be=0;Be<gt.length;Be++){for(ut=gt[Be];ut>C[me+1].offset;)me++;var je=C[me].offset,en=(ut-je)/(C[me+1].offset-je),$n=C[me].color,Kn=C[me+1].color;ie+=at(Math.round((1-en)*$n[0]+en*Kn[0]).toString(16))+at(Math.round((1-en)*$n[1]+en*Kn[1]).toString(16))+at(Math.round((1-en)*$n[2]+en*Kn[2]).toString(16))}return ie.trim()},Ah=function(C,q){q||(q=21);var ut=Gn(),gt=iu(C.colors,q),Et=[];Et.push({key:"FunctionType",value:"0"}),Et.push({key:"Domain",value:"[0.0 1.0]"}),Et.push({key:"Size",value:"["+q+"]"}),Et.push({key:"BitsPerSample",value:"8"}),Et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wi({data:gt,additionalKeyValues:Et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ut}),lt("endobj"),C.objectNumber=Gn(),lt("<< /ShadingType "+C.type),lt("/ColorSpace /DeviceRGB");var jt="/Coords ["+k(parseFloat(C.coords[0]))+" "+k(parseFloat(C.coords[1]))+" ";C.type===2?jt+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3])):jt+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3]))+" "+k(parseFloat(C.coords[4]))+" "+k(parseFloat(C.coords[5])),lt(jt+="]"),C.matrix&&lt("/Matrix ["+C.matrix.toString()+"]"),lt("/Function "+ut+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},sf=function(C,q){var ut=_n(),gt=Gn();q.push({resourcesOid:ut,objectOid:gt}),C.objectNumber=gt;var Et=[];Et.push({key:"Type",value:"/Pattern"}),Et.push({key:"PatternType",value:"1"}),Et.push({key:"PaintType",value:"1"}),Et.push({key:"TilingType",value:"1"}),Et.push({key:"BBox",value:"["+C.boundingBox.map(k).join(" ")+"]"}),Et.push({key:"XStep",value:k(C.xStep)}),Et.push({key:"YStep",value:k(C.yStep)}),Et.push({key:"Resources",value:ut+" 0 R"}),C.matrix&&Et.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Wi({data:C.stream,additionalKeyValues:Et,objectId:C.objectNumber}),lt("endobj")},ha=function(C){var q;for(q in on)on.hasOwnProperty(q)&&(on[q]instanceof Wu?Ah(on[q]):on[q]instanceof Sd&&sf(on[q],C))},il=function(C){for(var q in C.objectNumber=Gn(),lt("<<"),C)switch(q){case"opacity":lt("/ca "+st(C[q]));break;case"stroke-opacity":lt("/CA "+st(C[q]))}lt(">>"),lt("endobj")},xs=function(){var C;for(C in In)In.hasOwnProperty(C)&&il(In[C])},rl=function(){for(var C in lt("/XObject <<"),hn)hn.hasOwnProperty(C)&&hn[C].objectNumber>=0&&lt("/"+C+" "+hn[C].objectNumber+" 0 R");xe.publish("putXobjectDict"),lt(">>")},Sh=function(){ki.oid=Gn(),lt("<<"),lt("/Filter /Standard"),lt("/V "+ki.v),lt("/R "+ki.r),lt("/U <"+ki.toHexString(ki.U)+">"),lt("/O <"+ki.toHexString(ki.O)+">"),lt("/P "+ki.P),lt(">>"),lt("endobj")},da=function(){for(var C in lt("/Font <<"),Qe)Qe.hasOwnProperty(C)&&(p===!1||p===!0&&g.hasOwnProperty(C))&&lt("/"+C+" "+Qe[C].objectNumber+" 0 R");lt(">>")},ru=function(){if(Object.keys(on).length>0){for(var C in lt("/Shading <<"),on)on.hasOwnProperty(C)&&on[C]instanceof Wu&&on[C].objectNumber>=0&&lt("/"+C+" "+on[C].objectNumber+" 0 R");xe.publish("putShadingPatternDict"),lt(">>")}},to=function(C){if(Object.keys(on).length>0){for(var q in lt("/Pattern <<"),on)on.hasOwnProperty(q)&&on[q]instanceof v.TilingPattern&&on[q].objectNumber>=0&&on[q].objectNumber<C&&lt("/"+q+" "+on[q].objectNumber+" 0 R");xe.publish("putTilingPatternDict"),lt(">>")}},af=function(){if(Object.keys(In).length>0){var C;for(C in lt("/ExtGState <<"),In)In.hasOwnProperty(C)&&In[C].objectNumber>=0&&lt("/"+C+" "+In[C].objectNumber+" 0 R");xe.publish("putGStateDict"),lt(">>")}},Jn=function(C){_r(C.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),da(),ru(),to(C.objectOid),af(),rl(),lt(">>"),lt("endobj")},vr=function(){var C=[];es(),xs(),Vl(),ha(C),xe.publish("putResources"),C.forEach(Jn),Jn({resourcesOid:Gr,objectOid:Number.MAX_SAFE_INTEGER}),xe.publish("postPutResources")},su=function(){xe.publish("putAdditionalObjects");for(var C=0;C<Tt.length;C++){var q=Tt[C];_r(q.objId,!0),lt(q.content),lt("endobj")}xe.publish("postPutAdditionalObjects")},Eh=function(C){yn[C.fontName]=yn[C.fontName]||{},yn[C.fontName][C.fontStyle]=C.id},eo=function(C,q,ut,gt,Et){var jt={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:C,fontName:q,fontStyle:ut,encoding:gt,isStandardFont:Et||!1,metadata:{}};return xe.publish("addFont",{font:jt,instance:this}),Qe[jt.id]=jt,Eh(jt),jt.id},_h=function(C){for(var q=0,ut=Vt.length;q<ut;q++){var gt=eo.call(this,C[q][0],C[q][1],C[q][2],Vt[q][3],!0);p===!1&&(g[gt]=!0);var Et=C[q][0].split("-");Eh({id:gt,fontName:Et[0],fontStyle:Et[1]||""})}xe.publish("addFonts",{fonts:Qe,dictionary:yn})},Cr=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(gt){var q=gt.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ut="Error in function "+q.split(`
`)[0].split("<")[0]+": "+gt.message;if(!Pe.console)throw new Error(ut);Pe.console.error(ut,gt),Pe.alert&&alert(ut)}},C.foo.bar=C,C.foo},Gl=function(C,q){var ut,gt,Et,jt,Wt,ie,me,Be,je;if(Et=(q=q||{}).sourceEncoding||"Unicode",Wt=q.outputEncoding,(q.autoencode||Wt)&&Qe[Re].metadata&&Qe[Re].metadata[Et]&&Qe[Re].metadata[Et].encoding&&(jt=Qe[Re].metadata[Et].encoding,!Wt&&Qe[Re].encoding&&(Wt=Qe[Re].encoding),!Wt&&jt.codePages&&(Wt=jt.codePages[0]),typeof Wt=="string"&&(Wt=jt[Wt]),Wt)){for(me=!1,ie=[],ut=0,gt=C.length;ut<gt;ut++)(Be=Wt[C.charCodeAt(ut)])?ie.push(String.fromCharCode(Be)):ie.push(C[ut]),ie[ut].charCodeAt(0)>>8&&(me=!0);C=ie.join("")}for(ut=C.length;me===void 0&&ut!==0;)C.charCodeAt(ut-1)>>8&&(me=!0),ut--;if(!me)return C;for(ie=q.noBOM?[]:[254,255],ut=0,gt=C.length;ut<gt;ut++){if((je=(Be=C.charCodeAt(ut))>>8)>>8)throw new Error("Character at position "+ut+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(je),ie.push(Be-(je<<8))}return String.fromCharCode.apply(void 0,ie)},Bn=v.__private__.pdfEscape=v.pdfEscape=function(C,q){return Gl(C,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sl=v.__private__.beginPage=function(C){Ot[++Fn]=[],Qt[Fn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},fa(Fn),Lt(Ot[V])},au=function(C,q){var ut,gt,Et;switch(e=q||e,typeof C=="string"&&(ut=E(C.toLowerCase()),Array.isArray(ut)&&(gt=ut[0],Et=ut[1])),Array.isArray(C)&&(gt=C[0]*ne,Et=C[1]*ne),isNaN(gt)&&(gt=r[0],Et=r[1]),(gt>14400||Et>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),gt=Math.min(14400,gt),Et=Math.min(14400,Et)),r=[gt,Et],e.substr(0,1)){case"l":Et>gt&&(r=[Et,gt]);break;case"p":gt>Et&&(r=[Et,gt])}sl(r),Mh(so),lt(As),fu!==0&&lt(fu+" J"),Jl!==0&&lt(Jl+" j"),xe.publish("addPage",{pageNumber:Fn})},ou=function(C){C>0&&C<=Fn&&(Ot.splice(C,1),Qt.splice(C,1),Fn--,V>Fn&&(V=Fn),this.setPage(V))},fa=function(C){C>0&&C<=Fn&&(V=C)},Nh=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ot.length-1},lu=function(C,q,ut){var gt,Et=void 0;return ut=ut||{},C=C!==void 0?C:Qe[Re].fontName,q=q!==void 0?q:Qe[Re].fontStyle,gt=C.toLowerCase(),yn[gt]!==void 0&&yn[gt][q]!==void 0?Et=yn[gt][q]:yn[C]!==void 0&&yn[C][q]!==void 0?Et=yn[C][q]:ut.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+C+"', '"+q+"'. Refer to getFontList() for available fonts."),Et||ut.noFallback||(Et=yn.times[q])==null&&(Et=yn.times.normal),Et},no=v.__private__.putInfo=function(){var C=Gn(),q=function(gt){return gt};for(var ut in f!==null&&(q=ki.encryptor(C,0)),lt("<<"),lt("/Producer ("+Bn(q("jsPDF "+_e.version))+")"),le)le.hasOwnProperty(ut)&&le[ut]&&lt("/"+ut.substr(0,1).toUpperCase()+ut.substr(1)+" ("+Bn(q(le[ut]))+")");lt("/CreationDate ("+Bn(q(ht))+")"),lt(">>"),lt("endobj")},cu=v.__private__.putCatalog=function(C){var q=(C=C||{}).rootDictionaryObjId||Vr;switch(Gn(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+q+" 0 R"),Jt||(Jt="fullwidth"),Jt){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ut=""+Jt;ut.substr(ut.length-1)==="%"&&(Jt=parseInt(Jt)/100),typeof Jt=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+st(Jt)+"]")}switch(Se||(Se="continuous"),Se){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}Ce&&lt("/PageMode /"+Ce),xe.publish("putCatalog"),lt(">>"),lt("endobj")},Ch=v.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(ot+1)),lt("/Root "+ot+" 0 R"),lt("/Info "+(ot-1)+" 0 R"),f!==null&&lt("/Encrypt "+ki.oid+" 0 R"),lt("/ID [ <"+U+"> <"+U+"> ]"),lt(">>")},Rh=v.__private__.putHeader=function(){lt("%PDF-"+x),lt("%")},uu=v.__private__.putXRef=function(){var C="0000000000";lt("xref"),lt("0 "+(ot+1)),lt("0000000000 65535 f ");for(var q=1;q<=ot;q++)typeof ct[q]=="function"?lt((C+ct[q]()).slice(-10)+" 00000 n "):ct[q]!==void 0?lt((C+ct[q]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},pa=v.__private__.buildDocument=function(){Kt(),Lt(mt),xe.publish("buildDocument"),Rh(),Ja(),su(),vr(),f!==null&&Sh(),no(),cu();var C=xt;return uu(),Ch(),lt("startxref"),lt(""+C),lt("%%EOF"),Lt(Ot[V]),mt.join(`
`)},$l=v.__private__.getBlob=function(C){return new Blob([ae(C)],{type:"application/pdf"})},ma=v.output=v.__private__.output=Cr(function(C,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",C){case void 0:return pa();case"save":v.save(q.filename);break;case"arraybuffer":return ae(pa());case"blob":return $l(pa());case"bloburi":case"bloburl":if(Pe.URL!==void 0&&typeof Pe.URL.createObjectURL=="function")return Pe.URL&&Pe.URL.createObjectURL($l(pa()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ut="",gt=pa();try{ut=Zb(gt)}catch{ut=Zb(unescape(encodeURIComponent(gt)))}return"data:application/pdf;filename="+q.filename+";base64,"+ut;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var Et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Et=q.pdfObjectUrl,jt="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Et+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ie=Pe.open();return ie!==null&&ie.document.write(Wt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Be=Pe.open();if(Be!==null){Be.document.write(me);var je=this;Be.document.documentElement.querySelector("#pdfViewer").onload=function(){Be.document.title=q.filename,Be.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(je.output("bloburl"))}}return Be}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',$n=Pe.open();if($n!==null&&($n.document.write(en),$n.document.title=q.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Pe.document.location.href=this.output("datauristring",q);default:return null}}),Wl=function(C){return Array.isArray(Pn)===!0&&Pn.indexOf(C)>-1};switch(n){case"pt":ne=1;break;case"mm":ne=72/25.4;break;case"cm":ne=72/2.54;break;case"in":ne=72;break;case"px":ne=Wl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ne=12;break;case"ex":ne=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ne=n}var ki=null;dt(),J();var io=function(C){return f!==null?ki.encryptor(C,0):function(q){return q}},ga=v.__private__.getPageInfo=v.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[C].objId,pageNumber:C,pageContext:Qt[C]}},De=v.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Qt)if(Qt[q].objId===C)break;return ga(q)},hu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Qt[V].objId,pageNumber:V,pageContext:Qt[V]}};v.addPage=function(){return au.apply(this,arguments),this},v.setPage=function(){return fa.apply(this,arguments),Lt.call(this,Ot[V]),this},v.insertPage=function(C){return this.addPage(),this.movePage(V,C),this},v.movePage=function(C,q){var ut,gt;if(C>q){ut=Ot[C],gt=Qt[C];for(var Et=C;Et>q;Et--)Ot[Et]=Ot[Et-1],Qt[Et]=Qt[Et-1];Ot[q]=ut,Qt[q]=gt,this.setPage(q)}else if(C<q){ut=Ot[C],gt=Qt[C];for(var jt=C;jt<q;jt++)Ot[jt]=Ot[jt+1],Qt[jt]=Qt[jt+1];Ot[q]=ut,Qt[q]=gt,this.setPage(q)}return this},v.deletePage=function(){return ou.apply(this,arguments),this},v.__private__.text=v.text=function(C,q,ut,gt,Et){var jt,Wt,ie,me,Be,je,en,$n,Kn,ci=(gt=gt||{}).scope||this;if(typeof C=="number"&&typeof q=="number"&&(typeof ut=="string"||Array.isArray(ut))){var ui=ut;ut=q,q=C,C=ui}if(arguments[3]instanceof oe?(j("The transform parameter of text() with a Matrix value"),Kn=Et):(ie=arguments[4],me=arguments[5],Mn(en=arguments[3])==="object"&&en!==null||(typeof ie=="string"&&(me=ie,ie=null),typeof en=="string"&&(me=en,en=null),typeof en=="number"&&(ie=en,en=null),gt={flags:en,angle:ie,align:me})),isNaN(q)||isNaN(ut)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return ci;var ji="",Ss=!1,Yr=typeof gt.lineHeightFactor=="number"?gt.lineHeightFactor:$r,Es=ci.internal.scaleFactor;function vu(Ye){return Ye=Ye.split("	").join(Array(gt.TabLen||9).join(" ")),Bn(Ye,en)}function ba(Ye){for(var Xe,Dn=Ye.concat(),hi=[],ss=Dn.length;ss--;)typeof(Xe=Dn.shift())=="string"?hi.push(Xe):Array.isArray(Ye)&&(Xe.length===1||Xe[1]===void 0&&Xe[2]===void 0)?hi.push(Xe[0]):hi.push([Xe[0],Xe[1],Xe[2]]);return hi}function ya(Ye,Xe){var Dn;if(typeof Ye=="string")Dn=Xe(Ye)[0];else if(Array.isArray(Ye)){for(var hi,ss,yo=Ye.concat(),wo=[],Aa=yo.length;Aa--;)typeof(hi=yo.shift())=="string"?wo.push(Xe(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(ss=Xe(hi[0],hi[1],hi[2]),wo.push([ss[0],ss[1],ss[2]]));Dn=wo}return Dn}var rc=!1,co=!0;if(typeof C=="string")rc=!0;else if(Array.isArray(C)){var sc=C.concat();Wt=[];for(var cl,xi=sc.length;xi--;)(typeof(cl=sc.shift())!="string"||Array.isArray(cl)&&typeof cl[0]!="string")&&(co=!1);rc=co}if(rc===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var uo=Zt/ci.internal.scaleFactor,ul=uo*(Yr-1);switch(gt.baseline){case"bottom":ut-=ul;break;case"top":ut+=uo-ul;break;case"hanging":ut+=uo-2*ul;break;case"middle":ut+=uo/2-ul}if((je=gt.maxWidth||0)>0&&(typeof C=="string"?C=ci.splitTextToSize(C,je):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Ye,Xe){return Ye.concat(ci.splitTextToSize(Xe,je))},[]))),jt={text:C,x:q,y:ut,options:gt,mutex:{pdfEscape:Bn,activeFontKey:Re,fonts:Qe,activeFontSize:Zt}},xe.publish("preProcessText",jt),C=jt.text,ie=(gt=jt.options).angle,!(Kn instanceof oe)&&ie&&typeof ie=="number"){ie*=Math.PI/180,gt.rotationDirection===0&&(ie=-ie),L===T.ADVANCED&&(ie=-ie);var hl=Math.cos(ie),ac=Math.sin(ie);Kn=new oe(hl,ac,-ac,hl,0,0)}else ie&&ie instanceof oe&&(Kn=ie);L!==T.ADVANCED||Kn||(Kn=tn),(Be=gt.charSpace||Zl)!==void 0&&(ji+=k(G(Be))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=gt.horizontalScale)!==void 0&&(ji+=k(100*$n)+` Tz
`),gt.lang;var Tr=-1,hf=gt.renderingMode!==void 0?gt.renderingMode:gt.stroke,bu=ci.internal.getCurrentPageInfo().pageContext;switch(hf){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var Dh=bu.usedRenderingMode!==void 0?bu.usedRenderingMode:-1;Tr!==-1?ji+=Tr+` Tr
`:Dh!==-1&&(ji+=`0 Tr
`),Tr!==-1&&(bu.usedRenderingMode=Tr),me=gt.align||"left";var rs,Ii=Zt*Yr,ho=ci.internal.pageSize.getWidth(),yu=Qe[Re];Be=gt.charSpace||Zl,je=gt.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},gt.flags);var wa=[],fo=function(Ye){return ci.getStringUnitWidth(Ye,{font:yu,charSpace:Be,fontSize:Zt,doKerning:!1})*Zt/Es};if(Object.prototype.toString.call(C)==="[object Array]"){var br;Wt=ba(C),me!=="left"&&(rs=Wt.map(fo));var Yi,po=0;if(me==="right"){q-=rs[0],C=[],xi=Wt.length;for(var Lr=0;Lr<xi;Lr++)Lr===0?(Yi=Wr(q),br=$s(ut)):(Yi=G(po-rs[Lr]),br=-Ii),C.push([Wt[Lr],Yi,br]),po=rs[Lr]}else if(me==="center"){q-=rs[0]/2,C=[],xi=Wt.length;for(var _s=0;_s<xi;_s++)_s===0?(Yi=Wr(q),br=$s(ut)):(Yi=G((po-rs[_s])/2),br=-Ii),C.push([Wt[_s],Yi,br]),po=rs[_s]}else if(me==="left"){C=[],xi=Wt.length;for(var Ws=0;Ws<xi;Ws++)C.push(Wt[Ws])}else if(me==="justify"&&yu.encoding==="Identity-H"){C=[],xi=Wt.length,je=je!==0?je:ho;for(var Ns=0,ti=0;ti<xi;ti++)if(br=ti===0?$s(ut):-Ii,Yi=ti===0?Wr(q):Ns,ti<xi-1){var Cs=G((je-rs[ti])/(Wt[ti].split(" ").length-1)),gi=Wt[ti].split(" ");C.push([gi[0]+" ",Yi,br]),Ns=0;for(var Mr=1;Mr<gi.length;Mr++){var dl=(fo(gi[Mr-1]+" "+gi[Mr])-fo(gi[Mr]))*Es+Cs;Mr==gi.length-1?C.push([gi[Mr],dl,0]):C.push([gi[Mr]+" ",dl,0]),Ns-=dl}}else C.push([Wt[ti],Yi,br]);C.push(["",Ns,0])}else{if(me!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],xi=Wt.length,je=je!==0?je:ho,ti=0;ti<xi;ti++)br=ti===0?$s(ut):-Ii,Yi=ti===0?Wr(q):0,ti<xi-1?wa.push(k(G((je-rs[ti])/(Wt[ti].split(" ").length-1)))):wa.push(0),C.push([Wt[ti],Yi,br])}}var Ys=typeof gt.R2L=="boolean"?gt.R2L:ce;Ys===!0&&(C=ya(C,function(Ye,Xe,Dn){return[Ye.split("").reverse().join(""),Xe,Dn]})),jt={text:C,x:q,y:ut,options:gt,mutex:{pdfEscape:Bn,activeFontKey:Re,fonts:Qe,activeFontSize:Zt}},xe.publish("postProcessText",jt),C=jt.text,Ss=jt.mutex.isHex||!1;var oc=Qe[Re].encoding;oc!=="WinAnsiEncoding"&&oc!=="StandardEncoding"||(C=ya(C,function(Ye,Xe,Dn){return[vu(Ye),Xe,Dn]})),Wt=ba(C),C=[];for(var mo,go,vo,fl=0,lc=1,bo=Array.isArray(Wt[0])?lc:fl,xa="",pl=function(Ye,Xe,Dn){var hi="";return Dn instanceof oe?(Dn=typeof gt.angle=="number"?gn(Dn,new oe(1,0,0,1,Ye,Xe)):gn(new oe(1,0,0,1,Ye,Xe),Dn),L===T.ADVANCED&&(Dn=gn(new oe(1,0,0,-1,0,0),Dn)),hi=Dn.join(" ")+` Tm
`):hi=k(Ye)+" "+k(Xe)+` Td
`,hi},ei=0;ei<Wt.length;ei++){switch(xa="",bo){case lc:vo=(Ss?"<":"(")+Wt[ei][0]+(Ss?">":")"),mo=parseFloat(Wt[ei][1]),go=parseFloat(Wt[ei][2]);break;case fl:vo=(Ss?"<":"(")+Wt[ei]+(Ss?">":")"),mo=Wr(q),go=$s(ut)}wa!==void 0&&wa[ei]!==void 0&&(xa=wa[ei]+` Tw
`),ei===0?C.push(xa+pl(mo,go,Kn)+vo):bo===fl?C.push(xa+vo):bo===lc&&C.push(xa+pl(mo,go,Kn)+vo)}C=bo===fl?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Xr=`BT
/`;return Xr+=Re+" "+Zt+` Tf
`,Xr+=k(Zt*Yr)+` TL
`,Xr+=ol+`
`,Xr+=ji,Xr+=C,lt(Xr+="ET"),g[Re]=!0,ci};var Th=v.__private__.clip=v.clip=function(C){return lt(C==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Th("evenodd")},v.__private__.discardPath=v.discardPath=function(){return lt("n"),this};var Rr=v.__private__.isValidStyle=function(C){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(q=!0),q};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(C){return Rr(C)&&(d=C),this};var ns=v.__private__.getStyle=v.getStyle=function(C){var q=d;switch(C){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=C}return q},Yl=v.close=function(){return lt("h"),this};v.stroke=function(){return lt("S"),this},v.fill=function(C){return qs("f",C),this},v.fillEvenOdd=function(C){return qs("f*",C),this},v.fillStroke=function(C){return qs("B",C),this},v.fillStrokeEvenOdd=function(C){return qs("B*",C),this};var qs=function(C,q){Mn(q)==="object"?Xl(q,C):lt(C)},is=function(C){C===null||L===T.ADVANCED&&C===void 0||(C=ns(C),lt(C))};function du(C,q,ut,gt,Et){var jt=new Sd(q||this.boundingBox,ut||this.xStep,gt||this.yStep,this.gState,Et||this.matrix);jt.stream=this.stream;var Wt=C+"$$"+this.cloneIndex+++"$$";return vn(Wt,jt),jt}var Xl=function(C,q){var ut=$i[C.key],gt=on[ut];if(gt instanceof Wu)lt("q"),lt(Lh(q)),gt.gState&&v.setGState(gt.gState),lt(C.matrix.toString()+" cm"),lt("/"+ut+" sh"),lt("Q");else if(gt instanceof Sd){var Et=new oe(1,0,0,-1,0,lo());C.matrix&&(Et=Et.multiply(C.matrix||tn),ut=du.call(gt,C.key,C.boundingBox,C.xStep,C.yStep,Et).id),lt("q"),lt("/Pattern cs"),lt("/"+ut+" scn"),gt.gState&&v.setGState(gt.gState),lt(q),lt("Q")}},Lh=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ro=v.moveTo=function(C,q){return lt(k(G(C))+" "+k(nt(q))+" m"),this},Vs=v.lineTo=function(C,q){return lt(k(G(C))+" "+k(nt(q))+" l"),this},va=v.curveTo=function(C,q,ut,gt,Et,jt){return lt([k(G(C)),k(nt(q)),k(G(ut)),k(nt(gt)),k(G(Et)),k(nt(jt)),"c"].join(" ")),this};v.__private__.line=v.line=function(C,q,ut,gt,Et){if(isNaN(C)||isNaN(q)||isNaN(ut)||isNaN(gt)||!Rr(Et))throw new Error("Invalid arguments passed to jsPDF.line");return L===T.COMPAT?this.lines([[ut-C,gt-q]],C,q,[1,1],Et||"S"):this.lines([[ut-C,gt-q]],C,q,[1,1]).stroke()},v.__private__.lines=v.lines=function(C,q,ut,gt,Et,jt){var Wt,ie,me,Be,je,en,$n,Kn,ci,ui,ji,Ss;if(typeof C=="number"&&(Ss=ut,ut=q,q=C,C=Ss),gt=gt||[1,1],jt=jt||!1,isNaN(q)||isNaN(ut)||!Array.isArray(C)||!Array.isArray(gt)||!Rr(Et)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ro(q,ut),Wt=gt[0],ie=gt[1],Be=C.length,ui=q,ji=ut,me=0;me<Be;me++)(je=C[me]).length===2?(ui=je[0]*Wt+ui,ji=je[1]*ie+ji,Vs(ui,ji)):(en=je[0]*Wt+ui,$n=je[1]*ie+ji,Kn=je[2]*Wt+ui,ci=je[3]*ie+ji,ui=je[4]*Wt+ui,ji=je[5]*ie+ji,va(en,$n,Kn,ci,ui,ji));return jt&&Yl(),is(Et),this},v.path=function(C){for(var q=0;q<C.length;q++){var ut=C[q],gt=ut.c;switch(ut.op){case"m":ro(gt[0],gt[1]);break;case"l":Vs(gt[0],gt[1]);break;case"c":va.apply(this,gt);break;case"h":Yl()}}return this},v.__private__.rect=v.rect=function(C,q,ut,gt,Et){if(isNaN(C)||isNaN(q)||isNaN(ut)||isNaN(gt)||!Rr(Et))throw new Error("Invalid arguments passed to jsPDF.rect");return L===T.COMPAT&&(gt=-gt),lt([k(G(C)),k(nt(q)),k(G(ut)),k(G(gt)),"re"].join(" ")),is(Et),this},v.__private__.triangle=v.triangle=function(C,q,ut,gt,Et,jt,Wt){if(isNaN(C)||isNaN(q)||isNaN(ut)||isNaN(gt)||isNaN(Et)||isNaN(jt)||!Rr(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ut-C,gt-q],[Et-ut,jt-gt],[C-Et,q-jt]],C,q,[1,1],Wt,!0),this},v.__private__.roundedRect=v.roundedRect=function(C,q,ut,gt,Et,jt,Wt){if(isNaN(C)||isNaN(q)||isNaN(ut)||isNaN(gt)||isNaN(Et)||isNaN(jt)||!Rr(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return Et=Math.min(Et,.5*ut),jt=Math.min(jt,.5*gt),this.lines([[ut-2*Et,0],[Et*ie,0,Et,jt-jt*ie,Et,jt],[0,gt-2*jt],[0,jt*ie,-Et*ie,jt,-Et,jt],[2*Et-ut,0],[-Et*ie,0,-Et,-jt*ie,-Et,-jt],[0,2*jt-gt],[0,-jt*ie,Et*ie,-jt,Et,-jt]],C+Et,q,[1,1],Wt,!0),this},v.__private__.ellipse=v.ellipse=function(C,q,ut,gt,Et){if(isNaN(C)||isNaN(q)||isNaN(ut)||isNaN(gt)||!Rr(Et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*ut,Wt=4/3*(Math.SQRT2-1)*gt;return ro(C+ut,q),va(C+ut,q-Wt,C+jt,q-gt,C,q-gt),va(C-jt,q-gt,C-ut,q-Wt,C-ut,q),va(C-ut,q+Wt,C-jt,q+gt,C,q+gt),va(C+jt,q+gt,C+ut,q+Wt,C+ut,q),is(Et),this},v.__private__.circle=v.circle=function(C,q,ut,gt){if(isNaN(C)||isNaN(q)||isNaN(ut)||!Rr(gt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,q,ut,ut,gt)},v.setFont=function(C,q,ut){return ut&&(q=I(q,ut)),Re=lu(C,q,{disableWarning:!1}),this};var ar=v.__private__.getFont=v.getFont=function(){return Qe[lu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var C,q,ut={};for(C in yn)if(yn.hasOwnProperty(C))for(q in ut[C]=[],yn[C])yn[C].hasOwnProperty(q)&&ut[C].push(q);return ut},v.addFont=function(C,q,ut,gt,Et){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?Et=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(ut=I(ut,gt)),Et=Et||"Identity-H",eo.call(this,C,q,ut,Et)};var $r,so=i.lineWidth||.200025,Gs=v.__private__.getLineWidth=v.getLineWidth=function(){return so},Mh=v.__private__.setLineWidth=v.setLineWidth=function(C){return so=C,lt(k(G(C))+" w"),this};v.__private__.setLineDash=_e.API.setLineDash=_e.API.setLineDashPattern=function(C,q){if(C=C||[],q=q||0,isNaN(q)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ut){return k(G(ut))}).join(" "),q=k(G(q)),lt("["+C+"] "+q+" d"),this};var Kl=v.__private__.getLineHeight=v.getLineHeight=function(){return Zt*$r};v.__private__.getLineHeight=v.getLineHeight=function(){return Zt*$r};var Ql=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&($r=C),this},ao=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return $r};Ql(i.lineHeight);var Wr=v.__private__.getHorizontalCoordinate=function(C){return G(C)},$s=v.__private__.getVerticalCoordinate=function(C){return L===T.ADVANCED?C:Qt[V].mediaBox.topRightY-Qt[V].mediaBox.bottomLeftY-G(C)},of=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(C){return k(Wr(C))},oo=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(C){return k($s(C))},As=i.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return rr(As)},v.__private__.setStrokeColor=v.setDrawColor=function(C,q,ut,gt){return As=sr({ch1:C,ch2:q,ch3:ut,ch4:gt,pdfColorType:"draw",precision:2}),lt(As),this};var al=i.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return rr(al)},v.__private__.setFillColor=v.setFillColor=function(C,q,ut,gt){return al=sr({ch1:C,ch2:q,ch3:ut,ch4:gt,pdfColorType:"fill",precision:2}),lt(al),this};var ol=i.textColor||"0 g",lf=v.__private__.getTextColor=v.getTextColor=function(){return rr(ol)};v.__private__.setTextColor=v.setTextColor=function(C,q,ut,gt){return ol=sr({ch1:C,ch2:q,ch3:ut,ch4:gt,pdfColorType:"text",precision:3}),this};var Zl=i.charSpace,cf=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Zl||0)};v.__private__.setCharSpace=v.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zl=C,this};var fu=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(C){var q=v.CapJoinStyles[C];if(q===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=q,lt(q+" J"),this};var Jl=0;v.__private__.setLineJoin=v.setLineJoin=function(C){var q=v.CapJoinStyles[C];if(q===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jl=q,lt(q+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(k(G(C))+" M"),this},v.GState=r0,v.setGState=function(C){(C=typeof C=="string"?In[gr[C]]:Ph(null,C)).equals(nr)||(lt("/"+C.id+" gs"),nr=C)};var Ph=function(C,q){if(!C||!gr[C]){var ut=!1;for(var gt in In)if(In.hasOwnProperty(gt)&&In[gt].equals(q)){ut=!0;break}if(ut)q=In[gt];else{var Et="GS"+(Object.keys(In).length+1).toString(10);In[Et]=q,q.id=Et}return C&&(gr[C]=q.id),xe.publish("addGState",q),q}};v.addGState=function(C,q){return Ph(C,q),this},v.saveGraphicsState=function(){return lt("q"),er.push({key:Re,size:Zt,color:ol}),this},v.restoreGraphicsState=function(){lt("Q");var C=er.pop();return Re=C.key,Zt=C.size,ol=C.color,nr=null,this},v.setCurrentTransformationMatrix=function(C){return lt(C.toString()+" cm"),this},v.comment=function(C){return lt("#"+C),this};var tc=function(C,q){var ut=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ut},set:function(jt){isNaN(jt)||(ut=parseFloat(jt))}});var gt=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return gt},set:function(jt){isNaN(jt)||(gt=parseFloat(jt))}});var Et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Et},set:function(jt){Et=jt.toString()}}),this},pu=function(C,q,ut,gt){tc.call(this,C,q),this.type="rect";var Et=ut||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Et},set:function(Wt){isNaN(Wt)||(Et=parseFloat(Wt))}});var jt=gt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Wt){isNaN(Wt)||(jt=parseFloat(Wt))}}),this},mu=function(){this.page=Fn,this.currentPage=V,this.pages=Ot.slice(0),this.pagesContext=Qt.slice(0),this.x=Xn,this.y=We,this.matrix=tr,this.width=ll(V),this.height=lo(V),this.outputDestination=$t,this.id="",this.objectNumber=-1};mu.prototype.restore=function(){Fn=this.page,V=this.currentPage,Qt=this.pagesContext,Ot=this.pages,Xn=this.x,We=this.y,tr=this.matrix,ic(V,this.width),gu(V,this.height),$t=this.outputDestination};var ec=function(C,q,ut,gt,Et){En.push(new mu),Fn=V=0,Ot=[],Xn=C,We=q,tr=Et,sl([ut,gt])},uf=function(C){if(ir[C])En.pop().restore();else{var q=new mu,ut="Xo"+(Object.keys(hn).length+1).toString(10);q.id=ut,ir[C]=ut,hn[ut]=q,xe.publish("addFormObject",q),En.pop().restore()}};for(var nc in v.beginFormObject=function(C,q,ut,gt,Et){return ec(C,q,ut,gt,Et),this},v.endFormObject=function(C){return uf(C),this},v.doFormObject=function(C,q){var ut=hn[ir[C]];return lt("q"),lt(q.toString()+" cm"),lt("/"+ut.id+" Do"),lt("Q"),this},v.getFormObject=function(C){var q=hn[ir[C]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},v.save=function(C,q){return C=C||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Vu($l(pa()),C),typeof Vu.unload=="function"&&Pe.setTimeout&&setTimeout(Vu.unload,911),this):new Promise(function(ut,gt){try{var Et=Vu($l(pa()),C);typeof Vu.unload=="function"&&Pe.setTimeout&&setTimeout(Vu.unload,911),ut(Et)}catch(jt){gt(jt.message)}})},_e.API)_e.API.hasOwnProperty(nc)&&(nc==="events"&&_e.API.events.length?function(C,q){var ut,gt,Et;for(Et=q.length-1;Et!==-1;Et--)ut=q[Et][0],gt=q[Et][1],C.subscribe.apply(C,[ut].concat(typeof gt=="function"?[gt]:gt))}(xe,_e.API.events):v[nc]=_e.API[nc]);var ll=v.getPageWidth=function(C){return(Qt[C=C||V].mediaBox.topRightX-Qt[C].mediaBox.bottomLeftX)/ne},ic=v.setPageWidth=function(C,q){Qt[C].mediaBox.topRightX=q*ne+Qt[C].mediaBox.bottomLeftX},lo=v.getPageHeight=function(C){return(Qt[C=C||V].mediaBox.topRightY-Qt[C].mediaBox.bottomLeftY)/ne},gu=v.setPageHeight=function(C,q){Qt[C].mediaBox.topRightY=q*ne+Qt[C].mediaBox.bottomLeftY};return v.internal={pdfEscape:Bn,getStyle:ns,getFont:ar,getFontSize:Xt,getCharSpace:cf,getTextColor:lf,getLineHeight:Kl,getLineHeightFactor:ao,getLineWidth:Gs,write:se,getHorizontalCoordinate:Wr,getVerticalCoordinate:$s,getCoordinateString:of,getVerticalCoordinateString:oo,collections:{},newObject:Gn,newAdditionalObject:el,newObjectDeferred:_n,newObjectDeferredBegin:_r,getFilters:Nr,putStream:Wi,events:xe,scaleFactor:ne,pageSize:{getWidth:function(){return ll(V)},setWidth:function(C){ic(V,C)},getHeight:function(){return lo(V)},setHeight:function(C){gu(V,C)}},encryptionOptions:f,encryption:ki,getEncryptor:io,output:ma,getNumberOfPages:Nh,pages:Ot,out:lt,f2:st,f3:B,getPageInfo:ga,getPageInfoByObjId:De,getCurrentPageInfo:hu,getPDFVersion:y,Point:tc,Rectangle:pu,Matrix:oe,hasHotfix:Wl},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return ll(V)},set:function(C){ic(V,C)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return lo(V)},set:function(C){gu(V,C)},enumerable:!0,configurable:!0}),_h.call(v,Vt),Re="F1",au(r,e),xe.publish("initialized"),v}vd.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},vd.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vd.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},vd.prototype.processOwnerPassword=function(i,t){return ty(Jb(t).substr(0,5),i)},vd.prototype.encryptor=function(i,t){var e=Jb(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return ty(e,n)}},r0.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Mn(i)!==Mn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},_e.API={events:[]},_e.version="3.0.1";var wi=_e.API,_2=1,xh=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fd=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ue=function(i){return i.toFixed(2)},Ic=function(i){return i.toFixed(5)};wi.__acroform__={};var ys=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},YA=function(i){return i*_2},Bo=function(i){var t=new N3,e=pe.internal.getHeight(i)||0,n=pe.internal.getWidth(i)||0;return t.BBox=[0,0,Number(Ue(n)),Number(Ue(e))],t},ZB=wi.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},JB=wi.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},t9=wi.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(i&1<<t)==0?0:1},Li=wi.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return t9(i,t-1)},Mi=wi.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZB(i,t-1)},Pi=wi.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JB(i,t-1)},e9=wi.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],s=i[1],o=i[2],c=i[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=n(s+c)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=n(s)||0,[Number(Ue(u.lowerLeft_X)),Number(Ue(u.lowerLeft_Y)),Number(Ue(u.upperRight_X)),Number(Ue(u.upperRight_Y))]},n9=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=ey(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+Ue(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Bo(i);return s.scope=i.scope,s.stream=t.join(`
`),s}},ey=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(B){return B.split(`
`)}):r.map(function(B){return[B]});var s=e,o=pe.internal.getHeight(i)||0;o=o<0?-o:o;var c=pe.internal.getWidth(i)||0;c=c<0?-c:c;var u=function(B,G,it){if(B+1<r.length){var nt=G+" "+r[B+1][0];return Ag(nt,i,it).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var d,f,p=Ag("3",i,s).height,g=i.multiline?o-s:(o-p)/2,v=g+=2,x=0,y=0,_=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ag(t,i,s=12).width+", FieldWidth:"+c+`
`;break}for(var E="",T=0,L=0;L<r.length;L++)if(r.hasOwnProperty(L)){var O=!1;if(r[L].length!==1&&_!==r[L].length-1){if((p+2)*(T+2)+2>o)continue t;E+=r[L][_],O=!0,y=L,L--}else{E=(E+=r[L][_]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var D=parseInt(L),I=u(D,E,s),k=L>=r.length-1;if(I&&!k){E+=" ",_=0;continue}if(I||k){if(k)y=D;else if(i.multiline&&(p+2)*(T+2)+2>o)continue t}else{if(!i.multiline||(p+2)*(T+2)+2>o)continue t;y=D}}for(var j="",K=x;K<=y;K++){var st=r[K];if(i.multiline){if(K===y){j+=st[_]+" ",_=(_+1)%st.length;continue}if(K===x){j+=st[st.length-1]+" ";continue}}j+=st[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,f=Ag(j,i,s).width,i.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;case"left":default:d=2}t+=Ue(d)+" "+Ue(v)+` Td
`,t+="("+xh(j)+`) Tj
`,t+=-Ue(d)+` 0 Td
`,v=-(s+2),f=0,x=O?y:y+1,T++,E=""}break}return n.text=t,n.fontSize=s,n},Ag=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},i9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},r9=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},s9=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var n=e,r=i[e];t.internal.newObjectDeferredBegin(r.objId,!0),Mn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},a9=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Qa.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(i9)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_2=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new C3,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&r9(s,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var s=!n;for(var o in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],u=[],d=c.Rect;if(c.Rect&&(c.Rect=e9(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=pe.createDefaultAppearanceStream(c),Mn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=n9(c);u.push({key:"AP",value:"<</N "+f+">>"}),r.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var p="";for(var g in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(g)){var v=c.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var x=v[o];typeof x=="function"&&(x=x.call(r,c)),p+="/"+o+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=v)=="function"&&(x=x.call(r,c)),p+="/"+o+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}s&&s9(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},_3=wi.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(o){return o};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),Mn(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+xh(n(i[s].toString()))+")"):r+=i[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$1=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+xh(n(i))+")"},$o=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$o.prototype.toString=function(){return this.objId+" 0 R"},$o.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},$o.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:_3(r,this.objId,this.scope)}):r instanceof $o?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var N3=function(){$o.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};ys(N3,$o);var C3=function(){$o.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+xh(e(i))+")"}},set:function(e){i=e}})};ys(C3,$o);var Qa=function i(){$o.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(t,3)},set:function(E){E?this.F=Mi(t,3):this.F=Pi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');e=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof s0)return;s="FieldObject"+i.FieldNum++}var E=function(T){return T};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+xh(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/_2:d},set:function(E){d=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof s0||this instanceof eh))return $1(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof pr?g:$1(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof pr?E:E.substr(0,1)==="("?fd(E.substr(1,E.length-2)):fd(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?fd(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof pr?"/"+E:E}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof pr?v:$1(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=this instanceof pr?E:E.substr(0,1)==="("?fd(E.substr(1,E.length-2)):fd(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?fd(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof pr?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(E){E=!!E,y=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(E){E?this.Ff=Mi(this.Ff,1):this.Ff=Pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(E){E?this.Ff=Mi(this.Ff,2):this.Ff=Pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(E){E?this.Ff=Mi(this.Ff,3):this.Ff=Pi(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');_=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(_){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};ys(Qa,$o);var Md=function(){Qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _3(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(s,o,c){c||(c=1);for(var u,d=[];u=o.exec(s);)d.push(u[c]);return d}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(e){e?this.Ff=Mi(this.Ff,18):this.Ff=Pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Mi(this.Ff,19):this.Ff=Pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(e){e?(this.Ff=Mi(this.Ff,20),t.sort()):this.Ff=Pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(e){e?this.Ff=Mi(this.Ff,22):this.Ff=Pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Mi(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(e){e?this.Ff=Mi(this.Ff,27):this.Ff=Pi(this.Ff,27)}}),this.hasAppearanceStream=!1};ys(Md,Qa);var Pd=function(){Md.call(this),this.fontName="helvetica",this.combo=!1};ys(Pd,Md);var Dd=function(){Pd.call(this),this.combo=!0};ys(Dd,Pd);var Bg=function(){Dd.call(this),this.edit=!0};ys(Bg,Dd);var pr=function(){Qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(e){e?this.Ff=Mi(this.Ff,15):this.Ff=Pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(e){e?this.Ff=Mi(this.Ff,16):this.Ff=Pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(e){e?this.Ff=Mi(this.Ff,17):this.Ff=Pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Mi(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+xh(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Mn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};ys(pr,Qa);var zg=function(){pr.call(this),this.pushButton=!0};ys(zg,pr);var Od=function(){pr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};ys(Od,pr);var s0=function(){var i,t;Qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+xh(r(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Mn(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ys(s0,Qa),Od.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},Od.prototype.createOption=function(i){var t=new s0;return t.Parent=this,t.optionName=i,this.Kids.push(t),o9.call(this.scope,t),t};var Ug=function(){pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};ys(Ug,pr);var eh=function(){Qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(t){t?this.Ff=Mi(this.Ff,13):this.Ff=Pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(t){t?this.Ff=Mi(this.Ff,21):this.Ff=Pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(t){t?this.Ff=Mi(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(t){t?this.Ff=Mi(this.Ff,24):this.Ff=Pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(t){t?this.Ff=Mi(this.Ff,25):this.Ff=Pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(t){t?this.Ff=Mi(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ys(eh,Qa);var Hg=function(){eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(i){i?this.Ff=Mi(this.Ff,14):this.Ff=Pi(this.Ff,14)}}),this.password=!0};ys(Hg,eh);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=ey(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+Ue(pe.internal.getWidth(i))+" "+Ue(pe.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Ue(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Bo(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=pe.internal.getHeight(i),o=pe.internal.getWidth(i),c=ey(i,i.caption);return r.push("1 g"),r.push("0 0 "+Ue(o)+" "+Ue(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ue(o-1)+" "+Ue(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Ue(c.fontSize)+" Tf "+n),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ue(pe.internal.getWidth(i))+" "+Ue(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Circle.YesNormal,t.D[i]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Bo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=pe.internal.Bezier_C,s=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ic(pe.internal.getWidth(i)/2)+" "+Ic(pe.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5)),o=Number((n*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ic(pe.internal.getWidth(i)/2)+" "+Ic(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ic(pe.internal.getWidth(i)/2)+" "+Ic(pe.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ic(pe.internal.getWidth(i)/2)+" "+Ic(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Cross.YesNormal,t.D[i]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Bo(i);t.scope=i.scope;var e=[],n=pe.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+Ue(pe.internal.getWidth(i)-2)+" "+Ue(pe.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(Ue(n.x1.x)+" "+Ue(n.x1.y)+" m"),e.push(Ue(n.x2.x)+" "+Ue(n.x2.y)+" l"),e.push(Ue(n.x4.x)+" "+Ue(n.x4.y)+" m"),e.push(Ue(n.x3.x)+" "+Ue(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=pe.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ue(pe.internal.getWidth(i))+" "+Ue(pe.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ue(pe.internal.getWidth(i)-2)+" "+Ue(pe.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Ue(e.x1.x)+" "+Ue(e.x1.y)+" m"),n.push(Ue(e.x2.x)+" "+Ue(e.x2.y)+" l"),n.push(Ue(e.x4.x)+" "+Ue(e.x4.y)+" m"),n.push(Ue(e.x3.x)+" "+Ue(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Bo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ue(pe.internal.getWidth(i))+" "+Ue(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=pe.internal.getWidth(i),e=pe.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},pe.internal.getWidth=function(i){var t=0;return Mn(i)==="object"&&(t=YA(i.Rect[2])),t},pe.internal.getHeight=function(i){var t=0;return Mn(i)==="object"&&(t=YA(i.Rect[3])),t};var o9=wi.addField=function(i){if(a9(this,i),!(i instanceof Qa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};wi.AcroFormChoiceField=Md,wi.AcroFormListBox=Pd,wi.AcroFormComboBox=Dd,wi.AcroFormEditBox=Bg,wi.AcroFormButton=pr,wi.AcroFormPushButton=zg,wi.AcroFormRadioButton=Od,wi.AcroFormCheckBox=Ug,wi.AcroFormTextField=eh,wi.AcroFormPasswordField=Hg,wi.AcroFormAppearance=pe,wi.AcroForm={ChoiceField:Md,ListBox:Pd,ComboBox:Dd,EditBox:Bg,Button:pr,PushButton:zg,RadioButton:Od,CheckBox:Ug,TextField:eh,PasswordField:Hg,Appearance:pe},_e.AcroForm={ChoiceField:Md,ListBox:Pd,ComboBox:Dd,EditBox:Bg,Button:pr,PushButton:zg,RadioButton:Od,CheckBox:Ug,TextField:eh,PasswordField:Hg,Appearance:pe};_e.AcroForm;function R3(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(B,G){var it,nt,ht,U,Z,J=t;if((G=G||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(I(B))for(Z in e)for(ht=e[Z],it=0;it<ht.length;it+=1){for(U=!0,nt=0;nt<ht[it].length;nt+=1)if(ht[it][nt]!==void 0&&ht[it][nt]!==B[nt]){U=!1;break}if(U===!0){J=Z;break}}else for(Z in e)for(ht=e[Z],it=0;it<ht.length;it+=1){for(U=!0,nt=0;nt<ht[it].length;nt+=1)if(ht[it][nt]!==void 0&&ht[it][nt]!==B.charCodeAt(nt)){U=!1;break}if(U===!0){J=Z;break}}return J===t&&G!==t&&(J=G),J},r=function B(G){for(var it=this.internal.write,nt=this.internal.putStream,ht=(0,this.internal.getFilters)();ht.indexOf("FlateEncode")!==-1;)ht.splice(ht.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:G.width}),U.push({key:"Height",value:G.height}),G.colorSpace===_.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===_.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Z="",J=0,pt=G.transparency.length;J<pt;J++)Z+=G.transparency[J]+" "+G.transparency[J]+" ";U.push({key:"Mask",value:"["+Z+"]"})}G.sMask!==void 0&&U.push({key:"SMask",value:G.objectId+1+" 0 R"});var $=G.filter!==void 0?["/"+G.filter]:void 0;if(nt({data:G.data,additionalKeyValues:U,alreadyAppliedFilters:$,objectId:G.objectId}),it("endobj"),"sMask"in G&&G.sMask!==void 0){var dt="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,F={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:dt,data:G.sMask};"filter"in G&&(F.filter=G.filter),B.call(this,F)}if(G.colorSpace===_.INDEXED){var V=this.internal.newObject();nt({data:j(new Uint8Array(G.palette)),objectId:V}),it("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var G in B)r.call(this,B[G])},o=function(){var B,G=this.internal.collections.addImage_images,it=this.internal.write;for(var nt in G)it("/I"+(B=G[nt]).index,B.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var B=this.internal.collections.addImage_images;return c.call(this),B},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(B){return typeof i["process"+B.toUpperCase()]=="function"},p=function(B){return Mn(B)==="object"&&B.nodeType===1},g=function(B,G){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var it=""+B.getAttribute("src");if(it.indexOf("data:image/")===0)return vp(unescape(it).split("base64,").pop());var nt=i.loadFile(it,!0);if(nt!==void 0)return nt}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ht;switch(G){case"PNG":ht="image/png";break;case"WEBP":ht="image/webp";break;case"JPEG":case"JPG":default:ht="image/jpeg"}return vp(B.toDataURL(ht,1).split("base64,").pop())}},v=function(B){var G=this.internal.collections.addImage_images;if(G){for(var it in G)if(B===G[it].alias)return G[it]}},x=function(B,G,it){return B||G||(B=-96,G=-96),B<0&&(B=-1*it.width*72/B/this.internal.scaleFactor),G<0&&(G=-1*it.height*72/G/this.internal.scaleFactor),B===0&&(B=G*it.width/it.height),G===0&&(G=B*it.height/it.width),[B,G]},y=function(B,G,it,nt,ht,U){var Z=x.call(this,it,nt,ht),J=this.internal.getCoordinateString,pt=this.internal.getVerticalCoordinateString,$=u.call(this);if(it=Z[0],nt=Z[1],$[ht.index]=ht,U){U*=Math.PI/180;var dt=Math.cos(U),F=Math.sin(U),V=function(at){return at.toFixed(4)},tt=[V(dt),V(F),V(-1*F),V(dt),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,J(B),pt(G+nt),"cm"].join(" ")),this.internal.write(tt.join(" ")),this.internal.write([J(it),"0","0",J(nt),"0","0","cm"].join(" "))):this.internal.write([J(it),"0","0",J(nt),J(B),pt(G+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ht.index+" Do"),this.internal.write("Q")},_=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=i.__addimage__.sHashCode=function(B){var G,it,nt=0;if(typeof B=="string")for(it=B.length,G=0;G<it;G++)nt=(nt<<5)-nt+B.charCodeAt(G),nt|=0;else if(I(B))for(it=B.byteLength/2,G=0;G<it;G++)nt=(nt<<5)-nt+B[G],nt|=0;return nt},L=i.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var G=!0;return B.length===0&&(G=!1),B.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(G=!1),G},O=i.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var G=B.indexOf(",");return G<0?null:B.substring(0,G).trim().endsWith("base64")?B.substring(G+1):null},D=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(B){return D()&&B instanceof ArrayBuffer};var I=i.__addimage__.isArrayBufferView=function(B){return D()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},k=i.__addimage__.binaryStringToUint8Array=function(B){for(var G=B.length,it=new Uint8Array(G),nt=0;nt<G;nt++)it[nt]=B.charCodeAt(nt);return it},j=i.__addimage__.arrayBufferToBinaryString=function(B){for(var G="",it=I(B)?B:new Uint8Array(B),nt=0;nt<it.length;nt+=8192)G+=String.fromCharCode.apply(null,it.subarray(nt,nt+8192));return G};i.addImage=function(){var B,G,it,nt,ht,U,Z,J,pt;if(typeof arguments[1]=="number"?(G=t,it=arguments[1],nt=arguments[2],ht=arguments[3],U=arguments[4],Z=arguments[5],J=arguments[6],pt=arguments[7]):(G=arguments[1],it=arguments[2],nt=arguments[3],ht=arguments[4],U=arguments[5],Z=arguments[6],J=arguments[7],pt=arguments[8]),Mn(B=arguments[0])==="object"&&!p(B)&&"imageData"in B){var $=B;B=$.imageData,G=$.format||G||t,it=$.x||it||0,nt=$.y||nt||0,ht=$.w||$.width||ht,U=$.h||$.height||U,Z=$.alias||Z,J=$.compression||J,pt=$.rotation||$.angle||pt}var dt=this.internal.getFilters();if(J===void 0&&dt.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(it)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=K.call(this,B,G,Z,J);return y.call(this,it,nt,ht,U,F,pt),this};var K=function(B,G,it,nt){var ht,U,Z;if(typeof B=="string"&&n(B)===t){B=unescape(B);var J=st(B,!1);(J!==""||(J=i.loadFile(B,!0))!==void 0)&&(B=J)}if(p(B)&&(B=g(B,G)),G=n(B,G),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Z=it)==null||Z.length===0)&&(it=function(pt){return typeof pt=="string"||I(pt)?T(pt):I(pt.data)?T(pt.data):null}(B)),(ht=v.call(this,it))||(D()&&(B instanceof Uint8Array||G==="RGBA"||(U=B,B=k(B))),ht=this["process"+G.toUpperCase()](B,d.call(this),it,function(pt){return pt&&typeof pt=="string"&&(pt=pt.toUpperCase()),pt in i.image_compression?pt:E.NONE}(nt),U)),!ht)throw new Error("An unknown error occurred whilst processing the image.");return ht},st=i.__addimage__.convertBase64ToBinaryString=function(B,G){G=typeof G!="boolean"||G;var it,nt="";if(typeof B=="string"){var ht;it=(ht=O(B))!==null&&ht!==void 0?ht:B;try{nt=vp(it)}catch(U){if(G)throw L(it)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return nt};i.getImageProperties=function(B){var G,it,nt="";if(p(B)&&(B=g(B)),typeof B=="string"&&n(B)===t&&((nt=st(B,!1))===""&&(nt=i.loadFile(B)||""),B=nt),it=n(B),!f(it))throw new Error("addImage does not support files of type '"+it+"', please ensure that a plugin for '"+it+"' support is added.");if(!D()||B instanceof Uint8Array||(B=k(B)),!(G=this["process"+it.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=it,G}})(_e.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};_e.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((n=d[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){n=d[g];var v=this.internal.pdfEscape,x=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(y.objId),T=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+v(E(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+v(E(T))+") >>",y.content=s;var L=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+L,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+v(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+v(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(e),y:d(n),w:u(e+r),h:d(n+s)},options:o,type:"link"})},i.textWithLink=function(e,n,r,s){var o,c,u=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(e,c).length;o=Math.ceil(d*f)}else c=u,o=d;return this.text(e,n,r,s),r+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,r-d,c,o,s),u},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(_e.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},c=i.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},u=i.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&r.indexOf(y.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var f=i.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length==4},p=i.__arabicParser__.resolveLigatures=function(y){var _=0,E=e,T="",L=0;for(_=0;_<y.length;_+=1)E[y.charCodeAt(_)]!==void 0?(L++,typeof(E=E[y.charCodeAt(_)])=="number"&&(T+=String.fromCharCode(E),E=e,L=0),_===y.length-1&&(E=e,T+=y.charAt(_-(L-1)),_-=L-1,L=0)):(E=e,T+=y.charAt(_-L),_-=L,L=0);return T};i.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=i.__arabicParser__.getCorrectForm=function(y,_,E){return o(y)?s(y)===!1?-1:!d(y)||!o(_)&&!o(E)||!o(E)&&c(_)||c(y)&&!o(_)||c(y)&&u(_)||c(y)&&c(_)?0:f(y)&&o(_)&&!c(_)&&o(E)&&d(E)?3:c(y)||!o(E)?1:2:-1},v=function(y){var _=0,E=0,T=0,L="",O="",D="",I=(y=y||"").split("\\s+"),k=[];for(_=0;_<I.length;_+=1){for(k.push(""),E=0;E<I[_].length;E+=1)L=I[_][E],O=I[_][E-1],D=I[_][E+1],o(L)?(T=g(L,O,D),k[_]+=T!==-1?String.fromCharCode(t[L.charCodeAt(0)][T]):L):k[_]+=L;k[_]=p(k[_])}return k.join(" ")},x=i.__arabicParser__.processArabic=i.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(_)){var T=0;for(E=[],T=0;T<_.length;T+=1)Array.isArray(_[T])?E.push([v(_[T][0]),_[T][1],_[T][2]]):E.push([v(_[T])]);y=E}else y=v(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};i.events.push(["preProcessText",x])}(_e.API),_e.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(_e.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},i.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,v=0,x=0,y=0,_=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=d.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(L,O){return L.concat(_.splitTextToSize(O,E))},[])):u=Array.isArray(u)?u:[u];for(var T=0;T<u.length;T++)v<(y=this.getStringUnitWidth(u[T],{font:p})*f)&&(v=y);return v!==0&&(x=u.length),{w:v/=g,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,v&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};i.table=function(u,d,f,p,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var v,x,y,_,E=[],T=[],L=[],O={},D={},I=[],k=[],j=(g=g||{}).autoSize||!1,K=g.printHeaders!==!1,st=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},t),G=typeof g.padding=="number"?g.padding:3,it=g.headerBackgroundColor||"#c8c8c8",nt=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=st,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=it,this.internal.__cell__.headerTextColor=nt,this.setFontSize(st),p==null)T=E=Object.keys(f[0]),L=E.map(function(){return"left"});else if(Array.isArray(p)&&Mn(p[0])==="object")for(E=p.map(function($){return $.name}),T=p.map(function($){return $.prompt||$.name||""}),L=p.map(function($){return $.align||"left"}),v=0;v<p.length;v+=1)D[p[v].name]=p[v].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(T=E=p,L=E.map(function(){return"left"}));if(j||Array.isArray(p)&&typeof p[0]=="string")for(v=0;v<E.length;v+=1){for(O[_=E[v]]=f.map(function($){return $[_]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(T[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=O[_],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)I.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[_]=Math.max.apply(null,I)+G+G,I=[]}if(K){var ht={};for(v=0;v<E.length;v+=1)ht[E[v]]={},ht[E[v]].text=T[v],ht[E[v]].align=L[v];var U=c.call(this,ht,D);k=E.map(function($){return new s(u,d,D[$],U,ht[$].text,void 0,ht[$].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var Z=p.reduce(function($,dt){return $[dt.name]=dt.align,$},{});for(v=0;v<f.length;v+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:v,data:f[v]},this);var J=c.call(this,f[v],D);for(y=0;y<E.length;y+=1){var pt=f[v][E[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:v,col:y,data:pt},this),o.call(this,new s(u,d,D[E[y]],J,pt,v+2,Z[E[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(v){var x=u[v];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[v]-f-f)},this).map(function(v){return this.getLineHeightFactor()*v.length*p/g+f+f},this).reduce(function(v,x){return Math.max(v,x)},0)};i.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},i.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}}(_e.API);var T3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},L3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ny=R3(L3),M3=[100,200,300,400,500,600,700,800,900],l9=R3(M3);function iy(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return T3[s=s||"normal"]?s:"normal"}(i.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(s){return typeof ny[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function XA(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var c9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QA(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function u9(i,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},c9,e.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(r[(s=iy(t[c])).family]&&(s.family=r[s.family]),i.hasOwnProperty(s.family)){o=i[s.family];break}if(!(o=o||i[n]))throw new Error("Could not find a font-family for the rule '"+QA(s)+"' and default family '"+n+"'.");if(o=function(u,d){if(d[u])return d[u];var f=ny[u],p=f<=ny.normal?-1:1,g=XA(d,L3,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+u);return g}(s.stretch,o),o=function(u,d){if(d[u])return d[u];for(var f=T3[u],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=l9[u],p=XA(d,M3,f,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+QA(s)+"'.");return o}function ZA(i){return i.trimLeft()}function h9(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function d9(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var Sg,JA,tS,W1=["times"];(function(i){var t,e,n,r,s,o,c,u,d,f=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var p=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return tt},set:function(Lt){tt=!!Lt}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(Lt){at=!!Lt}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(Lt){isNaN(Lt)||(ot=Lt)}});var ct=0;Object.defineProperty(this,"posY",{get:function(){return ct},set:function(Lt){isNaN(Lt)||(ct=Lt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Lt){var lt;typeof Lt=="number"?lt=[Lt,Lt,Lt,Lt]:((lt=new Array(4))[0]=Lt[0],lt[1]=Lt.length>=2?Lt[1]:lt[0],lt[2]=Lt.length>=3?Lt[2]:lt[0],lt[3]=Lt.length>=4?Lt[3]:lt[1]),d.margin=lt}});var mt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mt},set:function(Lt){mt=Lt}});var xt=0;Object.defineProperty(this,"lastBreak",{get:function(){return xt},set:function(Lt){xt=Lt}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(Lt){Tt=Lt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Lt){Lt instanceof f&&(d=Lt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Lt){d.path=Lt}});var Ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ot},set:function(Lt){Ot=Lt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Lt){var lt;lt=g(Lt),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Lt){var lt=g(Lt);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Lt){["butt","round","square"].indexOf(Lt)!==-1&&(this.ctx.lineCap=Lt,this.pdf.setLineCap(Lt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Lt){isNaN(Lt)||(this.ctx.lineWidth=Lt,this.pdf.setLineWidth(Lt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Lt){["bevel","round","miter"].indexOf(Lt)!==-1&&(this.ctx.lineJoin=Lt,this.pdf.setLineJoin(Lt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Lt){isNaN(Lt)||(this.ctx.miterLimit=Lt,this.pdf.setMiterLimit(Lt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Lt){this.ctx.textBaseline=Lt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Lt){["right","end","center","left","start"].indexOf(Lt)!==-1&&(this.ctx.textAlign=Lt)}});var zt=null;function $t(Lt,lt){if(zt===null){var se=function(ae){var Vt=[];return Object.keys(ae).forEach(function(Zt){ae[Zt].forEach(function(Jt){var Xt=null;switch(Jt){case"bold":Xt={family:Zt,weight:"bold"};break;case"italic":Xt={family:Zt,style:"italic"};break;case"bolditalic":Xt={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:Zt}}Xt!==null&&(Xt.ref={name:Zt,style:Jt},Vt.push(Xt))})}),Vt}(Lt.getFontList());zt=function(ae){for(var Vt={},Zt=0;Zt<ae.length;++Zt){var Jt=iy(ae[Zt]),Xt=Jt.family,ce=Jt.stretch,Ce=Jt.style,ke=Jt.weight;Vt[Xt]=Vt[Xt]||{},Vt[Xt][ce]=Vt[Xt][ce]||{},Vt[Xt][ce][Ce]=Vt[Xt][ce][Ce]||{},Vt[Xt][ce][Ce][ke]=Jt}return Vt}(se.concat(lt))}return zt}var Kt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Kt},set:function(Lt){zt=null,Kt=Lt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Lt){var lt;if(this.ctx.font=Lt,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Lt))!==null){var se=lt[1];lt[2];var ae=lt[3],Vt=lt[4];lt[5];var Zt=lt[6],Jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vt)[2];Vt=Math.floor(Jt==="px"?parseFloat(Vt)*this.pdf.internal.scaleFactor:Jt==="em"?parseFloat(Vt)*this.pdf.getFontSize():parseFloat(Vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vt);var Xt=function(le){var Re,ne,Xn=[],We=le.trim();if(We==="")return W1;if(We in KA)return[KA[We]];for(;We!=="";){switch(ne=null,Re=(We=ZA(We)).charAt(0)){case'"':case"'":ne=h9(We.substring(1),Re);break;default:ne=d9(We)}if(ne===null||(Xn.push(ne[0]),(We=ZA(ne[1]))!==""&&We.charAt(0)!==","))return W1;We=We.replace(/^,/,"")}return Xn}(Zt);if(this.fontFaces){var ce=u9($t(this.pdf,this.fontFaces),Xt.map(function(le){return{family:le,stretch:"normal",weight:ae,style:se}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var Ce="";(ae==="bold"||parseInt(ae,10)>=700||se==="bold")&&(Ce="bold"),se==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var ke="",Se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},be=0;be<Xt.length;be++){if(this.pdf.internal.getFont(Xt[be],Ce,{noFallback:!0,disableWarning:!0})!==void 0){ke=Xt[be];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(Xt[be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=Xt[be],Ce="bold";else if(this.pdf.internal.getFont(Xt[be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=Xt[be],Ce="normal";break}}if(ke===""){for(var Fe=0;Fe<Xt.length;Fe++)if(Se[Xt[Fe]]){ke=Se[Xt[Fe]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Lt){this.ctx.globalCompositeOperation=Lt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Lt){this.ctx.globalAlpha=Lt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Lt){this.ctx.lineDashOffset=Lt,dt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Lt){this.ctx.lineDash=Lt,dt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Lt){this.ctx.ignoreClearRect=!!Lt}})};p.prototype.setLineDash=function(F){this.lineDash=F},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){O.call(this,"fill",!1)},p.prototype.stroke=function(){O.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var tt=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"mt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new o(F,V)},p.prototype.closePath=function(){var F=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Mn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},p.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var tt=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"lt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new o(tt.x,tt.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},p.prototype.quadraticCurveTo=function(F,V,tt,at){if(isNaN(tt)||isNaN(at)||isNaN(F)||isNaN(V))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new o(tt,at)),ct=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"qct",x1:ct.x,y1:ct.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new o(ot.x,ot.y)},p.prototype.bezierCurveTo=function(F,V,tt,at,ot,ct){if(isNaN(ot)||isNaN(ct)||isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mt=this.ctx.transform.applyToPoint(new o(ot,ct)),xt=this.ctx.transform.applyToPoint(new o(F,V)),Tt=this.ctx.transform.applyToPoint(new o(tt,at));this.path.push({type:"bct",x1:xt.x,y1:xt.y,x2:Tt.x,y2:Tt.y,x:mt.x,y:mt.y}),this.ctx.lastPoint=new o(mt.x,mt.y)},p.prototype.arc=function(F,V,tt,at,ot,ct){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at)||isNaN(ot))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ct=!!ct,!this.ctx.transform.isIdentity){var mt=this.ctx.transform.applyToPoint(new o(F,V));F=mt.x,V=mt.y;var xt=this.ctx.transform.applyToPoint(new o(0,tt)),Tt=this.ctx.transform.applyToPoint(new o(0,0));tt=Math.sqrt(Math.pow(xt.x-Tt.x,2)+Math.pow(xt.y-Tt.y,2))}Math.abs(ot-at)>=2*Math.PI&&(at=0,ot=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:tt,startAngle:at,endAngle:ot,counterclockwise:ct})},p.prototype.arcTo=function(F,V,tt,at,ot){throw new Error("arcTo not implemented.")},p.prototype.rect=function(F,V,tt,at){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+tt,V),this.lineTo(F+tt,V+at),this.lineTo(F,V+at),this.lineTo(F,V),this.lineTo(F+tt,V),this.lineTo(F,V)},p.prototype.fillRect=function(F,V,tt,at){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ot={};this.lineCap!=="butt"&&(ot.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,tt,at),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},p.prototype.strokeRect=function(F,V,tt,at){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(F,V,tt,at),this.stroke())},p.prototype.clearRect=function(F,V,tt,at){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,tt,at))},p.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},p.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var V,tt,at,ot;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,tt=0,at=0,ot=0;else{var ct=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ct!==null)V=parseInt(ct[1]),tt=parseInt(ct[2]),at=parseInt(ct[3]),ot=1;else if((ct=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(ct[1]),tt=parseInt(ct[2]),at=parseInt(ct[3]),ot=parseFloat(ct[4]);else{if(ot=1,typeof F=="string"&&F.charAt(0)!=="#"){var mt=new A3(F);F=mt.ok?mt.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,tt=F.substring(2,3),tt+=tt,at=F.substring(3,4),at+=at):(V=F.substring(1,3),tt=F.substring(3,5),at=F.substring(5,7)),V=parseInt(V,16),tt=parseInt(tt,16),at=parseInt(at,16)}}return{r:V,g:tt,b:at,a:ot,style:F}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(F,V,tt,at){if(isNaN(V)||isNaN(tt)||typeof F!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!v.call(this)){var ot=J(this.ctx.transform.rotation),ct=this.ctx.transform.scaleX;G.call(this,{text:F,x:V,y:tt,scale:ct,angle:ot,align:this.textAlign,maxWidth:at})}},p.prototype.strokeText=function(F,V,tt,at){if(isNaN(V)||isNaN(tt)||typeof F!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){at=isNaN(at)?void 0:at;var ot=J(this.ctx.transform.rotation),ct=this.ctx.transform.scaleX;G.call(this,{text:F,x:V,y:tt,scale:ct,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:at})}},p.prototype.measureText=function(F){if(typeof F!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,tt=this.pdf.internal.scaleFactor,at=V.internal.getFontSize(),ot=V.getStringUnitWidth(F)*at/V.internal.scaleFactor,ct=function(mt){var xt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xt}}),this};return new ct({width:ot*=Math.round(96*tt/72*1e4)/1e4})},p.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var tt=new u(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(tt)},p.prototype.rotate=function(F){if(isNaN(F))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var tt=new u(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(tt)},p.prototype.transform=function(F,V,tt,at,ot,ct){if(isNaN(F)||isNaN(V)||isNaN(tt)||isNaN(at)||isNaN(ot)||isNaN(ct))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mt=new u(F,V,tt,at,ot,ct);this.ctx.transform=this.ctx.transform.multiply(mt)},p.prototype.setTransform=function(F,V,tt,at,ot,ct){F=isNaN(F)?1:F,V=isNaN(V)?0:V,tt=isNaN(tt)?0:tt,at=isNaN(at)?1:at,ot=isNaN(ot)?0:ot,ct=isNaN(ct)?0:ct,this.ctx.transform=new u(F,V,tt,at,ot,ct)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(F,V,tt,at,ot,ct,mt,xt,Tt){var Ot=this.pdf.getImageProperties(F),zt=1,$t=1,Kt=1,Lt=1;at!==void 0&&xt!==void 0&&(Kt=xt/at,Lt=Tt/ot,zt=Ot.width/at*xt/at,$t=Ot.height/ot*Tt/ot),ct===void 0&&(ct=V,mt=tt,V=0,tt=0),at!==void 0&&xt===void 0&&(xt=at,Tt=ot),at===void 0&&xt===void 0&&(xt=Ot.width,Tt=Ot.height);for(var lt,se=this.ctx.transform.decompose(),ae=J(se.rotate.shx),Vt=new u,Zt=(Vt=(Vt=(Vt=Vt.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new c(ct-V*Kt,mt-tt*Lt,at*zt,ot*$t)),Jt=_.call(this,Zt),Xt=[],ce=0;ce<Jt.length;ce+=1)Xt.indexOf(Jt[ce])===-1&&Xt.push(Jt[ce]);if(L(Xt),this.autoPaging)for(var Ce=Xt[0],ke=Xt[Xt.length-1],Se=Ce;Se<ke+1;Se++){this.pdf.setPage(Se);var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Se===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=Se===1?0:le+(Se-2)*Re;if(this.ctx.clip_path.length!==0){var Xn=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(lt,this.posX+this.margin[3],-ne+Fe+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Xn}var We=JSON.parse(JSON.stringify(Zt));We=T([We],this.posX+this.margin[3],-ne+Fe+this.ctx.prevPageLastElemOffset)[0];var tr=(Se>Ce||Se<ke)&&y.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Re,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",We.x,We.y,We.w,We.h,null,null,ae),tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,ae)};var _=function(F,V,tt){var at=[];V=V||this.pdf.internal.pageSize.width,tt=tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":at.push(Math.floor((F.y+ot)/tt)+1);break;case"arc":at.push(Math.floor((F.y+ot-F.radius)/tt)+1),at.push(Math.floor((F.y+ot+F.radius)/tt)+1);break;case"qct":var ct=pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);at.push(Math.floor((ct.y+ot)/tt)+1),at.push(Math.floor((ct.y+ct.h+ot)/tt)+1);break;case"bct":var mt=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);at.push(Math.floor((mt.y+ot)/tt)+1),at.push(Math.floor((mt.y+mt.h+ot)/tt)+1);break;case"rect":at.push(Math.floor((F.y+ot)/tt)+1),at.push(Math.floor((F.y+F.h+ot)/tt)+1)}for(var xt=0;xt<at.length;xt+=1)for(;this.pdf.internal.getNumberOfPages()<at[xt];)E.call(this);return at},E=function(){var F=this.fillStyle,V=this.strokeStyle,tt=this.font,at=this.lineCap,ot=this.lineWidth,ct=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=tt,this.lineCap=at,this.lineWidth=ot,this.lineJoin=ct},T=function(F,V,tt){for(var at=0;at<F.length;at++)switch(F[at].type){case"bct":F[at].x2+=V,F[at].y2+=tt;case"qct":F[at].x1+=V,F[at].y1+=tt;case"mt":case"lt":case"arc":default:F[at].x+=V,F[at].y+=tt}return F},L=function(F){return F.sort(function(V,tt){return V-tt})},O=function(F,V){for(var tt,at,ot=this.fillStyle,ct=this.strokeStyle,mt=this.lineCap,xt=this.lineWidth,Tt=Math.abs(xt*this.ctx.transform.scaleX),Ot=this.lineJoin,zt=JSON.parse(JSON.stringify(this.path)),$t=JSON.parse(JSON.stringify(this.path)),Kt=[],Lt=0;Lt<$t.length;Lt++)if($t[Lt].x!==void 0)for(var lt=_.call(this,$t[Lt]),se=0;se<lt.length;se+=1)Kt.indexOf(lt[se])===-1&&Kt.push(lt[se]);for(var ae=0;ae<Kt.length;ae++)for(;this.pdf.internal.getNumberOfPages()<Kt[ae];)E.call(this);if(L(Kt),this.autoPaging)for(var Vt=Kt[0],Zt=Kt[Kt.length-1],Jt=Vt;Jt<Zt+1;Jt++){this.pdf.setPage(Jt),this.fillStyle=ot,this.strokeStyle=ct,this.lineCap=mt,this.lineWidth=Tt,this.lineJoin=Ot;var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=Jt===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Jt===1?0:Ce+(Jt-2)*ke;if(this.ctx.clip_path.length!==0){var be=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(tt,this.posX+this.margin[3],-Se+ce+this.ctx.prevPageLastElemOffset),D.call(this,F,!0),this.path=be}if(at=JSON.parse(JSON.stringify(zt)),this.path=T(at,this.posX+this.margin[3],-Se+ce+this.ctx.prevPageLastElemOffset),V===!1||Jt===0){var Fe=(Jt>Vt||Jt<Zt)&&y.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,ke,null).clip().discardPath()),D.call(this,F,V),Fe&&this.pdf.restoreGraphicsState()}this.lineWidth=xt}else this.lineWidth=Tt,D.call(this,F,V),this.lineWidth=xt;this.path=zt},D=function(F,V){if((F!=="stroke"||V||!x.call(this))&&(F==="stroke"||V||!v.call(this))){for(var tt,at,ot=[],ct=this.path,mt=0;mt<ct.length;mt++){var xt=ct[mt];switch(xt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:xt,deltas:[],abs:[]});break;case"lt":var Tt=ot.length;if(ct[mt-1]&&!isNaN(ct[mt-1].x)&&(tt=[xt.x-ct[mt-1].x,xt.y-ct[mt-1].y],Tt>0)){for(;Tt>=0;Tt--)if(ot[Tt-1].close!==!0&&ot[Tt-1].begin!==!0){ot[Tt-1].deltas.push(tt),ot[Tt-1].abs.push(xt);break}}break;case"bct":tt=[xt.x1-ct[mt-1].x,xt.y1-ct[mt-1].y,xt.x2-ct[mt-1].x,xt.y2-ct[mt-1].y,xt.x-ct[mt-1].x,xt.y-ct[mt-1].y],ot[ot.length-1].deltas.push(tt);break;case"qct":var Ot=ct[mt-1].x+2/3*(xt.x1-ct[mt-1].x),zt=ct[mt-1].y+2/3*(xt.y1-ct[mt-1].y),$t=xt.x+2/3*(xt.x1-xt.x),Kt=xt.y+2/3*(xt.y1-xt.y),Lt=xt.x,lt=xt.y;tt=[Ot-ct[mt-1].x,zt-ct[mt-1].y,$t-ct[mt-1].x,Kt-ct[mt-1].y,Lt-ct[mt-1].x,lt-ct[mt-1].y],ot[ot.length-1].deltas.push(tt);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(xt)}}at=V?null:F==="stroke"?"stroke":"fill";for(var se=!1,ae=0;ae<ot.length;ae++)if(ot[ae].arc)for(var Vt=ot[ae].abs,Zt=0;Zt<Vt.length;Zt++){var Jt=Vt[Zt];Jt.type==="arc"?j.call(this,Jt.x,Jt.y,Jt.radius,Jt.startAngle,Jt.endAngle,Jt.counterclockwise,void 0,V,!se):it.call(this,Jt.x,Jt.y),se=!0}else if(ot[ae].close===!0)this.pdf.internal.out("h"),se=!1;else if(ot[ae].begin!==!0){var Xt=ot[ae].start.x,ce=ot[ae].start.y;nt.call(this,ot[ae].deltas,Xt,ce),se=!0}at&&K.call(this,at),V&&st.call(this)}},I=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,tt=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-tt;case"top":return F+V-tt;case"hanging":return F+V-2*tt;case"middle":return F+V/2-tt;case"ideographic":return F;case"alphabetic":default:return F}},k=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,tt){this.colorStops.push([V,tt])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(F,V,tt,at,ot,ct,mt,xt,Tt){for(var Ot=U.call(this,tt,at,ot,ct),zt=0;zt<Ot.length;zt++){var $t=Ot[zt];zt===0&&(Tt?B.call(this,$t.x1+F,$t.y1+V):it.call(this,$t.x1+F,$t.y1+V)),ht.call(this,F,V,$t.x2,$t.y2,$t.x3,$t.y3,$t.x4,$t.y4)}xt?st.call(this):K.call(this,mt)},K=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},st=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(F,V){this.pdf.internal.out(e(F)+" "+n(V)+" m")},G=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var tt=this.pdf.getTextDimensions(F.text),at=I.call(this,F.y),ot=k.call(this,at)-tt.h,ct=this.ctx.transform.applyToPoint(new o(F.x,at)),mt=this.ctx.transform.decompose(),xt=new u;xt=(xt=(xt=xt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale);for(var Tt,Ot,zt,$t=this.ctx.transform.applyToRectangle(new c(F.x,at,tt.w,tt.h)),Kt=xt.applyToRectangle(new c(F.x,ot,tt.w,tt.h)),Lt=_.call(this,Kt),lt=[],se=0;se<Lt.length;se+=1)lt.indexOf(Lt[se])===-1&&lt.push(Lt[se]);if(L(lt),this.autoPaging)for(var ae=lt[0],Vt=lt[lt.length-1],Zt=ae;Zt<Vt+1;Zt++){this.pdf.setPage(Zt);var Jt=Zt===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],Ce=ce-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Se=ke-this.margin[3],be=Zt===1?0:Xt+(Zt-2)*Ce;if(this.ctx.clip_path.length!==0){var Fe=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Tt,this.posX+this.margin[3],-1*be+Jt),D.call(this,"fill",!0),this.path=Fe}var le=T([JSON.parse(JSON.stringify(Kt))],this.posX+this.margin[3],-be+Jt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),zt=this.lineWidth,this.lineWidth=zt*F.scale);var Re=this.autoPaging!=="text";if(Re||le.y+le.h<=ce){if(Re||le.y>=Jt&&le.x<=ke){var ne=Re?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||ke-le.x)[0],Xn=T([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-be+Jt+this.ctx.prevPageLastElemOffset)[0],We=Re&&(Zt>ae||Zt<Vt)&&y.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Ce,null).clip().discardPath()),this.pdf.text(ne,Xn.x,Xn.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),We&&this.pdf.restoreGraphicsState()}}else le.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-le.y);F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=zt)}else F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),zt=this.lineWidth,this.lineWidth=zt*F.scale),this.pdf.text(F.text,ct.x+this.posX,ct.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=zt)},it=function(F,V,tt,at){tt=tt||0,at=at||0,this.pdf.internal.out(e(F+tt)+" "+n(V+at)+" l")},nt=function(F,V,tt){return this.pdf.lines(F,V,tt,null,null)},ht=function(F,V,tt,at,ot,ct,mt,xt){this.pdf.internal.out([t(r(tt+F)),t(s(at+V)),t(r(ot+F)),t(s(ct+V)),t(r(mt+F)),t(s(xt+V)),"c"].join(" "))},U=function(F,V,tt,at){for(var ot=2*Math.PI,ct=Math.PI/2;V>tt;)V-=ot;var mt=Math.abs(tt-V);mt<ot&&at&&(mt=ot-mt);for(var xt=[],Tt=at?-1:1,Ot=V;mt>1e-5;){var zt=Ot+Tt*Math.min(mt,ct);xt.push(Z.call(this,F,Ot,zt)),mt-=Math.abs(zt-Ot),Ot=zt}return xt},Z=function(F,V,tt){var at=(tt-V)/2,ot=F*Math.cos(at),ct=F*Math.sin(at),mt=ot,xt=-ct,Tt=mt*mt+xt*xt,Ot=Tt+mt*ot+xt*ct,zt=4/3*(Math.sqrt(2*Tt*Ot)-Ot)/(mt*ct-xt*ot),$t=mt-zt*xt,Kt=xt+zt*mt,Lt=$t,lt=-Kt,se=at+V,ae=Math.cos(se),Vt=Math.sin(se);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:$t*ae-Kt*Vt,y2:$t*Vt+Kt*ae,x3:Lt*ae-lt*Vt,y3:Lt*Vt+lt*ae,x4:F*Math.cos(tt),y4:F*Math.sin(tt)}},J=function(F){return 180*F/Math.PI},pt=function(F,V,tt,at,ot,ct){var mt=F+.5*(tt-F),xt=V+.5*(at-V),Tt=ot+.5*(tt-ot),Ot=ct+.5*(at-ct),zt=Math.min(F,ot,mt,Tt),$t=Math.max(F,ot,mt,Tt),Kt=Math.min(V,ct,xt,Ot),Lt=Math.max(V,ct,xt,Ot);return new c(zt,Kt,$t-zt,Lt-Kt)},$=function(F,V,tt,at,ot,ct,mt,xt){var Tt,Ot,zt,$t,Kt,Lt,lt,se,ae,Vt,Zt,Jt,Xt,ce,Ce=tt-F,ke=at-V,Se=ot-tt,be=ct-at,Fe=mt-ot,le=xt-ct;for(Ot=0;Ot<41;Ot++)ae=(lt=(zt=F+(Tt=Ot/40)*Ce)+Tt*((Kt=tt+Tt*Se)-zt))+Tt*(Kt+Tt*(ot+Tt*Fe-Kt)-lt),Vt=(se=($t=V+Tt*ke)+Tt*((Lt=at+Tt*be)-$t))+Tt*(Lt+Tt*(ct+Tt*le-Lt)-se),Ot==0?(Zt=ae,Jt=Vt,Xt=ae,ce=Vt):(Zt=Math.min(Zt,ae),Jt=Math.min(Jt,Vt),Xt=Math.max(Xt,ae),ce=Math.max(ce,Vt));return new c(Math.round(Zt),Math.round(Jt),Math.round(Xt-Zt),Math.round(ce-Jt))},dt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,tt=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=tt)}}})(_e.API),function(i){var t=function(s){var o,c,u,d,f,p,g,v,x,y;for(c=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)%85,c.push(p+33,g+33,v+33,x+33,y+33)):c.push(122);return function(_,E){for(var T=E;T>0;T--)_.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var o,c,u,d,f,p=String,g="length",v=255,x="charCodeAt",y="slice",_="replace";for(s[y](-2),s=s[y](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[y](s[g]%5||5))[g];f>d;d+=5)c=52200625*(s[x](d)-33)+614125*(s[x](d+1)-33)+7225*(s[x](d+2)-33)+85*(s[x](d+3)-33)+(s[x](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(E,T){for(var L=T;L>0;L--)E.pop()}(u,o[g]),p.fromCharCode.apply(p,u)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},r=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Qb(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};i.processDataByFilters=function(s,o){var c=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(_e.API),function(i){i.loadFile=function(t,e,n){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,d,f){var p=new XMLHttpRequest,g=0,v=function(x){var y=x.length,_=[],E=String.fromCharCode;for(g=0;g<y;g+=1)_.push(E(255&x.charCodeAt(g)));return _.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(v(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return v(p.responseText)}(r,s,o)}catch{}return c}(t,e,n)},i.loadImageFile=i.loadFile}(_e.API),function(i){function t(){return(Pe.html2canvas?Promise.resolve(Pe.html2canvas):$b(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Pe.DOMPurify?Promise.resolve(Pe.DOMPurify):$b(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Mn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var v=d[g],x=v.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||_e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=u.call(d,o,c);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,_e.getPageSize=function(o,c,u){if(Mn(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,x=0,y=0;if(g.hasOwnProperty(p))x=g[p][1]/f,y=g[p][0]/f;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>x&&(v=y,y=x,x=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>y&&(v=y,y=x,x=v)}return{width:y,height:x,unit:c,k:f,orientation:o}},i.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(iy):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(_e.API),_e.API.addJS=function(i){return tS=i,this.internal.events.subscribe("postPutResources",function(){Sg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sg!==void 0&&JA!==void 0&&this.internal.out("/Names <</JavaScript "+Sg+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],c=n.exec(o);if(c!=null){var u=c[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=e.internal.newObject();f.push(p);var g=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var v=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<f.length;s++)e.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+v+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,s){var o={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])}(_e.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,s,o,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(p){for(var g,v=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,y={width:0,height:0,numcomponents:1},_=4;_<x;_+=2){if(_+=v,t.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),y={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}v=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return y}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:e,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:r}}return f}}(_e.API);var pd,Eg,eS,nS,iS,f9=function(){var i,t,e;function n(s){var o,c,u,d,f,p,g,v,x,y,_,E,T,L;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),x=(function(){var O,D;for(D=[],O=0;O<4;++O)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),s=p?.data||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(T=0;0<=y?T<y:T>y;0<=y?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(_=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,_.slice(0,g)),this.text[v]=String.fromCharCode.apply(String,_.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,g,v,x){var y,_,E,T,L,O,D,I,k,j,K,st,B,G,it,nt,ht,U,Z,J,pt,$=Math.ceil((d.width-p)/v),dt=Math.ceil((d.height-g)/x),F=d.width==$&&d.height==dt;for(G=o*$,st=F?c:new Uint8Array(G*dt),O=s.length,B=0,_=0;B<dt&&u<O;){switch(s[u++]){case 0:for(T=ht=0;ht<G;T=ht+=1)st[_++]=s[u++];break;case 1:for(T=U=0;U<G;T=U+=1)y=s[u++],L=T<o?0:st[_-o],st[_++]=(y+L)%256;break;case 2:for(T=Z=0;Z<G;T=Z+=1)y=s[u++],E=(T-T%o)/o,it=B&&st[(B-1)*G+E*o+T%o],st[_++]=(it+y)%256;break;case 3:for(T=J=0;J<G;T=J+=1)y=s[u++],E=(T-T%o)/o,L=T<o?0:st[_-o],it=B&&st[(B-1)*G+E*o+T%o],st[_++]=(y+Math.floor((L+it)/2))%256;break;case 4:for(T=pt=0;pt<G;T=pt+=1)y=s[u++],E=(T-T%o)/o,L=T<o?0:st[_-o],B===0?it=nt=0:(it=st[(B-1)*G+E*o+T%o],nt=E&&st[(B-1)*G+(E-1)*o+T%o]),D=L+it-nt,I=Math.abs(D-L),j=Math.abs(D-it),K=Math.abs(D-nt),k=I<=j&&I<=K?L:j<=K?it:nt,st[_++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!F){var V=((g+B*x)*d.width+p)*o,tt=B*G;for(T=0;T<$;T+=1){for(var at=0;at<o;at+=1)c[V++]=st[tt++];V+=(v-1)*o}}B++}}return s=GB(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),c},n.prototype.decodePalette=function(){var s,o,c,u,d,f,p,g,v;for(c=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+c.length),u=0,s=0,o=p=0,g=c.length;p<g;o=p+=3)d[u++]=c[o],d[u++]=c[o+1],d[u++]=c[o+2],d[u++]=(v=f[s++])!=null?v:255;return d},n.prototype.copyToImageData=function(s,o){var c,u,d,f,p,g,v,x,y,_,E;if(u=this.colors,y=null,c=this.hasAlphaChannel,this.palette.length&&(y=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),u=4,c=!0),x=(d=s.data||s).length,p=y||o,f=g=0,u===1)for(;f<x;)v=y?4*o[f/4]:g,_=p[v++],d[f++]=_,d[f++]=_,d[f++]=_,d[f++]=c?p[v++]:255,g=v;else for(;f<x;)v=y?4*o[f/4]:g,d[f++]=p[v++],d[f++]=p[v++],d[f++]=p[v++],d[f++]=c?p[v++]:255,g=v},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Pe)==="[object Window]"){try{t=Pe.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,c,u,d,f,p,g,v;if(this.animation){for(v=[],c=f=0,p=(g=this.animation.frames).length;f<p;c=++f)o=g[c],u=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,d),o.imageData=u,v.push(o.image=i(u));return v}},n.prototype.renderFrame=function(s,o){var c,u,d;return c=(u=this.animation.frames)[o],d=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),d?.disposeOp===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var o,c,u,d,f,p,g=this;return c=0,p=this.animation,d=p.numFrames,u=p.frames,f=p.numPlays,(o=function(){var v,x;if(v=c++%d,x=u[v],g.renderFrame(s,v),d>1&&c/d<f)return g.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function p9(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],s=r>>7,o=1<<(7&r)+1;i[t++],i[t++];var c=null,u=null;s&&(c=t,u=o,t+=3*o);var d=!0,f=[],p=0,g=null,v=0,x=null;for(this.width=e,this.height=n;d&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,x=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=i[t++];p=i[t++]|i[t++]<<8,g=i[t++],(1&y)==0&&(g=null),v=y>>2&7,t++;break;case 254:for(;;){if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var _=i[t++]|i[t++]<<8,E=i[t++]|i[t++]<<8,T=i[t++]|i[t++]<<8,L=i[t++]|i[t++]<<8,O=i[t++],D=O>>6&1,I=1<<(7&O)+1,k=c,j=u,K=!1;O>>7&&(K=!0,k=t,j=I,t+=3*I);var st=t;for(t++;;){var B;if(!((B=i[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}f.push({x:_,y:E,width:T,height:L,has_local_palette:K,palette_offset:k,palette_size:j,data_offset:st,data_length:t-st,transparent_index:g,interlaced:!!D,delay:p,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(G){if(G<0||G>=f.length)throw new Error("Frame index out of range.");return f[G]},this.decodeAndBlitFrameBGRA=function(G,it){var nt=this.frameInfo(G),ht=nt.width*nt.height,U=new Uint8Array(ht);rS(i,nt.data_offset,U,ht);var Z=nt.palette_offset,J=nt.transparent_index;J===null&&(J=256);var pt=nt.width,$=e-pt,dt=pt,F=4*(nt.y*e+nt.x),V=4*((nt.y+nt.height)*e+nt.x),tt=F,at=4*$;nt.interlaced===!0&&(at+=4*e*7);for(var ot=8,ct=0,mt=U.length;ct<mt;++ct){var xt=U[ct];if(dt===0&&(dt=pt,(tt+=at)>=V&&(at=4*$+4*e*(ot-1),tt=F+(pt+$)*(ot<<1),ot>>=1)),xt===J)tt+=4;else{var Tt=i[Z+3*xt],Ot=i[Z+3*xt+1],zt=i[Z+3*xt+2];it[tt++]=zt,it[tt++]=Ot,it[tt++]=Tt,it[tt++]=255}--dt}},this.decodeAndBlitFrameRGBA=function(G,it){var nt=this.frameInfo(G),ht=nt.width*nt.height,U=new Uint8Array(ht);rS(i,nt.data_offset,U,ht);var Z=nt.palette_offset,J=nt.transparent_index;J===null&&(J=256);var pt=nt.width,$=e-pt,dt=pt,F=4*(nt.y*e+nt.x),V=4*((nt.y+nt.height)*e+nt.x),tt=F,at=4*$;nt.interlaced===!0&&(at+=4*e*7);for(var ot=8,ct=0,mt=U.length;ct<mt;++ct){var xt=U[ct];if(dt===0&&(dt=pt,(tt+=at)>=V&&(at=4*$+4*e*(ot-1),tt=F+(pt+$)*(ot<<1),ot>>=1)),xt===J)tt+=4;else{var Tt=i[Z+3*xt],Ot=i[Z+3*xt+1],zt=i[Z+3*xt+2];it[tt++]=Tt,it[tt++]=Ot,it[tt++]=zt,it[tt++]=255}--dt}}}function rS(i,t,e,n){for(var r=i[t++],s=1<<r,o=s+1,c=o+1,u=r+1,d=(1<<u)-1,f=0,p=0,g=0,v=i[t++],x=new Int32Array(4096),y=null;;){for(;f<16&&v!==0;)p|=i[t++]<<f,f+=8,v===1?v=i[t++]:--v;if(f<u)break;var _=p&d;if(p>>=u,f-=u,_!==s){if(_===o)break;for(var E=_<c?_:y,T=0,L=E;L>s;)L=x[L]>>8,++T;var O=L;if(g+T+(E!==_?1:0)>n)return void Un.log("Warning, gif stream longer than expected.");e[g++]=O;var D=g+=T;for(E!==_&&(e[g++]=O),L=E;T--;)L=x[L],e[--D]=255&L,L>>=8;y!==null&&c<4096&&(x[c++]=y<<8|O,c>=d+1&&u<12&&(++u,d=d<<1|1)),y=_}else c=o+1,d=(1<<(u=r+1))-1,y=null}return g!==n&&Un.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y1(i){var t,e,n,r,s,o=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),v=new Array(64),x=new Array(64),y=[],_=0,E=7,T=new Array(64),L=new Array(64),O=new Array(64),D=new Array(256),I=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],st=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],it=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ht=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(F,V){for(var tt=0,at=0,ot=new Array,ct=1;ct<=16;ct++){for(var mt=1;mt<=F[ct];mt++)ot[V[at]]=[],ot[V[at]][0]=tt,ot[V[at]][1]=ct,at++,tt++;tt*=2}return ot}function Z(F){for(var V=F[0],tt=F[1]-1;tt>=0;)V&1<<tt&&(_|=1<<E),tt--,--E<0&&(_==255?(J(255),J(0)):J(_),E=7,_=0)}function J(F){y.push(F)}function pt(F){J(F>>8&255),J(255&F)}function $(F,V,tt,at,ot){for(var ct,mt=ot[0],xt=ot[240],Tt=function(Vt,Zt){var Jt,Xt,ce,Ce,ke,Se,be,Fe,le,Re,ne=0;for(le=0;le<8;++le){Jt=Vt[ne],Xt=Vt[ne+1],ce=Vt[ne+2],Ce=Vt[ne+3],ke=Vt[ne+4],Se=Vt[ne+5],be=Vt[ne+6];var Xn=Jt+(Fe=Vt[ne+7]),We=Jt-Fe,tr=Xt+be,Qe=Xt-be,yn=ce+Se,er=ce-Se,on=Ce+ke,$i=Ce-ke,In=Xn+on,gr=Xn-on,nr=tr+yn,Fn=tr-yn;Vt[ne]=In+nr,Vt[ne+4]=In-nr;var Qt=.707106781*(Fn+gr);Vt[ne+2]=gr+Qt,Vt[ne+6]=gr-Qt;var xe=.382683433*((In=$i+er)-(Fn=Qe+We)),Pn=.5411961*In+xe,hn=1.306562965*Fn+xe,ir=.707106781*(nr=er+Qe),En=We+ir,oe=We-ir;Vt[ne+5]=oe+Pn,Vt[ne+3]=oe-Pn,Vt[ne+1]=En+hn,Vt[ne+7]=En-hn,ne+=8}for(ne=0,le=0;le<8;++le){Jt=Vt[ne],Xt=Vt[ne+8],ce=Vt[ne+16],Ce=Vt[ne+24],ke=Vt[ne+32],Se=Vt[ne+40],be=Vt[ne+48];var gn=Jt+(Fe=Vt[ne+56]),tn=Jt-Fe,vn=Xt+be,Gn=Xt-be,_n=ce+Se,_r=ce-Se,el=Ce+ke,Vr=Ce-ke,Gr=gn+el,rr=gn-el,sr=vn+_n,Nr=vn-_n;Vt[ne]=Gr+sr,Vt[ne+32]=Gr-sr;var Wi=.707106781*(Nr+rr);Vt[ne+16]=rr+Wi,Vt[ne+48]=rr-Wi;var Cn=.382683433*((Gr=Vr+_r)-(Nr=Gn+tn)),Ja=.5411961*Gr+Cn,nl=1.306562965*Nr+Cn,es=.707106781*(sr=_r+Gn),ws=tn+es,Vl=tn-es;Vt[ne+40]=Vl+Ja,Vt[ne+24]=Vl-Ja,Vt[ne+8]=ws+nl,Vt[ne+56]=ws-nl,ne++}for(le=0;le<64;++le)Re=Vt[le]*Zt[le],v[le]=Re>0?Re+.5|0:Re-.5|0;return v}(F,V),Ot=0;Ot<64;++Ot)x[k[Ot]]=Tt[Ot];var zt=x[0]-tt;tt=x[0],zt==0?Z(at[0]):(Z(at[g[ct=32767+zt]]),Z(p[ct]));for(var $t=63;$t>0&&x[$t]==0;)$t--;if($t==0)return Z(mt),tt;for(var Kt,Lt=1;Lt<=$t;){for(var lt=Lt;x[Lt]==0&&Lt<=$t;)++Lt;var se=Lt-lt;if(se>=16){Kt=se>>4;for(var ae=1;ae<=Kt;++ae)Z(xt);se&=15}ct=32767+x[Lt],Z(ot[(se<<4)+g[ct]]),Z(p[ct]),Lt++}return $t!=63&&Z(mt),tt}function dt(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(V){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ot=o((tt[at]*V+50)/100);ot=Math.min(Math.max(ot,1),255),c[k[at]]=ot}for(var ct=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mt=0;mt<64;mt++){var xt=o((ct[mt]*V+50)/100);xt=Math.min(Math.max(xt,1),255),u[k[mt]]=xt}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ot=0,zt=0;zt<8;zt++)for(var $t=0;$t<8;$t++)d[Ot]=1/(c[k[Ot]]*Tt[zt]*Tt[$t]*8),f[Ot]=1/(u[k[Ot]]*Tt[zt]*Tt[$t]*8),Ot++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,V){V&&dt(V),y=new Array,_=0,E=7,pt(65496),pt(65504),pt(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),pt(1),pt(1),J(0),J(0),function(){pt(65499),pt(132),J(0);for(var Xt=0;Xt<64;Xt++)J(c[Xt]);J(1);for(var ce=0;ce<64;ce++)J(u[ce])}(),function(Xt,ce){pt(65472),pt(17),J(8),pt(ce),pt(Xt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(F.width,F.height),function(){pt(65476),pt(418),J(0);for(var Xt=0;Xt<16;Xt++)J(j[Xt+1]);for(var ce=0;ce<=11;ce++)J(K[ce]);J(16);for(var Ce=0;Ce<16;Ce++)J(st[Ce+1]);for(var ke=0;ke<=161;ke++)J(B[ke]);J(1);for(var Se=0;Se<16;Se++)J(G[Se+1]);for(var be=0;be<=11;be++)J(it[be]);J(17);for(var Fe=0;Fe<16;Fe++)J(nt[Fe+1]);for(var le=0;le<=161;le++)J(ht[le])}(),pt(65498),pt(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var tt=0,at=0,ot=0;_=0,E=7,this.encode.displayName="_encode_";for(var ct,mt,xt,Tt,Ot,zt,$t,Kt,Lt,lt=F.data,se=F.width,ae=F.height,Vt=4*se,Zt=0;Zt<ae;){for(ct=0;ct<Vt;){for(Ot=Vt*Zt+ct,$t=-1,Kt=0,Lt=0;Lt<64;Lt++)zt=Ot+(Kt=Lt>>3)*Vt+($t=4*(7&Lt)),Zt+Kt>=ae&&(zt-=Vt*(Zt+1+Kt-ae)),ct+$t>=Vt&&(zt-=ct+$t-Vt+4),mt=lt[zt++],xt=lt[zt++],Tt=lt[zt++],T[Lt]=(I[mt]+I[xt+256>>0]+I[Tt+512>>0]>>16)-128,L[Lt]=(I[mt+768>>0]+I[xt+1024>>0]+I[Tt+1280>>0]>>16)-128,O[Lt]=(I[mt+1280>>0]+I[xt+1536>>0]+I[Tt+1792>>0]>>16)-128;tt=$(T,d,tt,t,n),at=$(L,f,at,e,r),ot=$(O,f,ot,e,r),ct+=32}Zt+=8}if(E>=0){var Jt=[];Jt[1]=E+1,Jt[0]=(1<<E+1)-1,Z(Jt)}return pt(65497),new Uint8Array(y)},i=i||50,function(){for(var F=String.fromCharCode,V=0;V<256;V++)D[V]=F(V)}(),t=U(j,K),e=U(G,it),n=U(st,B),r=U(nt,ht),function(){for(var F=1,V=2,tt=1;tt<=15;tt++){for(var at=F;at<V;at++)g[32767+at]=tt,p[32767+at]=[],p[32767+at][1]=tt,p[32767+at][0]=at;for(var ot=-(V-1);ot<=-F;ot++)g[32767+ot]=tt,p[32767+ot]=[],p[32767+ot][1]=tt,p[32767+ot][0]=V-1+ot;F<<=1,V<<=1}}(),function(){for(var F=0;F<256;F++)I[F]=19595*F,I[F+256>>0]=38470*F,I[F+512>>0]=7471*F+32768,I[F+768>>0]=-11059*F,I[F+1024>>0]=-21709*F,I[F+1280>>0]=32768*F+8421375,I[F+1536>>0]=-27439*F,I[F+1792>>0]=-5329*F}(),dt(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fa(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sS(i){function t(j){if(!j)throw Error("assert :P")}function e(j,K,st){for(var B=0;4>B;B++)if(j[K+B]!=st.charCodeAt(B))return!0;return!1}function n(j,K,st,B,G){for(var it=0;it<G;it++)j[K+it]=st[B+it]}function r(j,K,st,B){for(var G=0;G<B;G++)j[K+G]=st}function s(j){return new Int32Array(j)}function o(j,K){for(var st=[],B=0;B<j;B++)st.push(new K);return st}function c(j,K){var st=[];return function B(G,it,nt){for(var ht=nt[it],U=0;U<ht&&(G.push(nt.length>it+1?[]:new K),!(nt.length<it+1));U++)B(G[U],it+1,nt)}(st,0,j),st}var u=function(){var j=this;function K(b,A){for(var R=1<<A-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function st(b,A,R,P,H){t(!(P%R));do b[A+(P-=R)]=H;while(0<P)}function B(b,A,R,P,H){if(t(2328>=H),512>=H)var W=s(512);else if((W=s(H))==null)return 0;return function(Y,X,et,rt,vt,Ct){var _t,At,Ht=X,Dt=1<<et,bt=s(16),wt=s(16);for(t(vt!=0),t(rt!=null),t(Y!=null),t(0<et),At=0;At<vt;++At){if(15<rt[At])return 0;++bt[rt[At]]}if(bt[0]==vt)return 0;for(wt[1]=0,_t=1;15>_t;++_t){if(bt[_t]>1<<_t)return 0;wt[_t+1]=wt[_t]+bt[_t]}for(At=0;At<vt;++At)_t=rt[At],0<rt[At]&&(Ct[wt[_t]++]=At);if(wt[15]==1)return(rt=new G).g=0,rt.value=Ct[0],st(Y,Ht,1,Dt,rt),Dt;var It,qt=-1,Bt=Dt-1,re=0,te=1,ge=1,ee=1<<et;for(At=0,_t=1,vt=2;_t<=et;++_t,vt<<=1){if(te+=ge<<=1,0>(ge-=bt[_t]))return 0;for(;0<bt[_t];--bt[_t])(rt=new G).g=_t,rt.value=Ct[At++],st(Y,Ht+re,vt,ee,rt),re=K(re,_t)}for(_t=et+1,vt=2;15>=_t;++_t,vt<<=1){if(te+=ge<<=1,0>(ge-=bt[_t]))return 0;for(;0<bt[_t];--bt[_t]){if(rt=new G,(re&Bt)!=qt){for(Ht+=ee,It=1<<(qt=_t)-et;15>qt&&!(0>=(It-=bt[qt]));)++qt,It<<=1;Dt+=ee=1<<(It=qt-et),Y[X+(qt=re&Bt)].g=It+et,Y[X+qt].value=Ht-X-qt}rt.g=_t-et,rt.value=Ct[At++],st(Y,Ht+(re>>et),vt,ee,rt),re=K(re,_t)}}return te!=2*wt[15]-1?0:Dt}(b,A,R,P,H,W)}function G(){this.value=this.g=0}function it(){this.value=this.g=0}function nt(){this.G=o(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xi,it)}function ht(b,A,R,P){t(b!=null),t(A!=null),t(2147483648>P),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=A,b.pa=R,b.Jd=A,b.Yc=R+P,b.Zc=4<=P?R+P-4+1:R,ct(b)}function U(b,A){for(var R=0;0<A--;)R|=xt(b,128)<<A;return R}function Z(b,A){var R=U(b,A);return mt(b)?-R:R}function J(b,A,R,P){var H,W=0;for(t(b!=null),t(A!=null),t(4294967288>P),b.Sb=P,b.Ra=0,b.u=0,b.h=0,4<P&&(P=4),H=0;H<P;++H)W+=A[R+H]<<8*H;b.Ra=W,b.bb=P,b.oa=A,b.pa=R}function pt(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<hl-8>>>0,++b.bb,b.u-=8;tt(b)&&(b.h=1,b.u=0)}function $(b,A){if(t(0<=A),!b.h&&A<=ul){var R=V(b)&uo[A];return b.u+=A,pt(b),R}return b.h=1,b.u=0}function dt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(b){return b.Ra>>>(b.u&hl-1)>>>0}function tt(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>hl}function at(b,A){b.u=A,b.h=tt(b)}function ot(b){b.u>=ac&&(t(b.u>=ac),pt(b))}function ct(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function mt(b){return U(b,1)}function xt(b,A){var R=b.Ca;0>b.b&&ct(b);var P=b.b,H=R*A>>>8,W=(b.I>>>P>H)+0;for(W?(R-=H,b.I-=H+1<<P>>>0):R=H+1,P=R,H=0;256<=P;)H+=8,P>>=8;return P=7^H+Tr[P],b.b-=P,b.Ca=(R<<P)-1,W}function Tt(b,A,R){b[A+0]=R>>24&255,b[A+1]=R>>16&255,b[A+2]=R>>8&255,b[A+3]=R>>0&255}function Ot(b,A){return b[A+0]<<0|b[A+1]<<8}function zt(b,A){return Ot(b,A)|b[A+2]<<16}function $t(b,A){return Ot(b,A)|Ot(b,A+2)<<16}function Kt(b,A){var R=1<<A;return t(b!=null),t(0<A),b.X=s(R),b.X==null?0:(b.Mb=32-A,b.Xa=A,1)}function Lt(b,A){t(b!=null),t(A!=null),t(b.Xa==A.Xa),n(A.X,0,b.X,0,1<<A.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function se(b,A,R,P){t(R!=null),t(P!=null);var H=R[0],W=P[0];return H==0&&(H=(b*W+A/2)/A),W==0&&(W=(A*H+b/2)/b),0>=H||0>=W?0:(R[0]=H,P[0]=W,1)}function ae(b,A){return b+(1<<A)-1>>>A}function Vt(b,A){return((4278255360&b)+(4278255360&A)>>>0&4278255360)+((16711935&b)+(16711935&A)>>>0&16711935)>>>0}function Zt(b,A){j[A]=function(R,P,H,W,Y,X,et){var rt;for(rt=0;rt<Y;++rt){var vt=j[b](X[et+rt-1],H,W+rt);X[et+rt]=Vt(R[P+rt],vt)}}}function Jt(){this.ud=this.hd=this.jd=0}function Xt(b,A){return((4278124286&(b^A))>>>1)+(b&A)>>>0}function ce(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ce(b,A){return ce(b+(b-A+.5>>1))}function ke(b,A,R){return Math.abs(A-R)-Math.abs(b-R)}function Se(b,A,R,P,H,W,Y){for(P=W[Y-1],R=0;R<H;++R)W[Y+R]=P=Vt(b[A+R],P)}function be(b,A,R,P,H){var W;for(W=0;W<R;++W){var Y=b[A+W],X=Y>>8&255,et=16711935&(et=(et=16711935&Y)+((X<<16)+X));P[H+W]=(4278255360&Y)+et>>>0}}function Fe(b,A){A.jd=b>>0&255,A.hd=b>>8&255,A.ud=b>>16&255}function le(b,A,R,P,H,W){var Y;for(Y=0;Y<P;++Y){var X=A[R+Y],et=X>>>8,rt=X,vt=255&(vt=(vt=X>>>16)+((b.jd<<24>>24)*(et<<24>>24)>>>5));rt=255&(rt=(rt=rt+((b.hd<<24>>24)*(et<<24>>24)>>>5))+((b.ud<<24>>24)*(vt<<24>>24)>>>5)),H[W+Y]=(4278255360&X)+(vt<<16)+rt}}function Re(b,A,R,P,H){j[A]=function(W,Y,X,et,rt,vt,Ct,_t,At){for(et=Ct;et<_t;++et)for(Ct=0;Ct<At;++Ct)rt[vt++]=H(X[P(W[Y++])])},j[b]=function(W,Y,X,et,rt,vt,Ct){var _t=8>>W.b,At=W.Ea,Ht=W.K[0],Dt=W.w;if(8>_t)for(W=(1<<W.b)-1,Dt=(1<<_t)-1;Y<X;++Y){var bt,wt=0;for(bt=0;bt<At;++bt)bt&W||(wt=P(et[rt++])),vt[Ct++]=H(Ht[wt&Dt]),wt>>=_t}else j["VP8LMapColor"+R](et,rt,Ht,Dt,vt,Ct,Y,X,At)}}function ne(b,A,R,P,H){for(R=A+R;A<R;){var W=b[A++];P[H++]=W>>16&255,P[H++]=W>>8&255,P[H++]=W>>0&255}}function Xn(b,A,R,P,H){for(R=A+R;A<R;){var W=b[A++];P[H++]=W>>16&255,P[H++]=W>>8&255,P[H++]=W>>0&255,P[H++]=W>>24&255}}function We(b,A,R,P,H){for(R=A+R;A<R;){var W=(Y=b[A++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;P[H++]=W,P[H++]=Y}}function tr(b,A,R,P,H){for(R=A+R;A<R;){var W=(Y=b[A++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;P[H++]=W,P[H++]=Y}}function Qe(b,A,R,P,H){for(R=A+R;A<R;){var W=b[A++];P[H++]=W>>0&255,P[H++]=W>>8&255,P[H++]=W>>16&255}}function yn(b,A,R,P,H,W){if(W==0)for(R=A+R;A<R;)Tt(P,((W=b[A++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),H+=32;else n(P,H,b,A,R)}function er(b,A){j[A][0]=j[b+"0"],j[A][1]=j[b+"1"],j[A][2]=j[b+"2"],j[A][3]=j[b+"3"],j[A][4]=j[b+"4"],j[A][5]=j[b+"5"],j[A][6]=j[b+"6"],j[A][7]=j[b+"7"],j[A][8]=j[b+"8"],j[A][9]=j[b+"9"],j[A][10]=j[b+"10"],j[A][11]=j[b+"11"],j[A][12]=j[b+"12"],j[A][13]=j[b+"13"],j[A][14]=j[b+"0"],j[A][15]=j[b+"0"]}function on(b){return b==xu||b==xo||b==Ea||b==uc}function $i(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $i,this.f.kb=new In,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function xe(b,A){var R=b.T,P=A.ba.f.RGBA,H=P.eb,W=P.fb+b.ka*P.A,Y=Bi[A.ba.S],X=b.y,et=b.O,rt=b.f,vt=b.N,Ct=b.ea,_t=b.W,At=A.cc,Ht=A.dc,Dt=A.Mc,bt=A.Nc,wt=b.ka,It=b.ka+b.T,qt=b.U,Bt=qt+1>>1;for(wt==0?Y(X,et,null,null,rt,vt,Ct,_t,rt,vt,Ct,_t,H,W,null,null,qt):(Y(A.ec,A.fc,X,et,At,Ht,Dt,bt,rt,vt,Ct,_t,H,W-P.A,H,W,qt),++R);wt+2<It;wt+=2)At=rt,Ht=vt,Dt=Ct,bt=_t,vt+=b.Rc,_t+=b.Rc,W+=2*P.A,Y(X,(et+=2*b.fa)-b.fa,X,et,At,Ht,Dt,bt,rt,vt,Ct,_t,H,W-P.A,H,W,qt);return et+=b.fa,b.j+It<b.o?(n(A.ec,A.fc,X,et,qt),n(A.cc,A.dc,rt,vt,Bt),n(A.Mc,A.Nc,Ct,_t,Bt),R--):1&It||Y(X,et,null,null,rt,vt,Ct,_t,rt,vt,Ct,_t,H,W+P.A,null,null,qt),R}function Pn(b,A,R){var P=b.F,H=[b.J];if(P!=null){var W=b.U,Y=A.ba.S,X=Y==gl||Y==Ea;A=A.ba.f.RGBA;var et=[0],rt=b.ka;et[0]=b.T,b.Kb&&(rt==0?--et[0]:(--rt,H[0]-=b.width),b.j+b.ka+b.T==b.o&&(et[0]=b.o-b.j-rt));var vt=A.eb;rt=A.fb+rt*A.A,b=Xe(P,H[0],b.width,W,et,vt,rt+(X?0:3),A.A),t(R==et),b&&on(Y)&&Xr(vt,rt,X,W,et,A.A)}return 0}function hn(b){var A=b.ma,R=A.ba.S,P=11>R,H=R==cc||R==wu||R==gl||R==Sa||R==12||on(R);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!co(A.Oa,b,H?11:12))return 0;if(H&&on(R)&&Wt(),b.da)alert("todo:use_scaling");else{if(P){if(A.Ib=Qt,b.Kb){if(R=b.U+1>>1,A.memory=s(b.U+2*R),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+b.U,A.Mc=A.cc,A.Nc=A.dc+R,A.Ib=xe,Wt()}}else alert("todo:EmitYUV");H&&(A.Jb=Pn,P&&Et())}if(P&&!am){for(b=0;256>b;++b)Q0[b]=89858*(b-128)+Si>>Js,Eu[b]=-22014*(b-128)+Si,ff[b]=-45773*(b-128),Ei[b]=113618*(b-128)+Si>>Js;for(b=Eo;b<zh;++b)A=76283*(b-16)+Si>>Js,_u[b-Eo]=Yr(A,255),pf[b-Eo]=Yr(A+8>>4,15);am=1}return 1}function ir(b){var A=b.ma,R=b.U,P=b.T;return t(!(1&b.ka)),0>=R||0>=P?0:(R=A.Ib(b,A),A.Jb!=null&&A.Jb(b,A,R),A.Dc+=R,1)}function En(b){b.ma.memory=null}function oe(b,A,R,P){return $(b,8)!=47?0:(A[0]=$(b,14)+1,R[0]=$(b,14)+1,P[0]=$(b,1),$(b,3)!=0?0:!b.h)}function gn(b,A){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+$(A,R)+1}function tn(b,A){return 120<A?A-120:1<=(R=((R=Na[A-1])>>4)*b+(8-(15&R)))?R:1;var R}function vn(b,A,R){var P=V(R),H=b[A+=255&P].g-8;return 0<H&&(at(R,R.u+8),P=V(R),A+=b[A].value,A+=P&(1<<H)-1),at(R,R.u+b[A].g),b[A].value}function Gn(b,A,R){return R.g+=b.g,R.value+=b.value<<A>>>0,t(8>=R.g),b.g}function _n(b,A,R){var P=b.xc;return t((A=P==0?0:b.vc[b.md*(R>>P)+(A>>P)])<b.Wb),b.Ya[A]}function _r(b,A,R,P){var H=b.ab,W=b.c*A,Y=b.C;A=Y+A;var X=R,et=P;for(P=b.Ta,R=b.Ua;0<H--;){var rt=b.gc[H],vt=Y,Ct=A,_t=X,At=et,Ht=(et=P,X=R,rt.Ea);switch(t(vt<Ct),t(Ct<=rt.nc),rt.hc){case 2:Dh(_t,At,(Ct-vt)*Ht,et,X);break;case 0:var Dt=vt,bt=Ct,wt=et,It=X,qt=(ee=rt).Ea;Dt==0&&(hf(_t,At,null,null,1,wt,It),Se(_t,At+1,0,0,qt-1,wt,It+1),At+=qt,It+=qt,++Dt);for(var Bt=1<<ee.b,re=Bt-1,te=ae(qt,ee.b),ge=ee.K,ee=ee.w+(Dt>>ee.b)*te;Dt<bt;){var fn=ge,wn=ee,$e=1;for(bu(_t,At,wt,It-qt,1,wt,It);$e<qt;){var Ve=($e&~re)+Bt;Ve>qt&&(Ve=qt),(0,wa[fn[wn++]>>8&15])(_t,At+ +$e,wt,It+$e-qt,Ve-$e,wt,It+$e),$e=Ve}At+=qt,It+=qt,++Dt&re||(ee+=te)}Ct!=rt.nc&&n(et,X-Ht,et,X+(Ct-vt-1)*Ht,Ht);break;case 1:for(Ht=_t,bt=At,qt=(_t=rt.Ea)-(It=_t&~(wt=(At=1<<rt.b)-1)),Dt=ae(_t,rt.b),Bt=rt.K,rt=rt.w+(vt>>rt.b)*Dt;vt<Ct;){for(re=Bt,te=rt,ge=new Jt,ee=bt+It,fn=bt+_t;bt<ee;)Fe(re[te++],ge),fo(ge,Ht,bt,At,et,X),bt+=At,X+=At;bt<fn&&(Fe(re[te++],ge),fo(ge,Ht,bt,qt,et,X),bt+=qt,X+=qt),++vt&wt||(rt+=Dt)}break;case 3:if(_t==et&&At==X&&0<rt.b){for(bt=et,_t=Ht=X+(Ct-vt)*Ht-(It=(Ct-vt)*ae(rt.Ea,rt.b)),At=et,wt=X,Dt=[],It=(qt=It)-1;0<=It;--It)Dt[It]=At[wt+It];for(It=qt-1;0<=It;--It)bt[_t+It]=Dt[It];rs(rt,vt,Ct,et,Ht,et,X)}else rs(rt,vt,Ct,_t,At,et,X)}X=P,et=R}et!=R&&n(P,R,X,et,W)}function el(b,A){var R=b.V,P=b.Ba+b.c*b.C,H=A-b.C;if(t(A<=b.l.o),t(16>=H),0<H){var W=b.l,Y=b.Ta,X=b.Ua,et=W.width;if(_r(b,H,R,P),H=X=[X],t((R=b.C)<(P=A)),t(W.v<W.va),P>W.o&&(P=W.o),R<W.j){var rt=W.j-R;R=W.j,H[0]+=rt*et}if(R>=P?R=0:(H[0]+=4*W.v,W.ka=R-W.j,W.U=W.va-W.v,W.T=P-R,R=1),R){if(X=X[0],11>(R=b.ca).S){var vt=R.f.RGBA,Ct=(P=R.S,H=W.U,W=W.T,rt=vt.eb,vt.A),_t=W;for(vt=vt.fb+b.Ma*vt.A;0<_t--;){var At=Y,Ht=X,Dt=H,bt=rt,wt=vt;switch(P){case or:br(At,Ht,Dt,bt,wt);break;case cc:Yi(At,Ht,Dt,bt,wt);break;case xu:Yi(At,Ht,Dt,bt,wt),Xr(bt,wt,0,Dt,1,0);break;case Xs:_s(At,Ht,Dt,bt,wt);break;case wu:yn(At,Ht,Dt,bt,wt,1);break;case xo:yn(At,Ht,Dt,bt,wt,1),Xr(bt,wt,0,Dt,1,0);break;case gl:yn(At,Ht,Dt,bt,wt,0);break;case Ea:yn(At,Ht,Dt,bt,wt,0),Xr(bt,wt,1,Dt,1,0);break;case Sa:po(At,Ht,Dt,bt,wt);break;case uc:po(At,Ht,Dt,bt,wt),Ye(bt,wt,Dt,1,0);break;case kh:Lr(At,Ht,Dt,bt,wt);break;default:t(0)}X+=et,vt+=Ct}b.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=R.height)}}b.C=A,t(b.C<=b.i)}function Vr(b){var A;if(0<b.ua)return 0;for(A=0;A<b.Wb;++A){var R=b.Ya[A].G,P=b.Ya[A].H;if(0<R[1][P[1]+0].g||0<R[2][P[2]+0].g||0<R[3][P[3]+0].g)return 0}return 1}function Gr(b,A,R,P,H,W){if(b.Z!=0){var Y=b.qd,X=b.rd;for(t(Qs[b.Z]!=null);A<R;++A)Qs[b.Z](Y,X,P,H,P,H,W),Y=P,X=H,H+=W;b.qd=Y,b.rd=X}}function rr(b,A){var R=b.l.ma,P=R.Z==0||R.Z==1?b.l.j:b.C;if(P=b.C<P?P:b.C,t(A<=b.l.o),A>P){var H=b.l.width,W=R.ca,Y=R.tb+H*P,X=b.V,et=b.Ba+b.c*P,rt=b.gc;t(b.ab==1),t(rt[0].hc==3),ho(rt[0],P,A,X,et,W,Y),Gr(R,P,A,W,Y,H)}b.C=b.Ma=A}function sr(b,A,R,P,H,W,Y){var X=b.$/P,et=b.$%P,rt=b.m,vt=b.s,Ct=R+b.$,_t=Ct;H=R+P*H;var At=R+P*W,Ht=280+vt.ua,Dt=b.Pb?X:16777216,bt=0<vt.ua?vt.Wa:null,wt=vt.wc,It=Ct<At?_n(vt,et,X):null;t(b.C<W),t(At<=H);var qt=!1;t:for(;;){for(;qt||Ct<At;){var Bt=0;if(X>=Dt){var re=Ct-R;t((Dt=b).Pb),Dt.wd=Dt.m,Dt.xd=re,0<Dt.s.ua&&Lt(Dt.s.Wa,Dt.s.vb),Dt=X+im}if(et&wt||(It=_n(vt,et,X)),t(It!=null),It.Qb&&(A[Ct]=It.qb,qt=!0),!qt)if(ot(rt),It.jc){Bt=rt,re=A;var te=Ct,ge=It.pd[V(Bt)&xi-1];t(It.jc),256>ge.g?(at(Bt,Bt.u+ge.g),re[te]=ge.value,Bt=0):(at(Bt,Bt.u+ge.g-256),t(256<=ge.value),Bt=ge.value),Bt==0&&(qt=!0)}else Bt=vn(It.G[0],It.H[0],rt);if(rt.h)break;if(qt||256>Bt){if(!qt)if(It.nd)A[Ct]=(It.qb|Bt<<8)>>>0;else{if(ot(rt),qt=vn(It.G[1],It.H[1],rt),ot(rt),re=vn(It.G[2],It.H[2],rt),te=vn(It.G[3],It.H[3],rt),rt.h)break;A[Ct]=(te<<24|qt<<16|Bt<<8|re)>>>0}if(qt=!1,++Ct,++et>=P&&(et=0,++X,Y!=null&&X<=W&&!(X%16)&&Y(b,X),bt!=null))for(;_t<Ct;)Bt=A[_t++],bt.X[(506832829*Bt&4294967295)>>>bt.Mb]=Bt}else if(280>Bt){if(Bt=gn(Bt-256,rt),re=vn(It.G[4],It.H[4],rt),ot(rt),re=tn(P,re=gn(re,rt)),rt.h)break;if(Ct-R<re||H-Ct<Bt)break t;for(te=0;te<Bt;++te)A[Ct+te]=A[Ct+te-re];for(Ct+=Bt,et+=Bt;et>=P;)et-=P,++X,Y!=null&&X<=W&&!(X%16)&&Y(b,X);if(t(Ct<=H),et&wt&&(It=_n(vt,et,X)),bt!=null)for(;_t<Ct;)Bt=A[_t++],bt.X[(506832829*Bt&4294967295)>>>bt.Mb]=Bt}else{if(!(Bt<Ht))break t;for(qt=Bt-280,t(bt!=null);_t<Ct;)Bt=A[_t++],bt.X[(506832829*Bt&4294967295)>>>bt.Mb]=Bt;Bt=Ct,t(!(qt>>>(re=bt).Xa)),A[Bt]=re.X[qt],qt=!0}qt||t(rt.h==tt(rt))}if(b.Pb&&rt.h&&Ct<H)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Lt(b.s.vb,b.s.Wa);else{if(rt.h)break t;Y?.(b,X>W?W:X),b.a=0,b.$=Ct-R}return 1}return b.a=3,0}function Nr(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var A=b.Wa;A!=null&&(A.X=null),b.vb=null,t(b!=null)}function Wi(){var b=new uf;return b==null?null:(b.a=0,b.xb=hc,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),Dh=be,fo=le,br=ne,Yi=Xn,po=We,Lr=tr,_s=Qe,j.VP8LMapColor32b=Ii,j.VP8LMapColor8b=yu,b)}function Cn(b,A,R,P,H){var W=1,Y=[b],X=[A],et=P.m,rt=P.s,vt=null,Ct=0;t:for(;;){if(R)for(;W&&$(et,1);){var _t=Y,At=X,Ht=P,Dt=1,bt=Ht.m,wt=Ht.gc[Ht.ab],It=$(bt,2);if(Ht.Oc&1<<It)W=0;else{switch(Ht.Oc|=1<<It,wt.hc=It,wt.Ea=_t[0],wt.nc=At[0],wt.K=[null],++Ht.ab,t(4>=Ht.ab),It){case 0:case 1:wt.b=$(bt,3)+2,Dt=Cn(ae(wt.Ea,wt.b),ae(wt.nc,wt.b),0,Ht,wt.K),wt.K=wt.K[0];break;case 3:var qt,Bt=$(bt,8)+1,re=16<Bt?0:4<Bt?1:2<Bt?2:3;if(_t[0]=ae(wt.Ea,re),wt.b=re,qt=Dt=Cn(Bt,1,0,Ht,wt.K)){var te,ge=Bt,ee=wt,fn=1<<(8>>ee.b),wn=s(fn);if(wn==null)qt=0;else{var $e=ee.K[0],Ve=ee.w;for(wn[0]=ee.K[0][0],te=1;te<1*ge;++te)wn[te]=Vt($e[Ve+te],wn[te-1]);for(;te<4*fn;++te)wn[te]=0;ee.K[0]=null,ee.K[0]=wn,qt=1}}Dt=qt;break;case 2:break;default:t(0)}W=Dt}}if(Y=Y[0],X=X[0],W&&$(et,1)&&!(W=1<=(Ct=$(et,4))&&11>=Ct)){P.a=3;break t}var Nn;if(Nn=W)e:{var xn,Ie,Rn,we=P,Me=Y,dn=X,pn=Ct,zi=R,_i=we.m,di=we.s,fi=[null],vi=1,ls=0,An=bl[pn];n:for(;;){if(zi&&$(_i,1)){var bi=$(_i,3)+2,Rs=ae(Me,bi),_o=ae(dn,bi),xl=Rs*_o;if(!Cn(Rs,_o,0,we,fi))break n;for(fi=fi[0],di.xc=bi,xn=0;xn<xl;++xn){var No=fi[xn]>>8&65535;fi[xn]=No,No>=vi&&(vi=No+1)}}if(_i.h)break n;for(Ie=0;5>Ie;++Ie){var Wn=Kr[Ie];!Ie&&0<pn&&(Wn+=1<<pn),ls<Wn&&(ls=Wn)}var Nu=o(vi*An,G),Uh=vi,wr=o(Uh,nt);if(wr==null)var Qn=null;else t(65536>=Uh),Qn=wr;var Al=s(ls);if(Qn==null||Al==null||Nu==null){we.a=1;break n}var Co=Nu;for(xn=Rn=0;xn<vi;++xn){var Pr=Qn[xn],Ro=Pr.G,Dr=Pr.H,Cu=0,fc=1,Hh=0;for(Ie=0;5>Ie;++Ie){Wn=Kr[Ie],Ro[Ie]=Co,Dr[Ie]=Rn,!Ie&&0<pn&&(Wn+=1<<pn);r:{var Ru,qh=Wn,Tu=we,pc=Al,cm=Co,um=Rn,Lu=0,La=Tu.m,J0=$(La,1);if(r(pc,0,0,qh),J0){var hm=$(La,1)+1,dm=$(La,1),mf=$(La,dm==0?1:8);pc[mf]=1,hm==2&&(pc[mf=$(La,8)]=1);var mc=1}else{var gf=s(19),vf=$(La,4)+4;if(19<vf){Tu.a=3;var Mu=0;break r}for(Ru=0;Ru<vf;++Ru)gf[_a[Ru]]=$(La,3);var Vh=void 0,gc=void 0,fm=Tu,pm=gf,Ma=qh,Pu=pc,Gh=0,Ts=fm.m,vc=8,bf=o(128,G);i:for(;B(bf,0,7,pm,19);){if($(Ts,1)){var mm=2+2*$(Ts,3);if((Vh=2+$(Ts,mm))>Ma)break i}else Vh=Ma;for(gc=0;gc<Ma&&Vh--;){ot(Ts);var yf=bf[0+(127&V(Ts))];at(Ts,Ts.u+yf.g);var Sl=yf.value;if(16>Sl)Pu[gc++]=Sl,Sl!=0&&(vc=Sl);else{var gm=Sl==16,wf=Sl-16,xf=os[wf],Af=$(Ts,jh[wf])+xf;if(gc+Af>Ma)break i;for(var vm=gm?vc:0;0<Af--;)Pu[gc++]=vm}}Gh=1;break i}Gh||(fm.a=3),mc=Gh}(mc=mc&&!La.h)&&(Lu=B(cm,um,8,pc,qh)),mc&&Lu!=0?Mu=Lu:(Tu.a=3,Mu=0)}if(Mu==0)break n;if(fc&&vl[Ie]==1&&(fc=Co[Rn].g==0),Cu+=Co[Rn].g,Rn+=Mu,3>=Ie){var El,$h=Al[0];for(El=1;El<Wn;++El)Al[El]>$h&&($h=Al[El]);Hh+=$h}}if(Pr.nd=fc,Pr.Qb=0,fc&&(Pr.qb=(Ro[3][Dr[3]+0].value<<24|Ro[1][Dr[1]+0].value<<16|Ro[2][Dr[2]+0].value)>>>0,Cu==0&&256>Ro[0][Dr[0]+0].value&&(Pr.Qb=1,Pr.qb+=Ro[0][Dr[0]+0].value<<8)),Pr.jc=!Pr.Qb&&6>Hh,Pr.jc){var Du,Pa=Pr;for(Du=0;Du<xi;++Du){var ta=Du,Da=Pa.pd[ta],Ou=Pa.G[0][Pa.H[0]+ta];256<=Ou.value?(Da.g=Ou.g+256,Da.value=Ou.value):(Da.g=0,Da.value=0,ta>>=Gn(Ou,8,Da),ta>>=Gn(Pa.G[1][Pa.H[1]+ta],16,Da),ta>>=Gn(Pa.G[2][Pa.H[2]+ta],0,Da),Gn(Pa.G[3][Pa.H[3]+ta],24,Da))}}}di.vc=fi,di.Wb=vi,di.Ya=Qn,di.yc=Nu,Nn=1;break e}Nn=0}if(!(W=Nn)){P.a=3;break t}if(0<Ct){if(rt.ua=1<<Ct,!Kt(rt.Wa,Ct)){P.a=1,W=0;break t}}else rt.ua=0;var ku=P,Sf=Y,bm=X,Ef=ku.s,_f=Ef.xc;if(ku.c=Sf,ku.i=bm,Ef.md=ae(Sf,_f),Ef.wc=_f==0?-1:(1<<_f)-1,R){P.xb=sm;break t}if((vt=s(Y*X))==null){P.a=1,W=0;break t}W=(W=sr(P,vt,0,Y,X,X,null))&&!et.h;break t}return W?(H!=null?H[0]=vt:(t(vt==null),t(R)),P.$=0,R||Nr(rt)):Nr(rt),W}function Ja(b,A){var R=b.c*b.i,P=R+A+16*A;return t(b.c<=A),b.V=s(P),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+A,1)}function nl(b,A){var R=b.C,P=A-R,H=b.V,W=b.Ba+b.c*R;for(t(A<=b.l.o);0<P;){var Y=16<P?16:P,X=b.l.ma,et=b.l.width,rt=et*Y,vt=X.ca,Ct=X.tb+et*R,_t=b.Ta,At=b.Ua;_r(b,Y,H,W),Dn(_t,At,vt,Ct,rt),Gr(X,R,R+Y,vt,Ct,et),P-=Y,H+=Y*b.c,R+=Y}t(R==A),b.C=b.Ma=A}function es(){this.ub=this.yd=this.td=this.Rb=0}function ws(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function iu(){this.Yb=function(){var b=[];return function A(R,P,H){for(var W=H[P],Y=0;Y<W&&(R.push(H.length>P+1?[]:0),!(H.length<P+1));Y++)A(R[Y],P+1,H)}(b,0,[3,11]),b}()}function Ah(){this.jb=s(3),this.Wc=c([4,8],iu),this.Xc=c([4,17],iu)}function sf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ha(){this.ld=this.La=this.dd=this.tc=0}function il(){this.Na=this.la=0}function xs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ha),this.Y=0,this.ya=Array(new rl),this.aa=0,this.l=new to}function da(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new dt,this.Od=new es,this.Kc=new ws,this.ed=new sf,this.Qa=new Vl,this.Ic=this.$c=this.Aa=0,this.D=new Sh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,dt),this.ia=0,this.pb=o(4,xs),this.Pa=new Ah,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new da),this.Hd=0,this.rb=Array(new il),this.sb=0,this.wa=Array(new ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rl),this.L=this.aa=0,this.gd=c([4,2],ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function to(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function af(){var b=new ru;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Ai||(Ai=Eh)),b}function Jn(b,A,R){return b.a==0&&(b.a=A,b.sc=R,b.cb=0),0}function vr(b,A,R){return 3<=R&&b[A+0]==157&&b[A+1]==1&&b[A+2]==42}function su(b,A){if(b==null)return 0;if(b.a=0,b.sc="OK",A==null)return Jn(b,2,"null VP8Io passed to VP8GetHeaders()");var R=A.data,P=A.w,H=A.ha;if(4>H)return Jn(b,7,"Truncated header.");var W=R[P+0]|R[P+1]<<8|R[P+2]<<16,Y=b.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return Jn(b,3,"Incorrect keyframe parameters.");if(!Y.yd)return Jn(b,4,"Frame not displayable.");P+=3,H-=3;var X=b.Kc;if(Y.Rb){if(7>H)return Jn(b,7,"cannot parse picture header");if(!vr(R,P,H))return Jn(b,3,"Bad code word");X.c=16383&(R[P+4]<<8|R[P+3]),X.Td=R[P+4]>>6,X.i=16383&(R[P+6]<<8|R[P+5]),X.Ud=R[P+6]>>6,P+=7,H-=7,b.za=X.c+15>>4,b.Ub=X.i+15>>4,A.width=X.c,A.height=X.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,r((W=b.Pa).jb,0,255,W.jb.length),t((W=b.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,r(W.Zb,0,0,W.Zb.length),r(W.Lb,0,0,W.Lb)}if(Y.ub>H)return Jn(b,7,"bad partition length");ht(W=b.m,R,P,Y.ub),P+=Y.ub,H-=Y.ub,Y.Rb&&(X.Ld=mt(W),X.Kd=mt(W)),X=b.Qa;var et,rt=b.Pa;if(t(W!=null),t(X!=null),X.Cb=mt(W),X.Cb){if(X.Bb=mt(W),mt(W)){for(X.Fb=mt(W),et=0;4>et;++et)X.Zb[et]=mt(W)?Z(W,7):0;for(et=0;4>et;++et)X.Lb[et]=mt(W)?Z(W,6):0}if(X.Bb)for(et=0;3>et;++et)rt.jb[et]=mt(W)?U(W,8):255}else X.Bb=0;if(W.Ka)return Jn(b,3,"cannot parse segment header");if((X=b.ed).zd=mt(W),X.Tb=U(W,6),X.wb=U(W,3),X.Pc=mt(W),X.Pc&&mt(W)){for(rt=0;4>rt;++rt)mt(W)&&(X.vd[rt]=Z(W,6));for(rt=0;4>rt;++rt)mt(W)&&(X.od[rt]=Z(W,6))}if(b.L=X.Tb==0?0:X.zd?1:2,W.Ka)return Jn(b,3,"cannot parse filter header");var vt=H;if(H=et=P,P=et+vt,X=vt,b.Xb=(1<<U(b.m,2))-1,vt<3*(rt=b.Xb))R=7;else{for(et+=3*rt,X-=3*rt,vt=0;vt<rt;++vt){var Ct=R[H+0]|R[H+1]<<8|R[H+2]<<16;Ct>X&&(Ct=X),ht(b.Jc[+vt],R,et,Ct),et+=Ct,X-=Ct,H+=3}ht(b.Jc[+rt],R,et,X),R=et<P?0:5}if(R!=0)return Jn(b,R,"cannot parse partitions");for(R=U(et=b.m,7),H=mt(et)?Z(et,4):0,P=mt(et)?Z(et,4):0,X=mt(et)?Z(et,4):0,rt=mt(et)?Z(et,4):0,et=mt(et)?Z(et,4):0,vt=b.Qa,Ct=0;4>Ct;++Ct){if(vt.Cb){var _t=vt.Zb[Ct];vt.Fb||(_t+=R)}else{if(0<Ct){b.pb[Ct]=b.pb[0];continue}_t=R}var At=b.pb[Ct];At.Sc[0]=Au[Yr(_t+H,127)],At.Sc[1]=Su[Yr(_t+0,127)],At.Eb[0]=2*Au[Yr(_t+P,127)],At.Eb[1]=101581*Su[Yr(_t+X,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=Au[Yr(_t+rt,117)],At.Qc[1]=Su[Yr(_t+et,127)],At.lc=_t+et}if(!Y.Rb)return Jn(b,4,"Not a key frame.");for(mt(W),Y=b.Pa,R=0;4>R;++R){for(H=0;8>H;++H)for(P=0;3>P;++P)for(X=0;11>X;++X)rt=xt(W,yl[R][H][P][X])?U(W,8):Ks[R][H][P][X],Y.Wc[R][H].Yb[P][X]=rt;for(H=0;17>H;++H)Y.Xc[R][H]=Y.Wc[R][rm[H]]}return b.kc=mt(W),b.kc&&(b.Bd=U(W,8)),b.cb=1}function Eh(b,A,R,P,H,W,Y){var X=A[H].Yb[R];for(R=0;16>H;++H){if(!xt(b,X[R+0]))return H;for(;!xt(b,X[R+1]);)if(X=A[++H].Yb[0],R=0,H==16)return 16;var et=A[H+1].Yb;if(xt(b,X[R+2])){var rt=b,vt=0;if(xt(rt,(_t=X)[(Ct=R)+3]))if(xt(rt,_t[Ct+6])){for(X=0,Ct=2*(vt=xt(rt,_t[Ct+8]))+(_t=xt(rt,_t[Ct+9+vt])),vt=0,_t=ni[Ct];_t[X];++X)vt+=vt+xt(rt,_t[X]);vt+=3+(8<<Ct)}else xt(rt,_t[Ct+7])?(vt=7+2*xt(rt,165),vt+=xt(rt,145)):vt=5+xt(rt,159);else vt=xt(rt,_t[Ct+4])?3+xt(rt,_t[Ct+5]):2;X=et[2]}else vt=1,X=et[1];et=Y+bn[H],0>(rt=b).b&&ct(rt);var Ct,_t=rt.b,At=(Ct=rt.Ca>>1)-(rt.I>>_t)>>31;--rt.b,rt.Ca+=At,rt.Ca|=1,rt.I-=(Ct+1&At)<<_t,W[et]=((vt^At)-At)*P[(0<H)+0]}return 16}function eo(b){var A=b.rb[b.sb-1];A.la=0,A.Na=0,r(b.zc,0,0,b.zc.length),b.ja=0}function _h(b,A){if(b==null)return 0;if(A==null)return Jn(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!su(b,A))return 0;if(t(b.cb),A.ac==null||A.ac(A)){A.ob&&(b.L=0);var R=Ta[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=A.v-R>>4,b.zb=A.j-R>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=A.o+15+R>>4,b.Hb=A.va+15+R>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var P=b.ed;for(R=0;4>R;++R){var H;if(b.Qa.Cb){var W=b.Qa.Lb[R];b.Qa.Fb||(W+=P.Tb)}else W=P.Tb;for(H=0;1>=H;++H){var Y=b.gd[R][H],X=W;if(P.Pc&&(X+=P.vd[0],H&&(X+=P.od[0])),0<(X=0>X?0:63<X?63:X)){var et=X;0<P.wb&&(et=4<P.wb?et>>2:et>>1)>9-P.wb&&(et=9-P.wb),1>et&&(et=1),Y.dd=et,Y.tc=2*X+et,Y.ld=40<=X?2:15<=X?1:0}else Y.tc=0;Y.La=H}}}R=0}else Jn(b,6,"Frame setup failed"),R=b.a;if(R=R==0){if(R){b.$c=0,0<b.Aa||(b.Ic=om);t:{R=b.Ic,P=4*(et=b.za);var rt=32*et,vt=et+1,Ct=0<b.L?et*(0<b.Aa?2:1):0,_t=(b.Aa==2?2:1)*et;if((Y=P+832+(H=3*(16*R+Ta[b.L])/2*rt)+(W=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=Y)R=0;else{if(Y>b.Vb){if(b.Vb=0,b.Ec=s(Y),b.Fc=0,b.Ec==null){R=Jn(b,1,"no memory during frame initialization.");break t}b.Vb=Y}Y=b.Ec,X=b.Fc,b.Ac=Y,b.Bc=X,X+=P,b.Gd=o(rt,da),b.Hd=0,b.rb=o(vt+1,il),b.sb=1,b.wa=Ct?o(Ct,ha):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=et),t(!0),b.oc=Y,b.pc=X,X+=832,b.ya=o(_t,rl),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=et),b.R=16*et,b.B=8*et,et=(rt=Ta[b.L])*b.R,rt=rt/2*b.B,b.sa=Y,b.ta=X+et,b.qa=b.sa,b.ra=b.ta+16*R*b.R+rt,b.Ha=b.qa,b.Ia=b.ra+8*R*b.B+rt,b.$c=0,X+=H,b.mb=W?Y:null,b.nb=W?X:null,t(X+W<=b.Fc+b.Vb),eo(b),r(b.Ac,b.Bc,0,P),R=1}}if(R){if(A.ka=0,A.y=b.sa,A.O=b.ta,A.f=b.qa,A.N=b.ra,A.ea=b.Ha,A.Vd=b.Ia,A.fa=b.R,A.Rc=b.B,A.F=null,A.J=0,!Aa){for(R=-255;255>=R;++R)hi[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)ss[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)yo[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)wo[255+R]=0>R?0:255<R?255:R;Aa=1}Ws=no,Ns=ou,Cs=fa,gi=Nh,Mr=lu,ti=au,dl=al,Ys=ol,oc=cf,mo=fu,go=lf,vo=Zl,fl=Jl,lc=Ph,bo=ao,xa=Wr,pl=$s,ei=of,yr[0]=Rr,yr[1]=Ch,yr[2]=hu,yr[3]=Th,yr[4]=ns,yr[5]=qs,yr[6]=Yl,yr[7]=is,yr[8]=Xl,yr[9]=du,Ca[0]=Wl,Ca[1]=uu,Ca[2]=pa,Ca[3]=$l,Ca[4]=ki,Ca[5]=io,Ca[6]=ga,Qr[0]=va,Qr[1]=Rh,Qr[2]=Lh,Qr[3]=ro,Qr[4]=$r,Qr[5]=ar,Qr[6]=so,R=1}else R=0}R&&(R=function(At,Ht){for(At.M=0;At.M<At.Va;++At.M){var Dt,bt=At.Jc[At.M&At.Xb],wt=At.m,It=At;for(Dt=0;Dt<It.za;++Dt){var qt=wt,Bt=It,re=Bt.Ac,te=Bt.Bc+4*Dt,ge=Bt.zc,ee=Bt.ya[Bt.aa+Dt];if(Bt.Qa.Bb?ee.$b=xt(qt,Bt.Pa.jb[0])?2+xt(qt,Bt.Pa.jb[2]):xt(qt,Bt.Pa.jb[1]):ee.$b=0,Bt.kc&&(ee.Ad=xt(qt,Bt.Bd)),ee.Za=!xt(qt,145)+0,ee.Za){var fn=ee.Ob,wn=0;for(Bt=0;4>Bt;++Bt){var $e,Ve=ge[0+Bt];for($e=0;4>$e;++$e){Ve=df[re[te+$e]][Ve];for(var Nn=Ao[xt(qt,Ve[0])];0<Nn;)Nn=Ao[2*Nn+xt(qt,Ve[Nn])];Ve=-Nn,re[te+$e]=Ve}n(fn,wn,re,te,4),wn+=4,ge[0+Bt]=Ve}}else Ve=xt(qt,156)?xt(qt,128)?1:3:xt(qt,163)?2:0,ee.Ob[0]=Ve,r(re,te,Ve,4),r(ge,0,Ve,4);ee.Dd=xt(qt,142)?xt(qt,114)?xt(qt,183)?1:3:2:0}if(It.m.Ka)return Jn(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(It=bt,qt=(wt=At).rb[wt.sb-1],re=wt.rb[wt.sb+wt.ja],Dt=wt.ya[wt.aa+wt.ja],te=wt.kc?Dt.Ad:0)qt.la=re.la=0,Dt.Za||(qt.Na=re.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var xn,Ie;if(qt=re,re=It,te=wt.Pa.Xc,ge=wt.ya[wt.aa+wt.ja],ee=wt.pb[ge.$b],Bt=ge.ad,fn=0,wn=wt.rb[wt.sb-1],Ve=$e=0,r(Bt,fn,0,384),ge.Za)var Rn=0,we=te[3];else{Nn=s(16);var Me=qt.Na+wn.Na;if(Me=Ai(re,te[1],Me,ee.Eb,0,Nn,0),qt.Na=wn.Na=(0<Me)+0,1<Me)Ws(Nn,0,Bt,fn);else{var dn=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)Bt[fn+Nn]=dn}Rn=1,we=te[0]}var pn=15&qt.la,zi=15&wn.la;for(Nn=0;4>Nn;++Nn){var _i=1&zi;for(dn=Ie=0;4>dn;++dn)pn=pn>>1|(_i=(Me=Ai(re,we,Me=_i+(1&pn),ee.Sc,Rn,Bt,fn))>Rn)<<7,Ie=Ie<<2|(3<Me?3:1<Me?2:Bt[fn+0]!=0),fn+=16;pn>>=4,zi=zi>>1|_i<<7,$e=($e<<8|Ie)>>>0}for(we=pn,Rn=zi>>4,xn=0;4>xn;xn+=2){for(Ie=0,pn=qt.la>>4+xn,zi=wn.la>>4+xn,Nn=0;2>Nn;++Nn){for(_i=1&zi,dn=0;2>dn;++dn)Me=_i+(1&pn),pn=pn>>1|(_i=0<(Me=Ai(re,te[2],Me,ee.Qc,0,Bt,fn)))<<3,Ie=Ie<<2|(3<Me?3:1<Me?2:Bt[fn+0]!=0),fn+=16;pn>>=2,zi=zi>>1|_i<<5}Ve|=Ie<<4*xn,we|=pn<<4<<xn,Rn|=(240&zi)<<xn}qt.la=we,wn.la=Rn,ge.Hc=$e,ge.Gc=Ve,ge.ia=43690&Ve?0:ee.ia,te=!($e|Ve)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[Dt.$b][Dt.Za],wt.wa[wt.Y+wt.ja].La|=!te),It.Ka)return Jn(At,7,"Premature end-of-file encountered.")}if(eo(At),wt=Ht,It=1,Dt=(bt=At).D,qt=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(Dt.M=bt.M,Dt.uc=qt,ya(bt,Dt),It=1,Dt=(Ie=bt.D).Nb,qt=(Ve=Ta[bt.L])*bt.R,re=Ve/2*bt.B,Nn=16*Dt*bt.R,dn=8*Dt*bt.B,te=bt.sa,ge=bt.ta-qt+Nn,ee=bt.qa,Bt=bt.ra-re+dn,fn=bt.Ha,wn=bt.Ia-re+dn,zi=(pn=Ie.M)==0,$e=pn>=bt.Va-1,bt.Aa==2&&ya(bt,Ie),Ie.uc)for(_i=(Me=bt).D.M,t(Me.D.uc),Ie=Me.yb;Ie<Me.Hb;++Ie){Rn=Ie,we=_i;var di=(fi=(Wn=Me).D).Nb;xn=Wn.R;var fi=fi.wa[fi.Y+Rn],vi=Wn.sa,ls=Wn.ta+16*di*xn+16*Rn,An=fi.dd,bi=fi.tc;if(bi!=0)if(t(3<=bi),Wn.L==1)0<Rn&&xa(vi,ls,xn,bi+4),fi.La&&ei(vi,ls,xn,bi),0<we&&bo(vi,ls,xn,bi+4),fi.La&&pl(vi,ls,xn,bi);else{var Rs=Wn.B,_o=Wn.qa,xl=Wn.ra+8*di*Rs+8*Rn,No=Wn.Ha,Wn=Wn.Ia+8*di*Rs+8*Rn;di=fi.ld,0<Rn&&(Ys(vi,ls,xn,bi+4,An,di),mo(_o,xl,No,Wn,Rs,bi+4,An,di)),fi.La&&(vo(vi,ls,xn,bi,An,di),lc(_o,xl,No,Wn,Rs,bi,An,di)),0<we&&(dl(vi,ls,xn,bi+4,An,di),oc(_o,xl,No,Wn,Rs,bi+4,An,di)),fi.La&&(go(vi,ls,xn,bi,An,di),fl(_o,xl,No,Wn,Rs,bi,An,di))}}if(bt.ia&&alert("todo:DitherRow"),wt.put!=null){if(Ie=16*pn,pn=16*(pn+1),zi?(wt.y=bt.sa,wt.O=bt.ta+Nn,wt.f=bt.qa,wt.N=bt.ra+dn,wt.ea=bt.Ha,wt.W=bt.Ia+dn):(Ie-=Ve,wt.y=te,wt.O=ge,wt.f=ee,wt.N=Bt,wt.ea=fn,wt.W=wn),$e||(pn-=Ve),pn>wt.o&&(pn=wt.o),wt.F=null,wt.J=null,bt.Fa!=null&&0<bt.Fa.length&&Ie<pn&&(wt.J=gu(bt,wt,Ie,pn-Ie),wt.F=bt.mb,wt.F==null&&wt.F.length==0)){It=Jn(bt,3,"Could not decode alpha data.");break t}Ie<wt.j&&(Ve=wt.j-Ie,Ie=wt.j,t(!(1&Ve)),wt.O+=bt.R*Ve,wt.N+=bt.B*(Ve>>1),wt.W+=bt.B*(Ve>>1),wt.F!=null&&(wt.J+=wt.width*Ve)),Ie<pn&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=Ie-wt.j,wt.U=wt.va-wt.v,wt.T=pn-Ie,It=wt.put(wt))}Dt+1!=bt.Ic||$e||(n(bt.sa,bt.ta-qt,te,ge+16*bt.R,qt),n(bt.qa,bt.ra-re,ee,Bt+8*bt.B,re),n(bt.Ha,bt.Ia-re,fn,wn+8*bt.B,re))}if(!It)return Jn(At,6,"Output aborted.")}return 1}(b,A)),A.bc!=null&&A.bc(A),R&=1}return R?(b.cb=0,R):0}function Cr(b,A,R,P,H){H=b[A+R+32*P]+(H>>3),b[A+R+32*P]=-256&H?0>H?0:255:H}function Gl(b,A,R,P,H,W){Cr(b,A,0,R,P+H),Cr(b,A,1,R,P+W),Cr(b,A,2,R,P-W),Cr(b,A,3,R,P-H)}function Bn(b){return(20091*b>>16)+b}function sl(b,A,R,P){var H,W=0,Y=s(16);for(H=0;4>H;++H){var X=b[A+0]+b[A+8],et=b[A+0]-b[A+8],rt=(35468*b[A+4]>>16)-Bn(b[A+12]),vt=Bn(b[A+4])+(35468*b[A+12]>>16);Y[W+0]=X+vt,Y[W+1]=et+rt,Y[W+2]=et-rt,Y[W+3]=X-vt,W+=4,A++}for(H=W=0;4>H;++H)X=(b=Y[W+0]+4)+Y[W+8],et=b-Y[W+8],rt=(35468*Y[W+4]>>16)-Bn(Y[W+12]),Cr(R,P,0,0,X+(vt=Bn(Y[W+4])+(35468*Y[W+12]>>16))),Cr(R,P,1,0,et+rt),Cr(R,P,2,0,et-rt),Cr(R,P,3,0,X-vt),W++,P+=32}function au(b,A,R,P){var H=b[A+0]+4,W=35468*b[A+4]>>16,Y=Bn(b[A+4]),X=35468*b[A+1]>>16;Gl(R,P,0,H+Y,b=Bn(b[A+1]),X),Gl(R,P,1,H+W,b,X),Gl(R,P,2,H-W,b,X),Gl(R,P,3,H-Y,b,X)}function ou(b,A,R,P,H){sl(b,A,R,P),H&&sl(b,A+16,R,P+4)}function fa(b,A,R,P){Ns(b,A+0,R,P,1),Ns(b,A+32,R,P+128,1)}function Nh(b,A,R,P){var H;for(b=b[A+0]+4,H=0;4>H;++H)for(A=0;4>A;++A)Cr(R,P,A,H,b)}function lu(b,A,R,P){b[A+0]&&gi(b,A+0,R,P),b[A+16]&&gi(b,A+16,R,P+4),b[A+32]&&gi(b,A+32,R,P+128),b[A+48]&&gi(b,A+48,R,P+128+4)}function no(b,A,R,P){var H,W=s(16);for(H=0;4>H;++H){var Y=b[A+0+H]+b[A+12+H],X=b[A+4+H]+b[A+8+H],et=b[A+4+H]-b[A+8+H],rt=b[A+0+H]-b[A+12+H];W[0+H]=Y+X,W[8+H]=Y-X,W[4+H]=rt+et,W[12+H]=rt-et}for(H=0;4>H;++H)Y=(b=W[0+4*H]+3)+W[3+4*H],X=W[1+4*H]+W[2+4*H],et=W[1+4*H]-W[2+4*H],rt=b-W[3+4*H],R[P+0]=Y+X>>3,R[P+16]=rt+et>>3,R[P+32]=Y-X>>3,R[P+48]=rt-et>>3,P+=64}function cu(b,A,R){var P,H=A-32,W=Fi,Y=255-b[H-1];for(P=0;P<R;++P){var X,et=W,rt=Y+b[A-1];for(X=0;X<R;++X)b[A+X]=et[rt+b[H+X]];A+=32}}function Ch(b,A){cu(b,A,4)}function Rh(b,A){cu(b,A,8)}function uu(b,A){cu(b,A,16)}function pa(b,A){var R;for(R=0;16>R;++R)n(b,A+32*R,b,A-32,16)}function $l(b,A){var R;for(R=16;0<R;--R)r(b,A,b[A-1],16),A+=32}function ma(b,A,R){var P;for(P=0;16>P;++P)r(A,R+32*P,b,16)}function Wl(b,A){var R,P=16;for(R=0;16>R;++R)P+=b[A-1+32*R]+b[A+R-32];ma(P>>5,b,A)}function ki(b,A){var R,P=8;for(R=0;16>R;++R)P+=b[A-1+32*R];ma(P>>4,b,A)}function io(b,A){var R,P=8;for(R=0;16>R;++R)P+=b[A+R-32];ma(P>>4,b,A)}function ga(b,A){ma(128,b,A)}function De(b,A,R){return b+2*A+R+2>>2}function hu(b,A){var R,P=A-32;for(P=new Uint8Array([De(b[P-1],b[P+0],b[P+1]),De(b[P+0],b[P+1],b[P+2]),De(b[P+1],b[P+2],b[P+3]),De(b[P+2],b[P+3],b[P+4])]),R=0;4>R;++R)n(b,A+32*R,P,0,P.length)}function Th(b,A){var R=b[A-1],P=b[A-1+32],H=b[A-1+64],W=b[A-1+96];Tt(b,A+0,16843009*De(b[A-1-32],R,P)),Tt(b,A+32,16843009*De(R,P,H)),Tt(b,A+64,16843009*De(P,H,W)),Tt(b,A+96,16843009*De(H,W,W))}function Rr(b,A){var R,P=4;for(R=0;4>R;++R)P+=b[A+R-32]+b[A-1+32*R];for(P>>=3,R=0;4>R;++R)r(b,A+32*R,P,4)}function ns(b,A){var R=b[A-1+0],P=b[A-1+32],H=b[A-1+64],W=b[A-1-32],Y=b[A+0-32],X=b[A+1-32],et=b[A+2-32],rt=b[A+3-32];b[A+0+96]=De(P,H,b[A-1+96]),b[A+1+96]=b[A+0+64]=De(R,P,H),b[A+2+96]=b[A+1+64]=b[A+0+32]=De(W,R,P),b[A+3+96]=b[A+2+64]=b[A+1+32]=b[A+0+0]=De(Y,W,R),b[A+3+64]=b[A+2+32]=b[A+1+0]=De(X,Y,W),b[A+3+32]=b[A+2+0]=De(et,X,Y),b[A+3+0]=De(rt,et,X)}function Yl(b,A){var R=b[A+1-32],P=b[A+2-32],H=b[A+3-32],W=b[A+4-32],Y=b[A+5-32],X=b[A+6-32],et=b[A+7-32];b[A+0+0]=De(b[A+0-32],R,P),b[A+1+0]=b[A+0+32]=De(R,P,H),b[A+2+0]=b[A+1+32]=b[A+0+64]=De(P,H,W),b[A+3+0]=b[A+2+32]=b[A+1+64]=b[A+0+96]=De(H,W,Y),b[A+3+32]=b[A+2+64]=b[A+1+96]=De(W,Y,X),b[A+3+64]=b[A+2+96]=De(Y,X,et),b[A+3+96]=De(X,et,et)}function qs(b,A){var R=b[A-1+0],P=b[A-1+32],H=b[A-1+64],W=b[A-1-32],Y=b[A+0-32],X=b[A+1-32],et=b[A+2-32],rt=b[A+3-32];b[A+0+0]=b[A+1+64]=W+Y+1>>1,b[A+1+0]=b[A+2+64]=Y+X+1>>1,b[A+2+0]=b[A+3+64]=X+et+1>>1,b[A+3+0]=et+rt+1>>1,b[A+0+96]=De(H,P,R),b[A+0+64]=De(P,R,W),b[A+0+32]=b[A+1+96]=De(R,W,Y),b[A+1+32]=b[A+2+96]=De(W,Y,X),b[A+2+32]=b[A+3+96]=De(Y,X,et),b[A+3+32]=De(X,et,rt)}function is(b,A){var R=b[A+0-32],P=b[A+1-32],H=b[A+2-32],W=b[A+3-32],Y=b[A+4-32],X=b[A+5-32],et=b[A+6-32],rt=b[A+7-32];b[A+0+0]=R+P+1>>1,b[A+1+0]=b[A+0+64]=P+H+1>>1,b[A+2+0]=b[A+1+64]=H+W+1>>1,b[A+3+0]=b[A+2+64]=W+Y+1>>1,b[A+0+32]=De(R,P,H),b[A+1+32]=b[A+0+96]=De(P,H,W),b[A+2+32]=b[A+1+96]=De(H,W,Y),b[A+3+32]=b[A+2+96]=De(W,Y,X),b[A+3+64]=De(Y,X,et),b[A+3+96]=De(X,et,rt)}function du(b,A){var R=b[A-1+0],P=b[A-1+32],H=b[A-1+64],W=b[A-1+96];b[A+0+0]=R+P+1>>1,b[A+2+0]=b[A+0+32]=P+H+1>>1,b[A+2+32]=b[A+0+64]=H+W+1>>1,b[A+1+0]=De(R,P,H),b[A+3+0]=b[A+1+32]=De(P,H,W),b[A+3+32]=b[A+1+64]=De(H,W,W),b[A+3+64]=b[A+2+64]=b[A+0+96]=b[A+1+96]=b[A+2+96]=b[A+3+96]=W}function Xl(b,A){var R=b[A-1+0],P=b[A-1+32],H=b[A-1+64],W=b[A-1+96],Y=b[A-1-32],X=b[A+0-32],et=b[A+1-32],rt=b[A+2-32];b[A+0+0]=b[A+2+32]=R+Y+1>>1,b[A+0+32]=b[A+2+64]=P+R+1>>1,b[A+0+64]=b[A+2+96]=H+P+1>>1,b[A+0+96]=W+H+1>>1,b[A+3+0]=De(X,et,rt),b[A+2+0]=De(Y,X,et),b[A+1+0]=b[A+3+32]=De(R,Y,X),b[A+1+32]=b[A+3+64]=De(P,R,Y),b[A+1+64]=b[A+3+96]=De(H,P,R),b[A+1+96]=De(W,H,P)}function Lh(b,A){var R;for(R=0;8>R;++R)n(b,A+32*R,b,A-32,8)}function ro(b,A){var R;for(R=0;8>R;++R)r(b,A,b[A-1],8),A+=32}function Vs(b,A,R){var P;for(P=0;8>P;++P)r(A,R+32*P,b,8)}function va(b,A){var R,P=8;for(R=0;8>R;++R)P+=b[A+R-32]+b[A-1+32*R];Vs(P>>4,b,A)}function ar(b,A){var R,P=4;for(R=0;8>R;++R)P+=b[A+R-32];Vs(P>>3,b,A)}function $r(b,A){var R,P=4;for(R=0;8>R;++R)P+=b[A-1+32*R];Vs(P>>3,b,A)}function so(b,A){Vs(128,b,A)}function Gs(b,A,R){var P=b[A-R],H=b[A+0],W=3*(H-P)+Oh[1020+b[A-2*R]-b[A+R]],Y=ml[112+(W+4>>3)];b[A-R]=Fi[255+P+ml[112+(W+3>>3)]],b[A+0]=Fi[255+H-Y]}function Mh(b,A,R,P){var H=b[A+0],W=b[A+R];return as[255+b[A-2*R]-b[A-R]]>P||as[255+W-H]>P}function Kl(b,A,R,P){return 4*as[255+b[A-R]-b[A+0]]+as[255+b[A-2*R]-b[A+R]]<=P}function Ql(b,A,R,P,H){var W=b[A-3*R],Y=b[A-2*R],X=b[A-R],et=b[A+0],rt=b[A+R],vt=b[A+2*R],Ct=b[A+3*R];return 4*as[255+X-et]+as[255+Y-rt]>P?0:as[255+b[A-4*R]-W]<=H&&as[255+W-Y]<=H&&as[255+Y-X]<=H&&as[255+Ct-vt]<=H&&as[255+vt-rt]<=H&&as[255+rt-et]<=H}function ao(b,A,R,P){var H=2*P+1;for(P=0;16>P;++P)Kl(b,A+P,R,H)&&Gs(b,A+P,R)}function Wr(b,A,R,P){var H=2*P+1;for(P=0;16>P;++P)Kl(b,A+P*R,1,H)&&Gs(b,A+P*R,1)}function $s(b,A,R,P){var H;for(H=3;0<H;--H)ao(b,A+=4*R,R,P)}function of(b,A,R,P){var H;for(H=3;0<H;--H)Wr(b,A+=4,R,P)}function oo(b,A,R,P,H,W,Y,X){for(W=2*W+1;0<H--;){if(Ql(b,A,R,W,Y))if(Mh(b,A,R,X))Gs(b,A,R);else{var et=b,rt=A,vt=R,Ct=et[rt-2*vt],_t=et[rt-vt],At=et[rt+0],Ht=et[rt+vt],Dt=et[rt+2*vt],bt=27*(It=Oh[1020+3*(At-_t)+Oh[1020+Ct-Ht]])+63>>7,wt=18*It+63>>7,It=9*It+63>>7;et[rt-3*vt]=Fi[255+et[rt-3*vt]+It],et[rt-2*vt]=Fi[255+Ct+wt],et[rt-vt]=Fi[255+_t+bt],et[rt+0]=Fi[255+At-bt],et[rt+vt]=Fi[255+Ht-wt],et[rt+2*vt]=Fi[255+Dt-It]}A+=P}}function As(b,A,R,P,H,W,Y,X){for(W=2*W+1;0<H--;){if(Ql(b,A,R,W,Y))if(Mh(b,A,R,X))Gs(b,A,R);else{var et=b,rt=A,vt=R,Ct=et[rt-vt],_t=et[rt+0],At=et[rt+vt],Ht=ml[112+((Dt=3*(_t-Ct))+4>>3)],Dt=ml[112+(Dt+3>>3)],bt=Ht+1>>1;et[rt-2*vt]=Fi[255+et[rt-2*vt]+bt],et[rt-vt]=Fi[255+Ct+Dt],et[rt+0]=Fi[255+_t-Ht],et[rt+vt]=Fi[255+At-bt]}A+=P}}function al(b,A,R,P,H,W){oo(b,A,R,1,16,P,H,W)}function ol(b,A,R,P,H,W){oo(b,A,1,R,16,P,H,W)}function lf(b,A,R,P,H,W){var Y;for(Y=3;0<Y;--Y)As(b,A+=4*R,R,1,16,P,H,W)}function Zl(b,A,R,P,H,W){var Y;for(Y=3;0<Y;--Y)As(b,A+=4,1,R,16,P,H,W)}function cf(b,A,R,P,H,W,Y,X){oo(b,A,H,1,8,W,Y,X),oo(R,P,H,1,8,W,Y,X)}function fu(b,A,R,P,H,W,Y,X){oo(b,A,1,H,8,W,Y,X),oo(R,P,1,H,8,W,Y,X)}function Jl(b,A,R,P,H,W,Y,X){As(b,A+4*H,H,1,8,W,Y,X),As(R,P+4*H,H,1,8,W,Y,X)}function Ph(b,A,R,P,H,W,Y,X){As(b,A+4,1,H,8,W,Y,X),As(R,P+4,1,H,8,W,Y,X)}function tc(){this.ba=new gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ec(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new G}function uf(){this.xb=this.a=0,this.l=new to,this.ca=new gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ec,this.ab=0,this.gc=o(4,mu),this.Oc=0}function nc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new to,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ll(b,A,R,P,H,W,Y){for(b=b==null?0:b[A+0],A=0;A<Y;++A)H[W+A]=b+R[P+A]&255,b=H[W+A]}function ic(b,A,R,P,H,W,Y){var X;if(b==null)ll(null,null,R,P,H,W,Y);else for(X=0;X<Y;++X)H[W+X]=b[A+X]+R[P+X]&255}function lo(b,A,R,P,H,W,Y){if(b==null)ll(null,null,R,P,H,W,Y);else{var X,et=b[A+0],rt=et,vt=et;for(X=0;X<Y;++X)rt=vt+(et=b[A+X])-rt,vt=R[P+X]+(-256&rt?0>rt?0:255:rt)&255,rt=et,H[W+X]=vt}}function gu(b,A,R,P){var H=A.width,W=A.o;if(t(b!=null&&A!=null),0>R||0>=P||R+P>W)return null;if(!b.Cc){if(b.ga==null){var Y;if(b.ga=new nc,(Y=b.ga==null)||(Y=A.width*A.o,t(b.Gb.length==0),b.Gb=s(Y),b.Uc=0,b.Gb==null?Y=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,Y=1),Y=!Y),!Y){Y=b.ga;var X=b.Fa,et=b.P,rt=b.qc,vt=b.mb,Ct=b.nb,_t=et+1,At=rt-1,Ht=Y.l;if(t(X!=null&&vt!=null&&A!=null),Qs[0]=null,Qs[1]=ll,Qs[2]=ic,Qs[3]=lo,Y.ca=vt,Y.tb=Ct,Y.c=A.width,Y.i=A.height,t(0<Y.c&&0<Y.i),1>=rt)A=0;else if(Y.$a=X[et+0]>>0&3,Y.Z=X[et+0]>>2&3,Y.Lc=X[et+0]>>4&3,et=X[et+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||et)A=0;else if(Ht.put=ir,Ht.ac=hn,Ht.bc=En,Ht.ma=Y,Ht.width=A.width,Ht.height=A.height,Ht.Da=A.Da,Ht.v=A.v,Ht.va=A.va,Ht.j=A.j,Ht.o=A.o,Y.$a)t:{t(Y.$a==1),A=Wi();e:for(;;){if(A==null){A=0;break t}if(t(Y!=null),Y.mc=A,A.c=Y.c,A.i=Y.i,A.l=Y.l,A.l.ma=Y,A.l.width=Y.c,A.l.height=Y.i,A.a=0,J(A.m,X,_t,At),!Cn(Y.c,Y.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Vr(A.s)?(Y.ic=1,X=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(X),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Y.ic=0,A=Ja(A,Y.c)),!A))break e;A=1;break t}Y.mc=null,A=0}else A=At>=Y.c*Y.i;Y=!A}if(Y)return null;b.ga.Lc!=1?b.Ga=0:P=W-R}t(b.ga!=null),t(R+P<=W);t:{if(A=(X=b.ga).c,W=X.l.o,X.$a==0){if(_t=b.rc,At=b.Vc,Ht=b.Fa,et=b.P+1+R*A,rt=b.mb,vt=b.nb+R*A,t(et<=b.P+b.qc),X.Z!=0)for(t(Qs[X.Z]!=null),Y=0;Y<P;++Y)Qs[X.Z](_t,At,Ht,et,rt,vt,A),_t=rt,At=vt,vt+=A,et+=A;else for(Y=0;Y<P;++Y)n(rt,vt,Ht,et,A),_t=rt,At=vt,vt+=A,et+=A;b.rc=_t,b.Vc=At}else{if(t(X.mc!=null),A=R+P,t((Y=X.mc)!=null),t(A<=Y.i),Y.C>=A)A=1;else if(X.ic||Et(),X.ic){X=Y.V,_t=Y.Ba,At=Y.c;var Dt=Y.i,bt=(Ht=1,et=Y.$/At,rt=Y.$%At,vt=Y.m,Ct=Y.s,Y.$),wt=At*Dt,It=At*A,qt=Ct.wc,Bt=bt<It?_n(Ct,rt,et):null;t(bt<=wt),t(A<=Dt),t(Vr(Ct));e:for(;;){for(;!vt.h&&bt<It;){if(rt&qt||(Bt=_n(Ct,rt,et)),t(Bt!=null),ot(vt),256>(Dt=vn(Bt.G[0],Bt.H[0],vt)))X[_t+bt]=Dt,++bt,++rt>=At&&(rt=0,++et<=A&&!(et%16)&&rr(Y,et));else{if(!(280>Dt)){Ht=0;break e}Dt=gn(Dt-256,vt);var re,te=vn(Bt.G[4],Bt.H[4],vt);if(ot(vt),!(bt>=(te=tn(At,te=gn(te,vt)))&&wt-bt>=Dt)){Ht=0;break e}for(re=0;re<Dt;++re)X[_t+bt+re]=X[_t+bt+re-te];for(bt+=Dt,rt+=Dt;rt>=At;)rt-=At,++et<=A&&!(et%16)&&rr(Y,et);bt<It&&rt&qt&&(Bt=_n(Ct,rt,et))}t(vt.h==tt(vt))}rr(Y,et>A?A:et);break e}!Ht||vt.h&&bt<wt?(Ht=0,Y.a=vt.h?5:3):Y.$=bt,A=Ht}else A=sr(Y,Y.V,Y.Ba,Y.c,Y.i,A,nl);if(!A){P=0;break t}}R+P>=W&&(b.Cc=1),P=1}if(!P)return null;if(b.Cc&&((P=b.ga)!=null&&(P.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*H}function C(b,A,R,P,H,W){for(;0<H--;){var Y,X=b,et=A+(R?1:0),rt=b,vt=A+(R?0:3);for(Y=0;Y<P;++Y){var Ct=rt[vt+4*Y];Ct!=255&&(Ct*=32897,X[et+4*Y+0]=X[et+4*Y+0]*Ct>>23,X[et+4*Y+1]=X[et+4*Y+1]*Ct>>23,X[et+4*Y+2]=X[et+4*Y+2]*Ct>>23)}A+=W}}function q(b,A,R,P,H){for(;0<P--;){var W;for(W=0;W<R;++W){var Y=b[A+2*W+0],X=15&(rt=b[A+2*W+1]),et=4369*X,rt=(240&rt|rt>>4)*et>>16;b[A+2*W+0]=(240&Y|Y>>4)*et>>16&240|(15&Y|Y<<4)*et>>16>>4&15,b[A+2*W+1]=240&rt|X}A+=H}}function ut(b,A,R,P,H,W,Y,X){var et,rt,vt=255;for(rt=0;rt<H;++rt){for(et=0;et<P;++et){var Ct=b[A+et];W[Y+4*et]=Ct,vt&=Ct}A+=R,Y+=X}return vt!=255}function gt(b,A,R,P,H){var W;for(W=0;W<H;++W)R[P+W]=b[A+W]>>8}function Et(){Xr=C,Ye=q,Xe=ut,Dn=gt}function jt(b,A,R){j[b]=function(P,H,W,Y,X,et,rt,vt,Ct,_t,At,Ht,Dt,bt,wt,It,qt){var Bt,re=qt-1>>1,te=X[et+0]|rt[vt+0]<<16,ge=Ct[_t+0]|At[Ht+0]<<16;t(P!=null);var ee=3*te+ge+131074>>2;for(A(P[H+0],255&ee,ee>>16,Dt,bt),W!=null&&(ee=3*ge+te+131074>>2,A(W[Y+0],255&ee,ee>>16,wt,It)),Bt=1;Bt<=re;++Bt){var fn=X[et+Bt]|rt[vt+Bt]<<16,wn=Ct[_t+Bt]|At[Ht+Bt]<<16,$e=te+fn+ge+wn+524296,Ve=$e+2*(fn+ge)>>3;ee=Ve+te>>1,te=($e=$e+2*(te+wn)>>3)+fn>>1,A(P[H+2*Bt-1],255&ee,ee>>16,Dt,bt+(2*Bt-1)*R),A(P[H+2*Bt-0],255&te,te>>16,Dt,bt+(2*Bt-0)*R),W!=null&&(ee=$e+ge>>1,te=Ve+wn>>1,A(W[Y+2*Bt-1],255&ee,ee>>16,wt,It+(2*Bt-1)*R),A(W[Y+2*Bt+0],255&te,te>>16,wt,It+(2*Bt+0)*R)),te=fn,ge=wn}1&qt||(ee=3*te+ge+131074>>2,A(P[H+qt-1],255&ee,ee>>16,Dt,bt+(qt-1)*R),W!=null&&(ee=3*ge+te+131074>>2,A(W[Y+qt-1],255&ee,ee>>16,wt,It+(qt-1)*R)))}}function Wt(){Bi[or]=Ra,Bi[cc]=Zs,Bi[Xs]=So,Bi[wu]=Ih,Bi[gl]=Fh,Bi[Sa]=dc,Bi[kh]=Bh,Bi[xu]=Zs,Bi[xo]=Ih,Bi[Ea]=Fh,Bi[uc]=dc}function ie(b){return b&-16384?0>b?0:255:b>>K0}function me(b,A){return ie((19077*b>>8)+(26149*A>>8)-14234)}function Be(b,A,R){return ie((19077*b>>8)-(6419*A>>8)-(13320*R>>8)+8708)}function je(b,A){return ie((19077*b>>8)+(33050*A>>8)-17685)}function en(b,A,R,P,H){P[H+0]=me(b,R),P[H+1]=Be(b,A,R),P[H+2]=je(b,A)}function $n(b,A,R,P,H){P[H+0]=je(b,A),P[H+1]=Be(b,A,R),P[H+2]=me(b,R)}function Kn(b,A,R,P,H){var W=Be(b,A,R);A=W<<3&224|je(b,A)>>3,P[H+0]=248&me(b,R)|W>>5,P[H+1]=A}function ci(b,A,R,P,H){var W=240&je(b,A)|15;P[H+0]=240&me(b,R)|Be(b,A,R)>>4,P[H+1]=W}function ui(b,A,R,P,H){P[H+0]=255,en(b,A,R,P,H+1)}function ji(b,A,R,P,H){$n(b,A,R,P,H),P[H+3]=255}function Ss(b,A,R,P,H){en(b,A,R,P,H),P[H+3]=255}function Yr(b,A){return 0>b?0:b>A?A:b}function Es(b,A,R){j[b]=function(P,H,W,Y,X,et,rt,vt,Ct){for(var _t=vt+(-2&Ct)*R;vt!=_t;)A(P[H+0],W[Y+0],X[et+0],rt,vt),A(P[H+1],W[Y+0],X[et+0],rt,vt+R),H+=2,++Y,++et,vt+=2*R;1&Ct&&A(P[H+0],W[Y+0],X[et+0],rt,vt)}}function vu(b,A,R){return R==0?b==0?A==0?6:5:A==0?4:0:R}function ba(b,A,R,P,H){switch(b>>>30){case 3:Ns(A,R,P,H,0);break;case 2:ti(A,R,P,H);break;case 1:gi(A,R,P,H)}}function ya(b,A){var R,P,H=A.M,W=A.Nb,Y=b.oc,X=b.pc+40,et=b.oc,rt=b.pc+584,vt=b.oc,Ct=b.pc+600;for(R=0;16>R;++R)Y[X+32*R-1]=129;for(R=0;8>R;++R)et[rt+32*R-1]=129,vt[Ct+32*R-1]=129;for(0<H?Y[X-1-32]=et[rt-1-32]=vt[Ct-1-32]=129:(r(Y,X-32-1,127,21),r(et,rt-32-1,127,9),r(vt,Ct-32-1,127,9)),P=0;P<b.za;++P){var _t=A.ya[A.aa+P];if(0<P){for(R=-1;16>R;++R)n(Y,X+32*R-4,Y,X+32*R+12,4);for(R=-1;8>R;++R)n(et,rt+32*R-4,et,rt+32*R+4,4),n(vt,Ct+32*R-4,vt,Ct+32*R+4,4)}var At=b.Gd,Ht=b.Hd+P,Dt=_t.ad,bt=_t.Hc;if(0<H&&(n(Y,X-32,At[Ht].y,0,16),n(et,rt-32,At[Ht].f,0,8),n(vt,Ct-32,At[Ht].ea,0,8)),_t.Za){var wt=Y,It=X-32+16;for(0<H&&(P>=b.za-1?r(wt,It,At[Ht].y[15],4):n(wt,It,At[Ht+1].y,0,4)),R=0;4>R;R++)wt[It+128+R]=wt[It+256+R]=wt[It+384+R]=wt[It+0+R];for(R=0;16>R;++R,bt<<=2)wt=Y,It=X+wl[R],yr[_t.Ob[R]](wt,It),ba(bt,Dt,16*+R,wt,It)}else if(wt=vu(P,H,_t.Ob[0]),Ca[wt](Y,X),bt!=0)for(R=0;16>R;++R,bt<<=2)ba(bt,Dt,16*+R,Y,X+wl[R]);for(R=_t.Gc,wt=vu(P,H,_t.Dd),Qr[wt](et,rt),Qr[wt](vt,Ct),bt=Dt,wt=et,It=rt,255&(_t=R>>0)&&(170&_t?Cs(bt,256,wt,It):Mr(bt,256,wt,It)),_t=vt,bt=Ct,255&(R>>=8)&&(170&R?Cs(Dt,320,_t,bt):Mr(Dt,320,_t,bt)),H<b.Ub-1&&(n(At[Ht].y,0,Y,X+480,16),n(At[Ht].f,0,et,rt+224,8),n(At[Ht].ea,0,vt,Ct+224,8)),R=8*W*b.B,At=b.sa,Ht=b.ta+16*P+16*W*b.R,Dt=b.qa,_t=b.ra+8*P+R,bt=b.Ha,wt=b.Ia+8*P+R,R=0;16>R;++R)n(At,Ht+R*b.R,Y,X+32*R,16);for(R=0;8>R;++R)n(Dt,_t+R*b.B,et,rt+32*R,8),n(bt,wt+R*b.B,vt,Ct+32*R,8)}}function rc(b,A,R,P,H,W,Y,X,et){var rt=[0],vt=[0],Ct=0,_t=et!=null?et.kd:0,At=et??new pu;if(b==null||12>R)return 7;At.data=b,At.w=A,At.ha=R,A=[A],R=[R],At.gb=[At.gb];t:{var Ht=A,Dt=R,bt=At.gb;if(t(b!=null),t(Dt!=null),t(bt!=null),bt[0]=0,12<=Dt[0]&&!e(b,Ht[0],"RIFF")){if(e(b,Ht[0]+8,"WEBP")){bt=3;break t}var wt=$t(b,Ht[0]+4);if(12>wt||4294967286<wt){bt=3;break t}if(_t&&wt>Dt[0]-8){bt=7;break t}bt[0]=wt,Ht[0]+=12,Dt[0]-=12}bt=0}if(bt!=0)return bt;for(wt=0<At.gb[0],R=R[0];;){t:{var It=b;Dt=A,bt=R;var qt=rt,Bt=vt,re=Ht=[0];if((ee=Ct=[Ct])[0]=0,8>bt[0])bt=7;else{if(!e(It,Dt[0],"VP8X")){if($t(It,Dt[0]+4)!=10){bt=3;break t}if(18>bt[0]){bt=7;break t}var te=$t(It,Dt[0]+8),ge=1+zt(It,Dt[0]+12);if(2147483648<=ge*(It=1+zt(It,Dt[0]+15))){bt=3;break t}re!=null&&(re[0]=te),qt!=null&&(qt[0]=ge),Bt!=null&&(Bt[0]=It),Dt[0]+=18,bt[0]-=18,ee[0]=1}bt=0}}if(Ct=Ct[0],Ht=Ht[0],bt!=0)return bt;if(Dt=!!(2&Ht),!wt&&Ct)return 3;if(W!=null&&(W[0]=!!(16&Ht)),Y!=null&&(Y[0]=Dt),X!=null&&(X[0]=0),Y=rt[0],Ht=vt[0],Ct&&Dt&&et==null){bt=0;break}if(4>R){bt=7;break}if(wt&&Ct||!wt&&!Ct&&!e(b,A[0],"ALPH")){R=[R],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{te=b,bt=A,wt=R;var ee=At.gb;qt=At.na,Bt=At.P,re=At.Sa,ge=22,t(te!=null),t(wt!=null),It=bt[0];var fn=wt[0];for(t(qt!=null),t(re!=null),qt[0]=null,Bt[0]=null,re[0]=0;;){if(bt[0]=It,wt[0]=fn,8>fn){bt=7;break t}var wn=$t(te,It+4);if(4294967286<wn){bt=3;break t}var $e=8+wn+1&-2;if(ge+=$e,0<ee&&ge>ee){bt=3;break t}if(!e(te,It,"VP8 ")||!e(te,It,"VP8L")){bt=0;break t}if(fn[0]<$e){bt=7;break t}e(te,It,"ALPH")||(qt[0]=te,Bt[0]=It+8,re[0]=wn),It+=$e,fn-=$e}}if(R=R[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],bt!=0)break}R=[R],At.Ja=[At.Ja],At.xa=[At.xa];t:if(ee=b,bt=A,wt=R,qt=At.gb[0],Bt=At.Ja,re=At.xa,te=bt[0],It=!e(ee,te,"VP8 "),ge=!e(ee,te,"VP8L"),t(ee!=null),t(wt!=null),t(Bt!=null),t(re!=null),8>wt[0])bt=7;else{if(It||ge){if(ee=$t(ee,te+4),12<=qt&&ee>qt-12){bt=3;break t}if(_t&&ee>wt[0]-8){bt=7;break t}Bt[0]=ee,bt[0]+=8,wt[0]-=8,re[0]=ge}else re[0]=5<=wt[0]&&ee[te+0]==47&&!(ee[te+4]>>5),Bt[0]=wt[0];bt=0}if(R=R[0],At.Ja=At.Ja[0],At.xa=At.xa[0],A=A[0],bt!=0)break;if(4294967286<At.Ja)return 3;if(X==null||Dt||(X[0]=At.xa?2:1),Y=[Y],Ht=[Ht],At.xa){if(5>R){bt=7;break}X=Y,_t=Ht,Dt=W,b==null||5>R?b=0:5<=R&&b[A+0]==47&&!(b[A+4]>>5)?(wt=[0],ee=[0],qt=[0],J(Bt=new F,b,A,R),oe(Bt,wt,ee,qt)?(X!=null&&(X[0]=wt[0]),_t!=null&&(_t[0]=ee[0]),Dt!=null&&(Dt[0]=qt[0]),b=1):b=0):b=0}else{if(10>R){bt=7;break}X=Ht,b==null||10>R||!vr(b,A+3,R-3)?b=0:(_t=b[A+0]|b[A+1]<<8|b[A+2]<<16,Dt=16383&(b[A+7]<<8|b[A+6]),b=16383&(b[A+9]<<8|b[A+8]),1&_t||3<(_t>>1&7)||!(_t>>4&1)||_t>>5>=At.Ja||!Dt||!b?b=0:(Y&&(Y[0]=Dt),X&&(X[0]=b),b=1))}if(!b||(Y=Y[0],Ht=Ht[0],Ct&&(rt[0]!=Y||vt[0]!=Ht)))return 3;et!=null&&(et[0]=At,et.offset=A-et.w,t(4294967286>A-et.w),t(et.offset==et.ha-R));break}return bt==0||bt==7&&Ct&&et==null?(W!=null&&(W[0]|=At.na!=null&&0<At.na.length),P!=null&&(P[0]=Y),H!=null&&(H[0]=Ht),0):bt}function co(b,A,R){var P=A.width,H=A.height,W=0,Y=0,X=P,et=H;if(A.Da=b!=null&&0<b.Da,A.Da&&(X=b.cd,et=b.bd,W=b.v,Y=b.j,11>R||(W&=-2,Y&=-2),0>W||0>Y||0>=X||0>=et||W+X>P||Y+et>H))return 0;if(A.v=W,A.j=Y,A.va=W+X,A.o=Y+et,A.U=X,A.T=et,A.da=b!=null&&0<b.da,A.da){if(!se(X,et,R=[b.ib],W=[b.hb]))return 0;A.ib=R[0],A.hb=W[0]}return A.ob=b!=null&&b.ob,A.Kb=b==null||!b.Sd,A.da&&(A.ob=A.ib<3*P/4&&A.hb<3*H/4,A.Kb=0),1}function sc(b){if(b==null)return 2;if(11>b.S){var A=b.f.RGBA;A.fb+=(b.height-1)*A.A,A.A=-A.A}else A=b.f.kb,b=b.height,A.O+=(b-1)*A.fa,A.fa=-A.fa,A.N+=(b-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(b-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(b-1)*A.lb,A.lb=-A.lb);return 0}function cl(b,A,R,P){if(P==null||0>=b||0>=A)return 2;if(R!=null){if(R.Da){var H=R.cd,W=R.bd,Y=-2&R.v,X=-2&R.j;if(0>Y||0>X||0>=H||0>=W||Y+H>b||X+W>A)return 2;b=H,A=W}if(R.da){if(!se(b,A,H=[R.ib],W=[R.hb]))return 2;b=H[0],A=W[0]}}P.width=b,P.height=A;t:{var et=P.width,rt=P.height;if(b=P.S,0>=et||0>=rt||!(b>=or&&13>b))b=2;else{if(0>=P.Rd&&P.sd==null){Y=W=H=A=0;var vt=(X=et*lm[b])*rt;if(11>b||(W=(rt+1)/2*(A=(et+1)/2),b==12&&(Y=(H=et)*rt)),(rt=s(vt+2*W+Y))==null){b=1;break t}P.sd=rt,11>b?((et=P.f.RGBA).eb=rt,et.fb=0,et.A=X,et.size=vt):((et=P.f.kb).y=rt,et.O=0,et.fa=X,et.Fd=vt,et.f=rt,et.N=0+vt,et.Ab=A,et.Cd=W,et.ea=rt,et.W=0+vt+W,et.Db=A,et.Ed=W,b==12&&(et.F=rt,et.J=0+vt+2*W),et.Tc=Y,et.lb=H)}if(A=1,H=P.S,W=P.width,Y=P.height,H>=or&&13>H)if(11>H)b=P.f.RGBA,A&=(X=Math.abs(b.A))*(Y-1)+W<=b.size,A&=X>=W*lm[H],A&=b.eb!=null;else{b=P.f.kb,X=(W+1)/2,vt=(Y+1)/2,et=Math.abs(b.fa),rt=Math.abs(b.Ab);var Ct=Math.abs(b.Db),_t=Math.abs(b.lb),At=_t*(Y-1)+W;A&=et*(Y-1)+W<=b.Fd,A&=rt*(vt-1)+X<=b.Cd,A=(A&=Ct*(vt-1)+X<=b.Ed)&et>=W&rt>=X&Ct>=X,A&=b.y!=null,A&=b.f!=null,A&=b.ea!=null,H==12&&(A&=_t>=W,A&=At<=b.Tc,A&=b.F!=null)}else A=0;b=A?0:2}}return b!=0||R!=null&&R.fd&&(b=sc(P)),b}var xi=64,uo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ul=24,hl=32,ac=8,Tr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(b){return b},j.Predictor2=function(b,A,R){return A[R+0]},j.Predictor3=function(b,A,R){return A[R+1]},j.Predictor4=function(b,A,R){return A[R-1]},j.Predictor5=function(b,A,R){return Xt(Xt(b,A[R+1]),A[R+0])},j.Predictor6=function(b,A,R){return Xt(b,A[R-1])},j.Predictor7=function(b,A,R){return Xt(b,A[R+0])},j.Predictor8=function(b,A,R){return Xt(A[R-1],A[R+0])},j.Predictor9=function(b,A,R){return Xt(A[R+0],A[R+1])},j.Predictor10=function(b,A,R){return Xt(Xt(b,A[R-1]),Xt(A[R+0],A[R+1]))},j.Predictor11=function(b,A,R){var P=A[R+0];return 0>=ke(P>>24&255,b>>24&255,(A=A[R-1])>>24&255)+ke(P>>16&255,b>>16&255,A>>16&255)+ke(P>>8&255,b>>8&255,A>>8&255)+ke(255&P,255&b,255&A)?P:b},j.Predictor12=function(b,A,R){var P=A[R+0];return(ce((b>>24&255)+(P>>24&255)-((A=A[R-1])>>24&255))<<24|ce((b>>16&255)+(P>>16&255)-(A>>16&255))<<16|ce((b>>8&255)+(P>>8&255)-(A>>8&255))<<8|ce((255&b)+(255&P)-(255&A)))>>>0},j.Predictor13=function(b,A,R){var P=A[R-1];return(Ce((b=Xt(b,A[R+0]))>>24&255,P>>24&255)<<24|Ce(b>>16&255,P>>16&255)<<16|Ce(b>>8&255,P>>8&255)<<8|Ce(b>>0&255,P>>0&255))>>>0};var hf=j.PredictorAdd0;j.PredictorAdd1=Se,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var bu=j.PredictorAdd2;Re("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Re("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Dh,rs=j.ColorIndexInverseTransform,Ii=j.MapARGB,ho=j.VP8LColorIndexInverseTransformAlpha,yu=j.MapAlpha,wa=j.VP8LPredictorsAdd=[];wa.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var fo,br,Yi,po,Lr,_s,Ws,Ns,ti,Cs,gi,Mr,dl,Ys,oc,mo,go,vo,fl,lc,bo,xa,pl,ei,Xr,Ye,Xe,Dn,hi=s(511),ss=s(2041),yo=s(225),wo=s(767),Aa=0,Oh=ss,ml=yo,Fi=wo,as=hi,or=0,cc=1,Xs=2,wu=3,gl=4,Sa=5,kh=6,xu=7,xo=8,Ea=9,uc=10,jh=[2,3,7],os=[3,3,11],Kr=[280,256,256,256,40],vl=[0,1,1,1,0],_a=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Na=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],im=8,Au=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Su=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ai=null,ni=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ao=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ks=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],df=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],yr=[],Qr=[],sm=1,hc=2,Qs=[],Bi=[];jt("UpsampleRgbLinePair",en,3),jt("UpsampleBgrLinePair",$n,3),jt("UpsampleRgbaLinePair",Ss,4),jt("UpsampleBgraLinePair",ji,4),jt("UpsampleArgbLinePair",ui,4),jt("UpsampleRgba4444LinePair",ci,2),jt("UpsampleRgb565LinePair",Kn,2);var Ra=j.UpsampleRgbLinePair,So=j.UpsampleBgrLinePair,Zs=j.UpsampleRgbaLinePair,Ih=j.UpsampleBgraLinePair,Fh=j.UpsampleArgbLinePair,dc=j.UpsampleRgba4444LinePair,Bh=j.UpsampleRgb565LinePair,Js=16,Si=1<<Js-1,Eo=-227,zh=482,K0=6,am=0,Q0=s(256),Ei=s(256),ff=s(256),Eu=s(256),_u=s(zh-Eo),pf=s(zh-Eo);Es("YuvToRgbRow",en,3),Es("YuvToBgrRow",$n,3),Es("YuvToRgbaRow",Ss,4),Es("YuvToBgraRow",ji,4),Es("YuvToArgbRow",ui,4),Es("YuvToRgba4444Row",ci,2),Es("YuvToRgb565Row",Kn,2);var wl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ta=[0,2,8],Z0=[8,7,6,4,4,2,2,2,1,1,1,1],om=1;this.WebPDecodeRGBA=function(b,A,R,P,H){var W=cc,Y=new tc,X=new gr;Y.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var et=X.width,rt=X.height,vt=new nr;if(vt==null||b==null)var Ct=2;else t(vt!=null),Ct=rc(b,A,R,vt.width,vt.height,vt.Pd,vt.Qd,vt.format,null);if(Ct!=0?et=0:(et!=null&&(et[0]=vt.width[0]),rt!=null&&(rt[0]=vt.height[0]),et=1),et){X.width=X.width[0],X.height=X.height[0],P!=null&&(P[0]=X.width),H!=null&&(H[0]=X.height);t:{if(P=new to,(H=new pu).data=b,H.w=A,H.ha=R,H.kd=1,A=[0],t(H!=null),((b=rc(H.data,H.w,H.ha,null,null,null,A,null,H))==0||b==7)&&A[0]&&(b=4),(A=b)==0){if(t(Y!=null),P.data=H.data,P.w=H.w+H.offset,P.ha=H.ha-H.offset,P.put=ir,P.ac=hn,P.bc=En,P.ma=Y,H.xa){if((b=Wi())==null){Y=1;break t}if(function(_t,At){var Ht=[0],Dt=[0],bt=[0];e:for(;;){if(_t==null)return 0;if(At==null)return _t.a=2,0;if(_t.l=At,_t.a=0,J(_t.m,At.data,At.w,At.ha),!oe(_t.m,Ht,Dt,bt)){_t.a=3;break e}if(_t.xb=hc,At.width=Ht[0],At.height=Dt[0],!Cn(Ht[0],Dt[0],1,_t,null))break e;return 1}return t(_t.a!=0),0}(b,P)){if(P=(A=cl(P.width,P.height,Y.Oa,Y.ba))==0){e:{P=b;n:for(;;){if(P==null){P=0;break e}if(t(P.s.yc!=null),t(P.s.Ya!=null),t(0<P.s.Wb),t((R=P.l)!=null),t((H=R.ma)!=null),P.xb!=0){if(P.ca=H.ba,P.tb=H.tb,t(P.ca!=null),!co(H.Oa,R,wu)){P.a=2;break n}if(!Ja(P,R.width)||R.da)break n;if((R.da||on(P.ca.S))&&Et(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&Et()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!Kt(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!sr(P,P.V,P.Ba,P.c,P.i,R.o,el))break n;H.Dc=P.Ma,P=1;break e}t(P.a!=0),P=0}P=!P}P&&(A=b.a)}else A=b.a}else{if((b=new af)==null){Y=1;break t}if(b.Fa=H.na,b.P=H.P,b.qc=H.Sa,su(b,P)){if((A=cl(P.width,P.height,Y.Oa,Y.ba))==0){if(b.Aa=0,R=Y.Oa,t((H=b)!=null),R!=null){if(0<(et=0>(et=R.Md)?0:100<et?255:255*et/100)){for(rt=vt=0;4>rt;++rt)12>(Ct=H.pb[rt]).lc&&(Ct.ia=et*Z0[0>Ct.lc?0:Ct.lc]>>3),vt|=Ct.ia;vt&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=R.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}_h(b,P)||(A=b.a)}}else A=b.a}A==0&&Y.Oa!=null&&Y.Oa.fd&&(A=sc(Y.ba))}Y=A}W=Y!=0?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var lm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(j,K){for(var st="",B=0;B<4;B++)st+=String.fromCharCode(j[K++]);return st}function f(j,K){return(j[K+0]<<0|j[K+1]<<8|j[K+2]<<16)>>>0}function p(j,K){return(j[K+0]<<0|j[K+1]<<8|j[K+2]<<16|j[K+3]<<24)>>>0}new u;var g=[0],v=[0],x=[],y=new u,_=i,E=function(j,K){var st={},B=0,G=!1,it=0,nt=0;if(st.frames=[],!function(V,tt,at,ot){for(var ct=0;ct<ot;ct++)if(V[tt+ct]!=at.charCodeAt(ct))return!0;return!1}(j,K,"RIFF",4)){for(p(j,K+=4),K+=8;K<j.length;){var ht=d(j,K),U=p(j,K+=4);K+=4;var Z=U+(1&U);switch(ht){case"VP8 ":case"VP8L":st.frames[B]===void 0&&(st.frames[B]={}),($=st.frames[B]).src_off=G?nt:K-8,$.src_size=it+U+8,B++,G&&(G=!1,it=0,nt=0);break;case"VP8X":($=st.header={}).feature_flags=j[K];var J=K+4;$.canvas_width=1+f(j,J),J+=3,$.canvas_height=1+f(j,J),J+=3;break;case"ALPH":G=!0,it=Z+8,nt=K-8;break;case"ANIM":($=st.header).bgcolor=p(j,K),J=K+4,$.loop_count=(dt=j)[(F=J)+0]<<0|dt[F+1]<<8,J+=2;break;case"ANMF":var pt,$;($=st.frames[B]={}).offset_x=2*f(j,K),K+=3,$.offset_y=2*f(j,K),K+=3,$.width=1+f(j,K),K+=3,$.height=1+f(j,K),K+=3,$.duration=f(j,K),K+=3,pt=j[K++],$.dispose=1&pt,$.blend=pt>>1&1}ht!="ANMF"&&(K+=Z)}var dt,F;return st}}(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var T=E.header?E.header:null,L=E.frames?E.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],v=[T.canvas_width];for(var O=0;O<L.length&&L[O].blend!=0;O++);}var D=L[0],I=y.WebPDecodeRGBA(_,D.src_off,D.src_size,v,g);D.rgba=I,D.imgwidth=v[0],D.imgheight=g[0];for(var k=0;k<v[0]*g[0]*4;k++)x[k]=I[k];return this.width=v,this.height=g,this.data=x,this}(function(i){var t=function(){return typeof Qb=="function"},e=function(g,v,x,y){var _=4,E=o;switch(y){case i.image_compression.FAST:_=1,E=s;break;case i.image_compression.MEDIUM:_=6,E=c;break;case i.image_compression.SLOW:_=9,E=u}g=n(g,v,x,E);var T=Qb(g,{level:_});return i.__addimage__.arrayBufferToBinaryString(T)},n=function(g,v,x,y){for(var _,E,T,L=g.length/v,O=new Uint8Array(g.length+L),D=f(),I=0;I<L;I+=1){if(T=I*v,_=g.subarray(T,T+v),y)O.set(y(_,x,E),T+I);else{for(var k,j=D.length,K=[];k<j;k+=1)K[k]=D[k](_,x,E);var st=p(K.concat());O.set(K[st],T+I)}E=_}return O},r=function(g){var v=Array.apply([],g);return v.unshift(0),v},s=function(g,v){var x,y=[],_=g.length;y[0]=1;for(var E=0;E<_;E+=1)x=g[E-v]||0,y[E+1]=g[E]-x+256&255;return y},o=function(g,v,x){var y,_=[],E=g.length;_[0]=2;for(var T=0;T<E;T+=1)y=x&&x[T]||0,_[T+1]=g[T]-y+256&255;return _},c=function(g,v,x){var y,_,E=[],T=g.length;E[0]=3;for(var L=0;L<T;L+=1)y=g[L-v]||0,_=x&&x[L]||0,E[L+1]=g[L]+256-(y+_>>>1)&255;return E},u=function(g,v,x){var y,_,E,T,L=[],O=g.length;L[0]=4;for(var D=0;D<O;D+=1)y=g[D-v]||0,_=x&&x[D]||0,E=x&&x[D-v]||0,T=d(y,_,E),L[D+1]=g[D]-T+256&255;return L},d=function(g,v,x){if(g===v&&v===x)return g;var y=Math.abs(v-x),_=Math.abs(g-x),E=Math.abs(g+v-x-x);return y<=_&&y<=E?g:_<=E?v:x},f=function(){return[r,s,o,c,u]},p=function(g){var v=g.map(function(x){return x.reduce(function(y,_){return y+Math.abs(_)},0)});return v.indexOf(Math.min.apply(null,v))};i.processPNG=function(g,v,x,y){var _,E,T,L,O,D,I,k,j,K,st,B,G,it,nt,ht=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(T=new f9(g)).imgData,E=T.bits,_=T.colorSpace,O=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){j=(k=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,st=new Uint8Array(j*T.colors),K=new Uint8Array(j);var Z,J=T.pixelBitlength-T.bits;for(it=0,nt=0;it<j;it++){for(G=k[it],Z=0;Z<J;)st[nt++]=G>>>Z&255,Z+=T.bits;K[it]=G>>>Z&255}}if(T.bits===16){j=(k=new Uint32Array(T.decodePixels().buffer)).length,st=new Uint8Array(j*(32/T.pixelBitlength)*T.colors),K=new Uint8Array(j*(32/T.pixelBitlength)),B=T.colors>1,it=0,nt=0;for(var pt=0;it<j;)G=k[it++],st[nt++]=G>>>0&255,B&&(st[nt++]=G>>>16&255,G=k[it++],st[nt++]=G>>>0&255),K[pt++]=G>>>16&255;E=8}y!==i.image_compression.NONE&&t()?(g=e(st,T.width*T.colors,T.colors,y),I=e(K,T.width,1,y)):(g=st,I=K,ht=void 0)}if(T.colorType===3&&(_=this.color_spaces.INDEXED,D=T.palette,T.transparency.indexed)){var $=T.transparency.indexed,dt=0;for(it=0,j=$.length;it<j;++it)dt+=$[it];if((dt/=255)===j-1&&$.indexOf(0)!==-1)L=[$.indexOf(0)];else if(dt!==j){for(k=T.decodePixels(),K=new Uint8Array(k.length),it=0,j=k.length;it<j;it++)K[it]=$[k[it]];I=e(K,T.width,1)}}var F=function(V){var tt;switch(V){case i.image_compression.FAST:tt=11;break;case i.image_compression.MEDIUM:tt=13;break;case i.image_compression.SLOW:tt=14;break;default:tt=12}return tt}(y);return ht===this.decode.FLATE_DECODE&&(U="/Predictor "+F+" "),U+="/Colors "+O+" /BitsPerComponent "+E+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:x,data:g,index:v,filter:ht,decodeParameters:U,transparency:L,palette:D,sMask:I,predictor:F,width:T.width,height:T.height,bitsPerComponent:E,colorSpace:_}}}})(_e.API),function(i){i.processGIF89A=function(t,e,n,r){var s=new p9(t),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:c},f=new Y1(100).encode(d,100);return i.processJPEG.call(this,f,e,n,r)},i.processGIF87A=i.processGIF89A}(_e.API),Fa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fa.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Un.log("bit decode error:"+e)}},Fa.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Fa.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*r+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Fa.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},Fa.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,d=s>>15?255:0,f=n*this.width*4+4*r;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=d}this.pos+=i}},Fa.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,d=(o>>11)/t*255|0,f=r*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=i}},Fa.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Fa.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=r,this.data[c+2]=n,this.data[c+3]=o}},Fa.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var s=new Fa(t,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new Y1(100).encode(u,100);return i.processJPEG.call(this,d,e,n,r)}}(_e.API),sS.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var s=new sS(t),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new Y1(100).encode(u,100);return i.processJPEG.call(this,d,e,n,r)}}(_e.API),_e.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,d=0;d<r;d+=4){var f=n[d],p=n[d+1],g=n[d+2],v=n[d+3];s[c++]=f,s[c++]=p,s[c++]=g,o[u++]=v}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},_e.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pd=_e.API,Eg=pd.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,d=t.kerning?t.kerning:r.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,v=i.length,x=0,y=c[0]||u,_=[];for(e=0;e<v;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?_.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(g=p&&Mn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/f:0,_.push((c[n]||y)/u+g)),x=n;return _},eS=pd.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return pd.processArabic&&(i=pd.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:Eg.apply(this,arguments).reduce(function(s,o){return s+o},0)},nS=function(i,t,e,n){for(var r=[],s=0,o=i.length,c=0;s!==o&&c+t[s]<e;)c+=t[s],s++;r.push(i.slice(0,s));var u=s;for(c=0;s!==o;)c+t[s]>n&&(r.push(i.slice(u,s)),c=0,u=s),c+=t[s],s++;return u!==s&&r.push(i.slice(u,s)),r},iS=function(i,t,e){e||(e={});var n,r,s,o,c,u,d,f=[],p=[f],g=e.textIndent||0,v=0,x=0,y=i.split(" "),_=Eg.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?y[0].length+2:e.lineIndent||0){var E=Array(u).join(" "),T=[];y.map(function(O){(O=O.split(/\s*\n/)).length>1?T=T.concat(O.map(function(D,I){return(I&&D.length?`
`:"")+D})):T.push(O[0])}),y=T,u=eS.apply(this,[E,e])}for(s=0,o=y.length;s<o;s++){var L=0;if(n=y[s],u&&n[0]==`
`&&(n=n.substr(1),L=1),g+v+(x=(r=Eg.apply(this,[n,e])).reduce(function(O,D){return O+D},0))>t||L){if(x>t){for(c=nS.apply(this,[n,r,t-(g+v),t]),f.push(c.shift()),f=[c.pop()];c.length;)p.push([c.shift()]);x=r.slice(n.length-(f[0]?f[0].length:0)).reduce(function(O,D){return O+D},0)}else f=[n];p.push(f),g=x+u,v=_}else f.push(n),g+=v+x,v=_}return d=u?function(O,D){return(D?E:"")+O.join(" ")}:function(O){return O.join(" ")},p.map(d)},pd.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var c,u,d=[];for(c=0,u=n.length;c<u;c++)d=d.concat(iS.apply(this,[n[c],o,s]));return d},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=t[r];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=i.__fontmetrics__.compress=function(p){var g,v,x,y,_=["{"];for(var E in p){if(g=p[E],isNaN(parseInt(E,10))?v="'"+E+"'":(E=parseInt(E,10),v=(v=s(E).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof g=="number")g<0?(x=s(g).slice(3),y="-"):(x=s(g).slice(2),y=""),x=y+x.slice(0,-1)+n[x.slice(-1)];else{if(Mn(g)!=="object")throw new Error("Don't know what to do with value type "+Mn(g)+".");x=o(g)}_.push(v+x)}return _.push("}"),_.join("")},c=i.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,v,x,y,_={},E=1,T=_,L=[],O="",D="",I=p.length-1,k=1;k<I;k+=1)(y=p[k])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(L.push([T,x]),T={},x=void 0):y=="}"?((v=L.pop())[0][v[1]]=T,x=void 0,T=v[0]):y=="-"?E=-1:x===void 0?e.hasOwnProperty(y)?(O+=e[y],x=parseInt(O,16)*E,E=1,O=""):O+=y:e.hasOwnProperty(y)?(D+=e[y],T[x]=parseInt(D,16)*E,E=1,x=void 0,D=""):D+=y;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(p){var g=p.font,v=f.Unicode[g.postScriptName];v&&(g.metadata.Unicode={},g.metadata.Unicode.widths=v.widths,g.metadata.Unicode.kerning=v.kerning);var x=d.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(_e.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=e.charCodeAt(s);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(vp(c)),o.metadata=i.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,n)}}])}(_e),function(i){function t(){return(Pe.canvg?Promise.resolve(Pe.canvg):$b(()=>import("./index.es-C46OmQhq.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}_e.API.addSvgAsImage=function(e,n,r,s,o,c,u,d){if(isNaN(n)||isNaN(r))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then(function(x){return x.fromString(p,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){v.addImage(f.toDataURL("image/jpeg",1),n,r,s,o,u,d)})}}(),_e.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},_e.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],d=0,f=0,p=0;function g(x,y){var _,E=!1;for(_=0;_<x.length;_+=1)x[_]===y&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var v=c.length;for(p=0;p<v;p+=1)e[c[p]].value=e[c[p]].defaultValue,e[c[p]].explicitSet=!1}if(Mn(i)==="object"){for(r in i)if(s=i[r],g(c,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&g(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}e[r].value="["+u.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in e)e[x].explicitSet===!0&&(e[x].type==="name"?y.push("/"+x+" /"+e[x].value):y.push("/"+x+" "+e[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(_e.API),function(i){var t=i.API,e=t.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(c=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(p),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},n=function(s){var o,c,u,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(c=Object.keys(s).sort(function(v,x){return v-x})).length;p<g;p++)o=c[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,g=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",x=0;x<g.length;x++)v+=String.fromCharCode(g[x]);var y=d();f({data:v,addLength1:!0,objectId:y}),u("endobj");var _=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var E=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+bd(c.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var T=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+bd(c.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+i.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+_+" 0 R"),u("/BaseFont /"+bd(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+T+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var x=d();f({data:g,addLength1:!0,objectId:x}),u("endobj");var y=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var _=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+bd(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var E=0;E<c.metadata.hmtx.widths.length;E++)c.metadata.hmtx.widths[E]=parseInt(c.metadata.hmtx.widths[E]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+bd(c.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,c=s.text||"",u=s.x,d=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,v=p.activeFontKey,x=p.fonts,y=v,_="",E=0,T="",L=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:p};for(T=c,y=v,Array.isArray(c)&&(T=c[0]),E=0;E<T.length;E+=1)x[y].metadata.hasOwnProperty("cmap")&&(o=x[y].metadata.cmap.unicode.codeMap[T[E].charCodeAt(0)]),o||T[E].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?_+=T[E]:_+="";var O="";return parseInt(y.slice(1))<14||L==="WinAnsiEncoding"?O=g(_,y).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(O=e(_,x[y])),p.isHex=!0,{text:O,x:u,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?c.push([r(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):c.push(r(Object.assign({},u,{text:o[d]})).text);s.text=c}else s.text=r(Object.assign({},u,{text:o})).text}])}(_e),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(_e.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,o,c,u,d,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,L=0;this.__bidiEngine__={};var O=function(B){var G=B.charCodeAt(),it=G>>8,nt=y[it];return nt!==void 0?p[256*nt+(255&G)]:it===252||it===253?"AL":E.test(it)?"L":it===8?"R":"N"},D=function(B){for(var G,it=0;it<B.length;it++){if((G=O(B.charAt(it)))==="L")return!1;if(G==="R")return!0}return!1},I=function(B,G,it,nt){var ht,U,Z,J,pt=G[nt];switch(pt){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(pt="AN");break;case"AL":T=!0,pt="R";break;case"WS":pt="N";break;case"CS":nt<1||nt+1>=G.length||(ht=it[nt-1])!=="EN"&&ht!=="AN"||(U=G[nt+1])!=="EN"&&U!=="AN"?pt="N":T&&(U="AN"),pt=U===ht?U:"N";break;case"ES":pt=(ht=nt>0?it[nt-1]:"B")==="EN"&&nt+1<G.length&&G[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&it[nt-1]==="EN"){pt="EN";break}if(T){pt="N";break}for(Z=nt+1,J=G.length;Z<J&&G[Z]==="ET";)Z++;pt=Z<J&&G[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(J=G.length,Z=nt+1;Z<J&&G[Z]==="NSM";)Z++;if(Z<J){var $=B[nt],dt=$>=1425&&$<=2303||$===64286;if(ht=G[Z],dt&&(ht==="R"||ht==="AL")){pt="R";break}}}pt=nt<1||(ht=G[nt-1])==="B"?"N":it[nt-1];break;case"B":T=!1,r=!0,pt=L;break;case"S":s=!0,pt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":pt="N"}return pt},k=function(B,G,it){var nt=B.split("");return it&&j(nt,it,{hiLevel:L}),nt.reverse(),G&&G.reverse(),nt.join("")},j=function(B,G,it){var nt,ht,U,Z,J,pt=-1,$=B.length,dt=0,F=[],V=L?v:g,tt=[];for(T=!1,r=!1,s=!1,ht=0;ht<$;ht++)tt[ht]=O(B[ht]);for(U=0;U<$;U++){if(J=dt,F[U]=I(B,tt,F,U),nt=240&(dt=V[J][x[F[U]]]),dt&=15,G[U]=Z=V[dt][5],nt>0)if(nt===16){for(ht=pt;ht<U;ht++)G[ht]=1;pt=-1}else pt=-1;if(V[dt][6])pt===-1&&(pt=U);else if(pt>-1){for(ht=pt;ht<U;ht++)G[ht]=Z;pt=-1}tt[U]==="B"&&(G[U]=0),it.hiLevel|=Z}s&&function(at,ot,ct){for(var mt=0;mt<ct;mt++)if(at[mt]==="S"){ot[mt]=L;for(var xt=mt-1;xt>=0&&at[xt]==="WS";xt--)ot[xt]=L}}(tt,G,$)},K=function(B,G,it,nt,ht){if(!(ht.hiLevel<B)){if(B===1&&L===1&&!r)return G.reverse(),void(it&&it.reverse());for(var U,Z,J,pt,$=G.length,dt=0;dt<$;){if(nt[dt]>=B){for(J=dt+1;J<$&&nt[J]>=B;)J++;for(pt=dt,Z=J-1;pt<Z;pt++,Z--)U=G[pt],G[pt]=G[Z],G[Z]=U,it&&(U=it[pt],it[pt]=it[Z],it[Z]=U);dt=J}dt++}}},st=function(B,G,it){var nt=B.split(""),ht={hiLevel:L};return it||(it=[]),j(nt,it,ht),function(U,Z,J){if(J.hiLevel!==0&&f)for(var pt,$=0;$<U.length;$++)Z[$]===1&&(pt=_.indexOf(U[$]))>=0&&(U[$]=_[pt+1])}(nt,it,ht),K(2,nt,G,it,ht),K(1,nt,G,it,ht),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(B,G,it){if(function(ht,U){if(U)for(var Z=0;Z<ht.length;Z++)U[Z]=Z;c===void 0&&(c=D(ht)),d===void 0&&(d=D(ht))}(B,G),o||!u||d)if(o&&u&&c^d)L=c?1:0,B=k(B,G,it);else if(!o&&u&&d)L=c?1:0,B=st(B,G,it),B=k(B,G);else if(!o||c||u||d){if(o&&!u&&c^d)B=k(B,G),c?(L=0,B=st(B,G,it)):(L=1,B=st(B,G,it),B=k(B,G));else if(o&&c&&!u&&d)L=1,B=st(B,G,it),B=k(B,G);else if(!o&&!u&&c^d){var nt=f;c?(L=1,B=st(B,G,it),L=0,f=!1,B=st(B,G,it),f=nt):(L=0,B=st(B,G,it),B=k(B,G),L=1,f=!1,B=st(B,G,it),f=nt,B=k(B,G))}}else L=0,B=st(B,G,it);else L=c?1:0,B=st(B,G,it);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,u=B.isOutputVisual,c=B.isInputRtl,d=B.isOutputRtl,f=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([e.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([e.doBidiReorder(r[c])]);n.text=o}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(_e),_e.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Zc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new T9(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new m9(this.contents),this.head=new v9(this),this.name=new A9(this),this.cmap=new P3(this),this.toUnicode={},this.hhea=new b9(this),this.maxp=new S9(this),this.hmtx=new E9(this),this.post=new w9(this),this.os2=new y9(this),this.loca=new R9(this),this.glyf=new _9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,d;for(d=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var Za,Zc=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,s,o,c,u;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*s+65536*o+256*c+u},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;n<r;n++)e=t[n],s.push(this.writeByte(e));return s},i}(),m9=function(){var i;function t(e){var n,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,s,o,c,u,d,f,p,g,v,x,y;for(y in v=Object.keys(e).length,u=Math.log(2),p=16*Math.floor(Math.log(v)/u),o=Math.floor(p/u),f=16*v-p,(r=new Zc).writeInt(this.scalarType),r.writeShort(v),r.writeShort(p),r.writeShort(o),r.writeShort(f),s=16*v,d=r.pos+s,c=null,x=[],e)for(g=e[y],r.writeString(y),r.writeInt(i(g)),r.writeInt(d),r.writeInt(g.length),x=x.concat(g),y==="head"&&(c=d),d+=g.length;d%4;)x.push(0),d++;return r.write(x),n=2981146554-i(r.data),r.pos=c+8,r.writeUInt32(n),r.data},i=function(e){var n,r,s,o;for(e=D3.call(e);e.length%4;)e.push(0);for(s=new Zc(e),r=0,n=0,o=e.length;n<o;n=n+=4)r+=s.readUInt32();return 4294967295&r},t}(),g9={}.hasOwnProperty,tl=function(i,t){for(var e in t)g9.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};Za=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var v9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Zc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),aS=function(){function i(t,e){var n,r,s,o,c,u,d,f,p,g,v,x,y,_,E,T,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(v=t.readUInt16(),g=v/2,t.pos+=6,s=function(){var O,D;for(D=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)D.push(t.readUInt16());return D}(),t.pos+=2,y=function(){var O,D;for(D=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)D.push(t.readUInt16());return D}(),d=function(){var O,D;for(D=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)D.push(t.readUInt16());return D}(),f=function(){var O,D;for(D=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)D.push(t.readUInt16());return D}(),r=(this.length-t.pos+this.offset)/2,c=function(){var O,D;for(D=[],u=O=0;0<=r?O<r:O>r;u=0<=r?++O:--O)D.push(t.readUInt16());return D}(),u=E=0,L=s.length;E<L;u=++E)for(_=s[u],n=T=x=y[u];x<=_?T<=_:T>=_;n=x<=_?++T:--T)f[u]===0?o=n+d[u]:(o=c[f[u]/2+(n-x)-(g-u)]||0)!==0&&(o+=d[u]),this.codeMap[n]=65535&o}t.pos=p}return i.encode=function(t,e){var n,r,s,o,c,u,d,f,p,g,v,x,y,_,E,T,L,O,D,I,k,j,K,st,B,G,it,nt,ht,U,Z,J,pt,$,dt,F,V,tt,at,ot,ct,mt,xt,Tt,Ot,zt;switch(nt=new Zc,o=Object.keys(t).sort(function($t,Kt){return $t-Kt}),e){case"macroman":for(y=0,_=function(){var $t=[];for(x=0;x<256;++x)$t.push(0);return $t}(),T={0:0},s={},ht=0,pt=o.length;ht<pt;ht++)T[xt=t[r=o[ht]]]==null&&(T[xt]=++y),s[r]={old:t[r],new:T[t[r]]},_[r]=T[t[r]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(_),{charMap:s,subtable:nt.data,maxGlyphID:y+1};case"unicode":for(G=[],p=[],L=0,T={},n={},E=d=null,U=0,$=o.length;U<$;U++)T[D=t[r=o[U]]]==null&&(T[D]=++L),n[r]={old:D,new:T[D]},c=T[D]-r,E!=null&&c===d||(E&&p.push(E),G.push(r),d=c),E=r;for(E&&p.push(E),p.push(65535),G.push(65535),st=2*(K=G.length),j=2*Math.pow(Math.log(K)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,k=2*K-j,u=[],I=[],v=[],x=Z=0,dt=G.length;Z<dt;x=++Z){if(B=G[x],f=p[x],B===65535){u.push(0),I.push(0);break}if(B-(it=n[B].new)>=32768)for(u.push(0),I.push(2*(v.length+K-x)),r=J=B;B<=f?J<=f:J>=f;r=B<=f?++J:--J)v.push(n[r].new);else u.push(it-B),I.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*K+2*v.length),nt.writeUInt16(0),nt.writeUInt16(st),nt.writeUInt16(j),nt.writeUInt16(g),nt.writeUInt16(k),ct=0,F=p.length;ct<F;ct++)r=p[ct],nt.writeUInt16(r);for(nt.writeUInt16(0),mt=0,V=G.length;mt<V;mt++)r=G[mt],nt.writeUInt16(r);for(Tt=0,tt=u.length;Tt<tt;Tt++)c=u[Tt],nt.writeUInt16(c);for(Ot=0,at=I.length;Ot<at;Ot++)O=I[Ot],nt.writeUInt16(O);for(zt=0,ot=v.length;zt<ot;zt++)y=v[zt],nt.writeUInt16(y);return{charMap:n,subtable:nt.data,maxGlyphID:L+1}}},i}(),P3=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new aS(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=aS.encode(e,n),(s=new Zc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),b9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),y9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),w9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}).call(this)}},t}(),x9=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},A9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,o,c,u,d,f,p,g,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=p=0,g=r.length;p<g;o=++p)s=r[o],e.pos=s.offset,f=e.readString(s.length),c=new x9(f,s),d[v=s.nameID]==null&&(d[v]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),S9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),E9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,o,c,u,d;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)p.push(e.readInt16());return p}(),this.widths=(function(){var f,p,g,v;for(v=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],v.push(o.advance);return v}).call(this),r=this.widths[this.widths.length-1],d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(this.widths.push(r));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),D3=[].slice,_9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,o,c,u,d,f,p,g;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,c=(u=new Zc(n.read(s))).readShort(),f=u.readShort(),g=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[e]=c===-1?new C9(u,f,g,d,p):new N9(u,c,f,g,d,p),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,o,c,u,d;for(c=[],o=[],u=0,d=n.length;u<d;u++)s=e[n[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),N9=function(){function i(t,e,n,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),C9=function(){function i(t,e,n,r,s){var o,c;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new Zc(D3.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),R9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,Za),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<n.length&&n[o]==c){++o,r[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},t}(),T9=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,s,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(n=r[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))n=u[s],r[s]=n;return r},i.prototype.encode=function(t,e){var n,r,s,o,c,u,d,f,p,g,v,x,y,_,E;for(r in n=P3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),v={0:0},E=n.charMap)v[(u=E[r]).old]=u.new;for(x in g=n.maxGlyphID,o)x in v||(v[x]=g++);return f=function(T){var L,O;for(L in O={},T)O[T[L]]=L;return O}(v),p=Object.keys(f).sort(function(T,L){return T-L}),y=function(){var T,L,O;for(O=[],T=0,L=p.length;T<L;T++)c=p[T],O.push(f[c]);return O}(),s=this.font.glyf.encode(o,y,v),d=this.font.loca.encode(s.offsets,y),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},i}();_e.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,s,o;if(Array.isArray(e))return"["+function(){var c,u,d;for(d=[],c=0,u=e.length;c<u;c++)n=e[c],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();la.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${g2}/pdf.worker.js`;const oS=()=>{const[i,t]=M.useState(null),[e,n]=M.useState([]),[r,s]=M.useState(null),[o,c]=M.useState(""),[u,d]=M.useState(!1),[f,p]=M.useState(""),g=M.useRef(null),v=M.useRef(null),x=M.useCallback(()=>{const L=v.current.getScreenshot();L&&(n(O=>[...O,L]),d(!1))},[]),y=L=>{const O=L.target.files[0];if(!O)return;const D=O.type;if(D.startsWith("image/")){const I=new FileReader;I.onload=()=>{t(I.result),s(null)},I.readAsDataURL(O)}else D==="application/pdf"&&(s(O),t(null),p(O.name))},_=async()=>{if(!o)return alert("Enter Patient MRN");const L=g.current?.cropper;if(!L)return;const O=L.getCroppedCanvas(),D=await new Promise(j=>O.toBlob(j,"image/jpeg")),I=new File([D],"cropped-image.jpg",{type:"image/jpeg"});console.log(I);const k=new FormData;k.append("file",I),k.append("patientMRN",o),k.append("employeeId","12345"),console.log(D);try{await qn.post("/clerk/uploadDoc",k),alert("Image uploaded successfully!"),t(null)}catch(j){console.error(j),alert("Upload failed")}},E=async()=>{if(!o||!r)return alert("Missing Patient MRN or PDF");const L=new FormData;L.append("file",r),L.append("patientMRN",o),L.append("employeeId","1234");try{const O=await qn.post("/clerk/uploadDoc",L);alert("PDF uploaded successfully!"),s(null),p("")}catch(O){console.error(O),alert("Upload failed")}},T=async()=>{if(!o||e.length===0)return alert("Add MRN and capture images");const L=new _e;for(let k=0;k<e.length;k++)k!==0&&L.addPage(),L.addImage(e[k],"JPEG",10,10,190,270);const O=L.output("blob"),D=new File([O],"scanned-document.pdf",{type:"application/pdf"}),I=new FormData;I.append("file",D),I.append("scannerClerk","687903b74d2933e28308743f"),I.append("patientMRN",o),I.append("employeeId","1234");try{await qn.post("/clerk/uploadDoc",I),alert("Scanned PDF uploaded successfully!"),n([])}catch(k){console.error(k),alert("Upload failed")}};return S.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[S.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Document Scanner"}),S.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Enter Patient MRN"}),S.jsx("input",{type:"text",value:o,onChange:L=>c(L.target.value),className:"w-full mb-4 px-3 py-2 border rounded-md text-sm",placeholder:"e.g., MRN123456"}),S.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:y,className:`mb-4 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4\r
                   file:rounded-full file:border-0 file:text-sm file:font-semibold\r
                   file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`}),S.jsx("button",{onClick:()=>d(!0),className:"mb-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:"Open Camera"}),u&&S.jsxs("div",{className:"mb-4",children:[S.jsx(iC,{audio:!1,ref:v,screenshotFormat:"image/jpeg",className:"w-full rounded-md",videoConstraints:{facingMode:"environment"}}),S.jsx("button",{onClick:x,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Capture Image"})]}),e.length>0&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h2",{className:"text-lg font-medium mb-2",children:"Captured Images"}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((L,O)=>S.jsxs("div",{className:"relative",children:[S.jsx("img",{src:L,alt:`Captured ${O}`,className:"w-full rounded shadow"}),S.jsx("button",{onClick:()=>{const D=[...e];D.splice(O,1),n(D)},className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded hover:bg-red-700",children:"Delete"})]},O))}),S.jsx("button",{onClick:T,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload All as PDF"}),S.jsx("button",{onClick:()=>n([]),className:"mt-2 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition ml-2",children:"Clear Captured Images"})]}),i&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-full h-[60vh] mb-4",children:S.jsx(nI,{src:i,ref:g,style:{height:"100%",width:"100%"},aspectRatio:NaN,guides:!0,viewMode:1,dragMode:"move",autoCropArea:1,background:!1})}),S.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload Cropped Image"})]}),r&&S.jsxs("div",{className:"mt-4",children:[S.jsxs("p",{className:"text-sm mb-2 text-gray-600",children:["PDF selected: ",f]}),S.jsx("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload PDF"})]})]})},L9=({page:i,limit:t})=>qn.get(`/clerk/clerkDocs?page=${i}&limit=${t}`),M9=i=>qn.get("/clerk/deleteDoc/"+i),P9=({searchTerm:i,page:t,limit:e})=>qn.get(`/clerk/search?query=${i}&page=${t}&limit=${e}`),D9=i=>qn.post("/clerk/updateStatus",{id:i});la.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();const O9=({filePath:i})=>{const[t,e]=M.useState(null),[n,r]=M.useState(0);M.useEffect(()=>{const o=()=>{const c=document.getElementById("pdf-container");c&&r(c.offsetWidth-40)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s=({numPages:o})=>{e(o)};return console.log("PDF file path:",i),S.jsx("div",{id:"pdf-container",className:"w-full max-w-4xl mx-auto p-4 overflow-y-auto max-h-[85vh] bg-white rounded-lg",children:i?S.jsx(H0,{file:i,onLoadSuccess:s,className:"flex flex-col items-center",children:Array.from(new Array(t||0),(o,c)=>S.jsx("div",{className:"mb-4 shadow-lg",children:S.jsx(G0,{pageNumber:c+1,width:n,renderTextLayer:!1,renderAnnotationLayer:!1,className:"border rounded"})},c))}):S.jsx("p",{className:"text-center text-gray-500",children:"No PDF file provided"})})},O3=({filePath:i})=>{console.log("Previewing file:",i);const t=i?.toLowerCase().endsWith(".pdf");return console.log("Is PDF:",t),S.jsx("div",{className:"w-[60vw] h-[90vh] flex justify-center items-center",children:t?S.jsx(O9,{filePath:i}):S.jsx("img",{src:i,alt:"Preview",className:"max-w-full max-h-[80vh] object-contain"})})},k9=()=>{la.workerSrc||(la.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),console.log("PDF.js worker configured:",la.workerSrc))};k9();const lS={draft:{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"},rejected:{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"},submitted:{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},approved:{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"},default:{bg:"bg-gray-200",text:"text-gray-800",dot:"bg-gray-500"}},N2=Yt.memo(({document:i,deleteButton:t,onDelete:e,isScanner:n,isApprover:r})=>{const{showError:s,showSuccess:o}=Zo(),{id:c,fileName:u,filePath:d,patientMRN:f,status:p,scannedAt:g,comment:v,employeeId:x,uploadedAt:y,scanner:_,uploader:E,reviewedAt:T,approver:L}=i,[O,D]=M.useState(!1),[I,k]=M.useState(!1),[j,K]=M.useState(!0),[st,B]=M.useState(!1),G=Bp(),it=d?.toLowerCase().endsWith(".pdf"),nt=M.useCallback(async()=>{B(!0);try{await D9(c),o("Document submitted successfully")}catch($){console.error($),s("Could not update the document")}finally{B(!1)}},[c,o,s]),ht=M.useCallback(()=>{G("/rescan",{state:{id:c,fileName:u,filePath:d,uploadedAt:y}})},[c,u,d,y,G]),U=M.useCallback($=>{$.target===$.currentTarget&&D(!1)},[]);M.useEffect(()=>{const $=dt=>{dt.key==="Escape"&&(D(!1),k(!1))};return(O||I)&&window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[O,I]);const Z=M.useCallback(()=>{K(!1)},[]),J=M.useCallback($=>{K(!1),s("Failed to load document preview"),console.error($)},[s]),pt=lS[p]||lS.default;return S.jsxs($y,{className:"w-full max-w-md relative shadow-md hover:shadow-lg transition-shadow duration-200",children:[S.jsx(Wy,{className:"pb-2",children:S.jsxs(Yy,{className:"flex items-center gap-2 text-lg",children:[S.jsx(F_,{className:"h-5 w-5 text-blue-500","aria-hidden":"true"}),S.jsx("span",{className:"truncate",title:u,children:u})]})}),S.jsx(Xy,{className:"pt-2",children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-lg mb-2 border border-gray-200",children:[j&&S.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:[S.jsx(Xu,{className:"h-6 w-6 animate-spin text-gray-500"}),S.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}),it?S.jsx(H0,{file:qa(d),onLoadSuccess:Z,onLoadError:J,loading:null,children:S.jsx(G0,{pageNumber:1,width:300,renderTextLayer:!1,renderAnnotationLayer:!1,className:"w-full h-full object-cover"})}):S.jsx("img",{src:qa(d),alt:u,className:"w-full h-48 object-cover rounded-lg",onLoad:Z,onError:J})]}),S.jsxs("div",{className:"space-y-1.5 text-sm text-gray-600",children:[S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",S.jsx("span",{className:"font-mono",children:f})]}),S.jsxs("p",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-medium",children:"Status:"}),S.jsxs("span",{className:Ne("flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium capitalize",pt.bg,pt.text),children:[S.jsx("span",{className:Ne("w-2 h-2 rounded-full",pt.dot)}),p]}),(p==="draft"||p==="rejected")&&S.jsx("button",{className:"underline text-blue-600 hover:text-blue-800 text-sm ml-2 transition-colors",onClick:ht,"aria-label":`Rescan or resubmit ${u}`,children:"Rescan/Resubmit"})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[S.jsx(sn,{variant:"outline",className:"flex-1 h-10",onClick:()=>D(!0),"aria-label":`Preview ${u}`,children:"Preview"}),S.jsxs(uh,{open:I,onOpenChange:k,children:[S.jsx(L0,{asChild:!0,children:S.jsxs(sn,{variant:"outline",className:"flex-1 h-10","aria-label":`View details for ${u}`,children:[S.jsx(B_,{className:"h-4 w-4 mr-2"})," Info"]})}),S.jsxs(hh,{className:"sm:max-w-md",children:[S.jsx(dh,{children:S.jsx(fh,{className:"text-lg font-semibold",children:"Document Details"})}),S.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"General"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Document ID:"})," ",S.jsx("span",{className:"font-mono",children:c})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"File Name:"})," ",S.jsx("span",{className:"truncate",title:u,children:u})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",S.jsx("span",{className:"font-mono",children:f})]})]}),v&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Comments"}),S.jsx("p",{className:"text-gray-700",children:v})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Scanner Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:x})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",_?.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",_?.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${_?.email}`,className:"text-blue-600 hover:underline",children:_?.email||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Scanned At:"})," ",new Date(g).toLocaleString()]})]}),E&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Uploader Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:E.employeeId||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",E.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",E.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${E.email}`,className:"text-blue-600 hover:underline",children:E.email||"N/A"})]}),y&&S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Uploaded At:"})," ",new Date(y).toLocaleString()]})]}),L&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Approver Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:L.employeeId||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",L.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",L.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${L.email}`,className:"text-blue-600 hover:underline",children:L.email||"N/A"})]}),T&&S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Reviewed At:"})," ",new Date(T).toLocaleString()]})]})]})]})]})]}),n&&p==="draft"&&S.jsx(sn,{onClick:nt,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white h-10","aria-label":"Submit document",disabled:st,children:st?S.jsxs(S.Fragment,{children:[S.jsx(Xu,{className:"h-4 w-4 animate-spin mr-2"}),"Submitting..."]}):"Submit Document"})]})}),O&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:U,role:"dialog","aria-modal":"true","aria-label":`Preview ${u}`,children:S.jsxs("div",{className:"relative w-[90vw] md:w-[60vw] h-[90vh] overflow-auto bg-white rounded-lg shadow-xl",children:[S.jsx("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>D(!1),"aria-label":"Close preview",children:S.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),S.jsx(O3,{filePath:qa(d)})]})}),t&&S.jsx(sn,{variant:"destructive",size:"icon",onClick:e,title:"Delete Document",className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700","aria-label":`Delete ${u}`,children:S.jsx(Qk,{className:"h-4 w-4"})})]})}),k3=({onSearch:i})=>{const[t,e]=M.useState(""),n=s=>{const o=s.target.value;e(o)},r=s=>{s.preventDefault(),i(t)};return S.jsxs("form",{onSubmit:r,className:"flex w-full max-w-4xl p-4 bg-white items-center gap-3 mb-4",children:[S.jsx(Bs,{label:"Search Documents",id:"search",name:"search",value:t,onChange:n,placeholder:"Enter document name or MRN...",className:"w-full",required:!0}),S.jsx(sn,{type:"submit","aria-label":"Search",className:"inline-flex items-center justify-center px-4 py-2 text-white rounded-lg transition",children:S.jsx(Wk,{className:"w-5 h-5"})})]})};function j3({className:i,...t}){return S.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Ne("mx-auto flex w-full justify-center",i),...t})}function I3({className:i,...t}){return S.jsx("ul",{"data-slot":"pagination-content",className:Ne("flex flex-row items-center gap-1",i),...t})}function kd(i){return S.jsx("li",{"data-slot":"pagination-item",...i})}function X0({className:i,isActive:t,size:e="icon",...n}){return S.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:Ne(_E({variant:t?"outline":"ghost",size:e}),i),...n})}function F3({className:i,...t}){return S.jsxs(X0,{"aria-label":"Go to previous page",size:"default",className:Ne("gap-1 px-2.5 sm:pl-2.5",i),...t,children:[S.jsx(Ck,{}),S.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function B3({className:i,...t}){return S.jsxs(X0,{"aria-label":"Go to next page",size:"default",className:Ne("gap-1 px-2.5 sm:pr-2.5",i),...t,children:[S.jsx("span",{className:"hidden sm:block",children:"Next"}),S.jsx(Tk,{})]})}const j9=()=>{const i=Op(),{showError:t,showSuccess:e}=Zo(),[n,r]=M.useState(!1),[s,o]=M.useState(null),[c,u]=M.useState(""),[d,f]=M.useState(1),p=9,g=M.useRef(null),{data:v,isLoading:x,error:y,isFetching:_}=kp({queryKey:["scanned-docs",c,d],queryFn:async()=>{const j={page:d,limit:p};return c?await P9({searchTerm:c,...j}):await L9(j)},keepPreviousData:!0}),E=Us({mutationFn:M9,onSuccess:()=>{i.invalidateQueries(["scanned-docs"]),e("Document deleted successfully"),r(!1),o(null)},onError:j=>{t(j,"Failed to delete document")}}),T=M.useCallback(j=>{o(j),r(!0)},[]),L=M.useCallback(()=>{s&&E.mutate(s)},[s,E]),O=M.useCallback(j=>{u(j.trim()),f(1)},[]),D=M.useCallback(()=>{u(""),f(1),g.current&&(g.current.value="")},[]);if(y)return t(y,y.statusCode===400?"Please enter a search term":"Failed to fetch documents"),S.jsxs("div",{className:"text-center text-red-500",role:"alert",children:["Error: ",y.message]});const I=v?.data?.data?.data||[],k=v?.data?.data?.totalPages||1;return S.jsxs("div",{className:"p-4 w-full",children:[S.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Scanned Documents"}),S.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[S.jsx(k3,{onSearch:O,placeholder:"Search documents..."}),c&&S.jsx(sn,{variant:"outline",size:"icon",onClick:D,"aria-label":"Clear search",title:"Clear search",children:S.jsx(C0,{className:"h-4 w-4"})})]}),x||_?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(Xu,{className:"h-8 w-8 animate-spin"})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:I.length>0?I.map(j=>S.jsx(N2,{document:j,deleteButton:j.status==="draft",onDelete:()=>T(j.id),isScanner:!0},j.id)):S.jsxs("div",{className:"text-center py-12 col-span-full",children:[S.jsx("p",{className:"text-lg text-gray-600",children:c?"No documents found matching your search.":"You have no scanned documents yet."}),!c&&S.jsx(sn,{className:"mt-4",onClick:()=>window.location.href="/scan",children:"Scan a New Document"})]})}),k>1&&S.jsx(j3,{className:"mt-6 flex justify-center",children:S.jsxs(I3,{children:[S.jsx(kd,{children:S.jsx(F3,{onClick:()=>f(j=>Math.max(j-1,1)),className:d===1?"pointer-events-none opacity-50":""})}),[...Array(k)].map((j,K)=>{const st=K+1;return S.jsx(kd,{children:S.jsx(X0,{onClick:()=>f(st),isActive:d===st,children:st})},st)}),S.jsx(kd,{children:S.jsx(B3,{onClick:()=>f(j=>Math.min(j+1,k)),className:d===k?"pointer-events-none opacity-50":""})})]})})]}),S.jsx(uh,{open:n,onOpenChange:r,children:S.jsxs(hh,{className:"sm:max-w-md",children:[S.jsx(dh,{children:S.jsx(fh,{children:"Confirm Document Deletion"})}),S.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this document? This action cannot be undone."}),S.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[S.jsx(sn,{variant:"outline",onClick:()=>r(!1),disabled:E.isLoading,children:"Cancel"}),S.jsx(sn,{variant:"destructive",onClick:L,disabled:E.isLoading,children:E.isLoading?"Deleting...":"Delete"})]})]})})]})},I9=[{title:"Review Documents",url:"/approver/review",icon:z_},{title:"Approved Documents",url:"/approver/approved",icon:Sb},{title:"Rejected Documents",url:"/approver/rejected",icon:Sb}];function F9(){return S.jsx(XN,{className:"mt-16",children:S.jsx(QN,{children:S.jsx(ZN,{children:S.jsx(JN,{children:S.jsx(tC,{children:I9.map(i=>S.jsx(eC,{children:S.jsx(nC,{asChild:!0,children:S.jsxs("a",{href:i.url,children:[S.jsx(i.icon,{}),S.jsx("span",{children:i.title})]})})},i.title))})})})})})}const B9=()=>S.jsx("div",{children:S.jsxs(YN,{children:[S.jsx(F9,{}),S.jsx(KN,{}),S.jsx(sE,{})]})}),z9=()=>S.jsx(Hy,{roles:["Approver"],children:S.jsx(B9,{})}),U9=({page:i=1,limit:t=10}={})=>qn.get("/approver/scannedDocs",{params:{page:i,limit:t}}),H9=({page:i=1,limit:t=10}={})=>qn.get("/approver/approvedDocs",{params:{page:i,limit:t}}),q9=({page:i=1,limit:t=10}={})=>qn.get("/approver/rejectedDocs",{params:{page:i,limit:t}}),V9=i=>qn.post(`/approver/approve/${i}`),G9=(i,t)=>qn.post(`/approver/reject/${i}`,t),$9=({query:i,page:t=1,limit:e=10})=>qn.get("/approver/search",{params:{query:i,page:t,limit:e}}),cS={draft:{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"},rejected:{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"},submitted:{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},approved:{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"},default:{bg:"bg-gray-200",text:"text-gray-800",dot:"bg-gray-500"}},W9=Yt.memo(({document:i,refetch:t})=>{const{id:e,fileName:n,filePath:r,patientMRN:s,status:o,scannedAt:c,comment:u,employeeId:d,uploadedAt:f,scanner:p,uploader:g,reviewedAt:v,approver:x}=i,[y,_]=M.useState(!1),[E,T]=M.useState(!1),[L,O]=M.useState(""),[D,I]=M.useState(!1),[k,j]=M.useState(!0),{showError:K,showSuccess:st}=Zo(),B=Op(),G=r?.toLowerCase().endsWith(".pdf"),it=M.useCallback(dt=>{dt.target===dt.currentTarget&&I(!1)},[]);M.useEffect(()=>{const dt=F=>{F.key==="Escape"&&(I(!1),_(!1),T(!1))};return(D||y||E)&&window.addEventListener("keydown",dt),()=>window.removeEventListener("keydown",dt)},[D,y,E]);const nt=M.useCallback(()=>{j(!1)},[]),ht=M.useCallback(dt=>{j(!1),K("Failed to load document preview"),console.error(dt)},[K]),U=Us({mutationFn:()=>V9(i.id),onSuccess:()=>{st(`${n} approved successfully.`),B.invalidateQueries(["approver-scanned-docs"]),t?.()},onError:dt=>{K(`Failed to approve document: ${dt.message}`),console.error(dt)}}),Z=Us({mutationFn:()=>G9(i.id,{rejectComment:L}),onSuccess:()=>{st(`${n} rejected successfully.`),_(!1),O(""),B.invalidateQueries(["approver-scanned-docs"]),t?.()},onError:dt=>{K(`Failed to reject document: ${dt.message}`),_(!1),console.error(dt)}}),J=M.useCallback(()=>{U.mutate()},[U]),pt=M.useCallback(()=>{if(!L.trim()){K("Please provide a reason for rejection");return}Z.mutate()},[L,Z,K]),$=cS[o]||cS.default;return S.jsxs($y,{className:"w-full max-w-sm relative shadow-md hover:shadow-lg transition-shadow duration-200",children:[S.jsx(Wy,{className:"pb-2",children:S.jsxs(Yy,{className:"flex items-center gap-2 text-lg",children:[S.jsx(F_,{className:"h-5 w-5 text-blue-500","aria-hidden":"true"}),S.jsx("span",{className:"truncate",title:n,children:n})]})}),S.jsx(Xy,{className:"pt-2",children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-lg mb-2 border border-gray-200",children:[k&&S.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:[S.jsx(Xu,{className:"h-6 w-6 animate-spin text-gray-500"}),S.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}),G?S.jsx(H0,{file:qa(r),onLoadSuccess:nt,onLoadError:ht,loading:null,children:S.jsx(G0,{pageNumber:1,width:300,renderTextLayer:!1,renderAnnotationLayer:!1,className:"w-full h-full object-cover"})}):S.jsx("img",{src:qa(r),alt:n,className:"w-full h-48 object-cover rounded-lg",onLoad:nt,onError:ht})]}),S.jsxs("div",{className:"space-y-1.5 text-sm text-gray-600",children:[S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",S.jsx("span",{className:"font-mono",children:s})]}),S.jsxs("p",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-medium",children:"Status:"}),S.jsxs("span",{className:Ne("flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium capitalize",$.bg,$.text),children:[S.jsx("span",{className:Ne("w-2 h-2 rounded-full",$.dot)}),o]})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Scanned At:"})," ",new Date(c).toLocaleString()]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[S.jsx(sn,{variant:"outline",className:"h-10",onClick:()=>I(!0),"aria-label":`Preview ${n}`,children:"Preview"}),S.jsxs(uh,{open:E,onOpenChange:T,children:[S.jsx(L0,{asChild:!0,children:S.jsxs(sn,{variant:"outline",className:"h-10","aria-label":`View details for ${n}`,children:[S.jsx(B_,{className:"h-4 w-4 mr-2"})," Info"]})}),S.jsxs(hh,{className:"sm:max-w-md",children:[S.jsx(dh,{children:S.jsx(fh,{className:"text-lg font-semibold",children:"Document Details"})}),S.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"General"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Document ID:"})," ",S.jsx("span",{className:"font-mono",children:e})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"File Name:"})," ",S.jsx("span",{className:"truncate",title:n,children:n})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",S.jsx("span",{className:"font-mono",children:s})]})]}),u&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Comments"}),S.jsx("p",{className:"text-gray-700",children:u})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Scanner Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:d})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",p?.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",p?.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${p?.email}`,className:"text-blue-600 hover:underline",children:p?.email||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Scanned At:"})," ",new Date(c).toLocaleString()]})]}),g&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Uploader Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:g.employeeId||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",g.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",g.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${g.email}`,className:"text-blue-600 hover:underline",children:g.email||"N/A"})]}),f&&S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Uploaded At:"})," ",new Date(f).toLocaleString()]})]}),x&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-800 border-b pb-1 mb-2",children:"Approver Details"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",S.jsx("span",{className:"font-mono",children:x.employeeId||"N/A"})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Name:"})," ",x.fullName||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Department:"})," ",x.department||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Email:"})," ",S.jsx("a",{href:`mailto:${x.email}`,className:"text-blue-600 hover:underline",children:x.email||"N/A"})]}),v&&S.jsxs("p",{children:[S.jsx("span",{className:"font-medium",children:"Reviewed At:"})," ",new Date(v).toLocaleString()]})]})]})]})]})]}),o==="submitted"&&S.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[S.jsx(sn,{onClick:J,disabled:U.isPending||Z.isPending,className:"h-10 bg-green-600 hover:bg-green-700 text-white","aria-label":`Approve ${n}`,children:U.isPending?S.jsxs(S.Fragment,{children:[S.jsx(Xu,{className:"h-4 w-4 animate-spin mr-2"}),"Approving..."]}):"Approve"}),S.jsx(sn,{onClick:()=>_(!0),disabled:U.isPending||Z.isPending,variant:"destructive",className:"h-10","aria-label":`Reject ${n}`,children:Z.isPending?S.jsxs(S.Fragment,{children:[S.jsx(Xu,{className:"h-4 w-4 animate-spin mr-2"}),"Rejecting..."]}):"Reject"})]})]})}),D&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:it,role:"dialog","aria-modal":"true","aria-label":`Preview ${n}`,children:S.jsxs("div",{className:"relative w-[90vw] md:w-[60vw] h-[90vh] overflow-auto bg-white rounded-lg shadow-xl",children:[S.jsx("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>I(!1),"aria-label":"Close preview",children:S.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),S.jsx(O3,{filePath:qa(r)})]})}),S.jsx(uh,{open:y,onOpenChange:_,children:S.jsxs(hh,{className:"sm:max-w-md",children:[S.jsx(dh,{children:S.jsxs(fh,{children:["Reject Document: ",n]})}),S.jsxs("div",{className:"py-4 space-y-2",children:[S.jsx(wy,{value:L,onChange:dt=>O(dt.target.value),placeholder:"Enter reason for rejection",className:"w-full","aria-label":"Reason for rejection"}),!L.trim()&&S.jsx("p",{className:"text-sm text-red-500",children:"Please provide a reason for rejection"})]}),S.jsxs(o8,{children:[S.jsx(sn,{variant:"ghost",onClick:()=>_(!1),disabled:Z.isPending,"aria-label":"Cancel rejection",children:"Cancel"}),S.jsx(sn,{onClick:pt,disabled:Z.isPending||!L.trim(),className:"bg-red-600 hover:bg-red-700 text-white","aria-label":"Submit rejection",children:Z.isPending?S.jsxs(S.Fragment,{children:[S.jsx(Xu,{className:"h-4 w-4 animate-spin mr-2"}),"Submitting..."]}):"Submit Rejection"})]})]})})]})}),uS=()=>{const[i,t]=M.useState(""),[e,n]=M.useState(1),r=9,{data:s,isLoading:o,error:c}=kp({queryKey:["approver-scanned-docs",i,e],queryFn:async()=>{const p={page:e,limit:r};return i?await $9({query:i,...p}):await U9(p)},keepPreviousData:!0}),u=M.useCallback(p=>{t(p.trim()),n(1)},[]),d=s?.data?.data?.data||[],f=s?.data?.data?.totalPages||1;return o?S.jsx("div",{children:"Loading..."}):c?S.jsx("div",{className:"text-center text-red-500",role:"alert",children:"Error loading documents"}):S.jsxs("div",{className:"w-full p-4",children:[S.jsx("h1",{className:"text-2xl font-bold mb-4 w-full",children:"Scanned Documents to Review"}),S.jsx(k3,{onSearch:u,placeholder:"Search documents..."}),S.jsx("div",{className:"flex w-full gap-4 flex-wrap justify-center mt-6",children:d.length>0?d.map(p=>S.jsx(W9,{document:p},p.id)):S.jsx("div",{children:"No documents found"})}),f>1&&S.jsx(j3,{className:"mt-6 flex justify-center",children:S.jsxs(I3,{children:[S.jsx(kd,{children:S.jsx(F3,{onClick:()=>n(p=>Math.max(p-1,1)),className:e===1?"pointer-events-none opacity-50":""})}),[...Array(f)].map((p,g)=>{const v=g+1;return S.jsx(kd,{children:S.jsx(X0,{onClick:()=>n(v),isActive:e===v,children:v})},v)}),S.jsx(kd,{children:S.jsx(B3,{onClick:()=>n(p=>Math.min(p+1,f)),className:e===f?"pointer-events-none opacity-50":""})})]})})]})},Y9=()=>{const{data:i,isPending:t,isError:e}=kp({queryKey:["approver-rejected-docs"],queryFn:q9});return S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Rejected Documents"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i?.data?.data?.data?.map(n=>S.jsx(N2,{document:n},n.id))})]})},X9=()=>{const{data:i,isPending:t,isError:e}=kp({queryKey:["approver-approved-docs"],queryFn:H9});return S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Approved Documents"}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i?.data?.data?.data?.map(n=>S.jsx(N2,{document:n},n.id))})]})},K9=()=>{const{state:i}=Hl(),t=M.useRef(null),[e,n]=M.useState("draft"),[r,s]=M.useState("submitted"),[o,c]=M.useState([]),[u,d]=M.useState(!1),[f,p]=M.useState(null);if(!i)return S.jsx("p",{children:"No document data provided."});const{id:g,fileName:v,filePath:x,uploadedAt:y}=i,_=M.useCallback(()=>{const D=t.current.getScreenshot();D&&(c(I=>[...I,D]),d(!1))},[]),E=D=>{const I=D.target.files[0];I&&p(I)},T=()=>{const D=new _e;return o.forEach((I,k)=>{k!==0&&D.addPage(),D.addImage(I,"JPEG",10,10,190,270)}),D.output("blob")},L=async(D,I)=>{const k=new FormData;k.append("id",g),k.append("file",D),k.append("status",I);try{await qn.post("/clerk/updateDoc",k),alert("Document updated successfully!"),c([]),p(null)}catch(j){console.error(j),alert("Failed to update document.")}},O=async D=>{if(o.length>0){const I=T(),k=new File([I],"rescanned-document.pdf",{type:"application/pdf"});await L(k,D)}else f?await L(f,D):alert("Please capture images or upload a file.")};return S.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[S.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Rescan or Resubmit Document"}),S.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Document ID: ",g]}),S.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Old File: ",v]}),S.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:E,className:`mb-4 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4\r
                   file:rounded-full file:border-0 file:text-sm file:font-semibold\r
                   file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`}),S.jsx("button",{onClick:()=>d(!0),className:"mb-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:"Open Camera"}),u&&S.jsxs("div",{className:"mb-4",children:[S.jsx(iC,{audio:!1,ref:t,screenshotFormat:"image/jpeg",className:"w-full rounded-md",videoConstraints:{facingMode:"environment"}}),S.jsx("button",{onClick:_,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Capture Image"})]}),o.length>0&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h2",{className:"text-lg font-medium mb-2",children:"Captured Images"}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map((D,I)=>S.jsxs("div",{className:"relative",children:[S.jsx("img",{src:D,alt:`Captured ${I}`,className:"w-full rounded shadow"}),S.jsx("button",{onClick:()=>{const k=[...o];k.splice(I,1),c(k)},className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded hover:bg-red-700",children:"Delete"})]},I))})]}),S.jsx("button",{onClick:()=>O("draft"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition mr-2",children:"Upload as Draft"}),S.jsx("button",{onClick:()=>O("submitted"),className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:"Upload as Submitted"})]})},Q9=()=>{const[i,t]=Yt.useState(null),e=({numPages:s})=>{console.log("Test PDF loaded successfully with",s,"pages"),t(s)},n=s=>{console.error("Test PDF load error:",s)};return S.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"PDF Test Component"}),S.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[S.jsx(H0,{file:"data:application/pdf;base64,JVBERi0xLjEKJcKlwrHDqwoKMSAwIG9iago8PAovVHlwZSAvQ2F0YWxvZwovUGFnZXMgMiAwIFIKPj4KZW5kb2JqCgoyIDAgb2JqCjw8Ci9UeXBlIC9QYWdlcwovS2lkcyBbMyAwIFJdCi9Db3VudCAxCj4+CmVuZG9iagoKMyAwIG9iago8PAovVHlwZSAvUGFnZQovUGFyZW50IDIgMCBSCi9SZXNvdXJjZXMgPDwKL0ZvbnQgPDwKL0YxIDQgMCBSCj4+Cj4+Ci9NZWRpYUJveCBbMCAwIDYxMiA3OTJdCi9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL1N1YnR5cGUgL1R5cGUxCi9CYXNlRm9udCAvSGVsdmV0aWNhCj4+CmVuZG9iagoKNSAwIG9iago8PAovTGVuZ3RoIDQ0Cj4+CnN0cmVhbQpCVAovRjEgMTIgVGYKNzIgNzIwIFRkCihUZXN0IFBERiBGaWxlKSBUagoKRVQKZW5kc3RyZWFtCmVuZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDA5IDAwMDAwIG4gCjAwMDAwMDAwNTggMDAwMDAgbiAKMDAwMDAwMDExNSAwMDAwMCBuIAowMDAwMDAwMjQ1IDAwMDAwIG4gCjAwMDAwMDAzMDcgMDAwMDAgbiAKdHJhaWxlcgo8PAovU2l6ZSA2Ci9Sb290IDEgMCBSCj4+CnN0YXJ0eHJlZgo0MDAKJSVFT0YK",onLoadSuccess:e,onLoadError:n,className:"flex flex-col items-center",children:Array.from(new Array(i||0),(s,o)=>S.jsx("div",{className:"mb-4",children:S.jsx(G0,{pageNumber:o+1,width:400,renderTextLayer:!1,renderAnnotationLayer:!1,className:"border rounded shadow"})},o))}),!i&&S.jsx("p",{className:"text-center text-gray-500",children:"Loading test PDF..."})]})]})},Z9=()=>S.jsxs(k6,{children:[S.jsx(Gj,{}),S.jsxs(d6,{children:[S.jsx(Hi,{path:"/",element:S.jsx(Wj,{})}),S.jsx(Hi,{path:"/login",element:S.jsx(cj,{})}),S.jsx(Hi,{path:"/register",element:S.jsx(hj,{})}),S.jsx(Hi,{path:"/admin",element:S.jsx(m8,{})}),S.jsx(Hi,{path:"/reset-password",element:S.jsx(fj,{})}),S.jsx(Hi,{path:"/reset-password/:token",element:S.jsx(mj,{})}),S.jsx(Hi,{path:"/profile",element:S.jsx(g8,{})}),S.jsx(Hi,{path:"/unauthorized",element:S.jsx(o7,{})}),S.jsxs(Hi,{path:"/scanner",element:S.jsx(a7,{}),children:[S.jsx(Hi,{index:!0,element:S.jsx(oS,{})}),S.jsx(Hi,{path:"scan",element:S.jsx(oS,{})}),S.jsx(Hi,{path:"docs",element:S.jsx(j9,{})})]}),S.jsx(Hi,{path:"/rescan",element:S.jsx(K9,{})}),S.jsxs(Hi,{path:"/approver",element:S.jsx(z9,{}),children:[S.jsx(Hi,{index:!0,element:S.jsx(uS,{})}),S.jsx(Hi,{path:"review",element:S.jsx(uS,{})}),S.jsx(Hi,{path:"approved",element:S.jsx(X9,{})}),S.jsx(Hi,{path:"rejected",element:S.jsx(Y9,{})})]}),S.jsx(Hi,{path:"/test",element:S.jsx(Q9,{})})]}),S.jsx(nP,{})]});Z4.createRoot(document.getElementById("root")).render(S.jsx(Yt.StrictMode,{children:S.jsx(yR,{client:yL,children:S.jsx(bL,{children:S.jsx(Z9,{})})})}));export{Mn as _,tz as c,Pp as g};
