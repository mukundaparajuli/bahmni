var Q5=i=>{throw TypeError(i)};var O1=(i,t,e)=>t.has(i)||Q5("Cannot "+e);var ti=(i,t,e)=>(O1(i,t,"read from private field"),e?e.call(i):t.get(i)),To=(i,t,e)=>t.has(i)?Q5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),us=(i,t,e,n)=>(O1(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),Mo=(i,t,e)=>(O1(i,t,"access private method"),e);var Z5=(i,t,e,n)=>({set _(r){us(i,t,r,e)},get _(){return ti(i,t,n)}});function D4(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var HF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var k1={exports:{}},Of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5;function j4(){if(J5)return Of;J5=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return Of.Fragment=t,Of.jsx=e,Of.jsxs=e,Of}var tw;function I4(){return tw||(tw=1,k1.exports=j4()),k1.exports}var R=I4(),D1={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function F4(){if(ew)return Ge;ew=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function E(Y,dt,D){this.props=Y,this.context=dt,this.refs=y,this.updater=D||b}E.prototype.isReactComponent={},E.prototype.setState=function(Y,dt){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,dt,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function S(){}S.prototype=E.prototype;function L(Y,dt,D){this.props=Y,this.context=dt,this.refs=y,this.updater=D||b}var T=L.prototype=new S;T.constructor=L,x(T,E.prototype),T.isPureReactComponent=!0;var O=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function j(Y,dt,D,G,Q,st){return D=st.ref,{$$typeof:i,type:Y,key:dt,ref:D!==void 0?D:null,props:st}}function I(Y,dt){return j(Y.type,dt,void 0,void 0,void 0,Y.props)}function tt(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function ct(Y){var dt={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(D){return dt[D]})}var z=/\/+/g;function V(Y,dt){return typeof Y=="object"&&Y!==null&&Y.key!=null?ct(""+Y.key):dt.toString(36)}function rt(){}function nt(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(rt,rt):(Y.status="pending",Y.then(function(dt){Y.status==="pending"&&(Y.status="fulfilled",Y.value=dt)},function(dt){Y.status==="pending"&&(Y.status="rejected",Y.reason=dt)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ut(Y,dt,D,G,Q){var st=typeof Y;(st==="undefined"||st==="boolean")&&(Y=null);var at=!1;if(Y===null)at=!0;else switch(st){case"bigint":case"string":case"number":at=!0;break;case"object":switch(Y.$$typeof){case i:case t:at=!0;break;case f:return at=Y._init,ut(at(Y._payload),dt,D,G,Q)}}if(at)return Q=Q(Y),at=G===""?"."+V(Y,0):G,O(Q)?(D="",at!=null&&(D=at.replace(z,"$&/")+"/"),ut(Q,dt,D,"",function(St){return St})):Q!=null&&(tt(Q)&&(Q=I(Q,D+(Q.key==null||Y&&Y.key===Q.key?"":(""+Q.key).replace(z,"$&/")+"/")+at)),dt.push(Q)),1;at=0;var ft=G===""?".":G+":";if(O(Y))for(var wt=0;wt<Y.length;wt++)G=Y[wt],st=ft+V(G,wt),at+=ut(G,dt,D,st,Q);else if(wt=m(Y),typeof wt=="function")for(Y=wt.call(Y),wt=0;!(G=Y.next()).done;)G=G.value,st=ft+V(G,wt++),at+=ut(G,dt,D,st,Q);else if(st==="object"){if(typeof Y.then=="function")return ut(nt(Y),dt,D,G,Q);throw dt=String(Y),Error("Objects are not valid as a React child (found: "+(dt==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":dt)+"). If you meant to render a collection of children, use an array instead.")}return at}function H(Y,dt,D){if(Y==null)return Y;var G=[],Q=0;return ut(Y,G,"","",function(st){return dt.call(D,st,Q++)}),G}function et(Y){if(Y._status===-1){var dt=Y._result;dt=dt(),dt.then(function(D){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=D)},function(D){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=D)}),Y._status===-1&&(Y._status=0,Y._result=dt)}if(Y._status===1)return Y._result.default;throw Y._result}var Z=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var dt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(dt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function gt(){}return Ge.Children={map:H,forEach:function(Y,dt,D){H(Y,function(){dt.apply(this,arguments)},D)},count:function(Y){var dt=0;return H(Y,function(){dt++}),dt},toArray:function(Y){return H(Y,function(dt){return dt})||[]},only:function(Y){if(!tt(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ge.Component=E,Ge.Fragment=e,Ge.Profiler=r,Ge.PureComponent=L,Ge.StrictMode=n,Ge.Suspense=u,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return P.H.useMemoCache(Y)}},Ge.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ge.cloneElement=function(Y,dt,D){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var G=x({},Y.props),Q=Y.key,st=void 0;if(dt!=null)for(at in dt.ref!==void 0&&(st=void 0),dt.key!==void 0&&(Q=""+dt.key),dt)!B.call(dt,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&dt.ref===void 0||(G[at]=dt[at]);var at=arguments.length-2;if(at===1)G.children=D;else if(1<at){for(var ft=Array(at),wt=0;wt<at;wt++)ft[wt]=arguments[wt+2];G.children=ft}return j(Y.type,Q,void 0,void 0,st,G)},Ge.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Ge.createElement=function(Y,dt,D){var G,Q={},st=null;if(dt!=null)for(G in dt.key!==void 0&&(st=""+dt.key),dt)B.call(dt,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Q[G]=dt[G]);var at=arguments.length-2;if(at===1)Q.children=D;else if(1<at){for(var ft=Array(at),wt=0;wt<at;wt++)ft[wt]=arguments[wt+2];Q.children=ft}if(Y&&Y.defaultProps)for(G in at=Y.defaultProps,at)Q[G]===void 0&&(Q[G]=at[G]);return j(Y,st,void 0,void 0,null,Q)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(Y){return{$$typeof:c,render:Y}},Ge.isValidElement=tt,Ge.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:et}},Ge.memo=function(Y,dt){return{$$typeof:d,type:Y,compare:dt===void 0?null:dt}},Ge.startTransition=function(Y){var dt=P.T,D={};P.T=D;try{var G=Y(),Q=P.S;Q!==null&&Q(D,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(gt,Z)}catch(st){Z(st)}finally{P.T=dt}},Ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ge.use=function(Y){return P.H.use(Y)},Ge.useActionState=function(Y,dt,D){return P.H.useActionState(Y,dt,D)},Ge.useCallback=function(Y,dt){return P.H.useCallback(Y,dt)},Ge.useContext=function(Y){return P.H.useContext(Y)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(Y,dt){return P.H.useDeferredValue(Y,dt)},Ge.useEffect=function(Y,dt,D){var G=P.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(Y,dt)},Ge.useId=function(){return P.H.useId()},Ge.useImperativeHandle=function(Y,dt,D){return P.H.useImperativeHandle(Y,dt,D)},Ge.useInsertionEffect=function(Y,dt){return P.H.useInsertionEffect(Y,dt)},Ge.useLayoutEffect=function(Y,dt){return P.H.useLayoutEffect(Y,dt)},Ge.useMemo=function(Y,dt){return P.H.useMemo(Y,dt)},Ge.useOptimistic=function(Y,dt){return P.H.useOptimistic(Y,dt)},Ge.useReducer=function(Y,dt,D){return P.H.useReducer(Y,dt,D)},Ge.useRef=function(Y){return P.H.useRef(Y)},Ge.useState=function(Y){return P.H.useState(Y)},Ge.useSyncExternalStore=function(Y,dt,D){return P.H.useSyncExternalStore(Y,dt,D)},Ge.useTransition=function(){return P.H.useTransition()},Ge.version="19.1.0",Ge}var nw;function vp(){return nw||(nw=1,D1.exports=F4()),D1.exports}var k=vp();const Kt=mp(k),jA=D4({__proto__:null,default:Kt},[k]);var j1={exports:{}},kf={},I1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function B4(){return iw||(iw=1,function(i){function t(H,et){var Z=H.length;H.push(et);t:for(;0<Z;){var gt=Z-1>>>1,Y=H[gt];if(0<r(Y,et))H[gt]=et,H[Z]=Y,Z=gt;else break t}}function e(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var et=H[0],Z=H.pop();if(Z!==et){H[0]=Z;t:for(var gt=0,Y=H.length,dt=Y>>>1;gt<dt;){var D=2*(gt+1)-1,G=H[D],Q=D+1,st=H[Q];if(0>r(G,Z))Q<Y&&0>r(st,G)?(H[gt]=st,H[Q]=Z,gt=Q):(H[gt]=G,H[D]=Z,gt=D);else if(Q<Y&&0>r(st,Z))H[gt]=st,H[Q]=Z,gt=Q;else break t}}return et}function r(H,et){var Z=H.sortIndex-et.sortIndex;return Z!==0?Z:H.id-et.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,m=3,b=!1,x=!1,y=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var et=e(d);et!==null;){if(et.callback===null)n(d);else if(et.startTime<=H)n(d),et.sortIndex=et.expirationTime,t(u,et);else break;et=e(d)}}function P(H){if(y=!1,O(H),!x)if(e(u)!==null)x=!0,B||(B=!0,V());else{var et=e(d);et!==null&&ut(P,et.startTime-H)}}var B=!1,j=-1,I=5,tt=-1;function ct(){return E?!0:!(i.unstable_now()-tt<I)}function z(){if(E=!1,B){var H=i.unstable_now();tt=H;var et=!0;try{t:{x=!1,y&&(y=!1,L(j),j=-1),b=!0;var Z=m;try{e:{for(O(H),p=e(u);p!==null&&!(p.expirationTime>H&&ct());){var gt=p.callback;if(typeof gt=="function"){p.callback=null,m=p.priorityLevel;var Y=gt(p.expirationTime<=H);if(H=i.unstable_now(),typeof Y=="function"){p.callback=Y,O(H),et=!0;break e}p===e(u)&&n(u),O(H)}else n(u);p=e(u)}if(p!==null)et=!0;else{var dt=e(d);dt!==null&&ut(P,dt.startTime-H),et=!1}}break t}finally{p=null,m=Z,b=!1}et=void 0}}finally{et?V():B=!1}}}var V;if(typeof T=="function")V=function(){T(z)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,nt=rt.port2;rt.port1.onmessage=z,V=function(){nt.postMessage(null)}}else V=function(){S(z,0)};function ut(H,et){j=S(function(){H(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function(H){switch(m){case 1:case 2:case 3:var et=3;break;default:et=m}var Z=m;m=et;try{return H()}finally{m=Z}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=m;m=H;try{return et()}finally{m=Z}},i.unstable_scheduleCallback=function(H,et,Z){var gt=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?gt+Z:gt):Z=gt,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Z+Y,H={id:f++,callback:et,priorityLevel:H,startTime:Z,expirationTime:Y,sortIndex:-1},Z>gt?(H.sortIndex=Z,t(d,H),e(u)===null&&H===e(d)&&(y?(L(j),j=-1):y=!0,ut(P,Z-gt))):(H.sortIndex=Y,t(u,H),x||b||(x=!0,B||(B=!0,V()))),H},i.unstable_shouldYield=ct,i.unstable_wrapCallback=function(H){var et=m;return function(){var Z=m;m=et;try{return H.apply(this,arguments)}finally{m=Z}}}}(F1)),F1}var rw;function z4(){return rw||(rw=1,I1.exports=B4()),I1.exports}var B1={exports:{}},Pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function U4(){if(sw)return Pr;sw=1;var i=vp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},Pr.flushSync=function(u){var d=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=d,n.p=f,n.d.f()}},Pr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Pr.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Pr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=c(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:b}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Pr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=c(f,d.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=c(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Pr.requestFormReset=function(u){n.d.r(u)},Pr.unstable_batchedUpdates=function(u,d){return u(d)},Pr.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},Pr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pr.version="19.1.0",Pr}var aw;function IA(){if(aw)return B1.exports;aw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),B1.exports=U4(),B1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function q4(){if(ow)return kf;ow=1;var i=z4(),t=vp(),e=IA();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var w=h.return;if(w===null)break;var _=w.alternate;if(_===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===h)return c(w),a;if(_===g)return c(w),l;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=w,g=_;else{for(var F=!1,K=w.child;K;){if(K===h){F=!0,h=w,g=_;break}if(K===g){F=!0,g=w,h=_;break}K=K.sibling}if(!F){for(K=_.child;K;){if(K===h){F=!0,h=_,g=w;break}if(K===g){F=!0,g=_,h=w;break}K=K.sibling}if(!F)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var rt=Symbol.for("react.client.reference");function nt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===rt?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case B:return"SuspenseList";case tt:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case T:return(a.displayName||"Context")+".Provider";case L:return(a._context.displayName||"Context")+".Consumer";case O:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return l=a.displayName||null,l!==null?l:nt(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return nt(a(l))}catch{}}return null}var ut=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},gt=[],Y=-1;function dt(a){return{current:a}}function D(a){0>Y||(a.current=gt[Y],gt[Y]=null,Y--)}function G(a,l){Y++,gt[Y]=a.current,a.current=l}var Q=dt(null),st=dt(null),at=dt(null),ft=dt(null);function wt(a,l){switch(G(at,l),G(st,a),G(Q,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?_5(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=_5(l),a=C5(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(Q),G(Q,a)}function St(){D(Q),D(st),D(at)}function Dt(a){a.memoizedState!==null&&G(ft,a);var l=Q.current,h=C5(l,a.type);l!==h&&(G(st,a),G(Q,h))}function Ut(a){st.current===a&&(D(Q),D(st)),ft.current===a&&(D(ft),Rf._currentValue=Z)}var Wt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Tt=i.unstable_shouldYield,ot=i.unstable_requestPaint,le=i.unstable_now,se=i.unstable_getCurrentPriorityLevel,Ht=i.unstable_ImmediatePriority,Qt=i.unstable_UserBlockingPriority,Jt=i.unstable_NormalPriority,Yt=i.unstable_LowPriority,ce=i.unstable_IdlePriority,_e=i.log,ke=i.unstable_setDisableYieldValue,Se=null,be=null;function Ie(a){if(typeof _e=="function"&&ke(a),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Se,a)}catch{}}var oe=Math.clz32?Math.clz32:Vn,Ce=Math.log,ne=Math.LN2;function Vn(a){return a>>>=0,a===0?32:31-(Ce(a)/ne|0)|0}var $e=256,Ki=4194304;function Ke(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mn(a,l,h){var g=a.pendingLanes;if(g===0)return 0;var w=0,_=a.suspendedLanes,F=a.pingedLanes;a=a.warmLanes;var K=g&134217727;return K!==0?(g=K&~_,g!==0?w=Ke(g):(F&=K,F!==0?w=Ke(F):h||(h=K&~a,h!==0&&(w=Ke(h))))):(K=g&~_,K!==0?w=Ke(K):F!==0?w=Ke(F):h||(h=g&~a,h!==0&&(w=Ke(h)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:w}function Qi(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function rn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(){var a=$e;return $e<<=1,($e&4194048)===0&&($e=256),a}function Dn(){var a=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),a}function pr(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function Zi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function jn(a,l,h,g,w,_){var F=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var K=a.entanglements,ht=a.expirationTimes,Rt=a.hiddenUpdates;for(h=F&~h;0<h;){var It=31-oe(h),Gt=1<<It;K[It]=0,ht[It]=-1;var Lt=Rt[It];if(Lt!==null)for(Rt[It]=null,It=0;It<Lt.length;It++){var Mt=Lt[It];Mt!==null&&(Mt.lane&=-536870913)}h&=~Gt}g!==0&&Xt(a,g,0),_!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=_&~(F&~l))}function Xt(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-oe(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|h&4194090}function xe(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-oe(h),w=1<<g;w&l|a[g]&l&&(a[g]|=l),h&=~w}}function Tn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ln(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ji(){var a=et.p;return a!==0?a:(a=window.event,a===void 0?32:V5(a.type))}function An(a,l){var h=et.p;try{return et.p=a,l()}finally{et.p=h}}var ae=Math.random().toString(36).slice(2),fn="__reactFiber$"+ae,Ze="__reactProps$"+ae,pn="__reactContainer$"+ae,Un="__reactEvents$"+ae,Sn="__reactListeners$"+ae,Sr="__reactHandles$"+ae,Jo="__reactResources$"+ae,qr="__reactMarker$"+ae;function Hr(a){delete a[fn],delete a[Ze],delete a[Un],delete a[Sn],delete a[Sr]}function tr(a){var l=a[fn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[pn]||h[fn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=T5(a);a!==null;){if(h=a[fn])return h;a=T5(a)}return l}a=h,h=a.parentNode}return null}function er(a){if(a=a[fn]||a[pn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Er(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Gi(a){var l=a[Jo];return l||(l=a[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(a){a[qr]=!0}var Ka=new Set,tl={};function ts(a,l){ys(a,l),ys(a+"Capture",l)}function ys(a,l){for(tl[a]=l,a=0;a<l.length;a++)Ka.add(l[a])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},ch={};function qd(a){return Wt.call(ch,a)?!0:Wt.call(Qc,a)?!1:Ul.test(a)?ch[a]=!0:(Qc[a]=!0,!1)}function ca(a,l,h){if(qd(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function el(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function ws(a,l,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+g)}}var nl,uh;function ua(a){if(nl===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);nl=l&&l[1]||"",uh=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+a+uh}var Zc=!1;function Qa(a,l){if(!a||Zc)return"";Zc=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Mt){var Lt=Mt}Reflect.construct(a,[],Gt)}else{try{Gt.call()}catch(Mt){Lt=Mt}a.call(Gt.prototype)}}else{try{throw Error()}catch(Mt){Lt=Mt}(Gt=a())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Mt){if(Mt&&Lt&&typeof Mt.stack=="string")return[Mt.stack,Lt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),F=_[0],K=_[1];if(F&&K){var ht=F.split(`
`),Rt=K.split(`
`);for(w=g=0;g<ht.length&&!ht[g].includes("DetermineComponentFrameRoot");)g++;for(;w<Rt.length&&!Rt[w].includes("DetermineComponentFrameRoot");)w++;if(g===ht.length||w===Rt.length)for(g=ht.length-1,w=Rt.length-1;1<=g&&0<=w&&ht[g]!==Rt[w];)w--;for(;1<=g&&0<=w;g--,w--)if(ht[g]!==Rt[w]){if(g!==1||w!==1)do if(g--,w--,0>w||ht[g]!==Rt[w]){var It=`
`+ht[g].replace(" at new "," at ");return a.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",a.displayName)),It}while(1<=g&&0<=w);break}}}finally{Zc=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ua(h):""}function Hd(a){switch(a.tag){case 26:case 27:case 5:return ua(a.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return Qa(a.type,!1);case 11:return Qa(a.type.render,!1);case 1:return Qa(a.type,!0);case 31:return ua("Activity");default:return""}}function Xn(a){try{var l="";do l+=Hd(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Jc(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hh(a){var l=Jc(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,_=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(F){g=""+F,_.call(this,F)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(F){g=""+F},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Za(a){a._valueTracker||(a._valueTracker=hh(a))}function dh(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=Jc(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function _r(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ql=/[\n"\\]/g;function In(a){return a.replace(ql,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function il(a,l,h,g,w,_,F,K){a.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.type=F:a.removeAttribute("type"),l!=null?F==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+gr(l)):a.value!==""+gr(l)&&(a.value=""+gr(l)):F!=="submit"&&F!=="reset"||a.removeAttribute("value"),l!=null?eu(a,F,gr(l)):h!=null?eu(a,F,gr(h)):g!=null&&a.removeAttribute("value"),w==null&&_!=null&&(a.defaultChecked=!!_),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?a.name=""+gr(K):a.removeAttribute("name")}function tu(a,l,h,g,w,_,F,K){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;h=h!=null?""+gr(h):"",l=l!=null?""+gr(l):h,K||l===a.value||(a.value=l),a.defaultValue=l}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=K?a.checked:!!g,a.defaultChecked=!!g,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.name=F)}function eu(a,l,h){l==="number"&&_r(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ha(a,l,h,g){if(a=a.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=l.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&g&&(a[h].defaultSelected=!0)}else{for(h=""+gr(h),l=null,w=0;w<a.length;w++){if(a[w].value===h){a[w].selected=!0,g&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function fh(a,l,h){if(l!=null&&(l=""+gr(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+gr(h):""}function nu(a,l,h,g){if(l==null){if(g!=null){if(h!=null)throw Error(n(92));if(ut(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),l=h}h=gr(l),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g)}function Ja(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(a,l,h){var g=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,h):typeof h!="number"||h===0||iu.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function gh(a,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var w in l)g=l[w],l.hasOwnProperty(w)&&h[w]!==g&&ph(a,w,g)}else for(var _ in l)l.hasOwnProperty(_)&&ph(a,_,l[_])}function ru(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(a){return Hl.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Gl=null;function ki(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var to=null,pa=null;function Pe(a){var l=er(a);if(l&&(a=l.stateNode)){var h=a[Ze]||null;t:switch(a=l.stateNode,l.type){case"input":if(il(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+In(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var w=g[Ze]||null;if(!w)throw Error(n(90));il(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<h.length;l++)g=h[l],g.form===a.form&&dh(g)}break t;case"textarea":fh(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&ha(a,!!h.multiple,l,!1)}}}var su=!1;function mh(a,l,h){if(su)return a(l,h);su=!0;try{var g=a(l);return g}finally{if(su=!1,(to!==null||pa!==null)&&(vg(),to&&(l=to,a=pa,pa=to=null,Pe(l),a)))for(l=0;l<a.length;l++)Pe(a[l])}}function Cr(a,l){var h=a.stateNode;if(h===null)return null;var g=h[Ze]||null;if(g===null)return null;h=g[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(es)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Vl=!1}var ns=null,au=null,$l=null;function vh(){if($l)return $l;var a,l=au,h=l.length,g,w="value"in ns?ns.value:ns.textContent,_=w.length;for(a=0;a<h&&l[a]===w[a];a++);var F=h-a;for(g=1;g<=F&&l[h-g]===w[_-g];g++);return $l=w.slice(a,1<g?1-g:void 0)}function eo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Hs(){return!0}function ga(){return!1}function nr(a){function l(h,g,w,_,F){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=_,this.target=F,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(_):_[K]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Hs:ga,this.isPropagationStopped=ga,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),l}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=nr(Gr),Gs=f({},Gr,{view:0,detail:0}),bh=nr(Gs),Wl,Yl,io,Vr=f({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==io&&(io&&a.type==="mousemove"?(Wl=a.screenX-io.screenX,Yl=a.screenY-io.screenY):Yl=Wl=0,io=a),Wl)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),Vs=nr(Vr),Gd=f({},Vr,{dataTransfer:0}),ro=nr(Gd),xs=f({},Gs,{relatedTarget:0}),rl=nr(xs),sl=f({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vd=nr(sl),Xl=f({},Gr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$d=nr(Xl),ou=f({},Gr,{data:0}),Kl=nr(ou),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=lu[a])?!!l[a]:!1}function Zl(){return cu}var Wd=f({},Gs,{key:function(a){if(a.key){var l=yh[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=eo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ql[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(a){return a.type==="keypress"?eo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?eo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Jl=nr(Wd),al=f({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=nr(al),so=f({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),uu=nr(so),C=f({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=nr(C),lt=f({},Vr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pt=nr(lt),Et=f({},Gr,{newState:0,oldState:0}),kt=nr(Et),$t=[9,13,27,32],ie=es&&"CompositionEvent"in window,ge=null;es&&"documentMode"in document&&(ge=document.documentMode);var Fe=es&&"TextEvent"in window&&!ge,De=es&&(!ie||ge&&8<ge&&11>=ge),Je=" ",qn=!1;function $n(a,l){switch(a){case"keyup":return $t.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ai=!1;function Di(a,l){switch(a){case"compositionend":return si(l);case"keypress":return l.which!==32?null:(qn=!0,Je);case"textInput":return a=l.data,a===Je&&qn?null:a;default:return null}}function As(a,l){if(ai)return a==="compositionend"||!ie&&$n(a,l)?(a=vh(),$l=au=ns=null,ai=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return De&&l.locale!=="ko"?null:l.data;default:return null}}var $r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ss(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!$r[a.type]:l==="textarea"}function hu(a,l,h,g){to?pa?pa.push(g):pa=[g]:to=g,l=Sg(l,"onChange"),0<l.length&&(h=new no("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var ma=null,va=null;function ec(a){w5(a,0)}function ao(a){var l=Er(a);if(dh(l))return a}function nc(a,l){if(a==="change")return l}var ol=!1;if(es){var yi;if(es){var oo="oninput"in document;if(!oo){var ll=document.createElement("div");ll.setAttribute("oninput","return;"),oo=typeof ll.oninput=="function"}yi=oo}else yi=!1;ol=yi&&(!document.documentMode||9<document.documentMode)}function cl(){ma&&(ma.detachEvent("onpropertychange",ic),va=ma=null)}function ic(a){if(a.propertyName==="value"&&ao(va)){var l=[];hu(l,va,a,ki(a)),mh(ec,l)}}function Nr(a,l,h){a==="focusin"?(cl(),ma=l,va=h,ma.attachEvent("onpropertychange",ic)):a==="focusout"&&cl()}function Yd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ao(va)}function du(a,l){if(a==="click")return ao(l)}function wh(a,l){if(a==="input"||a==="change")return ao(l)}function is(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ji=typeof Object.is=="function"?Object.is:is;function lo(a,l){if(ji(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!Wt.call(l,w)||!ji(a[w],l[w]))return!1}return!0}function fu(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ba(a,l){var h=fu(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=fu(h)}}function co(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?co(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function mr(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=_r(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=_r(a.document)}return l}function Vi(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var uo=es&&"documentMode"in document&&11>=document.documentMode,Rr=null,Es=null,$s=null,_s=!1;function Kn(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;_s||Rr==null||Rr!==_r(g)||(g=Rr,"selectionStart"in g&&Vi(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$s&&lo($s,g)||($s=g,g=Sg(Es,"onSelect"),0<g.length&&(l=new no("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=Rr)))}function Cs(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var pi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Lr={},ul={};es&&(ul=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Ws(a){if(Lr[a])return Lr[a];if(!pi[a])return a;var l=pi[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in ul)return Lr[a]=l[h];return a}var rc=Ws("animationend"),ho=Ws("animationiteration"),fo=Ws("animationstart"),po=Ws("transitionrun"),hl=Ws("transitionstart"),sc=Ws("transitioncancel"),go=Ws("transitionend"),ya=new Map,dl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dl.push("scrollEnd");function Qn(a,l){ya.set(a,l),ts(l,[a])}var Wr=new WeakMap;function We(a,l){if(typeof a=="object"&&a!==null){var h=Wr.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Xn(l)},Wr.set(a,l),l)}return{value:a,source:l,stack:Xn(l)}}var Ye=[],Mn=0,oi=0;function rs(){for(var a=Mn,l=oi=Mn=0;l<a;){var h=Ye[l];Ye[l++]=null;var g=Ye[l];Ye[l++]=null;var w=Ye[l];Ye[l++]=null;var _=Ye[l];if(Ye[l++]=null,g!==null&&w!==null){var F=g.pending;F===null?w.next=w:(w.next=F.next,F.next=w),g.pending=w}_!==0&&xh(h,w,_)}}function mo(a,l,h,g){Ye[Mn++]=a,Ye[Mn++]=l,Ye[Mn++]=h,Ye[Mn++]=g,oi|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function vo(a,l,h,g){return mo(a,l,h,g),fl(a)}function wa(a,l){return mo(a,null,null,l),fl(a)}function xh(a,l,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var w=!1,_=a.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(w=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,w&&l!==null&&(w=31-oe(h),a=_.hiddenUpdates,g=a[w],g===null?a[w]=[l]:g.push(l),l.lane=h|536870912),_):null}function fl(a){if(50<wf)throw wf=0,i1=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ii={};function ss(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(a,l,h,g){return new ss(a,l,h,g)}function ac(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ys(a,l){var h=a.alternate;return h===null?(h=ir(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function pu(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function pl(a,l,h,g,w,_){var F=0;if(g=a,typeof a=="function")ac(a)&&(F=1);else if(typeof a=="string")F=A4(a,h,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case tt:return a=ir(31,h,l,w),a.elementType=tt,a.lanes=_,a;case x:return xa(h.children,w,_,l);case y:F=8,w|=24;break;case E:return a=ir(12,h,l,w|2),a.elementType=E,a.lanes=_,a;case P:return a=ir(13,h,l,w),a.elementType=P,a.lanes=_,a;case B:return a=ir(19,h,l,w),a.elementType=B,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case T:F=10;break t;case L:F=9;break t;case O:F=11;break t;case j:F=14;break t;case I:F=16,g=null;break t}F=29,h=Error(n(130,a===null?"null":typeof a,"")),g=null}return l=ir(F,h,l,w),l.elementType=a,l.type=g,l.lanes=_,l}function xa(a,l,h,g){return a=ir(7,a,g,l),a.lanes=h,a}function Ah(a,l,h){return a=ir(6,a,null,l),a.lanes=h,a}function gu(a,l,h){return l=ir(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var bo=[],Aa=0,oc=null,Sh=0,as=[],Yr=0,gl=null,Sa=1,Ea="";function ml(a,l){bo[Aa++]=Sh,bo[Aa++]=oc,oc=a,Sh=l}function Up(a,l,h){as[Yr++]=Sa,as[Yr++]=Ea,as[Yr++]=gl,gl=a;var g=Sa;a=Ea;var w=32-oe(g)-1;g&=~(1<<w),h+=1;var _=32-oe(l)+w;if(30<_){var F=w-w%5;_=(g&(1<<F)-1).toString(32),g>>=F,w-=F,Sa=1<<32-oe(l)+w|h<<w|g,Ea=_+a}else Sa=1<<_|h<<w|g,Ea=a}function mu(a){a.return!==null&&(ml(a,1),Up(a,1,0))}function vu(a){for(;a===oc;)oc=bo[--Aa],bo[Aa]=null,Sh=bo[--Aa],bo[Aa]=null;for(;a===gl;)gl=as[--Yr],as[Yr]=null,Ea=as[--Yr],as[Yr]=null,Sa=as[--Yr],as[Yr]=null}var wi=null,Zn=null,gn=!1,yo=null,Xs=!1,Xd=Error(n(519));function vl(a){var l=Error(n(418,""));throw lc(We(l,a)),Xd}function qp(a){var l=a.stateNode,h=a.type,g=a.memoizedProps;switch(l[fn]=a,l[Ze]=g,h){case"dialog":en("cancel",l),en("close",l);break;case"iframe":case"object":case"embed":en("load",l);break;case"video":case"audio":for(h=0;h<Af.length;h++)en(Af[h],l);break;case"source":en("error",l);break;case"img":case"image":case"link":en("error",l),en("load",l);break;case"details":en("toggle",l);break;case"input":en("invalid",l),tu(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Za(l);break;case"select":en("invalid",l);break;case"textarea":en("invalid",l),nu(l,g.value,g.defaultValue,g.children),Za(l)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||g.suppressHydrationWarning===!0||E5(l.textContent,h)?(g.popover!=null&&(en("beforetoggle",l),en("toggle",l)),g.onScroll!=null&&en("scroll",l),g.onScrollEnd!=null&&en("scrollend",l),g.onClick!=null&&(l.onclick=Eg),l=!0):l=!1,l||vl(a)}function _a(a){for(wi=a.return;wi;)switch(wi.tag){case 5:case 13:Xs=!1;return;case 27:case 3:Xs=!0;return;default:wi=wi.return}}function vr(a){if(a!==wi)return!1;if(!gn)return _a(a),gn=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||y1(a.type,a.memoizedProps)),h=!h),h&&Zn&&vl(a),_a(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){Zn=Oa(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}Zn=null}}else l===27?(l=Zn,_c(a.type)?(a=S1,S1=null,Zn=a):Zn=l):Zn=wi?Oa(a.stateNode.nextSibling):null;return!0}function Xr(){Zn=wi=null,gn=!1}function Hp(){var a=yo;return a!==null&&(cs===null?cs=a:cs.push.apply(cs,a),yo=null),a}function lc(a){yo===null?yo=[a]:yo.push(a)}var Ks=dt(null),Fi=null,Ca=null;function wo(a,l,h){G(Ks,l._currentValue),l._currentValue=h}function Qs(a){a._currentValue=Ks.current,D(Ks)}function Eh(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function _h(a,l,h,g){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var _=w.dependencies;if(_!==null){var F=w.child;_=_.firstContext;t:for(;_!==null;){var K=_;_=w;for(var ht=0;ht<l.length;ht++)if(K.context===l[ht]){_.lanes|=h,K=_.alternate,K!==null&&(K.lanes|=h),Eh(_.return,h,a),g||(F=null);break t}_=K.next}}else if(w.tag===18){if(F=w.return,F===null)throw Error(n(341));F.lanes|=h,_=F.alternate,_!==null&&(_.lanes|=h),Eh(F,h,a),F=null}else F=w.child;if(F!==null)F.return=w;else for(F=w;F!==null;){if(F===a){F=null;break}if(w=F.sibling,w!==null){w.return=F.return,F=w;break}F=F.return}w=F}}function cc(a,l,h,g){a=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var F=w.alternate;if(F===null)throw Error(n(387));if(F=F.memoizedProps,F!==null){var K=w.type;ji(w.pendingProps.value,F.value)||(a!==null?a.push(K):a=[K])}}else if(w===ft.current){if(F=w.alternate,F===null)throw Error(n(387));F.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Rf):a=[Rf])}w=w.return}a!==null&&_h(l,a,h,g),l.flags|=262144}function Ch(a){for(a=a.firstContext;a!==null;){if(!ji(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zs(a){Fi=a,Ca=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xi(a){return Nh(Fi,a)}function xo(a,l){return Fi===null&&Zs(a),Nh(a,l)}function Nh(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ca===null){if(a===null)throw Error(n(308));Ca=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ca=Ca.next=l;return h}var R0=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},Gp=i.unstable_scheduleCallback,L0=i.unstable_NormalPriority,Ai={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new R0,data:new Map,refCount:0}}function bu(a){a.refCount--,a.refCount===0&&Gp(L0,function(){a.controller.abort()})}var yu=null,Qd=0,bl=0,Na=null;function T0(a,l){if(yu===null){var h=yu=[];Qd=0,bl=u1(),Na={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Qd++,l.then(Vp,Vp),l}function Vp(){if(--Qd===0&&yu!==null){Na!==null&&(Na.status="fulfilled");var a=yu;yu=null,bl=0,Na=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function $p(a,l){var h=[],g={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var w=0;w<h.length;w++)(0,h[w])(l)},function(w){for(g.status="rejected",g.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),g}var v=H.S;H.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&T0(a,l),v!==null&&v(a,l)};var A=dt(null);function N(){var a=A.current;return a!==null?a:Gn.pooledCache}function M(a,l){l===null?G(A,A.current):G(A,l.pool)}function U(){var a=N();return a===null?null:{parent:Ai._currentValue,pool:a}}var $=Error(n(460)),W=Error(n(474)),X=Error(n(542)),J={then:function(){}};function it(a){return a=a.status,a==="fulfilled"||a==="rejected"}function mt(){}function Nt(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(mt,mt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zt(a),a;default:if(typeof l.status=="string")l.then(mt,mt);else{if(a=Gn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=g}},function(g){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zt(a),a}throw _t=l,$}}var _t=null;function xt(){if(_t===null)throw Error(n(459));var a=_t;return _t=null,a}function zt(a){if(a===$||a===X)throw Error(n(483))}var Pt=!1;function vt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qt(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Nn&2)!==0){var w=g.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l,l=fl(a),xh(a,null,h),l}return mo(a,g,l,h),fl(a)}function Ft(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,xe(a,h)}}function re(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var F={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?w=_=F:_=_.next=F,h=h.next}while(h!==null);_===null?w=_=l:_=_.next=l}else w=_=l;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var te=!1;function me(){if(te){var a=Na;if(a!==null)throw a}}function ee(a,l,h,g){te=!1;var w=a.updateQueue;Pt=!1;var _=w.firstBaseUpdate,F=w.lastBaseUpdate,K=w.shared.pending;if(K!==null){w.shared.pending=null;var ht=K,Rt=ht.next;ht.next=null,F===null?_=Rt:F.next=Rt,F=ht;var It=a.alternate;It!==null&&(It=It.updateQueue,K=It.lastBaseUpdate,K!==F&&(K===null?It.firstBaseUpdate=Rt:K.next=Rt,It.lastBaseUpdate=ht))}if(_!==null){var Gt=w.baseState;F=0,It=Rt=ht=null,K=_;do{var Lt=K.lane&-536870913,Mt=Lt!==K.lane;if(Mt?(dn&Lt)===Lt:(g&Lt)===Lt){Lt!==0&&Lt===bl&&(te=!0),It!==null&&(It=It.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});t:{var Oe=a,Ee=K;Lt=l;var On=h;switch(Ee.tag){case 1:if(Oe=Ee.payload,typeof Oe=="function"){Gt=Oe.call(On,Gt,Lt);break t}Gt=Oe;break t;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ee.payload,Lt=typeof Oe=="function"?Oe.call(On,Gt,Lt):Oe,Lt==null)break t;Gt=f({},Gt,Lt);break t;case 2:Pt=!0}}Lt=K.callback,Lt!==null&&(a.flags|=64,Mt&&(a.flags|=8192),Mt=w.callbacks,Mt===null?w.callbacks=[Lt]:Mt.push(Lt))}else Mt={lane:Lt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},It===null?(Rt=It=Mt,ht=Gt):It=It.next=Mt,F|=Lt;if(K=K.next,K===null){if(K=w.shared.pending,K===null)break;Mt=K,K=Mt.next,Mt.next=null,w.lastBaseUpdate=Mt,w.shared.pending=null}}while(!0);It===null&&(ht=Gt),w.baseState=ht,w.firstBaseUpdate=Rt,w.lastBaseUpdate=It,_===null&&(w.shared.lanes=0),xc|=F,a.lanes=F,a.memoizedState=Gt}}function un(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function vn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)un(h[a],l)}var Ve=dt(null),He=dt(0);function En(a,l){a=Rl,G(He,a),G(Ve,l),Rl=a|l.baseLanes}function bn(){G(He,Rl),G(Ve,Ve.current)}function je(){Rl=He.current,D(Ve),D(He)}var Cn=0,we=null,Te=null,cn=null,hn=!1,Bi=!1,Si=!1,li=0,ci=0,gi=null,os=0;function yn(){throw Error(n(321))}function mi(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!ji(a[h],l[h]))return!1;return!0}function Ns(a,l,h,g,w,_){return Cn=_,we=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=a===null||a.memoizedState===null?r2:s2,Si=!1,_=h(g,w),Si=!1,Bi&&(_=yl(l,h,g,w)),Ao(a),_}function Ao(a){H.H=rg;var l=Te!==null&&Te.next!==null;if(Cn=0,cn=Te=we=null,hn=!1,ci=0,gi=null,l)throw Error(n(300));a===null||rr||(a=a.dependencies,a!==null&&Ch(a)&&(rr=!0))}function yl(a,l,h,g){we=a;var w=0;do{if(Bi&&(gi=null),ci=0,Bi=!1,25<=w)throw Error(n(301));if(w+=1,cn=Te=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=OC,_=l(h,g)}while(Bi);return _}function So(){var a=H.H,l=a.useState()[0];return l=typeof l.then=="function"?Eo(l):l,a=a.useState()[0],(Te!==null?Te.memoizedState:null)!==a&&(we.flags|=1024),l}function Hn(){var a=li!==0;return li=0,a}function wu(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Rh(a){if(hn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}hn=!1}Cn=0,cn=Te=we=null,Bi=!1,ci=li=0,gi=null}function br(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?we.memoizedState=cn=a:cn=cn.next=a,cn}function Wn(){if(Te===null){var a=we.alternate;a=a!==null?a.memoizedState:null}else a=Te.next;var l=cn===null?we.memoizedState:cn.next;if(l!==null)cn=l,Te=a;else{if(a===null)throw we.alternate===null?Error(n(467)):Error(n(310));Te=a,a={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},cn===null?we.memoizedState=cn=a:cn=cn.next=a}return cn}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(a){var l=ci;return ci+=1,gi===null&&(gi=[]),a=Nt(gi,a,l),l=we,(cn===null?l.memoizedState:cn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?r2:s2),a}function Tr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Eo(a);if(a.$$typeof===T)return xi(a)}throw Error(n(438,String(a)))}function _o(a){var l=null,h=we.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var g=we.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=wl(),we.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),g=0;g<a;g++)h[g]=ct;return l.index++,h}function Mr(a,l){return typeof l=="function"?l(a):l}function xu(a){var l=Wn();return uc(l,Te,a)}function uc(a,l,h){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var w=a.baseQueue,_=g.pending;if(_!==null){if(w!==null){var F=w.next;w.next=_.next,_.next=F}l.baseQueue=w=_,g.pending=null}if(_=a.baseState,w===null)a.memoizedState=_;else{l=w.next;var K=F=null,ht=null,Rt=l,It=!1;do{var Gt=Rt.lane&-536870913;if(Gt!==Rt.lane?(dn&Gt)===Gt:(Cn&Gt)===Gt){var Lt=Rt.revertLane;if(Lt===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Gt===bl&&(It=!0);else if((Cn&Lt)===Lt){Rt=Rt.next,Lt===bl&&(It=!0);continue}else Gt={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ht===null?(K=ht=Gt,F=_):ht=ht.next=Gt,we.lanes|=Lt,xc|=Lt;Gt=Rt.action,Si&&h(_,Gt),_=Rt.hasEagerState?Rt.eagerState:h(_,Gt)}else Lt={lane:Gt,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ht===null?(K=ht=Lt,F=_):ht=ht.next=Lt,we.lanes|=Gt,xc|=Gt;Rt=Rt.next}while(Rt!==null&&Rt!==l);if(ht===null?F=_:ht.next=K,!ji(_,a.memoizedState)&&(rr=!0,It&&(h=Na,h!==null)))throw h;a.memoizedState=_,a.baseState=F,a.baseQueue=ht,g.lastRenderedState=_}return w===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Lh(a){var l=Wn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,w=h.pending,_=l.memoizedState;if(w!==null){h.pending=null;var F=w=w.next;do _=a(_,F.action),F=F.next;while(F!==w);ji(_,l.memoizedState)||(rr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,g]}function Au(a,l,h){var g=we,w=Wn(),_=gn;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=l();var F=!ji((Te||w).memoizedState,h);F&&(w.memoizedState=h,rr=!0),w=w.queue;var K=hc.bind(null,g,w,a);if(pc(2048,8,K,[a]),w.getSnapshot!==l||F||cn!==null&&cn.memoizedState.tag&1){if(g.flags|=2048,La(9,Cu(),Su.bind(null,g,w,h,l),null),Gn===null)throw Error(n(349));_||(Cn&124)!==0||Th(g,l,h)}return h}function Th(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=we.updateQueue,l===null?(l=wl(),we.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Su(a,l,h,g){l.value=h,l.getSnapshot=g,Wp(l)&&Yp(a)}function hc(a,l,h){return h(function(){Wp(l)&&Yp(a)})}function Wp(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!ji(a,h)}catch{return!0}}function Yp(a){var l=wa(a,2);l!==null&&Os(l,a,2)}function Eu(a){var l=br();if(typeof a=="function"){var h=a;if(a=h(),Si){Ie(!0);try{h()}finally{Ie(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},l}function Ra(a,l,h,g){return a.baseState=h,uc(a,Te,typeof g=="function"?g:Mr)}function M0(a,l,h,g,w){if(ig(a))throw Error(n(485));if(a=l.action,a!==null){var _={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){_.listeners.push(F)}};H.T!==null?h(!0):_.isTransition=!1,g(_),h=l.pending,h===null?(_.next=l.pending=_,Xp(l,_)):(_.next=h.next,l.pending=h.next=_)}}function Xp(a,l){var h=l.action,g=l.payload,w=a.state;if(l.isTransition){var _=H.T,F={};H.T=F;try{var K=h(w,g),ht=H.S;ht!==null&&ht(F,K),Kp(a,l,K)}catch(Rt){dc(a,l,Rt)}finally{H.T=_}}else try{_=h(w,g),Kp(a,l,_)}catch(Rt){dc(a,l,Rt)}}function Kp(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Zd(a,l,g)},function(g){return dc(a,l,g)}):Zd(a,l,h)}function Zd(a,l,h){l.status="fulfilled",l.value=h,Jd(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Xp(a,h)))}function dc(a,l,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=h,Jd(l),l=l.next;while(l!==g)}a.action=null}function Jd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function tf(a,l){return l}function _u(a,l){if(gn){var h=Gn.formState;if(h!==null){t:{var g=we;if(gn){if(Zn){e:{for(var w=Zn,_=Xs;w.nodeType!==8;){if(!_){w=null;break e}if(w=Oa(w.nextSibling),w===null){w=null;break e}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Zn=Oa(w.nextSibling),g=w.data==="F!";break t}}vl(g)}g=!1}g&&(l=h[0])}}return h=br(),h.memoizedState=h.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:l},h.queue=g,h=e2.bind(null,we,g),g.dispatch=h,g=Eu(!1),_=P0.bind(null,we,!1,g.queue),g=br(),w={state:l,dispatch:null,action:a,pending:null},g.queue=w,h=M0.bind(null,we,w,_,h),w.dispatch=h,g.memoizedState=a,[l,h,!1]}function Mh(a){var l=Wn();return fc(l,Te,a)}function fc(a,l,h){if(l=uc(a,l,tf)[0],a=xu(Mr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Eo(l)}catch(F){throw F===$?X:F}else g=l;l=Wn();var w=l.queue,_=w.dispatch;return h!==l.memoizedState&&(we.flags|=2048,La(9,Cu(),Qp.bind(null,w,h),null)),[g,_,a]}function Qp(a,l){a.action=l}function Zp(a){var l=Wn(),h=Te;if(h!==null)return fc(l,h,a);Wn(),l=l.memoizedState,h=Wn();var g=h.queue.dispatch;return h.memoizedState=a,[l,g,!1]}function La(a,l,h,g){return a={tag:a,create:h,deps:g,inst:l,next:null},l=we.updateQueue,l===null&&(l=wl(),we.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a),a}function Cu(){return{destroy:void 0,resource:void 0}}function Ph(){return Wn().memoizedState}function Rs(a,l,h,g){var w=br();g=g===void 0?null:g,we.flags|=a,w.memoizedState=La(1|l,Cu(),h,g)}function pc(a,l,h,g){var w=Wn();g=g===void 0?null:g;var _=w.memoizedState.inst;Te!==null&&g!==null&&mi(g,Te.memoizedState.deps)?w.memoizedState=La(l,_,h,g):(we.flags|=a,w.memoizedState=La(1|l,_,h,g))}function ef(a,l){Rs(8390656,8,a,l)}function Jp(a,l){pc(2048,8,a,l)}function nf(a,l){return pc(4,2,a,l)}function xl(a,l){return pc(4,4,a,l)}function tg(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function rf(a,l,h){h=h!=null?h.concat([a]):null,pc(4,4,tg.bind(null,l,a),h)}function sf(){}function af(a,l){var h=Wn();l=l===void 0?null:l;var g=h.memoizedState;return l!==null&&mi(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function eg(a,l){var h=Wn();l=l===void 0?null:l;var g=h.memoizedState;if(l!==null&&mi(l,g[1]))return g[0];if(g=a(),Si){Ie(!0);try{a()}finally{Ie(!1)}}return h.memoizedState=[g,l],g}function Al(a,l,h){return h===void 0||(Cn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=Q2(),we.lanes|=a,xc|=a,h)}function Oh(a,l,h,g){return ji(h,l)?h:Ve.current!==null?(a=Al(a,h,g),ji(a,l)||(rr=!0),a):(Cn&42)===0?(rr=!0,a.memoizedState=h):(a=Q2(),we.lanes|=a,xc|=a,l)}function Nu(a,l,h,g,w){var _=et.p;et.p=_!==0&&8>_?_:8;var F=H.T,K={};H.T=K,P0(a,!1,l,h);try{var ht=w(),Rt=H.S;if(Rt!==null&&Rt(K,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var It=$p(ht,g);uf(a,l,It,Ps(a))}else uf(a,l,g,Ps(a))}catch(Gt){uf(a,l,{then:function(){},status:"rejected",reason:Gt},Ps())}finally{et.p=_,H.T=F}}function Ta(){}function Js(a,l,h,g){if(a.tag!==5)throw Error(n(476));var w=Ma(a).queue;Nu(a,w,l,Z,h===null?Ta:function(){return Ru(a),h(g)})}function Ma(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:Z},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Ru(a){var l=Ma(a).next.queue;uf(a,l,{},Ps())}function Lu(){return xi(Rf)}function of(){return Wn().memoizedState}function ng(){return Wn().memoizedState}function lf(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ps();a=jt(h);var g=qt(l,a,h);g!==null&&(Os(g,l,h),Ft(g,l,h)),l={cache:Kd()},a.payload=l;return}l=l.return}}function cf(a,l,h){var g=Ps();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ig(a)?n2(l,h):(h=vo(a,l,h,g),h!==null&&(Os(h,a,g),i2(h,l,g)))}function e2(a,l,h){var g=Ps();uf(a,l,h,g)}function uf(a,l,h,g){var w={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ig(a))n2(l,w);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var F=l.lastRenderedState,K=_(F,h);if(w.hasEagerState=!0,w.eagerState=K,ji(K,F))return mo(a,l,w,0),Gn===null&&rs(),!1}catch{}finally{}if(h=vo(a,l,w,g),h!==null)return Os(h,a,g),i2(h,l,g),!0}return!1}function P0(a,l,h,g){if(g={lane:2,revertLane:u1(),action:g,hasEagerState:!1,eagerState:null,next:null},ig(a)){if(l)throw Error(n(479))}else l=vo(a,h,g,2),l!==null&&Os(l,a,2)}function ig(a){var l=a.alternate;return a===we||l!==null&&l===we}function n2(a,l){Bi=hn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function i2(a,l,h){if((h&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,xe(a,h)}}var rg={readContext:xi,use:Tr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn},r2={readContext:xi,use:Tr,useCallback:function(a,l){return br().memoizedState=[a,l===void 0?null:l],a},useContext:xi,useEffect:ef,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,Rs(4194308,4,tg.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Rs(4194308,4,a,l)},useInsertionEffect:function(a,l){Rs(4,2,a,l)},useMemo:function(a,l){var h=br();l=l===void 0?null:l;var g=a();if(Si){Ie(!0);try{a()}finally{Ie(!1)}}return h.memoizedState=[g,l],g},useReducer:function(a,l,h){var g=br();if(h!==void 0){var w=h(l);if(Si){Ie(!0);try{h(l)}finally{Ie(!1)}}}else w=l;return g.memoizedState=g.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},g.queue=a,a=a.dispatch=cf.bind(null,we,a),[g.memoizedState,a]},useRef:function(a){var l=br();return a={current:a},l.memoizedState=a},useState:function(a){a=Eu(a);var l=a.queue,h=e2.bind(null,we,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:sf,useDeferredValue:function(a,l){var h=br();return Al(h,a,l)},useTransition:function(){var a=Eu(!1);return a=Nu.bind(null,we,a.queue,!0,!1),br().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var g=we,w=br();if(gn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Gn===null)throw Error(n(349));(dn&124)!==0||Th(g,l,h)}w.memoizedState=h;var _={value:h,getSnapshot:l};return w.queue=_,ef(hc.bind(null,g,_,a),[a]),g.flags|=2048,La(9,Cu(),Su.bind(null,g,_,h,l),null),h},useId:function(){var a=br(),l=Gn.identifierPrefix;if(gn){var h=Ea,g=Sa;h=(g&~(1<<32-oe(g)-1)).toString(32)+h,l=""+l+"R"+h,h=li++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=os++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:Lu,useFormState:_u,useActionState:_u,useOptimistic:function(a){var l=br();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=P0.bind(null,we,!0,h),h.dispatch=l,[a,l]},useMemoCache:_o,useCacheRefresh:function(){return br().memoizedState=lf.bind(null,we)}},s2={readContext:xi,use:Tr,useCallback:af,useContext:xi,useEffect:Jp,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:xl,useMemo:eg,useReducer:xu,useRef:Ph,useState:function(){return xu(Mr)},useDebugValue:sf,useDeferredValue:function(a,l){var h=Wn();return Oh(h,Te.memoizedState,a,l)},useTransition:function(){var a=xu(Mr)[0],l=Wn().memoizedState;return[typeof a=="boolean"?a:Eo(a),l]},useSyncExternalStore:Au,useId:of,useHostTransitionStatus:Lu,useFormState:Mh,useActionState:Mh,useOptimistic:function(a,l){var h=Wn();return Ra(h,Te,a,l)},useMemoCache:_o,useCacheRefresh:ng},OC={readContext:xi,use:Tr,useCallback:af,useContext:xi,useEffect:Jp,useImperativeHandle:rf,useInsertionEffect:nf,useLayoutEffect:xl,useMemo:eg,useReducer:Lh,useRef:Ph,useState:function(){return Lh(Mr)},useDebugValue:sf,useDeferredValue:function(a,l){var h=Wn();return Te===null?Al(h,a,l):Oh(h,Te.memoizedState,a,l)},useTransition:function(){var a=Lh(Mr)[0],l=Wn().memoizedState;return[typeof a=="boolean"?a:Eo(a),l]},useSyncExternalStore:Au,useId:of,useHostTransitionStatus:Lu,useFormState:Zp,useActionState:Zp,useOptimistic:function(a,l){var h=Wn();return Te!==null?Ra(h,Te,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:_o,useCacheRefresh:ng},kh=null,hf=0;function sg(a){var l=hf;return hf+=1,kh===null&&(kh=[]),Nt(kh,a,l)}function df(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function ag(a,l){throw l.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function a2(a){var l=a._init;return l(a._payload)}function o2(a){function l(At,bt){if(a){var Ct=At.deletions;Ct===null?(At.deletions=[bt],At.flags|=16):Ct.push(bt)}}function h(At,bt){if(!a)return null;for(;bt!==null;)l(At,bt),bt=bt.sibling;return null}function g(At){for(var bt=new Map;At!==null;)At.key!==null?bt.set(At.key,At):bt.set(At.index,At),At=At.sibling;return bt}function w(At,bt){return At=Ys(At,bt),At.index=0,At.sibling=null,At}function _(At,bt,Ct){return At.index=Ct,a?(Ct=At.alternate,Ct!==null?(Ct=Ct.index,Ct<bt?(At.flags|=67108866,bt):Ct):(At.flags|=67108866,bt)):(At.flags|=1048576,bt)}function F(At){return a&&At.alternate===null&&(At.flags|=67108866),At}function K(At,bt,Ct,Bt){return bt===null||bt.tag!==6?(bt=Ah(Ct,At.mode,Bt),bt.return=At,bt):(bt=w(bt,Ct),bt.return=At,bt)}function ht(At,bt,Ct,Bt){var he=Ct.type;return he===x?It(At,bt,Ct.props.children,Bt,Ct.key):bt!==null&&(bt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===I&&a2(he)===bt.type)?(bt=w(bt,Ct.props),df(bt,Ct),bt.return=At,bt):(bt=pl(Ct.type,Ct.key,Ct.props,null,At.mode,Bt),df(bt,Ct),bt.return=At,bt)}function Rt(At,bt,Ct,Bt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Ct.containerInfo||bt.stateNode.implementation!==Ct.implementation?(bt=gu(Ct,At.mode,Bt),bt.return=At,bt):(bt=w(bt,Ct.children||[]),bt.return=At,bt)}function It(At,bt,Ct,Bt,he){return bt===null||bt.tag!==7?(bt=xa(Ct,At.mode,Bt,he),bt.return=At,bt):(bt=w(bt,Ct),bt.return=At,bt)}function Gt(At,bt,Ct){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Ah(""+bt,At.mode,Ct),bt.return=At,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case m:return Ct=pl(bt.type,bt.key,bt.props,null,At.mode,Ct),df(Ct,bt),Ct.return=At,Ct;case b:return bt=gu(bt,At.mode,Ct),bt.return=At,bt;case I:var Bt=bt._init;return bt=Bt(bt._payload),Gt(At,bt,Ct)}if(ut(bt)||V(bt))return bt=xa(bt,At.mode,Ct,null),bt.return=At,bt;if(typeof bt.then=="function")return Gt(At,sg(bt),Ct);if(bt.$$typeof===T)return Gt(At,xo(At,bt),Ct);ag(At,bt)}return null}function Lt(At,bt,Ct,Bt){var he=bt!==null?bt.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return he!==null?null:K(At,bt,""+Ct,Bt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case m:return Ct.key===he?ht(At,bt,Ct,Bt):null;case b:return Ct.key===he?Rt(At,bt,Ct,Bt):null;case I:return he=Ct._init,Ct=he(Ct._payload),Lt(At,bt,Ct,Bt)}if(ut(Ct)||V(Ct))return he!==null?null:It(At,bt,Ct,Bt,null);if(typeof Ct.then=="function")return Lt(At,bt,sg(Ct),Bt);if(Ct.$$typeof===T)return Lt(At,bt,xo(At,Ct),Bt);ag(At,Ct)}return null}function Mt(At,bt,Ct,Bt,he){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return At=At.get(Ct)||null,K(bt,At,""+Bt,he);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case m:return At=At.get(Bt.key===null?Ct:Bt.key)||null,ht(bt,At,Bt,he);case b:return At=At.get(Bt.key===null?Ct:Bt.key)||null,Rt(bt,At,Bt,he);case I:var Qe=Bt._init;return Bt=Qe(Bt._payload),Mt(At,bt,Ct,Bt,he)}if(ut(Bt)||V(Bt))return At=At.get(Ct)||null,It(bt,At,Bt,he,null);if(typeof Bt.then=="function")return Mt(At,bt,Ct,sg(Bt),he);if(Bt.$$typeof===T)return Mt(At,bt,Ct,xo(bt,Bt),he);ag(bt,Bt)}return null}function Oe(At,bt,Ct,Bt){for(var he=null,Qe=null,ve=bt,Ne=bt=0,ar=null;ve!==null&&Ne<Ct.length;Ne++){ve.index>Ne?(ar=ve,ve=null):ar=ve.sibling;var wn=Lt(At,ve,Ct[Ne],Bt);if(wn===null){ve===null&&(ve=ar);break}a&&ve&&wn.alternate===null&&l(At,ve),bt=_(wn,bt,Ne),Qe===null?he=wn:Qe.sibling=wn,Qe=wn,ve=ar}if(Ne===Ct.length)return h(At,ve),gn&&ml(At,Ne),he;if(ve===null){for(;Ne<Ct.length;Ne++)ve=Gt(At,Ct[Ne],Bt),ve!==null&&(bt=_(ve,bt,Ne),Qe===null?he=ve:Qe.sibling=ve,Qe=ve);return gn&&ml(At,Ne),he}for(ve=g(ve);Ne<Ct.length;Ne++)ar=Mt(ve,At,Ne,Ct[Ne],Bt),ar!==null&&(a&&ar.alternate!==null&&ve.delete(ar.key===null?Ne:ar.key),bt=_(ar,bt,Ne),Qe===null?he=ar:Qe.sibling=ar,Qe=ar);return a&&ve.forEach(function(Tc){return l(At,Tc)}),gn&&ml(At,Ne),he}function Ee(At,bt,Ct,Bt){if(Ct==null)throw Error(n(151));for(var he=null,Qe=null,ve=bt,Ne=bt=0,ar=null,wn=Ct.next();ve!==null&&!wn.done;Ne++,wn=Ct.next()){ve.index>Ne?(ar=ve,ve=null):ar=ve.sibling;var Tc=Lt(At,ve,wn.value,Bt);if(Tc===null){ve===null&&(ve=ar);break}a&&ve&&Tc.alternate===null&&l(At,ve),bt=_(Tc,bt,Ne),Qe===null?he=Tc:Qe.sibling=Tc,Qe=Tc,ve=ar}if(wn.done)return h(At,ve),gn&&ml(At,Ne),he;if(ve===null){for(;!wn.done;Ne++,wn=Ct.next())wn=Gt(At,wn.value,Bt),wn!==null&&(bt=_(wn,bt,Ne),Qe===null?he=wn:Qe.sibling=wn,Qe=wn);return gn&&ml(At,Ne),he}for(ve=g(ve);!wn.done;Ne++,wn=Ct.next())wn=Mt(ve,At,Ne,wn.value,Bt),wn!==null&&(a&&wn.alternate!==null&&ve.delete(wn.key===null?Ne:wn.key),bt=_(wn,bt,Ne),Qe===null?he=wn:Qe.sibling=wn,Qe=wn);return a&&ve.forEach(function(k4){return l(At,k4)}),gn&&ml(At,Ne),he}function On(At,bt,Ct,Bt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===x&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case m:t:{for(var he=Ct.key;bt!==null;){if(bt.key===he){if(he=Ct.type,he===x){if(bt.tag===7){h(At,bt.sibling),Bt=w(bt,Ct.props.children),Bt.return=At,At=Bt;break t}}else if(bt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===I&&a2(he)===bt.type){h(At,bt.sibling),Bt=w(bt,Ct.props),df(Bt,Ct),Bt.return=At,At=Bt;break t}h(At,bt);break}else l(At,bt);bt=bt.sibling}Ct.type===x?(Bt=xa(Ct.props.children,At.mode,Bt,Ct.key),Bt.return=At,At=Bt):(Bt=pl(Ct.type,Ct.key,Ct.props,null,At.mode,Bt),df(Bt,Ct),Bt.return=At,At=Bt)}return F(At);case b:t:{for(he=Ct.key;bt!==null;){if(bt.key===he)if(bt.tag===4&&bt.stateNode.containerInfo===Ct.containerInfo&&bt.stateNode.implementation===Ct.implementation){h(At,bt.sibling),Bt=w(bt,Ct.children||[]),Bt.return=At,At=Bt;break t}else{h(At,bt);break}else l(At,bt);bt=bt.sibling}Bt=gu(Ct,At.mode,Bt),Bt.return=At,At=Bt}return F(At);case I:return he=Ct._init,Ct=he(Ct._payload),On(At,bt,Ct,Bt)}if(ut(Ct))return Oe(At,bt,Ct,Bt);if(V(Ct)){if(he=V(Ct),typeof he!="function")throw Error(n(150));return Ct=he.call(Ct),Ee(At,bt,Ct,Bt)}if(typeof Ct.then=="function")return On(At,bt,sg(Ct),Bt);if(Ct.$$typeof===T)return On(At,bt,xo(At,Ct),Bt);ag(At,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,bt!==null&&bt.tag===6?(h(At,bt.sibling),Bt=w(bt,Ct),Bt.return=At,At=Bt):(h(At,bt),Bt=Ah(Ct,At.mode,Bt),Bt.return=At,At=Bt),F(At)):h(At,bt)}return function(At,bt,Ct,Bt){try{hf=0;var he=On(At,bt,Ct,Bt);return kh=null,he}catch(ve){if(ve===$||ve===X)throw ve;var Qe=ir(29,ve,null,At.mode);return Qe.lanes=Bt,Qe.return=At,Qe}finally{}}}var Dh=o2(!0),l2=o2(!1),ta=dt(null),Co=null;function gc(a){var l=a.alternate;G($i,$i.current&1),G(ta,a),Co===null&&(l===null||Ve.current!==null||l.memoizedState!==null)&&(Co=a)}function c2(a){if(a.tag===22){if(G($i,$i.current),G(ta,a),Co===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Co=a)}}else mc()}function mc(){G($i,$i.current),G(ta,ta.current)}function Sl(a){D(ta),Co===a&&(Co=null),D($i)}var $i=dt(0);function og(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||A1(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function O0(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:f({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var k0={enqueueSetState:function(a,l,h){a=a._reactInternals;var g=Ps(),w=jt(g);w.payload=l,h!=null&&(w.callback=h),l=qt(a,w,g),l!==null&&(Os(l,a,g),Ft(l,a,g))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=Ps(),w=jt(g);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=qt(a,w,g),l!==null&&(Os(l,a,g),Ft(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Ps(),g=jt(h);g.tag=2,l!=null&&(g.callback=l),l=qt(a,g,h),l!==null&&(Os(l,a,h),Ft(l,a,h))}};function u2(a,l,h,g,w,_,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,F):l.prototype&&l.prototype.isPureReactComponent?!lo(h,g)||!lo(w,_):!0}function h2(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&k0.enqueueReplaceState(l,l.state,null)}function Tu(a,l){var h=l;if("ref"in l){h={};for(var g in l)g!=="ref"&&(h[g]=l[g])}if(a=a.defaultProps){h===l&&(h=f({},h));for(var w in a)h[w]===void 0&&(h[w]=a[w])}return h}var lg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function d2(a){lg(a)}function f2(a){console.error(a)}function p2(a){lg(a)}function cg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function g2(a,l,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function D0(a,l,h){return h=jt(h),h.tag=3,h.payload={element:null},h.callback=function(){cg(a,l)},h}function m2(a){return a=jt(a),a.tag=3,a}function v2(a,l,h,g){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var _=g.value;a.payload=function(){return w(_)},a.callback=function(){g2(l,h,g)}}var F=h.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(a.callback=function(){g2(l,h,g),typeof w!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var K=g.stack;this.componentDidCatch(g.value,{componentStack:K!==null?K:""})})}function kC(a,l,h,g,w){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=h.alternate,l!==null&&cc(l,h,w,!0),h=ta.current,h!==null){switch(h.tag){case 13:return Co===null?s1():h.alternate===null&&vi===0&&(vi=3),h.flags&=-257,h.flags|=65536,h.lanes=w,g===J?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([g]):l.add(g),o1(a,g,w)),!1;case 22:return h.flags|=65536,g===J?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([g]):h.add(g)),o1(a,g,w)),!1}throw Error(n(435,h.tag))}return o1(a,g,w),s1(),!1}if(gn)return l=ta.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,g!==Xd&&(a=Error(n(422),{cause:g}),lc(We(a,h)))):(g!==Xd&&(l=Error(n(423),{cause:g}),lc(We(l,h))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,g=We(g,h),w=D0(a.stateNode,g,w),re(a,w),vi!==4&&(vi=2)),!1;var _=Error(n(520),{cause:g});if(_=We(_,h),yf===null?yf=[_]:yf.push(_),vi!==4&&(vi=2),l===null)return!0;g=We(g,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=w&-w,h.lanes|=a,a=D0(h.stateNode,g,a),re(h,a),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ac===null||!Ac.has(_))))return h.flags|=65536,w&=-w,h.lanes|=w,w=m2(w),v2(w,a,h,g),re(h,w),!1}h=h.return}while(h!==null);return!1}var b2=Error(n(461)),rr=!1;function yr(a,l,h,g){l.child=a===null?l2(l,null,h,g):Dh(l,a.child,h,g)}function y2(a,l,h,g,w){h=h.render;var _=l.ref;if("ref"in g){var F={};for(var K in g)K!=="ref"&&(F[K]=g[K])}else F=g;return Zs(l),g=Ns(a,l,h,F,_,w),K=Hn(),a!==null&&!rr?(wu(a,l,w),El(a,l,w)):(gn&&K&&mu(l),l.flags|=1,yr(a,l,g,w),l.child)}function w2(a,l,h,g,w){if(a===null){var _=h.type;return typeof _=="function"&&!ac(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,x2(a,l,_,g,w)):(a=pl(h.type,null,g,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!H0(a,w)){var F=_.memoizedProps;if(h=h.compare,h=h!==null?h:lo,h(F,g)&&a.ref===l.ref)return El(a,l,w)}return l.flags|=1,a=Ys(_,g),a.ref=l.ref,a.return=l,l.child=a}function x2(a,l,h,g,w){if(a!==null){var _=a.memoizedProps;if(lo(_,g)&&a.ref===l.ref)if(rr=!1,l.pendingProps=g=_,H0(a,w))(a.flags&131072)!==0&&(rr=!0);else return l.lanes=a.lanes,El(a,l,w)}return j0(a,l,h,g,w)}function A2(a,l,h){var g=l.pendingProps,w=g.children,_=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=_!==null?_.baseLanes|h:h,a!==null){for(w=l.child=a.child,_=0;w!==null;)_=_|w.lanes|w.childLanes,w=w.sibling;l.childLanes=_&~g}else l.childLanes=0,l.child=null;return S2(a,l,g,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&M(l,_!==null?_.cachePool:null),_!==null?En(l,_):bn(),c2(l);else return l.lanes=l.childLanes=536870912,S2(a,l,_!==null?_.baseLanes|h:h,h)}else _!==null?(M(l,_.cachePool),En(l,_),mc(),l.memoizedState=null):(a!==null&&M(l,null),bn(),mc());return yr(a,l,w,h),l.child}function S2(a,l,h,g){var w=N();return w=w===null?null:{parent:Ai._currentValue,pool:w},l.memoizedState={baseLanes:h,cachePool:w},a!==null&&M(l,null),bn(),c2(l),a!==null&&cc(a,l,g,!0),null}function ug(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function j0(a,l,h,g,w){return Zs(l),h=Ns(a,l,h,g,void 0,w),g=Hn(),a!==null&&!rr?(wu(a,l,w),El(a,l,w)):(gn&&g&&mu(l),l.flags|=1,yr(a,l,h,w),l.child)}function E2(a,l,h,g,w,_){return Zs(l),l.updateQueue=null,h=yl(l,g,h,w),Ao(a),g=Hn(),a!==null&&!rr?(wu(a,l,_),El(a,l,_)):(gn&&g&&mu(l),l.flags|=1,yr(a,l,h,_),l.child)}function _2(a,l,h,g,w){if(Zs(l),l.stateNode===null){var _=Ii,F=h.contextType;typeof F=="object"&&F!==null&&(_=xi(F)),_=new h(g,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=k0,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=g,_.state=l.memoizedState,_.refs={},vt(l),F=h.contextType,_.context=typeof F=="object"&&F!==null?xi(F):Ii,_.state=l.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(O0(l,h,F,g),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(F=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),F!==_.state&&k0.enqueueReplaceState(_,_.state,null),ee(l,g,_,w),me(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){_=l.stateNode;var K=l.memoizedProps,ht=Tu(h,K);_.props=ht;var Rt=_.context,It=h.contextType;F=Ii,typeof It=="object"&&It!==null&&(F=xi(It));var Gt=h.getDerivedStateFromProps;It=typeof Gt=="function"||typeof _.getSnapshotBeforeUpdate=="function",K=l.pendingProps!==K,It||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K||Rt!==F)&&h2(l,_,g,F),Pt=!1;var Lt=l.memoizedState;_.state=Lt,ee(l,g,_,w),me(),Rt=l.memoizedState,K||Lt!==Rt||Pt?(typeof Gt=="function"&&(O0(l,h,Gt,g),Rt=l.memoizedState),(ht=Pt||u2(l,h,ht,g,Lt,Rt,F))?(It||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Rt),_.props=g,_.state=Rt,_.context=F,g=ht):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{_=l.stateNode,yt(a,l),F=l.memoizedProps,It=Tu(h,F),_.props=It,Gt=l.pendingProps,Lt=_.context,Rt=h.contextType,ht=Ii,typeof Rt=="object"&&Rt!==null&&(ht=xi(Rt)),K=h.getDerivedStateFromProps,(Rt=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F!==Gt||Lt!==ht)&&h2(l,_,g,ht),Pt=!1,Lt=l.memoizedState,_.state=Lt,ee(l,g,_,w),me();var Mt=l.memoizedState;F!==Gt||Lt!==Mt||Pt||a!==null&&a.dependencies!==null&&Ch(a.dependencies)?(typeof K=="function"&&(O0(l,h,K,g),Mt=l.memoizedState),(It=Pt||u2(l,h,It,g,Lt,Mt,ht)||a!==null&&a.dependencies!==null&&Ch(a.dependencies))?(Rt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Mt,ht),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Mt,ht)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||F===a.memoizedProps&&Lt===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&Lt===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Mt),_.props=g,_.state=Mt,_.context=ht,g=It):(typeof _.componentDidUpdate!="function"||F===a.memoizedProps&&Lt===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&Lt===a.memoizedState||(l.flags|=1024),g=!1)}return _=g,ug(a,l),g=(l.flags&128)!==0,_||g?(_=l.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&g?(l.child=Dh(l,a.child,null,w),l.child=Dh(l,null,h,w)):yr(a,l,h,w),l.memoizedState=_.state,a=l.child):a=El(a,l,w),a}function C2(a,l,h,g){return Xr(),l.flags|=256,yr(a,l,h,g),l.child}var I0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F0(a){return{baseLanes:a,cachePool:U()}}function B0(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=ea),a}function N2(a,l,h){var g=l.pendingProps,w=!1,_=(l.flags&128)!==0,F;if((F=_)||(F=a!==null&&a.memoizedState===null?!1:($i.current&2)!==0),F&&(w=!0,l.flags&=-129),F=(l.flags&32)!==0,l.flags&=-33,a===null){if(gn){if(w?gc(l):mc(),gn){var K=Zn,ht;if(ht=K){t:{for(ht=K,K=Xs;ht.nodeType!==8;){if(!K){K=null;break t}if(ht=Oa(ht.nextSibling),ht===null){K=null;break t}}K=ht}K!==null?(l.memoizedState={dehydrated:K,treeContext:gl!==null?{id:Sa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},ht=ir(18,null,null,0),ht.stateNode=K,ht.return=l,l.child=ht,wi=l,Zn=null,ht=!0):ht=!1}ht||vl(l)}if(K=l.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return A1(K)?l.lanes=32:l.lanes=536870912,null;Sl(l)}return K=g.children,g=g.fallback,w?(mc(),w=l.mode,K=hg({mode:"hidden",children:K},w),g=xa(g,w,h,null),K.return=l,g.return=l,K.sibling=g,l.child=K,w=l.child,w.memoizedState=F0(h),w.childLanes=B0(a,F,h),l.memoizedState=I0,g):(gc(l),z0(l,K))}if(ht=a.memoizedState,ht!==null&&(K=ht.dehydrated,K!==null)){if(_)l.flags&256?(gc(l),l.flags&=-257,l=U0(a,l,h)):l.memoizedState!==null?(mc(),l.child=a.child,l.flags|=128,l=null):(mc(),w=g.fallback,K=l.mode,g=hg({mode:"visible",children:g.children},K),w=xa(w,K,h,null),w.flags|=2,g.return=l,w.return=l,g.sibling=w,l.child=g,Dh(l,a.child,null,h),g=l.child,g.memoizedState=F0(h),g.childLanes=B0(a,F,h),l.memoizedState=I0,l=w);else if(gc(l),A1(K)){if(F=K.nextSibling&&K.nextSibling.dataset,F)var Rt=F.dgst;F=Rt,g=Error(n(419)),g.stack="",g.digest=F,lc({value:g,source:null,stack:null}),l=U0(a,l,h)}else if(rr||cc(a,l,h,!1),F=(h&a.childLanes)!==0,rr||F){if(F=Gn,F!==null&&(g=h&-h,g=(g&42)!==0?1:Tn(g),g=(g&(F.suspendedLanes|h))!==0?0:g,g!==0&&g!==ht.retryLane))throw ht.retryLane=g,wa(a,g),Os(F,a,g),b2;K.data==="$?"||s1(),l=U0(a,l,h)}else K.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ht.treeContext,Zn=Oa(K.nextSibling),wi=l,gn=!0,yo=null,Xs=!1,a!==null&&(as[Yr++]=Sa,as[Yr++]=Ea,as[Yr++]=gl,Sa=a.id,Ea=a.overflow,gl=l),l=z0(l,g.children),l.flags|=4096);return l}return w?(mc(),w=g.fallback,K=l.mode,ht=a.child,Rt=ht.sibling,g=Ys(ht,{mode:"hidden",children:g.children}),g.subtreeFlags=ht.subtreeFlags&65011712,Rt!==null?w=Ys(Rt,w):(w=xa(w,K,h,null),w.flags|=2),w.return=l,g.return=l,g.sibling=w,l.child=g,g=w,w=l.child,K=a.child.memoizedState,K===null?K=F0(h):(ht=K.cachePool,ht!==null?(Rt=Ai._currentValue,ht=ht.parent!==Rt?{parent:Rt,pool:Rt}:ht):ht=U(),K={baseLanes:K.baseLanes|h,cachePool:ht}),w.memoizedState=K,w.childLanes=B0(a,F,h),l.memoizedState=I0,g):(gc(l),h=a.child,a=h.sibling,h=Ys(h,{mode:"visible",children:g.children}),h.return=l,h.sibling=null,a!==null&&(F=l.deletions,F===null?(l.deletions=[a],l.flags|=16):F.push(a)),l.child=h,l.memoizedState=null,h)}function z0(a,l){return l=hg({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function hg(a,l){return a=ir(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function U0(a,l,h){return Dh(l,a.child,null,h),a=z0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function R2(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Eh(a.return,l,h)}function q0(a,l,h,g,w){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=h,_.tailMode=w)}function L2(a,l,h){var g=l.pendingProps,w=g.revealOrder,_=g.tail;if(yr(a,l,g.children,h),g=$i.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R2(a,h,l);else if(a.tag===19)R2(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(G($i,g),w){case"forwards":for(h=l.child,w=null;h!==null;)a=h.alternate,a!==null&&og(a)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),q0(l,!1,w,h,_);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&og(a)===null){l.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}q0(l,!0,h,null,_);break;case"together":q0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function El(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),xc|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(cc(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ys(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ys(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function H0(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Ch(a)))}function DC(a,l,h){switch(l.tag){case 3:wt(l,l.stateNode.containerInfo),wo(l,Ai,a.memoizedState.cache),Xr();break;case 27:case 5:Dt(l);break;case 4:wt(l,l.stateNode.containerInfo);break;case 10:wo(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(gc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?N2(a,l,h):(gc(l),a=El(a,l,h),a!==null?a.sibling:null);gc(l);break;case 19:var w=(a.flags&128)!==0;if(g=(h&l.childLanes)!==0,g||(cc(a,l,h,!1),g=(h&l.childLanes)!==0),w){if(g)return L2(a,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),G($i,$i.current),g)break;return null;case 22:case 23:return l.lanes=0,A2(a,l,h);case 24:wo(l,Ai,a.memoizedState.cache)}return El(a,l,h)}function T2(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)rr=!0;else{if(!H0(a,h)&&(l.flags&128)===0)return rr=!1,DC(a,l,h);rr=(a.flags&131072)!==0}else rr=!1,gn&&(l.flags&1048576)!==0&&Up(l,Sh,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var g=l.elementType,w=g._init;if(g=w(g._payload),l.type=g,typeof g=="function")ac(g)?(a=Tu(g,a),l.tag=1,l=_2(null,l,g,a,h)):(l.tag=0,l=j0(null,l,g,a,h));else{if(g!=null){if(w=g.$$typeof,w===O){l.tag=11,l=y2(null,l,g,a,h);break t}else if(w===j){l.tag=14,l=w2(null,l,g,a,h);break t}}throw l=nt(g)||g,Error(n(306,l,""))}}return l;case 0:return j0(a,l,l.type,l.pendingProps,h);case 1:return g=l.type,w=Tu(g,l.pendingProps),_2(a,l,g,w,h);case 3:t:{if(wt(l,l.stateNode.containerInfo),a===null)throw Error(n(387));g=l.pendingProps;var _=l.memoizedState;w=_.element,yt(a,l),ee(l,g,null,h);var F=l.memoizedState;if(g=F.cache,wo(l,Ai,g),g!==_.cache&&_h(l,[Ai],h,!0),me(),g=F.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:F.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=C2(a,l,g,h);break t}else if(g!==w){w=We(Error(n(424)),l),lc(w),l=C2(a,l,g,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Zn=Oa(a.firstChild),wi=l,gn=!0,yo=null,Xs=!0,h=l2(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Xr(),g===w){l=El(a,l,h);break t}yr(a,l,g,h)}l=l.child}return l;case 26:return ug(a,l),a===null?(h=k5(l.type,null,l.pendingProps,null))?l.memoizedState=h:gn||(h=l.type,a=l.pendingProps,g=_g(at.current).createElement(h),g[fn]=l,g[Ze]=a,xr(g,h,a),_n(g),l.stateNode=g):l.memoizedState=k5(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Dt(l),a===null&&gn&&(g=l.stateNode=M5(l.type,l.pendingProps,at.current),wi=l,Xs=!0,w=Zn,_c(l.type)?(S1=w,Zn=Oa(g.firstChild)):Zn=w),yr(a,l,l.pendingProps.children,h),ug(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&gn&&((w=g=Zn)&&(g=c4(g,l.type,l.pendingProps,Xs),g!==null?(l.stateNode=g,wi=l,Zn=Oa(g.firstChild),Xs=!1,w=!0):w=!1),w||vl(l)),Dt(l),w=l.type,_=l.pendingProps,F=a!==null?a.memoizedProps:null,g=_.children,y1(w,_)?g=null:F!==null&&y1(w,F)&&(l.flags|=32),l.memoizedState!==null&&(w=Ns(a,l,So,null,null,h),Rf._currentValue=w),ug(a,l),yr(a,l,g,h),l.child;case 6:return a===null&&gn&&((a=h=Zn)&&(h=u4(h,l.pendingProps,Xs),h!==null?(l.stateNode=h,wi=l,Zn=null,a=!0):a=!1),a||vl(l)),null;case 13:return N2(a,l,h);case 4:return wt(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Dh(l,null,g,h):yr(a,l,g,h),l.child;case 11:return y2(a,l,l.type,l.pendingProps,h);case 7:return yr(a,l,l.pendingProps,h),l.child;case 8:return yr(a,l,l.pendingProps.children,h),l.child;case 12:return yr(a,l,l.pendingProps.children,h),l.child;case 10:return g=l.pendingProps,wo(l,l.type,g.value),yr(a,l,g.children,h),l.child;case 9:return w=l.type._context,g=l.pendingProps.children,Zs(l),w=xi(w),g=g(w),l.flags|=1,yr(a,l,g,h),l.child;case 14:return w2(a,l,l.type,l.pendingProps,h);case 15:return x2(a,l,l.type,l.pendingProps,h);case 19:return L2(a,l,h);case 31:return g=l.pendingProps,h=l.mode,g={mode:g.mode,children:g.children},a===null?(h=hg(g,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Ys(a.child,g),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return A2(a,l,h);case 24:return Zs(l),g=xi(Ai),a===null?(w=N(),w===null&&(w=Gn,_=Kd(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=h),w=_),l.memoizedState={parent:g,cache:w},vt(l),wo(l,Ai,w)):((a.lanes&h)!==0&&(yt(a,l),ee(l,null,null,h),me()),w=a.memoizedState,_=l.memoizedState,w.parent!==g?(w={parent:g,cache:g},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),wo(l,Ai,g)):(g=_.cache,wo(l,Ai,g),g!==w.cache&&_h(l,[Ai],h,!0))),yr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function _l(a){a.flags|=4}function M2(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!B5(l)){if(l=ta.current,l!==null&&((dn&4194048)===dn?Co!==null:(dn&62914560)!==dn&&(dn&536870912)===0||l!==Co))throw _t=J,W;a.flags|=8192}}function dg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Dn():536870912,a.lanes|=l,Bh|=l)}function ff(a,l){if(!gn)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ui(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var w=a.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function jC(a,l,h){var g=l.pendingProps;switch(vu(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(l),null;case 1:return ui(l),null;case 3:return h=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Qs(Ai),St(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(vr(l)?_l(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hp())),ui(l),null;case 26:return h=l.memoizedState,a===null?(_l(l),h!==null?(ui(l),M2(l,h)):(ui(l),l.flags&=-16777217)):h?h!==a.memoizedState?(_l(l),ui(l),M2(l,h)):(ui(l),l.flags&=-16777217):(a.memoizedProps!==g&&_l(l),ui(l),l.flags&=-16777217),null;case 27:Ut(l),h=at.current;var w=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&_l(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return ui(l),null}a=Q.current,vr(l)?qp(l):(a=M5(w,g,h),l.stateNode=a,_l(l))}return ui(l),null;case 5:if(Ut(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&_l(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return ui(l),null}if(a=Q.current,vr(l))qp(l);else{switch(w=_g(at.current),a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?w.createElement(h,{is:g.is}):w.createElement(h)}}a[fn]=l,a[Ze]=g;t:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break t;for(;w.sibling===null;){if(w.return===null||w.return===l)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=a;t:switch(xr(a,h,g),h){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&_l(l)}}return ui(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&_l(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(a=at.current,vr(l)){if(a=l.stateNode,h=l.memoizedProps,g=null,w=wi,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}a[fn]=l,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||E5(a.nodeValue,h)),a||vl(l)}else a=_g(a).createTextNode(g),a[fn]=l,l.stateNode=a}return ui(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=vr(l),g!==null&&g.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[fn]=l}else Xr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ui(l),w=!1}else w=Hp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Sl(l),l):(Sl(l),null)}if(Sl(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=g!==null,a=a!==null&&a.memoizedState!==null,h){g=l.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var _=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==w&&(g.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),dg(l,l.updateQueue),ui(l),null;case 4:return St(),a===null&&p1(l.stateNode.containerInfo),ui(l),null;case 10:return Qs(l.type),ui(l),null;case 19:if(D($i),w=l.memoizedState,w===null)return ui(l),null;if(g=(l.flags&128)!==0,_=w.rendering,_===null)if(g)ff(w,!1);else{if(vi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=og(a),_!==null){for(l.flags|=128,ff(w,!1),a=_.updateQueue,l.updateQueue=a,dg(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)pu(h,a),h=h.sibling;return G($i,$i.current&1|2),l.child}a=a.sibling}w.tail!==null&&le()>gg&&(l.flags|=128,g=!0,ff(w,!1),l.lanes=4194304)}else{if(!g)if(a=og(_),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,dg(l,a),ff(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!gn)return ui(l),null}else 2*le()-w.renderingStartTime>gg&&h!==536870912&&(l.flags|=128,g=!0,ff(w,!1),l.lanes=4194304);w.isBackwards?(_.sibling=l.child,l.child=_):(a=w.last,a!==null?a.sibling=_:l.child=_,w.last=_)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=le(),l.sibling=null,a=$i.current,G($i,g?a&1|2:a&1),l):(ui(l),null);case 22:case 23:return Sl(l),je(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(h&536870912)!==0&&(l.flags&128)===0&&(ui(l),l.subtreeFlags&6&&(l.flags|=8192)):ui(l),h=l.updateQueue,h!==null&&dg(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048),a!==null&&D(A),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Qs(Ai),ui(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function IC(a,l){switch(vu(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Qs(Ai),St(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ut(l),null;case 13:if(Sl(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Xr()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return D($i),null;case 4:return St(),null;case 10:return Qs(l.type),null;case 22:case 23:return Sl(l),je(),a!==null&&D(A),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Qs(Ai),null;case 25:return null;default:return null}}function P2(a,l){switch(vu(l),l.tag){case 3:Qs(Ai),St();break;case 26:case 27:case 5:Ut(l);break;case 4:St();break;case 13:Sl(l);break;case 19:D($i);break;case 10:Qs(l.type);break;case 22:case 23:Sl(l),je(),a!==null&&D(A);break;case 24:Qs(Ai)}}function pf(a,l){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&a)===a){g=void 0;var _=h.create,F=h.inst;g=_(),F.destroy=g}h=h.next}while(h!==w)}}catch(K){Fn(l,l.return,K)}}function vc(a,l,h){try{var g=l.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var _=w.next;g=_;do{if((g.tag&a)===a){var F=g.inst,K=F.destroy;if(K!==void 0){F.destroy=void 0,w=l;var ht=h,Rt=K;try{Rt()}catch(It){Fn(w,ht,It)}}}g=g.next}while(g!==_)}}catch(It){Fn(l,l.return,It)}}function O2(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{vn(l,h)}catch(g){Fn(a,a.return,g)}}}function k2(a,l,h){h.props=Tu(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){Fn(a,l,g)}}function gf(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(w){Fn(a,l,w)}}function No(a,l){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(w){Fn(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Fn(a,l,w)}else h.current=null}function D2(a){var l=a.type,h=a.memoizedProps,g=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break t;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(w){Fn(a,a.return,w)}}function G0(a,l,h){try{var g=a.stateNode;r4(g,a.type,h,l),g[Ze]=l}catch(w){Fn(a,a.return,w)}}function j2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_c(a.type)||a.tag===4}function V0(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||j2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_c(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $0(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Eg));else if(g!==4&&(g===27&&_c(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for($0(a,l,h),a=a.sibling;a!==null;)$0(a,l,h),a=a.sibling}function fg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(g===27&&_c(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(fg(a,l,h),a=a.sibling;a!==null;)fg(a,l,h),a=a.sibling}function I2(a){var l=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);xr(l,g,h),l[fn]=a,l[Ze]=h}catch(_){Fn(a,a.return,_)}}var Cl=!1,Ei=!1,W0=!1,F2=typeof WeakSet=="function"?WeakSet:Set,sr=null;function FC(a,l){if(a=a.containerInfo,v1=Mg,a=mr(a),Vi(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break t}var F=0,K=-1,ht=-1,Rt=0,It=0,Gt=a,Lt=null;e:for(;;){for(var Mt;Gt!==h||w!==0&&Gt.nodeType!==3||(K=F+w),Gt!==_||g!==0&&Gt.nodeType!==3||(ht=F+g),Gt.nodeType===3&&(F+=Gt.nodeValue.length),(Mt=Gt.firstChild)!==null;)Lt=Gt,Gt=Mt;for(;;){if(Gt===a)break e;if(Lt===h&&++Rt===w&&(K=F),Lt===_&&++It===g&&(ht=F),(Mt=Gt.nextSibling)!==null)break;Gt=Lt,Lt=Gt.parentNode}Gt=Mt}h=K===-1||ht===-1?null:{start:K,end:ht}}else h=null}h=h||{start:0,end:0}}else h=null;for(b1={focusedElem:a,selectionRange:h},Mg=!1,sr=l;sr!==null;)if(l=sr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,sr=a;else for(;sr!==null;){switch(l=sr,_=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,h=l,w=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var Oe=Tu(h.type,w,h.elementType===h.type);a=g.getSnapshotBeforeUpdate(Oe,_),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ee){Fn(h,h.return,Ee)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)x1(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":x1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,sr=a;break}sr=l.return}}function B2(a,l,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:bc(a,h),g&4&&pf(5,h);break;case 1:if(bc(a,h),g&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(F){Fn(h,h.return,F)}else{var w=Tu(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(F){Fn(h,h.return,F)}}g&64&&O2(h),g&512&&gf(h,h.return);break;case 3:if(bc(a,h),g&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{vn(a,l)}catch(F){Fn(h,h.return,F)}}break;case 27:l===null&&g&4&&I2(h);case 26:case 5:bc(a,h),l===null&&g&4&&D2(h),g&512&&gf(h,h.return);break;case 12:bc(a,h);break;case 13:bc(a,h),g&4&&q2(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=WC.bind(null,h),h4(a,h))));break;case 22:if(g=h.memoizedState!==null||Cl,!g){l=l!==null&&l.memoizedState!==null||Ei,w=Cl;var _=Ei;Cl=g,(Ei=l)&&!_?yc(a,h,(h.subtreeFlags&8772)!==0):bc(a,h),Cl=w,Ei=_}break;case 30:break;default:bc(a,h)}}function z2(a){var l=a.alternate;l!==null&&(a.alternate=null,z2(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Hr(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jn=null,ls=!1;function Nl(a,l,h){for(h=h.child;h!==null;)U2(a,l,h),h=h.sibling}function U2(a,l,h){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Se,h)}catch{}switch(h.tag){case 26:Ei||No(h,l),Nl(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ei||No(h,l);var g=Jn,w=ls;_c(h.type)&&(Jn=h.stateNode,ls=!1),Nl(a,l,h),Ef(h.stateNode),Jn=g,ls=w;break;case 5:Ei||No(h,l);case 6:if(g=Jn,w=ls,Jn=null,Nl(a,l,h),Jn=g,ls=w,Jn!==null)if(ls)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(h.stateNode)}catch(_){Fn(h,l,_)}else try{Jn.removeChild(h.stateNode)}catch(_){Fn(h,l,_)}break;case 18:Jn!==null&&(ls?(a=Jn,L5(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Pf(a)):L5(Jn,h.stateNode));break;case 4:g=Jn,w=ls,Jn=h.stateNode.containerInfo,ls=!0,Nl(a,l,h),Jn=g,ls=w;break;case 0:case 11:case 14:case 15:Ei||vc(2,h,l),Ei||vc(4,h,l),Nl(a,l,h);break;case 1:Ei||(No(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"&&k2(h,l,g)),Nl(a,l,h);break;case 21:Nl(a,l,h);break;case 22:Ei=(g=Ei)||h.memoizedState!==null,Nl(a,l,h),Ei=g;break;default:Nl(a,l,h)}}function q2(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pf(a)}catch(h){Fn(l,l.return,h)}}function BC(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new F2),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new F2),l;default:throw Error(n(435,a.tag))}}function Y0(a,l){var h=BC(a);l.forEach(function(g){var w=YC.bind(null,a,g);h.has(g)||(h.add(g),g.then(w,w))})}function Ls(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g],_=a,F=l,K=F;t:for(;K!==null;){switch(K.tag){case 27:if(_c(K.type)){Jn=K.stateNode,ls=!1;break t}break;case 5:Jn=K.stateNode,ls=!1;break t;case 3:case 4:Jn=K.stateNode.containerInfo,ls=!0;break t}K=K.return}if(Jn===null)throw Error(n(160));U2(_,F,w),Jn=null,ls=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)H2(l,a),l=l.sibling}var Pa=null;function H2(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ls(l,a),Ts(a),g&4&&(vc(3,a,a.return),pf(3,a),vc(5,a,a.return));break;case 1:Ls(l,a),Ts(a),g&512&&(Ei||h===null||No(h,h.return)),g&64&&Cl&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var w=Pa;if(Ls(l,a),Ts(a),g&512&&(Ei||h===null||No(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){t:{g=a.type,h=a.memoizedProps,w=w.ownerDocument||w;e:switch(g){case"title":_=w.getElementsByTagName("title")[0],(!_||_[qr]||_[fn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(g),w.head.insertBefore(_,w.querySelector("head > title"))),xr(_,g,h),_[fn]=a,_n(_),g=_;break t;case"link":var F=I5("link","href",w).get(g+(h.href||""));if(F){for(var K=0;K<F.length;K++)if(_=F[K],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){F.splice(K,1);break e}}_=w.createElement(g),xr(_,g,h),w.head.appendChild(_);break;case"meta":if(F=I5("meta","content",w).get(g+(h.content||""))){for(K=0;K<F.length;K++)if(_=F[K],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){F.splice(K,1);break e}}_=w.createElement(g),xr(_,g,h),w.head.appendChild(_);break;default:throw Error(n(468,g))}_[fn]=a,_n(_),g=_}a.stateNode=g}else F5(w,a.type,a.stateNode);else a.stateNode=j5(w,g,a.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?F5(w,a.type,a.stateNode):j5(w,g,a.memoizedProps)):g===null&&a.stateNode!==null&&G0(a,a.memoizedProps,h.memoizedProps)}break;case 27:Ls(l,a),Ts(a),g&512&&(Ei||h===null||No(h,h.return)),h!==null&&g&4&&G0(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Ls(l,a),Ts(a),g&512&&(Ei||h===null||No(h,h.return)),a.flags&32){w=a.stateNode;try{Ja(w,"")}catch(Mt){Fn(a,a.return,Mt)}}g&4&&a.stateNode!=null&&(w=a.memoizedProps,G0(a,w,h!==null?h.memoizedProps:w)),g&1024&&(W0=!0);break;case 6:if(Ls(l,a),Ts(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(Mt){Fn(a,a.return,Mt)}}break;case 3:if(Rg=null,w=Pa,Pa=Cg(l.containerInfo),Ls(l,a),Pa=w,Ts(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Pf(l.containerInfo)}catch(Mt){Fn(a,a.return,Mt)}W0&&(W0=!1,G2(a));break;case 4:g=Pa,Pa=Cg(a.stateNode.containerInfo),Ls(l,a),Ts(a),Pa=g;break;case 12:Ls(l,a),Ts(a);break;case 13:Ls(l,a),Ts(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(t1=le()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Y0(a,g)));break;case 22:w=a.memoizedState!==null;var ht=h!==null&&h.memoizedState!==null,Rt=Cl,It=Ei;if(Cl=Rt||w,Ei=It||ht,Ls(l,a),Ei=It,Cl=Rt,Ts(a),g&8192)t:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(h===null||ht||Cl||Ei||Mu(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ht=h=l;try{if(_=ht.stateNode,w)F=_.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{K=ht.stateNode;var Gt=ht.memoizedProps.style,Lt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;K.style.display=Lt==null||typeof Lt=="boolean"?"":(""+Lt).trim()}}catch(Mt){Fn(ht,ht.return,Mt)}}}else if(l.tag===6){if(h===null){ht=l;try{ht.stateNode.nodeValue=w?"":ht.memoizedProps}catch(Mt){Fn(ht,ht.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Y0(a,h))));break;case 19:Ls(l,a),Ts(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Y0(a,g)));break;case 30:break;case 21:break;default:Ls(l,a),Ts(a)}}function Ts(a){var l=a.flags;if(l&2){try{for(var h,g=a.return;g!==null;){if(j2(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var w=h.stateNode,_=V0(a);fg(a,_,w);break;case 5:var F=h.stateNode;h.flags&32&&(Ja(F,""),h.flags&=-33);var K=V0(a);fg(a,K,F);break;case 3:case 4:var ht=h.stateNode.containerInfo,Rt=V0(a);$0(a,Rt,ht);break;default:throw Error(n(161))}}catch(It){Fn(a,a.return,It)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function G2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;G2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function bc(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)B2(a,l.alternate,l),l=l.sibling}function Mu(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:vc(4,l,l.return),Mu(l);break;case 1:No(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&k2(l,l.return,h),Mu(l);break;case 27:Ef(l.stateNode);case 26:case 5:No(l,l.return),Mu(l);break;case 22:l.memoizedState===null&&Mu(l);break;case 30:Mu(l);break;default:Mu(l)}a=a.sibling}}function yc(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,w=a,_=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:yc(w,_,h),pf(4,_);break;case 1:if(yc(w,_,h),g=_,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Rt){Fn(g,g.return,Rt)}if(g=_,w=g.updateQueue,w!==null){var K=g.stateNode;try{var ht=w.shared.hiddenCallbacks;if(ht!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ht.length;w++)un(ht[w],K)}catch(Rt){Fn(g,g.return,Rt)}}h&&F&64&&O2(_),gf(_,_.return);break;case 27:I2(_);case 26:case 5:yc(w,_,h),h&&g===null&&F&4&&D2(_),gf(_,_.return);break;case 12:yc(w,_,h);break;case 13:yc(w,_,h),h&&F&4&&q2(w,_);break;case 22:_.memoizedState===null&&yc(w,_,h),gf(_,_.return);break;case 30:break;default:yc(w,_,h)}l=l.sibling}}function X0(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&bu(h))}function K0(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bu(a))}function Ro(a,l,h,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)V2(a,l,h,g),l=l.sibling}function V2(a,l,h,g){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ro(a,l,h,g),w&2048&&pf(9,l);break;case 1:Ro(a,l,h,g);break;case 3:Ro(a,l,h,g),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bu(a)));break;case 12:if(w&2048){Ro(a,l,h,g),a=l.stateNode;try{var _=l.memoizedProps,F=_.id,K=_.onPostCommit;typeof K=="function"&&K(F,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ht){Fn(l,l.return,ht)}}else Ro(a,l,h,g);break;case 13:Ro(a,l,h,g);break;case 23:break;case 22:_=l.stateNode,F=l.alternate,l.memoizedState!==null?_._visibility&2?Ro(a,l,h,g):mf(a,l):_._visibility&2?Ro(a,l,h,g):(_._visibility|=2,jh(a,l,h,g,(l.subtreeFlags&10256)!==0)),w&2048&&X0(F,l);break;case 24:Ro(a,l,h,g),w&2048&&K0(l.alternate,l);break;default:Ro(a,l,h,g)}}function jh(a,l,h,g,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=a,F=l,K=h,ht=g,Rt=F.flags;switch(F.tag){case 0:case 11:case 15:jh(_,F,K,ht,w),pf(8,F);break;case 23:break;case 22:var It=F.stateNode;F.memoizedState!==null?It._visibility&2?jh(_,F,K,ht,w):mf(_,F):(It._visibility|=2,jh(_,F,K,ht,w)),w&&Rt&2048&&X0(F.alternate,F);break;case 24:jh(_,F,K,ht,w),w&&Rt&2048&&K0(F.alternate,F);break;default:jh(_,F,K,ht,w)}l=l.sibling}}function mf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,g=l,w=g.flags;switch(g.tag){case 22:mf(h,g),w&2048&&X0(g.alternate,g);break;case 24:mf(h,g),w&2048&&K0(g.alternate,g);break;default:mf(h,g)}l=l.sibling}}var vf=8192;function Ih(a){if(a.subtreeFlags&vf)for(a=a.child;a!==null;)$2(a),a=a.sibling}function $2(a){switch(a.tag){case 26:Ih(a),a.flags&vf&&a.memoizedState!==null&&E4(Pa,a.memoizedState,a.memoizedProps);break;case 5:Ih(a);break;case 3:case 4:var l=Pa;Pa=Cg(a.stateNode.containerInfo),Ih(a),Pa=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=vf,vf=16777216,Ih(a),vf=l):Ih(a));break;default:Ih(a)}}function W2(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function bf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];sr=g,X2(g,a)}W2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Y2(a),a=a.sibling}function Y2(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&vc(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,pg(a)):bf(a);break;default:bf(a)}}function pg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];sr=g,X2(g,a)}W2(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:vc(8,l,l.return),pg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,pg(l));break;default:pg(l)}a=a.sibling}}function X2(a,l){for(;sr!==null;){var h=sr;switch(h.tag){case 0:case 11:case 15:vc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:bu(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,sr=g;else t:for(h=a;sr!==null;){g=sr;var w=g.sibling,_=g.return;if(z2(g),g===h){sr=null;break t}if(w!==null){w.return=_,sr=w;break t}sr=_}}}var zC={getCacheForType:function(a){var l=xi(Ai),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},UC=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Gn=null,tn=null,dn=0,Rn=0,Ms=null,wc=!1,Fh=!1,Q0=!1,Rl=0,vi=0,xc=0,Pu=0,Z0=0,ea=0,Bh=0,yf=null,cs=null,J0=!1,t1=0,gg=1/0,mg=null,Ac=null,wr=0,Sc=null,zh=null,Uh=0,e1=0,n1=null,K2=null,wf=0,i1=null;function Ps(){if((Nn&2)!==0&&dn!==0)return dn&-dn;if(H.T!==null){var a=bl;return a!==0?a:u1()}return Ji()}function Q2(){ea===0&&(ea=(dn&536870912)===0||gn?Hi():536870912);var a=ta.current;return a!==null&&(a.flags|=32),ea}function Os(a,l,h){(a===Gn&&(Rn===2||Rn===9)||a.cancelPendingCommit!==null)&&(qh(a,0),Ec(a,dn,ea,!1)),Zi(a,h),((Nn&2)===0||a!==Gn)&&(a===Gn&&((Nn&2)===0&&(Pu|=h),vi===4&&Ec(a,dn,ea,!1)),Lo(a))}function Z2(a,l,h){if((Nn&6)!==0)throw Error(n(327));var g=!h&&(l&124)===0&&(l&a.expiredLanes)===0||Qi(a,l),w=g?GC(a,l):a1(a,l,!0),_=g;do{if(w===0){Fh&&!g&&Ec(a,l,0,!1);break}else{if(h=a.current.alternate,_&&!qC(h)){w=a1(a,l,!1),_=!1;continue}if(w===2){if(_=l,a.errorRecoveryDisabledLanes&_)var F=0;else F=a.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){l=F;t:{var K=a;w=yf;var ht=K.current.memoizedState.isDehydrated;if(ht&&(qh(K,F).flags|=256),F=a1(K,F,!1),F!==2){if(Q0&&!ht){K.errorRecoveryDisabledLanes|=_,Pu|=_,w=4;break t}_=cs,cs=w,_!==null&&(cs===null?cs=_:cs.push.apply(cs,_))}w=F}if(_=!1,w!==2)continue}}if(w===1){qh(a,0),Ec(a,l,0,!0);break}t:{switch(g=a,_=w,_){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Ec(g,l,ea,!wc);break t;case 2:cs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(w=t1+300-le(),10<w)){if(Ec(g,l,ea,!wc),mn(g,0,!0)!==0)break t;g.timeoutHandle=N5(J2.bind(null,g,h,cs,mg,J0,l,ea,Pu,Bh,wc,_,2,-0,0),w);break t}J2(g,h,cs,mg,J0,l,ea,Pu,Bh,wc,_,0,-0,0)}}break}while(!0);Lo(a)}function J2(a,l,h,g,w,_,F,K,ht,Rt,It,Gt,Lt,Mt){if(a.timeoutHandle=-1,Gt=l.subtreeFlags,(Gt&8192||(Gt&16785408)===16785408)&&(Nf={stylesheets:null,count:0,unsuspend:S4},$2(l),Gt=_4(),Gt!==null)){a.cancelPendingCommit=Gt(a5.bind(null,a,l,_,h,g,w,F,K,ht,It,1,Lt,Mt)),Ec(a,_,F,!Rt);return}a5(a,l,_,h,g,w,F,K,ht)}function qC(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var w=h[g],_=w.getSnapshot;w=w.value;try{if(!ji(_(),w))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ec(a,l,h,g){l&=~Z0,l&=~Pu,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var w=l;0<w;){var _=31-oe(w),F=1<<_;g[_]=-1,w&=~F}h!==0&&Xt(a,h,l)}function vg(){return(Nn&6)===0?(xf(0),!1):!0}function r1(){if(tn!==null){if(Rn===0)var a=tn.return;else a=tn,Ca=Fi=null,Rh(a),kh=null,hf=0,a=tn;for(;a!==null;)P2(a.alternate,a),a=a.return;tn=null}}function qh(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,a4(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),r1(),Gn=a,tn=h=Ys(a.current,null),dn=l,Rn=0,Ms=null,wc=!1,Fh=Qi(a,l),Q0=!1,Bh=ea=Z0=Pu=xc=vi=0,cs=yf=null,J0=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var w=31-oe(g),_=1<<w;l|=a[w],g&=~_}return Rl=l,rs(),h}function t5(a,l){we=null,H.H=rg,l===$||l===X?(l=xt(),Rn=3):l===W?(l=xt(),Rn=4):Rn=l===b2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ms=l,tn===null&&(vi=1,cg(a,We(l,a.current)))}function e5(){var a=H.H;return H.H=rg,a===null?rg:a}function n5(){var a=H.A;return H.A=zC,a}function s1(){vi=4,wc||(dn&4194048)!==dn&&ta.current!==null||(Fh=!0),(xc&134217727)===0&&(Pu&134217727)===0||Gn===null||Ec(Gn,dn,ea,!1)}function a1(a,l,h){var g=Nn;Nn|=2;var w=e5(),_=n5();(Gn!==a||dn!==l)&&(mg=null,qh(a,l)),l=!1;var F=vi;t:do try{if(Rn!==0&&tn!==null){var K=tn,ht=Ms;switch(Rn){case 8:r1(),F=6;break t;case 3:case 2:case 9:case 6:ta.current===null&&(l=!0);var Rt=Rn;if(Rn=0,Ms=null,Hh(a,K,ht,Rt),h&&Fh){F=0;break t}break;default:Rt=Rn,Rn=0,Ms=null,Hh(a,K,ht,Rt)}}HC(),F=vi;break}catch(It){t5(a,It)}while(!0);return l&&a.shellSuspendCounter++,Ca=Fi=null,Nn=g,H.H=w,H.A=_,tn===null&&(Gn=null,dn=0,rs()),F}function HC(){for(;tn!==null;)i5(tn)}function GC(a,l){var h=Nn;Nn|=2;var g=e5(),w=n5();Gn!==a||dn!==l?(mg=null,gg=le()+500,qh(a,l)):Fh=Qi(a,l);t:do try{if(Rn!==0&&tn!==null){l=tn;var _=Ms;e:switch(Rn){case 1:Rn=0,Ms=null,Hh(a,l,_,1);break;case 2:case 9:if(it(_)){Rn=0,Ms=null,r5(l);break}l=function(){Rn!==2&&Rn!==9||Gn!==a||(Rn=7),Lo(a)},_.then(l,l);break t;case 3:Rn=7;break t;case 4:Rn=5;break t;case 7:it(_)?(Rn=0,Ms=null,r5(l)):(Rn=0,Ms=null,Hh(a,l,_,7));break;case 5:var F=null;switch(tn.tag){case 26:F=tn.memoizedState;case 5:case 27:var K=tn;if(!F||B5(F)){Rn=0,Ms=null;var ht=K.sibling;if(ht!==null)tn=ht;else{var Rt=K.return;Rt!==null?(tn=Rt,bg(Rt)):tn=null}break e}}Rn=0,Ms=null,Hh(a,l,_,5);break;case 6:Rn=0,Ms=null,Hh(a,l,_,6);break;case 8:r1(),vi=6;break t;default:throw Error(n(462))}}VC();break}catch(It){t5(a,It)}while(!0);return Ca=Fi=null,H.H=g,H.A=w,Nn=h,tn!==null?0:(Gn=null,dn=0,rs(),vi)}function VC(){for(;tn!==null&&!Tt();)i5(tn)}function i5(a){var l=T2(a.alternate,a,Rl);a.memoizedProps=a.pendingProps,l===null?bg(a):tn=l}function r5(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=E2(h,l,l.pendingProps,l.type,void 0,dn);break;case 11:l=E2(h,l,l.pendingProps,l.type.render,l.ref,dn);break;case 5:Rh(l);default:P2(h,l),l=tn=pu(l,Rl),l=T2(h,l,Rl)}a.memoizedProps=a.pendingProps,l===null?bg(a):tn=l}function Hh(a,l,h,g){Ca=Fi=null,Rh(l),kh=null,hf=0;var w=l.return;try{if(kC(a,w,l,h,dn)){vi=1,cg(a,We(h,a.current)),tn=null;return}}catch(_){if(w!==null)throw tn=w,_;vi=1,cg(a,We(h,a.current)),tn=null;return}l.flags&32768?(gn||g===1?a=!0:Fh||(dn&536870912)!==0?a=!1:(wc=a=!0,(g===2||g===9||g===3||g===6)&&(g=ta.current,g!==null&&g.tag===13&&(g.flags|=16384))),s5(l,a)):bg(l)}function bg(a){var l=a;do{if((l.flags&32768)!==0){s5(l,wc);return}a=l.return;var h=jC(l.alternate,l,Rl);if(h!==null){tn=h;return}if(l=l.sibling,l!==null){tn=l;return}tn=l=a}while(l!==null);vi===0&&(vi=5)}function s5(a,l){do{var h=IC(a.alternate,a);if(h!==null){h.flags&=32767,tn=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){tn=a;return}tn=a=h}while(a!==null);vi=6,tn=null}function a5(a,l,h,g,w,_,F,K,ht){a.cancelPendingCommit=null;do yg();while(wr!==0);if((Nn&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(_=l.lanes|l.childLanes,_|=oi,jn(a,h,_,F,K,ht),a===Gn&&(tn=Gn=null,dn=0),zh=l,Sc=a,Uh=h,e1=_,n1=w,K2=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,XC(Jt,function(){return h5(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,w=et.p,et.p=2,F=Nn,Nn|=4;try{FC(a,l,h)}finally{Nn=F,et.p=w,H.T=g}}wr=1,o5(),l5(),c5()}}function o5(){if(wr===1){wr=0;var a=Sc,l=zh,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=H.T,H.T=null;var g=et.p;et.p=2;var w=Nn;Nn|=4;try{H2(l,a);var _=b1,F=mr(a.containerInfo),K=_.focusedElem,ht=_.selectionRange;if(F!==K&&K&&K.ownerDocument&&co(K.ownerDocument.documentElement,K)){if(ht!==null&&Vi(K)){var Rt=ht.start,It=ht.end;if(It===void 0&&(It=Rt),"selectionStart"in K)K.selectionStart=Rt,K.selectionEnd=Math.min(It,K.value.length);else{var Gt=K.ownerDocument||document,Lt=Gt&&Gt.defaultView||window;if(Lt.getSelection){var Mt=Lt.getSelection(),Oe=K.textContent.length,Ee=Math.min(ht.start,Oe),On=ht.end===void 0?Ee:Math.min(ht.end,Oe);!Mt.extend&&Ee>On&&(F=On,On=Ee,Ee=F);var At=ba(K,Ee),bt=ba(K,On);if(At&&bt&&(Mt.rangeCount!==1||Mt.anchorNode!==At.node||Mt.anchorOffset!==At.offset||Mt.focusNode!==bt.node||Mt.focusOffset!==bt.offset)){var Ct=Gt.createRange();Ct.setStart(At.node,At.offset),Mt.removeAllRanges(),Ee>On?(Mt.addRange(Ct),Mt.extend(bt.node,bt.offset)):(Ct.setEnd(bt.node,bt.offset),Mt.addRange(Ct))}}}}for(Gt=[],Mt=K;Mt=Mt.parentNode;)Mt.nodeType===1&&Gt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Gt.length;K++){var Bt=Gt[K];Bt.element.scrollLeft=Bt.left,Bt.element.scrollTop=Bt.top}}Mg=!!v1,b1=v1=null}finally{Nn=w,et.p=g,H.T=h}}a.current=l,wr=2}}function l5(){if(wr===2){wr=0;var a=Sc,l=zh,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=H.T,H.T=null;var g=et.p;et.p=2;var w=Nn;Nn|=4;try{B2(a,l.alternate,l)}finally{Nn=w,et.p=g,H.T=h}}wr=3}}function c5(){if(wr===4||wr===3){wr=0,ot();var a=Sc,l=zh,h=Uh,g=K2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?wr=5:(wr=0,zh=Sc=null,u5(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Ac=null),ln(h),l=l.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Se,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=H.T,w=et.p,et.p=2,H.T=null;try{for(var _=a.onRecoverableError,F=0;F<g.length;F++){var K=g[F];_(K.value,{componentStack:K.stack})}}finally{H.T=l,et.p=w}}(Uh&3)!==0&&yg(),Lo(a),w=a.pendingLanes,(h&4194090)!==0&&(w&42)!==0?a===i1?wf++:(wf=0,i1=a):wf=0,xf(0)}}function u5(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,bu(l)))}function yg(a){return o5(),l5(),c5(),h5()}function h5(){if(wr!==5)return!1;var a=Sc,l=e1;e1=0;var h=ln(Uh),g=H.T,w=et.p;try{et.p=32>h?32:h,H.T=null,h=n1,n1=null;var _=Sc,F=Uh;if(wr=0,zh=Sc=null,Uh=0,(Nn&6)!==0)throw Error(n(331));var K=Nn;if(Nn|=4,Y2(_.current),V2(_,_.current,F,h),Nn=K,xf(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Se,_)}catch{}return!0}finally{et.p=w,H.T=g,u5(a,l)}}function d5(a,l,h){l=We(h,l),l=D0(a.stateNode,l,2),a=qt(a,l,2),a!==null&&(Zi(a,2),Lo(a))}function Fn(a,l,h){if(a.tag===3)d5(a,a,h);else for(;l!==null;){if(l.tag===3){d5(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ac===null||!Ac.has(g))){a=We(h,a),h=m2(2),g=qt(l,h,2),g!==null&&(v2(h,g,l,a),Zi(g,2),Lo(g));break}}l=l.return}}function o1(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new UC;var w=new Set;g.set(l,w)}else w=g.get(l),w===void 0&&(w=new Set,g.set(l,w));w.has(h)||(Q0=!0,w.add(h),a=$C.bind(null,a,l,h),l.then(a,a))}function $C(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Gn===a&&(dn&h)===h&&(vi===4||vi===3&&(dn&62914560)===dn&&300>le()-t1?(Nn&2)===0&&qh(a,0):Z0|=h,Bh===dn&&(Bh=0)),Lo(a)}function f5(a,l){l===0&&(l=Dn()),a=wa(a,l),a!==null&&(Zi(a,l),Lo(a))}function WC(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),f5(a,h)}function YC(a,l){var h=0;switch(a.tag){case 13:var g=a.stateNode,w=a.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),f5(a,h)}function XC(a,l){return Vt(a,l)}var wg=null,Gh=null,l1=!1,xg=!1,c1=!1,Ou=0;function Lo(a){a!==Gh&&a.next===null&&(Gh===null?wg=Gh=a:Gh=Gh.next=a),xg=!0,l1||(l1=!0,QC())}function xf(a,l){if(!c1&&xg){c1=!0;do for(var h=!1,g=wg;g!==null;){if(a!==0){var w=g.pendingLanes;if(w===0)var _=0;else{var F=g.suspendedLanes,K=g.pingedLanes;_=(1<<31-oe(42|a)+1)-1,_&=w&~(F&~K),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,v5(g,_))}else _=dn,_=mn(g,g===Gn?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||Qi(g,_)||(h=!0,v5(g,_));g=g.next}while(h);c1=!1}}function KC(){p5()}function p5(){xg=l1=!1;var a=0;Ou!==0&&(s4()&&(a=Ou),Ou=0);for(var l=le(),h=null,g=wg;g!==null;){var w=g.next,_=g5(g,l);_===0?(g.next=null,h===null?wg=w:h.next=w,w===null&&(Gh=h)):(h=g,(a!==0||(_&3)!==0)&&(xg=!0)),g=w}xf(a)}function g5(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,w=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var F=31-oe(_),K=1<<F,ht=w[F];ht===-1?((K&h)===0||(K&g)!==0)&&(w[F]=rn(K,l)):ht<=l&&(a.expiredLanes|=K),_&=~K}if(l=Gn,h=dn,h=mn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===l&&(Rn===2||Rn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Zt(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Qi(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(g!==null&&Zt(g),ln(h)){case 2:case 8:h=Qt;break;case 32:h=Jt;break;case 268435456:h=ce;break;default:h=Jt}return g=m5.bind(null,a),h=Vt(h,g),a.callbackPriority=l,a.callbackNode=h,l}return g!==null&&g!==null&&Zt(g),a.callbackPriority=2,a.callbackNode=null,2}function m5(a,l){if(wr!==0&&wr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(yg()&&a.callbackNode!==h)return null;var g=dn;return g=mn(a,a===Gn?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Z2(a,g,l),g5(a,le()),a.callbackNode!=null&&a.callbackNode===h?m5.bind(null,a):null)}function v5(a,l){if(yg())return null;Z2(a,l,!0)}function QC(){o4(function(){(Nn&6)!==0?Vt(Ht,KC):p5()})}function u1(){return Ou===0&&(Ou=Hi()),Ou}function b5(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fa(""+a)}function y5(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function ZC(a,l,h,g,w){if(l==="submit"&&h&&h.stateNode===w){var _=b5((w[Ze]||null).action),F=g.submitter;F&&(l=(l=F[Ze]||null)?b5(l.formAction):F.getAttribute("formAction"),l!==null&&(_=l,F=null));var K=new no("action","action",null,g,w);a.push({event:K,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ou!==0){var ht=F?y5(w,F):new FormData(w);Js(h,{pending:!0,data:ht,method:w.method,action:_},null,ht)}}else typeof _=="function"&&(K.preventDefault(),ht=F?y5(w,F):new FormData(w),Js(h,{pending:!0,data:ht,method:w.method,action:_},_,ht))},currentTarget:w}]})}}for(var h1=0;h1<dl.length;h1++){var d1=dl[h1],JC=d1.toLowerCase(),t4=d1[0].toUpperCase()+d1.slice(1);Qn(JC,"on"+t4)}Qn(rc,"onAnimationEnd"),Qn(ho,"onAnimationIteration"),Qn(fo,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(po,"onTransitionRun"),Qn(hl,"onTransitionStart"),Qn(sc,"onTransitionCancel"),Qn(go,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function w5(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],w=g.event;g=g.listeners;t:{var _=void 0;if(l)for(var F=g.length-1;0<=F;F--){var K=g[F],ht=K.instance,Rt=K.currentTarget;if(K=K.listener,ht!==_&&w.isPropagationStopped())break t;_=K,w.currentTarget=Rt;try{_(w)}catch(It){lg(It)}w.currentTarget=null,_=ht}else for(F=0;F<g.length;F++){if(K=g[F],ht=K.instance,Rt=K.currentTarget,K=K.listener,ht!==_&&w.isPropagationStopped())break t;_=K,w.currentTarget=Rt;try{_(w)}catch(It){lg(It)}w.currentTarget=null,_=ht}}}}function en(a,l){var h=l[Un];h===void 0&&(h=l[Un]=new Set);var g=a+"__bubble";h.has(g)||(x5(l,a,2,!1),h.add(g))}function f1(a,l,h){var g=0;l&&(g|=4),x5(h,a,g,l)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function p1(a){if(!a[Ag]){a[Ag]=!0,Ka.forEach(function(h){h!=="selectionchange"&&(e4.has(h)||f1(h,!1,a),f1(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Ag]||(l[Ag]=!0,f1("selectionchange",!1,l))}}function x5(a,l,h,g){switch(V5(l)){case 2:var w=R4;break;case 8:w=L4;break;default:w=R1}h=w.bind(null,l,h,a),w=void 0,!Vl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),g?w!==void 0?a.addEventListener(l,h,{capture:!0,passive:w}):a.addEventListener(l,h,!0):w!==void 0?a.addEventListener(l,h,{passive:w}):a.addEventListener(l,h,!1)}function g1(a,l,h,g,w){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)t:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var K=g.stateNode.containerInfo;if(K===w)break;if(F===4)for(F=g.return;F!==null;){var ht=F.tag;if((ht===3||ht===4)&&F.stateNode.containerInfo===w)return;F=F.return}for(;K!==null;){if(F=tr(K),F===null)return;if(ht=F.tag,ht===5||ht===6||ht===26||ht===27){g=_=F;continue t}K=K.parentNode}}g=g.return}mh(function(){var Rt=_,It=ki(h),Gt=[];t:{var Lt=ya.get(a);if(Lt!==void 0){var Mt=no,Oe=a;switch(a){case"keypress":if(eo(h)===0)break t;case"keydown":case"keyup":Mt=Jl;break;case"focusin":Oe="focus",Mt=rl;break;case"focusout":Oe="blur",Mt=rl;break;case"beforeblur":case"afterblur":Mt=rl;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=uu;break;case rc:case ho:case fo:Mt=Vd;break;case go:Mt=q;break;case"scroll":case"scrollend":Mt=bh;break;case"wheel":Mt=pt;break;case"copy":case"cut":case"paste":Mt=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=tc;break;case"toggle":case"beforetoggle":Mt=kt}var Ee=(l&4)!==0,On=!Ee&&(a==="scroll"||a==="scrollend"),At=Ee?Lt!==null?Lt+"Capture":null:Lt;Ee=[];for(var bt=Rt,Ct;bt!==null;){var Bt=bt;if(Ct=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||Ct===null||At===null||(Bt=Cr(bt,At),Bt!=null&&Ee.push(Sf(bt,Bt,Ct))),On)break;bt=bt.return}0<Ee.length&&(Lt=new Mt(Lt,Oe,null,h,It),Gt.push({event:Lt,listeners:Ee}))}}if((l&7)===0){t:{if(Lt=a==="mouseover"||a==="pointerover",Mt=a==="mouseout"||a==="pointerout",Lt&&h!==Gl&&(Oe=h.relatedTarget||h.fromElement)&&(tr(Oe)||Oe[pn]))break t;if((Mt||Lt)&&(Lt=It.window===It?It:(Lt=It.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,Mt?(Oe=h.relatedTarget||h.toElement,Mt=Rt,Oe=Oe?tr(Oe):null,Oe!==null&&(On=s(Oe),Ee=Oe.tag,Oe!==On||Ee!==5&&Ee!==27&&Ee!==6)&&(Oe=null)):(Mt=null,Oe=Rt),Mt!==Oe)){if(Ee=Vs,Bt="onMouseLeave",At="onMouseEnter",bt="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=tc,Bt="onPointerLeave",At="onPointerEnter",bt="pointer"),On=Mt==null?Lt:Er(Mt),Ct=Oe==null?Lt:Er(Oe),Lt=new Ee(Bt,bt+"leave",Mt,h,It),Lt.target=On,Lt.relatedTarget=Ct,Bt=null,tr(It)===Rt&&(Ee=new Ee(At,bt+"enter",Oe,h,It),Ee.target=Ct,Ee.relatedTarget=On,Bt=Ee),On=Bt,Mt&&Oe)e:{for(Ee=Mt,At=Oe,bt=0,Ct=Ee;Ct;Ct=Vh(Ct))bt++;for(Ct=0,Bt=At;Bt;Bt=Vh(Bt))Ct++;for(;0<bt-Ct;)Ee=Vh(Ee),bt--;for(;0<Ct-bt;)At=Vh(At),Ct--;for(;bt--;){if(Ee===At||At!==null&&Ee===At.alternate)break e;Ee=Vh(Ee),At=Vh(At)}Ee=null}else Ee=null;Mt!==null&&A5(Gt,Lt,Mt,Ee,!1),Oe!==null&&On!==null&&A5(Gt,On,Oe,Ee,!0)}}t:{if(Lt=Rt?Er(Rt):window,Mt=Lt.nodeName&&Lt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Lt.type==="file")var he=nc;else if(Ss(Lt))if(ol)he=wh;else{he=Yd;var Qe=Nr}else Mt=Lt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Lt.type!=="checkbox"&&Lt.type!=="radio"?Rt&&ru(Rt.elementType)&&(he=nc):he=du;if(he&&(he=he(a,Rt))){hu(Gt,he,h,It);break t}Qe&&Qe(a,Lt,Rt),a==="focusout"&&Rt&&Lt.type==="number"&&Rt.memoizedProps.value!=null&&eu(Lt,"number",Lt.value)}switch(Qe=Rt?Er(Rt):window,a){case"focusin":(Ss(Qe)||Qe.contentEditable==="true")&&(Rr=Qe,Es=Rt,$s=null);break;case"focusout":$s=Es=Rr=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Kn(Gt,h,It);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":Kn(Gt,h,It)}var ve;if(ie)t:{switch(a){case"compositionstart":var Ne="onCompositionStart";break t;case"compositionend":Ne="onCompositionEnd";break t;case"compositionupdate":Ne="onCompositionUpdate";break t}Ne=void 0}else ai?$n(a,h)&&(Ne="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ne="onCompositionStart");Ne&&(De&&h.locale!=="ko"&&(ai||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ai&&(ve=vh()):(ns=It,au="value"in ns?ns.value:ns.textContent,ai=!0)),Qe=Sg(Rt,Ne),0<Qe.length&&(Ne=new Kl(Ne,a,null,h,It),Gt.push({event:Ne,listeners:Qe}),ve?Ne.data=ve:(ve=si(h),ve!==null&&(Ne.data=ve)))),(ve=Fe?Di(a,h):As(a,h))&&(Ne=Sg(Rt,"onBeforeInput"),0<Ne.length&&(Qe=new Kl("onBeforeInput","beforeinput",null,h,It),Gt.push({event:Qe,listeners:Ne}),Qe.data=ve)),ZC(Gt,a,Rt,h,It)}w5(Gt,l)})}function Sf(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Sg(a,l){for(var h=l+"Capture",g=[];a!==null;){var w=a,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Cr(a,h),w!=null&&g.unshift(Sf(a,w,_)),w=Cr(a,l),w!=null&&g.push(Sf(a,w,_))),a.tag===3)return g;a=a.return}return[]}function Vh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function A5(a,l,h,g,w){for(var _=l._reactName,F=[];h!==null&&h!==g;){var K=h,ht=K.alternate,Rt=K.stateNode;if(K=K.tag,ht!==null&&ht===g)break;K!==5&&K!==26&&K!==27||Rt===null||(ht=Rt,w?(Rt=Cr(h,_),Rt!=null&&F.unshift(Sf(h,Rt,ht))):w||(Rt=Cr(h,_),Rt!=null&&F.push(Sf(h,Rt,ht)))),h=h.return}F.length!==0&&a.push({event:l,listeners:F})}var n4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function S5(a){return(typeof a=="string"?a:""+a).replace(n4,`
`).replace(i4,"")}function E5(a,l){return l=S5(l),S5(a)===l}function Eg(){}function Pn(a,l,h,g,w,_){switch(h){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Ja(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Ja(a,""+g);break;case"className":el(a,"class",g);break;case"tabIndex":el(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":el(a,h,g);break;case"style":gh(a,g,_);break;case"data":if(l!=="object"){el(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=fa(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&Pn(a,l,"name",w.name,w,null),Pn(a,l,"formEncType",w.formEncType,w,null),Pn(a,l,"formMethod",w.formMethod,w,null),Pn(a,l,"formTarget",w.formTarget,w,null)):(Pn(a,l,"encType",w.encType,w,null),Pn(a,l,"method",w.method,w,null),Pn(a,l,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=fa(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Eg);break;case"onScroll":g!=null&&en("scroll",a);break;case"onScrollEnd":g!=null&&en("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=fa(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":en("beforetoggle",a),en("toggle",a),ca(a,"popover",g);break;case"xlinkActuate":ws(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ws(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ws(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ws(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ws(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ws(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ws(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ws(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ws(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ca(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=da.get(h)||h,ca(a,h,g))}}function m1(a,l,h,g,w,_){switch(h){case"style":gh(a,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof g=="string"?Ja(a,g):(typeof g=="number"||typeof g=="bigint")&&Ja(a,""+g);break;case"onScroll":g!=null&&en("scroll",a);break;case"onScrollEnd":g!=null&&en("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Eg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),l=h.slice(2,w?h.length-7:void 0),_=a[Ze]||null,_=_!=null?_[h]:null,typeof _=="function"&&a.removeEventListener(l,_,w),typeof g=="function")){typeof _!="function"&&_!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,g,w);break t}h in a?a[h]=g:g===!0?a.setAttribute(h,""):ca(a,h,g)}}}function xr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",a),en("load",a);var g=!1,w=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var F=h[_];if(F!=null)switch(_){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Pn(a,l,_,F,h,null)}}w&&Pn(a,l,"srcSet",h.srcSet,h,null),g&&Pn(a,l,"src",h.src,h,null);return;case"input":en("invalid",a);var K=_=F=w=null,ht=null,Rt=null;for(g in h)if(h.hasOwnProperty(g)){var It=h[g];if(It!=null)switch(g){case"name":w=It;break;case"type":F=It;break;case"checked":ht=It;break;case"defaultChecked":Rt=It;break;case"value":_=It;break;case"defaultValue":K=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(n(137,l));break;default:Pn(a,l,g,It,h,null)}}tu(a,_,K,ht,Rt,F,w,!1),Za(a);return;case"select":en("invalid",a),g=F=_=null;for(w in h)if(h.hasOwnProperty(w)&&(K=h[w],K!=null))switch(w){case"value":_=K;break;case"defaultValue":F=K;break;case"multiple":g=K;default:Pn(a,l,w,K,h,null)}l=_,h=F,a.multiple=!!g,l!=null?ha(a,!!g,l,!1):h!=null&&ha(a,!!g,h,!0);return;case"textarea":en("invalid",a),_=w=g=null;for(F in h)if(h.hasOwnProperty(F)&&(K=h[F],K!=null))switch(F){case"value":g=K;break;case"defaultValue":w=K;break;case"children":_=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Pn(a,l,F,K,h,null)}nu(a,g,w,_),Za(a);return;case"option":for(ht in h)if(h.hasOwnProperty(ht)&&(g=h[ht],g!=null))switch(ht){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Pn(a,l,ht,g,h,null)}return;case"dialog":en("beforetoggle",a),en("toggle",a),en("cancel",a),en("close",a);break;case"iframe":case"object":en("load",a);break;case"video":case"audio":for(g=0;g<Af.length;g++)en(Af[g],a);break;case"image":en("error",a),en("load",a);break;case"details":en("toggle",a);break;case"embed":case"source":case"link":en("error",a),en("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in h)if(h.hasOwnProperty(Rt)&&(g=h[Rt],g!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Pn(a,l,Rt,g,h,null)}return;default:if(ru(l)){for(It in h)h.hasOwnProperty(It)&&(g=h[It],g!==void 0&&m1(a,l,It,g,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(g=h[K],g!=null&&Pn(a,l,K,g,h,null))}function r4(a,l,h,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,F=null,K=null,ht=null,Rt=null,It=null;for(Mt in h){var Gt=h[Mt];if(h.hasOwnProperty(Mt)&&Gt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":ht=Gt;default:g.hasOwnProperty(Mt)||Pn(a,l,Mt,null,g,Gt)}}for(var Lt in g){var Mt=g[Lt];if(Gt=h[Lt],g.hasOwnProperty(Lt)&&(Mt!=null||Gt!=null))switch(Lt){case"type":_=Mt;break;case"name":w=Mt;break;case"checked":Rt=Mt;break;case"defaultChecked":It=Mt;break;case"value":F=Mt;break;case"defaultValue":K=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(n(137,l));break;default:Mt!==Gt&&Pn(a,l,Lt,Mt,g,Gt)}}il(a,F,K,ht,Rt,It,_,w);return;case"select":Mt=F=K=Lt=null;for(_ in h)if(ht=h[_],h.hasOwnProperty(_)&&ht!=null)switch(_){case"value":break;case"multiple":Mt=ht;default:g.hasOwnProperty(_)||Pn(a,l,_,null,g,ht)}for(w in g)if(_=g[w],ht=h[w],g.hasOwnProperty(w)&&(_!=null||ht!=null))switch(w){case"value":Lt=_;break;case"defaultValue":K=_;break;case"multiple":F=_;default:_!==ht&&Pn(a,l,w,_,g,ht)}l=K,h=F,g=Mt,Lt!=null?ha(a,!!h,Lt,!1):!!g!=!!h&&(l!=null?ha(a,!!h,l,!0):ha(a,!!h,h?[]:"",!1));return;case"textarea":Mt=Lt=null;for(K in h)if(w=h[K],h.hasOwnProperty(K)&&w!=null&&!g.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Pn(a,l,K,null,g,w)}for(F in g)if(w=g[F],_=h[F],g.hasOwnProperty(F)&&(w!=null||_!=null))switch(F){case"value":Lt=w;break;case"defaultValue":Mt=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==_&&Pn(a,l,F,w,g,_)}fh(a,Lt,Mt);return;case"option":for(var Oe in h)if(Lt=h[Oe],h.hasOwnProperty(Oe)&&Lt!=null&&!g.hasOwnProperty(Oe))switch(Oe){case"selected":a.selected=!1;break;default:Pn(a,l,Oe,null,g,Lt)}for(ht in g)if(Lt=g[ht],Mt=h[ht],g.hasOwnProperty(ht)&&Lt!==Mt&&(Lt!=null||Mt!=null))switch(ht){case"selected":a.selected=Lt&&typeof Lt!="function"&&typeof Lt!="symbol";break;default:Pn(a,l,ht,Lt,g,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in h)Lt=h[Ee],h.hasOwnProperty(Ee)&&Lt!=null&&!g.hasOwnProperty(Ee)&&Pn(a,l,Ee,null,g,Lt);for(Rt in g)if(Lt=g[Rt],Mt=h[Rt],g.hasOwnProperty(Rt)&&Lt!==Mt&&(Lt!=null||Mt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(n(137,l));break;default:Pn(a,l,Rt,Lt,g,Mt)}return;default:if(ru(l)){for(var On in h)Lt=h[On],h.hasOwnProperty(On)&&Lt!==void 0&&!g.hasOwnProperty(On)&&m1(a,l,On,void 0,g,Lt);for(It in g)Lt=g[It],Mt=h[It],!g.hasOwnProperty(It)||Lt===Mt||Lt===void 0&&Mt===void 0||m1(a,l,It,Lt,g,Mt);return}}for(var At in h)Lt=h[At],h.hasOwnProperty(At)&&Lt!=null&&!g.hasOwnProperty(At)&&Pn(a,l,At,null,g,Lt);for(Gt in g)Lt=g[Gt],Mt=h[Gt],!g.hasOwnProperty(Gt)||Lt===Mt||Lt==null&&Mt==null||Pn(a,l,Gt,Lt,g,Mt)}var v1=null,b1=null;function _g(a){return a.nodeType===9?a:a.ownerDocument}function _5(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C5(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function y1(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var w1=null;function s4(){var a=window.event;return a&&a.type==="popstate"?a===w1?!1:(w1=a,!0):(w1=null,!1)}var N5=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,R5=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof R5<"u"?function(a){return R5.resolve(null).then(a).catch(l4)}:N5;function l4(a){setTimeout(function(){throw a})}function _c(a){return a==="head"}function L5(a,l){var h=l,g=0,w=0;do{var _=h.nextSibling;if(a.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(0<g&&8>g){h=g;var F=a.ownerDocument;if(h&1&&Ef(F.documentElement),h&2&&Ef(F.body),h&4)for(h=F.head,Ef(h),F=h.firstChild;F;){var K=F.nextSibling,ht=F.nodeName;F[qr]||ht==="SCRIPT"||ht==="STYLE"||ht==="LINK"&&F.rel.toLowerCase()==="stylesheet"||h.removeChild(F),F=K}}if(w===0){a.removeChild(_),Pf(l);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:g=h.charCodeAt(0)-48;else g=0;h=_}while(h);Pf(l)}function x1(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":x1(h),Hr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function c4(a,l,h,g){for(;a.nodeType===1;){var w=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[qr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Oa(a.nextSibling),a===null)break}return null}function u4(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Oa(a.nextSibling),a===null))return null;return a}function A1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function h4(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var g=function(){l(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Oa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var S1=null;function T5(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function M5(a,l,h){switch(l=_g(h),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Ef(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Hr(a)}var na=new Map,P5=new Set;function Cg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ll=et.d;et.d={f:d4,r:f4,D:p4,C:g4,L:m4,m:v4,X:y4,S:b4,M:w4};function d4(){var a=Ll.f(),l=vg();return a||l}function f4(a){var l=er(a);l!==null&&l.tag===5&&l.type==="form"?Ru(l):Ll.r(a)}var $h=typeof document>"u"?null:document;function O5(a,l,h){var g=$h;if(g&&typeof l=="string"&&l){var w=In(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),P5.has(w)||(P5.add(w),a={rel:a,crossOrigin:h,href:l},g.querySelector(w)===null&&(l=g.createElement("link"),xr(l,"link",a),_n(l),g.head.appendChild(l)))}}function p4(a){Ll.D(a),O5("dns-prefetch",a,null)}function g4(a,l){Ll.C(a,l),O5("preconnect",a,l)}function m4(a,l,h){Ll.L(a,l,h);var g=$h;if(g&&a&&l){var w='link[rel="preload"][as="'+In(l)+'"]';l==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+In(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+In(h.imageSizes)+'"]')):w+='[href="'+In(a)+'"]';var _=w;switch(l){case"style":_=Wh(a);break;case"script":_=Yh(a)}na.has(_)||(a=f({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),na.set(_,a),g.querySelector(w)!==null||l==="style"&&g.querySelector(_f(_))||l==="script"&&g.querySelector(Cf(_))||(l=g.createElement("link"),xr(l,"link",a),_n(l),g.head.appendChild(l)))}}function v4(a,l){Ll.m(a,l);var h=$h;if(h&&a){var g=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+In(g)+'"][href="'+In(a)+'"]',_=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yh(a)}if(!na.has(_)&&(a=f({rel:"modulepreload",href:a},l),na.set(_,a),h.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Cf(_)))return}g=h.createElement("link"),xr(g,"link",a),_n(g),h.head.appendChild(g)}}}function b4(a,l,h){Ll.S(a,l,h);var g=$h;if(g&&a){var w=Gi(g).hoistableStyles,_=Wh(a);l=l||"default";var F=w.get(_);if(!F){var K={loading:0,preload:null};if(F=g.querySelector(_f(_)))K.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":l},h),(h=na.get(_))&&E1(a,h);var ht=F=g.createElement("link");_n(ht),xr(ht,"link",a),ht._p=new Promise(function(Rt,It){ht.onload=Rt,ht.onerror=It}),ht.addEventListener("load",function(){K.loading|=1}),ht.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Ng(F,l,g)}F={type:"stylesheet",instance:F,count:1,state:K},w.set(_,F)}}}function y4(a,l){Ll.X(a,l);var h=$h;if(h&&a){var g=Gi(h).hoistableScripts,w=Yh(a),_=g.get(w);_||(_=h.querySelector(Cf(w)),_||(a=f({src:a,async:!0},l),(l=na.get(w))&&_1(a,l),_=h.createElement("script"),_n(_),xr(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(w,_))}}function w4(a,l){Ll.M(a,l);var h=$h;if(h&&a){var g=Gi(h).hoistableScripts,w=Yh(a),_=g.get(w);_||(_=h.querySelector(Cf(w)),_||(a=f({src:a,async:!0,type:"module"},l),(l=na.get(w))&&_1(a,l),_=h.createElement("script"),_n(_),xr(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(w,_))}}function k5(a,l,h,g){var w=(w=at.current)?Cg(w):null;if(!w)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Wh(h.href),h=Gi(w).hoistableStyles,g=h.get(l),g||(g={type:"style",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Wh(h.href);var _=Gi(w).hoistableStyles,F=_.get(a);if(F||(w=w.ownerDocument||w,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,F),(_=w.querySelector(_f(a)))&&!_._p&&(F.instance=_,F.state.loading=5),na.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},na.set(a,h),_||x4(w,a,h,F.state))),l&&g===null)throw Error(n(528,""));return F}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yh(h),h=Gi(w).hoistableScripts,g=h.get(l),g||(g={type:"script",instance:null,count:0,state:null},h.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Wh(a){return'href="'+In(a)+'"'}function _f(a){return'link[rel="stylesheet"]['+a+"]"}function D5(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function x4(a,l,h,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),xr(l,"link",h),_n(l),a.head.appendChild(l))}function Yh(a){return'[src="'+In(a)+'"]'}function Cf(a){return"script[async]"+a}function j5(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+In(h.href)+'"]');if(g)return l.instance=g,_n(g),g;var w=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),_n(g),xr(g,"style",w),Ng(g,h.precedence,a),l.instance=g;case"stylesheet":w=Wh(h.href);var _=a.querySelector(_f(w));if(_)return l.state.loading|=4,l.instance=_,_n(_),_;g=D5(h),(w=na.get(w))&&E1(g,w),_=(a.ownerDocument||a).createElement("link"),_n(_);var F=_;return F._p=new Promise(function(K,ht){F.onload=K,F.onerror=ht}),xr(_,"link",g),l.state.loading|=4,Ng(_,h.precedence,a),l.instance=_;case"script":return _=Yh(h.src),(w=a.querySelector(Cf(_)))?(l.instance=w,_n(w),w):(g=h,(w=na.get(_))&&(g=f({},h),_1(g,w)),a=a.ownerDocument||a,w=a.createElement("script"),_n(w),xr(w,"link",g),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Ng(g,h.precedence,a));return l.instance}function Ng(a,l,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,_=w,F=0;F<g.length;F++){var K=g[F];if(K.dataset.precedence===l)_=K;else if(_!==w)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function E1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function _1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Rg=null;function I5(a,l,h){if(Rg===null){var g=new Map,w=Rg=new Map;w.set(h,g)}else w=Rg,g=w.get(h),g||(g=new Map,w.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),w=0;w<h.length;w++){var _=h[w];if(!(_[qr]||_[fn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var F=_.getAttribute(l)||"";F=a+F;var K=g.get(F);K?K.push(_):g.set(F,[_])}}return g}function F5(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function A4(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function B5(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Nf=null;function S4(){}function E4(a,l,h){if(Nf===null)throw Error(n(475));var g=Nf;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=Wh(h.href),_=a.querySelector(_f(w));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Lg.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=_,_n(_);return}_=a.ownerDocument||a,h=D5(h),(w=na.get(w))&&E1(h,w),_=_.createElement("link"),_n(_);var F=_;F._p=new Promise(function(K,ht){F.onload=K,F.onerror=ht}),xr(_,"link",h),l.instance=_}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Lg.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function _4(){if(Nf===null)throw Error(n(475));var a=Nf;return a.stylesheets&&a.count===0&&C1(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&C1(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Lg(){if(this.count--,this.count===0){if(this.stylesheets)C1(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tg=null;function C1(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tg=new Map,l.forEach(C4,a),Tg=null,Lg.call(a))}function C4(a,l){if(!(l.state.loading&4)){var h=Tg.get(a);if(h)var g=h.get(null);else{h=new Map,Tg.set(a,h);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var F=w[_];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(h.set(F.dataset.precedence,F),g=F)}g&&h.set(null,g)}w=l.instance,F=w.getAttribute("data-precedence"),_=h.get(F)||g,_===g&&h.set(null,w),h.set(F,w),this.count++,g=Lg.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),_?_.parentNode.insertBefore(w,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var Rf={$$typeof:T,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function N4(a,l,h,g,w,_,F,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function z5(a,l,h,g,w,_,F,K,ht,Rt,It,Gt){return a=new N4(a,l,h,F,K,ht,Rt,Gt),l=1,_===!0&&(l|=24),_=ir(3,null,null,l),a.current=_,_.stateNode=a,l=Kd(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:l},vt(_),a}function U5(a){return a?(a=Ii,a):Ii}function q5(a,l,h,g,w,_){w=U5(w),g.context===null?g.context=w:g.pendingContext=w,g=jt(l),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=qt(a,g,l),h!==null&&(Os(h,a,l),Ft(h,a,l))}function H5(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function N1(a,l){H5(a,l),(a=a.alternate)&&H5(a,l)}function G5(a){if(a.tag===13){var l=wa(a,67108864);l!==null&&Os(l,a,67108864),N1(a,67108864)}}var Mg=!0;function R4(a,l,h,g){var w=H.T;H.T=null;var _=et.p;try{et.p=2,R1(a,l,h,g)}finally{et.p=_,H.T=w}}function L4(a,l,h,g){var w=H.T;H.T=null;var _=et.p;try{et.p=8,R1(a,l,h,g)}finally{et.p=_,H.T=w}}function R1(a,l,h,g){if(Mg){var w=L1(g);if(w===null)g1(a,l,g,Pg,h),$5(a,g);else if(M4(w,a,l,h,g))g.stopPropagation();else if($5(a,g),l&4&&-1<T4.indexOf(a)){for(;w!==null;){var _=er(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var F=Ke(_.pendingLanes);if(F!==0){var K=_;for(K.pendingLanes|=2,K.entangledLanes|=2;F;){var ht=1<<31-oe(F);K.entanglements[1]|=ht,F&=~ht}Lo(_),(Nn&6)===0&&(gg=le()+500,xf(0))}}break;case 13:K=wa(_,2),K!==null&&Os(K,_,2),vg(),N1(_,2)}if(_=L1(g),_===null&&g1(a,l,g,Pg,h),_===w)break;w=_}w!==null&&g.stopPropagation()}else g1(a,l,g,null,h)}}function L1(a){return a=ki(a),T1(a)}var Pg=null;function T1(a){if(Pg=null,a=tr(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Pg=a,null}function V5(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Ht:return 2;case Qt:return 8;case Jt:case Yt:return 32;case ce:return 268435456;default:return 32}default:return 32}}var M1=!1,Cc=null,Nc=null,Rc=null,Lf=new Map,Tf=new Map,Lc=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $5(a,l){switch(a){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Rc=null;break;case"pointerover":case"pointerout":Lf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(l.pointerId)}}function Mf(a,l,h,g,w,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[w]},l!==null&&(l=er(l),l!==null&&G5(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function M4(a,l,h,g,w){switch(l){case"focusin":return Cc=Mf(Cc,a,l,h,g,w),!0;case"dragenter":return Nc=Mf(Nc,a,l,h,g,w),!0;case"mouseover":return Rc=Mf(Rc,a,l,h,g,w),!0;case"pointerover":var _=w.pointerId;return Lf.set(_,Mf(Lf.get(_)||null,a,l,h,g,w)),!0;case"gotpointercapture":return _=w.pointerId,Tf.set(_,Mf(Tf.get(_)||null,a,l,h,g,w)),!0}return!1}function W5(a){var l=tr(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,An(a.priority,function(){if(h.tag===13){var g=Ps();g=Tn(g);var w=wa(h,g);w!==null&&Os(w,h,g),N1(h,g)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Og(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=L1(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Gl=g,h.target.dispatchEvent(g),Gl=null}else return l=er(h),l!==null&&G5(l),a.blockedOn=h,!1;l.shift()}return!0}function Y5(a,l,h){Og(a)&&h.delete(l)}function P4(){M1=!1,Cc!==null&&Og(Cc)&&(Cc=null),Nc!==null&&Og(Nc)&&(Nc=null),Rc!==null&&Og(Rc)&&(Rc=null),Lf.forEach(Y5),Tf.forEach(Y5)}function kg(a,l){a.blockedOn===l&&(a.blockedOn=null,M1||(M1=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P4)))}var Dg=null;function X5(a){Dg!==a&&(Dg=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dg===a&&(Dg=null);for(var l=0;l<a.length;l+=3){var h=a[l],g=a[l+1],w=a[l+2];if(typeof g!="function"){if(T1(g||h)===null)continue;break}var _=er(h);_!==null&&(a.splice(l,3),l-=3,Js(_,{pending:!0,data:w,method:h.method,action:g},g,w))}}))}function Pf(a){function l(ht){return kg(ht,a)}Cc!==null&&kg(Cc,a),Nc!==null&&kg(Nc,a),Rc!==null&&kg(Rc,a),Lf.forEach(l),Tf.forEach(l);for(var h=0;h<Lc.length;h++){var g=Lc[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Lc.length&&(h=Lc[0],h.blockedOn===null);)W5(h),h.blockedOn===null&&Lc.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var w=h[g],_=h[g+1],F=w[Ze]||null;if(typeof _=="function")F||X5(h);else if(F){var K=null;if(_&&_.hasAttribute("formAction")){if(w=_,F=_[Ze]||null)K=F.formAction;else if(T1(w)!==null)continue}else K=F.action;typeof K=="function"?h[g+1]=K:(h.splice(g,3),g-=3),X5(h)}}}function P1(a){this._internalRoot=a}jg.prototype.render=P1.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,g=Ps();q5(h,g,a,l,null,null)},jg.prototype.unmount=P1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;q5(a.current,2,null,a,null,null),vg(),l[pn]=null}};function jg(a){this._internalRoot=a}jg.prototype.unstable_scheduleHydration=function(a){if(a){var l=Ji();a={blockedOn:null,target:a,priority:l};for(var h=0;h<Lc.length&&l!==0&&l<Lc[h].priority;h++);Lc.splice(h,0,a),h===0&&W5(a)}};var K5=t.version;if(K5!=="19.1.0")throw Error(n(527,K5,"19.1.0"));et.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var O4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{Se=Ig.inject(O4),be=Ig}catch{}}return kf.createRoot=function(a,l){if(!r(a))throw Error(n(299));var h=!1,g="",w=d2,_=f2,F=p2,K=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(K=l.unstable_transitionCallbacks)),l=z5(a,1,!1,null,null,h,g,w,_,F,K,null),a[pn]=l.current,p1(a),new P1(l)},kf.hydrateRoot=function(a,l,h){if(!r(a))throw Error(n(299));var g=!1,w="",_=d2,F=f2,K=p2,ht=null,Rt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ht=h.unstable_transitionCallbacks),h.formState!==void 0&&(Rt=h.formState)),l=z5(a,1,!0,l,h??null,g,w,_,F,K,ht,Rt),l.context=U5(null),h=l.current,g=Ps(),g=Tn(g),w=jt(g),w.callback=null,qt(h,w,g),h=g,l.current.lanes=h,Zi(l,h),Lo(l),a[pn]=l.current,p1(a),new jg(l)},kf.version="19.1.0",kf}var lw;function H4(){if(lw)return j1.exports;lw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),j1.exports=q4(),j1.exports}var G4=H4();const V4=mp(G4);var Rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xu=typeof window>"u"||"Deno"in globalThis;function Qr(){}function $4(i,t){return typeof i=="function"?i(t):i}function Nv(i){return typeof i=="number"&&i>=0&&i!==1/0}function FA(i,t){return Math.max(i+(t||0)-Date.now(),0)}function Uc(i,t){return typeof i=="function"?i(t):i}function aa(i,t){return typeof i=="function"?i(t):i}function cw(i,t){const{type:e="all",exact:n,fetchStatus:r,predicate:s,queryKey:o,stale:c}=i;if(o){if(n){if(t.queryHash!==Mb(o,t.options))return!1}else if(!np(t.queryKey,o))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||r&&r!==t.state.fetchStatus||s&&!s(t))}function uw(i,t){const{exact:e,status:n,predicate:r,mutationKey:s}=i;if(s){if(!t.options.mutationKey)return!1;if(e){if(Ku(t.options.mutationKey)!==Ku(s))return!1}else if(!np(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function Mb(i,t){return(t?.queryKeyHashFn||Ku)(i)}function Ku(i){return JSON.stringify(i,(t,e)=>Rv(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function np(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?Object.keys(t).every(e=>np(i[e],t[e])):!1}function BA(i,t){if(i===t)return i;const e=hw(i)&&hw(t);if(e||Rv(i)&&Rv(t)){const n=e?i:Object.keys(i),r=n.length,s=e?t:Object.keys(t),o=s.length,c=e?[]:{},u=new Set(n);let d=0;for(let f=0;f<o;f++){const p=e?f:s[f];(!e&&u.has(p)||e)&&i[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=BA(i[p],t[p]),c[p]===i[p]&&i[p]!==void 0&&d++)}return r===o&&d===r?i:c}return t}function Nm(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function hw(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Rv(i){if(!dw(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!dw(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function dw(i){return Object.prototype.toString.call(i)==="[object Object]"}function W4(i){return new Promise(t=>{setTimeout(t,i)})}function Lv(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?BA(i,t):t}function Y4(i,t,e=0){const n=[...i,t];return e&&n.length>e?n.slice(1):n}function X4(i,t,e=0){const n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var Pb=Symbol();function zA(i,t){return!i.queryFn&&t?.initialPromise?()=>t.initialPromise:!i.queryFn||i.queryFn===Pb?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function UA(i,t){return typeof i=="function"?i(...t):!!i}var K4=class extends Rd{#t;#e;#n;constructor(){super(),this.#n=i=>{if(!Xu&&window.addEventListener){const t=()=>i();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(i){this.#n=i,this.#e?.(),this.#e=i(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(i){this.#t!==i&&(this.#t=i,this.onFocus())}onFocus(){const i=this.isFocused();this.listeners.forEach(t=>{t(i)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ob=new K4,Q4=class extends Rd{#t=!0;#e;#n;constructor(){super(),this.#n=i=>{if(!Xu&&window.addEventListener){const t=()=>i(!0),e=()=>i(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(i){this.#n=i,this.#e?.(),this.#e=i(this.setOnline.bind(this))}setOnline(i){this.#t!==i&&(this.#t=i,this.listeners.forEach(e=>{e(i)}))}isOnline(){return this.#t}},Rm=new Q4;function Tv(){let i,t;const e=new Promise((r,s)=>{i=r,t=s});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function Z4(i){return Math.min(1e3*2**i,3e4)}function qA(i){return(i??"online")==="online"?Rm.isOnline():!0}var HA=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function z1(i){return i instanceof HA}function GA(i){let t=!1,e=0,n=!1,r;const s=Tv(),o=y=>{n||(m(new HA(y)),i.abort?.())},c=()=>{t=!0},u=()=>{t=!1},d=()=>Ob.isFocused()&&(i.networkMode==="always"||Rm.isOnline())&&i.canRun(),f=()=>qA(i.networkMode)&&i.canRun(),p=y=>{n||(n=!0,i.onSuccess?.(y),r?.(),s.resolve(y))},m=y=>{n||(n=!0,i.onError?.(y),r?.(),s.reject(y))},b=()=>new Promise(y=>{r=E=>{(n||d())&&y(E)},i.onPause?.()}).then(()=>{r=void 0,n||i.onContinue?.()}),x=()=>{if(n)return;let y;const E=e===0?i.initialPromise:void 0;try{y=E??i.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(p).catch(S=>{if(n)return;const L=i.retry??(Xu?0:3),T=i.retryDelay??Z4,O=typeof T=="function"?T(e,S):T,P=L===!0||typeof L=="number"&&e<L||typeof L=="function"&&L(e,S);if(t||!P){m(S);return}e++,i.onFail?.(e,S),W4(O).then(()=>d()?void 0:b()).then(()=>{t?m(S):x()})})};return{promise:s,cancel:o,continue:()=>(r?.(),s),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?x():b().then(x),s)}}var J4=i=>setTimeout(i,0);function tN(){let i=[],t=0,e=c=>{c()},n=c=>{c()},r=J4;const s=c=>{t?i.push(c):r(()=>{e(c)})},o=()=>{const c=i;i=[],c.length&&r(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||o()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{r=c}}}var Xi=tN(),VA=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nv(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Xu?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},eN=class extends VA{#t;#e;#n;#i;#s;#r;#o;constructor(i){super(),this.#o=!1,this.#r=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.#i=i.client,this.#n=this.#i.getQueryCache(),this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.#t=nN(this.options),this.state=i.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(i){this.options={...this.#r,...i},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(i,t){const e=Lv(this.state.data,i,this.options);return this.#a({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(i,t){this.#a({type:"setState",state:i,setStateOptions:t})}cancel(i){const t=this.#s?.promise;return this.#s?.cancel(i),t?t.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(i=>aa(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(i=>Uc(i.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(i=0){return this.state.data===void 0?!0:i==="static"?!1:this.state.isInvalidated?!0:!FA(this.state.dataUpdatedAt,i)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(t=>t!==i),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(i,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(i&&this.setOptions(i),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const e=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,e.signal)})},r=()=>{const u=zA(this.options,t),f=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:r};return n(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const c=u=>{z1(u)&&u.silent||this.#a({type:"error",error:u}),z1(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#s=GA({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:u=>{if(u===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){c(d);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:c,onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(i){const t=e=>{switch(i.type){case"failed":return{...e,fetchFailureCount:i.failureCount,fetchFailureReason:i.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...$A(e.data,this.options),fetchMeta:i.meta??null};case"success":return this.#e=void 0,{...e,data:i.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=i.error;return z1(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...i.state}}};this.state=t(this.state),Xi.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:i})})}};function $A(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qA(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function nN(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var iN=class extends Rd{constructor(i={}){super(),this.config=i,this.#t=new Map}#t;build(i,t,e){const n=t.queryKey,r=t.queryHash??Mb(n,t);let s=this.get(r);return s||(s=new eN({client:i,queryKey:n,queryHash:r,options:i.defaultQueryOptions(t),state:e,defaultOptions:i.getQueryDefaults(n)}),this.add(s)),s}add(i){this.#t.has(i.queryHash)||(this.#t.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){const t=this.#t.get(i.queryHash);t&&(i.destroy(),t===i&&this.#t.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){Xi.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#t.get(i)}getAll(){return[...this.#t.values()]}find(i){const t={exact:!0,...i};return this.getAll().find(e=>cw(t,e))}findAll(i={}){const t=this.getAll();return Object.keys(i).length>0?t.filter(e=>cw(i,e)):t}notify(i){Xi.batch(()=>{this.listeners.forEach(t=>{t(i)})})}onFocus(){Xi.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){Xi.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}},rN=class extends VA{#t;#e;#n;constructor(i){super(),this.mutationId=i.mutationId,this.#e=i.mutationCache,this.#t=[],this.state=i.state||WA(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){this.#t.includes(i)||(this.#t.push(i),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.#t=this.#t.filter(t=>t!==i),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(i){const t=()=>{this.#i({type:"continue"})};this.#n=GA({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#i({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(e)t();else{this.#i({type:"pending",variables:i,isPaused:n}),await this.#e.config.onMutate?.(i,this);const s=await this.options.onMutate?.(i);s!==this.state.context&&this.#i({type:"pending",context:s,variables:i,isPaused:n})}const r=await this.#n.start();return await this.#e.config.onSuccess?.(r,i,this.state.context,this),await this.options.onSuccess?.(r,i,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,i,this.state.context),this.#i({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,i,this.state.context,this),await this.options.onError?.(r,i,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,i,this.state.context),r}finally{this.#i({type:"error",error:r})}}finally{this.#e.runNext(this)}}#i(i){const t=e=>{switch(i.type){case"failed":return{...e,failureCount:i.failureCount,failureReason:i.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()};case"success":return{...e,data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:i.error,failureCount:e.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xi.batch(()=>{this.#t.forEach(e=>{e.onMutationUpdate(i)}),this.#e.notify({mutation:this,type:"updated",action:i})})}};function WA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sN=class extends Rd{constructor(i={}){super(),this.config=i,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(i,t,e){const n=new rN({mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(t),state:e});return this.add(n),n}add(i){this.#t.add(i);const t=Fg(i);if(typeof t=="string"){const e=this.#e.get(t);e?e.push(i):this.#e.set(t,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#t.delete(i)){const t=Fg(i);if(typeof t=="string"){const e=this.#e.get(t);if(e)if(e.length>1){const n=e.indexOf(i);n!==-1&&e.splice(n,1)}else e[0]===i&&this.#e.delete(t)}}this.notify({type:"removed",mutation:i})}canRun(i){const t=Fg(i);if(typeof t=="string"){const n=this.#e.get(t)?.find(r=>r.state.status==="pending");return!n||n===i}else return!0}runNext(i){const t=Fg(i);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==i&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xi.batch(()=>{this.#t.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(i){const t={exact:!0,...i};return this.getAll().find(e=>uw(t,e))}findAll(i={}){return this.getAll().filter(t=>uw(i,t))}notify(i){Xi.batch(()=>{this.listeners.forEach(t=>{t(i)})})}resumePausedMutations(){const i=this.getAll().filter(t=>t.state.isPaused);return Xi.batch(()=>Promise.all(i.map(t=>t.continue().catch(Qr))))}};function Fg(i){return i.options.scope?.id}function fw(i){return{onFetch:(t,e)=>{const n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},m=zA(t.options,t.fetchOptions),b=async(x,y,E)=>{if(f)return Promise.reject();if(y==null&&x.pages.length)return Promise.resolve(x);const L=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:y,direction:E?"backward":"forward",meta:t.options.meta};return p(B),B})(),T=await m(L),{maxPages:O}=t.options,P=E?X4:Y4;return{pages:P(x.pages,T,O),pageParams:P(x.pageParams,y,O)}};if(r&&s.length){const x=r==="backward",y=x?aN:pw,E={pages:s,pageParams:o},S=y(n,E);c=await b(E,S,x)}else{const x=i??s.length;do{const y=u===0?o[0]??n.initialPageParam:pw(n,c);if(u>0&&y==null)break;c=await b(c,y),u++}while(u<x)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=d}}}function pw(i,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function aN(i,{pages:t,pageParams:e}){return t.length>0?i.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var oN=class{#t;#e;#n;#i;#s;#r;#o;#a;constructor(i={}){this.#t=i.queryCache||new iN,this.#e=i.mutationCache||new sN,this.#n=i.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Ob.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Rm.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(i){return this.#t.findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return this.#e.findAll({...i,status:"pending"}).length}getQueryData(i){const t=this.defaultQueryOptions({queryKey:i});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=this.#t.build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(Uc(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return this.#t.findAll(i).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(i,t,e){const n=this.defaultQueryOptions({queryKey:i}),s=this.#t.get(n.queryHash)?.state.data,o=$4(t,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...e,manual:!0})}setQueriesData(i,t,e){return Xi.batch(()=>this.#t.findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){const t=this.defaultQueryOptions({queryKey:i});return this.#t.get(t.queryHash)?.state}removeQueries(i){const t=this.#t;Xi.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=this.#t;return Xi.batch(()=>(e.findAll(i).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...i},t)))}cancelQueries(i,t={}){const e={revert:!0,...t},n=Xi.batch(()=>this.#t.findAll(i).map(r=>r.cancel(e)));return Promise.all(n).then(Qr).catch(Qr)}invalidateQueries(i,t={}){return Xi.batch(()=>(this.#t.findAll(i).forEach(e=>{e.invalidate()}),i?.refetchType==="none"?Promise.resolve():this.refetchQueries({...i,type:i?.refetchType??i?.type??"active"},t)))}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},n=Xi.batch(()=>this.#t.findAll(i).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,e);return e.throwOnError||(s=s.catch(Qr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Qr)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=this.#t.build(this,t);return e.isStaleByTime(Uc(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Qr).catch(Qr)}fetchInfiniteQuery(i){return i.behavior=fw(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Qr).catch(Qr)}ensureInfiniteQueryData(i){return i.behavior=fw(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Rm.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,t){this.#i.set(Ku(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...this.#i.values()],e={};return t.forEach(n=>{np(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){this.#s.set(Ku(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...this.#s.values()],e={};return t.forEach(n=>{np(i,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...this.#n.queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=Mb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pb&&(t.enabled=!1),t}defaultMutationOptions(i){return i?._defaulted?i:{...this.#n.mutations,...i?.mutationKey&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},lN=class extends Rd{constructor(i,t){super(),this.options=t,this.#t=i,this.#a=null,this.#o=Tv(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#s;#r;#o;#a;#h;#c;#d;#u;#f;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),gw(this.#e,this.options)?this.#m():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mv(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mv(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#A(),this.#e.removeObserver(this)}setOptions(i){const t=this.options,e=this.#e;if(this.options=this.#t.defaultQueryOptions(i),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof aa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!Nm(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&mw(this.#e,e,this.options,t)&&this.#m(),this.updateResult(),n&&(this.#e!==e||aa(this.options.enabled,this.#e)!==aa(t.enabled,this.#e)||Uc(this.options.staleTime,this.#e)!==Uc(t.staleTime,this.#e))&&this.#g();const r=this.#v();n&&(this.#e!==e||aa(this.options.enabled,this.#e)!==aa(t.enabled,this.#e)||r!==this.#l)&&this.#b(r)}getOptimisticResult(i){const t=this.#t.getQueryCache().build(this.#t,i),e=this.createResult(t,i);return uN(this,e)&&(this.#i=e,this.#r=this.options,this.#s=this.#e.state),e}getCurrentResult(){return this.#i}trackResult(i,t){return new Proxy(i,{get:(e,n)=>(this.trackProp(n),t?.(n),Reflect.get(e,n))})}trackProp(i){this.#p.add(i)}getCurrentQuery(){return this.#e}refetch({...i}={}){return this.fetch({...i})}fetchOptimistic(i){const t=this.#t.defaultQueryOptions(i),e=this.#t.getQueryCache().build(this.#t,t);return e.fetch().then(()=>this.createResult(e,t))}fetch(i){return this.#m({...i,cancelRefetch:i.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#m(i){this.#S();let t=this.#e.fetch(this.options,i);return i?.throwOnError||(t=t.catch(Qr)),t}#g(){this.#x();const i=Uc(this.options.staleTime,this.#e);if(Xu||this.#i.isStale||!Nv(i))return;const e=FA(this.#i.dataUpdatedAt,i)+1;this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},e)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(i){this.#A(),this.#l=i,!(Xu||aa(this.options.enabled,this.#e)===!1||!Nv(this.#l)||this.#l===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||Ob.isFocused())&&this.#m()},this.#l))}#y(){this.#g(),this.#b(this.#v())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#A(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(i,t){const e=this.#e,n=this.options,r=this.#i,s=this.#s,o=this.#r,u=i!==e?i.state:this.#n,{state:d}=i;let f={...d},p=!1,m;if(t._optimisticResults){const I=this.hasListeners(),tt=!I&&gw(i,t),ct=I&&mw(i,e,t,n);(tt||ct)&&(f={...f,...$A(d.data,i.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:y}=f;m=f.data;let E=!1;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let I;r?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=r.data,E=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,I!==void 0&&(y="success",m=Lv(r?.data,I,t),p=!0)}if(t.select&&m!==void 0&&!E)if(r&&m===s?.data&&t.select===this.#h)m=this.#c;else try{this.#h=t.select,m=t.select(m),m=Lv(r?.data,m,t),this.#c=m,this.#a=null}catch(I){this.#a=I}this.#a&&(b=this.#a,m=this.#c,x=Date.now(),y="error");const S=f.fetchStatus==="fetching",L=y==="pending",T=y==="error",O=L&&S,P=m!==void 0,j={status:y,fetchStatus:f.fetchStatus,isPending:L,isSuccess:y==="success",isError:T,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!L,isLoadingError:T&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&P,isStale:kb(i,t),refetch:this.refetch,promise:this.#o,isEnabled:aa(t.enabled,i)!==!1};if(this.options.experimental_prefetchInRender){const I=z=>{j.status==="error"?z.reject(j.error):j.data!==void 0&&z.resolve(j.data)},tt=()=>{const z=this.#o=j.promise=Tv();I(z)},ct=this.#o;switch(ct.status){case"pending":i.queryHash===e.queryHash&&I(ct);break;case"fulfilled":(j.status==="error"||j.data!==ct.value)&&tt();break;case"rejected":(j.status!=="error"||j.error!==ct.reason)&&tt();break}}return j}updateResult(){const i=this.#i,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#r=this.options,this.#s.data!==void 0&&(this.#d=this.#e),Nm(t,i))return;this.#i=t;const e=()=>{if(!i)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#p.size)return!0;const s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const c=o;return this.#i[c]!==i[c]&&s.has(c)})};this.#C({listeners:e()})}#S(){const i=this.#t.getQueryCache().build(this.#t,this.options);if(i===this.#e)return;const t=this.#e;this.#e=i,this.#n=i.state,this.hasListeners()&&(t?.removeObserver(this),i.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(i){Xi.batch(()=>{i.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function cN(i,t){return aa(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function gw(i,t){return cN(i,t)||i.state.data!==void 0&&Mv(i,t,t.refetchOnMount)}function Mv(i,t,e){if(aa(t.enabled,i)!==!1&&Uc(t.staleTime,i)!=="static"){const n=typeof e=="function"?e(i):e;return n==="always"||n!==!1&&kb(i,t)}return!1}function mw(i,t,e,n){return(i!==t||aa(n.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&kb(i,e)}function kb(i,t){return aa(t.enabled,i)!==!1&&i.isStaleByTime(Uc(t.staleTime,i))}function uN(i,t){return!Nm(i.getCurrentResult(),t)}var hN=class extends Rd{#t;#e=void 0;#n;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#t.defaultMutationOptions(t),Nm(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&Ku(e.mutationKey)!==Ku(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#r()}mutate(t,e){return this.#i=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??WA();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#r(t){Xi.batch(()=>{if(this.#i&&this.hasListeners()){const e=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,e,n),this.#i.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#i.onError?.(t.error,e,n),this.#i.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(e=>{e(this.#e)})})}},YA=k.createContext(void 0),bp=i=>{const t=k.useContext(YA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dN=({client:i,children:t})=>(k.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),R.jsx(YA.Provider,{value:i,children:t})),XA=k.createContext(!1),fN=()=>k.useContext(XA);XA.Provider;function pN(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var gN=k.createContext(pN()),mN=()=>k.useContext(gN),vN=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},bN=i=>{k.useEffect(()=>{i.clearReset()},[i])},yN=({result:i,errorResetBoundary:t,throwOnError:e,query:n,suspense:r})=>i.isError&&!t.isReset()&&!i.isFetching&&n&&(r&&i.data===void 0||UA(e,[i.error,n])),wN=i=>{if(i.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),e=i.staleTime;i.staleTime=typeof e=="function"?(...n)=>t(e(...n)):t(e),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},xN=(i,t)=>i.isLoading&&i.isFetching&&!t,AN=(i,t)=>i?.suspense&&t.isPending,vw=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function SN(i,t,e){const n=fN(),r=mN(),s=bp(),o=s.defaultQueryOptions(i);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",wN(o),vN(o,r),bN(r);const c=!s.getQueryCache().get(o.queryHash),[u]=k.useState(()=>new t(s,o)),d=u.getOptimisticResult(o),f=!n&&i.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(p=>{const m=f?u.subscribe(Xi.batchCalls(p)):Qr;return u.updateResult(),m},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(o)},[o,u]),AN(o,d))throw vw(o,u,r);if(yN({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Xu&&xN(d,n)&&(c?vw(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Qr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function yp(i,t){return SN(i,lN)}function Bs(i,t){const e=bp(),[n]=k.useState(()=>new hN(e,i));k.useEffect(()=>{n.setOptions(i)},[n,i]);const r=k.useSyncExternalStore(k.useCallback(o=>n.subscribe(Xi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=k.useCallback((o,c)=>{n.mutate(o,c).catch(Qr)},[n]);if(r.error&&UA(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function KA(i,t){return function(){return i.apply(t,arguments)}}const{toString:EN}=Object.prototype,{getPrototypeOf:Db}=Object,{iterator:Gm,toStringTag:QA}=Symbol,Vm=(i=>t=>{const e=EN.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Va=i=>(i=i.toLowerCase(),t=>Vm(t)===i),$m=i=>t=>typeof t===i,{isArray:Ld}=Array,ip=$m("undefined");function _N(i){return i!==null&&!ip(i)&&i.constructor!==null&&!ip(i.constructor)&&ms(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ZA=Va("ArrayBuffer");function CN(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&ZA(i.buffer),t}const NN=$m("string"),ms=$m("function"),JA=$m("number"),Wm=i=>i!==null&&typeof i=="object",RN=i=>i===!0||i===!1,cm=i=>{if(Vm(i)!=="object")return!1;const t=Db(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(QA in i)&&!(Gm in i)},LN=Va("Date"),TN=Va("File"),MN=Va("Blob"),PN=Va("FileList"),ON=i=>Wm(i)&&ms(i.pipe),kN=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||ms(i.append)&&((t=Vm(i))==="formdata"||t==="object"&&ms(i.toString)&&i.toString()==="[object FormData]"))},DN=Va("URLSearchParams"),[jN,IN,FN,BN]=["ReadableStream","Request","Response","Headers"].map(Va),zN=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wp(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let n,r;if(typeof i!="object"&&(i=[i]),Ld(i))for(n=0,r=i.length;n<r;n++)t.call(null,i[n],n,i);else{const s=e?Object.getOwnPropertyNames(i):Object.keys(i),o=s.length;let c;for(n=0;n<o;n++)c=s[n],t.call(null,i[c],c,i)}}function tS(i,t){t=t.toLowerCase();const e=Object.keys(i);let n=e.length,r;for(;n-- >0;)if(r=e[n],t===r.toLowerCase())return r;return null}const qu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eS=i=>!ip(i)&&i!==qu;function Pv(){const{caseless:i}=eS(this)&&this||{},t={},e=(n,r)=>{const s=i&&tS(t,r)||r;cm(t[s])&&cm(n)?t[s]=Pv(t[s],n):cm(n)?t[s]=Pv({},n):Ld(n)?t[s]=n.slice():t[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&wp(arguments[n],e);return t}const UN=(i,t,e,{allOwnKeys:n}={})=>(wp(t,(r,s)=>{e&&ms(r)?i[s]=KA(r,e):i[s]=r},{allOwnKeys:n}),i),qN=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),HN=(i,t,e,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},GN=(i,t,e,n)=>{let r,s,o;const c={};if(t=t||{},i==null)return t;do{for(r=Object.getOwnPropertyNames(i),s=r.length;s-- >0;)o=r[s],(!n||n(o,i,t))&&!c[o]&&(t[o]=i[o],c[o]=!0);i=e!==!1&&Db(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},VN=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const n=i.indexOf(t,e);return n!==-1&&n===e},$N=i=>{if(!i)return null;if(Ld(i))return i;let t=i.length;if(!JA(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},WN=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&Db(Uint8Array)),YN=(i,t)=>{const n=(i&&i[Gm]).call(i);let r;for(;(r=n.next())&&!r.done;){const s=r.value;t.call(i,s[0],s[1])}},XN=(i,t)=>{let e;const n=[];for(;(e=i.exec(t))!==null;)n.push(e);return n},KN=Va("HTMLFormElement"),QN=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,r){return n.toUpperCase()+r}),bw=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),ZN=Va("RegExp"),nS=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),n={};wp(e,(r,s)=>{let o;(o=t(r,s,i))!==!1&&(n[s]=o||r)}),Object.defineProperties(i,n)},JN=i=>{nS(i,(t,e)=>{if(ms(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=i[e];if(ms(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},tR=(i,t)=>{const e={},n=r=>{r.forEach(s=>{e[s]=!0})};return Ld(i)?n(i):n(String(i).split(t)),e},eR=()=>{},nR=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function iR(i){return!!(i&&ms(i.append)&&i[QA]==="FormData"&&i[Gm])}const rR=i=>{const t=new Array(10),e=(n,r)=>{if(Wm(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const s=Ld(n)?[]:{};return wp(n,(o,c)=>{const u=e(o,r+1);!ip(u)&&(s[c]=u)}),t[r]=void 0,s}}return n};return e(i,0)},sR=Va("AsyncFunction"),aR=i=>i&&(Wm(i)||ms(i))&&ms(i.then)&&ms(i.catch),iS=((i,t)=>i?setImmediate:t?((e,n)=>(qu.addEventListener("message",({source:r,data:s})=>{r===qu&&s===e&&n.length&&n.shift()()},!1),r=>{n.push(r),qu.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ms(qu.postMessage)),oR=typeof queueMicrotask<"u"?queueMicrotask.bind(qu):typeof process<"u"&&process.nextTick||iS,lR=i=>i!=null&&ms(i[Gm]),Ot={isArray:Ld,isArrayBuffer:ZA,isBuffer:_N,isFormData:kN,isArrayBufferView:CN,isString:NN,isNumber:JA,isBoolean:RN,isObject:Wm,isPlainObject:cm,isReadableStream:jN,isRequest:IN,isResponse:FN,isHeaders:BN,isUndefined:ip,isDate:LN,isFile:TN,isBlob:MN,isRegExp:ZN,isFunction:ms,isStream:ON,isURLSearchParams:DN,isTypedArray:WN,isFileList:PN,forEach:wp,merge:Pv,extend:UN,trim:zN,stripBOM:qN,inherits:HN,toFlatObject:GN,kindOf:Vm,kindOfTest:Va,endsWith:VN,toArray:$N,forEachEntry:YN,matchAll:XN,isHTMLForm:KN,hasOwnProperty:bw,hasOwnProp:bw,reduceDescriptors:nS,freezeMethods:JN,toObjectSet:tR,toCamelCase:QN,noop:eR,toFiniteNumber:nR,findKey:tS,global:qu,isContextDefined:eS,isSpecCompliantForm:iR,toJSONObject:rR,isAsyncFn:sR,isThenable:aR,setImmediate:iS,asap:oR,isIterable:lR};function qe(i,t,e,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Ot.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ot.toJSONObject(this.config),code:this.code,status:this.status}}});const rS=qe.prototype,sS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{sS[i]={value:i}});Object.defineProperties(qe,sS);Object.defineProperty(rS,"isAxiosError",{value:!0});qe.from=(i,t,e,n,r,s)=>{const o=Object.create(rS);return Ot.toFlatObject(i,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),qe.call(o,i.message,t,e,n,r),o.cause=i,o.name=i.name,s&&Object.assign(o,s),o};const cR=null;function Ov(i){return Ot.isPlainObject(i)||Ot.isArray(i)}function aS(i){return Ot.endsWith(i,"[]")?i.slice(0,-2):i}function yw(i,t,e){return i?i.concat(t).map(function(r,s){return r=aS(r),!e&&s?"["+r+"]":r}).join(e?".":""):t}function uR(i){return Ot.isArray(i)&&!i.some(Ov)}const hR=Ot.toFlatObject(Ot,{},null,function(t){return/^is[A-Z]/.test(t)});function Ym(i,t,e){if(!Ot.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=Ot.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,E){return!Ot.isUndefined(E[y])});const n=e.metaTokens,r=e.visitor||f,s=e.dots,o=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&Ot.isSpecCompliantForm(t);if(!Ot.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Ot.isDate(x))return x.toISOString();if(Ot.isBoolean(x))return x.toString();if(!u&&Ot.isBlob(x))throw new qe("Blob is not supported. Use a Buffer instead.");return Ot.isArrayBuffer(x)||Ot.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,E){let S=x;if(x&&!E&&typeof x=="object"){if(Ot.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ot.isArray(x)&&uR(x)||(Ot.isFileList(x)||Ot.endsWith(y,"[]"))&&(S=Ot.toArray(x)))return y=aS(y),S.forEach(function(T,O){!(Ot.isUndefined(T)||T===null)&&t.append(o===!0?yw([y],O,s):o===null?y:y+"[]",d(T))}),!1}return Ov(x)?!0:(t.append(yw(E,y,s),d(x)),!1)}const p=[],m=Object.assign(hR,{defaultVisitor:f,convertValue:d,isVisitable:Ov});function b(x,y){if(!Ot.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(x),Ot.forEach(x,function(S,L){(!(Ot.isUndefined(S)||S===null)&&r.call(t,S,Ot.isString(L)?L.trim():L,y,m))===!0&&b(S,y?y.concat(L):[L])}),p.pop()}}if(!Ot.isObject(i))throw new TypeError("data must be an object");return b(i),t}function ww(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jb(i,t){this._pairs=[],i&&Ym(i,this,t)}const oS=jb.prototype;oS.append=function(t,e){this._pairs.push([t,e])};oS.toString=function(t){const e=t?function(n){return t.call(this,n,ww)}:ww;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function dR(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lS(i,t,e){if(!t)return i;const n=e&&e.encode||dR;Ot.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let s;if(r?s=r(t,e):s=Ot.isURLSearchParams(t)?t.toString():new jb(t,e).toString(n),s){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+s}return i}class xw{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ot.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fR=typeof URLSearchParams<"u"?URLSearchParams:jb,pR=typeof FormData<"u"?FormData:null,gR=typeof Blob<"u"?Blob:null,mR={isBrowser:!0,classes:{URLSearchParams:fR,FormData:pR,Blob:gR},protocols:["http","https","file","blob","url","data"]},Ib=typeof window<"u"&&typeof document<"u",kv=typeof navigator=="object"&&navigator||void 0,vR=Ib&&(!kv||["ReactNative","NativeScript","NS"].indexOf(kv.product)<0),bR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yR=Ib&&window.location.href||"http://localhost",wR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ib,hasStandardBrowserEnv:vR,hasStandardBrowserWebWorkerEnv:bR,navigator:kv,origin:yR},Symbol.toStringTag,{value:"Module"})),Br={...wR,...mR};function xR(i,t){return Ym(i,new Br.classes.URLSearchParams,Object.assign({visitor:function(e,n,r,s){return Br.isNode&&Ot.isBuffer(e)?(this.append(n,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function AR(i){return Ot.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function SR(i){const t={},e=Object.keys(i);let n;const r=e.length;let s;for(n=0;n<r;n++)s=e[n],t[s]=i[s];return t}function uS(i){function t(e,n,r,s){let o=e[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=s>=e.length;return o=!o&&Ot.isArray(r)?r.length:o,u?(Ot.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!c):((!r[o]||!Ot.isObject(r[o]))&&(r[o]=[]),t(e,n,r[o],s)&&Ot.isArray(r[o])&&(r[o]=SR(r[o])),!c)}if(Ot.isFormData(i)&&Ot.isFunction(i.entries)){const e={};return Ot.forEachEntry(i,(n,r)=>{t(AR(n),r,e,0)}),e}return null}function ER(i,t,e){if(Ot.isString(i))try{return(t||JSON.parse)(i),Ot.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}const xp={transitional:cS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,s=Ot.isObject(t);if(s&&Ot.isHTMLForm(t)&&(t=new FormData(t)),Ot.isFormData(t))return r?JSON.stringify(uS(t)):t;if(Ot.isArrayBuffer(t)||Ot.isBuffer(t)||Ot.isStream(t)||Ot.isFile(t)||Ot.isBlob(t)||Ot.isReadableStream(t))return t;if(Ot.isArrayBufferView(t))return t.buffer;if(Ot.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xR(t,this.formSerializer).toString();if((c=Ot.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ym(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),ER(t)):t}],transformResponse:[function(t){const e=this.transitional||xp.transitional,n=e&&e.forcedJSONParsing,r=this.responseType==="json";if(Ot.isResponse(t)||Ot.isReadableStream(t))return t;if(t&&Ot.isString(t)&&(n&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?qe.from(c,qe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Br.classes.FormData,Blob:Br.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ot.forEach(["delete","get","head","post","put","patch"],i=>{xp.headers[i]={}});const _R=Ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CR=i=>{const t={};let e,n,r;return i&&i.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!e||t[e]&&_R[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},Aw=Symbol("internals");function Df(i){return i&&String(i).trim().toLowerCase()}function um(i){return i===!1||i==null?i:Ot.isArray(i)?i.map(um):String(i)}function NR(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(i);)t[n[1]]=n[2];return t}const RR=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function U1(i,t,e,n,r){if(Ot.isFunction(n))return n.call(this,t,e);if(r&&(t=e),!!Ot.isString(t)){if(Ot.isString(n))return t.indexOf(n)!==-1;if(Ot.isRegExp(n))return n.test(t)}}function LR(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function TR(i,t){const e=Ot.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+e,{value:function(r,s,o){return this[n].call(this,t,r,s,o)},configurable:!0})})}let vs=class{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function s(c,u,d){const f=Df(u);if(!f)throw new Error("header name must be a non-empty string");const p=Ot.findKey(r,f);(!p||r[p]===void 0||d===!0||d===void 0&&r[p]!==!1)&&(r[p||u]=um(c))}const o=(c,u)=>Ot.forEach(c,(d,f)=>s(d,f,u));if(Ot.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Ot.isString(t)&&(t=t.trim())&&!RR(t))o(CR(t),e);else if(Ot.isObject(t)&&Ot.isIterable(t)){let c={},u,d;for(const f of t){if(!Ot.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?Ot.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,e)}else t!=null&&s(e,t,n);return this}get(t,e){if(t=Df(t),t){const n=Ot.findKey(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return NR(r);if(Ot.isFunction(e))return e.call(this,r,n);if(Ot.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Df(t),t){const n=Ot.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||U1(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let r=!1;function s(o){if(o=Df(o),o){const c=Ot.findKey(n,o);c&&(!e||U1(n,n[c],c,e))&&(delete n[c],r=!0)}}return Ot.isArray(t)?t.forEach(s):s(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const s=e[n];(!t||U1(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const e=this,n={};return Ot.forEach(this,(r,s)=>{const o=Ot.findKey(n,s);if(o){e[o]=um(r),delete e[s];return}const c=t?LR(s):String(s).trim();c!==s&&delete e[s],e[c]=um(r),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Ot.forEach(this,(n,r)=>{n!=null&&n!==!1&&(e[r]=t&&Ot.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[Aw]=this[Aw]={accessors:{}}).accessors,r=this.prototype;function s(o){const c=Df(o);n[c]||(TR(r,o),n[c]=!0)}return Ot.isArray(t)?t.forEach(s):s(t),this}};vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ot.reduceDescriptors(vs.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[e]=n}}});Ot.freezeMethods(vs);function q1(i,t){const e=this||xp,n=t||e,r=vs.from(n.headers);let s=n.data;return Ot.forEach(i,function(c){s=c.call(e,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function hS(i){return!!(i&&i.__CANCEL__)}function Td(i,t,e){qe.call(this,i??"canceled",qe.ERR_CANCELED,t,e),this.name="CanceledError"}Ot.inherits(Td,qe,{__CANCEL__:!0});function dS(i,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?i(e):t(new qe("Request failed with status code "+e.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function MR(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function PR(i,t){i=i||10;const e=new Array(i),n=new Array(i);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[s];o||(o=d),e[r]=u,n[r]=d;let p=s,m=0;for(;p!==r;)m+=e[p++],p=p%i;if(r=(r+1)%i,r===s&&(s=(s+1)%i),d-o<t)return;const b=f&&d-f;return b?Math.round(m*1e3/b):void 0}}function OR(i,t){let e=0,n=1e3/t,r,s;const o=(d,f=Date.now())=>{e=f,r=null,s&&(clearTimeout(s),s=null),i.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-e;p>=n?o(d,f):(r=d,s||(s=setTimeout(()=>{s=null,o(r)},n-p)))},()=>r&&o(r)]}const Lm=(i,t,e=3)=>{let n=0;const r=PR(50,250);return OR(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,u=o-n,d=r(u),f=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};i(p)},e)},Sw=(i,t)=>{const e=i!=null;return[n=>t[0]({lengthComputable:e,total:i,loaded:n}),t[1]]},Ew=i=>(...t)=>Ot.asap(()=>i(...t)),kR=Br.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,Br.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(Br.origin),Br.navigator&&/(msie|trident)/i.test(Br.navigator.userAgent)):()=>!0,DR=Br.hasStandardBrowserEnv?{write(i,t,e,n,r,s){const o=[i+"="+encodeURIComponent(t)];Ot.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),Ot.isString(n)&&o.push("path="+n),Ot.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jR(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function IR(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function fS(i,t,e){let n=!jR(t);return i&&(n||e==!1)?IR(i,t):t}const _w=i=>i instanceof vs?{...i}:i;function Qu(i,t){t=t||{};const e={};function n(d,f,p,m){return Ot.isPlainObject(d)&&Ot.isPlainObject(f)?Ot.merge.call({caseless:m},d,f):Ot.isPlainObject(f)?Ot.merge({},f):Ot.isArray(f)?f.slice():f}function r(d,f,p,m){if(Ot.isUndefined(f)){if(!Ot.isUndefined(d))return n(void 0,d,p,m)}else return n(d,f,p,m)}function s(d,f){if(!Ot.isUndefined(f))return n(void 0,f)}function o(d,f){if(Ot.isUndefined(f)){if(!Ot.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function c(d,f,p){if(p in t)return n(d,f);if(p in i)return n(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,p)=>r(_w(d),_w(f),p,!0)};return Ot.forEach(Object.keys(Object.assign({},i,t)),function(f){const p=u[f]||r,m=p(i[f],t[f],f);Ot.isUndefined(m)&&p!==c||(e[f]=m)}),e}const pS=i=>{const t=Qu({},i);let{data:e,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=vs.from(o),t.url=lS(fS(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Ot.isFormData(e)){if(Br.hasStandardBrowserEnv||Br.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Br.hasStandardBrowserEnv&&(n&&Ot.isFunction(n)&&(n=n(t)),n||n!==!1&&kR(t.url))){const d=r&&s&&DR.read(s);d&&o.set(r,d)}return t},FR=typeof XMLHttpRequest<"u",BR=FR&&function(i){return new Promise(function(e,n){const r=pS(i);let s=r.data;const o=vs.from(r.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=r,f,p,m,b,x;function y(){b&&b(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function S(){if(!E)return;const T=vs.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:T,config:i,request:E};dS(function(j){e(j),y()},function(j){n(j),y()},P),E=null}"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(S)},E.onabort=function(){E&&(n(new qe("Request aborted",qe.ECONNABORTED,i,E)),E=null)},E.onerror=function(){n(new qe("Network Error",qe.ERR_NETWORK,i,E)),E=null},E.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||cS;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),n(new qe(O,P.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,i,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&Ot.forEach(o.toJSON(),function(O,P){E.setRequestHeader(P,O)}),Ot.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),c&&c!=="json"&&(E.responseType=r.responseType),d&&([m,x]=Lm(d,!0),E.addEventListener("progress",m)),u&&E.upload&&([p,b]=Lm(u),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(f=T=>{E&&(n(!T||T.type?new Td(null,i,E):T),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const L=MR(r.url);if(L&&Br.protocols.indexOf(L)===-1){n(new qe("Unsupported protocol "+L+":",qe.ERR_BAD_REQUEST,i));return}E.send(s||null)})},zR=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let n=new AbortController,r;const s=function(d){if(!r){r=!0,c();const f=d instanceof Error?d:this.reason;n.abort(f instanceof qe?f:new Td(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,s(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),i=null)};i.forEach(d=>d.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>Ot.asap(c),u}},UR=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let n=0,r;for(;n<e;)r=n+t,yield i.slice(n,r),n=r},qR=async function*(i,t){for await(const e of HR(i))yield*UR(e,t)},HR=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Cw=(i,t,e,n)=>{const r=qR(i,t);let s=0,o,c=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await r.next();if(d){c(),u.close();return}let p=f.byteLength;if(e){let m=s+=p;e(m)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),r.return()}},{highWaterMark:2})},Xm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gS=Xm&&typeof ReadableStream=="function",GR=Xm&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),mS=(i,...t)=>{try{return!!i(...t)}catch{return!1}},VR=gS&&mS(()=>{let i=!1;const t=new Request(Br.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),Nw=64*1024,Dv=gS&&mS(()=>Ot.isReadableStream(new Response("").body)),Tm={stream:Dv&&(i=>i.body)};Xm&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tm[t]&&(Tm[t]=Ot.isFunction(i[t])?e=>e[t]():(e,n)=>{throw new qe(`Response type '${t}' is not supported`,qe.ERR_NOT_SUPPORT,n)})})})(new Response);const $R=async i=>{if(i==null)return 0;if(Ot.isBlob(i))return i.size;if(Ot.isSpecCompliantForm(i))return(await new Request(Br.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Ot.isArrayBufferView(i)||Ot.isArrayBuffer(i))return i.byteLength;if(Ot.isURLSearchParams(i)&&(i=i+""),Ot.isString(i))return(await GR(i)).byteLength},WR=async(i,t)=>{const e=Ot.toFiniteNumber(i.getContentLength());return e??$R(t)},YR=Xm&&(async i=>{let{url:t,method:e,data:n,signal:r,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:m}=pS(i);d=d?(d+"").toLowerCase():"text";let b=zR([r,s&&s.toAbortSignal()],o),x;const y=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let E;try{if(u&&VR&&e!=="get"&&e!=="head"&&(E=await WR(f,n))!==0){let P=new Request(t,{method:"POST",body:n,duplex:"half"}),B;if(Ot.isFormData(n)&&(B=P.headers.get("content-type"))&&f.setContentType(B),P.body){const[j,I]=Sw(E,Lm(Ew(u)));n=Cw(P.body,Nw,j,I)}}Ot.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;x=new Request(t,{...m,signal:b,method:e.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:S?p:void 0});let L=await fetch(x,m);const T=Dv&&(d==="stream"||d==="response");if(Dv&&(c||T&&y)){const P={};["status","statusText","headers"].forEach(tt=>{P[tt]=L[tt]});const B=Ot.toFiniteNumber(L.headers.get("content-length")),[j,I]=c&&Sw(B,Lm(Ew(c),!0))||[];L=new Response(Cw(L.body,Nw,j,()=>{I&&I(),y&&y()}),P)}d=d||"text";let O=await Tm[Ot.findKey(Tm,d)||"text"](L,i);return!T&&y&&y(),await new Promise((P,B)=>{dS(P,B,{data:O,headers:vs.from(L.headers),status:L.status,statusText:L.statusText,config:i,request:x})})}catch(S){throw y&&y(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,i,x),{cause:S.cause||S}):qe.from(S,S&&S.code,i,x)}}),jv={http:cR,xhr:BR,fetch:YR};Ot.forEach(jv,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const Rw=i=>`- ${i}`,XR=i=>Ot.isFunction(i)||i===null||i===!1,vS={getAdapter:i=>{i=Ot.isArray(i)?i:[i];const{length:t}=i;let e,n;const r={};for(let s=0;s<t;s++){e=i[s];let o;if(n=e,!XR(e)&&(n=jv[(o=String(e)).toLowerCase()],n===void 0))throw new qe(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+s]=n}if(!n){const s=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(Rw).join(`
`):" "+Rw(s[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:jv};function H1(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Td(null,i)}function Lw(i){return H1(i),i.headers=vs.from(i.headers),i.data=q1.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),vS.getAdapter(i.adapter||xp.adapter)(i).then(function(n){return H1(i),n.data=q1.call(i,i.transformResponse,n),n.headers=vs.from(n.headers),n},function(n){return hS(n)||(H1(i),n&&n.response&&(n.response.data=q1.call(i,i.transformResponse,n.response),n.response.headers=vs.from(n.response.headers))),Promise.reject(n)})}const bS="1.10.0",Km={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{Km[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const Tw={};Km.transitional=function(t,e,n){function r(s,o){return"[Axios v"+bS+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,c)=>{if(t===!1)throw new qe(r(o," has been removed"+(e?" in "+e:"")),qe.ERR_DEPRECATED);return e&&!Tw[o]&&(Tw[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,c):!0}};Km.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function KR(i,t,e){if(typeof i!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let r=n.length;for(;r-- >0;){const s=n[r],o=t[s];if(o){const c=i[s],u=c===void 0||o(c,s,i);if(u!==!0)throw new qe("option "+s+" must be "+u,qe.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new qe("Unknown option "+s,qe.ERR_BAD_OPTION)}}const hm={assertOptions:KR,validators:Km},Po=hm.validators;let Wu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xw,response:new xw}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Qu(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:s}=e;n!==void 0&&hm.assertOptions(n,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),r!=null&&(Ot.isFunction(r)?e.paramsSerializer={serialize:r}:hm.assertOptions(r,{encode:Po.function,serialize:Po.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),hm.assertOptions(e,{baseUrl:Po.spelling("baseURL"),withXsrfToken:Po.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&Ot.merge(s.common,s[e.method]);s&&Ot.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),e.headers=vs.concat(o,s);const c=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(e)===!1||(u=u&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,p=0,m;if(!u){const x=[Lw.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,d),m=x.length,f=Promise.resolve(e);p<m;)f=f.then(x[p++],x[p++]);return f}m=c.length;let b=e;for(p=0;p<m;){const x=c[p++],y=c[p++];try{b=x(b)}catch(E){y.call(this,E);break}}try{f=Lw.call(this,b)}catch(x){return Promise.reject(x)}for(p=0,m=d.length;p<m;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=Qu(this.defaults,t);const e=fS(t.baseURL,t.url,t.allowAbsoluteUrls);return lS(e,t.params,t.paramsSerializer)}};Ot.forEach(["delete","get","head","options"],function(t){Wu.prototype[t]=function(e,n){return this.request(Qu(n||{},{method:t,url:e,data:(n||{}).data}))}});Ot.forEach(["post","put","patch"],function(t){function e(n){return function(s,o,c){return this.request(Qu(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wu.prototype[t]=e(),Wu.prototype[t+"Form"]=e(!0)});let QR=class yS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(c=>{n.subscribe(c),s=c}).then(r);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,c){n.reason||(n.reason=new Td(s,o,c),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new yS(function(r){t=r}),cancel:t}}};function ZR(i){return function(e){return i.apply(null,e)}}function JR(i){return Ot.isObject(i)&&i.isAxiosError===!0}const Iv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Iv).forEach(([i,t])=>{Iv[t]=i});function wS(i){const t=new Wu(i),e=KA(Wu.prototype.request,t);return Ot.extend(e,Wu.prototype,t,{allOwnKeys:!0}),Ot.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return wS(Qu(i,r))},e}const Pi=wS(xp);Pi.Axios=Wu;Pi.CanceledError=Td;Pi.CancelToken=QR;Pi.isCancel=hS;Pi.VERSION=bS;Pi.toFormData=Ym;Pi.AxiosError=qe;Pi.Cancel=Pi.CanceledError;Pi.all=function(t){return Promise.all(t)};Pi.spread=ZR;Pi.isAxiosError=JR;Pi.mergeConfig=Qu;Pi.AxiosHeaders=vs;Pi.formToJSON=i=>uS(Ot.isHTMLForm(i)?new FormData(i):i);Pi.getAdapter=vS.getAdapter;Pi.HttpStatusCode=Iv;Pi.default=Pi;const{Axios:WF,AxiosError:YF,CanceledError:XF,isCancel:KF,CancelToken:QF,VERSION:ZF,all:JF,Cancel:tB,isAxiosError:eB,spread:nB,toFormData:iB,AxiosHeaders:rB,HttpStatusCode:sB,formToJSON:aB,getAdapter:oB,mergeConfig:lB}=Pi,di=Pi.create({baseURL:"http://localhost:5000/api/v1"});di.interceptors.request.use(i=>(i.data instanceof FormData?delete i.headers["Content-Type"]:i.headers["Content-Type"]="application/json",i));di.interceptors.request.use(i=>{const t=localStorage.getItem("token");return t&&(i.headers.Authorization=`Bearer ${t}`),i});di.interceptors.response.use(i=>i,i=>(i.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(i)));const tL=i=>di.post("/auth/login",i),eL=i=>di.post("/auth/password-reset",i),nL=(i,t)=>di.post(`/auth/password-reset/${i}`,t),iL=i=>di.post("/user/register",i),rL=i=>{console.log("Self-registering with data:",i),di.post("/user/self-register",i)},sL=i=>di.post("/user/review-registration",i),aL=(i,t)=>di.put(`/user/status/${i}`,t),oL=(i,t)=>di.put(`/user/roles/${i}`,t),lL=()=>di.get("/user"),cL=(i,t)=>di.put(`/user/${i}`,t),sh=k.createContext(),uL=({children:i})=>{const t=bp(),[e,n]=k.useState(JSON.parse(localStorage.getItem("user"))||null),r=Bs({mutationFn:tL,onSuccess:({data:o})=>{localStorage.setItem("token",o.data.token),localStorage.setItem("user",JSON.stringify(o.data.user)),n(o.data.user)}}),s=Bs({mutationFn:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),t.clear(),window.location.href="/login"}});return R.jsx(sh.Provider,{value:{user:e,setUser:n,login:r.mutate,logout:s.mutate,isLoading:r.isLoading||s.isLoading,error:r.error||s.error},children:i})},hL=new oN({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mw="popstate";function dL(i={}){function t(n,r){let{pathname:s,search:o,hash:c}=n.location;return Fv("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:rp(r)}return pL(t,e,null,i)}function ri(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function za(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fL(){return Math.random().toString(36).substring(2,10)}function Pw(i,t){return{usr:i.state,key:i.key,idx:t}}function Fv(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Md(t):t,state:e,key:t&&t.key||n||fL()}}function rp({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Md(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function pL(i,t,e,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let E=f(),S=E==null?null:E-d;d=E,u&&u({action:c,location:y.location,delta:S})}function m(E,S){c="PUSH";let L=Fv(y.location,E,S);d=f()+1;let T=Pw(L,d),O=y.createHref(L);try{o.pushState(T,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(O)}s&&u&&u({action:c,location:y.location,delta:1})}function b(E,S){c="REPLACE";let L=Fv(y.location,E,S);d=f();let T=Pw(L,d),O=y.createHref(L);o.replaceState(T,"",O),s&&u&&u({action:c,location:y.location,delta:0})}function x(E){return gL(E)}let y={get action(){return c},get location(){return i(r,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Mw,p),u=E,()=>{r.removeEventListener(Mw,p),u=null}},createHref(E){return t(r,E)},createURL:x,encodeLocation(E){let S=x(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:b,go(E){return o.go(E)}};return y}function gL(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ri(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:rp(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function xS(i,t,e="/"){return mL(i,t,e,!1)}function mL(i,t,e,n){let r=typeof t=="string"?Md(t):t,s=Dl(r.pathname||"/",e);if(s==null)return null;let o=AS(i);vL(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=RL(s);c=CL(o[u],d,n)}return c}function AS(i,t=[],e=[],n=""){let r=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ri(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=kl([n,u.relativePath]),f=e.concat(u);s.children&&s.children.length>0&&(ri(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),AS(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:EL(d,s.index),routesMeta:f})};return i.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let c of SS(s.path))r(s,o,c)}),t}function SS(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=SS(n.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>i.startsWith("/")&&u===""?"/":u)}function vL(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:_L(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var bL=/^:[\w-]+$/,yL=3,wL=2,xL=1,AL=10,SL=-2,Ow=i=>i==="*";function EL(i,t){let e=i.split("/"),n=e.length;return e.some(Ow)&&(n+=SL),t&&(n+=wL),e.filter(r=>!Ow(r)).reduce((r,s)=>r+(bL.test(s)?yL:s===""?xL:AL),n)}function _L(i,t){return i.length===t.length&&i.slice(0,-1).every((n,r)=>n===t[r])?i[i.length-1]-t[t.length-1]:0}function CL(i,t,e=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Mm({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&e&&!n[n.length-1].route.index&&(p=Mm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:kl([s,p.pathname]),pathnameBase:PL(kl([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=kl([s,p.pathnameBase]))}return o}function Mm(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=NL(i.path,i.caseSensitive,i.end),r=t.match(e);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let x=c[m]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[m];return p&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:i}}function NL(i,t=!1,e=!0){za(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function RL(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return za(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Dl(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function LL(i,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof i=="string"?Md(i):i;return{pathname:e?e.startsWith("/")?e:TL(e,t):t,search:OL(n),hash:kL(r)}}function TL(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function G1(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ML(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Fb(i){let t=ML(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Bb(i,t,e,n=!1){let r;typeof i=="string"?r=Md(i):(r={...i},ri(!r.pathname||!r.pathname.includes("?"),G1("?","pathname","search",r)),ri(!r.pathname||!r.pathname.includes("#"),G1("#","pathname","hash",r)),ri(!r.search||!r.search.includes("#"),G1("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=e;else{let p=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}c=p>=0?t[p]:"/"}let u=LL(r,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var kl=i=>i.join("/").replace(/\/\/+/g,"/"),PL=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),OL=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kL=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function DL(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ES=["POST","PUT","PATCH","DELETE"];new Set(ES);var jL=["GET",...ES];new Set(jL);var Pd=k.createContext(null);Pd.displayName="DataRouter";var Qm=k.createContext(null);Qm.displayName="DataRouterState";k.createContext(!1);var _S=k.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var IL=k.createContext(new Map);IL.displayName="Fetchers";var FL=k.createContext(null);FL.displayName="Await";var $a=k.createContext(null);$a.displayName="Navigation";var Ap=k.createContext(null);Ap.displayName="Location";var la=k.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var zb=k.createContext(null);zb.displayName="RouteError";function BL(i,{relative:t}={}){ri(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=k.useContext($a),{hash:r,pathname:s,search:o}=Sp(i,{relative:t}),c=s;return e!=="/"&&(c=s==="/"?e:kl([e,s])),n.createHref({pathname:c,search:o,hash:r})}function Od(){return k.useContext(Ap)!=null}function Yc(){return ri(Od(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ap).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NS(i){k.useContext($a).static||k.useLayoutEffect(i)}function Zm(){let{isDataRoute:i}=k.useContext(la);return i?eT():zL()}function zL(){ri(Od(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Pd),{basename:t,navigator:e}=k.useContext($a),{matches:n}=k.useContext(la),{pathname:r}=Yc(),s=JSON.stringify(Fb(n)),o=k.useRef(!1);return NS(()=>{o.current=!0}),k.useCallback((u,d={})=>{if(za(o.current,CS),!o.current)return;if(typeof u=="number"){e.go(u);return}let f=Bb(u,JSON.parse(s),r,d.relative==="path");i==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:kl([t,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[t,e,s,r,i])}var UL=k.createContext(null);function qL(i){let t=k.useContext(la).outlet;return t&&k.createElement(UL.Provider,{value:i},t)}function HL(){let{matches:i}=k.useContext(la),t=i[i.length-1];return t?t.params:{}}function Sp(i,{relative:t}={}){let{matches:e}=k.useContext(la),{pathname:n}=Yc(),r=JSON.stringify(Fb(e));return k.useMemo(()=>Bb(i,JSON.parse(r),n,t==="path"),[i,r,n,t])}function GL(i,t){return RS(i,t)}function RS(i,t,e,n){ri(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=k.useContext($a),{matches:s}=k.useContext(la),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";LS(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Yc(),m;if(t){let S=typeof t=="string"?Md(t):t;ri(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let b=m.pathname||"/",x=b;if(d!=="/"){let S=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=xS(i,{pathname:x});za(f||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),za(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=XL(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:kl([d,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:kl([d,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,e,n);return t&&E?k.createElement(Ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},E):E}function VL(){let i=tT(),t=DL(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:r},e):null,o)}var $L=k.createElement(VL,null),WL=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?k.createElement(la.Provider,{value:this.props.routeContext},k.createElement(zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YL({routeContext:i,match:t,children:e}){let n=k.useContext(Pd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(la.Provider,{value:i},e)}function XL(i,t=[],e=null,n=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let r=i,s=e?.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);ri(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(e)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=e,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,f)=>{let p,m=!1,b=null,x=null;e&&(p=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||$L,o&&(c<0&&f===0?(LS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,f+1)),E=()=>{let S;return p?S=b:m?S=x:d.route.Component?S=k.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,k.createElement(YL,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:e!=null},children:S})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(WL,{location:e.location,revalidation:e.revalidation,component:b,error:p,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):E()},null)}function Ub(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KL(i){let t=k.useContext(Pd);return ri(t,Ub(i)),t}function QL(i){let t=k.useContext(Qm);return ri(t,Ub(i)),t}function ZL(i){let t=k.useContext(la);return ri(t,Ub(i)),t}function qb(i){let t=ZL(i),e=t.matches[t.matches.length-1];return ri(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function JL(){return qb("useRouteId")}function tT(){let i=k.useContext(zb),t=QL("useRouteError"),e=qb("useRouteError");return i!==void 0?i:t.errors?.[e]}function eT(){let{router:i}=KL("useNavigate"),t=qb("useNavigate"),e=k.useRef(!1);return NS(()=>{e.current=!0}),k.useCallback(async(r,s={})=>{za(e.current,CS),e.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:t,...s}))},[i,t])}var kw={};function LS(i,t,e){!t&&!kw[i]&&(kw[i]=!0,za(!1,e))}k.memo(nT);function nT({routes:i,future:t,state:e}){return RS(i,void 0,e,t)}function Bv({to:i,replace:t,state:e,relative:n}){ri(Od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=k.useContext($a);za(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(la),{pathname:o}=Yc(),c=Zm(),u=Bb(i,Fb(s),o,n==="path"),d=JSON.stringify(u);return k.useEffect(()=>{c(JSON.parse(d),{replace:t,state:e,relative:n})},[c,d,n,t,e]),null}function TS(i){return qL(i.context)}function or(i){ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iT({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:s=!1}){ri(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof e=="string"&&(e=Md(e));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=e,b=k.useMemo(()=>{let x=Dl(u,o);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:n}},[o,u,d,f,p,m,n]);return za(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:k.createElement($a.Provider,{value:c},k.createElement(Ap.Provider,{children:t,value:b}))}function rT({children:i,location:t}){return GL(zv(i),t)}function zv(i,t=[]){let e=[];return k.Children.forEach(i,(n,r)=>{if(!k.isValidElement(n))return;let s=[...t,r];if(n.type===k.Fragment){e.push.apply(e,zv(n.props.children,s));return}ri(n.type===or,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ri(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zv(n.props.children,s)),e.push(o)}),e}var dm="get",fm="application/x-www-form-urlencoded";function Jm(i){return i!=null&&typeof i.tagName=="string"}function sT(i){return Jm(i)&&i.tagName.toLowerCase()==="button"}function aT(i){return Jm(i)&&i.tagName.toLowerCase()==="form"}function oT(i){return Jm(i)&&i.tagName.toLowerCase()==="input"}function lT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function cT(i,t){return i.button===0&&(!t||t==="_self")&&!lT(i)}var Bg=null;function uT(){if(Bg===null)try{new FormData(document.createElement("form"),0),Bg=!1}catch{Bg=!0}return Bg}var hT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V1(i){return i!=null&&!hT.has(i)?(za(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fm}"`),null):i}function dT(i,t){let e,n,r,s,o;if(aT(i)){let c=i.getAttribute("action");n=c?Dl(c,t):null,e=i.getAttribute("method")||dm,r=V1(i.getAttribute("enctype"))||fm,s=new FormData(i)}else if(sT(i)||oT(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||c.getAttribute("action");if(n=u?Dl(u,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||dm,r=V1(i.getAttribute("formenctype"))||V1(c.getAttribute("enctype"))||fm,s=new FormData(c,i),!uT()){let{name:d,type:f,value:p}=i;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(Jm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=dm,n=null,r=fm,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hb(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function fT(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Dl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function pT(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mT(i,t,e){let n=await Promise.all(i.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await pT(s,e);return o.links?o.links():[]}return[]}));return wT(n.flat(1).filter(gT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Dw(i,t,e,n,r,s){let o=(u,d)=>e[d]?u.route.id!==e[d].route.id:!0,c=(u,d)=>e[d].pathname!==u.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?t.filter((u,d)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function vT(i,t,{includeHydrateFallback:e}={}){return bT(i.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function bT(i){return[...new Set(i)]}function yT(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function wT(i,t){let e=new Set;return new Set(t),i.reduce((n,r)=>{let s=JSON.stringify(yT(r));return e.has(s)||(e.add(s),n.push({key:s,link:r})),n},[])}function MS(){let i=k.useContext(Pd);return Hb(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function xT(){let i=k.useContext(Qm);return Hb(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gb=k.createContext(void 0);Gb.displayName="FrameworkContext";function PS(){let i=k.useContext(Gb);return Hb(i,"You must render this element inside a <HydratedRouter> element"),i}function AT(i,t){let e=k.useContext(Gb),[n,r]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,m=k.useRef(null);k.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let y=S=>{S.forEach(L=>{o(L.isIntersecting)})},E=new IntersectionObserver(y,{threshold:.5});return m.current&&E.observe(m.current),()=>{E.disconnect()}}},[i]),k.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let b=()=>{r(!0)},x=()=>{r(!1),o(!1)};return e?i!=="intent"?[s,m,{}]:[s,m,{onFocus:jf(c,b),onBlur:jf(u,x),onMouseEnter:jf(d,b),onMouseLeave:jf(f,x),onTouchStart:jf(p,b)}]:[!1,m,{}]}function jf(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function ST({page:i,...t}){let{router:e}=MS(),n=k.useMemo(()=>xS(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?k.createElement(_T,{page:i,matches:n,...t}):null}function ET(i){let{manifest:t,routeModules:e}=PS(),[n,r]=k.useState([]);return k.useEffect(()=>{let s=!1;return mT(i,t,e).then(o=>{s||r(o)}),()=>{s=!0}},[i,t,e]),n}function _T({page:i,matches:t,...e}){let n=Yc(),{manifest:r,routeModules:s}=PS(),{basename:o}=MS(),{loaderData:c,matches:u}=xT(),d=k.useMemo(()=>Dw(i,t,u,r,n,"data"),[i,t,u,r,n]),f=k.useMemo(()=>Dw(i,t,u,r,n,"assets"),[i,t,u,r,n]),p=k.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(t.forEach(S=>{let L=r.routes[S.route.id];!L||!L.hasLoader||(!d.some(T=>T.route.id===S.route.id)&&S.route.id in c&&s[S.route.id]?.shouldRevalidate||L.hasClientLoader?y=!0:x.add(S.route.id))}),x.size===0)return[];let E=fT(i,o,"data");return y&&x.size>0&&E.searchParams.set("_routes",t.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,c,n,r,d,t,i,s]),m=k.useMemo(()=>vT(f,r),[f,r]),b=ET(f);return k.createElement(k.Fragment,null,p.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),m.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:y})=>k.createElement("link",{key:x,...y})))}function CT(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OS&&(window.__reactRouterVersion="7.7.0")}catch{}function NT({basename:i,children:t,window:e}){let n=k.useRef();n.current==null&&(n.current=dL({window:e,v5Compat:!0}));let r=n.current,[s,o]=k.useState({action:r.action,location:r.location}),c=k.useCallback(u=>{k.startTransition(()=>o(u))},[o]);return k.useLayoutEffect(()=>r.listen(c),[r,c]),k.createElement(iT,{basename:i,children:t,location:s.location,navigationType:s.action,navigator:r})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=k.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...m},b){let{basename:x}=k.useContext($a),y=typeof d=="string"&&kS.test(d),E,S=!1;if(typeof d=="string"&&y&&(E=d,OS))try{let tt=new URL(window.location.href),ct=d.startsWith("//")?new URL(tt.protocol+d):new URL(d),z=Dl(ct.pathname,x);ct.origin===tt.origin&&z!=null?d=z+ct.search+ct.hash:S=!0}catch{za(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=BL(d,{relative:r}),[T,O,P]=AT(n,m),B=MT(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:p});function j(tt){t&&t(tt),tt.defaultPrevented||B(tt)}let I=k.createElement("a",{...m,...P,href:E||L,onClick:S||s?t:j,ref:CT(b,O),target:u,"data-discover":!y&&e==="render"?"true":void 0});return T&&!y?k.createElement(k.Fragment,null,I,k.createElement(ST,{page:L})):I});ur.displayName="Link";var RT=k.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...d},f){let p=Sp(o,{relative:d.relative}),m=Yc(),b=k.useContext(Qm),{navigator:x,basename:y}=k.useContext($a),E=b!=null&&jT(p)&&c===!0,S=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,L=m.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(L=L.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&y&&(T=Dl(T,y)||T);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=L===S||!r&&L.startsWith(S)&&L.charAt(O)==="/",B=T!=null&&(T===S||!r&&T.startsWith(S)&&T.charAt(S.length)==="/"),j={isActive:P,isPending:B,isTransitioning:E},I=P?t:void 0,tt;typeof n=="function"?tt=n(j):tt=[n,P?"active":null,B?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ct=typeof s=="function"?s(j):s;return k.createElement(ur,{...d,"aria-current":I,className:tt,ref:f,style:ct,to:o,viewTransition:c},typeof u=="function"?u(j):u)});RT.displayName="NavLink";var LT=k.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:s,method:o=dm,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...m},b)=>{let x=kT(),y=DT(c,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&kS.test(c),L=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let O=T.nativeEvent.submitter,P=O?.getAttribute("formmethod")||o;x(O||T.currentTarget,{fetcherKey:t,method:P,navigate:e,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return k.createElement("form",{ref:b,method:E,action:y,onSubmit:n?u:L,...m,"data-discover":!S&&i==="render"?"true":void 0})});LT.displayName="Form";function TT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(i){let t=k.useContext(Pd);return ri(t,TT(i)),t}function MT(i,{target:t,replace:e,state:n,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=Zm(),u=Yc(),d=Sp(i,{relative:s});return k.useCallback(f=>{if(cT(f,t)){f.preventDefault();let p=e!==void 0?e:rp(u)===rp(d);c(i,{replace:p,state:n,preventScrollReset:r,relative:s,viewTransition:o})}},[u,c,d,e,n,t,i,r,s,o])}var PT=0,OT=()=>`__${String(++PT)}__`;function kT(){let{router:i}=DS("useSubmit"),{basename:t}=k.useContext($a),e=JL();return k.useCallback(async(n,r={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=dT(n,t);if(r.navigate===!1){let f=r.fetcherKey||OT();await i.fetch(f,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await i.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,t,e])}function DT(i,{relative:t}={}){let{basename:e}=k.useContext($a),n=k.useContext(la);ri(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...Sp(i||".",{relative:t})},o=Yc();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:kl([e,s.pathname])),rp(s)}function jT(i,t={}){let e=k.useContext(_S);ri(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DS("useViewTransitionState"),r=Sp(i,{relative:t.relative});if(!e.isTransitioning)return!1;let s=Dl(e.currentLocation.pathname,n)||e.currentLocation.pathname,o=Dl(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Mm(r.pathname,o)!=null||Mm(r.pathname,s)!=null}var Vb=IA();const jS=mp(Vb);function jw(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function IS(...i){return t=>{let e=!1;const n=i.map(r=>{const s=jw(r,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():jw(i[r],null)}}}}function Jr(...i){return k.useCallback(IS(...i),i)}function t0(i){const t=IT(i),e=k.forwardRef((n,r)=>{const{children:s,...o}=n,c=k.Children.toArray(s),u=c.find(BT);if(u){const d=u.props.children,f=c.map(p=>p===u?k.Children.count(d)>1?k.Children.only(null):k.isValidElement(d)?d.props.children:null:p);return R.jsx(t,{...o,ref:r,children:k.isValidElement(d)?k.cloneElement(d,void 0,f):null})}return R.jsx(t,{...o,ref:r,children:s})});return e.displayName=`${i}.Slot`,e}var e0=t0("Slot");function IT(i){const t=k.forwardRef((e,n)=>{const{children:r,...s}=e;if(k.isValidElement(r)){const o=UT(r),c=zT(s,r.props);return r.type!==k.Fragment&&(c.ref=n?IS(n,o):o),k.cloneElement(r,c)}return k.Children.count(r)>1?k.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var FS=Symbol("radix.slottable");function FT(i){const t=({children:e})=>R.jsx(R.Fragment,{children:e});return t.displayName=`${i}.Slottable`,t.__radixId=FS,t}function BT(i){return k.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===FS}function zT(i,t){const e={...t};for(const n in t){const r=i[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?e[n]=(...c)=>{const u=s(...c);return r(...c),u}:r&&(e[n]=r):n==="style"?e[n]={...r,...s}:n==="className"&&(e[n]=[r,s].filter(Boolean).join(" "))}return{...i,...e}}function UT(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function BS(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=BS(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function kd(){for(var i,t,e=0,n="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=BS(i))&&(n&&(n+=" "),n+=t);return n}const Iw=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Fw=kd,$b=(i,t)=>e=>{var n;if(t?.variants==null)return Fw(i,e?.class,e?.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(d=>{const f=e?.[d],p=s?.[d];if(f===null)return null;const m=Iw(f)||Iw(p);return r[d][m]}),c=e&&Object.entries(e).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:m,...b}=f;return Object.entries(b).every(x=>{let[y,E]=x;return Array.isArray(E)?E.includes({...s,...c}[y]):{...s,...c}[y]===E})?[...d,p,m]:d},[]);return Fw(i,o,u,e?.class,e?.className)},Wb="-",qT=i=>{const t=GT(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:o=>{const c=o.split(Wb);return c[0]===""&&c.length!==1&&c.shift(),zS(c,t)||HT(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},zS=(i,t)=>{if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),r=n?zS(i.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const s=i.join(Wb);return t.validators.find(({validator:o})=>o(s))?.classGroupId},Bw=/^\[(.+)\]$/,HT=i=>{if(Bw.test(i)){const t=Bw.exec(i)[1],e=t?.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},GT=i=>{const{theme:t,classGroups:e}=i,n={nextPart:new Map,validators:[]};for(const r in e)Uv(e[r],n,r,t);return n},Uv=(i,t,e,n)=>{i.forEach(r=>{if(typeof r=="string"){const s=r===""?t:zw(t,r);s.classGroupId=e;return}if(typeof r=="function"){if(VT(r)){Uv(r(n),t,e,n);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([s,o])=>{Uv(o,zw(t,s),e,n)})})},zw=(i,t)=>{let e=i;return t.split(Wb).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},VT=i=>i.isThemeGetter,$T=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const r=(s,o)=>{e.set(s,o),t++,t>i&&(t=0,n=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return r(s,o),o},set(s,o){e.has(s)?e.set(s,o):r(s,o)}}},qv="!",Hv=":",WT=Hv.length,YT=i=>{const{prefix:t,experimentalParseClassName:e}=i;let n=r=>{const s=[];let o=0,c=0,u=0,d;for(let x=0;x<r.length;x++){let y=r[x];if(o===0&&c===0){if(y===Hv){s.push(r.slice(u,x)),u=x+WT;continue}if(y==="/"){d=x;continue}}y==="["?o++:y==="]"?o--:y==="("?c++:y===")"&&c--}const f=s.length===0?r:r.substring(u),p=XT(f),m=p!==f,b=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:b}};if(t){const r=t+Hv,s=n;n=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const r=n;n=s=>e({className:s,parseClassName:r})}return n},XT=i=>i.endsWith(qv)?i.substring(0,i.length-1):i.startsWith(qv)?i.substring(1):i,KT=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(o=>{o[0]==="["||t[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},QT=i=>({cache:$T(i.cacheSize),parseClassName:YT(i),sortModifiers:KT(i),...qT(i)}),ZT=/\s+/,JT=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],c=i.trim().split(ZT);let u="";for(let d=c.length-1;d>=0;d-=1){const f=c[d],{isExternal:p,modifiers:m,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:y}=e(f);if(p){u=f+(u.length>0?" "+u:u);continue}let E=!!y,S=n(E?x.substring(0,y):x);if(!S){if(!E){u=f+(u.length>0?" "+u:u);continue}if(S=n(x),!S){u=f+(u.length>0?" "+u:u);continue}E=!1}const L=s(m).join(":"),T=b?L+qv:L,O=T+S;if(o.includes(O))continue;o.push(O);const P=r(S,E);for(let B=0;B<P.length;++B){const j=P[B];o.push(T+j)}u=f+(u.length>0?" "+u:u)}return u};function t6(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=US(t))&&(n&&(n+=" "),n+=e);return n}const US=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=US(i[n]))&&(e&&(e+=" "),e+=t);return e};function e6(i,...t){let e,n,r,s=o;function o(u){const d=t.reduce((f,p)=>p(f),i());return e=QT(d),n=e.cache.get,r=e.cache.set,s=c,c(u)}function c(u){const d=n(u);if(d)return d;const f=JT(u,e);return r(u,f),f}return function(){return s(t6.apply(null,arguments))}}const Wi=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},qS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,n6=/^\d+\/\d+$/,i6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,a6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xh=i=>n6.test(i),Xe=i=>!!i&&!Number.isNaN(Number(i)),Mc=i=>!!i&&Number.isInteger(Number(i)),$1=i=>i.endsWith("%")&&Xe(i.slice(0,-1)),Tl=i=>i6.test(i),l6=()=>!0,c6=i=>r6.test(i)&&!s6.test(i),GS=()=>!1,u6=i=>a6.test(i),h6=i=>o6.test(i),d6=i=>!de(i)&&!fe(i),f6=i=>Dd(i,WS,GS),de=i=>qS.test(i),ku=i=>Dd(i,YS,c6),W1=i=>Dd(i,b6,Xe),Uw=i=>Dd(i,VS,GS),p6=i=>Dd(i,$S,h6),zg=i=>Dd(i,XS,u6),fe=i=>HS.test(i),If=i=>jd(i,YS),g6=i=>jd(i,y6),qw=i=>jd(i,VS),m6=i=>jd(i,WS),v6=i=>jd(i,$S),Ug=i=>jd(i,XS,!0),Dd=(i,t,e)=>{const n=qS.exec(i);return n?n[1]?t(n[1]):e(n[2]):!1},jd=(i,t,e=!1)=>{const n=HS.exec(i);return n?n[1]?t(n[1]):e:!1},VS=i=>i==="position"||i==="percentage",$S=i=>i==="image"||i==="url",WS=i=>i==="length"||i==="size"||i==="bg-size",YS=i=>i==="length",b6=i=>i==="number",y6=i=>i==="family-name",XS=i=>i==="shadow",w6=()=>{const i=Wi("color"),t=Wi("font"),e=Wi("text"),n=Wi("font-weight"),r=Wi("tracking"),s=Wi("leading"),o=Wi("breakpoint"),c=Wi("container"),u=Wi("spacing"),d=Wi("radius"),f=Wi("shadow"),p=Wi("inset-shadow"),m=Wi("text-shadow"),b=Wi("drop-shadow"),x=Wi("blur"),y=Wi("perspective"),E=Wi("aspect"),S=Wi("ease"),L=Wi("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...O(),fe,de],B=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],I=()=>[fe,de,u],tt=()=>[Xh,"full","auto",...I()],ct=()=>[Mc,"none","subgrid",fe,de],z=()=>["auto",{span:["full",Mc,fe,de]},Mc,fe,de],V=()=>[Mc,"auto",fe,de],rt=()=>["auto","min","max","fr",fe,de],nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ut=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],et=()=>[Xh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Z=()=>[i,fe,de],gt=()=>[...O(),qw,Uw,{position:[fe,de]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],dt=()=>["auto","cover","contain",m6,f6,{size:[fe,de]}],D=()=>[$1,If,ku],G=()=>["","none","full",d,fe,de],Q=()=>["",Xe,If,ku],st=()=>["solid","dashed","dotted","double"],at=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ft=()=>[Xe,$1,qw,Uw],wt=()=>["","none",x,fe,de],St=()=>["none",Xe,fe,de],Dt=()=>["none",Xe,fe,de],Ut=()=>[Xe,fe,de],Wt=()=>[Xh,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tl],breakpoint:[Tl],color:[l6],container:[Tl],"drop-shadow":[Tl],ease:["in","out","in-out"],font:[d6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tl],shadow:[Tl],spacing:["px",Xe],text:[Tl],"text-shadow":[Tl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xh,de,fe,E]}],container:["container"],columns:[{columns:[Xe,de,fe,c]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:tt()}],"inset-x":[{"inset-x":tt()}],"inset-y":[{"inset-y":tt()}],start:[{start:tt()}],end:[{end:tt()}],top:[{top:tt()}],right:[{right:tt()}],bottom:[{bottom:tt()}],left:[{left:tt()}],visibility:["visible","invisible","collapse"],z:[{z:[Mc,"auto",fe,de]}],basis:[{basis:[Xh,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,Xh,"auto","initial","none",de]}],grow:[{grow:["",Xe,fe,de]}],shrink:[{shrink:["",Xe,fe,de]}],order:[{order:[Mc,"first","last","none",fe,de]}],"grid-cols":[{"grid-cols":ct()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":ct()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":rt()}],"auto-rows":[{"auto-rows":rt()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...nt(),"normal"]}],"justify-items":[{"justify-items":[...ut(),"normal"]}],"justify-self":[{"justify-self":["auto",...ut()]}],"align-content":[{content:["normal",...nt()]}],"align-items":[{items:[...ut(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ut(),{baseline:["","last"]}]}],"place-content":[{"place-content":nt()}],"place-items":[{"place-items":[...ut(),"baseline"]}],"place-self":[{"place-self":["auto",...ut()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[c,"screen",...et()]}],"min-w":[{"min-w":[c,"screen","none",...et()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",e,If,ku]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,fe,W1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$1,de]}],"font-family":[{font:[g6,de,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,fe,de]}],"line-clamp":[{"line-clamp":[Xe,"none",fe,W1]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",fe,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",fe,ku]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Xe,"auto",fe,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:gt()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:dt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mc,fe,de],radial:["",fe,de],conic:[Mc,fe,de]},v6,p6]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,fe,de]}],"outline-w":[{outline:["",Xe,If,ku]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",f,Ug,zg]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",p,Ug,zg]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Xe,ku]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",m,Ug,zg]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Xe,fe,de]}],"mix-blend":[{"mix-blend":[...at(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":at()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ft()}],"mask-image-linear-to-pos":[{"mask-linear-to":ft()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":ft()}],"mask-image-t-to-pos":[{"mask-t-to":ft()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":ft()}],"mask-image-r-to-pos":[{"mask-r-to":ft()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":ft()}],"mask-image-b-to-pos":[{"mask-b-to":ft()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":ft()}],"mask-image-l-to-pos":[{"mask-l-to":ft()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":ft()}],"mask-image-x-to-pos":[{"mask-x-to":ft()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":ft()}],"mask-image-y-to-pos":[{"mask-y-to":ft()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[fe,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":ft()}],"mask-image-radial-to-pos":[{"mask-radial-to":ft()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ft()}],"mask-image-conic-to-pos":[{"mask-conic-to":ft()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:gt()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:dt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,de]}],filter:[{filter:["","none",fe,de]}],blur:[{blur:wt()}],brightness:[{brightness:[Xe,fe,de]}],contrast:[{contrast:[Xe,fe,de]}],"drop-shadow":[{"drop-shadow":["","none",b,Ug,zg]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Xe,fe,de]}],"hue-rotate":[{"hue-rotate":[Xe,fe,de]}],invert:[{invert:["",Xe,fe,de]}],saturate:[{saturate:[Xe,fe,de]}],sepia:[{sepia:["",Xe,fe,de]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,de]}],"backdrop-blur":[{"backdrop-blur":wt()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,fe,de]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,fe,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,fe,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,fe,de]}],"backdrop-invert":[{"backdrop-invert":["",Xe,fe,de]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,fe,de]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,fe,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,fe,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",fe,de]}],ease:[{ease:["linear","initial",S,fe,de]}],delay:[{delay:[Xe,fe,de]}],animate:[{animate:["none",L,fe,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,fe,de]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:St()}],"rotate-x":[{"rotate-x":St()}],"rotate-y":[{"rotate-y":St()}],"rotate-z":[{"rotate-z":St()}],scale:[{scale:Dt()}],"scale-x":[{"scale-x":Dt()}],"scale-y":[{"scale-y":Dt()}],"scale-z":[{"scale-z":Dt()}],"scale-3d":["scale-3d"],skew:[{skew:Ut()}],"skew-x":[{"skew-x":Ut()}],"skew-y":[{"skew-y":Ut()}],transform:[{transform:[fe,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Wt()}],"translate-x":[{"translate-x":Wt()}],"translate-y":[{"translate-y":Wt()}],"translate-z":[{"translate-z":Wt()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,de]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Xe,If,ku,W1]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},x6=e6(w6);function on(...i){return x6(kd(i))}const A6=$b("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function xn({className:i,variant:t,size:e,asChild:n=!1,...r}){const s=n?e0:"button";return R.jsx(s,{"data-slot":"button",className:on(A6({variant:t,size:e,className:i})),...r})}const Id=i=>{const[t,e]=k.useState(i),[n,r]=k.useState({});return{formData:t,handleChange:c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d})),r(f=>({...f,[u]:""}))},handleFileChange:(c,u)=>{const d=c.target.files[0];e(f=>({...f,[u]:d})),r(f=>({...f,[u]:""}))},errors:n,setErrors:r}};function S6(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const E6=i=>{switch(i){case"success":return N6;case"info":return L6;case"warning":return R6;case"error":return T6;default:return null}},_6=Array(12).fill(0),C6=({visible:i,className:t})=>Kt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},Kt.createElement("div",{className:"sonner-spinner"},_6.map((e,n)=>Kt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),N6=Kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Kt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R6=Kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Kt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L6=Kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Kt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),T6=Kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Kt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M6=Kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Kt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Kt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P6=()=>{const[i,t]=Kt.useState(document.hidden);return Kt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let Gv=1;class O6{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...r}=t,s=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Gv++,o=this.toasts.find(u=>u.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:n}),{...u,...t,id:s,dismissible:c,title:n}):u):this.addToast({title:n,...r,dismissible:c,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const c=r.then(async d=>{if(o=["resolve",d],Kt.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(D6(d)&&!d.ok){s=!1;const p=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,x=typeof p=="object"&&!Kt.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:m,...x})}else if(d instanceof Error){s=!1;const p=typeof e.error=="function"?await e.error(d):e.error,m=typeof e.description=="function"?await e.description(d):e.description,x=typeof p=="object"&&!Kt.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:m,...x})}else if(e.success!==void 0){s=!1;const p=typeof e.success=="function"?await e.success(d):e.success,m=typeof e.description=="function"?await e.description(d):e.description,x=typeof p=="object"&&!Kt.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:m,...x})}}).catch(async d=>{if(o=["reject",d],e.error!==void 0){s=!1;const f=typeof e.error=="function"?await e.error(d):e.error,p=typeof e.description=="function"?await e.description(d):e.description,b=typeof f=="object"&&!Kt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...b})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),u=()=>new Promise((d,f)=>c.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,e)=>{const n=e?.id||Gv++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fs=new O6,k6=(i,t)=>{const e=t?.id||Gv++;return fs.addToast({title:i,...t,id:e}),e},D6=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",j6=k6,I6=()=>fs.toasts,F6=()=>fs.getActiveToasts(),Hw=Object.assign(j6,{success:fs.success,info:fs.info,warning:fs.warning,error:fs.error,custom:fs.custom,message:fs.message,promise:fs.promise,dismiss:fs.dismiss,loading:fs.loading},{getHistory:I6,getToasts:F6});S6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qg(i){return i.label!==void 0}const B6=3,z6="24px",U6="16px",Gw=4e3,q6=356,H6=14,G6=45,V6=200;function Oo(...i){return i.filter(Boolean).join(" ")}function $6(i){const[t,e]=i.split("-"),n=[];return t&&n.push(t),e&&n.push(e),n}const W6=i=>{var t,e,n,r,s,o,c,u,d;const{invert:f,toast:p,unstyled:m,interacting:b,setHeights:x,visibleToasts:y,heights:E,index:S,toasts:L,expanded:T,removeToast:O,defaultRichColors:P,closeButton:B,style:j,cancelButtonStyle:I,actionButtonStyle:tt,className:ct="",descriptionClassName:z="",duration:V,position:rt,gap:nt,expandByDefault:ut,classNames:H,icons:et,closeButtonAriaLabel:Z="Close toast"}=i,[gt,Y]=Kt.useState(null),[dt,D]=Kt.useState(null),[G,Q]=Kt.useState(!1),[st,at]=Kt.useState(!1),[ft,wt]=Kt.useState(!1),[St,Dt]=Kt.useState(!1),[Ut,Wt]=Kt.useState(!1),[Vt,Zt]=Kt.useState(0),[Tt,ot]=Kt.useState(0),le=Kt.useRef(p.duration||V||Gw),se=Kt.useRef(null),Ht=Kt.useRef(null),Qt=S===0,Jt=S+1<=y,Yt=p.type,ce=p.dismissible!==!1,_e=p.className||"",ke=p.descriptionClassName||"",Se=Kt.useMemo(()=>E.findIndex(Xt=>Xt.toastId===p.id)||0,[E,p.id]),be=Kt.useMemo(()=>{var Xt;return(Xt=p.closeButton)!=null?Xt:B},[p.closeButton,B]),Ie=Kt.useMemo(()=>p.duration||V||Gw,[p.duration,V]),oe=Kt.useRef(0),Ce=Kt.useRef(0),ne=Kt.useRef(0),Vn=Kt.useRef(null),[$e,Ki]=rt.split("-"),Ke=Kt.useMemo(()=>E.reduce((Xt,xe,Tn)=>Tn>=Se?Xt:Xt+xe.height,0),[E,Se]),mn=P6(),Qi=p.invert||f,rn=Yt==="loading";Ce.current=Kt.useMemo(()=>Se*nt+Ke,[Se,Ke]),Kt.useEffect(()=>{le.current=Ie},[Ie]),Kt.useEffect(()=>{Q(!0)},[]),Kt.useEffect(()=>{const Xt=Ht.current;if(Xt){const xe=Xt.getBoundingClientRect().height;return ot(xe),x(Tn=>[{toastId:p.id,height:xe,position:p.position},...Tn]),()=>x(Tn=>Tn.filter(ln=>ln.toastId!==p.id))}},[x,p.id]),Kt.useLayoutEffect(()=>{if(!G)return;const Xt=Ht.current,xe=Xt.style.height;Xt.style.height="auto";const Tn=Xt.getBoundingClientRect().height;Xt.style.height=xe,ot(Tn),x(ln=>ln.find(An=>An.toastId===p.id)?ln.map(An=>An.toastId===p.id?{...An,height:Tn}:An):[{toastId:p.id,height:Tn,position:p.position},...ln])},[G,p.title,p.description,x,p.id,p.jsx,p.action,p.cancel]);const Hi=Kt.useCallback(()=>{at(!0),Zt(Ce.current),x(Xt=>Xt.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{O(p)},V6)},[p,O,x,Ce]);Kt.useEffect(()=>{if(p.promise&&Yt==="loading"||p.duration===1/0||p.type==="loading")return;let Xt;return T||b||mn?(()=>{if(ne.current<oe.current){const ln=new Date().getTime()-oe.current;le.current=le.current-ln}ne.current=new Date().getTime()})():(()=>{le.current!==1/0&&(oe.current=new Date().getTime(),Xt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Hi()},le.current))})(),()=>clearTimeout(Xt)},[T,b,p,Yt,mn,Hi]),Kt.useEffect(()=>{p.delete&&(Hi(),p.onDismiss==null||p.onDismiss.call(p,p))},[Hi,p.delete]);function Dn(){var Xt;if(et?.loading){var xe;return Kt.createElement("div",{className:Oo(H?.loader,p==null||(xe=p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Yt==="loading"},et.loading)}return Kt.createElement(C6,{className:Oo(H?.loader,p==null||(Xt=p.classNames)==null?void 0:Xt.loader),visible:Yt==="loading"})}const pr=p.icon||et?.[Yt]||E6(Yt);var Zi,jn;return Kt.createElement("li",{tabIndex:0,ref:Ht,className:Oo(ct,_e,H?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,H?.default,H?.[Yt],p==null||(e=p.classNames)==null?void 0:e[Yt]),"data-sonner-toast":"","data-rich-colors":(Zi=p.richColors)!=null?Zi:P,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":Ut,"data-removed":st,"data-visible":Jt,"data-y-position":$e,"data-x-position":Ki,"data-index":S,"data-front":Qt,"data-swiping":ft,"data-dismissible":ce,"data-type":Yt,"data-invert":Qi,"data-swipe-out":St,"data-swipe-direction":dt,"data-expanded":!!(T||ut&&G),style:{"--index":S,"--toasts-before":S,"--z-index":L.length-S,"--offset":`${st?Vt:Ce.current}px`,"--initial-height":ut?"auto":`${Tt}px`,...j,...p.style},onDragEnd:()=>{wt(!1),Y(null),Vn.current=null},onPointerDown:Xt=>{Xt.button!==2&&(rn||!ce||(se.current=new Date,Zt(Ce.current),Xt.target.setPointerCapture(Xt.pointerId),Xt.target.tagName!=="BUTTON"&&(wt(!0),Vn.current={x:Xt.clientX,y:Xt.clientY})))},onPointerUp:()=>{var Xt,xe,Tn;if(St||!ce)return;Vn.current=null;const ln=Number(((Xt=Ht.current)==null?void 0:Xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ji=Number(((xe=Ht.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((Tn=se.current)==null?void 0:Tn.getTime()),ae=gt==="x"?ln:Ji,fn=Math.abs(ae)/An;if(Math.abs(ae)>=G6||fn>.11){Zt(Ce.current),p.onDismiss==null||p.onDismiss.call(p,p),D(gt==="x"?ln>0?"right":"left":Ji>0?"down":"up"),Hi(),Dt(!0);return}else{var Ze,pn;(Ze=Ht.current)==null||Ze.style.setProperty("--swipe-amount-x","0px"),(pn=Ht.current)==null||pn.style.setProperty("--swipe-amount-y","0px")}Wt(!1),wt(!1),Y(null)},onPointerMove:Xt=>{var xe,Tn,ln;if(!Vn.current||!ce||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const An=Xt.clientY-Vn.current.y,ae=Xt.clientX-Vn.current.x;var fn;const Ze=(fn=i.swipeDirections)!=null?fn:$6(rt);!gt&&(Math.abs(ae)>1||Math.abs(An)>1)&&Y(Math.abs(ae)>Math.abs(An)?"x":"y");let pn={x:0,y:0};const Un=Sn=>1/(1.5+Math.abs(Sn)/20);if(gt==="y"){if(Ze.includes("top")||Ze.includes("bottom"))if(Ze.includes("top")&&An<0||Ze.includes("bottom")&&An>0)pn.y=An;else{const Sn=An*Un(An);pn.y=Math.abs(Sn)<Math.abs(An)?Sn:An}}else if(gt==="x"&&(Ze.includes("left")||Ze.includes("right")))if(Ze.includes("left")&&ae<0||Ze.includes("right")&&ae>0)pn.x=ae;else{const Sn=ae*Un(ae);pn.x=Math.abs(Sn)<Math.abs(ae)?Sn:ae}(Math.abs(pn.x)>0||Math.abs(pn.y)>0)&&Wt(!0),(Tn=Ht.current)==null||Tn.style.setProperty("--swipe-amount-x",`${pn.x}px`),(ln=Ht.current)==null||ln.style.setProperty("--swipe-amount-y",`${pn.y}px`)}},be&&!p.jsx&&Yt!=="loading"?Kt.createElement("button",{"aria-label":Z,"data-disabled":rn,"data-close-button":!0,onClick:rn||!ce?()=>{}:()=>{Hi(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Oo(H?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(jn=et?.close)!=null?jn:M6):null,(Yt||p.icon||p.promise)&&p.icon!==null&&(et?.[Yt]!==null||p.icon)?Kt.createElement("div",{"data-icon":"",className:Oo(H?.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Dn():null,p.type!=="loading"?pr:null):null,Kt.createElement("div",{"data-content":"",className:Oo(H?.content,p==null||(s=p.classNames)==null?void 0:s.content)},Kt.createElement("div",{"data-title":"",className:Oo(H?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?Kt.createElement("div",{"data-description":"",className:Oo(z,ke,H?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),Kt.isValidElement(p.cancel)?p.cancel:p.cancel&&qg(p.cancel)?Kt.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Xt=>{qg(p.cancel)&&ce&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Xt),Hi())},className:Oo(H?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,Kt.isValidElement(p.action)?p.action:p.action&&qg(p.action)?Kt.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||tt,onClick:Xt=>{qg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Xt),!Xt.defaultPrevented&&Hi())},className:Oo(H?.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function Vw(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function Y6(i,t){const e={};return[i,t].forEach((n,r)=>{const s=r===1,o=s?"--mobile-offset":"--offset",c=s?U6:z6;function u(d){["top","right","bottom","left"].forEach(f=>{e[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?e[`${o}-${d}`]=c:e[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(c)}),e}const X6=Kt.forwardRef(function(t,e){const{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:m,duration:b,style:x,visibleToasts:y=B6,toastOptions:E,dir:S=Vw(),gap:L=H6,icons:T,containerAriaLabel:O="Notifications"}=t,[P,B]=Kt.useState([]),j=Kt.useMemo(()=>Array.from(new Set([r].concat(P.filter(dt=>dt.position).map(dt=>dt.position)))),[P,r]),[I,tt]=Kt.useState([]),[ct,z]=Kt.useState(!1),[V,rt]=Kt.useState(!1),[nt,ut]=Kt.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=Kt.useRef(null),et=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=Kt.useRef(null),gt=Kt.useRef(!1),Y=Kt.useCallback(dt=>{B(D=>{var G;return(G=D.find(Q=>Q.id===dt.id))!=null&&G.delete||fs.dismiss(dt.id),D.filter(({id:Q})=>Q!==dt.id)})},[]);return Kt.useEffect(()=>fs.subscribe(dt=>{if(dt.dismiss){requestAnimationFrame(()=>{B(D=>D.map(G=>G.id===dt.id?{...G,delete:!0}:G))});return}setTimeout(()=>{jS.flushSync(()=>{B(D=>{const G=D.findIndex(Q=>Q.id===dt.id);return G!==-1?[...D.slice(0,G),{...D[G],...dt},...D.slice(G+1)]:[dt,...D]})})})}),[P]),Kt.useEffect(()=>{if(p!=="system"){ut(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ut("dark"):ut("light")),typeof window>"u")return;const dt=window.matchMedia("(prefers-color-scheme: dark)");try{dt.addEventListener("change",({matches:D})=>{ut(D?"dark":"light")})}catch{dt.addListener(({matches:G})=>{try{ut(G?"dark":"light")}catch(Q){console.error(Q)}})}},[p]),Kt.useEffect(()=>{P.length<=1&&z(!1)},[P]),Kt.useEffect(()=>{const dt=D=>{var G;if(s.every(at=>D[at]||D.code===at)){var st;z(!0),(st=H.current)==null||st.focus()}D.code==="Escape"&&(document.activeElement===H.current||(G=H.current)!=null&&G.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",dt),()=>document.removeEventListener("keydown",dt)},[s]),Kt.useEffect(()=>{if(H.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,gt.current=!1)}},[H.current]),Kt.createElement("section",{ref:e,"aria-label":`${O} ${et}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((dt,D)=>{var G;const[Q,st]=dt.split("-");return P.length?Kt.createElement("ol",{key:dt,dir:S==="auto"?Vw():S,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":nt,"data-y-position":Q,"data-x-position":st,style:{"--front-toast-height":`${((G=I[0])==null?void 0:G.height)||0}px`,"--width":`${q6}px`,"--gap":`${L}px`,...x,...Y6(d,f)},onBlur:at=>{gt.current&&!at.currentTarget.contains(at.relatedTarget)&&(gt.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||gt.current||(gt.current=!0,Z.current=at.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{V||z(!1)},onDragEnd:()=>z(!1),onPointerDown:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||rt(!0)},onPointerUp:()=>rt(!1)},P.filter(at=>!at.position&&D===0||at.position===dt).map((at,ft)=>{var wt,St;return Kt.createElement(W6,{key:at.id,icons:T,index:ft,toast:at,defaultRichColors:m,duration:(wt=E?.duration)!=null?wt:b,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:n,visibleToasts:y,closeButton:(St=E?.closeButton)!=null?St:c,interacting:V,position:dt,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:Y,toasts:P.filter(Dt=>Dt.position==at.position),heights:I.filter(Dt=>Dt.position==at.position),setHeights:tt,expandByDefault:o,gap:L,expanded:ct,swipeDirections:t.swipeDirections})})):null}))}),Xc=()=>({showError:(e,n)=>{Hw.error(e?.response?.data?.message||n,{duration:5e3,style:{background:"#fee2e2",color:"#b91c1c",border:"1px solid #ef4444"}})},showSuccess:e=>{Hw.success(e,{duration:4e3,style:{background:"#d1fae5",color:"#065f46",border:"1px solid #10b981"}})}});function Yb({className:i,type:t,...e}){return R.jsx("input",{type:t,"data-slot":"input",className:on("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...e})}var K6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fi=K6.reduce((i,t)=>{const e=t0(`Primitive.${t}`),n=k.forwardRef((r,s)=>{const{asChild:o,...c}=r,u=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(u,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{});function Q6(i,t){i&&Vb.flushSync(()=>i.dispatchEvent(t))}var Z6="Label",KS=k.forwardRef((i,t)=>R.jsx(fi.label,{...i,ref:t,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(i.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));KS.displayName=Z6;var J6=KS;function Ba({className:i,...t}){return R.jsx(J6,{"data-slot":"label",className:on("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...t})}const dr=({label:i,id:t,type:e="text",name:n,value:r,onChange:s,required:o,accept:c,placeholder:u})=>R.jsxs("div",{className:"mb-4 flex-col space-y-2",children:[R.jsx(Ba,{htmlFor:t,children:i}),R.jsx(Yb,{id:t,type:e,name:n,value:e!=="file"?r:void 0,onChange:s,required:o,accept:c,placeholder:u})]}),tM=()=>{const{login:i,isLoading:t}=k.useContext(sh),{showError:e}=Xc(),n=Zm(),{formData:r,handleChange:s}=Id({email:"",password:""}),o=c=>{c.preventDefault(),i(r,{onSuccess:()=>n("/"),onError:u=>e(u,"Login failed")})};return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:R.jsxs("form",{onSubmit:o,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Login"}),R.jsx(dr,{label:"Email",id:"email",type:"email",name:"email",value:r.email,onChange:s,required:!0}),R.jsx(dr,{label:"Password",id:"password",type:"password",name:"password",value:r.password,onChange:s,required:!0}),R.jsx(xn,{type:"submit",disabled:t,className:"w-full",children:t?"Logging in...":"Login"}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx(ur,{to:"/reset-password",className:"text-blue-600",children:"Forgot Password?"})}),R.jsx("div",{className:"mt-2 text-center",children:R.jsx(ur,{to:"/register",className:"text-blue-600",children:"Register"})})]})})},eM=()=>R.jsx("div",{children:R.jsx(tM,{})}),nM=()=>{const{showError:i,showSuccess:t}=Xc(),{formData:e,handleChange:n}=Id({employeeId:"",fullName:"",department:"",email:"",education:"",profession:"",password:""}),r=Bs({mutationFn:rL,onSuccess:()=>t("Registration submitted, pending approval"),onError:o=>i(o,"Registration failed")}),s=o=>{o.preventDefault(),r.mutate(e)};return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:R.jsxs("form",{onSubmit:s,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Register"}),["employeeId","fullName","department","email","education","profession","password"].map(o=>R.jsx(dr,{label:o.charAt(0).toUpperCase()+o.slice(1),id:o,type:o==="password"?"password":o==="email"?"email":"text",name:o,value:e[o],onChange:n,required:!0},o)),R.jsx(xn,{type:"submit",disabled:r.isLoading,className:"w-full",children:r.isLoading?"Submitting...":"Submit"}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx(ur,{to:"/login",className:"text-blue-600",children:"Already registered? Login"})})]})})},iM=()=>R.jsx("div",{children:R.jsx(nM,{})}),rM=()=>{const{showError:i,showSuccess:t}=Xc(),{formData:e,handleChange:n}=Id({email:""}),r=Bs({mutationFn:eL,onSuccess:()=>t("Password reset link sent to email"),onError:o=>i(o,"Request failed")}),s=o=>{o.preventDefault(),r.mutate(e)};return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:R.jsxs("form",{onSubmit:s,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Request Password Reset"}),R.jsx(dr,{label:"Email",id:"email",type:"email",name:"email",value:e.email,onChange:n,required:!0}),R.jsx(xn,{type:"submit",disabled:r.isLoading,className:"w-full",children:r.isLoading?"Sending...":"Send Reset Link"}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx(ur,{to:"/login",className:"text-blue-600",children:"Back to Login"})})]})})},sM=()=>R.jsx("div",{children:R.jsx(rM,{})}),aM=()=>{const{token:i}=HL(),{showError:t,showSuccess:e}=Xc(),{formData:n,handleChange:r}=Id({newPassword:""}),s=Bs({mutationFn:c=>nL(i,c),onSuccess:()=>{e("Password reset successful"),window.location.href="/login"},onError:c=>t(c,"Reset failed")}),o=c=>{c.preventDefault(),s.mutate(n)};return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:R.jsxs("form",{onSubmit:o,className:"w-full max-w-md p-6 bg-white rounded shadow",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Reset Password"}),R.jsx(dr,{label:"New Password",id:"newPassword",type:"password",name:"newPassword",value:n.newPassword,onChange:r,required:!0}),R.jsx(xn,{type:"submit",disabled:s.isLoading,className:"w-full",children:s.isLoading?"Resetting...":"Reset Password"}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx(ur,{to:"/login",className:"text-blue-600",children:"Back to Login"})})]})})},oM=()=>R.jsx("div",{children:R.jsx(aM,{})});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),$w=i=>{const t=cM(i);return t.charAt(0).toUpperCase()+t.slice(1)},QS=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),uM=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=k.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...c},u)=>k.createElement("svg",{ref:u,...hM,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:QS("lucide",r),...!s&&!uM(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,f])=>k.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=(i,t)=>{const e=k.forwardRef(({className:n,...r},s)=>k.createElement(dM,{ref:s,iconNode:t,className:QS(`lucide-${lM($w(i))}`,`lucide-${i}`,n),...r}));return e.displayName=$w(i),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pM=Us("check",fM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mM=Us("circle-alert",gM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ZS=Us("file-text",vM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yM=Us("house",bM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Vv=Us("inbox",wM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ww=Us("log-out",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],SM=Us("menu",AM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],_M=Us("panel-left",EM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],JS=Us("scan",CM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RM=Us("shield",NM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],TM=Us("trash-2",LM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PM=Us("user",MM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xb=Us("x",OM),Ic={ADMIN:"Admin",SCANNER_CLERK:"ScannerClerk",APPROVER:"Approver",UPLOADER:"Uploader"};function Ri(i,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(i?.(r),e===!1||!r.defaultPrevented)return t?.(r)}}function kM(i,t){const e=k.createContext(t),n=s=>{const{children:o,...c}=s,u=k.useMemo(()=>c,Object.values(c));return R.jsx(e.Provider,{value:u,children:o})};n.displayName=i+"Provider";function r(s){const o=k.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${i}\``)}return[n,r]}function Fd(i,t=[]){let e=[];function n(s,o){const c=k.createContext(o),u=e.length;e=[...e,o];const d=p=>{const{scope:m,children:b,...x}=p,y=m?.[i]?.[u]||c,E=k.useMemo(()=>x,Object.values(x));return R.jsx(y.Provider,{value:E,children:b})};d.displayName=s+"Provider";function f(p,m){const b=m?.[i]?.[u]||c,x=k.useContext(b);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=e.map(o=>k.createContext(o));return function(c){const u=c?.[i]||s;return k.useMemo(()=>({[`__scope${i}`]:{...c,[i]:u}}),[c,u])}};return r.scopeName=i,[n,DM(r,...t)]}function DM(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=n.reduce((c,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...c,...p}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function Zu(i){const t=k.useRef(i);return k.useEffect(()=>{t.current=i}),k.useMemo(()=>(...e)=>t.current?.(...e),[])}function jM(i,t=globalThis?.document){const e=Zu(i);k.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var IM="DismissableLayer",$v="dismissableLayer.update",FM="dismissableLayer.pointerDownOutside",BM="dismissableLayer.focusOutside",Yw,tE=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n0=k.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=i,d=k.useContext(tE),[f,p]=k.useState(null),m=f?.ownerDocument??globalThis?.document,[,b]=k.useState({}),x=Jr(t,j=>p(j)),y=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(E),L=f?y.indexOf(f):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,O=L>=S,P=qM(j=>{const I=j.target,tt=[...d.branches].some(ct=>ct.contains(I));!O||tt||(r?.(j),o?.(j),j.defaultPrevented||c?.())},m),B=HM(j=>{const I=j.target;[...d.branches].some(ct=>ct.contains(I))||(s?.(j),o?.(j),j.defaultPrevented||c?.())},m);return jM(j=>{L===d.layers.size-1&&(n?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},m),k.useEffect(()=>{if(f)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Yw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Xw(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Yw)}},[f,m,e,d]),k.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Xw())},[f,d]),k.useEffect(()=>{const j=()=>b({});return document.addEventListener($v,j),()=>document.removeEventListener($v,j)},[]),R.jsx(fi.div,{...u,ref:x,style:{pointerEvents:T?O?"auto":"none":void 0,...i.style},onFocusCapture:Ri(i.onFocusCapture,B.onFocusCapture),onBlurCapture:Ri(i.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ri(i.onPointerDownCapture,P.onPointerDownCapture)})});n0.displayName=IM;var zM="DismissableLayerBranch",UM=k.forwardRef((i,t)=>{const e=k.useContext(tE),n=k.useRef(null),r=Jr(t,n);return k.useEffect(()=>{const s=n.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),R.jsx(fi.div,{...i,ref:r})});UM.displayName=zM;function qM(i,t=globalThis?.document){const e=Zu(i),n=k.useRef(!1),r=k.useRef(()=>{});return k.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let u=function(){eE(FM,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function HM(i,t=globalThis?.document){const e=Zu(i),n=k.useRef(!1);return k.useEffect(()=>{const r=s=>{s.target&&!n.current&&eE(BM,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Xw(){const i=new CustomEvent($v);document.dispatchEvent(i)}function eE(i,t,e,{discrete:n}){const r=e.originalEvent.target,s=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(i,t,{once:!0}),n?Q6(r,s):r.dispatchEvent(s)}var Y1=0;function nE(){k.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??Kw()),document.body.insertAdjacentElement("beforeend",i[1]??Kw()),Y1++,()=>{Y1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Y1--}},[])}function Kw(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var X1="focusScope.autoFocusOnMount",K1="focusScope.autoFocusOnUnmount",Qw={bubbles:!1,cancelable:!0},GM="FocusScope",Kb=k.forwardRef((i,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=i,[c,u]=k.useState(null),d=Zu(r),f=Zu(s),p=k.useRef(null),m=Jr(t,y=>u(y)),b=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let y=function(T){if(b.paused||!c)return;const O=T.target;c.contains(O)?p.current=O:Dc(p.current,{select:!0})},E=function(T){if(b.paused||!c)return;const O=T.relatedTarget;O!==null&&(c.contains(O)||Dc(p.current,{select:!0}))},S=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&Dc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const L=new MutationObserver(S);return c&&L.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),L.disconnect()}}},[n,c,b.paused]),k.useEffect(()=>{if(c){Jw.add(b);const y=document.activeElement;if(!c.contains(y)){const S=new CustomEvent(X1,Qw);c.addEventListener(X1,d),c.dispatchEvent(S),S.defaultPrevented||(VM(KM(iE(c)),{select:!0}),document.activeElement===y&&Dc(c))}return()=>{c.removeEventListener(X1,d),setTimeout(()=>{const S=new CustomEvent(K1,Qw);c.addEventListener(K1,f),c.dispatchEvent(S),S.defaultPrevented||Dc(y??document.body,{select:!0}),c.removeEventListener(K1,f),Jw.remove(b)},0)}}},[c,d,f,b]);const x=k.useCallback(y=>{if(!e&&!n||b.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(E&&S){const L=y.currentTarget,[T,O]=$M(L);T&&O?!y.shiftKey&&S===O?(y.preventDefault(),e&&Dc(T,{select:!0})):y.shiftKey&&S===T&&(y.preventDefault(),e&&Dc(O,{select:!0})):S===L&&y.preventDefault()}},[e,n,b.paused]);return R.jsx(fi.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Kb.displayName=GM;function VM(i,{select:t=!1}={}){const e=document.activeElement;for(const n of i)if(Dc(n,{select:t}),document.activeElement!==e)return}function $M(i){const t=iE(i),e=Zw(t,i),n=Zw(t.reverse(),i);return[e,n]}function iE(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function Zw(i,t){for(const e of i)if(!WM(e,{upTo:t}))return e}function WM(i,{upTo:t}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(t!==void 0&&i===t)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function YM(i){return i instanceof HTMLInputElement&&"select"in i}function Dc(i,{select:t=!1}={}){if(i&&i.focus){const e=document.activeElement;i.focus({preventScroll:!0}),i!==e&&YM(i)&&t&&i.select()}}var Jw=XM();function XM(){let i=[];return{add(t){const e=i[0];t!==e&&e?.pause(),i=tx(i,t),i.unshift(t)},remove(t){i=tx(i,t),i[0]?.resume()}}}function tx(i,t){const e=[...i],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function KM(i){return i.filter(t=>t.tagName!=="A")}var Ua=globalThis?.document?k.useLayoutEffect:()=>{},QM=jA[" useId ".trim().toString()]||(()=>{}),ZM=0;function Qf(i){const[t,e]=k.useState(QM());return Ua(()=>{e(n=>n??String(ZM++))},[i]),i||(t?`radix-${t}`:"")}const JM=["top","right","bottom","left"],Hc=Math.min,Is=Math.max,Pm=Math.round,Hg=Math.floor,Go=i=>({x:i,y:i}),tP={left:"right",right:"left",bottom:"top",top:"bottom"},eP={start:"end",end:"start"};function Wv(i,t,e){return Is(i,Hc(t,e))}function jl(i,t){return typeof i=="function"?i(t):i}function Il(i){return i.split("-")[0]}function Bd(i){return i.split("-")[1]}function Qb(i){return i==="x"?"y":"x"}function Zb(i){return i==="y"?"height":"width"}const nP=new Set(["top","bottom"]);function qo(i){return nP.has(Il(i))?"y":"x"}function Jb(i){return Qb(qo(i))}function iP(i,t,e){e===void 0&&(e=!1);const n=Bd(i),r=Jb(i),s=Zb(r);let o=r==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Om(o)),[o,Om(o)]}function rP(i){const t=Om(i);return[Yv(i),t,Yv(t)]}function Yv(i){return i.replace(/start|end/g,t=>eP[t])}const ex=["left","right"],nx=["right","left"],sP=["top","bottom"],aP=["bottom","top"];function oP(i,t,e){switch(i){case"top":case"bottom":return e?t?nx:ex:t?ex:nx;case"left":case"right":return t?sP:aP;default:return[]}}function lP(i,t,e,n){const r=Bd(i);let s=oP(Il(i),e==="start",n);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(Yv)))),s}function Om(i){return i.replace(/left|right|bottom|top/g,t=>tP[t])}function cP(i){return{top:0,right:0,bottom:0,left:0,...i}}function rE(i){return typeof i!="number"?cP(i):{top:i,right:i,bottom:i,left:i}}function km(i){const{x:t,y:e,width:n,height:r}=i;return{width:n,height:r,top:e,left:t,right:t+n,bottom:e+r,x:t,y:e}}function ix(i,t,e){let{reference:n,floating:r}=i;const s=qo(t),o=Jb(t),c=Zb(o),u=Il(t),d=s==="y",f=n.x+n.width/2-r.width/2,p=n.y+n.height/2-r.height/2,m=n[c]/2-r[c]/2;let b;switch(u){case"top":b={x:f,y:n.y-r.height};break;case"bottom":b={x:f,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:p};break;case"left":b={x:n.x-r.width,y:p};break;default:b={x:n.x,y:n.y}}switch(Bd(t)){case"start":b[o]-=m*(e&&d?-1:1);break;case"end":b[o]+=m*(e&&d?-1:1);break}return b}const uP=async(i,t,e)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=e,c=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:i,floating:t,strategy:r}),{x:f,y:p}=ix(d,n,u),m=n,b={},x=0;for(let y=0;y<c.length;y++){const{name:E,fn:S}=c[y],{x:L,y:T,data:O,reset:P}=await S({x:f,y:p,initialPlacement:n,placement:m,strategy:r,middlewareData:b,rects:d,platform:o,elements:{reference:i,floating:t}});f=L??f,p=T??p,b={...b,[E]:{...b[E],...O}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:i,floating:t,strategy:r}):P.rects),{x:f,y:p}=ix(d,m,u)),y=-1)}return{x:f,y:p,placement:m,strategy:r,middlewareData:b}};async function sp(i,t){var e;t===void 0&&(t={});const{x:n,y:r,platform:s,rects:o,elements:c,strategy:u}=i,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:b=0}=jl(t,i),x=rE(b),E=c[m?p==="floating"?"reference":"floating":p],S=km(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(E)))==null||e?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),L=p==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),O=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},P=km(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:T,strategy:u}):L);return{top:(S.top-P.top+x.top)/O.y,bottom:(P.bottom-S.bottom+x.bottom)/O.y,left:(S.left-P.left+x.left)/O.x,right:(P.right-S.right+x.right)/O.x}}const hP=i=>({name:"arrow",options:i,async fn(t){const{x:e,y:n,placement:r,rects:s,platform:o,elements:c,middlewareData:u}=t,{element:d,padding:f=0}=jl(i,t)||{};if(d==null)return{};const p=rE(f),m={x:e,y:n},b=Jb(r),x=Zb(b),y=await o.getDimensions(d),E=b==="y",S=E?"top":"left",L=E?"bottom":"right",T=E?"clientHeight":"clientWidth",O=s.reference[x]+s.reference[b]-m[b]-s.floating[x],P=m[b]-s.reference[b],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let j=B?B[T]:0;(!j||!await(o.isElement==null?void 0:o.isElement(B)))&&(j=c.floating[T]||s.floating[x]);const I=O/2-P/2,tt=j/2-y[x]/2-1,ct=Hc(p[S],tt),z=Hc(p[L],tt),V=ct,rt=j-y[x]-z,nt=j/2-y[x]/2+I,ut=Wv(V,nt,rt),H=!u.arrow&&Bd(r)!=null&&nt!==ut&&s.reference[x]/2-(nt<V?ct:z)-y[x]/2<0,et=H?nt<V?nt-V:nt-rt:0;return{[b]:m[b]+et,data:{[b]:ut,centerOffset:nt-ut-et,...H&&{alignmentOffset:et}},reset:H}}}),dP=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...E}=jl(i,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const S=Il(r),L=qo(c),T=Il(c)===c,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),P=m||(T||!y?[Om(c)]:rP(c)),B=x!=="none";!m&&B&&P.push(...lP(c,y,x,O));const j=[c,...P],I=await sp(t,E),tt=[];let ct=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&tt.push(I[S]),p){const nt=iP(r,o,O);tt.push(I[nt[0]],I[nt[1]])}if(ct=[...ct,{placement:r,overflows:tt}],!tt.every(nt=>nt<=0)){var z,V;const nt=(((z=s.flip)==null?void 0:z.index)||0)+1,ut=j[nt];if(ut&&(!(p==="alignment"?L!==qo(ut):!1)||ct.every(Z=>Z.overflows[0]>0&&qo(Z.placement)===L)))return{data:{index:nt,overflows:ct},reset:{placement:ut}};let H=(V=ct.filter(et=>et.overflows[0]<=0).sort((et,Z)=>et.overflows[1]-Z.overflows[1])[0])==null?void 0:V.placement;if(!H)switch(b){case"bestFit":{var rt;const et=(rt=ct.filter(Z=>{if(B){const gt=qo(Z.placement);return gt===L||gt==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(gt=>gt>0).reduce((gt,Y)=>gt+Y,0)]).sort((Z,gt)=>Z[1]-gt[1])[0])==null?void 0:rt[0];et&&(H=et);break}case"initialPlacement":H=c;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function rx(i,t){return{top:i.top-t.height,right:i.right-t.width,bottom:i.bottom-t.height,left:i.left-t.width}}function sx(i){return JM.some(t=>i[t]>=0)}const fP=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...r}=jl(i,t);switch(n){case"referenceHidden":{const s=await sp(t,{...r,elementContext:"reference"}),o=rx(s,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sx(o)}}}case"escaped":{const s=await sp(t,{...r,altBoundary:!0}),o=rx(s,e.floating);return{data:{escapedOffsets:o,escaped:sx(o)}}}default:return{}}}}},sE=new Set(["left","top"]);async function pP(i,t){const{placement:e,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Il(e),c=Bd(e),u=qo(e)==="y",d=sE.has(o)?-1:1,f=s&&u?-1:1,p=jl(t,i);let{mainAxis:m,crossAxis:b,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof x=="number"&&(b=c==="end"?x*-1:x),u?{x:b*f,y:m*d}:{x:m*d,y:b*f}}const gP=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:r,y:s,placement:o,middlewareData:c}=t,u=await pP(t,i);return o===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:o}}}}},mP=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:n,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:E=>{let{x:S,y:L}=E;return{x:S,y:L}}},...u}=jl(i,t),d={x:e,y:n},f=await sp(t,u),p=qo(Il(r)),m=Qb(p);let b=d[m],x=d[p];if(s){const E=m==="y"?"top":"left",S=m==="y"?"bottom":"right",L=b+f[E],T=b-f[S];b=Wv(L,b,T)}if(o){const E=p==="y"?"top":"left",S=p==="y"?"bottom":"right",L=x+f[E],T=x-f[S];x=Wv(L,x,T)}const y=c.fn({...t,[m]:b,[p]:x});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[m]:s,[p]:o}}}}}},vP=function(i){return i===void 0&&(i={}),{options:i,fn(t){const{x:e,y:n,placement:r,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=jl(i,t),f={x:e,y:n},p=qo(r),m=Qb(p);let b=f[m],x=f[p];const y=jl(c,t),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const T=m==="y"?"height":"width",O=s.reference[m]-s.floating[T]+E.mainAxis,P=s.reference[m]+s.reference[T]-E.mainAxis;b<O?b=O:b>P&&(b=P)}if(d){var S,L;const T=m==="y"?"width":"height",O=sE.has(Il(r)),P=s.reference[p]-s.floating[T]+(O&&((S=o.offset)==null?void 0:S[p])||0)+(O?0:E.crossAxis),B=s.reference[p]+s.reference[T]+(O?0:((L=o.offset)==null?void 0:L[p])||0)-(O?E.crossAxis:0);x<P?x=P:x>B&&(x=B)}return{[m]:b,[p]:x}}}},bP=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){var e,n;const{placement:r,rects:s,platform:o,elements:c}=t,{apply:u=()=>{},...d}=jl(i,t),f=await sp(t,d),p=Il(r),m=Bd(r),b=qo(r)==="y",{width:x,height:y}=s.floating;let E,S;p==="top"||p==="bottom"?(E=p,S=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(S=p,E=m==="end"?"top":"bottom");const L=y-f.top-f.bottom,T=x-f.left-f.right,O=Hc(y-f[E],L),P=Hc(x-f[S],T),B=!t.middlewareData.shift;let j=O,I=P;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(I=T),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=L),B&&!m){const ct=Is(f.left,0),z=Is(f.right,0),V=Is(f.top,0),rt=Is(f.bottom,0);b?I=x-2*(ct!==0||z!==0?ct+z:Is(f.left,f.right)):j=y-2*(V!==0||rt!==0?V+rt:Is(f.top,f.bottom))}await u({...t,availableWidth:I,availableHeight:j});const tt=await o.getDimensions(c.floating);return x!==tt.width||y!==tt.height?{reset:{rects:!0}}:{}}}};function i0(){return typeof window<"u"}function zd(i){return aE(i)?(i.nodeName||"").toLowerCase():"#document"}function zs(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function Qo(i){var t;return(t=(aE(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function aE(i){return i0()?i instanceof Node||i instanceof zs(i).Node:!1}function qa(i){return i0()?i instanceof Element||i instanceof zs(i).Element:!1}function Xo(i){return i0()?i instanceof HTMLElement||i instanceof zs(i).HTMLElement:!1}function ax(i){return!i0()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof zs(i).ShadowRoot}const yP=new Set(["inline","contents"]);function Ep(i){const{overflow:t,overflowX:e,overflowY:n,display:r}=Ha(i);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!yP.has(r)}const wP=new Set(["table","td","th"]);function xP(i){return wP.has(zd(i))}const AP=[":popover-open",":modal"];function r0(i){return AP.some(t=>{try{return i.matches(t)}catch{return!1}})}const SP=["transform","translate","scale","rotate","perspective"],EP=["transform","translate","scale","rotate","perspective","filter"],_P=["paint","layout","strict","content"];function ty(i){const t=ey(),e=qa(i)?Ha(i):i;return SP.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||EP.some(n=>(e.willChange||"").includes(n))||_P.some(n=>(e.contain||"").includes(n))}function CP(i){let t=Gc(i);for(;Xo(t)&&!Sd(t);){if(ty(t))return t;if(r0(t))return null;t=Gc(t)}return null}function ey(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NP=new Set(["html","body","#document"]);function Sd(i){return NP.has(zd(i))}function Ha(i){return zs(i).getComputedStyle(i)}function s0(i){return qa(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Gc(i){if(zd(i)==="html")return i;const t=i.assignedSlot||i.parentNode||ax(i)&&i.host||Qo(i);return ax(t)?t.host:t}function oE(i){const t=Gc(i);return Sd(t)?i.ownerDocument?i.ownerDocument.body:i.body:Xo(t)&&Ep(t)?t:oE(t)}function ap(i,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=oE(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=zs(r);if(s){const c=Xv(o);return t.concat(o,o.visualViewport||[],Ep(r)?r:[],c&&e?ap(c):[])}return t.concat(r,ap(r,[],e))}function Xv(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function lE(i){const t=Ha(i);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Xo(i),s=r?i.offsetWidth:e,o=r?i.offsetHeight:n,c=Pm(e)!==s||Pm(n)!==o;return c&&(e=s,n=o),{width:e,height:n,$:c}}function ny(i){return qa(i)?i:i.contextElement}function hd(i){const t=ny(i);if(!Xo(t))return Go(1);const e=t.getBoundingClientRect(),{width:n,height:r,$:s}=lE(t);let o=(s?Pm(e.width):e.width)/n,c=(s?Pm(e.height):e.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const RP=Go(0);function cE(i){const t=zs(i);return!ey()||!t.visualViewport?RP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LP(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==zs(i)?!1:t}function Ju(i,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=i.getBoundingClientRect(),s=ny(i);let o=Go(1);t&&(n?qa(n)&&(o=hd(n)):o=hd(i));const c=LP(s,e,n)?cE(s):Go(0);let u=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,f=r.width/o.x,p=r.height/o.y;if(s){const m=zs(s),b=n&&qa(n)?zs(n):n;let x=m,y=Xv(x);for(;y&&n&&b!==x;){const E=hd(y),S=y.getBoundingClientRect(),L=Ha(y),T=S.left+(y.clientLeft+parseFloat(L.paddingLeft))*E.x,O=S.top+(y.clientTop+parseFloat(L.paddingTop))*E.y;u*=E.x,d*=E.y,f*=E.x,p*=E.y,u+=T,d+=O,x=zs(y),y=Xv(x)}}return km({width:f,height:p,x:u,y:d})}function iy(i,t){const e=s0(i).scrollLeft;return t?t.left+e:Ju(Qo(i)).left+e}function uE(i,t,e){e===void 0&&(e=!1);const n=i.getBoundingClientRect(),r=n.left+t.scrollLeft-(e?0:iy(i,n)),s=n.top+t.scrollTop;return{x:r,y:s}}function TP(i){let{elements:t,rect:e,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Qo(n),c=t?r0(t.floating):!1;if(n===o||c&&s)return e;let u={scrollLeft:0,scrollTop:0},d=Go(1);const f=Go(0),p=Xo(n);if((p||!p&&!s)&&((zd(n)!=="body"||Ep(o))&&(u=s0(n)),Xo(n))){const b=Ju(n);d=hd(n),f.x=b.x+n.clientLeft,f.y=b.y+n.clientTop}const m=o&&!p&&!s?uE(o,u,!0):Go(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:e.y*d.y-u.scrollTop*d.y+f.y+m.y}}function MP(i){return Array.from(i.getClientRects())}function PP(i){const t=Qo(i),e=s0(i),n=i.ownerDocument.body,r=Is(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Is(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+iy(i);const c=-e.scrollTop;return Ha(n).direction==="rtl"&&(o+=Is(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:c}}function OP(i,t){const e=zs(i),n=Qo(i),r=e.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,u=0;if(r){s=r.width,o=r.height;const d=ey();(!d||d&&t==="fixed")&&(c=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:c,y:u}}const kP=new Set(["absolute","fixed"]);function DP(i,t){const e=Ju(i,!0,t==="fixed"),n=e.top+i.clientTop,r=e.left+i.clientLeft,s=Xo(i)?hd(i):Go(1),o=i.clientWidth*s.x,c=i.clientHeight*s.y,u=r*s.x,d=n*s.y;return{width:o,height:c,x:u,y:d}}function ox(i,t,e){let n;if(t==="viewport")n=OP(i,e);else if(t==="document")n=PP(Qo(i));else if(qa(t))n=DP(t,e);else{const r=cE(i);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return km(n)}function hE(i,t){const e=Gc(i);return e===t||!qa(e)||Sd(e)?!1:Ha(e).position==="fixed"||hE(e,t)}function jP(i,t){const e=t.get(i);if(e)return e;let n=ap(i,[],!1).filter(c=>qa(c)&&zd(c)!=="body"),r=null;const s=Ha(i).position==="fixed";let o=s?Gc(i):i;for(;qa(o)&&!Sd(o);){const c=Ha(o),u=ty(o);!u&&c.position==="fixed"&&(r=null),(s?!u&&!r:!u&&c.position==="static"&&!!r&&kP.has(r.position)||Ep(o)&&!u&&hE(i,o))?n=n.filter(f=>f!==o):r=c,o=Gc(o)}return t.set(i,n),n}function IP(i){let{element:t,boundary:e,rootBoundary:n,strategy:r}=i;const o=[...e==="clippingAncestors"?r0(t)?[]:jP(t,this._c):[].concat(e),n],c=o[0],u=o.reduce((d,f)=>{const p=ox(t,f,r);return d.top=Is(p.top,d.top),d.right=Hc(p.right,d.right),d.bottom=Hc(p.bottom,d.bottom),d.left=Is(p.left,d.left),d},ox(t,c,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function FP(i){const{width:t,height:e}=lE(i);return{width:t,height:e}}function BP(i,t,e){const n=Xo(t),r=Qo(t),s=e==="fixed",o=Ju(i,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=Go(0);function d(){u.x=iy(r)}if(n||!n&&!s)if((zd(t)!=="body"||Ep(r))&&(c=s0(t)),n){const b=Ju(t,!0,s,t);u.x=b.x+t.clientLeft,u.y=b.y+t.clientTop}else r&&d();s&&!n&&r&&d();const f=r&&!n&&!s?uE(r,c):Go(0),p=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:p,y:m,width:o.width,height:o.height}}function Q1(i){return Ha(i).position==="static"}function lx(i,t){if(!Xo(i)||Ha(i).position==="fixed")return null;if(t)return t(i);let e=i.offsetParent;return Qo(i)===e&&(e=e.ownerDocument.body),e}function dE(i,t){const e=zs(i);if(r0(i))return e;if(!Xo(i)){let r=Gc(i);for(;r&&!Sd(r);){if(qa(r)&&!Q1(r))return r;r=Gc(r)}return e}let n=lx(i,t);for(;n&&xP(n)&&Q1(n);)n=lx(n,t);return n&&Sd(n)&&Q1(n)&&!ty(n)?e:n||CP(i)||e}const zP=async function(i){const t=this.getOffsetParent||dE,e=this.getDimensions,n=await e(i.floating);return{reference:BP(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UP(i){return Ha(i).direction==="rtl"}const qP={convertOffsetParentRelativeRectToViewportRelativeRect:TP,getDocumentElement:Qo,getClippingRect:IP,getOffsetParent:dE,getElementRects:zP,getClientRects:MP,getDimensions:FP,getScale:hd,isElement:qa,isRTL:UP};function fE(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height}function HP(i,t){let e=null,n;const r=Qo(i);function s(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=i.getBoundingClientRect(),{left:f,top:p,width:m,height:b}=d;if(c||t(),!m||!b)return;const x=Hg(p),y=Hg(r.clientWidth-(f+m)),E=Hg(r.clientHeight-(p+b)),S=Hg(f),T={rootMargin:-x+"px "+-y+"px "+-E+"px "+-S+"px",threshold:Is(0,Hc(1,u))||1};let O=!0;function P(B){const j=B[0].intersectionRatio;if(j!==u){if(!O)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!fE(d,i.getBoundingClientRect())&&o(),O=!1}try{e=new IntersectionObserver(P,{...T,root:r.ownerDocument})}catch{e=new IntersectionObserver(P,T)}e.observe(i)}return o(!0),s}function GP(i,t,e,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=ny(i),f=r||s?[...d?ap(d):[],...ap(t)]:[];f.forEach(S=>{r&&S.addEventListener("scroll",e,{passive:!0}),s&&S.addEventListener("resize",e)});const p=d&&c?HP(d,e):null;let m=-1,b=null;o&&(b=new ResizeObserver(S=>{let[L]=S;L&&L.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(t)})),e()}),d&&!u&&b.observe(d),b.observe(t));let x,y=u?Ju(i):null;u&&E();function E(){const S=Ju(i);y&&!fE(y,S)&&e(),y=S,x=requestAnimationFrame(E)}return e(),()=>{var S;f.forEach(L=>{r&&L.removeEventListener("scroll",e),s&&L.removeEventListener("resize",e)}),p?.(),(S=b)==null||S.disconnect(),b=null,u&&cancelAnimationFrame(x)}}const VP=gP,$P=mP,WP=dP,YP=bP,XP=fP,cx=hP,KP=vP,QP=(i,t,e)=>{const n=new Map,r={platform:qP,...e},s={...r.platform,_c:n};return uP(i,t,{...r,platform:s})};var ZP=typeof document<"u",JP=function(){},pm=ZP?k.useLayoutEffect:JP;function Dm(i,t){if(i===t)return!0;if(typeof i!=typeof t)return!1;if(typeof i=="function"&&i.toString()===t.toString())return!0;let e,n,r;if(i&&t&&typeof i=="object"){if(Array.isArray(i)){if(e=i.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!Dm(i[n],t[n]))return!1;return!0}if(r=Object.keys(i),e=r.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=e;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Dm(i[s],t[s]))return!1}return!0}return i!==i&&t!==t}function pE(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function ux(i,t){const e=pE(i);return Math.round(t*e)/e}function Z1(i){const t=k.useRef(i);return pm(()=>{t.current=i}),t}function tO(i){i===void 0&&(i={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=i,[f,p]=k.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[m,b]=k.useState(n);Dm(m,n)||b(n);const[x,y]=k.useState(null),[E,S]=k.useState(null),L=k.useCallback(Z=>{Z!==B.current&&(B.current=Z,y(Z))},[]),T=k.useCallback(Z=>{Z!==j.current&&(j.current=Z,S(Z))},[]),O=s||x,P=o||E,B=k.useRef(null),j=k.useRef(null),I=k.useRef(f),tt=u!=null,ct=Z1(u),z=Z1(r),V=Z1(d),rt=k.useCallback(()=>{if(!B.current||!j.current)return;const Z={placement:t,strategy:e,middleware:m};z.current&&(Z.platform=z.current),QP(B.current,j.current,Z).then(gt=>{const Y={...gt,isPositioned:V.current!==!1};nt.current&&!Dm(I.current,Y)&&(I.current=Y,Vb.flushSync(()=>{p(Y)}))})},[m,t,e,z,V]);pm(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(Z=>({...Z,isPositioned:!1})))},[d]);const nt=k.useRef(!1);pm(()=>(nt.current=!0,()=>{nt.current=!1}),[]),pm(()=>{if(O&&(B.current=O),P&&(j.current=P),O&&P){if(ct.current)return ct.current(O,P,rt);rt()}},[O,P,rt,ct,tt]);const ut=k.useMemo(()=>({reference:B,floating:j,setReference:L,setFloating:T}),[L,T]),H=k.useMemo(()=>({reference:O,floating:P}),[O,P]),et=k.useMemo(()=>{const Z={position:e,left:0,top:0};if(!H.floating)return Z;const gt=ux(H.floating,f.x),Y=ux(H.floating,f.y);return c?{...Z,transform:"translate("+gt+"px, "+Y+"px)",...pE(H.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:gt,top:Y}},[e,c,H.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:rt,refs:ut,elements:H,floatingStyles:et}),[f,rt,ut,H,et])}const eO=i=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:i,fn(e){const{element:n,padding:r}=typeof i=="function"?i(e):i;return n&&t(n)?n.current!=null?cx({element:n.current,padding:r}).fn(e):{}:n?cx({element:n,padding:r}).fn(e):{}}}},nO=(i,t)=>({...VP(i),options:[i,t]}),iO=(i,t)=>({...$P(i),options:[i,t]}),rO=(i,t)=>({...KP(i),options:[i,t]}),sO=(i,t)=>({...WP(i),options:[i,t]}),aO=(i,t)=>({...YP(i),options:[i,t]}),oO=(i,t)=>({...XP(i),options:[i,t]}),lO=(i,t)=>({...eO(i),options:[i,t]});var cO="Arrow",gE=k.forwardRef((i,t)=>{const{children:e,width:n=10,height:r=5,...s}=i;return R.jsx(fi.svg,{...s,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?e:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});gE.displayName=cO;var uO=gE;function mE(i){const[t,e]=k.useState(void 0);return Ua(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,c;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=i.offsetWidth,c=i.offsetHeight;e({width:o,height:c})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var ry="Popper",[vE,a0]=Fd(ry),[hO,bE]=vE(ry),yE=i=>{const{__scopePopper:t,children:e}=i,[n,r]=k.useState(null);return R.jsx(hO,{scope:t,anchor:n,onAnchorChange:r,children:e})};yE.displayName=ry;var wE="PopperAnchor",xE=k.forwardRef((i,t)=>{const{__scopePopper:e,virtualRef:n,...r}=i,s=bE(wE,e),o=k.useRef(null),c=Jr(t,o);return k.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:R.jsx(fi.div,{...r,ref:c})});xE.displayName=wE;var sy="PopperContent",[dO,fO]=vE(sy),AE=k.forwardRef((i,t)=>{const{__scopePopper:e,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:x,...y}=i,E=bE(sy,e),[S,L]=k.useState(null),T=Jr(t,ft=>L(ft)),[O,P]=k.useState(null),B=mE(O),j=B?.width??0,I=B?.height??0,tt=n+(s!=="center"?"-"+s:""),ct=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],V=z.length>0,rt={padding:ct,boundary:z.filter(gO),altBoundary:V},{refs:nt,floatingStyles:ut,placement:H,isPositioned:et,middlewareData:Z}=tO({strategy:"fixed",placement:tt,whileElementsMounted:(...ft)=>GP(...ft,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[nO({mainAxis:r+I,alignmentAxis:o}),u&&iO({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?rO():void 0,...rt}),u&&sO({...rt}),aO({...rt,apply:({elements:ft,rects:wt,availableWidth:St,availableHeight:Dt})=>{const{width:Ut,height:Wt}=wt.reference,Vt=ft.floating.style;Vt.setProperty("--radix-popper-available-width",`${St}px`),Vt.setProperty("--radix-popper-available-height",`${Dt}px`),Vt.setProperty("--radix-popper-anchor-width",`${Ut}px`),Vt.setProperty("--radix-popper-anchor-height",`${Wt}px`)}}),O&&lO({element:O,padding:c}),mO({arrowWidth:j,arrowHeight:I}),m&&oO({strategy:"referenceHidden",...rt})]}),[gt,Y]=_E(H),dt=Zu(x);Ua(()=>{et&&dt?.()},[et,dt]);const D=Z.arrow?.x,G=Z.arrow?.y,Q=Z.arrow?.centerOffset!==0,[st,at]=k.useState();return Ua(()=>{S&&at(window.getComputedStyle(S).zIndex)},[S]),R.jsx("div",{ref:nt.setFloating,"data-radix-popper-content-wrapper":"",style:{...ut,transform:et?ut.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:R.jsx(dO,{scope:e,placedSide:gt,onArrowChange:P,arrowX:D,arrowY:G,shouldHideArrow:Q,children:R.jsx(fi.div,{"data-side":gt,"data-align":Y,...y,ref:T,style:{...y.style,animation:et?void 0:"none"}})})})});AE.displayName=sy;var SE="PopperArrow",pO={top:"bottom",right:"left",bottom:"top",left:"right"},EE=k.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=fO(SE,n),o=pO[s.placedSide];return R.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:R.jsx(uO,{...r,ref:e,style:{...r.style,display:"block"}})})});EE.displayName=SE;function gO(i){return i!==null}var mO=i=>({name:"transformOrigin",options:i,fn(t){const{placement:e,rects:n,middlewareData:r}=t,o=r.arrow?.centerOffset!==0,c=o?0:i.arrowWidth,u=o?0:i.arrowHeight,[d,f]=_E(e),p={start:"0%",center:"50%",end:"100%"}[f],m=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+u/2;let x="",y="";return d==="bottom"?(x=o?p:`${m}px`,y=`${-u}px`):d==="top"?(x=o?p:`${m}px`,y=`${n.floating.height+u}px`):d==="right"?(x=`${-u}px`,y=o?p:`${b}px`):d==="left"&&(x=`${n.floating.width+u}px`,y=o?p:`${b}px`),{data:{x,y}}}});function _E(i){const[t,e="center"]=i.split("-");return[t,e]}var CE=yE,ay=xE,NE=AE,RE=EE,vO="Portal",o0=k.forwardRef((i,t)=>{const{container:e,...n}=i,[r,s]=k.useState(!1);Ua(()=>s(!0),[]);const o=e||r&&globalThis?.document?.body;return o?jS.createPortal(R.jsx(fi.div,{...n,ref:t}),o):null});o0.displayName=vO;function bO(i,t){return k.useReducer((e,n)=>t[e][n]??e,i)}var zl=i=>{const{present:t,children:e}=i,n=yO(t),r=typeof e=="function"?e({present:n.isPresent}):k.Children.only(e),s=Jr(n.ref,wO(r));return typeof e=="function"||n.isPresent?k.cloneElement(r,{ref:s}):null};zl.displayName="Presence";function yO(i){const[t,e]=k.useState(),n=k.useRef(null),r=k.useRef(i),s=k.useRef("none"),o=i?"mounted":"unmounted",[c,u]=bO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const d=Gg(n.current);s.current=c==="mounted"?d:"none"},[c]),Ua(()=>{const d=n.current,f=r.current;if(f!==i){const m=s.current,b=Gg(d);i?u("MOUNT"):b==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&m!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,u]),Ua(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=b=>{const y=Gg(n.current).includes(b.animationName);if(b.target===t&&y&&(u("ANIMATION_END"),!r.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},m=b=>{b.target===t&&(s.current=Gg(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(d=>{n.current=d?getComputedStyle(d):null,e(d)},[])}}function Gg(i){return i?.animationName||"none"}function wO(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var xO=jA[" useInsertionEffect ".trim().toString()]||Ua;function l0({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[r,s,o]=AO({defaultProp:t,onChange:e}),c=i!==void 0,u=c?i:r;{const f=k.useRef(i!==void 0);k.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const d=k.useCallback(f=>{if(c){const p=SO(f)?f(i):f;p!==i&&o.current?.(p)}else s(f)},[c,i,s,o]);return[u,d]}function AO({defaultProp:i,onChange:t}){const[e,n]=k.useState(i),r=k.useRef(e),s=k.useRef(t);return xO(()=>{s.current=t},[t]),k.useEffect(()=>{r.current!==e&&(s.current?.(e),r.current=e)},[e,r]),[e,n,s]}function SO(i){return typeof i=="function"}var EO=function(i){if(typeof document>"u")return null;var t=Array.isArray(i)?i[0]:i;return t.ownerDocument.body},Kh=new WeakMap,Vg=new WeakMap,$g={},J1=0,LE=function(i){return i&&(i.host||LE(i.parentNode))},_O=function(i,t){return t.map(function(e){if(i.contains(e))return e;var n=LE(e);return n&&i.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",i,". Doing nothing"),null)}).filter(function(e){return!!e})},CO=function(i,t,e,n){var r=_O(t,Array.isArray(i)?i:[i]);$g[e]||($g[e]=new WeakMap);var s=$g[e],o=[],c=new Set,u=new Set(r),d=function(p){!p||c.has(p)||(c.add(p),d(p.parentNode))};r.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))f(m);else try{var b=m.getAttribute(n),x=b!==null&&b!=="false",y=(Kh.get(m)||0)+1,E=(s.get(m)||0)+1;Kh.set(m,y),s.set(m,E),o.push(m),y===1&&x&&Vg.set(m,!0),E===1&&m.setAttribute(e,"true"),x||m.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return f(t),c.clear(),J1++,function(){o.forEach(function(p){var m=Kh.get(p)-1,b=s.get(p)-1;Kh.set(p,m),s.set(p,b),m||(Vg.has(p)||p.removeAttribute(n),Vg.delete(p)),b||p.removeAttribute(e)}),J1--,J1||(Kh=new WeakMap,Kh=new WeakMap,Vg=new WeakMap,$g={})}},TE=function(i,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),r=EO(i);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),CO(n,r,e,"aria-hidden")):function(){return null}},zo=function(){return zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zo.apply(this,arguments)};function ME(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e}function NO(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return i.concat(s||Array.prototype.slice.call(t))}var gm="right-scroll-bar-position",mm="width-before-scroll-bar",RO="with-scroll-bars-hidden",LO="--removed-body-scroll-bar-size";function tv(i,t){return typeof i=="function"?i(t):i&&(i.current=t),i}function TO(i,t){var e=k.useState(function(){return{value:i,callback:t,facade:{get current(){return e.value},set current(n){var r=e.value;r!==n&&(e.value=n,e.callback(n,r))}}}})[0];return e.callback=t,e.facade}var MO=typeof window<"u"?k.useLayoutEffect:k.useEffect,hx=new WeakMap;function PO(i,t){var e=TO(null,function(n){return i.forEach(function(r){return tv(r,n)})});return MO(function(){var n=hx.get(e);if(n){var r=new Set(n),s=new Set(i),o=e.current;r.forEach(function(c){s.has(c)||tv(c,null)}),s.forEach(function(c){r.has(c)||tv(c,o)})}hx.set(e,i)},[i]),e}function OO(i){return i}function kO(i,t){t===void 0&&(t=OO);var e=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:i},useMedium:function(s){var o=t(s,n);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;e.length;){var o=e;e=[],o.forEach(s)}e={push:function(c){return s(c)},filter:function(){return e}}},assignMedium:function(s){n=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(s),o=e}var u=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),e={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),e}}}};return r}function DO(i){i===void 0&&(i={});var t=kO(null);return t.options=zo({async:!0,ssr:!1},i),t}var PE=function(i){var t=i.sideCar,e=ME(i,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,zo({},e))};PE.isSideCarExport=!0;function jO(i,t){return i.useMedium(t),PE}var OE=DO(),ev=function(){},c0=k.forwardRef(function(i,t){var e=k.useRef(null),n=k.useState({onScrollCapture:ev,onWheelCapture:ev,onTouchMoveCapture:ev}),r=n[0],s=n[1],o=i.forwardProps,c=i.children,u=i.className,d=i.removeScrollBar,f=i.enabled,p=i.shards,m=i.sideCar,b=i.noRelative,x=i.noIsolation,y=i.inert,E=i.allowPinchZoom,S=i.as,L=S===void 0?"div":S,T=i.gapMode,O=ME(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,B=PO([e,t]),j=zo(zo({},O),r);return k.createElement(k.Fragment,null,f&&k.createElement(P,{sideCar:OE,removeScrollBar:d,shards:p,noRelative:b,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!E,lockRef:e,gapMode:T}),o?k.cloneElement(k.Children.only(c),zo(zo({},j),{ref:B})):k.createElement(L,zo({},j,{className:u,ref:B}),c))});c0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};c0.classNames={fullWidth:mm,zeroRight:gm};var IO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FO(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var t=IO();return t&&i.setAttribute("nonce",t),i}function BO(i,t){i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}function zO(i){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(i)}var UO=function(){var i=0,t=null;return{add:function(e){i==0&&(t=FO())&&(BO(t,e),zO(t)),i++},remove:function(){i--,!i&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qO=function(){var i=UO();return function(t,e){k.useEffect(function(){return i.add(t),function(){i.remove()}},[t&&e])}},kE=function(){var i=qO(),t=function(e){var n=e.styles,r=e.dynamic;return i(n,r),null};return t},HO={left:0,top:0,right:0,gap:0},nv=function(i){return parseInt(i||"",10)||0},GO=function(i){var t=window.getComputedStyle(document.body),e=t[i==="padding"?"paddingLeft":"marginLeft"],n=t[i==="padding"?"paddingTop":"marginTop"],r=t[i==="padding"?"paddingRight":"marginRight"];return[nv(e),nv(n),nv(r)]},VO=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return HO;var t=GO(i),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},$O=kE(),dd="data-scroll-locked",WO=function(i,t,e,n){var r=i.left,s=i.top,o=i.right,c=i.gap;return e===void 0&&(e="margin"),`
  .`.concat(RO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(dd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gm,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(mm,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mm," .").concat(mm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(dd,`] {
    `).concat(LO,": ").concat(c,`px;
  }
`)},dx=function(){var i=parseInt(document.body.getAttribute(dd)||"0",10);return isFinite(i)?i:0},YO=function(){k.useEffect(function(){return document.body.setAttribute(dd,(dx()+1).toString()),function(){var i=dx()-1;i<=0?document.body.removeAttribute(dd):document.body.setAttribute(dd,i.toString())}},[])},XO=function(i){var t=i.noRelative,e=i.noImportant,n=i.gapMode,r=n===void 0?"margin":n;YO();var s=k.useMemo(function(){return VO(r)},[r]);return k.createElement($O,{styles:WO(s,!t,r,e?"":"!important")})},Kv=!1;if(typeof window<"u")try{var Wg=Object.defineProperty({},"passive",{get:function(){return Kv=!0,!0}});window.addEventListener("test",Wg,Wg),window.removeEventListener("test",Wg,Wg)}catch{Kv=!1}var Qh=Kv?{passive:!1}:!1,KO=function(i){return i.tagName==="TEXTAREA"},DE=function(i,t){if(!(i instanceof Element))return!1;var e=window.getComputedStyle(i);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!KO(i)&&e[t]==="visible")},QO=function(i){return DE(i,"overflowY")},ZO=function(i){return DE(i,"overflowX")},fx=function(i,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=jE(i,n);if(r){var s=IE(i,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},JO=function(i){var t=i.scrollTop,e=i.scrollHeight,n=i.clientHeight;return[t,e,n]},tk=function(i){var t=i.scrollLeft,e=i.scrollWidth,n=i.clientWidth;return[t,e,n]},jE=function(i,t){return i==="v"?QO(t):ZO(t)},IE=function(i,t){return i==="v"?JO(t):tk(t)},ek=function(i,t){return i==="h"&&t==="rtl"?-1:1},nk=function(i,t,e,n,r){var s=ek(i,window.getComputedStyle(t).direction),o=s*n,c=e.target,u=t.contains(c),d=!1,f=o>0,p=0,m=0;do{if(!c)break;var b=IE(i,c),x=b[0],y=b[1],E=b[2],S=y-E-s*x;(x||S)&&jE(i,c)&&(p+=S,m+=x);var L=c.parentNode;c=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Yg=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},px=function(i){return[i.deltaX,i.deltaY]},gx=function(i){return i&&"current"in i?i.current:i},ik=function(i,t){return i[0]===t[0]&&i[1]===t[1]},rk=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},sk=0,Zh=[];function ak(i){var t=k.useRef([]),e=k.useRef([0,0]),n=k.useRef(),r=k.useState(sk++)[0],s=k.useState(kE)[0],o=k.useRef(i);k.useEffect(function(){o.current=i},[i]),k.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(r));var y=NO([i.lockRef.current],(i.shards||[]).map(gx),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[i.inert,i.lockRef.current,i.shards]);var c=k.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=Yg(y),L=e.current,T="deltaX"in y?y.deltaX:L[0]-S[0],O="deltaY"in y?y.deltaY:L[1]-S[1],P,B=y.target,j=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in y&&j==="h"&&B.type==="range")return!1;var I=fx(j,B);if(!I)return!0;if(I?P=j:(P=j==="v"?"h":"v",I=fx(j,B)),!I)return!1;if(!n.current&&"changedTouches"in y&&(T||O)&&(n.current=P),!P)return!0;var tt=n.current||P;return nk(tt,E,y,tt==="h"?T:O)},[]),u=k.useCallback(function(y){var E=y;if(!(!Zh.length||Zh[Zh.length-1]!==s)){var S="deltaY"in E?px(E):Yg(E),L=t.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&ik(P.delta,S)})[0];if(L&&L.should){E.cancelable&&E.preventDefault();return}if(!L){var T=(o.current.shards||[]).map(gx).filter(Boolean).filter(function(P){return P.contains(E.target)}),O=T.length>0?c(E,T[0]):!o.current.noIsolation;O&&E.cancelable&&E.preventDefault()}}},[]),d=k.useCallback(function(y,E,S,L){var T={name:y,delta:E,target:S,should:L,shadowParent:ok(S)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(O){return O!==T})},1)},[]),f=k.useCallback(function(y){e.current=Yg(y),n.current=void 0},[]),p=k.useCallback(function(y){d(y.type,px(y),y.target,c(y,i.lockRef.current))},[]),m=k.useCallback(function(y){d(y.type,Yg(y),y.target,c(y,i.lockRef.current))},[]);k.useEffect(function(){return Zh.push(s),i.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Qh),document.addEventListener("touchmove",u,Qh),document.addEventListener("touchstart",f,Qh),function(){Zh=Zh.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,Qh),document.removeEventListener("touchmove",u,Qh),document.removeEventListener("touchstart",f,Qh)}},[]);var b=i.removeScrollBar,x=i.inert;return k.createElement(k.Fragment,null,x?k.createElement(s,{styles:rk(r)}):null,b?k.createElement(XO,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function ok(i){for(var t=null;i!==null;)i instanceof ShadowRoot&&(t=i.host,i=i.host),i=i.parentNode;return t}const lk=jO(OE,ak);var oy=k.forwardRef(function(i,t){return k.createElement(c0,zo({},i,{ref:t,sideCar:lk}))});oy.classNames=c0.classNames;var u0="Popover",[FE,cB]=Fd(u0,[a0]),_p=a0(),[ck,Kc]=FE(u0),BE=i=>{const{__scopePopover:t,children:e,open:n,defaultOpen:r,onOpenChange:s,modal:o=!1}=i,c=_p(t),u=k.useRef(null),[d,f]=k.useState(!1),[p,m]=l0({prop:n,defaultProp:r??!1,onChange:s,caller:u0});return R.jsx(CE,{...c,children:R.jsx(ck,{scope:t,contentId:Qf(),triggerRef:u,open:p,onOpenChange:m,onOpenToggle:k.useCallback(()=>m(b=>!b),[m]),hasCustomAnchor:d,onCustomAnchorAdd:k.useCallback(()=>f(!0),[]),onCustomAnchorRemove:k.useCallback(()=>f(!1),[]),modal:o,children:e})})};BE.displayName=u0;var zE="PopoverAnchor",uk=k.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=Kc(zE,e),s=_p(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=r;return k.useEffect(()=>(o(),()=>c()),[o,c]),R.jsx(ay,{...s,...n,ref:t})});uk.displayName=zE;var UE="PopoverTrigger",qE=k.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=Kc(UE,e),s=_p(e),o=Jr(t,r.triggerRef),c=R.jsx(fi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":WE(r.open),...n,ref:o,onClick:Ri(i.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:R.jsx(ay,{asChild:!0,...s,children:c})});qE.displayName=UE;var ly="PopoverPortal",[hk,dk]=FE(ly,{forceMount:void 0}),HE=i=>{const{__scopePopover:t,forceMount:e,children:n,container:r}=i,s=Kc(ly,t);return R.jsx(hk,{scope:t,forceMount:e,children:R.jsx(zl,{present:e||s.open,children:R.jsx(o0,{asChild:!0,container:r,children:n})})})};HE.displayName=ly;var Ed="PopoverContent",GE=k.forwardRef((i,t)=>{const e=dk(Ed,i.__scopePopover),{forceMount:n=e.forceMount,...r}=i,s=Kc(Ed,i.__scopePopover);return R.jsx(zl,{present:n||s.open,children:s.modal?R.jsx(pk,{...r,ref:t}):R.jsx(gk,{...r,ref:t})})});GE.displayName=Ed;var fk=t0("PopoverContent.RemoveScroll"),pk=k.forwardRef((i,t)=>{const e=Kc(Ed,i.__scopePopover),n=k.useRef(null),r=Jr(t,n),s=k.useRef(!1);return k.useEffect(()=>{const o=n.current;if(o)return TE(o)},[]),R.jsx(oy,{as:fk,allowPinchZoom:!0,children:R.jsx(VE,{...i,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ri(i.onCloseAutoFocus,o=>{o.preventDefault(),s.current||e.triggerRef.current?.focus()}),onPointerDownOutside:Ri(i.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ri(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),gk=k.forwardRef((i,t)=>{const e=Kc(Ed,i.__scopePopover),n=k.useRef(!1),r=k.useRef(!1);return R.jsx(VE,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||e.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;e.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),VE=k.forwardRef((i,t)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...p}=i,m=Kc(Ed,e),b=_p(e);return nE(),R.jsx(Kb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:R.jsx(n0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:R.jsx(NE,{"data-state":WE(m.open),role:"dialog",id:m.contentId,...b,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$E="PopoverClose",mk=k.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=Kc($E,e);return R.jsx(fi.button,{type:"button",...n,ref:t,onClick:Ri(i.onClick,()=>r.onOpenChange(!1))})});mk.displayName=$E;var vk="PopoverArrow",bk=k.forwardRef((i,t)=>{const{__scopePopover:e,...n}=i,r=_p(e);return R.jsx(RE,{...r,...n,ref:t})});bk.displayName=vk;function WE(i){return i?"open":"closed"}var yk=BE,wk=qE,xk=HE,Ak=GE;function YE({...i}){return R.jsx(yk,{"data-slot":"popover",...i})}function XE({...i}){return R.jsx(wk,{"data-slot":"popover-trigger",...i})}function KE({className:i,align:t="center",sideOffset:e=4,...n}){return R.jsx(xk,{children:R.jsx(Ak,{"data-slot":"popover-content",align:t,sideOffset:e,className:on("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",i),...n})})}var iv={exports:{}},rv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function Sk(){if(mx)return rv;mx=1;var i=vp();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var e=typeof Object.is=="function"?Object.is:t,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function c(p,m){var b=m(),x=n({inst:{value:b,getSnapshot:m}}),y=x[0].inst,E=x[1];return s(function(){y.value=b,y.getSnapshot=m,u(y)&&E({inst:y})},[p,b,m]),r(function(){return u(y)&&E({inst:y}),p(function(){u(y)&&E({inst:y})})},[p]),o(b),b}function u(p){var m=p.getSnapshot;p=p.value;try{var b=m();return!e(p,b)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return rv.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:f,rv}var vx;function Ek(){return vx||(vx=1,iv.exports=Sk()),iv.exports}var _k=Ek();function Ck(){return _k.useSyncExternalStore(Nk,()=>!0,()=>!1)}function Nk(){return()=>{}}var cy="Avatar",[Rk,uB]=Fd(cy),[Lk,QE]=Rk(cy),ZE=k.forwardRef((i,t)=>{const{__scopeAvatar:e,...n}=i,[r,s]=k.useState("idle");return R.jsx(Lk,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:R.jsx(fi.span,{...n,ref:t})})});ZE.displayName=cy;var JE="AvatarImage",t_=k.forwardRef((i,t)=>{const{__scopeAvatar:e,src:n,onLoadingStatusChange:r=()=>{},...s}=i,o=QE(JE,e),c=Tk(n,s),u=Zu(d=>{r(d),o.onImageLoadingStatusChange(d)});return Ua(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?R.jsx(fi.img,{...s,ref:t,src:n}):null});t_.displayName=JE;var e_="AvatarFallback",n_=k.forwardRef((i,t)=>{const{__scopeAvatar:e,delayMs:n,...r}=i,s=QE(e_,e),[o,c]=k.useState(n===void 0);return k.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?R.jsx(fi.span,{...r,ref:t}):null});n_.displayName=e_;function bx(i,t){return i?t?(i.src!==t&&(i.src=t),i.complete&&i.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Tk(i,{referrerPolicy:t,crossOrigin:e}){const n=Ck(),r=k.useRef(null),s=n?(r.current||(r.current=new window.Image),r.current):null,[o,c]=k.useState(()=>bx(s,i));return Ua(()=>{c(bx(s,i))},[s,i]),Ua(()=>{const u=p=>()=>{c(p)};if(!s)return;const d=u("loaded"),f=u("error");return s.addEventListener("load",d),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof e=="string"&&(s.crossOrigin=e),()=>{s.removeEventListener("load",d),s.removeEventListener("error",f)}},[s,e,t]),o}var Mk=ZE,Pk=t_,Ok=n_;function vm({className:i,...t}){return R.jsx(Mk,{"data-slot":"avatar",className:on("relative flex size-8 shrink-0 overflow-hidden rounded-full",i),...t})}function bm({className:i,...t}){return R.jsx(Pk,{"data-slot":"avatar-image",className:on("aspect-square size-full",i),...t})}function ym({className:i,...t}){return R.jsx(Ok,{"data-slot":"avatar-fallback",className:on("bg-muted flex size-full items-center justify-center rounded-full",i),...t})}const kk=$b("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function jm({className:i,variant:t,asChild:e=!1,...n}){const r=e?e0:"span";return R.jsx(r,{"data-slot":"badge",className:on(kk({variant:t}),i),...n})}const Vo=i=>{if(!i||typeof i!="string"||i.trim()==="")return"";const t="http://localhost:5000".replace(/\/api$/,"");return i.startsWith("http")?i:`${t}${i}`},Dk=()=>{const{user:i,logout:t}=k.useContext(sh),e=Zm(),[n,r]=k.useState(!1),s=()=>{t(null,{onSuccess:()=>e("/login")}),r(!1)};return R.jsxs("nav",{className:"bg-gray-800 text-white p-4 sticky top-0 z-50 shadow-md",children:[R.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[R.jsxs(ur,{to:"/",className:"text-xl font-bold flex items-center gap-2",children:[R.jsx(yM,{className:"h-5 w-5"}),"Bahmni"]}),R.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?R.jsx(R.Fragment,{children:R.jsxs(YE,{children:[R.jsx(XE,{asChild:!0,children:R.jsxs(xn,{variant:"ghost",className:"text-white flex items-center gap-2",children:[R.jsxs(vm,{className:"h-8 w-8",children:[R.jsx(bm,{src:Vo(i.photo),alt:i.fullName}),R.jsx(ym,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),i.fullName]})}),R.jsxs(KE,{className:"w-72 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.jsxs(vm,{className:"h-8 w-8",children:[R.jsx(bm,{src:Vo(i.photo),alt:i.fullName}),R.jsx(ym,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-semibold text-gray-800",children:i.fullName}),R.jsx("p",{className:"text-xs text-gray-500",children:i.email})]})]}),R.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[i.roles.map(o=>R.jsx(jm,{variant:"secondary",className:"text-xs",children:o},o)),i.roles.length===0&&R.jsx("span",{className:"text-xs text-gray-500",children:"No roles assigned"})]}),R.jsxs("div",{className:"grid gap-2",children:[R.jsx(ur,{to:"/profile",className:"text-sm text-gray-700 hover:text-blue-600 transition-colors",children:"Edit Profile"}),i.roles.includes(Ic.ADMIN)&&R.jsx(ur,{to:"/admin",className:"text-sm text-gray-700 hover:text-blue-600 transition-colors",children:"Admin Dashboard"}),R.jsxs(xn,{variant:"ghost",className:"w-full text-left text-sm text-gray-700 bg-gray-100 hover:text-red-600 hover:bg-gray-200",onClick:s,children:[R.jsx(Ww,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})}):R.jsxs(R.Fragment,{children:[R.jsx(ur,{to:"/login",className:"text-sm hover:text-gray-300 transition-colors",children:"Login"}),R.jsx(ur,{to:"/register",className:"text-sm hover:text-gray-300 transition-colors",children:"Register"})]})}),R.jsx(xn,{variant:"ghost",className:"md:hidden text-white",onClick:()=>r(!n),children:n?R.jsx(Xb,{className:"h-6 w-6"}):R.jsx(SM,{className:"h-6 w-6"})})]}),n&&R.jsx("div",{className:"md:hidden bg-gray-800 p-4 flex flex-col gap-3 transition-transform duration-300",children:i?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs(vm,{className:"h-8 w-8",children:[R.jsx(bm,{src:Vo(i.photo),alt:i.fullName}),R.jsx(ym,{className:"bg-gray-600 text-white",children:i.fullName?.charAt(0).toUpperCase()||"?"})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-semibold",children:i.fullName}),R.jsx("p",{className:"text-xs text-gray-300",children:i.email})]})]}),R.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.roles.map(o=>R.jsx(jm,{variant:"secondary",className:"text-xs bg-gray-700 text-white",children:o},o)),i.roles.length===0&&R.jsx("span",{className:"text-xs text-gray-300",children:"No roles assigned"})]}),R.jsxs(ur,{to:"/profile",className:"flex items-center gap-2 text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:[R.jsx(PM,{className:"h-4 w-4"}),"Profile"]}),i.roles.includes(Ic.ADMIN)&&R.jsxs(ur,{to:"/admin",className:"flex items-center gap-2 text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:[R.jsx(RM,{className:"h-4 w-4"}),"Admin Dashboard"]}),R.jsxs(xn,{onClick:s,variant:"outline",className:"text-white border-white hover:bg-gray-700 hover:text-white w-full",children:[R.jsx(Ww,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):R.jsxs(R.Fragment,{children:[R.jsx(ur,{to:"/login",className:"text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:"Login"}),R.jsx(ur,{to:"/register",className:"text-sm hover:text-gray-300 transition-colors",onClick:()=>r(!1),children:"Register"})]})})]})},Xg=({title:i,description:t,link:e,disabled:n,onClick:r})=>R.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-lg font-semibold mb-2",children:i}),R.jsx("p",{className:"text-gray-600 mb-4",children:t}),e?R.jsx(ur,{to:e,children:R.jsxs(xn,{disabled:n,children:["Go to ",i]})}):R.jsx(xn,{onClick:r,disabled:n,className:n===!0?"cursor-not-allowed":"",children:i})]}),jk=()=>{const{user:i}=k.useContext(sh);return R.jsxs("div",{className:"container mx-auto p-6",children:[R.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Welcome, ",i?.fullName||"User","!"]}),R.jsxs("p",{className:"text-gray-600 mb-6 flex gap-2 justify-start items-center",children:["Your roles:",R.jsx("div",{className:"flex gap-1",children:i.roles.length>0?i.roles.map(t=>R.jsx(jm,{variant:"secondary",className:"text-xs",children:t},t)):R.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"})})]}),R.jsxs("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[i?.roles.includes(Ic.ADMIN)&&R.jsx(Xg,{title:"Admin Dashboard",description:"Manage users, approve registrations, and assign roles.",link:"/admin"}),i?.roles.includes(Ic.SCANNER_CLERK)&&R.jsx(Xg,{title:"Scan Documents",description:"Scan or upload documents for processing.",onClick:()=>alert("Document scanning coming soon!"),link:"/scanner"}),i?.roles.includes(Ic.APPROVER)&&R.jsx(Xg,{title:"Review Documents",description:"Review and approve/reject scanned documents.",onClick:()=>alert("Document review coming soon!"),link:"/approver"}),i?.roles.includes(Ic.UPLOADER)&&R.jsx(Xg,{title:"Upload to Bahmni",description:"Upload approved documents to Bahmni EMR.",onClick:()=>alert("Bahmni upload coming soon!"),link:"/uploader"})]})]})},Ik=()=>{const{user:i}=k.useContext(sh);return i?R.jsx(jk,{}):R.jsx(Bv,{to:"/login"})};function Fk(i){const t=k.useRef({value:i,previous:i});return k.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}var h0="Checkbox",[Bk,hB]=Fd(h0),[zk,uy]=Bk(h0);function Uk(i){const{__scopeCheckbox:t,checked:e,children:n,defaultChecked:r,disabled:s,form:o,name:c,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:p}=i,[m,b]=l0({prop:e,defaultProp:r??!1,onChange:u,caller:h0}),[x,y]=k.useState(null),[E,S]=k.useState(null),L=k.useRef(!1),T=x?!!o||!!x.closest("form"):!0,O={checked:m,disabled:s,setChecked:b,control:x,setControl:y,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:L,required:d,defaultChecked:qc(r)?!1:r,isFormControl:T,bubbleInput:E,setBubbleInput:S};return R.jsx(zk,{scope:t,...O,children:qk(p)?p(O):n})}var i_="CheckboxTrigger",r_=k.forwardRef(({__scopeCheckbox:i,onKeyDown:t,onClick:e,...n},r)=>{const{control:s,value:o,disabled:c,checked:u,required:d,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:b,bubbleInput:x}=uy(i_,i),y=Jr(r,f),E=k.useRef(u);return k.useEffect(()=>{const S=s?.form;if(S){const L=()=>p(E.current);return S.addEventListener("reset",L),()=>S.removeEventListener("reset",L)}},[s,p]),R.jsx(fi.button,{type:"button",role:"checkbox","aria-checked":qc(u)?"mixed":u,"aria-required":d,"data-state":u_(u),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:y,onKeyDown:Ri(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ri(e,S=>{p(L=>qc(L)?!0:!L),x&&b&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})})});r_.displayName=i_;var s_=k.forwardRef((i,t)=>{const{__scopeCheckbox:e,name:n,checked:r,defaultChecked:s,required:o,disabled:c,value:u,onCheckedChange:d,form:f,...p}=i;return R.jsx(Uk,{__scopeCheckbox:e,checked:r,defaultChecked:s,disabled:c,required:o,onCheckedChange:d,name:n,form:f,value:u,internal_do_not_use_render:({isFormControl:m})=>R.jsxs(R.Fragment,{children:[R.jsx(r_,{...p,ref:t,__scopeCheckbox:e}),m&&R.jsx(c_,{__scopeCheckbox:e})]})})});s_.displayName=h0;var a_="CheckboxIndicator",o_=k.forwardRef((i,t)=>{const{__scopeCheckbox:e,forceMount:n,...r}=i,s=uy(a_,e);return R.jsx(zl,{present:n||qc(s.checked)||s.checked===!0,children:R.jsx(fi.span,{"data-state":u_(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...i.style}})})});o_.displayName=a_;var l_="CheckboxBubbleInput",c_=k.forwardRef(({__scopeCheckbox:i,...t},e)=>{const{control:n,hasConsumerStoppedPropagationRef:r,checked:s,defaultChecked:o,required:c,disabled:u,name:d,value:f,form:p,bubbleInput:m,setBubbleInput:b}=uy(l_,i),x=Jr(e,b),y=Fk(s),E=mE(n);k.useEffect(()=>{const L=m;if(!L)return;const T=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(T,"checked").set,B=!r.current;if(y!==s&&P){const j=new Event("click",{bubbles:B});L.indeterminate=qc(s),P.call(L,qc(s)?!1:s),L.dispatchEvent(j)}},[m,y,s,r]);const S=k.useRef(qc(s)?!1:s);return R.jsx(fi.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:c,disabled:u,name:d,value:f,form:p,...t,tabIndex:-1,ref:x,style:{...t.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});c_.displayName=l_;function qk(i){return typeof i=="function"}function qc(i){return i==="indeterminate"}function u_(i){return qc(i)?"indeterminate":i?"checked":"unchecked"}function h_({className:i,...t}){return R.jsx(s_,{"data-slot":"checkbox",className:on("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...t,children:R.jsx(o_,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:R.jsx(pM,{className:"size-3.5"})})})}var d0="Dialog",[d_,dB]=Fd(d0),[Hk,Wa]=d_(d0),f_=i=>{const{__scopeDialog:t,children:e,open:n,defaultOpen:r,onOpenChange:s,modal:o=!0}=i,c=k.useRef(null),u=k.useRef(null),[d,f]=l0({prop:n,defaultProp:r??!1,onChange:s,caller:d0});return R.jsx(Hk,{scope:t,triggerRef:c,contentRef:u,contentId:Qf(),titleId:Qf(),descriptionId:Qf(),open:d,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(p=>!p),[f]),modal:o,children:e})};f_.displayName=d0;var p_="DialogTrigger",g_=k.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Wa(p_,e),s=Jr(t,r.triggerRef);return R.jsx(fi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":fy(r.open),...n,ref:s,onClick:Ri(i.onClick,r.onOpenToggle)})});g_.displayName=p_;var hy="DialogPortal",[Gk,m_]=d_(hy,{forceMount:void 0}),v_=i=>{const{__scopeDialog:t,forceMount:e,children:n,container:r}=i,s=Wa(hy,t);return R.jsx(Gk,{scope:t,forceMount:e,children:k.Children.map(n,o=>R.jsx(zl,{present:e||s.open,children:R.jsx(o0,{asChild:!0,container:r,children:o})}))})};v_.displayName=hy;var Im="DialogOverlay",b_=k.forwardRef((i,t)=>{const e=m_(Im,i.__scopeDialog),{forceMount:n=e.forceMount,...r}=i,s=Wa(Im,i.__scopeDialog);return s.modal?R.jsx(zl,{present:n||s.open,children:R.jsx($k,{...r,ref:t})}):null});b_.displayName=Im;var Vk=t0("DialogOverlay.RemoveScroll"),$k=k.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Wa(Im,e);return R.jsx(oy,{as:Vk,allowPinchZoom:!0,shards:[r.contentRef],children:R.jsx(fi.div,{"data-state":fy(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),th="DialogContent",y_=k.forwardRef((i,t)=>{const e=m_(th,i.__scopeDialog),{forceMount:n=e.forceMount,...r}=i,s=Wa(th,i.__scopeDialog);return R.jsx(zl,{present:n||s.open,children:s.modal?R.jsx(Wk,{...r,ref:t}):R.jsx(Yk,{...r,ref:t})})});y_.displayName=th;var Wk=k.forwardRef((i,t)=>{const e=Wa(th,i.__scopeDialog),n=k.useRef(null),r=Jr(t,e.contentRef,n);return k.useEffect(()=>{const s=n.current;if(s)return TE(s)},[]),R.jsx(w_,{...i,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ri(i.onCloseAutoFocus,s=>{s.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:Ri(i.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:Ri(i.onFocusOutside,s=>s.preventDefault())})}),Yk=k.forwardRef((i,t)=>{const e=Wa(th,i.__scopeDialog),n=k.useRef(!1),r=k.useRef(!1);return R.jsx(w_,{...i,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||e.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;e.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),w_=k.forwardRef((i,t)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=i,c=Wa(th,e),u=k.useRef(null),d=Jr(t,u);return nE(),R.jsxs(R.Fragment,{children:[R.jsx(Kb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:R.jsx(n0,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":fy(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),R.jsxs(R.Fragment,{children:[R.jsx(Xk,{titleId:c.titleId}),R.jsx(Qk,{contentRef:u,descriptionId:c.descriptionId})]})]})}),dy="DialogTitle",x_=k.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Wa(dy,e);return R.jsx(fi.h2,{id:r.titleId,...n,ref:t})});x_.displayName=dy;var A_="DialogDescription",S_=k.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Wa(A_,e);return R.jsx(fi.p,{id:r.descriptionId,...n,ref:t})});S_.displayName=A_;var E_="DialogClose",__=k.forwardRef((i,t)=>{const{__scopeDialog:e,...n}=i,r=Wa(E_,e);return R.jsx(fi.button,{type:"button",...n,ref:t,onClick:Ri(i.onClick,()=>r.onOpenChange(!1))})});__.displayName=E_;function fy(i){return i?"open":"closed"}var C_="DialogTitleWarning",[fB,N_]=kM(C_,{contentName:th,titleName:dy,docsSlug:"dialog"}),Xk=({titleId:i})=>{const t=N_(C_),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{i&&(document.getElementById(i)||console.error(e))},[e,i]),null},Kk="DialogDescriptionWarning",Qk=({contentRef:i,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N_(Kk).contentName}}.`;return k.useEffect(()=>{const r=i.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,i,t]),null},R_=f_,Zk=g_,L_=v_,T_=b_,M_=y_,P_=x_,Jk=S_,O_=__;function Cp({...i}){return R.jsx(R_,{"data-slot":"dialog",...i})}function k_({...i}){return R.jsx(Zk,{"data-slot":"dialog-trigger",...i})}function tD({...i}){return R.jsx(L_,{"data-slot":"dialog-portal",...i})}function eD({className:i,...t}){return R.jsx(T_,{"data-slot":"dialog-overlay",className:on("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...t})}function Np({className:i,children:t,showCloseButton:e=!0,...n}){return R.jsxs(tD,{"data-slot":"dialog-portal",children:[R.jsx(eD,{}),R.jsxs(M_,{"data-slot":"dialog-content",className:on("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...n,children:[t,e&&R.jsxs(O_,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[R.jsx(Xb,{}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Rp({className:i,...t}){return R.jsx("div",{"data-slot":"dialog-header",className:on("flex flex-col gap-2 text-center sm:text-left",i),...t})}function nD({className:i,...t}){return R.jsx("div",{"data-slot":"dialog-footer",className:on("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",i),...t})}function Lp({className:i,...t}){return R.jsx(P_,{"data-slot":"dialog-title",className:on("text-lg leading-none font-semibold",i),...t})}const iD=({onClose:i})=>{const{showError:t,showSuccess:e}=Xc(),{formData:n,handleChange:r}=Id({employeeId:"",fullName:"",email:"",department:"",education:"",profession:"",password:""}),[s,o]=k.useState([]),c=Bs({mutationFn:()=>{console.log(n);const f={...n,roles:s};return console.log(f),iL(f)},onSuccess:()=>{e("User registered successfully"),i()},onError:f=>t(f,"User registration failed")}),u=f=>{if(f.preventDefault(),s.length===0){t(null,"At least one role is required");return}c.mutate()},d=(f,p)=>{o(m=>p?[...m,f]:m.filter(b=>b!==f))};return R.jsxs("form",{onSubmit:u,className:"grid gap-4",children:[R.jsx(dr,{label:"Employee Id",id:"employeeId",type:"text",name:"employeeId",value:n.employeeId,onChange:r,required:!0}),R.jsx(dr,{label:"Full Name",id:"fullName",type:"text",name:"fullName",value:n.fullName,onChange:r,required:!0}),R.jsx(dr,{label:"Email",id:"email",type:"email",name:"email",value:n.email,onChange:r,required:!0}),R.jsx(dr,{label:"Department",id:"department",type:"text",name:"department",value:n.department,onChange:r,required:!0}),R.jsx(dr,{label:"Education",id:"education",type:"text",name:"education",value:n.education,onChange:r,required:!0}),R.jsx(dr,{label:"Profession",id:"profession",type:"text",name:"profession",value:n.profession,onChange:r,required:!0}),R.jsx(dr,{label:"Password",id:"password",type:"password",name:"password",value:n.password,onChange:r,required:!0}),R.jsxs("div",{children:[R.jsx(Ba,{children:"Roles"}),R.jsx("div",{className:"grid gap-2 m-2",children:Object.values(Ic).map(f=>R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(h_,{id:`role-${f}`,checked:s.includes(f),onCheckedChange:p=>d(f,p)}),R.jsx(Ba,{htmlFor:`role-${f}`,children:f})]},f))})]}),R.jsx(xn,{type:"submit",disabled:c.isLoading,children:c.isLoading?"Registering...":"Register User"})]})},rD=({user:i,handleReview:t,handleStatusToggle:e,handleRoleUpdate:n,rejectionReason:r,setRejectionReason:s})=>R.jsx("div",{className:"p-4 bg-white rounded-lg shadow-md border border-gray-200",children:R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Name:"})," ",i.fullName]}),R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Email:"})," ",i.email]}),R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Status:"})," ",i.isActive?"Active":"Inactive"]}),R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Registration:"})," ",i.registrationStatus]}),R.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.jsx("strong",{className:"text-sm",children:"Roles:"}),i.roles.length>0?i.roles.map(o=>R.jsx(jm,{variant:"secondary",className:"text-xs",children:o},o)):R.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"})]})]}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[i.isSelfRegistered&&i.registrationStatus==="Pending"&&R.jsxs(Cp,{children:[R.jsx(k_,{asChild:!0,children:R.jsx(xn,{size:"sm",className:"w-full sm:w-auto",children:"Review Registration"})}),R.jsxs(Np,{className:"max-h-[80vh] overflow-y-auto",children:[R.jsx(Rp,{children:R.jsx(Lp,{children:"Review Registration"})}),R.jsxs("div",{className:"grid gap-4",children:[R.jsx(xn,{onClick:()=>t(i._id,"Approved"),size:"sm",children:"Approve"}),R.jsxs("div",{children:[R.jsx(Ba,{htmlFor:"rejectionReason",children:"Rejection Reason"}),R.jsx(Yb,{id:"rejectionReason",value:r,onChange:o=>s(o.target.value)}),R.jsx(xn,{onClick:()=>t(i._id,"Rejected"),disabled:!r,className:"mt-2",size:"sm",children:"Reject"})]})]})]})]}),R.jsx(xn,{onClick:()=>e(i._id,!i.isActive),children:i.isActive?"Deactivate":"Activate"}),R.jsxs(YE,{children:[R.jsx(XE,{asChild:!0,children:R.jsx(xn,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:i.roles.length>0?"Edit Roles":"Assign Roles"})}),R.jsx(KE,{className:"w-56",children:R.jsx("div",{className:"grid gap-4",children:Object.values(Ic).map(o=>R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(h_,{id:`${i._id}-${o}`,checked:i.roles.includes(o),onCheckedChange:c=>{const u=c?[...i.roles,o]:i.roles.filter(d=>d!==o);n(i._id,u)}}),R.jsx(Ba,{htmlFor:`${i._id}-${o}`,children:o})]},o))})})]})]})]})}),sD=()=>{const{showError:i,showSuccess:t}=Xc(),{data:e,isLoading:n,refetch:r}=yp({queryKey:["users"],queryFn:lL}),[s,o]=k.useState(""),[c,u]=k.useState(!1),d=Bs({mutationFn:sL,onSuccess:()=>{t("Registration reviewed"),r()},onError:y=>i(y,"Review failed")}),f=Bs({mutationFn:({userId:y,data:E})=>aL(y,E),onSuccess:()=>{t("User status updated"),r()},onError:y=>i(y,"Status update failed")}),p=Bs({mutationFn:({userId:y,data:E})=>oL(y,E),onSuccess:()=>{t("User roles updated"),r()},onError:y=>i(y,"Roles update failed")}),m=(y,E)=>{const S={userId:y,status:E};E==="Rejected"&&(S.rejectionReason=s),d.mutate(S),o("")},b=(y,E)=>{f.mutate({userId:y,data:{isActive:E}})},x=(y,E)=>{if(E.length===0){i(null,"At least one role is required");return}p.mutate({userId:y,data:{roles:E}})};return n?R.jsx("div",{children:"Loading..."}):R.jsxs("div",{className:"container mx-auto p-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"Admin Dashboard"}),R.jsxs(Cp,{open:c,onOpenChange:u,children:[R.jsx(k_,{asChild:!0,children:R.jsx(xn,{children:"Register New User"})}),R.jsxs(Np,{className:"max-h-[85vh] overflow-y-auto",children:[R.jsx(Rp,{children:R.jsx(Lp,{children:"Register New User"})}),R.jsx(iD,{onClose:()=>{u(!1),r()}})]})]})]}),R.jsx("div",{className:"grid gap-4",children:e?.data?.data?.users?.map(y=>R.jsx(rD,{user:y,handleReview:m,handleRoleUpdate:x,handleStatusToggle:b,rejectionReason:s,setRejectionReason:o}))})]})},py=({children:i,roles:t})=>{const{user:e}=k.useContext(sh);return e?(console.log("User roles:",e.roles),t&&!t.some(n=>e.roles.includes(n))?R.jsx(Bv,{to:"/unauthorized"}):i):R.jsx(Bv,{to:"/login"})},aD=()=>R.jsx(py,{roles:["Admin"],children:R.jsx(sD,{})}),oD=()=>{const{user:i,setUser:t}=k.useContext(sh),{showError:e,showSuccess:n}=Xc(),{formData:r,handleChange:s,handleFileChange:o}=Id({fullName:i?.fullName||"",email:i?.email||"",department:i?.department||"",employeeId:i?.employeeId||"",password:"",photo:null}),[c,u]=k.useState({}),[d,f]=k.useState(!1),p=Bs({mutationFn:y=>cL(i._id,y),onSuccess:({data:y})=>{localStorage.setItem("user",JSON.stringify(y.data)),t(y.data),n("Profile updated successfully"),f(!1)},onError:y=>{console.log(y),e(y,"Profile update failed")}}),m=()=>{const y={};return r.fullName||(y.fullName="Full name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(y.email="Invalid email"):y.email="Email is required",r.department||(y.department="Department is required"),r.employeeId||(y.employeeId="Employee ID is required"),r.password&&r.password.length<6&&(y.password="Password must be at least 6 characters"),r.photo&&!["image/jpeg","image/png"].includes(r.photo.type)&&(y.photo="Only JPEG or PNG images are allowed"),u(y),Object.keys(y).length===0},b=y=>{y.preventDefault(),m()&&f(!0)},x=()=>{const y=new FormData;Object.entries(r).forEach(([E,S])=>{S&&E!=="password"&&y.append(E,S)}),r.password&&y.append("password",r.password),p.mutate(y)};return i?R.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"User Profile"}),R.jsxs("form",{onSubmit:b,className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 bg-white p-6 rounded-lg shadow-md",children:[R.jsx("div",{className:"col-span-2 flex justify-center mb-4",children:R.jsxs(vm,{className:"h-24 w-24",children:[R.jsx(bm,{src:r.photo||Vo(i.photo),alt:i.fullName}),R.jsx(ym,{className:"bg-gray-600 text-white text-2xl",children:i.fullName.charAt(0).toUpperCase()})]})}),R.jsxs("div",{className:"col-span-1",children:[R.jsx(Ba,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),R.jsx(dr,{id:"fullName",type:"text",name:"fullName",value:r.fullName,onChange:s,required:!0,className:"mt-1"}),c.fullName&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.fullName})]}),R.jsxs("div",{className:"col-span-1",children:[R.jsx(Ba,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),R.jsx(dr,{id:"email",type:"email",name:"email",value:r.email,onChange:s,required:!0,className:"mt-1"}),c.email&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.email})]}),R.jsxs("div",{className:"col-span-1",children:[R.jsx(Ba,{htmlFor:"department",className:"text-sm font-medium",children:"Department"}),R.jsx(dr,{id:"department",type:"text",name:"department",value:r.department,onChange:s,required:!0,className:"mt-1"}),c.department&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.department})]}),R.jsxs("div",{className:"col-span-1",children:[R.jsx(Ba,{htmlFor:"employeeId",className:"text-sm font-medium",children:"Employee ID"}),R.jsx(dr,{id:"employeeId",type:"text",name:"employeeId",value:r.employeeId,onChange:s,required:!0,className:"mt-1"}),c.employeeId&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.employeeId})]}),R.jsxs("div",{className:"col-span-2",children:[R.jsx(Ba,{htmlFor:"password",className:"text-sm font-medium",children:"New Password (optional)"}),R.jsx(dr,{id:"password",type:"password",name:"password",value:r.password,onChange:s,className:"mt-1"}),c.password&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.password})]}),R.jsxs("div",{className:"col-span-2",children:[R.jsx(Ba,{htmlFor:"photo",className:"text-sm font-medium",children:"Profile Photo (optional)"}),R.jsx(dr,{id:"photo",type:"file",name:"photo",onChange:y=>o(y,"photo"),accept:"image/jpeg,image/png",className:"mt-1"}),c.photo&&R.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.photo})]}),R.jsxs("div",{className:"col-span-2 space-y-2",children:[R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Roles:"})," ",i.roles.join(", ")||"None"]}),R.jsxs("p",{className:"text-sm",children:[R.jsx("strong",{children:"Status:"})," ",i.isActive?"Active":"Inactive"]}),R.jsx(xn,{type:"submit",disabled:p.isLoading,className:"w-full mt-4",children:p.isLoading?"Updating...":"Update Profile"})]})]}),R.jsx(Cp,{open:d,onOpenChange:f,children:R.jsxs(Np,{className:"sm:max-w-md",children:[R.jsx(Rp,{children:R.jsx(Lp,{children:"Confirm Profile Update"})}),R.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to update your profile?"}),R.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[R.jsx(xn,{variant:"outline",onClick:()=>f(!1),disabled:p.isLoading,children:"Cancel"}),R.jsx(xn,{onClick:x,disabled:p.isLoading,children:"Confirm"})]})]})})]}):R.jsx("div",{className:"container mx-auto p-6 text-center",children:"Please log in to view your profile."})},sv=768;function lD(){const[i,t]=k.useState(void 0);return k.useEffect(()=>{const e=window.matchMedia(`(max-width: ${sv-1}px)`),n=()=>{t(window.innerWidth<sv)};return e.addEventListener("change",n),t(window.innerWidth<sv),()=>e.removeEventListener("change",n)},[]),!!i}function cD({...i}){return R.jsx(R_,{"data-slot":"sheet",...i})}function uD({...i}){return R.jsx(L_,{"data-slot":"sheet-portal",...i})}function hD({className:i,...t}){return R.jsx(T_,{"data-slot":"sheet-overlay",className:on("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...t})}function dD({className:i,children:t,side:e="right",...n}){return R.jsxs(uD,{children:[R.jsx(hD,{}),R.jsxs(M_,{"data-slot":"sheet-content",className:on("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",i),...n,children:[t,R.jsxs(O_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[R.jsx(Xb,{className:"size-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fD({className:i,...t}){return R.jsx("div",{"data-slot":"sheet-header",className:on("flex flex-col gap-1.5 p-4",i),...t})}function pD({className:i,...t}){return R.jsx(P_,{"data-slot":"sheet-title",className:on("text-foreground font-semibold",i),...t})}function gD({className:i,...t}){return R.jsx(Jk,{"data-slot":"sheet-description",className:on("text-muted-foreground text-sm",i),...t})}var mD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vD="VisuallyHidden",D_=k.forwardRef((i,t)=>R.jsx(fi.span,{...i,ref:t,style:{...mD,...i.style}}));D_.displayName=vD;var bD=D_,[f0,pB]=Fd("Tooltip",[a0]),p0=a0(),j_="TooltipProvider",yD=700,Qv="tooltip.open",[wD,gy]=f0(j_),I_=i=>{const{__scopeTooltip:t,delayDuration:e=yD,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:s}=i,o=k.useRef(!0),c=k.useRef(!1),u=k.useRef(0);return k.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),R.jsx(wD,{scope:t,isOpenDelayedRef:o,delayDuration:e,onOpen:k.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:k.useCallback(d=>{c.current=d},[]),disableHoverableContent:r,children:s})};I_.displayName=j_;var op="Tooltip",[xD,Tp]=f0(op),F_=i=>{const{__scopeTooltip:t,children:e,open:n,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:c}=i,u=gy(op,i.__scopeTooltip),d=p0(t),[f,p]=k.useState(null),m=Qf(),b=k.useRef(0),x=o??u.disableHoverableContent,y=c??u.delayDuration,E=k.useRef(!1),[S,L]=l0({prop:n,defaultProp:r??!1,onChange:j=>{j?(u.onOpen(),document.dispatchEvent(new CustomEvent(Qv))):u.onClose(),s?.(j)},caller:op}),T=k.useMemo(()=>S?E.current?"delayed-open":"instant-open":"closed",[S]),O=k.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E.current=!1,L(!0)},[L]),P=k.useCallback(()=>{window.clearTimeout(b.current),b.current=0,L(!1)},[L]),B=k.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{E.current=!0,L(!0),b.current=0},y)},[y,L]);return k.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),R.jsx(CE,{...d,children:R.jsx(xD,{scope:t,contentId:m,open:S,stateAttribute:T,trigger:f,onTriggerChange:p,onTriggerEnter:k.useCallback(()=>{u.isOpenDelayedRef.current?B():O()},[u.isOpenDelayedRef,B,O]),onTriggerLeave:k.useCallback(()=>{x?P():(window.clearTimeout(b.current),b.current=0)},[P,x]),onOpen:O,onClose:P,disableHoverableContent:x,children:e})})};F_.displayName=op;var Zv="TooltipTrigger",B_=k.forwardRef((i,t)=>{const{__scopeTooltip:e,...n}=i,r=Tp(Zv,e),s=gy(Zv,e),o=p0(e),c=k.useRef(null),u=Jr(t,c,r.onTriggerChange),d=k.useRef(!1),f=k.useRef(!1),p=k.useCallback(()=>d.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),R.jsx(ay,{asChild:!0,...o,children:R.jsx(fi.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:u,onPointerMove:Ri(i.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ri(i.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Ri(i.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ri(i.onFocus,()=>{d.current||r.onOpen()}),onBlur:Ri(i.onBlur,r.onClose),onClick:Ri(i.onClick,r.onClose)})})});B_.displayName=Zv;var my="TooltipPortal",[AD,SD]=f0(my,{forceMount:void 0}),z_=i=>{const{__scopeTooltip:t,forceMount:e,children:n,container:r}=i,s=Tp(my,t);return R.jsx(AD,{scope:t,forceMount:e,children:R.jsx(zl,{present:e||s.open,children:R.jsx(o0,{asChild:!0,container:r,children:n})})})};z_.displayName=my;var _d="TooltipContent",U_=k.forwardRef((i,t)=>{const e=SD(_d,i.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...s}=i,o=Tp(_d,i.__scopeTooltip);return R.jsx(zl,{present:n||o.open,children:o.disableHoverableContent?R.jsx(q_,{side:r,...s,ref:t}):R.jsx(ED,{side:r,...s,ref:t})})}),ED=k.forwardRef((i,t)=>{const e=Tp(_d,i.__scopeTooltip),n=gy(_d,i.__scopeTooltip),r=k.useRef(null),s=Jr(t,r),[o,c]=k.useState(null),{trigger:u,onClose:d}=e,f=r.current,{onPointerInTransitChange:p}=n,m=k.useCallback(()=>{c(null),p(!1)},[p]),b=k.useCallback((x,y)=>{const E=x.currentTarget,S={x:x.clientX,y:x.clientY},L=RD(S,E.getBoundingClientRect()),T=LD(S,L),O=TD(y.getBoundingClientRect()),P=PD([...T,...O]);c(P),p(!0)},[p]);return k.useEffect(()=>()=>m(),[m]),k.useEffect(()=>{if(u&&f){const x=E=>b(E,f),y=E=>b(E,u);return u.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[u,f,b,m]),k.useEffect(()=>{if(o){const x=y=>{const E=y.target,S={x:y.clientX,y:y.clientY},L=u?.contains(E)||f?.contains(E),T=!MD(S,o);L?m():T&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,f,o,d,m]),R.jsx(q_,{...i,ref:s})}),[_D,CD]=f0(op,{isInside:!1}),ND=FT("TooltipContent"),q_=k.forwardRef((i,t)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...c}=i,u=Tp(_d,e),d=p0(e),{onClose:f}=u;return k.useEffect(()=>(document.addEventListener(Qv,f),()=>document.removeEventListener(Qv,f)),[f]),k.useEffect(()=>{if(u.trigger){const p=m=>{m.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),R.jsx(n0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:R.jsxs(NE,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(ND,{children:n}),R.jsx(_D,{scope:e,isInside:!0,children:R.jsx(bD,{id:u.contentId,role:"tooltip",children:r||n})})]})})});U_.displayName=_d;var H_="TooltipArrow",G_=k.forwardRef((i,t)=>{const{__scopeTooltip:e,...n}=i,r=p0(e);return CD(H_,e).isInside?null:R.jsx(RE,{...r,...n,ref:t})});G_.displayName=H_;function RD(i,t){const e=Math.abs(t.top-i.y),n=Math.abs(t.bottom-i.y),r=Math.abs(t.right-i.x),s=Math.abs(t.left-i.x);switch(Math.min(e,n,r,s)){case s:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function LD(i,t,e=5){const n=[];switch(t){case"top":n.push({x:i.x-e,y:i.y+e},{x:i.x+e,y:i.y+e});break;case"bottom":n.push({x:i.x-e,y:i.y-e},{x:i.x+e,y:i.y-e});break;case"left":n.push({x:i.x+e,y:i.y-e},{x:i.x+e,y:i.y+e});break;case"right":n.push({x:i.x-e,y:i.y-e},{x:i.x-e,y:i.y+e});break}return n}function TD(i){const{top:t,right:e,bottom:n,left:r}=i;return[{x:r,y:t},{x:e,y:t},{x:e,y:n},{x:r,y:n}]}function MD(i,t){const{x:e,y:n}=i;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s],u=t[o],d=c.x,f=c.y,p=u.x,m=u.y;f>n!=m>n&&e<(p-d)*(n-f)/(m-f)+d&&(r=!r)}return r}function PD(i){const t=i.slice();return t.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),OD(t)}function OD(i){if(i.length<=1)return i.slice();const t=[];for(let n=0;n<i.length;n++){const r=i[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let n=i.length-1;n>=0;n--){const r=i[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var kD=I_,DD=F_,jD=B_,ID=z_,FD=U_,BD=G_;function V_({delayDuration:i=0,...t}){return R.jsx(kD,{"data-slot":"tooltip-provider",delayDuration:i,...t})}function zD({...i}){return R.jsx(V_,{children:R.jsx(DD,{"data-slot":"tooltip",...i})})}function UD({...i}){return R.jsx(jD,{"data-slot":"tooltip-trigger",...i})}function qD({className:i,sideOffset:t=0,children:e,...n}){return R.jsx(ID,{children:R.jsxs(FD,{"data-slot":"tooltip-content",sideOffset:t,className:on("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",i),...n,children:[e,R.jsx(BD,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const HD="sidebar_state",GD=60*60*24*7,VD="16rem",$D="18rem",WD="3rem",YD="b",$_=k.createContext(null);function vy(){const i=k.useContext($_);if(!i)throw new Error("useSidebar must be used within a SidebarProvider.");return i}function W_({defaultOpen:i=!0,open:t,onOpenChange:e,className:n,style:r,children:s,...o}){const c=lD(),[u,d]=k.useState(!1),[f,p]=k.useState(i),m=t??f,b=k.useCallback(S=>{const L=typeof S=="function"?S(m):S;e?e(L):p(L),document.cookie=`${HD}=${L}; path=/; max-age=${GD}`},[e,m]),x=k.useCallback(()=>c?d(S=>!S):b(S=>!S),[c,b,d]);k.useEffect(()=>{const S=L=>{L.key===YD&&(L.metaKey||L.ctrlKey)&&(L.preventDefault(),x())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[x]);const y=m?"expanded":"collapsed",E=k.useMemo(()=>({state:y,open:m,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:x}),[y,m,b,c,u,d,x]);return R.jsx($_.Provider,{value:E,children:R.jsx(V_,{delayDuration:0,children:R.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":VD,"--sidebar-width-icon":WD,...r},className:on("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:s})})})}function Y_({side:i="left",variant:t="sidebar",collapsible:e="offcanvas",className:n,children:r,...s}){const{isMobile:o,state:c,openMobile:u,setOpenMobile:d}=vy();return e==="none"?R.jsx("div",{"data-slot":"sidebar",className:on("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...s,children:r}):o?R.jsx(cD,{open:u,onOpenChange:d,...s,children:R.jsxs(dD,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":$D},side:i,children:[R.jsxs(fD,{className:"sr-only",children:[R.jsx(pD,{children:"Sidebar"}),R.jsx(gD,{children:"Displays the mobile sidebar."})]}),R.jsx("div",{className:"flex h-full w-full flex-col",children:r})]})}):R.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":c==="collapsed"?e:"","data-variant":t,"data-side":i,"data-slot":"sidebar",children:[R.jsx("div",{"data-slot":"sidebar-gap",className:on("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),R.jsx("div",{"data-slot":"sidebar-container",className:on("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",i==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:R.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:r})})]})}function X_({className:i,onClick:t,...e}){const{toggleSidebar:n}=vy();return R.jsxs(xn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:on("size-7",i),onClick:r=>{t?.(r),n()},...e,children:[R.jsx(_M,{}),R.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function K_({className:i,...t}){return R.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:on("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i),...t})}function Q_({className:i,...t}){return R.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:on("relative flex w-full min-w-0 flex-col p-2",i),...t})}function XD({className:i,asChild:t=!1,...e}){const n=t?e0:"div";return R.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:on("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i),...e})}function Z_({className:i,...t}){return R.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:on("w-full text-sm",i),...t})}function J_({className:i,...t}){return R.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:on("flex w-full min-w-0 flex-col gap-1",i),...t})}function t3({className:i,...t}){return R.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:on("group/menu-item relative",i),...t})}const KD=$b("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function e3({asChild:i=!1,isActive:t=!1,variant:e="default",size:n="default",tooltip:r,className:s,...o}){const c=i?e0:"button",{isMobile:u,state:d}=vy(),f=R.jsx(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:on(KD({variant:e,size:n}),s),...o});return r?(typeof r=="string"&&(r={children:r}),R.jsxs(zD,{children:[R.jsx(UD,{asChild:!0,children:f}),R.jsx(qD,{side:"right",align:"center",hidden:d!=="collapsed"||u,...r})]})):f}const QD=[{title:"Scan Document",url:"/scanner/scan",icon:JS},{title:"Scanned Documents",url:"/scanner/docs",icon:Vv}];function ZD(){return R.jsx(Y_,{className:"mt-16",children:R.jsx(K_,{children:R.jsxs(Q_,{children:[R.jsx(XD,{children:"Application"}),R.jsx(Z_,{children:R.jsx(J_,{children:QD.map(i=>R.jsx(t3,{children:R.jsx(e3,{asChild:!0,children:R.jsxs("a",{href:i.url,children:[R.jsx(i.icon,{}),R.jsx("span",{children:i.title})]})})},i.title))})})]})})})}const JD=()=>R.jsx("div",{className:"mt-8",children:R.jsxs(W_,{children:[R.jsx(ZD,{}),R.jsx(X_,{}),R.jsx(TS,{})]})}),t8=()=>R.jsx(py,{roles:["ScannerClerk"],children:R.jsx(JD,{})});function by({className:i,...t}){return R.jsx("div",{"data-slot":"card",className:on("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...t})}function yy({className:i,...t}){return R.jsx("div",{"data-slot":"card-header",className:on("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...t})}function wy({className:i,...t}){return R.jsx("div",{"data-slot":"card-title",className:on("leading-none font-semibold",i),...t})}function xy({className:i,...t}){return R.jsx("div",{"data-slot":"card-content",className:on("px-6",i),...t})}function e8(){return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:R.jsxs(by,{className:"w-full max-w-md",children:[R.jsx(yy,{children:R.jsxs(wy,{className:"text-2xl flex items-center gap-2",children:[R.jsx(mM,{className:"h-6 w-6 text-red-500"}),"Unauthorized Access"]})}),R.jsxs(xy,{children:[R.jsx("p",{className:"text-gray-600 mb-4",children:"You are not authorized to view this page."}),R.jsx(xn,{asChild:!0,children:R.jsx(ur,{to:"/",children:"Go to Homepage"})})]})]})})}var wm={exports:{}},n8=wm.exports,yx;function i8(){return yx||(yx=1,function(i,t){(function(n,r){i.exports=r(vp())})(n8,function(e){return function(n){var r={};function s(o){if(r[o])return r[o].exports;var c=r[o]={i:o,l:!1,exports:{}};return n[o].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=n,s.c=r,s.d=function(o,c,u){s.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,c){if(c&1&&(o=s(o)),c&8||c&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),c&2&&typeof o!="string")for(var d in o)s.d(u,d,(function(f){return o[f]}).bind(null,d));return u},s.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(c,"a",c),c},s.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,r,s){s.r(r);var o=s("react"),c=function(){var m=function(b,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var S in E)E.hasOwnProperty(S)&&(y[S]=E[S])},m(b,x)};return function(b,x){m(b,x);function y(){this.constructor=b}b.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),u=function(){return u=Object.assign||function(m){for(var b,x=1,y=arguments.length;x<y;x++){b=arguments[x];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(m[E]=b[E])}return m},u.apply(this,arguments)},d=function(m,b){var x={};for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&b.indexOf(y)<0&&(x[y]=m[y]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,y=Object.getOwnPropertySymbols(m);E<y.length;E++)b.indexOf(y[E])<0&&Object.prototype.propertyIsEnumerable.call(m,y[E])&&(x[y[E]]=m[y[E]]);return x};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(b){var x=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return x?new Promise(function(y,E){x.call(navigator,b,y,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var p=function(m){c(b,m);function b(x){var y=m.call(this,x)||this;return y.canvas=null,y.ctx=null,y.requestUserMediaId=0,y.unmounted=!1,y.state={hasUserMedia:!1},y}return b.prototype.componentDidMount=function(){var x=this,y=x.state,E=x.props;if(this.unmounted=!1,!f()){E.onUserMediaError("getUserMedia not supported");return}y.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},b.prototype.componentDidUpdate=function(x){var y=this.props;if(!f()){y.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(x.audioConstraints)!==JSON.stringify(y.audioConstraints),S=JSON.stringify(x.videoConstraints)!==JSON.stringify(y.videoConstraints),L=x.minScreenshotWidth!==y.minScreenshotWidth,T=x.minScreenshotHeight!==y.minScreenshotHeight;(S||L||T)&&(this.canvas=null,this.ctx=null),(E||S)&&(this.stopAndCleanup(),this.requestUserMedia())},b.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},b.stopMediaStream=function(x){x&&(x.getVideoTracks&&x.getAudioTracks?(x.getVideoTracks().map(function(y){x.removeTrack(y),y.stop()}),x.getAudioTracks().map(function(y){x.removeTrack(y),y.stop()})):x.stop())},b.prototype.stopAndCleanup=function(){var x=this.state;x.hasUserMedia&&(b.stopMediaStream(this.stream),x.src&&window.URL.revokeObjectURL(x.src))},b.prototype.getScreenshot=function(x){var y=this,E=y.state,S=y.props;if(!E.hasUserMedia)return null;var L=this.getCanvas(x);return L&&L.toDataURL(S.screenshotFormat,S.screenshotQuality)},b.prototype.getCanvas=function(x){var y=this,E=y.state,S=y.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var L=this.video.videoWidth,T=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var O=L/T;L=S.minScreenshotWidth||this.video.clientWidth,T=L/O,S.minScreenshotHeight&&T<S.minScreenshotHeight&&(T=S.minScreenshotHeight,L=T*O)}this.canvas=document.createElement("canvas"),this.canvas.width=x?.width||L,this.canvas.height=x?.height||T,this.ctx=this.canvas.getContext("2d")}var P=this,B=P.ctx,j=P.canvas;return B&&j&&(j.width=x?.width||j.width,j.height=x?.height||j.height,S.mirrored&&(B.translate(j.width,0),B.scale(-1,1)),B.imageSmoothingEnabled=S.imageSmoothing,B.drawImage(this.video,0,0,x?.width||j.width,x?.height||j.height),S.mirrored&&(B.scale(-1,1),B.translate(-j.width,0))),j},b.prototype.requestUserMedia=function(){var x=this,y=this.props,E=function(T,O){var P={video:typeof O<"u"?O:!0};y.audio&&(P.audio=typeof T<"u"?T:!0),x.requestUserMediaId++;var B=x.requestUserMediaId;navigator.mediaDevices.getUserMedia(P).then(function(j){x.unmounted||B!==x.requestUserMediaId?b.stopMediaStream(j):x.handleUserMedia(null,j)}).catch(function(j){x.handleUserMedia(j)})};if("mediaDevices"in navigator)E(y.audioConstraints,y.videoConstraints);else{var S=function(T){return{optional:[{sourceId:T}]}},L=function(T){var O=T.deviceId;return typeof O=="string"?O:Array.isArray(O)&&O.length>0?O[0]:typeof O=="object"&&O.ideal?O.ideal:null};MediaStreamTrack.getSources(function(T){var O=null,P=null;T.forEach(function(I){I.kind==="audio"?O=I.id:I.kind==="video"&&(P=I.id)});var B=L(y.audioConstraints);B&&(O=B);var j=L(y.videoConstraints);j&&(P=j),E(S(O),S(P))})}},b.prototype.handleUserMedia=function(x,y){var E=this.props;if(x||!y){this.setState({hasUserMedia:!1}),E.onUserMediaError(x);return}this.stream=y;try{this.video&&(this.video.srcObject=y),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(y)})}E.onUserMedia(y)},b.prototype.render=function(){var x=this,y=this,E=y.state,S=y.props,L=S.audio;S.forceScreenshotSourceSize;var T=S.disablePictureInPicture;S.onUserMedia,S.onUserMediaError,S.screenshotFormat,S.screenshotQuality,S.minScreenshotWidth,S.minScreenshotHeight,S.audioConstraints,S.videoConstraints,S.imageSmoothing;var O=S.mirrored,P=S.style,B=P===void 0?{}:P,j=S.children,I=d(S,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),tt=O?u(u({},B),{transform:(B.transform||"")+" scaleX(-1)"}):B,ct={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",u({autoPlay:!0,disablePictureInPicture:T,src:E.src,muted:!L,playsInline:!0,ref:function(z){x.video=z},style:tt},I)),j&&j(ct))},b.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},b}(o.Component);r.default=p},react:function(n,r){n.exports=e}}).default})}(wm)),wm.exports}var r8=i8();const s8=mp(r8);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function wx(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function n3(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(e),!0).forEach(function(n){c8(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):wx(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function a8(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function i3(i){var t=a8(i,"string");return typeof t=="symbol"?t:t+""}function Jv(i){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(i)}function o8(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function xx(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,i3(n.key),n)}}function l8(i,t,e){return t&&xx(i.prototype,t),e&&xx(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function c8(i,t,e){return t=i3(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function r3(i){return u8(i)||h8(i)||d8(i)||f8()}function u8(i){if(Array.isArray(i))return tb(i)}function h8(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function d8(i,t){if(i){if(typeof i=="string")return tb(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tb(i,t)}}function tb(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function f8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g0=typeof window<"u"&&typeof window.document<"u",Ko=g0?window:{},Ay=g0&&Ko.document.documentElement?"ontouchstart"in Ko.document.documentElement:!1,Sy=g0?"PointerEvent"in Ko:!1,ni="cropper",Ey="all",s3="crop",a3="move",o3="zoom",Du="e",ju="w",Jh="s",Pc="n",Ff="ne",Bf="nw",zf="se",Uf="sw",eb="".concat(ni,"-crop"),Ax="".concat(ni,"-disabled"),gs="".concat(ni,"-hidden"),Sx="".concat(ni,"-hide"),p8="".concat(ni,"-invisible"),Fm="".concat(ni,"-modal"),nb="".concat(ni,"-move"),lp="".concat(ni,"Action"),Kg="".concat(ni,"Preview"),_y="crop",l3="move",c3="none",ib="crop",rb="cropend",sb="cropmove",ab="cropstart",Ex="dblclick",g8=Ay?"touchstart":"mousedown",m8=Ay?"touchmove":"mousemove",v8=Ay?"touchend touchcancel":"mouseup",_x=Sy?"pointerdown":g8,Cx=Sy?"pointermove":m8,Nx=Sy?"pointerup pointercancel":v8,Rx="ready",Lx="resize",Tx="wheel",ob="zoom",Mx="image/jpeg",b8=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,y8=/^data:/,w8=/^data:image\/jpeg;base64,/,x8=/^img|canvas$/i,u3=200,h3=100,Px={viewMode:0,dragMode:_y,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:u3,minContainerHeight:h3,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},A8='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',S8=Number.isNaN||Ko.isNaN;function sn(i){return typeof i=="number"&&!S8(i)}var Ox=function(t){return t>0&&t<1/0};function av(i){return typeof i>"u"}function eh(i){return Jv(i)==="object"&&i!==null}var E8=Object.prototype.hasOwnProperty;function ad(i){if(!eh(i))return!1;try{var t=i.constructor,e=t.prototype;return t&&e&&E8.call(e,"isPrototypeOf")}catch{return!1}}function ds(i){return typeof i=="function"}var _8=Array.prototype.slice;function d3(i){return Array.from?Array.from(i):_8.call(i)}function Ui(i,t){return i&&ds(t)&&(Array.isArray(i)||sn(i.length)?d3(i).forEach(function(e,n){t.call(i,e,n,i)}):eh(i)&&Object.keys(i).forEach(function(e){t.call(i,i[e],e,i)})),i}var ii=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return eh(t)&&n.length>0&&n.forEach(function(s){eh(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},C8=/\.\d*(?:0|9){12}\d*$/;function fd(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return C8.test(i)?Math.round(i*t)/t:i}var N8=/^width|height|left|top|marginLeft|marginTop$/;function Fc(i,t){var e=i.style;Ui(t,function(n,r){N8.test(r)&&sn(n)&&(n="".concat(n,"px")),e[r]=n})}function R8(i,t){return i.classList?i.classList.contains(t):i.className.indexOf(t)>-1}function cr(i,t){if(t){if(sn(i.length)){Ui(i,function(n){cr(n,t)});return}if(i.classList){i.classList.add(t);return}var e=i.className.trim();e?e.indexOf(t)<0&&(i.className="".concat(e," ").concat(t)):i.className=t}}function $o(i,t){if(t){if(sn(i.length)){Ui(i,function(e){$o(e,t)});return}if(i.classList){i.classList.remove(t);return}i.className.indexOf(t)>=0&&(i.className=i.className.replace(t,""))}}function od(i,t,e){if(t){if(sn(i.length)){Ui(i,function(n){od(n,t,e)});return}e?cr(i,t):$o(i,t)}}var L8=/([a-z\d])([A-Z])/g;function Cy(i){return i.replace(L8,"$1-$2").toLowerCase()}function lb(i,t){return eh(i[t])?i[t]:i.dataset?i.dataset[t]:i.getAttribute("data-".concat(Cy(t)))}function cp(i,t,e){eh(e)?i[t]=e:i.dataset?i.dataset[t]=e:i.setAttribute("data-".concat(Cy(t)),e)}function T8(i,t){if(eh(i[t]))try{delete i[t]}catch{i[t]=void 0}else if(i.dataset)try{delete i.dataset[t]}catch{i.dataset[t]=void 0}else i.removeAttribute("data-".concat(Cy(t)))}var f3=/\s\s*/,p3=function(){var i=!1;if(g0){var t=!1,e=function(){},n=Object.defineProperty({},"once",{get:function(){return i=!0,t},set:function(s){t=s}});Ko.addEventListener("test",e,n),Ko.removeEventListener("test",e,n)}return i}();function ka(i,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=e;t.trim().split(f3).forEach(function(s){if(!p3){var o=i.listeners;o&&o[s]&&o[s][e]&&(r=o[s][e],delete o[s][e],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete i.listeners)}i.removeEventListener(s,r,n)})}function ra(i,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=e;t.trim().split(f3).forEach(function(s){if(n.once&&!p3){var o=i.listeners,c=o===void 0?{}:o;r=function(){delete c[s][e],i.removeEventListener(s,r,n);for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];e.apply(i,f)},c[s]||(c[s]={}),c[s][e]&&i.removeEventListener(s,c[s][e],n),c[s][e]=r,i.listeners=c}i.addEventListener(s,r,n)})}function pd(i,t,e){var n;return ds(Event)&&ds(CustomEvent)?n=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,e)),i.dispatchEvent(n)}function g3(i){var t=i.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ov=Ko.location,M8=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function kx(i){var t=i.match(M8);return t!==null&&(t[1]!==ov.protocol||t[2]!==ov.hostname||t[3]!==ov.port)}function Dx(i){var t="timestamp=".concat(new Date().getTime());return i+(i.indexOf("?")===-1?"?":"&")+t}function Zf(i){var t=i.rotate,e=i.scaleX,n=i.scaleY,r=i.translateX,s=i.translateY,o=[];sn(r)&&r!==0&&o.push("translateX(".concat(r,"px)")),sn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),sn(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),sn(e)&&e!==1&&o.push("scaleX(".concat(e,")")),sn(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var c=o.length?o.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function P8(i){var t=n3({},i),e=0;return Ui(i,function(n,r){delete t[r],Ui(t,function(s){var o=Math.abs(n.startX-s.startX),c=Math.abs(n.startY-s.startY),u=Math.abs(n.endX-s.endX),d=Math.abs(n.endY-s.endY),f=Math.sqrt(o*o+c*c),p=Math.sqrt(u*u+d*d),m=(p-f)/f;Math.abs(m)>Math.abs(e)&&(e=m)})}),e}function Qg(i,t){var e=i.pageX,n=i.pageY,r={endX:e,endY:n};return t?r:n3({startX:e,startY:n},r)}function O8(i){var t=0,e=0,n=0;return Ui(i,function(r){var s=r.startX,o=r.startY;t+=s,e+=o,n+=1}),t/=n,e/=n,{pageX:t,pageY:e}}function Bc(i){var t=i.aspectRatio,e=i.height,n=i.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=Ox(n),o=Ox(e);if(s&&o){var c=e*t;r==="contain"&&c>n||r==="cover"&&c<n?e=n/t:n=e*t}else s?e=n/t:o&&(n=e*t);return{width:n,height:e}}function k8(i){var t=i.width,e=i.height,n=i.degree;if(n=Math.abs(n)%180,n===90)return{width:e,height:t};var r=n%90*Math.PI/180,s=Math.sin(r),o=Math.cos(r),c=t*o+e*s,u=t*s+e*o;return n>90?{width:u,height:c}:{width:c,height:u}}function D8(i,t,e,n){var r=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,c=t.rotate,u=c===void 0?0:c,d=t.scaleX,f=d===void 0?1:d,p=t.scaleY,m=p===void 0?1:p,b=e.aspectRatio,x=e.naturalWidth,y=e.naturalHeight,E=n.fillColor,S=E===void 0?"transparent":E,L=n.imageSmoothingEnabled,T=L===void 0?!0:L,O=n.imageSmoothingQuality,P=O===void 0?"low":O,B=n.maxWidth,j=B===void 0?1/0:B,I=n.maxHeight,tt=I===void 0?1/0:I,ct=n.minWidth,z=ct===void 0?0:ct,V=n.minHeight,rt=V===void 0?0:V,nt=document.createElement("canvas"),ut=nt.getContext("2d"),H=Bc({aspectRatio:b,width:j,height:tt}),et=Bc({aspectRatio:b,width:z,height:rt},"cover"),Z=Math.min(H.width,Math.max(et.width,x)),gt=Math.min(H.height,Math.max(et.height,y)),Y=Bc({aspectRatio:r,width:j,height:tt}),dt=Bc({aspectRatio:r,width:z,height:rt},"cover"),D=Math.min(Y.width,Math.max(dt.width,s)),G=Math.min(Y.height,Math.max(dt.height,o)),Q=[-D/2,-G/2,D,G];return nt.width=fd(Z),nt.height=fd(gt),ut.fillStyle=S,ut.fillRect(0,0,Z,gt),ut.save(),ut.translate(Z/2,gt/2),ut.rotate(u*Math.PI/180),ut.scale(f,m),ut.imageSmoothingEnabled=T,ut.imageSmoothingQuality=P,ut.drawImage.apply(ut,[i].concat(r3(Q.map(function(st){return Math.floor(fd(st))})))),ut.restore(),nt}var m3=String.fromCharCode;function j8(i,t,e){var n="";e+=t;for(var r=t;r<e;r+=1)n+=m3(i.getUint8(r));return n}var I8=/^data:.*,/;function F8(i){var t=i.replace(I8,""),e=atob(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);return Ui(r,function(s,o){r[o]=e.charCodeAt(o)}),n}function B8(i,t){for(var e=[],n=8192,r=new Uint8Array(i);r.length>0;)e.push(m3.apply(null,d3(r.subarray(0,n)))),r=r.subarray(n);return"data:".concat(t,";base64,").concat(btoa(e.join("")))}function z8(i){var t=new DataView(i),e;try{var n,r,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,c=2;c+1<o;){if(t.getUint8(c)===255&&t.getUint8(c+1)===225){r=c;break}c+=1}if(r){var u=r+4,d=r+10;if(j8(t,u,4)==="Exif"){var f=t.getUint16(d);if(n=f===18761,(n||f===19789)&&t.getUint16(d+2,n)===42){var p=t.getUint32(d+4,n);p>=8&&(s=d+p)}}}if(s){var m=t.getUint16(s,n),b,x;for(x=0;x<m;x+=1)if(b=s+x*12+2,t.getUint16(b,n)===274){b+=8,e=t.getUint16(b,n),t.setUint16(b,1,n);break}}}catch{e=1}return e}function U8(i){var t=0,e=1,n=1;switch(i){case 2:e=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,e=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:e,scaleY:n}}var q8={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,r=this.cropper,s=Number(e.minContainerWidth),o=Number(e.minContainerHeight);cr(r,gs),$o(t,gs);var c={width:Math.max(n.offsetWidth,s>=0?s:u3),height:Math.max(n.offsetHeight,o>=0?o:h3)};this.containerData=c,Fc(r,{width:c.width,height:c.height}),cr(t,gs),$o(r,gs)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,r=Math.abs(e.rotate)%180===90,s=r?e.naturalHeight:e.naturalWidth,o=r?e.naturalWidth:e.naturalHeight,c=s/o,u=t.width,d=t.height;t.height*c>t.width?n===3?u=t.height*c:d=t.width/c:n===3?d=t.width/c:u=t.height*c;var f={aspectRatio:c,naturalWidth:s,naturalHeight:o,width:u,height:d};this.canvasData=f,this.limited=n===1||n===2,this.limitCanvas(!0,!0),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),f.left=(t.width-f.width)/2,f.top=(t.height-f.height)/2,f.oldLeft=f.left,f.oldTop=f.top,this.initialCanvasData=ii({},f)},limitCanvas:function(t,e){var n=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,c=n.viewMode,u=s.aspectRatio,d=this.cropped&&o;if(t){var f=Number(n.minCanvasWidth)||0,p=Number(n.minCanvasHeight)||0;c>1?(f=Math.max(f,r.width),p=Math.max(p,r.height),c===3&&(p*u>f?f=p*u:p=f/u)):c>0&&(f?f=Math.max(f,d?o.width:0):p?p=Math.max(p,d?o.height:0):d&&(f=o.width,p=o.height,p*u>f?f=p*u:p=f/u));var m=Bc({aspectRatio:u,width:f,height:p});f=m.width,p=m.height,s.minWidth=f,s.minHeight=p,s.maxWidth=1/0,s.maxHeight=1/0}if(e)if(c>(d?0:1)){var b=r.width-s.width,x=r.height-s.height;s.minLeft=Math.min(0,b),s.minTop=Math.min(0,x),s.maxLeft=Math.max(0,b),s.maxTop=Math.max(0,x),d&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,c===2&&(s.width>=r.width&&(s.minLeft=Math.min(0,b),s.maxLeft=Math.max(0,b)),s.height>=r.height&&(s.minTop=Math.min(0,x),s.maxTop=Math.max(0,x))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=r.width,s.maxTop=r.height},renderCanvas:function(t,e){var n=this.canvasData,r=this.imageData;if(e){var s=k8({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=s.width,c=s.height,u=n.width*(o/n.naturalWidth),d=n.height*(c/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(d-n.height)/2,n.width=u,n.height=d,n.aspectRatio=o/c,n.naturalWidth=o,n.naturalHeight=c,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Fc(this.canvas,ii({width:n.width,height:n.height},Zf({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,r=n.naturalWidth*(e.width/e.naturalWidth),s=n.naturalHeight*(e.height/e.naturalHeight);ii(n,{width:r,height:s,left:(e.width-r)/2,top:(e.height-s)/2}),Fc(this.image,ii({width:n.width,height:n.height},Zf(ii({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,s={width:e.width,height:e.height};n&&(e.height*n>e.width?s.height=s.width/n:s.width=s.height*n),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*r),s.height=Math.max(s.minHeight,s.height*r),s.left=e.left+(e.width-s.width)/2,s.top=e.top+(e.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=ii({},s)},limitCropBox:function(t,e){var n=this.options,r=this.containerData,s=this.canvasData,o=this.cropBoxData,c=this.limited,u=n.aspectRatio;if(t){var d=Number(n.minCropBoxWidth)||0,f=Number(n.minCropBoxHeight)||0,p=c?Math.min(r.width,s.width,s.width+s.left,r.width-s.left):r.width,m=c?Math.min(r.height,s.height,s.height+s.top,r.height-s.top):r.height;d=Math.min(d,r.width),f=Math.min(f,r.height),u&&(d&&f?f*u>d?f=d/u:d=f*u:d?f=d/u:f&&(d=f*u),m*u>p?m=p/u:p=m*u),o.minWidth=Math.min(d,p),o.minHeight=Math.min(f,m),o.maxWidth=p,o.maxHeight=m}e&&(c?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(r.width,s.left+s.width)-o.width,o.maxTop=Math.min(r.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&cp(this.face,lp,n.width>=e.width&&n.height>=e.height?a3:Ey),Fc(this.cropBox,ii({width:n.width,height:n.height},Zf({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),pd(this.element,ib,this.getData())}},H8={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,r=e?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=r,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var c=n;typeof n=="string"?c=t.ownerDocument.querySelectorAll(n):n.querySelector&&(c=[n]),this.previews=c,Ui(c,function(u){var d=document.createElement("img");cp(u,Kg,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),e&&(d.crossOrigin=e),d.src=r,d.alt=s,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(d)})}},resetPreview:function(){Ui(this.previews,function(t){var e=lb(t,Kg);Fc(t,{width:e.width,height:e.height}),t.innerHTML=e.html,T8(t,Kg)})},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,r=n.width,s=n.height,o=t.width,c=t.height,u=n.left-e.left-t.left,d=n.top-e.top-t.top;!this.cropped||this.disabled||(Fc(this.viewBoxImage,ii({width:o,height:c},Zf(ii({translateX:-u,translateY:-d},t)))),Ui(this.previews,function(f){var p=lb(f,Kg),m=p.width,b=p.height,x=m,y=b,E=1;r&&(E=m/r,y=s*E),s&&y>b&&(E=b/s,x=r*E,y=b),Fc(f,{width:x,height:y}),Fc(f.getElementsByTagName("img")[0],ii({width:o*E,height:c*E},Zf(ii({translateX:-u*E,translateY:-d*E},t))))}))}},G8={bind:function(){var t=this.element,e=this.options,n=this.cropper;ds(e.cropstart)&&ra(t,ab,e.cropstart),ds(e.cropmove)&&ra(t,sb,e.cropmove),ds(e.cropend)&&ra(t,rb,e.cropend),ds(e.crop)&&ra(t,ib,e.crop),ds(e.zoom)&&ra(t,ob,e.zoom),ra(n,_x,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&ra(n,Tx,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ra(n,Ex,this.onDblclick=this.dblclick.bind(this)),ra(t.ownerDocument,Cx,this.onCropMove=this.cropMove.bind(this)),ra(t.ownerDocument,Nx,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&ra(window,Lx,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;ds(e.cropstart)&&ka(t,ab,e.cropstart),ds(e.cropmove)&&ka(t,sb,e.cropmove),ds(e.cropend)&&ka(t,rb,e.cropend),ds(e.crop)&&ka(t,ib,e.crop),ds(e.zoom)&&ka(t,ob,e.zoom),ka(n,_x,this.onCropStart),e.zoomable&&e.zoomOnWheel&&ka(n,Tx,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ka(n,Ex,this.onDblclick),ka(t.ownerDocument,Cx,this.onCropMove),ka(t.ownerDocument,Nx,this.onCropEnd),e.responsive&&ka(window,Lx,this.onResize)}},V8={resize:function(){if(!this.disabled){var t=this.options,e=this.container,n=this.containerData,r=e.offsetWidth/n.width,s=e.offsetHeight/n.height,o=Math.abs(r-1)>Math.abs(s-1)?r:s;if(o!==1){var c,u;t.restore&&(c=this.getCanvasData(),u=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(Ui(c,function(d,f){c[f]=d*o})),this.setCropBoxData(Ui(u,function(d,f){u[f]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===c3||this.setDragMode(R8(this.dragBox,eb)?l3:_y)},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(sn(e)&&e!==1||sn(n)&&n!==0||t.ctrlKey))){var r=this.options,s=this.pointers,o;t.changedTouches?Ui(t.changedTouches,function(c){s[c.identifier]=Qg(c)}):s[t.pointerId||0]=Qg(t),Object.keys(s).length>1&&r.zoomable&&r.zoomOnTouch?o=o3:o=lb(t.target,lp),b8.test(o)&&pd(this.element,ab,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===s3&&(this.cropping=!0,cr(this.dragBox,Fm)))}},cropMove:function(t){var e=this.action;if(!(this.disabled||!e)){var n=this.pointers;t.preventDefault(),pd(this.element,sb,{originalEvent:t,action:e})!==!1&&(t.changedTouches?Ui(t.changedTouches,function(r){ii(n[r.identifier]||{},Qg(r,!0))}):ii(n[t.pointerId||0]||{},Qg(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?Ui(t.changedTouches,function(r){delete n[r.identifier]}):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,od(this.dragBox,Fm,this.cropped&&this.options.modal)),pd(this.element,rb,{originalEvent:t,action:e}))}}},$8={change:function(t){var e=this.options,n=this.canvasData,r=this.containerData,s=this.cropBoxData,o=this.pointers,c=this.action,u=e.aspectRatio,d=s.left,f=s.top,p=s.width,m=s.height,b=d+p,x=f+m,y=0,E=0,S=r.width,L=r.height,T=!0,O;!u&&t.shiftKey&&(u=p&&m?p/m:1),this.limited&&(y=s.minLeft,E=s.minTop,S=y+Math.min(r.width,n.width,n.left+n.width),L=E+Math.min(r.height,n.height,n.top+n.height));var P=o[Object.keys(o)[0]],B={x:P.endX-P.startX,y:P.endY-P.startY},j=function(tt){switch(tt){case Du:b+B.x>S&&(B.x=S-b);break;case ju:d+B.x<y&&(B.x=y-d);break;case Pc:f+B.y<E&&(B.y=E-f);break;case Jh:x+B.y>L&&(B.y=L-x);break}};switch(c){case Ey:d+=B.x,f+=B.y;break;case Du:if(B.x>=0&&(b>=S||u&&(f<=E||x>=L))){T=!1;break}j(Du),p+=B.x,p<0&&(c=ju,p=-p,d-=p),u&&(m=p/u,f+=(s.height-m)/2);break;case Pc:if(B.y<=0&&(f<=E||u&&(d<=y||b>=S))){T=!1;break}j(Pc),m-=B.y,f+=B.y,m<0&&(c=Jh,m=-m,f-=m),u&&(p=m*u,d+=(s.width-p)/2);break;case ju:if(B.x<=0&&(d<=y||u&&(f<=E||x>=L))){T=!1;break}j(ju),p-=B.x,d+=B.x,p<0&&(c=Du,p=-p,d-=p),u&&(m=p/u,f+=(s.height-m)/2);break;case Jh:if(B.y>=0&&(x>=L||u&&(d<=y||b>=S))){T=!1;break}j(Jh),m+=B.y,m<0&&(c=Pc,m=-m,f-=m),u&&(p=m*u,d+=(s.width-p)/2);break;case Ff:if(u){if(B.y<=0&&(f<=E||b>=S)){T=!1;break}j(Pc),m-=B.y,f+=B.y,p=m*u}else j(Pc),j(Du),B.x>=0?b<S?p+=B.x:B.y<=0&&f<=E&&(T=!1):p+=B.x,B.y<=0?f>E&&(m-=B.y,f+=B.y):(m-=B.y,f+=B.y);p<0&&m<0?(c=Uf,m=-m,p=-p,f-=m,d-=p):p<0?(c=Bf,p=-p,d-=p):m<0&&(c=zf,m=-m,f-=m);break;case Bf:if(u){if(B.y<=0&&(f<=E||d<=y)){T=!1;break}j(Pc),m-=B.y,f+=B.y,p=m*u,d+=s.width-p}else j(Pc),j(ju),B.x<=0?d>y?(p-=B.x,d+=B.x):B.y<=0&&f<=E&&(T=!1):(p-=B.x,d+=B.x),B.y<=0?f>E&&(m-=B.y,f+=B.y):(m-=B.y,f+=B.y);p<0&&m<0?(c=zf,m=-m,p=-p,f-=m,d-=p):p<0?(c=Ff,p=-p,d-=p):m<0&&(c=Uf,m=-m,f-=m);break;case Uf:if(u){if(B.x<=0&&(d<=y||x>=L)){T=!1;break}j(ju),p-=B.x,d+=B.x,m=p/u}else j(Jh),j(ju),B.x<=0?d>y?(p-=B.x,d+=B.x):B.y>=0&&x>=L&&(T=!1):(p-=B.x,d+=B.x),B.y>=0?x<L&&(m+=B.y):m+=B.y;p<0&&m<0?(c=Ff,m=-m,p=-p,f-=m,d-=p):p<0?(c=zf,p=-p,d-=p):m<0&&(c=Bf,m=-m,f-=m);break;case zf:if(u){if(B.x>=0&&(b>=S||x>=L)){T=!1;break}j(Du),p+=B.x,m=p/u}else j(Jh),j(Du),B.x>=0?b<S?p+=B.x:B.y>=0&&x>=L&&(T=!1):p+=B.x,B.y>=0?x<L&&(m+=B.y):m+=B.y;p<0&&m<0?(c=Bf,m=-m,p=-p,f-=m,d-=p):p<0?(c=Uf,p=-p,d-=p):m<0&&(c=Ff,m=-m,f-=m);break;case a3:this.move(B.x,B.y),T=!1;break;case o3:this.zoom(P8(o),t),T=!1;break;case s3:if(!B.x||!B.y){T=!1;break}O=g3(this.cropper),d=P.startX-O.left,f=P.startY-O.top,p=s.minWidth,m=s.minHeight,B.x>0?c=B.y>0?zf:Ff:B.x<0&&(d-=p,c=B.y>0?Uf:Bf),B.y<0&&(f-=m),this.cropped||($o(this.cropBox,gs),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}T&&(s.width=p,s.height=m,s.left=d,s.top=f,this.action=c,this.renderCropBox()),Ui(o,function(I){I.startX=I.endX,I.startY=I.endY})}},W8={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&cr(this.dragBox,Fm),$o(this.cropBox,gs),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ii({},this.initialImageData),this.canvasData=ii({},this.initialCanvasData),this.cropBoxData=ii({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ii(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),$o(this.dragBox,Fm),cr(this.cropBox,gs)),this},replace:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,Ui(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,$o(this.cropper,Ax)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,cr(this.cropper,Ax)),this},destroy:function(){var t=this.element;return t[ni]?(t[ni]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,r=n.left,s=n.top;return this.moveTo(av(t)?t:r+Number(t),av(e)?e:s+Number(e))},moveTo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(sn(t)&&(n.left=t,r=!0),sn(e)&&(n.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var r=this.options,s=this.canvasData,o=s.width,c=s.height,u=s.naturalWidth,d=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&r.zoomable){var f=u*t,p=d*t;if(pd(this.element,ob,{ratio:t,oldRatio:o/u,originalEvent:n})===!1)return this;if(n){var m=this.pointers,b=g3(this.cropper),x=m&&Object.keys(m).length?O8(m):{pageX:n.pageX,pageY:n.pageY};s.left-=(f-o)*((x.pageX-b.left-s.left)/o),s.top-=(p-c)*((x.pageY-b.top-s.top)/c)}else ad(e)&&sn(e.x)&&sn(e.y)?(s.left-=(f-o)*((e.x-s.left)/o),s.top-=(p-c)*((e.y-s.top)/c)):(s.left-=(f-o)/2,s.top-=(p-c)/2);s.width=f,s.height=p,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),sn(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,sn(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(sn(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(sn(t)&&(n.scaleX=t,r=!0),sn(e)&&(n.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.options,n=this.imageData,r=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-r.left,y:s.top-r.top,width:s.width,height:s.height};var c=n.width/n.naturalWidth;if(Ui(o,function(f,p){o[p]=f/c}),t){var u=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=u-o.y}}else o={x:0,y:0,width:0,height:0};return e.rotatable&&(o.rotate=n.rotate||0),e.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(t){var e=this.options,n=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&ad(t)){var o=!1;e.rotatable&&sn(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),e.scalable&&(sn(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),sn(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var c=n.width/n.naturalWidth;sn(t.x)&&(s.left=t.x*c+r.left),sn(t.y)&&(s.top=t.y*c+r.top),sn(t.width)&&(s.width=t.width*c),sn(t.height)&&(s.height=t.height*c),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?ii({},this.containerData):{}},getImageData:function(){return this.sized?ii({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&Ui(["left","top","width","height","naturalWidth","naturalHeight"],function(n){e[n]=t[n]}),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&ad(t)&&(sn(t.left)&&(e.left=t.left),sn(t.top)&&(e.top=t.top),sn(t.width)?(e.width=t.width,e.height=t.width/n):sn(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,e;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(t){var e=this.cropBoxData,n=this.options.aspectRatio,r,s;return this.ready&&this.cropped&&!this.disabled&&ad(t)&&(sn(t.left)&&(e.left=t.left),sn(t.top)&&(e.top=t.top),sn(t.width)&&t.width!==e.width&&(r=!0,e.width=t.width),sn(t.height)&&t.height!==e.height&&(s=!0,e.height=t.height),n&&(r?e.height=e.width/n:s&&(e.width=e.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=D8(this.image,this.imageData,e,t);if(!this.cropped)return n;var r=this.getData(t.rounded),s=r.x,o=r.y,c=r.width,u=r.height,d=n.width/Math.floor(e.naturalWidth);d!==1&&(s*=d,o*=d,c*=d,u*=d);var f=c/u,p=Bc({aspectRatio:f,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=Bc({aspectRatio:f,width:t.minWidth||0,height:t.minHeight||0},"cover"),b=Bc({aspectRatio:f,width:t.width||(d!==1?n.width:c),height:t.height||(d!==1?n.height:u)}),x=b.width,y=b.height;x=Math.min(p.width,Math.max(m.width,x)),y=Math.min(p.height,Math.max(m.height,y));var E=document.createElement("canvas"),S=E.getContext("2d");E.width=fd(x),E.height=fd(y),S.fillStyle=t.fillColor||"transparent",S.fillRect(0,0,x,y);var L=t.imageSmoothingEnabled,T=L===void 0?!0:L,O=t.imageSmoothingQuality;S.imageSmoothingEnabled=T,O&&(S.imageSmoothingQuality=O);var P=n.width,B=n.height,j=s,I=o,tt,ct,z,V,rt,nt;j<=-c||j>P?(j=0,tt=0,z=0,rt=0):j<=0?(z=-j,j=0,tt=Math.min(P,c+j),rt=tt):j<=P&&(z=0,tt=Math.min(c,P-j),rt=tt),tt<=0||I<=-u||I>B?(I=0,ct=0,V=0,nt=0):I<=0?(V=-I,I=0,ct=Math.min(B,u+I),nt=ct):I<=B&&(V=0,ct=Math.min(u,B-I),nt=ct);var ut=[j,I,tt,ct];if(rt>0&&nt>0){var H=x/c;ut.push(z*H,V*H,rt*H,nt*H)}return S.drawImage.apply(S,[n].concat(r3(ut.map(function(et){return Math.floor(fd(et))})))),E},setAspectRatio:function(t){var e=this.options;return!this.disabled&&!av(t)&&(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var s=t===_y,o=e.movable&&t===l3;t=s||o?t:c3,e.dragMode=t,cp(n,lp,t),od(n,eb,s),od(n,nb,o),e.cropBoxMovable||(cp(r,lp,t),od(r,eb,s),od(r,nb,o))}return this}},Y8=Ko.Cropper,v3=function(){function i(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o8(this,i),!t||!x8.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=ii({},Px,ad(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return l8(i,[{key:"init",value:function(){var e=this.element,n=e.tagName.toLowerCase(),r;if(!e[ni]){if(e[ni]=this,n==="img"){if(this.isImg=!0,r=e.getAttribute("src")||"",this.originalUrl=r,!r)return;r=e.src}else n==="canvas"&&window.HTMLCanvasElement&&(r=e.toDataURL());this.load(r)}}},{key:"load",value:function(e){var n=this;if(e){this.url=e,this.imageData={};var r=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(y8.test(e)){w8.test(e)?this.read(F8(e)):this.clone();return}var o=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=c,o.onerror=c,o.ontimeout=c,o.onprogress=function(){o.getResponseHeader("content-type")!==Mx&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},s.checkCrossOrigin&&kx(e)&&r.crossOrigin&&(e=Dx(e)),o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials=r.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(e){var n=this.options,r=this.imageData,s=z8(e),o=0,c=1,u=1;if(s>1){this.url=B8(e,Mx);var d=U8(s);o=d.rotate,c=d.scaleX,u=d.scaleY}n.rotatable&&(r.rotate=o),n.scalable&&(r.scaleX=c,r.scaleY=u),this.clone()}},{key:"clone",value:function(){var e=this.element,n=this.url,r=e.crossOrigin,s=n;this.options.checkCrossOrigin&&kx(n)&&(r||(r="anonymous"),s=Dx(n)),this.crossOrigin=r,this.crossOriginUrl=s;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=s||n,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),cr(o,Sx),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var r=Ko.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ko.navigator.userAgent),s=function(d,f){ii(e.imageData,{naturalWidth:d,naturalHeight:f,aspectRatio:d/f}),e.initialImageData=ii({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(n.naturalWidth&&!r){s(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),r||c.removeChild(o)},o.src=n.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(o))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var e=this.element,n=this.options,r=this.image,s=e.parentNode,o=document.createElement("div");o.innerHTML=A8;var c=o.querySelector(".".concat(ni,"-container")),u=c.querySelector(".".concat(ni,"-canvas")),d=c.querySelector(".".concat(ni,"-drag-box")),f=c.querySelector(".".concat(ni,"-crop-box")),p=f.querySelector(".".concat(ni,"-face"));this.container=s,this.cropper=c,this.canvas=u,this.dragBox=d,this.cropBox=f,this.viewBox=c.querySelector(".".concat(ni,"-view-box")),this.face=p,u.appendChild(r),cr(e,gs),s.insertBefore(c,e.nextSibling),$o(r,Sx),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,cr(f,gs),n.guides||cr(f.getElementsByClassName("".concat(ni,"-dashed")),gs),n.center||cr(f.getElementsByClassName("".concat(ni,"-center")),gs),n.background&&cr(c,"".concat(ni,"-bg")),n.highlight||cr(p,p8),n.cropBoxMovable&&(cr(p,nb),cp(p,lp,Ey)),n.cropBoxResizable||(cr(f.getElementsByClassName("".concat(ni,"-line")),gs),cr(f.getElementsByClassName("".concat(ni,"-point")),gs)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),ds(n.ready)&&ra(e,Rx,n.ready,{once:!0}),pd(e,Rx)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),$o(this.element,gs)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Y8,i}},{key:"setDefaults",value:function(e){ii(Px,ad(e)&&e)}}])}();ii(v3.prototype,q8,H8,G8,V8,$8,W8);var Bu=function(){return Bu=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Bu.apply(this,arguments)};function lv(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]])}return e}var X8=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],K8={opacity:0,maxWidth:"100%"},Q8=Kt.forwardRef(function(i,t){var e=lv(i,[]),n=e.dragMode,r=n===void 0?"crop":n,s=e.src,o=e.style,c=e.className,u=e.crossOrigin,d=e.scaleX,f=e.scaleY,p=e.enable,m=e.zoomTo,b=e.rotateTo,x=e.alt,y=x===void 0?"picture":x,E=e.ready,S=e.onInitialized,L=lv(e,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),T={scaleY:f,scaleX:d,enable:p,zoomTo:m,rotateTo:b},O=function(){for(var B=[],j=0;j<arguments.length;j++)B[j]=arguments[j];var I=k.useRef(null);return Kt.useEffect(function(){B.forEach(function(tt){tt&&(typeof tt=="function"?tt(I.current):tt.current=I.current)})},[B]),I}(t,k.useRef(null));k.useEffect(function(){var B;!((B=O.current)===null||B===void 0)&&B.cropper&&typeof m=="number"&&O.current.cropper.zoomTo(m)},[e.zoomTo]),k.useEffect(function(){var B;!((B=O.current)===null||B===void 0)&&B.cropper&&s!==void 0&&O.current.cropper.reset().clear().replace(s)},[s]),k.useEffect(function(){if(O.current!==null){var B=new v3(O.current,Bu(Bu({dragMode:r},L),{ready:function(j){j.currentTarget!==null&&function(I,tt){tt===void 0&&(tt={});var ct=tt.enable,z=ct===void 0||ct,V=tt.scaleX,rt=V===void 0?1:V,nt=tt.scaleY,ut=nt===void 0?1:nt,H=tt.zoomTo,et=H===void 0?0:H,Z=tt.rotateTo;z?I.enable():I.disable(),I.scaleX(rt),I.scaleY(ut),Z!==void 0&&I.rotateTo(Z),et>0&&I.zoomTo(et)}(j.currentTarget.cropper,T),E&&E(j)}}));S&&S(B)}return function(){var j,I;(I=(j=O.current)===null||j===void 0?void 0:j.cropper)===null||I===void 0||I.destroy()}},[O]);var P=function(B){return X8.reduce(function(j,I){var tt=j,ct=I;return tt[ct],lv(tt,[typeof ct=="symbol"?ct:ct+""])},B)}(Bu(Bu({},L),{crossOrigin:u,src:s,alt:y}));return Kt.createElement("div",{style:o,className:c},Kt.createElement("img",Bu({},P,{style:K8,ref:O})))});const Kr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),cb=[.001,0,0,.001,0,0],cv=1.35,ks={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Uo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Z8="pdfjs_internal_editor_",Be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},an={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},b3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ir={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Jf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_i={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},nd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mp={ERRORS:0,WARNINGS:1,INFOS:5},up={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zg={moveTo:0,lineTo:1,curveTo:2,closePath:3},y3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let m0=Mp.WARNINGS;function J8(i){Number.isInteger(i)&&(m0=i)}function t7(){return m0}function v0(i){m0>=Mp.INFOS&&console.log(`Info: ${i}`)}function Ue(i){m0>=Mp.WARNINGS&&console.log(`Warning: ${i}`)}function kn(i){throw new Error(i)}function qi(i,t){i||kn(t)}function e7(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ny(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=a7(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return e7(n)?n:null}function Ry(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&Ny(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function nn(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const ah=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class jx extends ah{constructor(t,e){super(t,"PasswordException"),this.code=e}}class uv extends ah{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Bm extends ah{constructor(t){super(t,"InvalidPDFException")}}class hp extends ah{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class n7 extends ah{constructor(t){super(t,"FormatError")}}class Fl extends ah{constructor(t){super(t,"AbortException")}}function w3(i){(typeof i!="object"||i?.length===void 0)&&kn("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Pp(i){typeof i!="string"&&kn("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function i7(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function r7(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function s7(){try{return new Function(""),!0}catch{return!1}}class fr{static get isLittleEndian(){return nn(this,"isLittleEndian",r7())}static get isEvalSupported(){return nn(this,"isEvalSupported",s7())}static get isOffscreenCanvasSupported(){return nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return nn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return nn(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return nn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hv=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class ye{static makeHexColor(t,e,n){return`#${hv[t]}${hv[e]}${hv[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],s=t[n+1];t[n]=r*e[0]+s*e[2]+e[4],t[n+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],s=e[1],o=e[2],c=e[3],u=e[4],d=e[5];for(let f=0;f<6;f+=2){const p=t[n+f],m=t[n+f+1];t[n+f]=p*r+m*o+u,t[n+f+1]=p*s+m*c+d}}static applyInverseTransform(t,e){const n=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const r=e[0],s=e[1],o=e[2],c=e[3],u=e[4],d=e[5],f=t[0],p=t[1],m=t[2],b=t[3];let x=r*f+u,y=x,E=r*m+u,S=E,L=c*p+d,T=L,O=c*b+d,P=O;if(s!==0||o!==0){const B=s*f,j=s*m,I=o*p,tt=o*b;x+=I,S+=I,E+=tt,y+=tt,L+=B,P+=B,O+=j,T+=j}n[0]=Math.min(n[0],x,E,y,S),n[1]=Math.min(n[1],L,O,T,P),n[2]=Math.max(n[2],x,E,y,S),n[3]=Math.max(n[3],L,O,T,P)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],s=t[2],o=t[3],c=n**2+r**2,u=n*s+r*o,d=s**2+o**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[n,s,r,o]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,r)}static#t(t,e,n,r,s,o,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,m=d*d,b=m*d,x=p*(p*(p*t+3*d*e)+3*m*n)+b*r,y=p*(p*(p*s+3*d*o)+3*m*c)+b*u;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],y)}static#e(t,e,n,r,s,o,c,u,d,f,p,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,e,n,r,s,o,c,u,-p/f,m);return}const b=f**2-4*p*d;if(b<0)return;const x=Math.sqrt(b),y=2*d;this.#t(t,e,n,r,s,o,c,u,(-f+x)/y,m),this.#t(t,e,n,r,s,o,c,u,(-f-x)/y,m)}static bezierBoundingBox(t,e,n,r,s,o,c,u,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u),this.#e(t,n,s,c,e,r,o,u,3*(-t+3*(n-s)+c),6*(t-2*n+s),3*(n-t),d),this.#e(t,n,s,c,e,r,o,u,3*(-e+3*(r-o)+u),6*(e-2*r+o),3*(r-e),d)}}function a7(i){return decodeURIComponent(escape(i))}let dv=null,Ix=null;function x3(i){return dv||(dv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ix=new Map([["","t"]])),i.replaceAll(dv,(t,e,n)=>e?e.normalize("NFKC"):Ix.get(n))}function Ly(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),w3(i)}const Ty="pdfjs_internal_id_";function o7(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...s]=e;if(!i(n)&&!Number.isInteger(n)||!t(r))return!1;const o=s.length;let c=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function Fr(i,t,e){return Math.min(Math.max(i,t),e)}function A3(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(w3(i))}function l7(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Pp(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});const Pl="http://www.w3.org/2000/svg";class nh{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ud(i,t="text"){if(Yf(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Op{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,p,m,b;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,p=0,m=0,b=1;break;case 90:f=0,p=1,m=1,b=0;break;case 270:f=0,p=-1,m=-1,b=0;break;case 0:f=1,p=0,m=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,b=-b);let x,y,E,S;f===0?(x=Math.abs(d-t[1])*n+s,y=Math.abs(u-t[0])*n+o,E=(t[3]-t[1])*n,S=(t[2]-t[0])*n):(x=Math.abs(u-t[0])*n+s,y=Math.abs(d-t[1])*n+o,E=(t[2]-t[0])*n,S=(t[3]-t[1])*n),this.transform=[f*n,p*n,m*n,b*n,x-f*n*u-m*n*d,y-p*n*u-b*n*d],this.width=E,this.height=S}get rawDims(){const t=this.viewBox;return nn(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Op({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return ye.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ye.applyTransform(e,this.transform);const n=[t[2],t[3]];return ye.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ye.applyInverseTransform(n,this.transform),n}}class b0 extends ah{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function kp(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function y0(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function S3(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function E3(i,t="document.pdf"){if(typeof i!="string")return t;if(kp(i))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class Fx{started=Object.create(null);times=[];time(t){t in this.started&&Ue(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ue(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-r}ms
`);return t.join("")}}function Yf(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function oa(i){i.preventDefault()}function Ni(i){i.preventDefault(),i.stopPropagation()}function c7(i){console.log("Deprecated API usage: "+i)}class My{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(o+=f,c+=p):d==="+"&&(o-=f,c-=p),new Date(Date.UTC(n,r,s,o,c,u))}}function _3(i,{scale:t=1,rotation:e=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Op({viewBox:s,userUnit:1,scale:t,rotation:e})}function Py(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ue(`Not a valid color format: "${i}"`),[0,0,0])}function u7(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Py(n))}t.remove()}function hi(i){const{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform();return[t,e,n,r,s,o]}function ko(i){const{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[t,e,n,r,s,o]}function Vc(i,t,e=!1,n=!0){if(t instanceof Op){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=i,c=fr.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}n&&i.setAttribute("data-main-rotation",t.rotation)}class Ga{constructor(){const{pixelRatio:t}=Ga;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,s=-1){let o=1/0,c=1/0,u=1/0;n=Ga.capPixels(n,s),n>0&&(o=Math.sqrt(n/(t*e))),r!==-1&&(c=r/t,u=r/e);const d=Math.min(o,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const zm=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class tp{#t=null;#e=null;#n;#i=null;#s=null;#r=null;static#o=null;constructor(t){this.#n=t,tp.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",oa,{signal:e}),t.addEventListener("pointerdown",tp.#a,{signal:e});const n=this.#i=document.createElement("div");n.className="buttons",t.append(n);const r=this.#n.toolbarPosition;if(r){const{style:s}=t,o=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#a(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,Ni(t)}#c(t){this.#n._focusEventsAllowed=!0,Ni(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",oa,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",tp.#o[t]),this.#d(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(n)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#s=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#r=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#r&&(this.#r.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class h7{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",oa,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#r(),t}#s(t,e){let n=0,r=0;for(const s of t){const o=s.y+s.height;if(o<n)continue;const c=s.x+(e?s.width:0);if(o>n){r=c,n=o;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,n]}show(t,e,n){const[r,s]=this.#s(e,n),{style:o}=this.#e||=this.#i();t.append(this.#e),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#r(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;t.addEventListener("contextmenu",oa,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function C3(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class d7{#t=0;get id(){return`${Z8}${this.#t++}`}}class Oy{#t=Ly();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return nn(this,"_isSVGFittingCanvas",s)}async#i(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await Ud(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=Oy._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},o.onload=async()=>{const p=n.svgUrl=o.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(r),await u}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Ue(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:s}=t;return this.#i(`${e}_${n}_${r}_${s}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const n=await e;return this.#i(t,n)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class f7{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const u={cmd:t,undo:e,post:n,type:s};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(u);return}if(o&&this.#t[this.#i].type===s){c&&(u.undo=this.#t[this.#i].undo),this.#t[this.#i]=u;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(u)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Dp{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=fr.platform;for(const[n,r,s={}]of t)for(const o of n){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:c=null}}=n;c&&!c(t,e)||(r.bind(t,...o,e)(),s||Ni(e))}}class ky{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return u7(t),nn(this,"_colors",t)}convert(t){const e=Py(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((s,o)=>s===e[o]))return ky._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ye.makeHexColor(...e):t}}class Bl{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#s=null;#r=null;#o=null;#a=new f7;#h=null;#c=null;#d=0;#u=new Set;#f=null;#l=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#v=!1;#b=null;#y=null;#x=null;#A=null;#S=!1;#C=null;#L=new d7;#E=!1;#R=!1;#N=null;#M=null;#P=null;#O=null;#z=null;#_=Be.NONE;#w=new Set;#I=null;#F=null;#H=null;#G=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#k=null;#D=null;#q=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Bl.prototype,e=o=>o.#D.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Dp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#D.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#D.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,r,s,o,c,u,d,f,p,m,b,x){const y=this._signal=this.#t.signal;this.#D=t,this.#q=e,this.#s=n,this.#F=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:y}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),s._on("setpreference",this.onSetPreference.bind(this),{signal:y}),s._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:y}),this.#it(),this.#ot(),this.#K(),this.#r=o.annotationStorage,this.#b=o.filterFactory,this.#H=c,this.#A=u||null,this.#m=d,this.#g=f,this.#v=p,this.#z=m||null,this.viewParameters={realScale:nh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#O?.clear(),this.#e=null,this.#w.clear(),this.#a.destroy(),this.#s?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#P?.destroy(),this.#P=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return nn(this,"hcmFilter",this.#H?this.#b.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return nn(this,"direction",getComputedStyle(this.#D).direction)}get highlightColors(){return nn(this,"highlightColors",this.#A?new Map(this.#A.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return nn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#P=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#D.focus()}findParent(t,e){for(const n of this.#i.values()){const{x:r,y:s,width:o,height:c}=n.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=s&&e<=s+c)return n}return null}disableUserSelect(t=!1){this.#q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*nh.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#W({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#X(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#i.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=e,c=e.toString(),d=this.#W(e).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;e.empty();const p=this.#X(d),m=this.#_===Be.NONE,b=()=>{p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o,text:c}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(Be.HIGHLIGHT,b);return}b()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#W(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#C||=new h7(this),this.#C.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#I&&(this.#C?.hide(),this.#I=null,this.#T({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#I)return;const r=this.#W(t).closest(".textLayer");if(!r){this.#I&&(this.#C?.hide(),this.#I=null,this.#T({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#I=e,this.#T({hasSelectedText:!0}),!(this.#_!==Be.HIGHLIGHT&&this.#_!==Be.NONE)&&(this.#_===Be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#_===Be.HIGHLIGHT?this.#X(r):null;s?.toggleDrawing();const o=new AbortController,c=this.combinedSignal(o),u=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),s?.toggleDrawing(!0),d.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}}#Y(t=""){this.#_===Be.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#rt(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#st(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#M=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[t,e]=this.#M;this.#M=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#K(){if(this.#N)return;this.#N=new AbortController;const t=this.combinedSignal(this.#N);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#at(){this.#N?.abort(),this.#N=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#K(),this.#Q()}removeEditListeners(){this.#at(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#l)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#l)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#w){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const o of this.#l)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ue(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of n){const d=await r.deserialize(u);if(!d)return;s.push(d)}const o=()=>{for(const u of s)this.#J(u);this.#tt(s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){Ue(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==Be.NONE&&!this.isEditorHandlingKeyboard&&Bl._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#Y("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#T(t){Object.entries(t).some(([n,r])=>this.#V[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#_===Be.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#B([[an.HIGHLIGHT_FREE,!0]]))}#B(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#Q(),this.#T({isEditing:this.#_!==Be.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#st(),this.#Z(),this.#T({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#l){this.#l=t;for(const e of this.#l)this.#B(e.defaultPropertiesToUpdate)}}getId(){return this.#L.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(this.#_!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#_=t,t===Be.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===Be.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const r of this.#n.values())r.annotationElementId===e||r.id===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#l){switch(t){case an.CREATE:this.currentLayer.addNewEditor(e);return;case an.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(e);break;case an.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#w)n.updateParams(t,e);for(const n of this.#l)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const s of this.#n.values())s.editorType===t&&s.show(e);(this.#G?.get(an.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#B([[an.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#E){this.#E=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#n.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#O?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#B(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#w);return t}updateUI(t){this.#ut===t&&this.#B(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#B(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#T({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#T({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#T({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#a.add(t),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#a.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const s of e)s.remove()},r=()=>{for(const s of e)this.#J(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#T({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==Be.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#T({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=e;const[r,s]=this.#U,o=[...this.#w],c=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#w)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:s,pageIndex:o},c]of t)c.newX=r,c.newY=s,c.newPageIndex=o,e||=r!==c.savedX||s!==c.savedY||o!==c.savedPageIndex;if(!e)return!1;const n=(r,s,o,c)=>{if(this.#n.has(r.id)){const u=this.#i.get(c);u?r._setParentAndPosition(u,s,o):(r.pageIndex=c,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:c}]of t)n(r,s,o,c)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:c}]of t)n(r,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return nn(this,"imageManager",new Oy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,p,m)=>({x:(f-r)/o,y:1-(d+p-n)/s,width:m/o,height:p/s});break;case"180":c=(d,f,p,m)=>({x:1-(d+p-n)/s,y:1-(f+m-r)/o,width:p/s,height:m/o});break;case"270":c=(d,f,p,m)=>({x:1-(f+m-r)/o,y:(d-n)/s,width:m/o,height:p/s});break;default:c=(d,f,p,m)=>({x:(d-n)/s,y:(f-r)/o,width:p/s,height:m/o});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:m,y:b,width:x,height:y}of p.getClientRects())x===0||y===0||u.push(c(m,b,x,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#_===Be.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#O?.get(t);r&&(r.setCanvas(e,n),this.#O.delete(t))}addMissingCanvas(t,e){(this.#O||=new Map).set(t,e)}}class Fo{#t=null;#e=!1;#n=null;#i=null;#s=null;#r=null;#o=!1;#a=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Fo.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Fo._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Fo.#f.missing),e.setAttribute("data-l10n-id",Fo.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#h._uiManager._signal;t.addEventListener("contextmenu",oa,{signal:n}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#l}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#o=!0,r(s))},{signal:n}),await this.#p(),t}get#l(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await Fo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#a?.remove(),this.#a=null;return}if(!this.#a){const e=this.#a=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#a.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#c=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(s||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#l}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#a?.remove(),this.#a=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Fo.#f[this.#l]),this.#i?.setAttribute("data-l10n-id",Fo.#f[`${this.#l}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const r=100,s=this.#h._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:s})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class jp{#t;#e=!1;#n=null;#i;#s;#r;#o;#a=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:c}){this.#t=t,this.#n=n,this.#i=e,this.#s=r,this.#r=s,this.#o=o,this.#d=new AbortController,this.#h=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ga.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#a)return;const r=this.#a=new AbortController,s=AbortSignal.any([this.#h,r.signal]),o=this.#t,c={capture:!0,signal:s,passive:!1},u=d=>{d.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};o.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Ni(d),u(d))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#h,this.#u.signal]),s=this.#t,o={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#l.bind(this),o);const c=this.#p.bind(this);s.addEventListener("touchend",c,o),s.addEventListener("touchcancel",c,o),o.capture=!0,s.addEventListener("pointerdown",Ni,o),s.addEventListener("pointermove",Ni,o),s.addEventListener("pointercancel",Ni,o),s.addEventListener("pointerup",Ni,o),this.#s?.()}if(Ni(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#l(t){if(!this.#c||t.touches.length!==2)return;Ni(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:s}=e,{screenX:o,screenY:c}=n,u=this.#c,{touch0X:d,touch0Y:f,touch1X:p,touch1Y:m}=u,b=p-d,x=m-f,y=o-r,E=c-s,S=Math.hypot(y,E)||1,L=Math.hypot(b,x)||1;if(!this.#e&&Math.abs(L-S)<=jp.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=c,!this.#e){this.#e=!0;return}const T=[(r+o)/2,(s+c)/2];this.#r?.(T,L,S)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#c&&(Ni(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#a?.abort(),this.#a=null}}class Ae{#t=null;#e=null;#n=null;#i=!1;#s=null;#r="";#o=!1;#a=null;#h=null;#c=null;#d=null;#u="";#f=!1;#l=null;#p=!1;#m=!1;#g=!1;#v=null;#b=0;#y=0;#x=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#C=Ae._zIndex++;static _borderLineWidth=-1;static _colorManager=new ky;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Ae.prototype._resizeWithKeyboard,e=Bl.TRANSLATE_SMALL,n=Bl.TRANSLATE_BIG;return nn(this,"_resizerKeyboardManager",new Dp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Ae.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return nn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new p7({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ae._l10n??=t,Ae._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ae._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ae._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){kn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#q(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/s,this.y=(e+r)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#L([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#L(this.parentDimensions,t,e)}translateInPage(t,e){this.#l||=[this.x,this.y,this.width,this.height],this.#L(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#l||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,d]=this.getBaseTranslation();o+=u,c+=d;const{style:f}=n;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#l&&(this.#l[0]!==this.x||this.#l[1]!==this.y)}get _hasBeenResized(){return!!this.#l&&(this.#l[2]!==this.width||this.#l[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Ae,r=n/t,s=n/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:s,y:o,width:c,height:u}=this;if(c*=n,u*=r,s*=n,o*=r,this._mustFixPosition)switch(t){case 0:s=Fr(s,0,n-c),o=Fr(o,0,r-u);break;case 90:s=Fr(s,0,n-u),o=Fr(o,c,r);break;case 180:s=Fr(s,c,n),o=Fr(o,u,r);break;case 270:s=Fr(s,u,n),o=Fr(o,0,r-c);break}this.x=s/=n,this.y=o/=r;const[d,f]=this.getBaseTranslation();s+=d,o+=f,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#E(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Ae.#E(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Ae.#E(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/n).toFixed(2)}%`,this.#o||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),s=!this.#o&&e.endsWith("%");if(r&&s)return;const[o,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!this.#o&&!s&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#N(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#a.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#M.bind(this,n),{signal:e}),r.addEventListener("contextmenu",oa,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#a)}#M(t,e){e.preventDefault();const{isMac:n}=fr.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Ni,{passive:!1,signal:o}),window.addEventListener("contextmenu",oa,{signal:o}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#O()};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}#P(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[s,o]=this.parentDimensions;this.setDims(s*n,o*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#O(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#c;this.#c=null;const s=this.x,o=this.y,c=this.width,u=this.height;s===t&&o===e&&c===n&&u===r||this.addCommands({cmd:this.#P.bind(this,s,o,c,u),undo:this.#P.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,e){const[n,r]=this.parentDimensions,s=this.x,o=this.y,c=this.width,u=this.height,d=Ae.MIN_SIZE/n,f=Ae.MIN_SIZE/r,p=this.#R(this.rotation),m=(H,et)=>[p[0]*H+p[2]*et,p[1]*H+p[3]*et],b=this.#R(360-this.rotation),x=(H,et)=>[b[0]*H+b[2]*et,b[1]*H+b[3]*et];let y,E,S=!1,L=!1;switch(t){case"topLeft":S=!0,y=(H,et)=>[0,0],E=(H,et)=>[H,et];break;case"topMiddle":y=(H,et)=>[H/2,0],E=(H,et)=>[H/2,et];break;case"topRight":S=!0,y=(H,et)=>[H,0],E=(H,et)=>[0,et];break;case"middleRight":L=!0,y=(H,et)=>[H,et/2],E=(H,et)=>[0,et/2];break;case"bottomRight":S=!0,y=(H,et)=>[H,et],E=(H,et)=>[0,0];break;case"bottomMiddle":y=(H,et)=>[H/2,et],E=(H,et)=>[H/2,0];break;case"bottomLeft":S=!0,y=(H,et)=>[0,et],E=(H,et)=>[H,0];break;case"middleLeft":L=!0,y=(H,et)=>[0,et/2],E=(H,et)=>[H,et/2];break}const T=y(c,u),O=E(c,u);let P=m(...O);const B=Ae._round(s+P[0]),j=Ae._round(o+P[1]);let I=1,tt=1,ct,z;if(e.fromKeyboard)({deltaX:ct,deltaY:z}=e);else{const{screenX:H,screenY:et}=e,[Z,gt]=this.#h;[ct,z]=this.screenToPageTranslation(H-Z,et-gt),this.#h[0]=H,this.#h[1]=et}if([ct,z]=x(ct/n,z/r),S){const H=Math.hypot(c,u);I=tt=Math.max(Math.min(Math.hypot(O[0]-T[0]-ct,O[1]-T[1]-z)/H,1/c,1/u),d/c,f/u)}else L?I=Fr(Math.abs(O[0]-T[0]-ct),d,1)/c:tt=Fr(Math.abs(O[1]-T[1]-z),f,1)/u;const V=Ae._round(c*I),rt=Ae._round(u*tt);P=m(...E(V,rt));const nt=B-P[0],ut=j-P[1];this.#l||=[this.x,this.y,this.width,this.height],this.width=V,this.height=rt,this.x=nt,this.y=ut,this.setDims(n*V,r*rt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new tp(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Fo.initialize(Ae._l10n),this.#n=new Fo(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#G();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),C3(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new jp({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#w.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#_(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#w(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;const o=this.#R(this.rotation),c=(B,j)=>[o[0]*B+o[2]*j,o[1]*B+o[3]*j],[u,d]=this.parentDimensions,f=this.x,p=this.y,m=this.width,b=this.height,x=Ae.MIN_SIZE/u,y=Ae.MIN_SIZE/d;s=Math.max(Math.min(s,1/m,1/b),x/m,y/b);const E=Ae._round(m*s),S=Ae._round(b*s);if(E===m&&S===b)return;this.#l||=[f,p,m,b];const L=c(m/2,b/2),T=Ae._round(f+L[0]),O=Ae._round(p+L[1]),P=c(E/2,S/2);this.x=T-P[0],this.y=O-P[1],this.width=E,this.height=S,this.setDims(u*E,d*S),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#O()}pointerdown(t){const{isMac:e}=fr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#H(t);return}this.#F(t)}#F(t){const{isMac:e}=fr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#H(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},c=d=>{r.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(d),n&&this._onStopDragging()};e&&(this.#b=t.clientX,this.#y=t.clientY,this.#s=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=d;if(m!==this.#s){Ni(d);return}const[b,x]=this.screenToPageTranslation(f-this.#b,p-this.#y);this.#b=f,this.#y=p,this._uiManager.dragSelectedEditors(b,x)},o),window.addEventListener("touchmove",Ni,o),window.addEventListener("pointerdown",d=>{d.pointerType===this.#r&&(this.#A||d.isPrimary)&&c(d),Ni(d)},o));const u=d=>{if(!this.#s||this.#s===d.pointerId){c(d);return}Ni(d)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/r,f=e/r,p=this.x*s,m=this.y*o,b=this.width*s,x=this.height*o;switch(n){case 0:return[p+d+c,o-m-f-x+u,p+d+b+c,o-m-f+u];case 90:return[p+f+c,o-m+d+u,p+f+x+c,o-m+d+b+u];case 180:return[p-d-b+c,o-m+f+u,p-d+c,o-m+f+x+u];case 270:return[p-f-x+c,o-m-d-b+u,p-f+c,o-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,s,o]=t,c=s-n,u=o-r;switch(this.rotation){case 0:return[n,e-o,c,u];case 90:return[n,e-r,u,c];case 180:return[s,e-r,c,u];case 270:return[s,e-o,u,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&r>0&&t<s&&n>0}#G(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#G()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){kn("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[s,o]=r.pageDimensions,[c,u,d,f]=r.getRectInCurrentCoords(t.rect,o);return r.x=c/s,r.y=u/o,r.width=d/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#q(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#N(),this.#a.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#a.children;if(!this.#e){this.#e=Array.from(e);const o=this.#V.bind(this),c=this.#U.bind(this),u=this._uiManager._signal;for(const d of this.#e){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",this.#k.bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",Ae._l10nResizer[f])}}const n=this.#e[0];let r=0;for(const o of e){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#a.append(this.#a.firstChild);else if(s>r)for(let c=0;c<s-r;c++)this.#a.firstChild.before(this.#a.lastChild);let o=0;for(const c of e){const d=this.#e[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ae._l10nResizer[d])}}this.#D(0),this.#g=!0,this.#a.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){Ae._resizerKeyboardManager.exec(this,t)}#U(t){this.#g&&t.relatedTarget?.parentNode!==this.#a&&this.#q()}#k(t){this.#u=this.#g?t:""}#D(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#z(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#q(){this.#g=!1,this.#D(-1),this.#O()}_stopResizingWithKeyboard(){this.#q(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:n}=t;let r=this.#x.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},Ae._telemetryTimeout),this.#x.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class p7 extends Ae{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Bx=3285377520,ia=4294901760,Do=65535;class N3{constructor(t){this.h1=t?t&4294967295:Bx,this.h2=t?t&4294967295:Bx}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let y=0,E=t.length;y<E;y++){const S=t.charCodeAt(y);S<=255?e[n++]=S:(e[n++]=S>>>8,e[n++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(e.buffer,0,r);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,m=461845907,b=p&Do,x=m&Do;for(let y=0;y<r;y++)y&1?(c=o[y],c=c*p&ia|c*b&Do,c=c<<15|c>>>17,c=c*m&ia|c*x&Do,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[y],u=u*p&ia|u*b&Do,u=u<<15|u>>>17,u=u*m&ia|u*x&Do,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*p&ia|c*b&Do,c=c<<15|c>>>17,c=c*m&ia|c*x&Do,r&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ia|t*36045&Do,e=e*4283543511&ia|((e<<16|t>>>16)*2950163797&ia)>>>16,t^=e>>>1,t=t*444984403&ia|t*60499&Do,e=e*3301882366&ia|((e<<16|t>>>16)*3120437893&ia)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const ub=Object.freeze({map:null,hash:"",transfer:void 0});class Dy{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof Ae)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(e))n[s]!==o&&(r=!0,n[s]=o);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof Ae&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new R3(this)}get serializable(){if(this.#n.size===0)return ub;const t=new Map,e=new N3,n=[],r=Object.create(null);let s=!1;for(const[o,c]of this.#n){const u=c instanceof Ae?c.serialize(!1,r):c;u&&(t.set(o,u),e.update(`${o}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:ub}get editorStats(){let t=null;const e=new Map;for(const n of this.#n.values()){if(!(n instanceof Ae))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const o=t[s]||=new Map;for(const[c,u]of Object.entries(r)){if(c==="type")continue;let d=o.get(c);d||(d=new Map,o.set(c,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof Ae)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class R3 extends Dy{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#t={map:s,hash:n,transfer:r}}get print(){kn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return nn(this,"modifiedIds",{ids:new Set,hash:""})}}class g7{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(qi(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=t,c=new FontFace(r,s,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),n?.(t)}catch{Ue(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}kn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ue(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return nn(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return nn(this,"isSyncFontLoadingSupported",Kr||fr.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(qi(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nn(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(O,P){return O.charCodeAt(P)<<24|O.charCodeAt(P+1)<<16|O.charCodeAt(P+2)<<8|O.charCodeAt(P+3)&255}function r(O,P,B,j){const I=O.substring(0,P),tt=O.substring(P+B);return I+j+tt}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(O,P){if(++d>30){Ue("Load test font never loaded."),P();return}if(u.font="30px "+O,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(f.bind(null,O,P))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,p.length,p);const x=16,y=1482184792;let E=n(m,x);for(s=0,o=p.length-3;s<o;s+=4)E=E-y+n(p,s)|0;s<p.length&&(E=E-y+n(p+"XXX",s)|0),m=r(m,x,4,i7(E));const S=`url(data:font/opentype;base64,${btoa(m)});`,L=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(L);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const O of[t.loadedName,p]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=O,T.append(P)}this._document.body.append(T),f(p,()=>{T.remove(),e.complete()})}}class m7{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${A3(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(o){Ue(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}}function v7(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Kr)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function b7(i){if(Kr&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Pp(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Jg(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const hb=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,y7=i=>typeof i=="object"&&typeof i?.name=="string",L3=o7.bind(null,hb,y7);class w7{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const tm={DATA:1,ERROR:2},zi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function zx(){}function hs(i){if(i instanceof Fl||i instanceof Bm||i instanceof jx||i instanceof hp||i instanceof uv)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||kn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Fl(i.message);case"InvalidPDFException":return new Bm(i.message);case"PasswordException":return new jx(i.message,i.code);case"ResponseException":return new hp(i.message,i.status,i.missing);case"UnknownErrorException":return new uv(i.message,i.details)}return new uv(i.message,i.toString())}class Xf{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===tm.DATA)r.resolve(t.data);else if(t.callback===tm.ERROR)r.reject(hs(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:tm.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:tm.ERROR,callbackId:t.callbackId,reason:hs(o)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,n,r){const s=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:t,streamId:s,data:e,desiredSize:d.desiredSize},r),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:zi.PULL,streamId:s,desiredSize:d.desiredSize}),f.promise},cancel:d=>{qi(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:zi.CANCEL,streamId:s,reason:hs(d)}),f.promise}},n)}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:zi.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:zi.CLOSE,streamId:e}),delete o.streamSinks[e])},error(d){qi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:zi.ERROR,streamId:e,reason:hs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:zi.START_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:zi.START_COMPLETE,streamId:e,reason:hs(d)})})}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case zi.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(hs(t.reason));break;case zi.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(hs(t.reason));break;case zi.PULL:if(!c){s.postMessage({sourceName:n,targetName:r,stream:zi.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||zx).then(function(){s.postMessage({sourceName:n,targetName:r,stream:zi.PULL_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:zi.PULL_COMPLETE,streamId:e,reason:hs(d)})});break;case zi.ENQUEUE:if(qi(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case zi.CLOSE:if(qi(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,e);break;case zi.ERROR:qi(o,"error should have stream controller"),o.controller.error(hs(t.reason)),this.#s(o,e);break;case zi.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(hs(t.reason)),this.#s(o,e);break;case zi.CANCEL:if(!c)break;const u=hs(t.reason);Promise.try(c.onCancel||zx,u).then(function(){s.postMessage({sourceName:n,targetName:r,stream:zi.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:zi.CANCEL_COMPLETE,streamId:e,reason:hs(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class T3{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){kn("Abstract method `_createCanvas` called.")}}class x7 extends T3{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class M3{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){kn("Abstract method `_fetch` called.")}}class Ux extends M3{async _fetch(t){const e=await Ud(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Pp(e)}}class P3{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,s){return"none"}destroy(t=!1){}}class A7 extends P3{#t;#e;#n;#i;#s;#r;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#s=e}get#a(){return this.#e||=new Map}get#h(){return this.#r||=new Map}get#c(){if(!this.#n){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#s.createElementNS(Pl,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Pl,"defs"),t.append(n),n.append(this.#n),this.#s.body.append(t)}return this.#n}#d(t){if(t.length===1){const u=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=u[p]/255;const f=d.join(",");return[f,f,f]}const[e,n,r]=t,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=e[u]/255,o[u]=n[u]/255,c[u]=r[u]/255;return[s.join(","),o.join(","),c.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(kp(e)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Ry(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;const[n,r,s]=this.#d(t),o=t.length===1?n:`${n}${r}${s}`;if(e=this.#a.get(o),e)return this.#a.set(t,e),e;const c=`g_${this.#i}_transfer_map_${this.#o++}`,u=this.#u(c);this.#a.set(t,u),this.#a.set(o,u);const d=this.#p(c);return this.#g(n,r,s,d),u}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let s=this.#h.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#h.set(r,s)),!t||!e))return s.url;const o=this.#b(t);t=ye.makeHexColor(...o);const c=this.#b(e);if(e=ye.makeHexColor(...c),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;const u=new Array(256);for(let b=0;b<=255;b++){const x=b/255;u[b]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=u.join(","),f=`g_${this.#i}_hcm_filter`,p=s.filter=this.#p(f);this.#g(d,d,d,p),this.#l(p);const m=(b,x)=>{const y=o[b]/255,E=c[b]/255,S=new Array(x+1);for(let L=0;L<=x;L++)S[L]=y+L/x*(E-y);return S.join(",")};return this.#g(m(0,5),m(1,5),m(2,5),p),s.url=this.#u(f),s.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#a.get(r),e)return this.#a.set(t,e),e;const s=`g_${this.#i}_alpha_map_${this.#o++}`,o=this.#u(s);this.#a.set(t,o),this.#a.set(r,o);const c=this.#p(s);return this.#v(n,c),o}addLuminosityFilter(t){let e=this.#a.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#a.get(r),e)return this.#a.set(t,e),e;const s=`g_${this.#i}_luminosity_map_${this.#o++}`,o=this.#u(s);this.#a.set(t,o),this.#a.set(r,o);const c=this.#p(s);return this.#f(c),t&&this.#v(n,c),o}addHighlightHCMFilter(t,e,n,r,s){const o=`${e}-${n}-${r}-${s}`;let c=this.#h.get(t);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#h.set(t,c)),!e||!n))return c.url;const[u,d]=[e,n].map(this.#b.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,b]=[r,s].map(this.#b.bind(this));p<f&&([f,p,m,b]=[p,f,b,m]),this.#c.style.color="";const x=(S,L,T)=>{const O=new Array(256),P=(p-f)/T,B=S/255,j=(L-S)/(255*T);let I=0;for(let tt=0;tt<=T;tt++){const ct=Math.round(f+tt*P),z=B+tt*j;for(let V=I;V<=ct;V++)O[V]=z;I=ct+1}for(let tt=I;tt<256;tt++)O[tt]=O[I-1];return O.join(",")},y=`g_${this.#i}_hcm_${t}_filter`,E=c.filter=this.#p(y);return this.#l(E),this.#g(x(m[0],b[0],5),x(m[1],b[1],5),x(m[2],b[2],5),E),c.url=this.#u(y),c.url}destroy(t=!1){t&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#r?.clear(),this.#r=null,this.#o=0)}#f(t){const e=this.#s.createElementNS(Pl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#l(t){const e=this.#s.createElementNS(Pl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(Pl,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,n){const r=this.#s.createElementNS(Pl,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,e,n,r){const s=this.#s.createElementNS(Pl,"feComponentTransfer");r.append(s),this.#m(s,"feFuncR",t),this.#m(s,"feFuncG",e),this.#m(s,"feFuncB",n)}#v(t,e){const n=this.#s.createElementNS(Pl,"feComponentTransfer");e.append(n),this.#m(n,"feFuncA",t)}#b(t){return this.#c.style.color=t,Py(getComputedStyle(this.#c).getPropertyValue("color"))}}class O3{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){kn("Abstract method `_fetch` called.")}}class qx extends O3{async _fetch(t){const e=await Ud(t,"arraybuffer");return new Uint8Array(e)}}class k3{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){kn("Abstract method `_fetch` called.")}}class Hx extends k3{async _fetch(t){const e=await Ud(t,"arraybuffer");return new Uint8Array(e)}}Kr&&Ue("Please use the `legacy` build in Node.js environments.");async function jy(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class S7 extends P3{}class E7 extends T3{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class _7 extends M3{async _fetch(t){return jy(t)}}class C7 extends O3{async _fetch(t){return jy(t)}}class N7 extends k3{async _fetch(t){return jy(t)}}const Ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function db(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}class Iy{isModifyingCurrentTransform(){return!1}getPattern(){kn("Abstract method `getPattern` called.")}}class R7 extends Iy{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let s;if(r===Ar.STROKE||r===Ar.FILL){const o=e.current.getClippedPathBoundingBox(r,hi(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=ye.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),db(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else db(t,this._bbox),s=this._createGradient(t);return s}}function fv(i,t,e,n,r,s,o,c){const u=t.coords,d=t.colors,f=i.data,p=i.width*4;let m;u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=s,s=o,o=m),u[n+1]>u[r+1]&&(m=n,n=r,r=m,m=o,o=c,c=m),u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=s,s=o,o=m);const b=(u[e]+t.offsetX)*t.scaleX,x=(u[e+1]+t.offsetY)*t.scaleY,y=(u[n]+t.offsetX)*t.scaleX,E=(u[n+1]+t.offsetY)*t.scaleY,S=(u[r]+t.offsetX)*t.scaleX,L=(u[r+1]+t.offsetY)*t.scaleY;if(x>=L)return;const T=d[s],O=d[s+1],P=d[s+2],B=d[o],j=d[o+1],I=d[o+2],tt=d[c],ct=d[c+1],z=d[c+2],V=Math.round(x),rt=Math.round(L);let nt,ut,H,et,Z,gt,Y,dt;for(let D=V;D<=rt;D++){if(D<E){const ft=D<x?0:(x-D)/(x-E);nt=b-(b-y)*ft,ut=T-(T-B)*ft,H=O-(O-j)*ft,et=P-(P-I)*ft}else{let ft;D>L?ft=1:E===L?ft=0:ft=(E-D)/(E-L),nt=y-(y-S)*ft,ut=B-(B-tt)*ft,H=j-(j-ct)*ft,et=I-(I-z)*ft}let G;D<x?G=0:D>L?G=1:G=(x-D)/(x-L),Z=b-(b-S)*G,gt=T-(T-tt)*G,Y=O-(O-ct)*G,dt=P-(P-z)*G;const Q=Math.round(Math.min(nt,Z)),st=Math.round(Math.max(nt,Z));let at=p*D+Q*4;for(let ft=Q;ft<=st;ft++)G=(nt-ft)/(nt-Z),G<0?G=0:G>1&&(G=1),f[at++]=ut-(ut-gt)*G|0,f[at++]=H-(H-Y)*G|0,f[at++]=et-(et-dt)*G|0,f[at++]=255}}function L7(i,t,e){const n=t.coords,r=t.colors;let s,o;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(n.length/c)-1,d=c-1;for(s=0;s<u;s++){let f=s*c;for(let p=0;p<d;p++,f++)fv(i,e,n[f],n[f+1],n[f+c],r[f],r[f+1],r[f+c]),fv(i,e,n[f+c+1],n[f+1],n[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)fv(i,e,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class T7 extends Iy{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),b=d/p,x=f/m,y={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/b,scaleY:1/x},E=p+2*2,S=m+2*2,L=n.getCanvas("mesh",E,S),T=L.context,O=T.createImageData(p,m);if(e){const B=O.data;for(let j=0,I=B.length;j<I;j+=4)B[j]=e[0],B[j+1]=e[1],B[j+2]=e[2],B[j+3]=255}for(const B of this._figures)L7(O,B,y);return T.putImageData(O,2,2),{canvas:L.canvas,offsetX:c-2*b,offsetY:u-2*x,scaleX:b,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){db(t,this._bbox);const s=new Float32Array(2);if(r===Ar.SHADING)ye.singularValueDecompose2dScale(hi(t),s);else if(this.matrix){ye.singularValueDecompose2dScale(this.matrix,s);const[c,u]=s;ye.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=c,s[1]*=u}else ye.singularValueDecompose2dScale(e.baseTransform,s);const o=this._createMeshCanvas(s,r===Ar.SHADING?null:this._background,e.cachedCanvases);return r!==Ar.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class M7 extends Iy{getPattern(){return"hotpink"}}function P7(i){switch(i[0]){case"RadialAxial":return new R7(i);case"Mesh":return new T7(i);case"Dummy":return new M7}throw new Error(`Unknown IR type: ${i[0]}`)}const Gx={COLORED:1,UNCOLORED:2};class Fy{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),v0("TilingType: "+s);const f=e[0],p=e[1],m=e[2],b=e[3],x=m-f,y=b-p,E=new Float32Array(2);ye.singularValueDecompose2dScale(this.matrix,E);const[S,L]=E;ye.singularValueDecompose2dScale(this.baseTransform,E);const T=S*E[0],O=L*E[1];let P=x,B=y,j=!1,I=!1;const tt=Math.ceil(u*T),ct=Math.ceil(d*O),z=Math.ceil(x*T),V=Math.ceil(y*O);tt>=z?P=u:j=!0,ct>=V?B=d:I=!0;const rt=this.getSizeAndScale(P,this.ctx.canvas.width,T),nt=this.getSizeAndScale(B,this.ctx.canvas.height,O),ut=t.cachedCanvases.getCanvas("pattern",rt.size,nt.size),H=ut.context,et=c.createCanvasGraphics(H);if(et.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(et,r,o),H.translate(-rt.scale*f,-nt.scale*p),et.transform(rt.scale,0,0,nt.scale,0,0),H.save(),this.clipBbox(et,f,p,m,b),et.baseTransform=hi(et.ctx),et.executeOperatorList(n),et.endDrawing(),H.restore(),j||I){const Z=ut.canvas;j&&(P=u),I&&(B=d);const gt=this.getSizeAndScale(P,this.ctx.canvas.width,T),Y=this.getSizeAndScale(B,this.ctx.canvas.height,O),dt=gt.size,D=Y.size,G=t.cachedCanvases.getCanvas("pattern-workaround",dt,D),Q=G.context,st=j?Math.floor(x/u):0,at=I?Math.floor(y/d):0;for(let ft=0;ft<=st;ft++)for(let wt=0;wt<=at;wt++)Q.drawImage(Z,dt*ft,D*wt,dt,D,0,0,dt,D);return{canvas:G.canvas,scaleX:gt.scale,scaleY:Y.scale,offsetX:f,offsetY:p}}return{canvas:ut.canvas,scaleX:rt.scale,scaleY:nt.scale,offsetX:f,offsetY:p}}getSizeAndScale(t,e,n){const r=Math.max(Fy.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=r?s=r:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,r,s){const o=r-e,c=s-n;t.ctx.rect(e,n,o,c),ye.axialAlignedBoundingBox([e,n,r,s],hi(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,s=t.current;switch(e){case Gx.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=c;break;case Gx.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new n7(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let s=n;r!==Ar.SHADING&&(s=ye.transform(s,e.baseTransform),this.matrix&&(s=ye.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let c=new DOMMatrix(s);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const u=t.createPattern(o.canvas,"repeat");return u.setTransform(c),u}}function O7({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=fr.isLittleEndian?4278190080:255,[u,d]=o?[s,c]:[c,s],f=n>>3,p=n&7,m=i.length;e=new Uint32Array(e.buffer);let b=0;for(let x=0;x<r;x++){for(const E=t+f;t<E;t++){const S=t<m?i[t]:255;e[b++]=S&128?d:u,e[b++]=S&64?d:u,e[b++]=S&32?d:u,e[b++]=S&16?d:u,e[b++]=S&8?d:u,e[b++]=S&4?d:u,e[b++]=S&2?d:u,e[b++]=S&1?d:u}if(p===0)continue;const y=t<m?i[t++]:255;for(let E=0;E<p;E++)e[b++]=y&1<<7-E?d:u}return{srcPos:t,destPos:b}}const Vx=16,$x=100,k7=15,Wx=10,ps=16,pv=new DOMMatrix,js=new Float32Array(2),ld=new Float32Array([1/0,1/0,-1/0,-1/0]);function D7(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,r,s,o,c){t.transform(e,n,r,s,o,c),this.__originalTransform(e,n,r,s,o,c)},i.setTransform=function(e,n,r,s,o,c){t.setTransform(e,n,r,s,o,c),this.__originalSetTransform(e,n,r,s,o,c)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,s,o,c){t.bezierCurveTo(e,n,r,s,o,c),this.__originalBezierCurveTo(e,n,r,s,o,c)},i.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class j7{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function em(i,t,e,n,r,s,o,c,u,d){const[f,p,m,b,x,y]=hi(i);if(p===0&&m===0){const L=o*f+x,T=Math.round(L),O=c*b+y,P=Math.round(O),B=(o+u)*f+x,j=Math.abs(Math.round(B)-T)||1,I=(c+d)*b+y,tt=Math.abs(Math.round(I)-P)||1;return i.setTransform(Math.sign(f),0,0,Math.sign(b),T,P),i.drawImage(t,e,n,r,s,0,0,j,tt),i.setTransform(f,p,m,b,x,y),[j,tt]}if(f===0&&b===0){const L=c*m+x,T=Math.round(L),O=o*p+y,P=Math.round(O),B=(c+d)*m+x,j=Math.abs(Math.round(B)-T)||1,I=(o+u)*p+y,tt=Math.abs(Math.round(I)-P)||1;return i.setTransform(0,Math.sign(p),Math.sign(m),0,T,P),i.drawImage(t,e,n,r,s,0,0,tt,j),i.setTransform(f,p,m,b,x,y),[tt,j]}i.drawImage(t,e,n,r,s,o,c,u,d);const E=Math.hypot(f,p),S=Math.hypot(m,b);return[E*u,S*d]}class Yx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=cb;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ir.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=ld.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ar.FILL,e=null){const n=this.minMax.slice();if(t===Ar.STROKE){e||kn("Stroke bounding box must include transform."),ye.singularValueDecompose2dScale(e,js);const r=js[0]*this.lineWidth/2,s=js[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const t=ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ld,0)}getClippedPathBoundingBox(t=Ar.FILL,e=null){return ye.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Xx(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%ps,s=(e-r)/ps,o=r===0?s:s+1,c=i.createImageData(n,ps);let u=0,d;const f=t.data,p=c.data;let m,b,x,y;if(t.kind===Jf.GRAYSCALE_1BPP){const E=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),L=S.length,T=n+7>>3,O=4294967295,P=fr.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(x=m<s?ps:r,d=0,b=0;b<x;b++){const B=E-u;let j=0;const I=B>T?n:B*8-7,tt=I&-8;let ct=0,z=0;for(;j<tt;j+=8)z=f[u++],S[d++]=z&128?O:P,S[d++]=z&64?O:P,S[d++]=z&32?O:P,S[d++]=z&16?O:P,S[d++]=z&8?O:P,S[d++]=z&4?O:P,S[d++]=z&2?O:P,S[d++]=z&1?O:P;for(;j<I;j++)ct===0&&(z=f[u++],ct=128),S[d++]=z&ct?O:P,ct>>=1}for(;d<L;)S[d++]=0;i.putImageData(c,0,m*ps)}}else if(t.kind===Jf.RGBA_32BPP){for(b=0,y=n*ps*4,m=0;m<s;m++)p.set(f.subarray(u,u+y)),u+=y,i.putImageData(c,0,b),b+=ps;m<o&&(y=n*r*4,p.set(f.subarray(u,u+y)),i.putImageData(c,0,b))}else if(t.kind===Jf.RGB_24BPP)for(x=ps,y=n*x,m=0;m<o;m++){for(m>=s&&(x=r,y=n*x),d=0,b=y;b--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;i.putImageData(c,0,m*ps)}else throw new Error(`bad image kind: ${t.kind}`)}function Kx(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%ps,s=(e-r)/ps,o=r===0?s:s+1,c=i.createImageData(n,ps);let u=0;const d=t.data,f=c.data;for(let p=0;p<o;p++){const m=p<s?ps:r;({srcPos:u}=O7({src:d,srcPos:u,dest:f,width:n,height:m,nonBlackColor:0})),i.putImageData(c,0,p*ps)}}function qf(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function nm(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function Qx(i,t){if(t)return!0;ye.singularValueDecompose2dScale(i,js);const e=Math.fround(Ga.pixelRatio*nh.PDF_TO_CSS_UNITS);return js[0]<=e&&js[1]<=e}const I7=["butt","round","square"],F7=["miter","round","bevel"],B7={},Zx={};class gd{constructor(t,e,n,r,s,{optionalContentConfig:o,markedContentStack:c=null},u,d){this.ctx=t,this.current=new Yx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new j7(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...hi(this.compositeCtx))}this.ctx.save(),nm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=hi(this.ctx)}executeOperatorList(t,e,n,r){const s=t.argsArray,o=t.fnArray;let c=e||0;const u=s.length;if(u===c)return c;const d=u-c>Wx&&typeof n=="function",f=d?Date.now()+k7:0;let p=0;const m=this.commonObjs,b=this.objs;let x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(x=o[c],x!==up.dependency)this[x].apply(this,s[c]);else for(const y of s[c]){const E=y.startsWith("g_")?m:b;if(!E.has(y))return E.get(y,n),c}if(c++,c===u)return c;if(d&&++p>Wx){if(Date.now()>f)return n(),c;p=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=n,u=r,d="prescale1",f,p;for(;s>2&&c>1||o>2&&u>1;){let m=c,b=u;s>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/m),o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/b),f=this.cachedCanvases.getCanvas(d,m,b),p=f.context,p.clearRect(0,0,m,b),p.drawImage(t,0,0,c,u,0,0,m,b),t=f.canvas,c=m,u=b,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,c=hi(e);let u,d,f,p;if((t.bitmap||t.data)&&t.count>1){const tt=t.bitmap||t.data.buffer;d=JSON.stringify(o?c:[c.slice(0,4),s]),u=this._cachedBitmapsMap.get(tt),u||(u=new Map,this._cachedBitmapsMap.set(tt,u));const ct=u.get(d);if(ct&&!o){const z=Math.round(Math.min(c[0],c[2])+c[4]),V=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:ct,offsetX:z,offsetY:V}}f=ct}f||(p=this.cachedCanvases.getCanvas("maskCanvas",n,r),Kx(p.context,t));let m=ye.transform(c,[1/n,0,0,-1/r,0,0]);m=ye.transform(m,[1,0,0,1,0,-r]);const b=ld.slice();ye.axialAlignedBoundingBox([0,0,n,r],m,b);const[x,y,E,S]=b,L=Math.round(E-x)||1,T=Math.round(S-y)||1,O=this.cachedCanvases.getCanvas("fillCanvas",L,T),P=O.context,B=x,j=y;P.translate(-B,-j),P.transform(...m),f||(f=this._scaleImage(p.canvas,ko(P)),f=f.img,u&&o&&u.set(d,f)),P.imageSmoothingEnabled=Qx(hi(P),t.interpolate),em(P,f,0,0,f.width,f.height,0,0,n,r),P.globalCompositeOperation="source-in";const I=ye.transform(ko(P),[1,0,0,1,-B,-j]);return P.fillStyle=o?s.getPattern(e,this,I,Ar.FILL):s,P.fillRect(0,0,n,r),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,O.canvas)),{canvas:O.canvas,offsetX:Math.round(B),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=I7[t]}setLineJoin(t){this.ctx.lineJoin=F7[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),qf(this.suspendedCtx,s),D7(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const s=r[0],o=r[1],c=r[2]-s,u=r[3]-o;c===0||u===0||(this.genericComposeSMask(e.context,n,c,u,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,s,o,c,u,d,f,p){let m=t.canvas,b=u-f,x=d-p;if(o)if(b<0||x<0||b+n>m.width||x+r>m.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),S=E.context;S.drawImage(m,-b,-x),S.globalCompositeOperation="destination-atop",S.fillStyle=o,S.fillRect(0,0,n,r),S.globalCompositeOperation="source-over",m=E.canvas,b=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,x,n,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(b,x,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const y=new Path2D;y.rect(u,d,n,r),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(m,b,x,n,r,u,d,n,r),e.restore()}save(){this.inSMaskMode&&qf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&qf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,s,o){this.ctx.transform(t,e,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const s=e[0]=new Path2D;for(let o=0,c=r.length;o<c;)switch(r[o++]){case Zg.moveTo:s.moveTo(r[o++],r[o++]);break;case Zg.lineTo:s.lineTo(r[o++],r[o++]);break;case Zg.curveTo:s.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case Zg.closePath:s.closePath();break;default:Ue(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=s}ye.axialAlignedBoundingBox(n,hi(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const s=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,ko(n),Ar.STROKE),s){const o=new Path2D;o.addPath(t,n.getTransform().invertSelf().multiplySelf(s)),t=o}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ar.STROKE,hi(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const u=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,ko(n),Ar.FILL),u){const d=new Path2D;d.addPath(t,n.getTransform().invertSelf().multiplySelf(u)),t=d}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),o&&n.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=B7}eoClip(){this.pendingClip=Zx}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:s,x:o,y:c,fontSize:u,path:d}of t)n.addPath(d,new DOMMatrix(s).preMultiplySelf(r).translate(o,c).scale(u,-u));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||cb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const u=n.italic?"italic":"normal";let d=e;e<Vx?d=Vx:e>$x&&(d=$x),this.current.fontSizeScale=e/d,this.ctx.font=`${u} ${c} ${d}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,s){const o=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,p=d&Ir.FILL_STROKE_MASK,m=!!(d&Ir.ADD_TO_PATH_FLAG),b=c.patternFill&&!u.missingFile,x=c.patternStroke&&!u.missingFile;let y;if((u.disableFontFace||m||b||x)&&(y=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||b||x){o.save(),o.translate(e,n),o.scale(f,-f);let E;if((p===Ir.FILL||p===Ir.FILL_STROKE)&&(r?(E=o.getTransform(),o.setTransform(...r),o.fill(this.#n(y,E,r))):o.fill(y)),p===Ir.STROKE||p===Ir.FILL_STROKE)if(s){E||=o.getTransform(),o.setTransform(...s);const{a:S,b:L,c:T,d:O}=E,P=ye.inverseTransform(s),B=ye.transform([S,L,T,O,0,0],P);ye.singularValueDecompose2dScale(B,js),o.lineWidth*=Math.max(js[0],js[1])/f,o.stroke(this.#n(y,E,s))}else o.lineWidth/=f,o.stroke(y);o.restore()}else(p===Ir.FILL||p===Ir.FILL_STROKE)&&o.fillText(t,e,n),(p===Ir.STROKE||p===Ir.FILL_STROKE)&&o.strokeText(t,e,n);m&&(this.pendingTextPaths||=[]).push({transform:hi(o),x:e,y:n,fontSize:f,path:y})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return nn(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,o=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,d=e.fontDirection,f=e.textHScale*d,p=t.length,m=n.vertical,b=m?1:-1,x=n.defaultVMetrics,y=r*e.fontMatrix[0],E=e.textRenderingMode===Ir.FILL&&!n.disableFontFace&&!e.patternFill;s.save(),e.textMatrix&&s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),d>0?s.scale(f,-1):s.scale(f,1);let S,L;if(e.patternFill){s.save();const j=e.fillColor.getPattern(s,this,ko(s),Ar.FILL);S=hi(s),s.restore(),s.fillStyle=j}if(e.patternStroke){s.save();const j=e.strokeColor.getPattern(s,this,ko(s),Ar.STROKE);L=hi(s),s.restore(),s.strokeStyle=j}let T=e.lineWidth;const O=e.textMatrixScale;if(O===0||T===0){const j=e.textRenderingMode&Ir.FILL_STROKE_MASK;(j===Ir.STROKE||j===Ir.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=O;if(o!==1&&(s.scale(o,o),T/=o),s.lineWidth=T,n.isInvalidPDFjsFont){const j=[];let I=0;for(const tt of t)j.push(tt.unicode),I+=tt.width;s.fillText(j.join(""),0,0),e.x+=I*y*f,s.restore(),this.compose();return}let P=0,B;for(B=0;B<p;++B){const j=t[B];if(typeof j=="number"){P+=b*j*r/1e3;continue}let I=!1;const tt=(j.isSpace?u:0)+c,ct=j.fontChar,z=j.accent;let V,rt,nt=j.width;if(m){const H=j.vmetric||x,et=-(j.vmetric?H[1]:nt*.5)*y,Z=H[2]*y;nt=H?-H[0]:nt,V=et/o,rt=(P+Z)/o}else V=P/o,rt=0;if(n.remeasure&&nt>0){const H=s.measureText(ct).width*1e3/r*o;if(nt<H&&this.isFontSubpixelAAEnabled){const et=nt/H;I=!0,s.save(),s.scale(et,1),V/=et}else nt!==H&&(V+=(nt-H)/2e3*r/o)}if(this.contentVisible&&(j.isInFont||n.missingFile)){if(E&&!z)s.fillText(ct,V,rt);else if(this.paintChar(ct,V,rt,S,L),z){const H=V+r*z.offset.x/o,et=rt-r*z.offset.y/o;this.paintChar(z.fontChar,H,et,S,L)}}const ut=m?nt*y-tt*d:nt*y+tt*d;P+=ut,I&&s.restore()}m?e.y-=P:e.x+=P*f,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,c=r.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,f=n.textHScale*o,p=n.fontMatrix||cb,m=t.length,b=n.textRenderingMode===Ir.INVISIBLE;let x,y,E,S;if(!(b||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(f,o),x=0;x<m;++x){if(y=t[x],typeof y=="number"){S=c*y*s/1e3,this.ctx.translate(S,0),n.x+=S*f;continue}const L=(y.isSpace?d:0)+u,T=r.charProcOperatorList[y.operatorListId];T?this.contentVisible&&(this.save(),e.scale(s,s),e.transform(...p),this.executeOperatorList(T),this.restore()):Ue(`Type3 character "${y.operatorListId}" is not available.`);const O=[y.width,0];ye.applyTransform(O,p),E=O[0]*s+L,e.translate(E,0),n.x+=E*f}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,s,o){const c=new Path2D;c.rect(n,r,s-n,o-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||hi(this.ctx),r={createCanvasGraphics:s=>new gd(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Fy(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=P7(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ko(e),Ar.SHADING);const r=ko(e);if(r){const{width:s,height:o}=e.canvas,c=ld.slice();ye.axialAlignedBoundingBox([0,0,s,o],r,c);const[u,d,f,p]=c;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){kn("Should not call beginInlineImage")}beginImageData(){kn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=hi(this.ctx),e)){ye.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,s,o]=e,c=new Path2D;c.rect(n,r,s-n,o-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||v0("TODO: Support non-isolated groups."),t.knockout&&Ue("Knockout groups not supported.");const n=hi(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ld.slice();ye.axialAlignedBoundingBox(t.bbox,hi(e),r);const s=[0,0,e.canvas.width,e.canvas.height];r=ye.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,u,d),m=p.context;m.translate(-o,-c),m.transform(...n);let b=new Path2D;const[x,y,E,S]=t.bbox;if(b.rect(x,y,E-x,S-y),t.matrix){const L=new Path2D;L.addPath(b,new DOMMatrix(t.matrix)),b=L}m.clip(b),t.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.save()),qf(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=hi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=ld.slice();ye.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,s),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,n,r,s){if(this.#t(),nm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],c=e[3]-e[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=c,ye.singularValueDecompose2dScale(hi(this.ctx),js);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(js[0],0,0,-js[1],0,c*js[1]),nm(this.ctx)}else{nm(this.ctx),this.endPath();const u=new Path2D;u.rect(e[0],e[1],o,c),this.ctx.clip(u)}}this.current=new Yx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const u=hi(c);c.transform(e,n,r,s,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,p=o.length;f<p;f+=2){const m=ye.transform(u,[e,n,r,s,o[f],o[f+1]]);c.drawImage(d.canvas,m[4],m[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:o,width:c,height:u,transform:d}=s,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),p=f.context;p.save();const m=this.getObject(o,s);Kx(p,m),p.globalCompositeOperation="source-in",p.fillStyle=r?n.getPattern(p,this,ko(e),Ar.FILL):n,p.fillRect(0,0,c,u),p.restore(),e.save(),e.transform(...d),e.scale(1,-1),em(e,f.canvas,0,0,c,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){Ue("Dependent image isn't ready yet");return}const o=s.width,c=s.height,u=[];for(let d=0,f=r.length;d<f;d+=2)u.push({transform:[e,0,0,n,r[d],r[d+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/e,-1/n);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,n).context;Xx(d,t),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,ko(r));r.imageSmoothingEnabled=Qx(hi(r),t.interpolate),em(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,o=t.height,u=this.cachedCanvases.getCanvas("inlineImage",s,o).context;Xx(u,t),r=this.applyTransferMapsToCanvas(u)}for(const s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),em(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===Zx?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=hi(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:s}=this.ctx.getTransform();let o,c;if(n===0&&r===0){const u=Math.abs(e),d=Math.abs(s);if(u===d)if(t===0)o=c=1/u;else{const f=u*t;o=c=f<1?1/f:1}else if(t===0)o=1/u,c=1/d;else{const f=u*t,p=d*t;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(e*s-n*r),d=Math.hypot(e,n),f=Math.hypot(r,s);if(t===0)o=f/u,c=d/u;else{const p=t*u;o=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){n.lineWidth=(r||1)*s,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(s,o),pv.a=1/s,pv.d=1/o;const u=new Path2D;if(u.addPath(t,pv),c.length>0){const d=Math.max(s,o);n.setLineDash(c.map(f=>f/d)),n.lineDashOffset/=d}n.lineWidth=r||1,n.stroke(u),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in up)gd.prototype[i]!==void 0&&(gd.prototype[up[i]]=gd.prototype[i]);class Wo{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class z7{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const id=Symbol("INTERNAL");class U7{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:s}){this.#t=!!(t&ks.DISPLAY),this.#e=!!(t&ks.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==id&&kn("Internal method `_setVisible` called."),this.#n=n,this.#i=e}}class q7{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=ks.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const n of t.groups)this.#e.set(n.id,new U7(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(id,!1);for(const n of t.on)this.#e.get(n)._setVisible(id,!0);for(const n of t.off)this.#e.get(n)._setVisible(id,!1);this.#n=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const s=t[r];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#e.has(s))o=this.#e.get(s).visible;else return Ue(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return v0("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ue(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Ue(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Ue(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Ue(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Ue(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Ue(`Unknown optional content policy ${t.policy}.`),!0}return Ue(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){Ue(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==t&&this.#e.get(o)?._setVisible(id,!1,!0);r._setVisible(id,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#e.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new N3;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class H7{constructor(t,{disableRange:e=!1,disableStream:n=!1}){qi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,s?.length>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});qi(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){qi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new G7(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new V7(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class G7{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=y0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V7{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function $7(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),s(f)}if(e=o(i),e){const f=d(e);return s(f)}if(e=n("filename","i").exec(i),e){e=e[1];let f=c(e);return f=d(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),b=Pp(p);p=m.decode(b),t=!1}catch{}}return p}function s(f){return t&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),t&&(f=r("iso-8859-1",f))),f}function o(f){const p=[];let m;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=b.exec(f))!==null;){let[,y,E,S]=m;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[E,S]}const x=[];for(let y=0;y<p.length&&y in p;++y){let[E,S]=p[y];S=c(S),E&&(S=unescape(S),y===0&&(S=u(S))),x.push(S)}return x.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const b=p[m].indexOf('"');b!==-1&&(p[m]=p[m].slice(0,b),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return r(m,x)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,b,x){if(b==="q"||b==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,E){return String.fromCharCode(parseInt(E,16))}),r(m,x);try{x=atob(x)}catch{}return r(m,x)})}return""}function D3(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function w0(i){return URL.parse(i)?.origin??null}function j3({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function I3(i){const t=i.get("Content-Disposition");if(t){let e=$7(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(y0(e))return e}return null}function Ip(i,t){return new hp(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function F3(i){return i===200||i===206}function B3(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function z3(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Ue(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class W7{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=D3(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return qi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Y7(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new X7(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Y7{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,B3(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=w0(s.url),!F3(s.status))throw Ip(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:u}=j3({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=I3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:z3(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class X7{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const o=r.url;fetch(o,B3(s,this._withCredentials,this._abortController)).then(c=>{const u=w0(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!F3(c.status))throw Ip(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:z3(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const gv=200,mv=206;function K7(i){const t=i.response;return typeof t!="string"?t:Pp(t).buffer}class Q7{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=D3(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=mv):r.expectedStatus=gv,e.responseType="arraybuffer",qi(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||gv;if(!(s===gv&&n.expectedStatus===mv)&&s!==n.expectedStatus){n.onError(r.status);return}const c=K7(r);if(s===mv){const u=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(Ue('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Z7{constructor(t){this._source=t,this._manager=new Q7(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return qi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new J7(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new tj(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class J7{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=w0(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=j3({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=I3(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ip(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tj{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=w0(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ip(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ej=/^[a-z][a-z0-9\-+.]+:/i;function nj(i){if(ej.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class ij{constructor(t){this.source=t,this.url=nj(t.url),qi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return qi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new rj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new sj(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class rj{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Ip(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sj{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Hf=Symbol("INITIAL_DATA");class U3{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Hf}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Hf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Hf}delete(t){const e=this.#t[t];return!e||e.data===Hf?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Hf&&(yield[t,e])}}}const aj=1e5,Jx=30;let dp=class sa{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#o=0;#a=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#l=[];#p=null;#m=[];#g=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#x=new WeakMap;static#A=null;static#S=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(u){u.enqueue(t),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=n.scale*Ga.pixelRatio,this.#d=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:c}=n.rawDims;this.#v=[1,0,0,-1,-o,c+s],this.#a=r,this.#o=s,sa.#M(),Vc(e,n),this.#t.promise.finally(()=>{sa.#S.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=fr.platform;return nn(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),sa.#S.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Ga.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Vc(this.#c,{rotation:r})),n!==this.#u){e?.(),this.#u=n;const s={div:null,properties:null,ctx:sa.#R(this.#s)};for(const o of this.#m)s.properties=this.#g.get(o),s.div=o,this.#E(s)}}cancel(){const t=new Fl("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#l}#C(t){if(this.#n)return;this.#r.ctx??=sa.#R(this.#s);const e=this.#m,n=this.#l;for(const r of t){if(e.length>aj){Ue("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),s.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#L(r)}}#L(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const r=ye.transform(this.#v,t.transform);let s=Math.atan2(r[1],r[0]);const o=this.#f[t.fontName];o.vertical&&(s+=Math.PI/2);let c=this.#i&&o.fontSubstitution||o.fontFamily;c=sa.fontFamilyMap.get(c)||c;const u=Math.hypot(r[2],r[3]),d=u*sa.#P(c,o,this.#s);let f,p;s===0?(f=r[4],p=r[5]-d):(f=r[4]+d*Math.sin(s),p=r[5]-d*Math.cos(s));const m="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#c?(b.left=`${(100*f/this.#a).toFixed(2)}%`,b.top=`${(100*p/this.#o).toFixed(2)}%`):(b.left=`${m}${f.toFixed(2)}px)`,b.top=`${m}${p.toFixed(2)}px)`),b.fontSize=`${m}${(sa.#A*u).toFixed(2)}px)`,b.fontFamily=c,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);y!==E&&Math.max(y,E)/Math.min(y,E)>1.5&&(x=!0)}if(x&&(n.canvasWidth=o.vertical?t.height:t.width),this.#g.set(e,n),this.#r.div=e,this.#r.properties=n,this.#E(this.#r),n.hasText&&this.#e.append(e),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#E(t){const{div:e,properties:n,ctx:r}=t,{style:s}=e;let o="";if(sa.#A>1&&(o=`scale(${1/sa.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:d}=n;sa.#N(r,d*this.#u,c);const{width:f}=r.measureText(e.textContent);f>0&&(o=`scaleX(${u*this.#u/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#S.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#R(t=null){let e=this.#y.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#N(t,e,n){const r=this.#x.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#M(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#P(t,e,n){const r=this.#b.get(t);if(r)return r;const s=this.#R(n);s.canvas.width=s.canvas.height=Jx,this.#N(s,Jx,t);const o=s.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return c?d=c/(c+u):(fr.platform.isFirefox&&Ue("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#b.set(t,d),d}};class fp{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(s){if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(fp.shouldBuildText(c))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const oj=100;function By(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new zy,{docId:e}=t,n=i.url?v7(i.url):null,r=i.data?b7(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,c=i.password??null,u=i.range instanceof Uy?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let f=i.worker instanceof Cd?i.worker:null;const p=i.verbosity,m=typeof i.docBaseUrl=="string"&&!kp(i.docBaseUrl)?i.docBaseUrl:null,b=Jg(i.cMapUrl),x=i.cMapPacked!==!1,y=i.CMapReaderFactory||(Kr?_7:Ux),E=Jg(i.iccUrl),S=Jg(i.standardFontDataUrl),L=i.StandardFontDataFactory||(Kr?C7:qx),T=Jg(i.wasmUrl),O=i.WasmFactory||(Kr?N7:Hx),P=i.stopAtErrors!==!0,B=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,j=i.isEvalSupported!==!1,I=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Kr,tt=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Kr&&(fr.platform.isFirefox||!globalThis.chrome),ct=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,z=typeof i.disableFontFace=="boolean"?i.disableFontFace:Kr,V=i.fontExtraProperties===!0,rt=i.enableXfa===!0,nt=i.ownerDocument||globalThis.document,ut=i.disableRange===!0,H=i.disableStream===!0,et=i.disableAutoFetch===!0,Z=i.pdfBug===!0,gt=i.CanvasFactory||(Kr?E7:x7),Y=i.FilterFactory||(Kr?S7:A7),dt=i.enableHWA===!0,D=i.useWasm!==!1,G=u?u.length:i.length??NaN,Q=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Kr&&!z,st=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(y===Ux&&L===qx&&O===Hx&&b&&S&&T&&Yf(b,document.baseURI)&&Yf(S,document.baseURI)&&Yf(T,document.baseURI)),at=null;J8(p);const ft={canvasFactory:new gt({ownerDocument:nt,enableHWA:dt}),filterFactory:new Y({docId:e,ownerDocument:nt}),cMapReaderFactory:st?null:new y({baseUrl:b,isCompressed:x}),standardFontDataFactory:st?null:new L({baseUrl:S}),wasmFactory:st?null:new O({baseUrl:T})};f||(f=Cd.create({verbosity:p,port:Wo.workerPort}),t._worker=f);const wt={docId:e,apiVersion:"5.3.31",data:r,password:c,disableAutoFetch:et,rangeChunkSize:d,length:G,docBaseUrl:m,enableXfa:rt,evaluatorOptions:{maxImageSize:B,disableFontFace:z,ignoreErrors:P,isEvalSupported:j,isOffscreenCanvasSupported:I,isImageDecoderSupported:tt,canvasMaxAreaInBytes:ct,fontExtraProperties:V,useSystemFonts:Q,useWasm:D,useWorkerFetch:st,cMapUrl:b,iccUrl:E,standardFontDataUrl:S,wasmUrl:T}},St={ownerDocument:nt,pdfBug:Z,styleElement:at,loadingParams:{disableAutoFetch:et,enableXfa:rt}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Dt=f.messageHandler.sendWithPromise("GetDocRequest",wt,r?[r.buffer]:null);let Ut;if(u)Ut=new H7(u,{disableRange:ut,disableStream:H});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Wt=Yf(n)?W7:Kr?ij:Z7;Ut=new Wt({url:n,length:G,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:ut,disableStream:H})}return Dt.then(Wt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Vt=new Xf(e,Wt,f.port),Zt=new uj(Vt,t,Ut,St,ft);t._transport=Zt,Vt.send("Ready",null)})}).catch(t._capability.reject),t}class zy{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${zy.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Uy=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#s=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#s)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#i)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){kn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class lj{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class cj{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new Fx:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new U3,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Op({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=Uo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:p=!1}){this._stats?.time("Overall");const m=this._transport.getRenderingIntent(n,r,f,p),{renderingIntent:b,cacheKey:x}=m;this.#t=!1,c||=this._transport.getOptionalContentConfig(b);let y=this._intentStates.get(x);y||(y=Object.create(null),this._intentStates.set(x,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const E=!!(b&ks.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));const S=O=>{y.renderTasks.delete(L),E&&(this.#t=!0),this.#e(),O?(L.capability.reject(O),this._abortOperatorList({intentState:y,reason:O instanceof Error?O:new Error(O)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new cd({callback:S,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||=new Set).add(L);const T=L.task;return Promise.all([y.displayReadyCapability.promise,c]).then(([O,P])=>{if(this.destroyed){S();return}if(this._stats?.time("Rendering"),!(P.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:O,optionalContentConfig:P}),L.operatorListChanged()}).catch(S),T}getOperatorList({intent:t="display",annotationMode:e=Uo.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(t,e,n,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>fp.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function s(){o.read().then(function({value:u,done:d}){if(d){n(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},r)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Fx),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof b0){let r=oj;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Fl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var jc,Fa,Ol,Gu,Hm,Vu,$u,Zr,xm,q3,H3,Kf,Ad,Am;const ei=class ei{constructor({name:t=null,port:e=null,verbosity:n=t7()}={}){To(this,Zr);To(this,jc,Promise.withResolvers());To(this,Fa,null);To(this,Ol,null);To(this,Gu,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ti(ei,$u).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ti(ei,$u).set(e,this),Mo(this,Zr,q3).call(this,e)}else Mo(this,Zr,H3).call(this)}get promise(){return ti(this,jc).promise}get port(){return ti(this,Ol)}get messageHandler(){return ti(this,Fa)}destroy(){this.destroyed=!0,ti(this,Gu)?.terminate(),us(this,Gu,null),ti(ei,$u).delete(ti(this,Ol)),us(this,Ol,null),ti(this,Fa)?.destroy(),us(this,Fa,null)}static create(t){const e=ti(this,$u).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ei(t)}static get workerSrc(){if(Wo.workerSrc)return Wo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return nn(this,"_setupFakeWorkerGlobal",(async()=>ti(this,Ad,Am)?ti(this,Ad,Am):(await import(this.workerSrc)).WorkerMessageHandler)())}};jc=new WeakMap,Fa=new WeakMap,Ol=new WeakMap,Gu=new WeakMap,Hm=new WeakMap,Vu=new WeakMap,$u=new WeakMap,Zr=new WeakSet,xm=function(){ti(this,jc).resolve(),ti(this,Fa).send("configure",{verbosity:this.verbosity})},q3=function(t){us(this,Ol,t),us(this,Fa,new Xf("main","worker",t)),ti(this,Fa).on("ready",()=>{}),Mo(this,Zr,xm).call(this)},H3=function(){if(ti(ei,Vu)||ti(ei,Ad,Am)){Mo(this,Zr,Kf).call(this);return}let{workerSrc:t}=ei;try{ei._isSameOrigin(window.location,t)||(t=ei._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Xf("main","worker",e),r=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?ti(this,jc).reject(new Error("Worker was destroyed")):Mo(this,Zr,Kf).call(this)},s=new AbortController;e.addEventListener("error",()=>{ti(this,Gu)||r()},{signal:s.signal}),n.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}us(this,Fa,n),us(this,Ol,e),us(this,Gu,e),Mo(this,Zr,xm).call(this)}),n.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{Mo(this,Zr,Kf).call(this)}});const o=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};o();return}catch{v0("The worker has been disabled.")}Mo(this,Zr,Kf).call(this)},Kf=function(){ti(ei,Vu)||(Ue("Setting up fake worker."),us(ei,Vu,!0)),ei._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ti(this,jc).reject(new Error("Worker was destroyed"));return}const e=new w7;us(this,Ol,e);const n=`fake${Z5(ei,Hm)._++}`,r=new Xf(n+"_worker",n,e);t.setup(r,e),us(this,Fa,new Xf(n,n+"_worker",e)),Mo(this,Zr,xm).call(this)}).catch(t=>{ti(this,jc).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ad=new WeakSet,Am=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},To(ei,Ad),To(ei,Hm,0),To(ei,Vu,!1),To(ei,$u,new WeakMap),Kr&&(us(ei,Vu,!0),Wo.workerSrc||="./pdf.worker.mjs"),ei._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},ei._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ei.fromPort=t=>{if(c7("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ei.create(t)};let Cd=ei;class uj{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,e,n,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new U3,this.fontLoader=new g7({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return nn(this,"annotationStorage",new Dy)}getRenderingIntent(t,e=Uo.ENABLE,n=null,r=!1,s=!1){let o=ks.DISPLAY,c=ub;switch(t){case"any":o=ks.ANY;break;case"display":break;case"print":o=ks.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${t}`)}const u=o&ks.PRINT&&n instanceof R3?n:this.annotationStorage;switch(e){case Uo.DISABLE:o+=ks.ANNOTATIONS_DISABLE;break;case Uo.ENABLE:break;case Uo.ENABLE_FORMS:o+=ks.ANNOTATIONS_FORMS;break;case Uo.ENABLE_STORAGE:o+=ks.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=ks.IS_EDITING),s&&(o+=ks.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),dp.cleanup(),this._networkStream?.cancelAllRequests(new Fl("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{qi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}qi(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),t.on("GetRangeReader",(n,r)=>{qi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){r.close();return}qi(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new lj(n,this))}),t.on("DocException",n=>{e._capability.reject(hs(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw hs(n);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,n.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const d=s.error;Ue(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,c=new m7(s,o);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;qi(u,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,f]of d.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,s,o])=>{if(this.destroyed)return;const c=this.#e.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#n.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,t);const o=new cj(e,s,this,this._params.pdfBug);return this.#e.set(e,o),o});return this.#n.set(e,r),r}getPageIndex(t){return hb(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new q7(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new z7(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),dp.cleanup()}}cachedPageNumber(t){if(!hb(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class hj{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class cd{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new hj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(cd.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");cd.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new gd(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),cd.#e.delete(this._canvas),t||=new b0(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),cd.#e.delete(this._canvas),this.callback())))}}const qy="5.3.31",G3="47ad820d9";function tA(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Gf(i){return Math.max(0,Math.min(255,255*i))}class eA{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Gf(t),[t,t,t]}static G_HTML([t]){const e=tA(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Gf)}static RGB_HTML(t){return`#${t.map(tA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Gf(1-Math.min(1,t+r)),Gf(1-Math.min(1,n+r)),Gf(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,s=1-e,o=1-n,c=Math.min(r,s,o);return["CMYK",r,s,o,c]}}class dj{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){kn("Abstract method `_createSVG` called.")}}class pp extends dj{_createSVG(t){return document.createElementNS(Pl,t)}}class Hy{static setupStorage(t,e,n,r,s){const o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of n.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:s}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&s.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const c=s!=="richText",u=t.div;if(u.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),c&&fp.shouldBuildText(r.name)&&d.push(p)}return{textDivs:d}}const f=[[r,-1,o]];for(;f.length>0;){const[p,m,b]=f.at(-1);if(m+1===p.children.length){f.pop();continue}const x=p.children[++f.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const S=document.createTextNode(x.value);d.push(S),b.append(S);continue}const E=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(b.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:e,intent:s,linkService:n}),x.children?.length>0)f.push([x,-1,E]);else if(x.value){const S=document.createTextNode(x.value);c&&fp.shouldBuildText(y)&&d.push(S),E.append(S)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Fp=1e3,fj=9,ih=new WeakSet;class nA{static create(t){switch(t.data.annotationType){case _i.LINK:return new V3(t);case _i.TEXT:return new pj(t);case _i.WIDGET:switch(t.data.fieldType){case"Tx":return new gj(t);case"Btn":return t.data.radioButton?new $3(t):t.data.checkBox?new vj(t):new bj(t);case"Ch":return new yj(t);case"Sig":return new mj(t)}return new oh(t);case _i.POPUP:return new fb(t);case _i.FREETEXT:return new W3(t);case _i.LINE:return new xj(t);case _i.SQUARE:return new Aj(t);case _i.CIRCLE:return new Sj(t);case _i.POLYLINE:return new Y3(t);case _i.CARET:return new _j(t);case _i.INK:return new Gy(t);case _i.POLYGON:return new Ej(t);case _i.HIGHLIGHT:return new X3(t);case _i.UNDERLINE:return new Cj(t);case _i.SQUIGGLY:return new Nj(t);case _i.STRIKEOUT:return new Rj(t);case _i.STAMP:return new K3(t);case _i.FILEATTACHMENT:return new Lj(t);default:return new Oi(t)}}}class Oi{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t?.str||e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Oi._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:u}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/s}%`,e.top=`${100*(o-t[3]+u)/o}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof oh||(s.tabIndex=Fp);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof fb){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(y>0||E>0){const L=`calc(${y}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;o.borderRadius=L}else if(this instanceof $3){const L=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=L}switch(e.borderStyle.style){case nd.SOLID:o.borderStyle="solid";break;case nd.DASHED:o.borderStyle="dashed";break;case nd.BEVELED:Ue("Unimplemented border style: beveled");break;case nd.INSET:Ue("Unimplemented border style: inset");break;case nd.UNDERLINE:o.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(this.#e=!0,o.borderColor=ye.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const d=ye.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:b}=r.rawDims;o.left=`${100*(d[0]-m)/f}%`,o.top=`${100*(d[1]-b)/p}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(x,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;t%180!==0&&([s,o]=[o,s]),e.style.width=`${100*s/n}%`,e.style.height=`${100*o/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const s=r.detail[e],o=s[0],c=s.slice(1);r.target.style[n]=eA[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:eA[`${o}_rgb`](c)})};return nn(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,s]of Object.entries(e)){const o=n[r];if(o){const c={detail:{[r]:s},target:t};o(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,E,S,L]=t.subarray(2,6);if(r===y&&s===E&&e===S&&n===L)return}const{style:o}=this.container;let c;if(this.#e){const{borderColor:y,borderWidth:E}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const u=r-e,d=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const m=f.createElement("defs");p.append(m);const b=f.createElement("clipPath"),x=`clippath_${this.data.id}`;b.setAttribute("id",x),b.setAttribute("clipPathUnits","objectBoundingBox"),m.append(b);for(let y=2,E=t.length;y<E;y+=8){const S=t[y],L=t[y+1],T=t[y+2],O=t[y+3],P=f.createElement("rect"),B=(T-e)/u,j=(s-L)/d,I=(S-T)/u,tt=(L-O)/d;P.setAttribute("x",B),P.setAttribute("y",j),P.setAttribute("width",I),P.setAttribute("height",tt),b.append(P),c?.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${j}" width="${I}" height="${tt}"/>`)}this.#e&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=this.#n=new fb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){kn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:o,exportValues:c}of r){if(s===-1||o===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!ih.has(d)){Ue(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:d})}return n}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&ih.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class V3 extends Oi{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const s=n.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:s,include:o}=e,c=[];if(r.length!==0||s.length!==0){const f=new Set(s);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:b}of m)f.add(b)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const b=f.defaultValue||"";u.setValue(p,{value:b});break}case"checkbox":case"radiobutton":{const b=f.defaultValue===f.exportValues;u.setValue(p,{value:b});break}case"combobox":case"listbox":{const b=f.defaultValue||"";u.setValue(p,{value:b});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!ih.has(m)){Ue(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class pj extends Oi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class oh extends Oi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return fr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,s){n.includes("mouse")?t.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(n,o=>{if(n==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(t,e,n,r){for(const[s,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ye.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||fj,s=t.style;let o;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(cv*r))||1,p=d/f;o=Math.min(r,u(p/cv))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,u(d/cv))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=ye.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class gj extends oh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),s.setValue(o.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ih.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Fp,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=u.userValue=p,u.formattedValue=null});let d=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{if(u.focused)return;const{target:m}=p;u.userValue&&(m.value=u.userValue),u.lastCommittedValue=m.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(b){u.userValue=b.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),b.target.value=u.userValue},formattedValue(b){const{formattedValue:x}=b.detail;u.formattedValue=x,x!=null&&b.target!==document.activeElement&&(b.target.value=x),t.setValue(e,{formattedValue:x})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:x}=b.detail,{target:y}=b;if(x===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",x);let E=u.userValue;!E||E.length<=x||(E=E.slice(0,x),y.value=u.userValue=E,t.setValue(e,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),n.addEventListener("keydown",p=>{u.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(u.commitKey=3),m===-1)return;const{value:b}=p.target;u.lastCommittedValue!==b&&(u.lastCommittedValue=b,u.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,n.addEventListener("blur",p=>{if(!u.focused||!p.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{value:m}=p.target;u.userValue=m,u.lastCommittedValue!==m&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}),f(p)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",p=>{u.lastCommittedValue=null;const{data:m,target:b}=p,{value:x,selectionStart:y,selectionEnd:E}=b;let S=y,L=E;switch(p.inputType){case"deleteWordBackward":{const T=x.substring(0,y).match(/\w*[^\w]*$/);T&&(S-=T[0].length);break}case"deleteWordForward":{const T=x.substring(y).match(/^[^\w]*\w*/);T&&(L+=T[0].length);break}case"deleteContentBackward":y===E&&(S-=1);break;case"deleteContentForward":y===E&&(L+=1);break}p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:m||"",willCommit:!1,selStart:S,selEnd:L}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class mj extends oh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class vj extends oh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ih.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=Fp,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,n)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $3 extends oh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(ih.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Fp,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=o===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=f&&p.id===n;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class bj extends V3{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class yj extends oh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ih.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Fp;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:m,multiple:b}=r;return b?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const p={value(m){o?.();const b=m.detail.value,x=new Set(Array.isArray(b)?b:[b]);for(const y of r.options)y.selected=x.has(y.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(m){r.multiple=!0},remove(m){const b=r.options,x=m.detail.remove;b[x].selected=!1,r.remove(x),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},clear(m){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(m){const{index:b,displayValue:x,exportValue:y}=m.detail.insert,E=r.children[b],S=document.createElement("option");S.textContent=x,S.value=y,E?E.before(S):r.append(S),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},items(m){const{items:b}=m.detail;for(;r.length!==0;)r.remove(0);for(const x of b){const{displayValue:y,exportValue:E}=x,S=document.createElement("option");S.textContent=y,S.value=E,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},indices(m){const b=new Set(m.detail.indices);for(const x of m.target.options)x.selected=b.has(x.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("input",f=>{const p=c(!0),m=c(!1);t.setValue(e,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fb extends Oi{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Oi._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new wj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Ty}${n}`).join(",")),this.container}}class wj{#t=this.#C.bind(this);#e=this.#N.bind(this);#n=this.#R.bind(this);#i=this.#E.bind(this);#s=null;#r=null;#o=null;#a=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#l=null;#p=null;#m=null;#g=null;#v=null;#b=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:c,parent:u,rect:d,parentRect:f,open:p}){this.#r=t,this.#g=r,this.#o=o,this.#m=c,this.#c=u,this.#s=e,this.#p=d,this.#d=f,this.#h=n,this.#a=My.toDateObject(s),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",this.#i),m.addEventListener("mouseenter",this.#n),m.addEventListener("mouseleave",this.#e),m.classList.add("popupTriggerArea");for(const m of n)m.container?.addEventListener("keydown",this.#t);this.#r.hidden=!0,p&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#s){const s=t.style.outlineColor=ye.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#g,t.append(e),this.#a){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),e.append(s)}const r=this.#y;if(r)Hy.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#o);t.append(s)}this.#r.append(t)}get#y(){const t=this.#m,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#x(){return this.#y?.attributes?.style?.fontSize||0}get#A(){return this.#y?.attributes?.style?.color||null}#S(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#A,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const c=r[s];n.append(document.createTextNode(c)),s<o-1&&n.append(document.createElement("br"))}return n}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:e}){this.#v||={contentsObj:this.#o,richText:this.#m},t&&(this.#l=null),e&&(this.#m=this.#S(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#m}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#l=null)}#L(){if(this.#l!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:s}}}=this.#c;let o=!!this.#d,c=o?this.#d:this.#p;for(const x of this.#h)if(!c||ye.intersect(x.data.rect,c)!==null){c=x.data.rect,o=!0;break}const u=ye.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,m=u[1];this.#l=[100*(p-r)/e,100*(m-s)/n];const{style:b}=this.#r;b.left=`${this.#l[0]}%`,b.top=`${this.#l[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#R(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#t)):(this.#N(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#r.classList.add("focused"):(this.#L(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#N(){this.#r.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#r.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#R(),this.#b=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class W3 extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class xj extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=this.#t=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Aj extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",e-s),o.setAttribute("height",n-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Sj extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-s/2),o.setAttribute("ry",n/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y3 extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:s,height:o}=this;if(!e)return this.container;const c=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,p=e.length;f<p;f+=2){const m=e[f]-t[0],b=t[3]-e[f+1];u.push(`${m},${b}`)}u=u.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",u),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ej extends Y3{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _j extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Gy extends Oi{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Be.HIGHLIGHT:Be.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:o,width:c,height:u}=this.#n(e,t),d=this.svgFactory.create(c,u,!0),f=this.#t=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,m=n.length;p<m;p++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",n[p].join(",")),f.append(b)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,s=this.#t;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let o=0,c=this.#e.length;o<c;o++)this.#e[o].setAttribute("points",n[o].join(","));if(r){const{transform:o,width:c,height:u}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class X3 extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Be.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Cj extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Nj extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Rj extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class K3 extends Oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Be.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Lj extends Oi{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=fr.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Vy=class Q3{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:c}){this.div=t,this.#t=e,this.#e=n,this.#i=c||null,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e){const n=t.firstChild||t,r=n.id=`${Ty}${e}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[o,c]of s)n.setAttribute(o,c);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;Vc(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new pp,annotationStorage:t.annotationStorage||new Dy,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const c=o.annotationType===_i.POPUP;if(c){const f=r.get(o.id);if(!f)continue;s.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const u=nA.create(s);if(!u.isRenderable)continue;if(!c&&o.popupRef){const f=r.get(o.popupRef);f?f.push(u):r.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),await this.#s(d,o.id),u._isEditable&&(this.#n.set(u.data.id,u),this._annotationEditorUIManager?.renderAnnotationElement(u))}this.#r()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new pp,parent:this};for(const r of t){r.borderStyle||=Q3._defaultBorderStyle,n.data=r;const s=nA.create(n);if(!s.isRenderable)continue;const o=s.render();await this.#s(o,r.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Vc(e,{rotation:t.rotation}),this.#r(),e.hidden=!1}#r(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const o=this.#n.get(e);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),o._hasNoCanvas=!1):o.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return nn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:nd.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const im=/\r\n?|\n/g;class Yi extends Ae{#t;#e="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Yi.prototype,e=s=>s.isEmpty(),n=Bl.TRANSLATE_SMALL,r=Bl.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Dp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Be.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Yi._defaultColor||Ae._defaultLineColor,this.#s=t.fontSize||Yi._defaultFontSize}static initialize(t,e){Ae.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case an.FREETEXT_SIZE:Yi._defaultFontSize=e;break;case an.FREETEXT_COLOR:Yi._defaultColor=e;break}}updateParams(t,e){switch(t){case an.FREETEXT_SIZE:this.#r(e);break;case an.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[an.FREETEXT_SIZE,Yi._defaultFontSize],[an.FREETEXT_COLOR,Yi._defaultColor||Ae._defaultLineColor]]}get propertiesToUpdate(){return[[an.FREETEXT_SIZE,this.#s],[an.FREETEXT_COLOR,this.#t]]}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#h()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:an.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:an.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Yi._internalPadding*t,-(Yi._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Yi.#c(n)),e=n);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#a().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Yi._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,f]=this.pageDimensions,[p,m]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(o[0]-p)/d,x=e+this.height-(o[1]-m)/f;break;case 90:b=t+(o[0]-p)/d,x=e-(o[1]-m)/f,[c,u]=[u,-c];break;case 180:b=t-this.width+(o[0]-p)/d,x=e-(o[1]-m)/f,[c,u]=[-c,-u];break;case 270:b=t+(o[0]-p-this.height*f)/d,x=e+(o[1]-m-this.width*d)/f,[c,u]=[-u,c];break}this.setAt(b*r,x*s,c,u)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(im,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Yi.#f(e.getData("text")||"").replaceAll(im,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,d=[],f=[];if(c.nodeType===Node.TEXT_NODE){const b=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(im,"")),b!==this.editorDiv){let x=d;for(const y of this.editorDiv.childNodes){if(y===b){x=f;continue}x.push(Yi.#c(y))}}d.push(c.nodeValue.slice(0,u).replaceAll(im,""))}else if(c===this.editorDiv){let b=d,x=0;for(const y of this.editorDiv.childNodes)x++===u&&(b=f),b.push(Yi.#c(y))}this.#e=`${d.join(`
`)}${r}${f.join(`
`)}`,this.#d();const p=new Range;let m=Math.sumPrecise(d.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(m<=x){p.setStart(b,m),p.setEnd(b,m);break}m-=x}s.removeAllRanges(),s.addRange(p)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let r=null;if(t instanceof W3){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:d,id:f,popupRef:p},textContent:m,textPosition:b,parent:{page:{pageNumber:x}}}=t;if(!m||m.length===0)return null;r=t={annotationType:Be.FREETEXT,color:Array.from(c),fontSize:o,value:m.join(`
`),position:b,pageIndex:x-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const s=await super.deserialize(t,e,n);return s.#s=t.fontSize,s.#t=ye.makeHexColor(...t.color),s.#e=Yi.#f(t.value),s.annotationElementId=t.id||null,s._initialData=r,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Yi._internalPadding*this.parentScale,n=this.getRect(e,e),r=Ae._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),s={annotationType:Be.FREETEXT,color:r,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.isCopy=!0,s):this.annotationElementId&&!this.#l(s)?null:(s.id=this.annotationElementId,s)}#l(t){const{value:e,fontSize:n,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((o,c)=>o!==r[c])||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const s of this.#e.split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}const r=Yi._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ue{static PRECISION=1e-4;toSVGPath(){kn("Abstract method `toSVGPath` must be implemented.")}get box(){kn("Abstract getter `box` must be implemented.")}serialize(t,e){kn("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,s,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c]*r,o[c+1]=n+t[c+1]*s;return o}static _rescaleAndSwap(t,e,n,r,s,o){o||=new Float32Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c+1]*r,o[c+1]=n+t[c]*s;return o}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s+=2)r[s]=e+t[s],r[s+1]=n+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,s){switch(s){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,s,o){return[(t+5*n)/6,(e+5*r)/6,(5*n+s)/6,(5*r+o)/6,(n+s)/2,(r+o)/2]}}class Hu{#t;#e=[];#n;#i;#s=[];#r=new Float32Array(18);#o;#a;#h;#c;#d;#u;#f=[];static#l=8;static#p=2;static#m=Hu.#l+Hu.#p;constructor({x:t,y:e},n,r,s,o,c=0){this.#t=n,this.#u=s*r,this.#i=o,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=c,this.#c=Hu.#l*r,this.#h=Hu.#m*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#g(){const t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[n,r,s,o]=this.#t;return[(this.#o+(t[0]-e[0])/2-n)/s,(this.#a+(t[1]-e[1])/2-r)/o,(this.#o+(e[0]-t[0])/2-n)/s,(this.#a+(e[1]-t[1])/2-r)/o]}add({x:t,y:e}){this.#o=t,this.#a=e;const[n,r,s,o]=this.#t;let[c,u,d,f]=this.#r.subarray(8,12);const p=t-d,m=e-f,b=Math.hypot(p,m);if(b<this.#h)return!1;const x=b-this.#c,y=x/b,E=y*p,S=y*m;let L=c,T=u;c=d,u=f,d+=E,f+=S,this.#f?.push(t,e);const O=-S/x,P=E/x,B=O*this.#u,j=P*this.#u;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([d+B,f+j],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([d-B,f-j],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([c+B,u+j],2),this.#s.push(NaN,NaN,NaN,NaN,(c+B-n)/s,(u+j-r)/o),this.#r.set([c-B,u-j],14),this.#e.push(NaN,NaN,NaN,NaN,(c-B-n)/s,(u-j-r)/o)),this.#r.set([L,T,c,u,d,f],6),!this.isEmpty()):(this.#r.set([L,T,c,u,d,f],6),Math.abs(Math.atan2(T-u,L-c)-Math.atan2(S,E))<Math.PI/2?([c,u,d,f]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/s,((u+f)/2-r)/o),[c,u,L,T]=this.#r.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((L+c)/2-n)/s,((T+u)/2-r)/o),!0):([L,T,c,u,d,f]=this.#r.subarray(0,6),this.#s.push(((L+5*c)/6-n)/s,((T+5*u)/6-r)/o,((5*c+d)/6-n)/s,((5*u+f)/6-r)/o,((c+d)/2-n)/s,((u+f)/2-r)/o),[d,f,c,u,L,T]=this.#r.subarray(12,18),this.#e.push(((L+5*c)/6-n)/s,((T+5*u)/6-r)/o,((5*c+d)/6-n)/s,((5*u+f)/6-r)/o,((c+d)/2-n)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#v();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(n),n.join(" ")}#v(){const[t,e,n,r]=this.#t,[s,o,c,u]=this.#g();return`M${(this.#r[2]-t)/n} ${(this.#r[3]-e)/r} L${(this.#r[4]-t)/n} ${(this.#r[5]-e)/r} L${s} ${o} L${c} ${u} L${(this.#r[16]-t)/n} ${(this.#r[17]-e)/r} L${(this.#r[14]-t)/n} ${(this.#r[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,n,r,s]=this.#t,o=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[u,d,f,p]=this.#g();t.push(`L${(o[0]-e)/r} ${(o[1]-n)/s} L${u} ${d} L${f} ${p} L${(c[0]-e)/r} ${(c[1]-n)/s}`)}newFreeDrawOutline(t,e,n,r,s,o){return new Z3(t,e,n,r,s,o)}getOutlines(){const t=this.#s,e=this.#e,n=this.#r,[r,s,o,c]=this.#t,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,m=u.length-2;p<m;p+=2)u[p]=(this.#f[p]-r)/o,u[p+1]=(this.#f[p+1]-s)/c;if(u[u.length-2]=(this.#o-r)/o,u[u.length-1]=(this.#a-s)/c,isNaN(n[6])&&!this.isEmpty())return this.#x(u);const d=new Float32Array(this.#s.length+24+this.#e.length);let f=t.length;for(let p=0;p<f;p+=2){if(isNaN(t[p])){d[p]=d[p+1]=NaN;continue}d[p]=t[p],d[p+1]=t[p+1]}f=this.#S(d,f);for(let p=e.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(e[p+m])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[p+m],d[f+1]=e[p+m+1],f+=2}return this.#A(d,f),this.newFreeDrawOutline(d,u,this.#t,this.#d,this.#n,this.#i)}#x(t){const e=this.#r,[n,r,s,o]=this.#t,[c,u,d,f]=this.#g(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(p,t,this.#t,this.#d,this.#n,this.#i)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#S(t,e){const n=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[s,o,c,u]=this.#t,[d,f,p,m]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/c,(n[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-o)/u],e),e+=24}}class Z3 extends ue{#t;#e=new Float32Array(4);#n;#i;#s;#r;#o;constructor(t,e,n,r,s,o){super(),this.#o=t,this.#s=e,this.#t=n,this.#r=r,this.#n=s,this.#i=o,this.lastPoint=[NaN,NaN],this.#a(o);const[c,u,d,f]=this.#e;for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-c)/d,t[p+1]=(t[p+1]-u)/f;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-c)/d,e[p+1]=(e[p+1]-u)/f}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,n=this.#o.length;e<n;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],s){const o=n-t,c=r-e;let u,d;switch(s){case 0:u=ue._rescale(this.#o,t,r,o,-c),d=ue._rescale(this.#s,t,r,o,-c);break;case 90:u=ue._rescaleAndSwap(this.#o,t,e,o,c),d=ue._rescaleAndSwap(this.#s,t,e,o,c);break;case 180:u=ue._rescale(this.#o,n,e,-o,c),d=ue._rescale(this.#s,n,e,-o,c);break;case 270:u=ue._rescaleAndSwap(this.#o,n,r,-o,-c),d=ue._rescaleAndSwap(this.#s,n,r,-o,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}#a(t){const e=this.#o;let n=e[4],r=e[5];const s=[n,r,n,r];let o=n,c=r;const u=t?Math.max:Math.min;for(let f=6,p=e.length;f<p;f+=6){const m=e[f+4],b=e[f+5];if(isNaN(e[f]))ye.pointBoundingBox(m,b,s),c<b?(o=m,c=b):c===b&&(o=u(o,m));else{const x=[1/0,1/0,-1/0,-1/0];ye.bezierBoundingBox(n,r,...e.slice(f,f+6),x),ye.rectBoundingBox(...x,s),c<x[3]?(o=x[2],c=x[3]):c===x[3]&&(o=u(o,x[2]))}n=m,r=b}const d=this.#e;d[0]=s[0]-this.#n,d[1]=s[1]-this.#n,d[2]=s[2]-s[0]+2*this.#n,d[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[o,c]}get box(){return this.#e}newOutliner(t,e,n,r,s,o=0){return new Hu(t,e,n,r,s,o)}getNewOutline(t,e){const[n,r,s,o]=this.#e,[c,u,d,f]=this.#t,p=s*d,m=o*f,b=n*d+c,x=r*f+u,y=this.newOutliner({x:this.#s[0]*p+b,y:this.#s[1]*m+x},this.#t,this.#r,t,this.#i,e??this.#n);for(let E=2;E<this.#s.length;E+=2)y.add({x:this.#s[E]*p+b,y:this.#s[E+1]*m+x});return y.getOutlines()}}class pb{#t;#e;#n=[];#i=[];constructor(t,e=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:x,width:y,height:E}of t){const S=Math.floor((b-e)/o)*o,L=Math.ceil((b+y+e)/o)*o,T=Math.floor((x-e)/o)*o,O=Math.ceil((x+E+e)/o)*o,P=[S,T,O,!0],B=[L,T,O,!1];this.#n.push(P,B),ye.rectBoundingBox(S,T,L,O,s)}const c=s[2]-s[0]+2*n,u=s[3]-s[1]+2*n,d=s[0]-n,f=s[1]-n,p=this.#n.at(r?-1:-2),m=[p[0],p[2]];for(const b of this.#n){const[x,y,E]=b;b[0]=(x-d)/c,b[1]=(y-f)/u,b[2]=(E-f)/u}this.#t=new Float32Array([d,f,c,u]),this.#e=m}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#o(e)):(this.#a(e),t.push(...this.#h(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const o of t){const[c,u,d]=o;e.push([c,u,o],[c,d,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const u=e[o][2],d=e[o+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[c,u,d,f,p]=o;n.delete(o);let m=c,b=u;for(s=[c,d],r.push(s);;){let x;if(n.has(f))x=f;else if(n.has(p))x=p;else break;n.delete(x),[c,u,d,f,p]=x,m!==c&&(s.push(m,b,c,b===u?u:d),m=c),b=b===u?d:u}s.push(m,b)}return new Tj(r,this.#t,this.#e)}#r(t){const e=this.#i;let n=0,r=e.length-1;for(;n<=r;){const s=n+r>>1,o=e[s][0];if(o===t)return s;o<t?n=s+1:r=s-1}return r+1}#o([,t,e]){const n=this.#r(t);this.#i.splice(n,0,[t,e])}#a([,t,e]){const n=this.#r(t);for(let r=n;r<this.#i.length;r++){const[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}}#h(t){const[e,n,r]=t,s=[[e,n,r]],o=this.#r(r);for(let c=0;c<o;c++){const[u,d]=this.#i[c];for(let f=0,p=s.length;f<p;f++){const[,m,b]=s[f];if(!(d<=m||b<=u)){if(m>=u){if(b>d)s[f][1]=d;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,b>d&&s.push([e,d,b])}}}return s}}class Tj extends ue{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let s=2;s<e.length;s+=2){const o=e[s],c=e[s+1];o===n?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${o}`),n=o)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],s){const o=[],c=n-t,u=r-e;for(const d of this.#e){const f=new Array(d.length);for(let p=0;p<d.length;p+=2)f[p]=t+d[p]*c,f[p+1]=r-d[p+1]*u;o.push(f)}return o}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class gb extends Hu{newFreeDrawOutline(t,e,n,r,s,o){return new Mj(t,e,n,r,s,o)}}class Mj extends Z3{newOutliner(t,e,n,r,s,o=0){return new gb(t,e,n,r,s,o)}}class Ds{#t=null;#e=null;#n;#i=null;#s=!1;#r=!1;#o=null;#a;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return nn(this,"_keyboardManager",new Dp([[["Escape","mac+Escape"],Ds.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ds.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ds.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ds.prototype._moveToPrevious],[["Home","mac+Home"],Ds.prototype._moveToBeginning],[["End","mac+End"],Ds.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#d=an.HIGHLIGHT_COLOR,this.#o=t):(this.#r=!0,this.#d=an.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#a=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",Ds.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",oa,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#c.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",Ds.#u[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#n),s.addEventListener("click",this.#l.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#l(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#l(e,t)}_moveToNext(t){if(!this.#v){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){Ds._keyboardManager.exec(this,t)}#m(t){if(this.#v){this.hideDropdown();return}if(this.#s=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const n of this.#i.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class Ci extends Ae{#t=null;#e=0;#n;#i=null;#s=null;#r=null;#o=null;#a=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#l;#p=null;#m="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Be.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ci.prototype;return nn(this,"_keyboardManager",new Dp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ci._defaultColor,this.#g=t.thickness||Ci._defaultThickness,this.#l=t.opacity||Ci._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#y(t),this.#L()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#a=t.focusOffset,this.#b(),this.#L(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new pb(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new pb(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();const{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#c=t;const r=1.5;if(this.#r=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#d=e,this.#i=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ci.#E(this.#c.box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ci.#E(this.#r.box,f),path:{d:this.#r.toSVGPath()}})}const[s,o,c,u]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[f,p]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*p/f,this.height=u*f/p;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[f,p]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*p/f,this.height=u*f/p;break}}const{lastPoint:d}=this.#r;this.#f=[(d[0]-s)/c,(d[1]-o)/u]}static initialize(t,e){Ae.initialize(t,e),Ci._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case an.HIGHLIGHT_DEFAULT_COLOR:Ci._defaultColor=e;break;case an.HIGHLIGHT_THICKNESS:Ci._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case an.HIGHLIGHT_COLOR:this.#x(e);break;case an.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[an.HIGHLIGHT_DEFAULT_COLOR,Ci._defaultColor],[an.HIGHLIGHT_THICKNESS,Ci._defaultThickness]]}get propertiesToUpdate(){return[[an.HIGHLIGHT_COLOR,this.color||Ci._defaultColor],[an.HIGHLIGHT_THICKNESS,this.#g||Ci._defaultThickness],[an.HIGHLIGHT_FREE,this.#u]]}#x(t){const e=(s,o)=>{this.color=s,this.#l=o,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:s,"fill-opacity":o}}),this.#s?.updateColor(s)},n=this.color,r=this.#l;this.addCommands({cmd:e.bind(this,t,Ci._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:an.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#A(t){const e=this.#g,n=r=>{this.#g=r,this.#S(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:an.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#s=new Ds({editor:this}),t.addColorPicker(this.#s)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#L(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#L(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#S(t){if(!this.#u)return;this.#y({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#L(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#l},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#E([t,e,n,r],s){switch(s){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=Ci.#E(this.#c.box,t)):n=Ci.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Ci.#E(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),C3(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){Ci._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#N(!0);break;case 1:case 3:this.#N(!1);break}}#N(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#a)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#N(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#M(){return this.#u?this.rotation:0}#P(){if(this.#u)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:d,width:f,height:p}of s){const m=u*t+n,b=(1-d)*e+r;o[c]=o[c+4]=m,o[c+1]=o[c+3]=b,o[c+2]=o[c+6]=m+f*t,o[c+5]=o[c+7]=b-p*e,c+=8}return o}#O(t){return this.#c.serialize(t,this.#M())}static startHighlighting(t,e,{target:n,x:r,y:s}){const{x:o,y:c,width:u,height:d}=n.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),m=b=>{f.abort(),this.#_(t,b)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",Ni,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",oa,{signal:p}),n.addEventListener("pointermove",this.#z.bind(this,t),{signal:p}),this._freeHighlight=new gb({x:r,y:s},[o,c,u,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof X3){const{data:{quadPoints:x,rect:y,rotation:E,id:S,color:L,opacity:T,popupRef:O},parent:{page:{pageNumber:P}}}=t;r=t={annotationType:Be.HIGHLIGHT,color:Array.from(L),opacity:T,quadPoints:x,boxes:null,pageIndex:P-1,rect:y.slice(0),rotation:E,id:S,deleted:!1,popupRef:O}}else if(t instanceof Gy){const{data:{inkLists:x,rect:y,rotation:E,id:S,color:L,borderStyle:{rawWidth:T},popupRef:O},parent:{page:{pageNumber:P}}}=t;r=t={annotationType:Be.HIGHLIGHT,color:Array.from(L),thickness:T,inkLists:x,boxes:null,pageIndex:P-1,rect:y.slice(0),rotation:E,id:S,deleted:!1,popupRef:O}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=t,d=await super.deserialize(t,e,n);d.color=ye.makeHexColor(...s),d.#l=u||1,c&&(d.#g=t.thickness),d.annotationElementId=t.id||null,d._initialData=r;const[f,p]=d.pageDimensions,[m,b]=d.pageTranslation;if(o){const x=d.#n=[];for(let y=0;y<o.length;y+=8)x.push({x:(o[y]-m)/f,y:1-(o[y+1]-b)/p,width:(o[y+2]-o[y])/f,height:(o[y+1]-o[y+5])/p});d.#b(),d.#L(),d.rotate(d.rotation)}else if(c){d.#u=!0;const x=c[0],y={x:x[0]-m,y:p-(x[1]-b)},E=new gb(y,[0,0,f,p],1,d.#g/2,!0,.001);for(let T=0,O=x.length;T<O;T+=2)y.x=x[T]-m,y.y=p-(x[T+1]-b),E.add(y);const{id:S,clipPathId:L}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);d.#y({highlightOutlines:E.getOutlines(),highlightId:S,clipPathId:L}),d.#L(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=Ae._colorManager.convert(this.color),r={annotationType:Be.HIGHLIGHT,color:n,opacity:this.#l,thickness:this.#g,quadPoints:this.#P(),outlines:this.#O(e),pageIndex:this.pageIndex,rect:e,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#w(r)?null:(r.id=this.annotationElementId,r)}#w(t){const{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class J3{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){kn("Not implemented")}}class Re extends Ae{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#o=null;static#a=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(Re._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,s]of Object.entries(e))n.has(r)?Object.assign(t[r],s):t[r]=s;return t}static getDefaultDrawingOptions(t){kn("Not implemented")}static get typesMap(){kn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Re.#n.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,s=r[e],o=c=>{r.updateProperty(e,c);const u=this.#t.updateProperty(e,c);u&&this.#m(u),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:o.bind(this,n),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#l([t,e,n,r]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(o/s),r*(s/o)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(o/s),r*(s/o)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(s/o),r*(o/s)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(s/o),r*(o/s)];default:return[t,e,n,r]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#l(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#g(){const{x:t,y:e,width:n,height:r,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(c/u),r*(u/c),n*(c/u)];case 5:return[1-e,t,n*(c/u),r*(u/c)];case 6:return[1-t-r*(u/c),1-e,r*(u/c),n*(c/u)];case 7:return[e-n*(c/u),1-t-r*(u/c),n*(c/u),r*(u/c)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(u/c),e,r*(u/c),n*(c/u)];case 13:return[1-e-n*(c/u),t-r*(u/c),n*(c/u),r*(u/c)];case 14:return[1-t,1-e-n*(c/u),r*(u/c),n*(c/u)];case 15:return[e,1-t,n*(c/u),r*(u/c)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Re._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,s){kn("Not implemented")}static startDrawing(t,e,n,r){const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:d}=r;if(Re.#o&&Re.#o!==d)return;const{viewport:{rotation:f}}=t,{width:p,height:m}=s.getBoundingClientRect(),b=Re.#i=new AbortController,x=t.combinedSignal(b);if(Re.#r||=u,Re.#o??=d,window.addEventListener("pointerup",y=>{Re.#r===y.pointerId?this._endDraw(y):Re.#a?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointercancel",y=>{Re.#r===y.pointerId?this._currentParent.endDrawingSession():Re.#a?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointerdown",y=>{Re.#o===y.pointerType&&((Re.#a||=new Set).add(y.pointerId),Re.#n.isCancellable()&&(Re.#n.removeLastElement(),Re.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",oa,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",y=>{y.timeStamp===Re.#h&&Ni(y)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),Re.#n){t.drawLayer.updateProperties(this._currentDrawId,Re.#n.startNew(o,c,p,m,f));return}e.updateUIForDefaultProperties(this),Re.#n=this.createDrawerInstance(o,c,p,m,f),Re.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Re.#s.toSVGProperties(),Re.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Re.#h=-1,!Re.#n)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(Re.#r===r){if(Re.#a?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Re.#n.add(e,n)),Re.#h=t.timeStamp,Ni(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Re.#n=null,Re.#s=null,Re.#o=null,Re.#h=NaN),Re.#i&&(Re.#i.abort(),Re.#i=null,Re.#r=NaN,Re.#a=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Re.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Re.#n,r=this._currentDrawId,s=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:an.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(an.DRAW_STEP),!Re.#n.isEmpty()){const{pageDimensions:[n,r],scale:s}=e,o=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Re.#n.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:Re.#s,mustBeCommitted:!t});return this._cleanup(!0),o}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,s,o){kn("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:c}}=e.viewport,u=this.deserializeDraw(o,c,r,s,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#c({drawOutlines:u}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#t.serialize([e,n,r,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Pj{#t=new Float64Array(6);#e;#n;#i;#s;#r;#o="";#a=0;#h=new Bp;#c;#d;constructor(t,e,n,r,s,o){this.#c=n,this.#d=r,this.#i=s,this.#s=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#n=[{line:c,points:this.#r}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#u(t,e){return ue._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#u(t,e);const[n,r,s,o]=this.#t.subarray(2,6),c=t-s,u=e-o;return Math.hypot(this.#c*c,this.#d*u)<=2?null:(this.#r.push(t,e),isNaN(n)?(this.#t.set([s,o,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,s,o,t,e],0),this.#e.push(...ue.createBezierPoints(n,r,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,s){this.#c=n,this.#d=r,this.#i=s,[t,e]=this.#u(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:o,points:this.#r}),this.#t.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#r=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,e=this.#n.length;t<e;t++){const{line:n,points:r}=this.#n[t];this.#e=n,this.#r=r,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=ue.svgRound(this.#e[4]),e=ue.svgRound(this.#e[5]);if(this.#r.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#r.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${e}`,this.#a=6}if(this.#r.length===4){const r=ue.svgRound(this.#e[10]),s=ue.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${s}`,this.#a=12,this.#o}const n=[];this.#a===0&&(n.push(`M ${t} ${e}`),this.#a=6);for(let r=this.#a,s=this.#e.length;r<s;r+=6){const[o,c,u,d,f,p]=this.#e.slice(r,r+6).map(ue.svgRound);n.push(`C${o} ${c} ${u} ${d} ${f} ${p}`)}return this.#o+=n.join(" "),this.#a=this.#e.length,this.#o}getOutlines(t,e,n,r){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#h.build(this.#n,t,e,n,this.#i,this.#s,r),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Bp extends ue{#t;#e=0;#n;#i;#s;#r;#o;#a;#h;build(t,e,n,r,s,o,c){this.#s=e,this.#r=n,this.#o=r,this.#a=s,this.#h=o,this.#n=c??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ue.svgRound(e[4])} ${ue.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ue.svgRound(e[10])} ${ue.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[s,o,c,u,d,f]=e.subarray(n,n+6).map(ue.svgRound);t.push(`C${s} ${o} ${c} ${u} ${d} ${f}`)}}return t.join("")}serialize([t,e,n,r],s){const o=[],c=[],[u,d,f,p]=this.#d();let m,b,x,y,E,S,L,T,O;switch(this.#a){case 0:O=ue._rescale,m=t,b=e+r,x=n,y=-r,E=t+u*n,S=e+(1-d-p)*r,L=t+(u+f)*n,T=e+(1-d)*r;break;case 90:O=ue._rescaleAndSwap,m=t,b=e,x=n,y=r,E=t+d*n,S=e+u*r,L=t+(d+p)*n,T=e+(u+f)*r;break;case 180:O=ue._rescale,m=t+n,b=e,x=-n,y=r,E=t+(1-u-f)*n,S=e+d*r,L=t+(1-u)*n,T=e+(d+p)*r;break;case 270:O=ue._rescaleAndSwap,m=t+n,b=e+r,x=-n,y=-r,E=t+(1-d-p)*n,S=e+(1-u-f)*r,L=t+(1-d)*n,T=e+(1-u)*r;break}for(const{line:P,points:B}of this.#i)o.push(O(P,m,b,x,y,s?new Array(P.length):null)),c.push(O(B,m,b,x,y,s?new Array(B.length):null));return{lines:o,points:c,rect:[E,S,L,T]}}static deserialize(t,e,n,r,s,{paths:{lines:o,points:c},rotation:u,thickness:d}){const f=[];let p,m,b,x,y;switch(u){case 0:y=ue._rescale,p=-t/n,m=e/r+1,b=1/n,x=-1/r;break;case 90:y=ue._rescaleAndSwap,p=-e/r,m=-t/n,b=1/r,x=1/n;break;case 180:y=ue._rescale,p=t/n+1,m=-e/r,b=-1/n,x=1/r;break;case 270:y=ue._rescaleAndSwap,p=e/r+1,m=t/n+1,b=-1/r,x=-1/n;break}if(!o){o=[];for(const S of c){const L=S.length;if(L===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(L===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const T=new Float32Array(3*(L-2));o.push(T);let[O,P,B,j]=S.subarray(0,4);T.set([NaN,NaN,NaN,NaN,O,P],0);for(let I=4;I<L;I+=2){const tt=S[I],ct=S[I+1];T.set(ue.createBezierPoints(O,P,B,j,tt,ct),(I-2)*3),[O,P,B,j]=[B,j,tt,ct]}}}for(let S=0,L=o.length;S<L;S++)f.push({line:y(o[S].map(T=>T??NaN),p,m,b,x),points:y(c[S].map(T=>T??NaN),p,m,b,x)});const E=new this.prototype.constructor;return E.build(f,n,r,1,u,d,s),E}#c(t=this.#h){const e=this.#n+t/2*this.#o;return this.#a%180===0?[e/this.#s,e/this.#r]:[e/this.#r,e/this.#s]}#d(){const[t,e,n,r]=this.#t,[s,o]=this.#c(0);return[t+s,e+o,n-2*s,r-2*o]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)ye.pointBoundingBox(r[c],r[c+1],t);continue}let s=r[4],o=r[5];for(let c=6,u=r.length;c<u;c+=6){const[d,f,p,m,b,x]=r.subarray(c,c+6);ye.bezierBoundingBox(s,o,d,f,p,m,b,x,t),s=b,o=x}}const[e,n]=this.#c();t[0]=Fr(t[0]-e,0,1),t[1]=Fr(t[1]-n,0,1),t[2]=Fr(t[2]+e,0,1),t[3]=Fr(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#c();this.#h=t;const[r,s]=this.#c(),[o,c]=[r-e,s-n],u=this.#t;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([t,e],n){const[r,s]=this.#c();this.#s=t,this.#r=e,this.#o=n;const[o,c]=this.#c(),u=o-r,d=c-s,f=this.#t;return f[0]-=u,f[1]-=d,f[2]+=2*u,f[3]+=2*d,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ue.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,s=0,o=0,c=0,u=0;switch(this.#e){case 90:r=e/t,s=-t/e,c=t;break;case 180:n=-1,o=-1,c=t,u=e;break;case 270:r=-e/t,s=t/e,u=e;break;default:return""}return`matrix(${n} ${r} ${s} ${o} ${ue.svgRound(c)} ${ue.svgRound(u)})`}getPathResizingSVGProperties([t,e,n,r]){const[s,o]=this.#c(),[c,u,d,f]=this.#t;if(Math.abs(d-s)<=ue.PRECISION||Math.abs(f-o)<=ue.PRECISION){const y=t+n/2-(c+d/2),E=e+r/2-(u+f/2);return{path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${E})`}}}const p=(n-2*s)/(d-2*s),m=(r-2*o)/(f-2*o),b=d/n,x=f/r;return{path:{"transform-origin":`${ue.svgRound(c)} ${ue.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${ue.svgRound(s)} ${ue.svgRound(o)}) scale(${p} ${m}) translate(${ue.svgRound(-s)} ${ue.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[s,o]=this.#c(),c=this.#t,[u,d,f,p]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=r,Math.abs(f-s)<=ue.PRECISION||Math.abs(p-o)<=ue.PRECISION){const E=t+n/2-(u+f/2),S=e+r/2-(d+p/2);for(const{line:L,points:T}of this.#i)ue._translate(L,E,S,L),ue._translate(T,E,S,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*s)/(f-2*s),b=(r-2*o)/(p-2*o),x=-m*(u+s)+t+s,y=-b*(d+o)+e+o;if(m!==1||b!==1||x!==0||y!==0)for(const{line:E,points:S}of this.#i)ue._rescale(E,x,y,m,b,E),ue._rescale(S,x,y,m,b,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,s]=n,o=this.#t,c=t-o[0],u=e-o[1];if(this.#s===r&&this.#r===s)for(const{line:d,points:f}of this.#i)ue._translate(d,c,u,d),ue._translate(f,c,u,f);else{const d=this.#s/r,f=this.#r/s;this.#s=r,this.#r=s;for(const{line:p,points:m}of this.#i)ue._rescale(p,c,u,d,f,p),ue._rescale(m,c,u,d,f,m);o[2]*=d,o[3]*=f}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t[0])} ${ue.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class x0 extends J3{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Ae._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new x0(this._viewParameters);return t.updateAll(this),t}}class $y extends Re{static _type="ink";static _editorType=Be.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Ae.initialize(t,e),this._defaultDrawingOptions=new x0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return nn(this,"typesMap",new Map([[an.INK_THICKNESS,"stroke-width"],[an.INK_COLOR,"stroke"],[an.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,s){return new Pj(t,e,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,s,o){return Bp.deserialize(t,e,n,r,s,o)}static async deserialize(t,e,n){let r=null;if(t instanceof Gy){const{data:{inkLists:o,rect:c,rotation:u,id:d,color:f,opacity:p,borderStyle:{rawWidth:m},popupRef:b},parent:{page:{pageNumber:x}}}=t;r=t={annotationType:Be.INK,color:Array.from(f),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:u,id:d,deleted:!1,popupRef:b}}const s=await super.deserialize(t,e,n);return s.annotationElementId=t.id||null,s._initialData=r,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=$y.getDefaultDrawingOptions({stroke:ye.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:Be.INK,color:Ae._colorManager.convert(s),opacity:o,thickness:c,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==e[c])||t.thickness!==n||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class mb extends Bp{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const rm=8,Vf=3;class zu{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,n,r,s,o,c){const u=this.#e(n,r,s,o);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=this.#n[2*f],m=this.#n[2*f+1];if(t[(n+p)*e+(r+m)]!==0)return f}return-1}static#s(t,e,n,r,s,o,c){const u=this.#e(n,r,s,o);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=this.#n[2*f],m=this.#n[2*f+1];if(t[(n+p)*e+(r+m)]!==0)return f}return-1}static#r(t,e,n,r){const s=t.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=t[f]<=r?1:0;for(let f=1;f<n-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*n-1-f]=0;let c=1,u;const d=[];for(let f=1;f<n-1;f++){u=1;for(let p=1;p<e-1;p++){const m=f*e+p,b=o[m];if(b===0)continue;let x=f,y=p;if(b===1&&o[m-1]===0)c+=1,y-=1;else if(b>=1&&o[m+1]===0)c+=1,y+=1,b>1&&(u=b);else{b!==1&&(u=Math.abs(b));continue}const E=[p,f],S=y===p+1,L={isHole:S,points:E,id:c,parent:0};d.push(L);let T;for(const z of d)if(z.id===u){T=z;break}T?T.isHole?L.parent=S?T.parent:u:L.parent=S?u:T.parent:L.parent=S?u:0;const O=this.#i(o,e,f,p,x,y,0);if(O===-1){o[m]=-c,o[m]!==1&&(u=Math.abs(o[m]));continue}let P=this.#n[2*O],B=this.#n[2*O+1];const j=f+P,I=p+B;x=j,y=I;let tt=f,ct=p;for(;;){const z=this.#s(o,e,tt,ct,x,y,1);P=this.#n[2*z],B=this.#n[2*z+1];const V=tt+P,rt=ct+B;E.push(rt,V);const nt=tt*e+ct;if(o[nt+1]===0?o[nt]=-c:o[nt]===1&&(o[nt]=c),V===f&&rt===p&&tt===j&&ct===I){o[m]!==1&&(u=Math.abs(o[m]));break}else x=tt,y=ct,tt=V,ct=rt}}}return d}static#o(t,e,n,r){if(n-e<=4){for(let j=e;j<n-2;j+=2)r.push(t[j],t[j+1]);return}const s=t[e],o=t[e+1],c=t[n-4]-s,u=t[n-3]-o,d=Math.hypot(c,u),f=c/d,p=u/d,m=f*o-p*s,b=u/c,x=1/d,y=Math.atan(b),E=Math.cos(y),S=Math.sin(y),L=x*(Math.abs(E)+Math.abs(S)),T=x*(1-L+L**2),O=Math.max(Math.atan(Math.abs(S+E)*T),Math.atan(Math.abs(S-E)*T));let P=0,B=e;for(let j=e+2;j<n-2;j+=2){const I=Math.abs(m-f*t[j+1]+p*t[j]);I>P&&(B=j,P=I)}P>(d*O)**2?(this.#o(t,e,B+2,r),this.#o(t,B,n,r)):r.push(s,o)}static#a(t){const e=[],n=t.length;return this.#o(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#h(t,e,n,r,s,o){const c=new Float32Array(o**2),u=-2*r**2,d=o>>1;for(let y=0;y<o;y++){const E=(y-d)**2;for(let S=0;S<o;S++)c[y*o+S]=Math.exp((E+(S-d)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let y=0;y<256;y++)f[y]=Math.exp(y**2/p);const m=t.length,b=new Uint8Array(m),x=new Uint32Array(256);for(let y=0;y<n;y++)for(let E=0;E<e;E++){const S=y*e+E,L=t[S];let T=0,O=0;for(let B=0;B<o;B++){const j=y+B-d;if(!(j<0||j>=n))for(let I=0;I<o;I++){const tt=E+I-d;if(tt<0||tt>=e)continue;const ct=t[j*e+tt],z=c[B*o+I]*f[Math.abs(ct-L)];T+=ct*z,O+=z}}const P=b[S]=Math.round(T/O);x[P]++}return[b,x]}static#c(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let c=0,u=n.length;c<u;c++){if(t[(c<<2)+3]===0){r=n[c]=255;continue}const f=n[c]=t[c<<2];f>r&&(r=f),f<s&&(s=f)}const o=255/(r-s);for(let c=0;c<e;c++)n[c]=(n[c]-s)*o;return n}static#u(t){let e,n=-1/0,r=-1/0;const s=t.findIndex(u=>u!==0);let o=s,c=s;for(e=s;e<256;e++){const u=t[e];u>n&&(e-o>r&&(r=e-o,c=e-1),n=u,o=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:s}=this.#t;let o=n,c=r;if(n>s||r>s){let m=n,b=r,x=Math.log2(Math.max(n,r)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let S=0;S<x;S++){o=Math.ceil(m/2),c=Math.ceil(b/2);const L=new OffscreenCanvas(o,c);L.getContext("2d").drawImage(t,0,0,m,b,0,0,o,c),m=o,b=c,t!==e&&t.close(),t=L.transferToImageBitmap()}const E=Math.min(s/o,s/c);o=Math.round(o*E),c=Math.round(c*E)}const d=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,o,c);const f=d.getImageData(0,0,o,c).data;return[this.#d(f),o,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},s,o,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,m=f.font=`${n} ${r} ${p}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:E,fontBoundingBoxAscent:S,fontBoundingBoxDescent:L,width:T}=f.measureText(t),O=1.5,P=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||0,T)*O),B=Math.ceil(Math.max(Math.abs(y)+Math.abs(E)||p,Math.abs(S)+Math.abs(L)||p)*O);d=new OffscreenCanvas(P,B),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,P,B),f.fillStyle="black",f.fillText(t,P*(O-1)/2,B*(3-O)/2);const j=this.#d(f.getImageData(0,0,P,B).data),I=this.#c(j),tt=this.#u(I),ct=this.#r(j,P,B,tt);return this.processDrawnLines({lines:{curves:ct,width:P,height:B},pageWidth:s,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,s){const[o,c,u]=this.#f(t),[d,f]=this.#h(o,c,u,Math.hypot(c,u)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#u(f),m=this.#r(d,c,u,p);return this.processDrawnLines({lines:{curves:m,width:c,height:u},pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:o,areContours:c}){r%180!==0&&([e,n]=[n,e]);const{curves:u,width:d,height:f}=t,p=t.thickness??0,m=[],b=Math.min(e/d,n/f),x=b/e,y=b/n,E=[];for(const{points:L}of u){const T=o?this.#a(L):L;if(!T)continue;E.push(T);const O=T.length,P=new Float32Array(O),B=new Float32Array(3*(O===2?2:O-2));if(m.push({line:B,points:P}),O===2){P[0]=T[0]*x,P[1]=T[1]*y,B.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[j,I,tt,ct]=T;j*=x,I*=y,tt*=x,ct*=y,P.set([j,I,tt,ct],0),B.set([NaN,NaN,NaN,NaN,j,I],0);for(let z=4;z<O;z+=2){const V=P[z]=T[z]*x,rt=P[z+1]=T[z+1]*y;B.set(ue.createBezierPoints(j,I,tt,ct,V,rt),(z-2)*3),[j,I,tt,ct]=[tt,ct,V,rt]}}if(m.length===0)return null;const S=c?new mb:new Bp;return S.build(m,e,n,1,r,c?0:p,s),{outline:S,newCurves:E,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:s}){let o=1/0,c=-1/0,u=0;for(const T of t){u+=T.length;for(let O=2,P=T.length;O<P;O++){const B=T[O]-T[O-2];o=Math.min(o,B),c=Math.max(c,B)}}let d;o>=-128&&c<=127?d=Int8Array:o>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,p=rm+Vf*f,m=new Uint32Array(p);let b=0;m[b++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,m[b++]=0,m[b++]=r,m[b++]=s,m[b++]=e?0:1,m[b++]=Math.max(0,Math.floor(n??0)),m[b++]=f,m[b++]=d.BYTES_PER_ELEMENT;for(const T of t)m[b++]=T.length-2,m[b++]=T[0],m[b++]=T[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(m);const E=d.prototype.constructor;for(const T of t){const O=new E(T.length-2);for(let P=2,B=T.length;P<B;P++)O[P-2]=T[P]-T[P-2];y.write(O)}y.close();const S=await new Response(x.readable).arrayBuffer(),L=new Uint8Array(S);return A3(L)}static async decompressSignature(t){try{const e=l7(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,c=0;for await(const T of n)o||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),o.set(T,c),c+=T.length;const u=new Uint32Array(o.buffer,0,o.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],m=u[4]===0,b=u[5],x=u[6],y=u[7],E=[],S=(rm+Vf*x)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(y){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(o.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(o.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(o.buffer,S);break}c=0;for(let T=0;T<x;T++){const O=u[Vf*T+rm],P=new Float32Array(O+2);E.push(P);for(let B=0;B<Vf-1;B++)P[B]=u[Vf*T+rm+B+1];for(let B=0;B<O;B++)P[B+2]=P[B]+L[c++]}return{areContours:m,thickness:b,outlines:E,width:f,height:p}}catch(e){return Ue(`decompressSignature: ${e}`),null}}}class Wy extends J3{constructor(){super(),super.updateProperties({fill:Ae._defaultLineColor,"stroke-width":0})}clone(){const t=new Wy;return t.updateAll(this),t}}class Yy extends x0{constructor(t){super(t),super.updateProperties({stroke:Ae._defaultLineColor,"stroke-width":1})}clone(){const t=new Yy(this._viewParameters);return t.updateAll(this),t}}class Io extends Re{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Be.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Ae.initialize(t,e),this._defaultDrawingOptions=new Wy,this._defaultDrawnSignatureOptions=new Yy(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return nn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:s,areContours:o,description:c,uuid:u,heightInPage:d}=this.#n,{rawDims:{pageWidth:f,pageHeight:p},rotation:m}=this.parent.viewport,b=zu.processDrawnLines({lines:r,pageWidth:f,pageHeight:p,rotation:m,innerMargin:Io._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(b,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:s}=this.#n,o=Math.max(r,s),c=zu.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:n,width:r,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,n,r){const{x:s,y:o}=this,{outline:c}=this.#n=t;this.#t=c instanceof mb,this.#e=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let u;this.#t?u=Io.getDefaultDrawingOptions():(u=Io._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[d,f]=this.parentDimensions,[,p]=this.pageDimensions;let m=e/p;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(d*this.width,f*this.height),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return zu.process(t,e,n,r,Io._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return zu.extractContoursFromText(t,e,n,r,s,Io._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return zu.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Io._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Io.getDefaultDrawingOptions():(this._drawingOptions=Io._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o={annotationType:Be.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:e,points:n},o.uuid=this.#i,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,s,o){return o.areContours?mb.deserialize(t,e,n,r,s,o):Bp.deserialize(t,e,n,r,s,o)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class Oj extends Ae{#t=null;#e=null;#n=null;#i=null;#s=null;#r="";#o=null;#a=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=Be.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Ae.initialize(t,e)}static isHandlingMimeForPasting(t){return zm.includes(t)}static paste(t,e){e.pasteEditor({mode:Be.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#r=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),e&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#l(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=zm.join(",");const e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#l();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#l(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#s||this.#e||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#a||(this.#t?this.#p():this.#l()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#a=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,s]=this.pageDimensions,o=.75;if(this.width)e=this.width*r,n=this.height*s;else if(e>o*r||n>o*s){const f=Math.min(o*r/e,o*s/n);e*=f,n*=f}const[c,u]=this.parentDimensions;this.setDims(e*c/r,n*u/s),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=e/r,this.height=n/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r)}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:s}=this.#t,o=new Ga;let c=this.#t,u=r,d=s,f=null;if(e){if(r>e||s>e){const B=Math.min(e/r,e/s);u=Math.floor(r*B),d=Math.floor(s*B)}f=document.createElement("canvas");const m=f.width=Math.ceil(u*o.sx),b=f.height=Math.ceil(d*o.sy);this.#c||(c=this.#m(m,b));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",E="#42414d");const S=15,L=S*o.sx,T=S*o.sy,O=new OffscreenCanvas(L*2,T*2),P=O.getContext("2d");P.fillStyle=y,P.fillRect(0,0,L*2,T*2),P.fillStyle=E,P.fillRect(0,0,L,T),P.fillRect(L,T,L,T),x.fillStyle=x.createPattern(O,"repeat"),x.fillRect(0,0,m,b),x.drawImage(c,0,0,c.width,c.height,0,0,m,b)}let p=null;if(n){let m,b;if(o.symmetric&&c.width<t&&c.height<t)m=c.width,b=c.height;else if(c=this.#t,r>t||s>t){const E=Math.min(t/r,t/s);m=Math.floor(r*E),b=Math.floor(s*E),this.#c||(c=this.#m(m,b))}const y=new OffscreenCanvas(m,b).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,m,b),p={width:m,height:b,data:y.getImageData(0,0,m,b).data}}return{canvas:f,width:u,height:d,imageData:p}}#m(t,e){const{width:n,height:r}=this.#t;let s=n,o=r,c=this.#t;for(;s>2*t||o>2*e;){const u=s,d=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(c,0,0,u,d,0,0,s,o),c=f.transferToImageBitmap()}return c}#g(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,s=new Ga,o=Math.ceil(n*t*s.sx),c=Math.ceil(r*e*s.sy),u=this.#o;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const d=this.#c?this.#t:this.#m(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,c)}#v(t){if(t){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*nh.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*nh.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,s=!1;if(t instanceof K3){const{data:{rect:y,rotation:E,id:S,structParent:L,popupRef:T},container:O,parent:{page:{pageNumber:P}},canvas:B}=t;let j,I;B?(delete t.canvas,{id:j,bitmap:I}=n.imageManager.getFromCanvas(O.id,B),B.remove()):(s=!0,t._hasNoCanvas=!0);const tt=(await e._structTree.getAriaAttributes(`${Ty}${S}`))?.get("aria-label")||"";r=t={annotationType:Be.STAMP,bitmapId:j,bitmap:I,pageIndex:P-1,rect:y.slice(0),rotation:E,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:L,popupRef:T}}const o=await super.deserialize(t,e,n),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:m}=t;s?(n.addMissingCanvas(t.id,o),o.#a=!0):f&&n.imageManager.isValidId(f)?(o.#e=f,u&&(o.#t=u)):o.#i=d,o.#c=p;const[b,x]=o.pageDimensions;return o.width=(c[2]-c[0])/b,o.height=(c[3]-c[1])/x,o.annotationElementId=t.id||null,m&&(o.altTextData=m),o._initialData=r,o.#d=!!r,o}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Be.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(n);if(c.isSame)return null;c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const o=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:o,serialized:n}),n.bitmap=this.#v(!1);else if(this.#c){const c=e.stamps.get(this.#e);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Bo{#t;#e=!1;#n=null;#i=null;#s=null;#r=new Map;#o=!1;#a=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#l;static _initialized=!1;static#p=new Map([Yi,$y,Oj,Ci,Io].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:u,viewport:d,l10n:f}){const p=[...Bo.#p.values()];if(!Bo._initialized){Bo._initialized=!0;for(const m of p)m.initialize(f,t)}t.registerEditorTypes(p),this.#l=t,this.pageIndex=e,this.div=n,this.#t=s,this.#n=o,this.viewport=d,this.#u=u,this.drawLayer=c,this._structTree=r,this.#l.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#l.getMode()===Be.NONE}updateToolbar(t){this.#l.updateToolbar(t)}updateMode(t=this.#l.getMode()){switch(this.#y(),t){case Be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Be.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Bo.#p.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#l.setEditingState(t)}addCommands(t){this.#l.addCommands(t)}cleanUndoStack(t){this.#l.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#r.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#l.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const n of e){if(n.hide(),this.#l.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of this.#r.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const s of r){const{id:o}=s.data;if(this.#l.isDeletedAnnotationElement(o))continue;let c=e.get(o);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=t.get(o),c&&(this.#l.addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Bo.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#l.getActive()!==t&&this.#l.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#l.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#l.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:n}=fr.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#l.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ci.startHighlighting(this,this.#l.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#l._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#l.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#r.set(t.id,t);const{annotationElementId:e}=t;e&&this.#l.isDeletedAnnotationElement(e)&&this.#l.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#a&&t.annotationElementId&&this.#l.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#l.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#l.addDeletedAnnotationElement(t.annotationElementId),Ae.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#l.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#l.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#l._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#l.getId()}get#g(){return Bo.#p.get(this.#l.getMode())}combinedSignal(t){return this.#l.combinedSignal(t)}#v(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#l.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#b(),s=this.getNextId(),o=this.#v({parent:this,id:s,x:n,y:r,uiManager:this.#l,isCentered:!0,...e});o&&this.add(o)}async deserialize(t){return await Bo.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#l)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),s=this.#v({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#l,isCentered:e,...n});return s&&this.add(s),s}#b(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,e+r),d=(s+c)/2-t,f=(o+u)/2-e,[p,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:m}}addNewEditor(t={}){this.createAndAddNewEditor(this.#b(),!0,t)}setSelected(t){this.#l.setSelected(t)}toggleSelected(t){this.#l.toggleSelected(t)}unselect(t){this.#l.unselect(t)}pointerup(t){const{isMac:e}=fr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#l.getMode();if(n===Be.STAMP||n===Be.SIGNATURE){this.#l.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#l.getMode()===Be.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=fr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const n=this.#l.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#l,!1,t);return}this.#l.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#l.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#l,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#l.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#l.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#l.getActive()?.parent===this&&(this.#l.commitOrRemove(),this.#l.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#r.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#l.removeLayer(this)}#y(){for(const t of this.#r.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Vc(this.div,t);for(const e of this.#l.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#l.commitOrRemove(),this.#y();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Vc(this.div,{rotation:n}),e!==n)for(const r of this.#r.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#l.viewParameters.realScale}}class lr{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return nn(this,"_svgFactory",new pp)}static#s(t,[e,n,r,s]){const{style:o}=t;o.top=`${100*n}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#r(){const t=lr._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const n=lr._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=lr._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#a(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=lr.#i++,s=this.#r(),o=lr._svgFactory.createElement("defs");s.append(o);const c=lr._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,c);const d=n?this.#o(o,u):null,f=lr._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,t),this.#e.set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=lr.#i++,r=this.#r(),s=lr._svgFactory.createElement("defs");r.append(s);const o=lr._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=lr._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=lr._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const b=lr._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=lr._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return r.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:s,path:o}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#a(c,n),r&&lr.#s(c,r),s){const{classList:u}=c;for(const[d,f]of Object.entries(s))u.toggle(d,f)}if(o){const d=c.firstChild.firstChild;this.#a(d,o)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:pb};globalThis.pdfjsLib={AbortException:Fl,AnnotationEditorLayer:Bo,AnnotationEditorParamsType:an,AnnotationEditorType:Be,AnnotationEditorUIManager:Bl,AnnotationLayer:Vy,AnnotationMode:Uo,AnnotationType:_i,build:G3,ColorPicker:Ds,createValidAbsoluteUrl:Ny,DOMSVGFactory:pp,DrawLayer:lr,FeatureTest:fr,fetchData:Ud,getDocument:By,getFilenameFromUrl:S3,getPdfFilenameFromUrl:E3,getUuid:Ly,getXfaPageViewport:_3,GlobalWorkerOptions:Wo,ImageKind:Jf,InvalidPDFException:Bm,isDataScheme:kp,isPdfFile:y0,isValidExplicitDest:L3,MathClamp:Fr,noContextMenu:oa,normalizeUnicode:x3,OPS:up,OutputScale:Ga,PasswordResponses:y3,PDFDataRangeTransport:Uy,PDFDateString:My,PDFWorker:Cd,PermissionFlag:b3,PixelsPerInch:nh,RenderingCancelledException:b0,ResponseException:hp,setLayerDimensions:Vc,shadow:nn,SignatureExtractor:zu,stopEvent:Ni,SupportedImageMimeTypes:zm,TextLayer:dp,TouchManager:jp,updateUrlHash:Ry,Util:ye,VerbosityLevel:Mp,version:qy,XfaLayer:Hy};const kj=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Fl,AnnotationEditorLayer:Bo,AnnotationEditorParamsType:an,AnnotationEditorType:Be,AnnotationEditorUIManager:Bl,AnnotationLayer:Vy,AnnotationMode:Uo,AnnotationType:_i,ColorPicker:Ds,DOMSVGFactory:pp,DrawLayer:lr,FeatureTest:fr,GlobalWorkerOptions:Wo,ImageKind:Jf,InvalidPDFException:Bm,MathClamp:Fr,OPS:up,OutputScale:Ga,PDFDataRangeTransport:Uy,PDFDateString:My,PDFWorker:Cd,PasswordResponses:y3,PermissionFlag:b3,PixelsPerInch:nh,RenderingCancelledException:b0,ResponseException:hp,SignatureExtractor:zu,SupportedImageMimeTypes:zm,TextLayer:dp,TouchManager:jp,Util:ye,VerbosityLevel:Mp,XfaLayer:Hy,build:G3,createValidAbsoluteUrl:Ny,fetchData:Ud,getDocument:By,getFilenameFromUrl:S3,getPdfFilenameFromUrl:E3,getUuid:Ly,getXfaPageViewport:_3,isDataScheme:kp,isPdfFile:y0,isValidExplicitDest:L3,noContextMenu:oa,normalizeUnicode:x3,setLayerDimensions:Vc,shadow:nn,stopEvent:Ni,updateUrlHash:Ry,version:qy},Symbol.toStringTag,{value:"Module"})),Dj=["onCopy","onCut","onPaste"],jj=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Ij=["onFocus","onBlur"],Fj=["onInput","onInvalid","onReset","onSubmit"],Bj=["onLoad","onError"],zj=["onKeyDown","onKeyPress","onKeyUp"],Uj=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qj=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Hj=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Gj=["onSelect"],Vj=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$j=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Wj=["onScroll"],Yj=["onWheel"],Xj=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Kj=["onTransitionEnd"],Qj=["onToggle"],Zj=["onChange"],Jj=[...Dj,...jj,...Ij,...Fj,...Bj,...zj,...Uj,...qj,...Hj,...Gj,...Vj,...$j,...Wj,...Yj,...Xj,...Kj,...Zj,...Qj];function tC(i,t){const e={};for(const n of Jj){const r=i[n];r&&(t?e[n]=s=>r(s,t(n)):e[n]=r)}return e}function zp(i){let t=!1;return{promise:new Promise((n,r)=>{i.then(s=>!t&&n(s)).catch(s=>!t&&r(s))}),cancel(){t=!0}}}var tI="Invariant failed";function zn(i,t){if(!i)throw new Error(tI)}var vv,iA;function eI(){if(iA)return vv;iA=1;var i=function(){};return vv=i,vv}var nI=eI();const zr=mp(nI);var rA=Object.prototype.hasOwnProperty;function sA(i,t,e){for(e of i.keys())if(md(e,t))return e}function md(i,t){var e,n,r;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&md(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=sA(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=sA(t,r),!r)||!md(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(rA.call(i,e)&&++n&&!rA.call(t,e)||!(e in t)||!md(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const eC=k.createContext(null);function vd({children:i,type:t}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const iI="noopener noreferrer nofollow";class rI{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return zn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){zn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{zn(this.pdfDocument),zn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{zn(Array.isArray(e));const n=e[0];new Promise(r=>{zn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{r(s)}).catch(()=>{zn(!1)}):typeof n=="number"?r(n):zn(!1)}).then(r=>{const s=r+1;zn(this.pdfViewer),zn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:s})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;zn(this.pdfViewer),zn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||iI,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const aA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},A0=typeof window<"u",nC=A0&&window.location.protocol==="file:";function sI(i){return typeof i<"u"}function Iu(i){return sI(i)&&i!==null}function aI(i){return typeof i=="string"}function oI(i){return i instanceof ArrayBuffer}function lI(i){return zn(A0),i instanceof Blob}function vb(i){return aI(i)&&/^data:/.test(i)}function oA(i){zn(vb(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function cI(){return A0&&window.devicePixelRatio||1}const iC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function lA(){zr(!nC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${iC}`)}function uI(){zr(!nC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${iC}`)}function rh(i){i?.cancel&&i.cancel()}function bb(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function hI(i){return i.name==="RenderingCancelledException"}function dI(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return e(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function fI(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Nd(){return k.useReducer(fI,{value:void 0,error:void 0})}var cA=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const{PDFDataRangeTransport:pI}=kj,gI=(i,t)=>{switch(t){case aA.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case aA.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function uA(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Xy=k.forwardRef(function(t,e){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:c,file:u,inputRef:d,imageResourcesPath:f,loading:p="Loading PDF",noData:m="No PDF file specified.",onItemClick:b,onLoadError:x,onLoadProgress:y,onLoadSuccess:E,onPassword:S=gI,onSourceError:L,onSourceSuccess:T,options:O,renderMode:P,rotate:B,scale:j}=t,I=cA(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[tt,ct]=Nd(),{value:z,error:V}=tt,[rt,nt]=Nd(),{value:ut,error:H}=rt,et=k.useRef(new rI),Z=k.useRef([]),gt=k.useRef(void 0),Y=k.useRef(void 0);u&&u!==gt.current&&uA(u)&&(zr(!md(u,gt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),gt.current=u),O&&O!==Y.current&&(zr(!md(O,Y.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Y.current=O);const dt=k.useRef({scrollPageIntoView:Zt=>{const{dest:Tt,pageNumber:ot,pageIndex:le=ot-1}=Zt;if(b){b({dest:Tt,pageIndex:le,pageNumber:ot});return}const se=Z.current[le];if(se){se.scrollIntoView();return}zr(!1,`An internal link leading to page ${ot} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});k.useImperativeHandle(e,()=>({linkService:et,pages:Z,viewer:dt}),[]);function D(){T&&T()}function G(){V&&(zr(!1,V.toString()),L&&L(V))}function Q(){ct({type:"RESET"})}k.useEffect(Q,[u,ct]);const st=k.useCallback(async()=>{if(!u)return null;if(typeof u=="string")return vb(u)?{data:oA(u)}:(lA(),{url:u});if(u instanceof pI)return{range:u};if(oI(u))return{data:u};if(A0&&lI(u))return{data:await dI(u)};if(zn(typeof u=="object"),zn(uA(u)),"url"in u&&typeof u.url=="string"){if(vb(u.url)){const{url:Zt}=u,Tt=cA(u,["url"]),ot=oA(Zt);return Object.assign({data:ot},Tt)}lA()}return u},[u]);k.useEffect(()=>{const Zt=zp(st());return Zt.promise.then(Tt=>{ct({type:"RESOLVE",value:Tt})}).catch(Tt=>{ct({type:"REJECT",error:Tt})}),()=>{rh(Zt)}},[st,ct]),k.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){G();return}D()}},[z]);function at(){ut&&(E&&E(ut),Z.current=new Array(ut.numPages),et.current.setDocument(ut))}function ft(){H&&(zr(!1,H.toString()),x&&x(H))}k.useEffect(function(){nt({type:"RESET"})},[nt,z]),k.useEffect(function(){if(!z)return;const Tt=O?Object.assign(Object.assign({},z),O):z,ot=By(Tt);y&&(ot.onProgress=y),S&&(ot.onPassword=S);const le=ot,se=le.promise.then(Ht=>{nt({type:"RESOLVE",value:Ht})}).catch(Ht=>{le.destroyed||nt({type:"REJECT",error:Ht})});return()=>{se.finally(()=>le.destroy())}},[O,nt,z]),k.useEffect(()=>{if(!(typeof ut>"u")){if(ut===!1){ft();return}at()}},[ut]),k.useEffect(function(){et.current.setViewer(dt.current),et.current.setExternalLinkRel(o),et.current.setExternalLinkTarget(c)},[o,c]);const wt=k.useCallback((Zt,Tt)=>{Z.current[Zt]=Tt},[]),St=k.useCallback(Zt=>{delete Z.current[Zt]},[]),Dt=k.useMemo(()=>({imageResourcesPath:f,linkService:et.current,onItemClick:b,pdf:ut,registerPage:wt,renderMode:P,rotate:B,scale:j,unregisterPage:St}),[f,b,ut,wt,P,B,j,St]),Ut=k.useMemo(()=>tC(I,()=>ut),[I,ut]);function Wt(){return R.jsx(eC.Provider,{value:Dt,children:n})}function Vt(){return u?ut==null?R.jsx(vd,{type:"loading",children:typeof p=="function"?p():p}):ut===!1?R.jsx(vd,{type:"error",children:typeof s=="function"?s():s}):Wt():R.jsx(vd,{type:"no-data",children:typeof m=="function"?m():m})}return R.jsx("div",Object.assign({className:kd("react-pdf__Document",r),ref:d},Ut,{children:Vt()}))});function rC(){return k.useContext(eC)}function sC(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(s){for(var o=0,c=e;o<c.length;o++){var u=c[o];typeof u=="function"?u(s):u&&(u.current=s)}}}const aC=k.createContext(null),oC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},mI=/^H(\d+)$/;function vI(i){return i in oC}function S0(i){return"children"in i}function lC(i){return S0(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function bI(i){const t={};if(S0(i)){const{role:e}=i,n=e.match(mI);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(vI(e)){const r=oC[e];r&&(t.role=r)}}return t}function cC(i){const t={};if(S0(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),lC(i)){const[e]=i.children;if(e){const n=cC(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function yI(i){return i?Object.assign(Object.assign({},bI(i)),cC(i)):null}function uC({className:i,node:t}){const e=k.useMemo(()=>yI(t),[t]),n=k.useMemo(()=>!S0(t)||lC(t)?null:t.children.map((r,s)=>R.jsx(uC,{node:r},s)),[t]);return R.jsx("span",Object.assign({className:i},e,{children:n}))}function E0(){return k.useContext(aC)}function wI(){const i=E0();zn(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,r]=Nd(),{value:s,error:o}=n,{customTextRenderer:c,page:u}=i;function d(){s&&e&&e(s)}function f(){o&&(zr(!1,o.toString()),t&&t(o))}return k.useEffect(function(){r({type:"RESET"})},[r,u]),k.useEffect(function(){if(c||!u)return;const m=zp(u.getStructTree()),b=m;return m.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>rh(b)},[c,u,r]),k.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}d()}},[s]),s?R.jsx(uC,{className:"react-pdf__Page__structTree structTree",node:s}):null}const hA=Uo;function xI(i){const t=E0();zn(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:r,devicePixelRatio:s=cI(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:m}=e,{canvasRef:b}=i;zn(u);const x=k.useRef(null);function y(){u&&c&&c(bb(u,m))}function E(O){hI(O)||(zr(!1,O.toString()),o&&o(O))}const S=k.useMemo(()=>u.getViewport({scale:m*s,rotation:p}),[s,u,p,m]),L=k.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);k.useEffect(function(){if(!u)return;u.cleanup();const{current:P}=x;if(!P)return;P.width=S.width,P.height=S.height,P.style.width=`${Math.floor(L.width)}px`,P.style.height=`${Math.floor(L.height)}px`,P.style.visibility="hidden";const B={annotationMode:d?hA.ENABLE_FORMS:hA.ENABLE,canvasContext:P.getContext("2d",{alpha:!1}),viewport:S};r&&(B.background=r);const j=u.render(B),I=j;return j.promise.then(()=>{P.style.visibility="",y()}).catch(E),()=>rh(I)},[r,u,d,S,L]);const T=k.useCallback(()=>{const{current:O}=x;O&&(O.width=0,O.height=0)},[]);return k.useEffect(()=>T,[T]),R.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:sC(b,x),style:{display:"block",userSelect:"none"},children:f?R.jsx(wI,{}):null})}function AI(i){return"str"in i}function SI(){const i=E0();zn(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:c,pageNumber:u,rotate:d,scale:f}=i;zn(o);const[p,m]=Nd(),{value:b,error:x}=p,y=k.useRef(null);zr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){b&&n&&n(b)}function S(){x&&(zr(!1,x.toString()),e&&e(x))}k.useEffect(function(){m({type:"RESET"})},[o,m]),k.useEffect(function(){if(!o)return;const I=zp(o.getTextContent()),tt=I;return I.promise.then(ct=>{m({type:"RESOLVE",value:ct})}).catch(ct=>{m({type:"REJECT",error:ct})}),()=>rh(tt)},[o,m]),k.useEffect(()=>{if(b!==void 0){if(b===!1){S();return}E()}},[b]);const L=k.useCallback(()=>{s&&s()},[s]),T=k.useCallback(j=>{zr(!1,j.toString()),r&&r(j)},[r]);function O(){const j=y.current;j&&j.classList.add("selecting")}function P(){const j=y.current;j&&j.classList.remove("selecting")}const B=k.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return k.useLayoutEffect(function(){if(!o||!b)return;const{current:I}=y;if(!I)return;I.innerHTML="";const tt=o.streamTextContent({includeMarkedContent:!0}),ct={container:I,textContentSource:tt,viewport:B},z=new dp(ct),V=z;return z.render().then(()=>{const rt=document.createElement("div");rt.className="endOfContent",I.append(rt);const nt=I.querySelectorAll('[role="presentation"]');if(t){let ut=0;b.items.forEach((H,et)=>{if(!AI(H))return;const Z=nt[ut];if(!Z)return;const gt=t(Object.assign({pageIndex:c,pageNumber:u,itemIndex:et},H));Z.innerHTML=gt,ut+=H.str&&H.hasEOL?2:1})}L()}).catch(T),()=>rh(V)},[t,T,L,o,c,u,b,B]),R.jsx("div",{className:kd("react-pdf__Page__textContent","textLayer"),onMouseUp:P,onMouseDown:O,ref:y})}function EI(){const i=rC(),t=E0();zn(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:p,rotate:m,scale:b=1}=e;zn(f),zn(d),zn(r);const[x,y]=Nd(),{value:E,error:S}=x,L=k.useRef(null);zr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function T(){E&&o&&o(E)}function O(){S&&(zr(!1,S.toString()),s&&s(S))}k.useEffect(function(){y({type:"RESET"})},[y,d]),k.useEffect(function(){if(!d)return;const tt=zp(d.getAnnotations()),ct=tt;return tt.promise.then(z=>{y({type:"RESOLVE",value:z})}).catch(z=>{y({type:"REJECT",error:z})}),()=>{rh(ct)}},[y,d]),k.useEffect(()=>{if(E!==void 0){if(E===!1){O();return}T()}},[E]);function P(){u&&u()}function B(I){zr(!1,`${I}`),c&&c(I)}const j=k.useMemo(()=>d.getViewport({scale:b,rotation:m}),[d,m,b]);return k.useEffect(function(){if(!f||!d||!r||!E)return;const{current:tt}=L;if(!tt)return;const ct=j.clone({dontFlip:!0}),z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:d,structTreeLayer:null,viewport:ct},V={annotations:E,annotationStorage:f.annotationStorage,div:tt,imageResourcesPath:n,linkService:r,page:d,renderForms:p,viewport:ct};tt.innerHTML="";try{new Vy(z).render(V),P()}catch(rt){B(rt)}return()=>{}},[E,n,r,d,f,p,j]),R.jsx("div",{className:kd("react-pdf__Page__annotations","annotationLayer"),ref:L})}var _I=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const dA=1;function Ky(i){const t=rC(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:m="Failed to load the page.",height:b,inputRef:x,loading:y="Loading page",noData:E="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:L,onGetStructTreeError:T,onGetStructTreeSuccess:O,onGetTextError:P,onGetTextSuccess:B,onLoadError:j,onLoadSuccess:I,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:ct,onRenderError:z,onRenderSuccess:V,onRenderTextLayerError:rt,onRenderTextLayerSuccess:nt,pageIndex:ut,pageNumber:H,pdf:et,registerPage:Z,renderAnnotationLayer:gt=!0,renderForms:Y=!1,renderMode:dt="canvas",renderTextLayer:D=!0,rotate:G,scale:Q=dA,unregisterPage:st,width:at}=e,ft=_I(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[wt,St]=Nd(),{value:Dt,error:Ut}=wt,Wt=k.useRef(null);zn(et);const Vt=Iu(H)?H-1:ut??null,Zt=H??(Iu(ut)?ut+1:null),Tt=G??(Dt?Dt.rotate:null),ot=k.useMemo(()=>{if(!Dt)return null;let be=1;const Ie=Q??dA;if(at||b){const oe=Dt.getViewport({scale:1,rotation:Tt});at?be=at/oe.width:b&&(be=b/oe.height)}return Ie*be},[b,Dt,Tt,Q,at]);k.useEffect(function(){return()=>{Iu(Vt)&&r&&st&&st(Vt)}},[r,et,Vt,st]);function le(){if(I){if(!Dt||!ot)return;I(bb(Dt,ot))}if(r&&Z){if(!Iu(Vt)||!Wt.current)return;Z(Vt,Wt.current)}}function se(){Ut&&(zr(!1,Ut.toString()),j&&j(Ut))}k.useEffect(function(){St({type:"RESET"})},[St,et,Vt]),k.useEffect(function(){if(!et||!Zt)return;const Ie=zp(et.getPage(Zt)),oe=Ie;return Ie.promise.then(Ce=>{St({type:"RESOLVE",value:Ce})}).catch(Ce=>{St({type:"REJECT",error:Ce})}),()=>rh(oe)},[St,et,Zt]),k.useEffect(()=>{if(Dt!==void 0){if(Dt===!1){se();return}le()}},[Dt,ot]);const Ht=k.useMemo(()=>Dt&&Iu(Vt)&&Zt&&Iu(Tt)&&Iu(ot)?{_className:n,canvasBackground:s,customTextRenderer:f,devicePixelRatio:p,onGetAnnotationsError:S,onGetAnnotationsSuccess:L,onGetStructTreeError:T,onGetStructTreeSuccess:O,onGetTextError:P,onGetTextSuccess:B,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:ct,onRenderError:z,onRenderSuccess:V,onRenderTextLayerError:rt,onRenderTextLayerSuccess:nt,page:Dt,pageIndex:Vt,pageNumber:Zt,renderForms:Y,renderTextLayer:D,rotate:Tt,scale:ot}:null,[n,s,f,p,S,L,T,O,P,B,tt,ct,z,V,rt,nt,Dt,Vt,Zt,Y,D,Tt,ot]),Qt=k.useMemo(()=>tC(ft,()=>Dt&&(ot?bb(Dt,ot):void 0)),[ft,Dt,ot]),Jt=`${Vt}@${ot}/${Tt}`;function Yt(){switch(dt){case"custom":return zn(d),R.jsx(d,{},`${Jt}_custom`);case"none":return null;case"canvas":default:return R.jsx(xI,{canvasRef:o},`${Jt}_canvas`)}}function ce(){return D?R.jsx(SI,{},`${Jt}_text`):null}function _e(){return gt?R.jsx(EI,{},`${Jt}_annotations`):null}function ke(){return R.jsxs(aC.Provider,{value:Ht,children:[Yt(),ce(),_e(),c]})}function Se(){return Zt?et===null||Dt===void 0||Dt===null?R.jsx(vd,{type:"loading",children:typeof y=="function"?y():y}):et===!1||Dt===!1?R.jsx(vd,{type:"error",children:typeof m=="function"?m():m}):ke():R.jsx(vd,{type:"no-data",children:typeof E=="function"?E():E})}return R.jsx("div",Object.assign({className:kd(n,u),"data-page-number":Zt,ref:sC(x,Wt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ot}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Qt,{children:Se()}))}uI();Wo.workerSrc="pdf.worker.mjs";const CI="modulepreload",NI=function(i){return"/"+i},fA={},yb=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(e.map(d=>{if(d=NI(d),d in fA)return;fA[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":CI,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((b,x)=>{m.addEventListener("load",b),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function Ln(i){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(i)}var Ur=Uint8Array,Fs=Uint16Array,Qy=Int32Array,_0=new Ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C0=new Ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wb=new Ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hC=function(i,t){for(var e=new Fs(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new Qy(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)r[s]=s-e[n]<<5|n;return{b:e,r}},dC=hC(_0,2),fC=dC.b,xb=dC.r;fC[28]=258,xb[258]=28;var pC=hC(C0,0),RI=pC.b,pA=pC.r,Ab=new Fs(32768);for(var Yn=0;Yn<32768;++Yn){var Oc=(Yn&43690)>>1|(Yn&21845)<<1;Oc=(Oc&52428)>>2|(Oc&13107)<<2,Oc=(Oc&61680)>>4|(Oc&3855)<<4,Ab[Yn]=((Oc&65280)>>8|(Oc&255)<<8)>>1}var Yo=function(i,t,e){for(var n=i.length,r=0,s=new Fs(t);r<n;++r)i[r]&&++s[i[r]-1];var o=new Fs(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var c;if(e){c=new Fs(1<<t);var u=15-t;for(r=0;r<n;++r)if(i[r])for(var d=r<<4|i[r],f=t-i[r],p=o[i[r]-1]++<<f,m=p|(1<<f)-1;p<=m;++p)c[Ab[p]>>u]=d}else for(c=new Fs(n),r=0;r<n;++r)i[r]&&(c[r]=Ab[o[i[r]-1]++]>>15-i[r]);return c},$c=new Ur(288);for(var Yn=0;Yn<144;++Yn)$c[Yn]=8;for(var Yn=144;Yn<256;++Yn)$c[Yn]=9;for(var Yn=256;Yn<280;++Yn)$c[Yn]=7;for(var Yn=280;Yn<288;++Yn)$c[Yn]=8;var gp=new Ur(32);for(var Yn=0;Yn<32;++Yn)gp[Yn]=5;var LI=Yo($c,9,0),TI=Yo($c,9,1),MI=Yo(gp,5,0),PI=Yo(gp,5,1),bv=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},Da=function(i,t,e){var n=t/8|0;return(i[n]|i[n+1]<<8)>>(t&7)&e},yv=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},Zy=function(i){return(i+7)/8|0},gC=function(i,t,e){return(e==null||e>i.length)&&(e=i.length),new Ur(i.subarray(t,e))},OI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ia=function(i,t,e){var n=new Error(t||OI[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,Ia),!e)throw n;return n},kI=function(i,t,e,n){var r=i.length,s=0;if(!r||t.f&&!t.l)return e||new Ur(0);var o=!e,c=o||t.i!=2,u=t.i;o&&(e=new Ur(r*3));var d=function(Ut){var Wt=e.length;if(Ut>Wt){var Vt=new Ur(Math.max(Wt*2,Ut));Vt.set(e),e=Vt}},f=t.f||0,p=t.p||0,m=t.b||0,b=t.l,x=t.d,y=t.m,E=t.n,S=r*8;do{if(!b){f=Da(i,p,1);var L=Da(i,p+1,3);if(p+=3,L)if(L==1)b=TI,x=PI,y=9,E=5;else if(L==2){var B=Da(i,p,31)+257,j=Da(i,p+10,15)+4,I=B+Da(i,p+5,31)+1;p+=14;for(var tt=new Ur(I),ct=new Ur(19),z=0;z<j;++z)ct[wb[z]]=Da(i,p+z*3,7);p+=j*3;for(var V=bv(ct),rt=(1<<V)-1,nt=Yo(ct,V,1),z=0;z<I;){var ut=nt[Da(i,p,rt)];p+=ut&15;var T=ut>>4;if(T<16)tt[z++]=T;else{var H=0,et=0;for(T==16?(et=3+Da(i,p,3),p+=2,H=tt[z-1]):T==17?(et=3+Da(i,p,7),p+=3):T==18&&(et=11+Da(i,p,127),p+=7);et--;)tt[z++]=H}}var Z=tt.subarray(0,B),gt=tt.subarray(B);y=bv(Z),E=bv(gt),b=Yo(Z,y,1),x=Yo(gt,E,1)}else Ia(1);else{var T=Zy(p)+4,O=i[T-4]|i[T-3]<<8,P=T+O;if(P>r){u&&Ia(0);break}c&&d(m+O),e.set(i.subarray(T,P),m),t.b=m+=O,t.p=p=P*8,t.f=f;continue}if(p>S){u&&Ia(0);break}}c&&d(m+131072);for(var Y=(1<<y)-1,dt=(1<<E)-1,D=p;;D=p){var H=b[yv(i,p)&Y],G=H>>4;if(p+=H&15,p>S){u&&Ia(0);break}if(H||Ia(2),G<256)e[m++]=G;else if(G==256){D=p,b=null;break}else{var Q=G-254;if(G>264){var z=G-257,st=_0[z];Q=Da(i,p,(1<<st)-1)+fC[z],p+=st}var at=x[yv(i,p)&dt],ft=at>>4;at||Ia(3),p+=at&15;var gt=RI[ft];if(ft>3){var st=C0[ft];gt+=yv(i,p)&(1<<st)-1,p+=st}if(p>S){u&&Ia(0);break}c&&d(m+131072);var wt=m+Q;if(m<gt){var St=s-gt,Dt=Math.min(gt,wt);for(St+m<0&&Ia(3);m<Dt;++m)e[m]=n[St+m]}for(;m<wt;++m)e[m]=e[m-gt]}}t.l=b,t.p=D,t.b=m,t.f=f,b&&(f=1,t.m=y,t.d=x,t.n=E)}while(!f);return m!=e.length&&o?gC(e,0,m):e.subarray(0,m)},Ml=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},$f=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},wv=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,s=e.slice();if(!r)return{t:vC,l:0};if(r==1){var o=new Ur(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(P,B){return P.f-B.f}),e.push({s:-1,f:25001});var c=e[0],u=e[1],d=0,f=1,p=2;for(e[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=r-1;)c=e[e[d].f<e[p].f?d++:p++],u=e[d!=f&&e[d].f<e[p].f?d++:p++],e[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var m=s[0].s,n=1;n<r;++n)s[n].s>m&&(m=s[n].s);var b=new Fs(m+1),x=Sb(e[f-1],b,0);if(x>t){var n=0,y=0,E=x-t,S=1<<E;for(s.sort(function(B,j){return b[j.s]-b[B.s]||B.f-j.f});n<r;++n){var L=s[n].s;if(b[L]>t)y+=S-(1<<x-b[L]),b[L]=t;else break}for(y>>=E;y>0;){var T=s[n].s;b[T]<t?y-=1<<t-b[T]++-1:++n}for(;n>=0&&y;--n){var O=s[n].s;b[O]==t&&(--b[O],++y)}x=t}return{t:new Ur(b),l:x}},Sb=function(i,t,e){return i.s==-1?Math.max(Sb(i.l,t,e+1),Sb(i.r,t,e+1)):t[i.s]=e},gA=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Fs(++t),n=0,r=i[0],s=1,o=function(u){e[n++]=u},c=1;c<=t;++c)if(i[c]==r&&c!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=i[c]}return{c:e.subarray(0,n),n:t}},Wf=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},mC=function(i,t,e){var n=e.length,r=Zy(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=e[s];return(r+4+n)*8},mA=function(i,t,e,n,r,s,o,c,u,d,f){Ml(t,f++,e),++r[256];for(var p=wv(r,15),m=p.t,b=p.l,x=wv(s,15),y=x.t,E=x.l,S=gA(m),L=S.c,T=S.n,O=gA(y),P=O.c,B=O.n,j=new Fs(19),I=0;I<L.length;++I)++j[L[I]&31];for(var I=0;I<P.length;++I)++j[P[I]&31];for(var tt=wv(j,7),ct=tt.t,z=tt.l,V=19;V>4&&!ct[wb[V-1]];--V);var rt=d+5<<3,nt=Wf(r,$c)+Wf(s,gp)+o,ut=Wf(r,m)+Wf(s,y)+o+14+3*V+Wf(j,ct)+2*j[16]+3*j[17]+7*j[18];if(u>=0&&rt<=nt&&rt<=ut)return mC(t,f,i.subarray(u,u+d));var H,et,Z,gt;if(Ml(t,f,1+(ut<nt)),f+=2,ut<nt){H=Yo(m,b,0),et=m,Z=Yo(y,E,0),gt=y;var Y=Yo(ct,z,0);Ml(t,f,T-257),Ml(t,f+5,B-1),Ml(t,f+10,V-4),f+=14;for(var I=0;I<V;++I)Ml(t,f+3*I,ct[wb[I]]);f+=3*V;for(var dt=[L,P],D=0;D<2;++D)for(var G=dt[D],I=0;I<G.length;++I){var Q=G[I]&31;Ml(t,f,Y[Q]),f+=ct[Q],Q>15&&(Ml(t,f,G[I]>>5&127),f+=G[I]>>12)}}else H=LI,et=$c,Z=MI,gt=gp;for(var I=0;I<c;++I){var st=n[I];if(st>255){var Q=st>>18&31;$f(t,f,H[Q+257]),f+=et[Q+257],Q>7&&(Ml(t,f,st>>23&31),f+=_0[Q]);var at=st&31;$f(t,f,Z[at]),f+=gt[at],at>3&&($f(t,f,st>>5&8191),f+=C0[at])}else $f(t,f,H[st]),f+=et[st]}return $f(t,f,H[256]),f+et[256]},DI=new Qy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vC=new Ur(0),jI=function(i,t,e,n,r,s){var o=s.z||i.length,c=new Ur(n+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(n,c.length-r),d=s.l,f=(s.r||0)&7;if(t){f&&(u[0]=s.r>>3);for(var p=DI[t-1],m=p>>13,b=p&8191,x=(1<<e)-1,y=s.p||new Fs(32768),E=s.h||new Fs(x+1),S=Math.ceil(e/3),L=2*S,T=function(Zt){return(i[Zt]^i[Zt+1]<<S^i[Zt+2]<<L)&x},O=new Qy(25e3),P=new Fs(288),B=new Fs(32),j=0,I=0,tt=s.i||0,ct=0,z=s.w||0,V=0;tt+2<o;++tt){var rt=T(tt),nt=tt&32767,ut=E[rt];if(y[nt]=ut,E[rt]=nt,z<=tt){var H=o-tt;if((j>7e3||ct>24576)&&(H>423||!d)){f=mA(i,u,0,O,P,B,I,ct,V,tt-V,f),ct=j=I=0,V=tt;for(var et=0;et<286;++et)P[et]=0;for(var et=0;et<30;++et)B[et]=0}var Z=2,gt=0,Y=b,dt=nt-ut&32767;if(H>2&&rt==T(tt-dt))for(var D=Math.min(m,H)-1,G=Math.min(32767,tt),Q=Math.min(258,H);dt<=G&&--Y&&nt!=ut;){if(i[tt+Z]==i[tt+Z-dt]){for(var st=0;st<Q&&i[tt+st]==i[tt+st-dt];++st);if(st>Z){if(Z=st,gt=dt,st>D)break;for(var at=Math.min(dt,st-2),ft=0,et=0;et<at;++et){var wt=tt-dt+et&32767,St=y[wt],Dt=wt-St&32767;Dt>ft&&(ft=Dt,ut=wt)}}}nt=ut,ut=y[nt],dt+=nt-ut&32767}if(gt){O[ct++]=268435456|xb[Z]<<18|pA[gt];var Ut=xb[Z]&31,Wt=pA[gt]&31;I+=_0[Ut]+C0[Wt],++P[257+Ut],++B[Wt],z=tt+Z,++j}else O[ct++]=i[tt],++P[i[tt]]}}for(tt=Math.max(tt,z);tt<o;++tt)O[ct++]=i[tt],++P[i[tt]];f=mA(i,u,d,O,P,B,I,ct,V,tt-V,f),d||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=E,s.p=y,s.i=tt,s.w=z)}else{for(var tt=s.w||0;tt<o+d;tt+=65535){var Vt=tt+65535;Vt>=o&&(u[f/8|0]=d,Vt=o),f=mC(u,f+1,i.subarray(tt,Vt))}s.i=o}return gC(c,0,n+Zy(f)+r)},bC=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,s=e.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)r+=n+=e[o];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},II=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ur(s.length+i.length);o.set(s),o.set(i,s.length),i=o,r.w=s.length}return jI(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)},yC=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},FI=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=bC();r.p(t.dictionary),yC(i,2,r.d())}},BI=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Ia(6,"invalid zlib data"),(i[1]>>5&1)==1&&Ia(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Eb(i,t){t||(t={});var e=bC();e.p(i);var n=II(i,t,t.dictionary?6:2,4);return FI(n,t),yC(n,n.length-4,e.d()),n}function zI(i,t){return kI(i.subarray(BI(i),-4),{i:2},t,t)}var UI=typeof TextDecoder<"u"&&new TextDecoder,qI=0;try{UI.decode(vC,{stream:!0}),qI=1}catch{}var Me=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xv(){Me.console&&typeof Me.console.log=="function"&&Me.console.log.apply(Me.console,arguments)}var Bn={log:xv,warn:function(i){Me.console&&(typeof Me.console.warn=="function"?Me.console.warn.apply(Me.console,arguments):xv.call(null,arguments))},error:function(i){Me.console&&(typeof Me.console.error=="function"?Me.console.error.apply(Me.console,arguments):xv(i))}};function Av(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Fu(n.response,t,e)},n.onerror=function(){Bn.error("could not download file")},n.send()}function vA(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function sm(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var ep,_b,Fu=Me.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==Me?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=Me.URL||Me.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?vA(r.href)?Av(i,t,e):sm(r,r.target="_blank"):sm(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){sm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(vA(i))Av(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){sm(n)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Ln(s)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return Av(i,t,e);var r=i.type==="application/octet-stream",s=/constructor/i.test(Me.HTMLElement)||Me.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(i)}else{var u=Me.URL||Me.webkitURL,d=u.createObjectURL(i);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wC(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,s=e[n].process,o=r.exec(i);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sv(i,t){var e=i[0],n=i[1],r=i[2],s=i[3];e=Or(e,n,r,s,t[0],7,-680876936),s=Or(s,e,n,r,t[1],12,-389564586),r=Or(r,s,e,n,t[2],17,606105819),n=Or(n,r,s,e,t[3],22,-1044525330),e=Or(e,n,r,s,t[4],7,-176418897),s=Or(s,e,n,r,t[5],12,1200080426),r=Or(r,s,e,n,t[6],17,-1473231341),n=Or(n,r,s,e,t[7],22,-45705983),e=Or(e,n,r,s,t[8],7,1770035416),s=Or(s,e,n,r,t[9],12,-1958414417),r=Or(r,s,e,n,t[10],17,-42063),n=Or(n,r,s,e,t[11],22,-1990404162),e=Or(e,n,r,s,t[12],7,1804603682),s=Or(s,e,n,r,t[13],12,-40341101),r=Or(r,s,e,n,t[14],17,-1502002290),e=kr(e,n=Or(n,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=kr(s,e,n,r,t[6],9,-1069501632),r=kr(r,s,e,n,t[11],14,643717713),n=kr(n,r,s,e,t[0],20,-373897302),e=kr(e,n,r,s,t[5],5,-701558691),s=kr(s,e,n,r,t[10],9,38016083),r=kr(r,s,e,n,t[15],14,-660478335),n=kr(n,r,s,e,t[4],20,-405537848),e=kr(e,n,r,s,t[9],5,568446438),s=kr(s,e,n,r,t[14],9,-1019803690),r=kr(r,s,e,n,t[3],14,-187363961),n=kr(n,r,s,e,t[8],20,1163531501),e=kr(e,n,r,s,t[13],5,-1444681467),s=kr(s,e,n,r,t[2],9,-51403784),r=kr(r,s,e,n,t[7],14,1735328473),e=Dr(e,n=kr(n,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Dr(s,e,n,r,t[8],11,-2022574463),r=Dr(r,s,e,n,t[11],16,1839030562),n=Dr(n,r,s,e,t[14],23,-35309556),e=Dr(e,n,r,s,t[1],4,-1530992060),s=Dr(s,e,n,r,t[4],11,1272893353),r=Dr(r,s,e,n,t[7],16,-155497632),n=Dr(n,r,s,e,t[10],23,-1094730640),e=Dr(e,n,r,s,t[13],4,681279174),s=Dr(s,e,n,r,t[0],11,-358537222),r=Dr(r,s,e,n,t[3],16,-722521979),n=Dr(n,r,s,e,t[6],23,76029189),e=Dr(e,n,r,s,t[9],4,-640364487),s=Dr(s,e,n,r,t[12],11,-421815835),r=Dr(r,s,e,n,t[15],16,530742520),e=jr(e,n=Dr(n,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=jr(s,e,n,r,t[7],10,1126891415),r=jr(r,s,e,n,t[14],15,-1416354905),n=jr(n,r,s,e,t[5],21,-57434055),e=jr(e,n,r,s,t[12],6,1700485571),s=jr(s,e,n,r,t[3],10,-1894986606),r=jr(r,s,e,n,t[10],15,-1051523),n=jr(n,r,s,e,t[1],21,-2054922799),e=jr(e,n,r,s,t[8],6,1873313359),s=jr(s,e,n,r,t[15],10,-30611744),r=jr(r,s,e,n,t[6],15,-1560198380),n=jr(n,r,s,e,t[13],21,1309151649),e=jr(e,n,r,s,t[4],6,-145523070),s=jr(s,e,n,r,t[11],10,-1120210379),r=jr(r,s,e,n,t[2],15,718787259),n=jr(n,r,s,e,t[9],21,-343485551),i[0]=zc(e,i[0]),i[1]=zc(n,i[1]),i[2]=zc(r,i[2]),i[3]=zc(s,i[3])}function N0(i,t,e,n,r,s){return t=zc(zc(t,i),zc(n,s)),zc(t<<r|t>>>32-r,e)}function Or(i,t,e,n,r,s,o){return N0(t&e|~t&n,i,t,r,s,o)}function kr(i,t,e,n,r,s,o){return N0(t&n|e&~n,i,t,r,s,o)}function Dr(i,t,e,n,r,s,o){return N0(t^e^n,i,t,r,s,o)}function jr(i,t,e,n,r,s,o){return N0(e^(t|~n),i,t,r,s,o)}function xC(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)Sv(n,HI(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Sv(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,Sv(n,r),n}function HI(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}ep=Me.atob.bind(Me),_b=Me.btoa.bind(Me);var bA="0123456789abcdef".split("");function GI(i){for(var t="",e=0;e<4;e++)t+=bA[i>>8*e+4&15]+bA[i>>8*e&15];return t}function VI(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Cb(i){return xC(i).map(VI).join("")}var $I=function(i){for(var t=0;t<i.length;t++)i[t]=GI(i[t]);return i.join("")}(xC("hello"))!="5d41402abc4b2a76b9719d911017c592";function zc(i,t){if($I){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nb(i,t){var e,n,r,s;if(i!==e){for(var o=(r=i,s=1+(256/i.length>>0),new Array(s+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+o.charCodeAt(u))%256,c[u]=c[d],c[d]=f}e=i,n=c}else c=n;var p=t.length,m=0,b=0,x="";for(u=0;u<p;u++)b=(b+(f=c[m=(m+1)%256]))%256,c[m]=c[b],c[b]=f,o=c[(c[m]+c[b])%256],x+=String.fromCharCode(t.charCodeAt(u)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yA={print:4,modify:8,copy:16,"annot-forms":32};function rd(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(c){if(yA.perm!==void 0)throw new Error("Invalid permission: "+c);r+=yA[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=Cb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Nb(this.encryptionKey,this.padding)}function sd(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=i[n]}return t}function wA(i){if(Ln(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(i,n)}catch(c){Me.console&&Bn.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Um(i){if(!(this instanceof Um))return new Um(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function AC(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Uu(i,t,e,n,r){if(!(this instanceof Uu))return new Uu(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,AC.call(this,n,r)}function ud(i,t,e,n,r){if(!(this instanceof ud))return new ud(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,AC.call(this,n,r)}function Le(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],o=[],c=1,u=16,d="S",f=null;Ln(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(f=i.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(u=i.floatPrecision),d=i.defaultPathOperation||"S"),o=i.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var p=i.putOnlyUsedFonts||!1,m={},b={internal:{},__private__:{}};b.__private__.PubSub=wA;var x="1.3",y=b.__private__.getPdfVersion=function(){return x};b.__private__.setPdfVersion=function(C){x=C};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return E};var S=b.__private__.getPageFormat=function(C){return E[C]};r=r||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},T=L.COMPAT;function O(){this.saveGraphicsState(),ot(new ae(ne,0,0,-ne,0,so()*ne).toString()+" cm"),this.setFontSize(this.getFontSize()/ne),d="n",T=L.ADVANCED}function P(){this.restoreGraphicsState(),d="S",T=L.COMPAT}var B=b.__private__.combineFontStyleAndFontWeight=function(C,q){if(C=="bold"&&q=="normal"||C=="bold"&&q==400||C=="normal"&&q=="italic"||C=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(C=q==400||q==="normal"?C==="italic"?"italic":"normal":q!=700&&q!=="bold"||C!=="normal"?(q==700?"bold":q)+""+C:"bold"),C};b.advancedAPI=function(C){var q=T===L.COMPAT;return q&&O.call(this),typeof C!="function"||(C(this),q&&P.call(this)),this},b.compatAPI=function(C){var q=T===L.ADVANCED;return q&&P.call(this),typeof C!="function"||(C(this),q&&O.call(this)),this},b.isAdvancedAPI=function(){return T===L.ADVANCED};var j,I=function(C){if(T!==L.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},tt=b.roundToPrecision=b.__private__.roundToPrecision=function(C,q){var lt=t||q;if(isNaN(C)||isNaN(lt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(lt).replace(/0+$/,"")};j=b.hpf=b.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return tt(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return tt(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return tt(C,16)};var ct=b.f2=b.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return tt(C,2)},z=b.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return tt(C,3)},V=b.scale=b.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return T===L.COMPAT?C*ne:T===L.ADVANCED?C:void 0},rt=function(C){return T===L.COMPAT?so()-C:T===L.ADVANCED?C:void 0},nt=function(C){return V(rt(C))};b.__private__.setPrecision=b.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var ut,H="00000000000000000000000000000000",et=b.__private__.getFileId=function(){return H},Z=b.__private__.setFileId=function(C){return H=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ki=new rd(f.userPermissions,f.userPassword,f.ownerPassword,H)),H};b.setFileId=function(C){return Z(C),this},b.getFileId=function(){return et()};var gt=b.__private__.convertDateToPDFDate=function(C){var q=C.getTimezoneOffset(),lt=q<0?"+":"-",pt=Math.floor(Math.abs(q/60)),Et=Math.abs(q%60),kt=[lt,Q(pt),"'",Q(Et),"'"].join("");return["D:",C.getFullYear(),Q(C.getMonth()+1),Q(C.getDate()),Q(C.getHours()),Q(C.getMinutes()),Q(C.getSeconds()),kt].join("")},Y=b.__private__.convertPDFDateToDate=function(C){var q=parseInt(C.substr(2,4),10),lt=parseInt(C.substr(6,2),10)-1,pt=parseInt(C.substr(8,2),10),Et=parseInt(C.substr(10,2),10),kt=parseInt(C.substr(12,2),10),$t=parseInt(C.substr(14,2),10);return new Date(q,lt,pt,Et,kt,$t,0)},dt=b.__private__.setCreationDate=function(C){var q;if(C===void 0&&(C=new Date),C instanceof Date)q=gt(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=C}return ut=q},D=b.__private__.getCreationDate=function(C){var q=ut;return C==="jsDate"&&(q=Y(ut)),q};b.setCreationDate=function(C){return dt(C),this},b.getCreationDate=function(C){return D(C)};var G,Q=b.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},st=b.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},at=0,ft=[],wt=[],St=0,Dt=[],Ut=[],Wt=!1,Vt=wt,Zt=function(){at=0,St=0,wt=[],ft=[],Dt=[],qr=Sn(),Hr=Sn()};b.__private__.setCustomOutputDestination=function(C){Wt=!0,Vt=C};var Tt=function(C){Wt||(Vt=C)};b.__private__.resetCustomOutputDestination=function(){Wt=!1,Vt=wt};var ot=b.__private__.out=function(C){return C=C.toString(),St+=C.length+1,Vt.push(C),Vt},le=b.__private__.write=function(C){return ot(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},se=b.__private__.getArrayBuffer=function(C){for(var q=C.length,lt=new ArrayBuffer(q),pt=new Uint8Array(lt);q--;)pt[q]=C.charCodeAt(q);return lt},Ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ht};var Qt=i.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(C){return Qt=T===L.ADVANCED?C/ne:C,this};var Jt,Yt=b.__private__.getFontSize=b.getFontSize=function(){return T===L.COMPAT?Qt:Qt*ne},ce=i.R2L||!1;b.__private__.setR2L=b.setR2L=function(C){return ce=C,this},b.__private__.getR2L=b.getR2L=function(){return ce};var _e,ke=b.__private__.setZoomMode=function(C){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Jt=C;else if(isNaN(C)){if(q.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Jt=C}else Jt=parseInt(C,10)};b.__private__.getZoomMode=function(){return Jt};var Se,be=b.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');_e=C};b.__private__.getPageMode=function(){return _e};var Ie=b.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Se=C};b.__private__.getLayoutMode=function(){return Se},b.__private__.setDisplayMode=b.setDisplayMode=function(C,q,lt){return ke(C),Ie(q),be(lt),this};var oe={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(C){if(Object.keys(oe).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oe[C]},b.__private__.getDocumentProperties=function(){return oe},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(C){for(var q in oe)oe.hasOwnProperty(q)&&C[q]&&(oe[q]=C[q]);return this},b.__private__.setDocumentProperty=function(C,q){if(Object.keys(oe).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oe[C]=q};var Ce,ne,Vn,$e,Ki,Ke={},mn={},Qi=[],rn={},Hi={},Dn={},pr={},Zi=null,jn=0,Xt=[],xe=new wA(b),Tn=i.hotfixes||[],ln={},Ji={},An=[],ae=function C(q,lt,pt,Et,kt,$t){if(!(this instanceof C))return new C(q,lt,pt,Et,kt,$t);isNaN(q)&&(q=1),isNaN(lt)&&(lt=0),isNaN(pt)&&(pt=0),isNaN(Et)&&(Et=1),isNaN(kt)&&(kt=0),isNaN($t)&&($t=0),this._matrix=[q,lt,pt,Et,kt,$t]};Object.defineProperty(ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ae.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(C)},ae.prototype.multiply=function(C){var q=C.sx*this.sx+C.shy*this.shx,lt=C.sx*this.shy+C.shy*this.sy,pt=C.shx*this.sx+C.sy*this.shx,Et=C.shx*this.shy+C.sy*this.sy,kt=C.tx*this.sx+C.ty*this.shx+this.tx,$t=C.tx*this.shy+C.ty*this.sy+this.ty;return new ae(q,lt,pt,Et,kt,$t)},ae.prototype.decompose=function(){var C=this.sx,q=this.shy,lt=this.shx,pt=this.sy,Et=this.tx,kt=this.ty,$t=Math.sqrt(C*C+q*q),ie=(C/=$t)*lt+(q/=$t)*pt;lt-=C*ie,pt-=q*ie;var ge=Math.sqrt(lt*lt+pt*pt);return ie/=ge,C*(pt/=ge)<q*(lt/=ge)&&(C=-C,q=-q,ie=-ie,$t=-$t),{scale:new ae($t,0,0,ge,0,0),translate:new ae(1,0,0,1,Et,kt),rotate:new ae(C,q,-q,C,0,0),skew:new ae(1,0,ie,1,0,0)}},ae.prototype.toString=function(C){return this.join(" ")},ae.prototype.inversed=function(){var C=this.sx,q=this.shy,lt=this.shx,pt=this.sy,Et=this.tx,kt=this.ty,$t=1/(C*pt-q*lt),ie=pt*$t,ge=-q*$t,Fe=-lt*$t,De=C*$t;return new ae(ie,ge,Fe,De,-ie*Et-Fe*kt,-ge*Et-De*kt)},ae.prototype.applyToPoint=function(C){var q=C.x*this.sx+C.y*this.shx+this.tx,lt=C.x*this.shy+C.y*this.sy+this.ty;return new Ql(q,lt)},ae.prototype.applyToRectangle=function(C){var q=this.applyToPoint(C),lt=this.applyToPoint(new Ql(C.x+C.w,C.y+C.h));return new lu(q.x,q.y,lt.x-q.x,lt.y-q.y)},ae.prototype.clone=function(){var C=this.sx,q=this.shy,lt=this.shx,pt=this.sy,Et=this.tx,kt=this.ty;return new ae(C,q,lt,pt,Et,kt)},b.Matrix=ae;var fn=b.matrixMult=function(C,q){return q.multiply(C)},Ze=new ae(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Ze;var pn=function(C,q){if(!Hi[C]){var lt=(q instanceof Uu?"Sh":"P")+(Object.keys(rn).length+1).toString(10);q.id=lt,Hi[C]=lt,rn[lt]=q,xe.publish("addPattern",q)}};b.ShadingPattern=Uu,b.TilingPattern=ud,b.addShadingPattern=function(C,q){return I("addShadingPattern()"),pn(C,q),this},b.beginTilingPattern=function(C){I("beginTilingPattern()"),Zl(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},b.endTilingPattern=function(C,q){I("endTilingPattern()"),q.stream=Ut[G].join(`
`),pn(C,q),xe.publish("endTilingPattern",q),An.pop().restore()};var Un=b.__private__.newObject=function(){var C=Sn();return Sr(C,!0),C},Sn=b.__private__.newObjectDeferred=function(){return at++,ft[at]=function(){return St},at},Sr=function(C,q){return q=typeof q=="boolean"&&q,ft[C]=St,q&&ot(C+" 0 obj"),C},Jo=b.__private__.newAdditionalObject=function(){var C={objId:Sn(),content:""};return Dt.push(C),C},qr=Sn(),Hr=Sn(),tr=b.__private__.decodeColorString=function(C){var q=C.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var lt=parseFloat(q[0]);q=[lt,lt,lt,"r"]}for(var pt="#",Et=0;Et<3;Et++)pt+=("0"+Math.floor(255*parseFloat(q[Et])).toString(16)).slice(-2);return pt},er=b.__private__.encodeColorString=function(C){var q;typeof C=="string"&&(C={ch1:C});var lt=C.ch1,pt=C.ch2,Et=C.ch3,kt=C.ch4,$t=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof lt=="string"&&lt.charAt(0)!=="#"){var ie=new wC(lt);if(ie.ok)lt=ie.toHex();else if(!/^\d*\.?\d*$/.test(lt))throw new Error('Invalid color "'+lt+'" passed to jsPDF.encodeColorString.')}if(typeof lt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(lt)&&(lt="#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]),typeof lt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(lt)){var ge=parseInt(lt.substr(1),16);lt=ge>>16&255,pt=ge>>8&255,Et=255&ge}if(pt===void 0||kt===void 0&&lt===pt&&pt===Et)if(typeof lt=="string")q=lt+" "+$t[0];else switch(C.precision){case 2:q=ct(lt/255)+" "+$t[0];break;case 3:default:q=z(lt/255)+" "+$t[0]}else if(kt===void 0||Ln(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return q=["1.","1.","1.",$t[1]].join(" ");if(typeof lt=="string")q=[lt,pt,Et,$t[1]].join(" ");else switch(C.precision){case 2:q=[ct(lt/255),ct(pt/255),ct(Et/255),$t[1]].join(" ");break;default:case 3:q=[z(lt/255),z(pt/255),z(Et/255),$t[1]].join(" ")}}else if(typeof lt=="string")q=[lt,pt,Et,kt,$t[2]].join(" ");else switch(C.precision){case 2:q=[ct(lt),ct(pt),ct(Et),ct(kt),$t[2]].join(" ");break;case 3:default:q=[z(lt),z(pt),z(Et),z(kt),$t[2]].join(" ")}return q},Er=b.__private__.getFilters=function(){return o},Gi=b.__private__.putStream=function(C){var q=(C=C||{}).data||"",lt=C.filters||Er(),pt=C.alreadyAppliedFilters||[],Et=C.addLength1||!1,kt=q.length,$t=C.objectId,ie=function(ai){return ai};if(f!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ie=ki.encryptor($t,0));var ge={};lt===!0&&(lt=["FlateEncode"]);var Fe=C.additionalKeyValues||[],De=(ge=Le.API.processDataByFilters!==void 0?Le.API.processDataByFilters(q,lt):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(ge.data.length!==0&&(Fe.push({key:"Length",value:ge.data.length}),Et===!0&&Fe.push({key:"Length1",value:kt})),De.length!=0)if(De.split("/").length-1==1)Fe.push({key:"Filter",value:De});else{Fe.push({key:"Filter",value:"["+De+"]"});for(var Je=0;Je<Fe.length;Je+=1)if(Fe[Je].key==="DecodeParms"){for(var qn=[],$n=0;$n<ge.reverseChain.split("/").length-1;$n+=1)qn.push("null");qn.push(Fe[Je].value),Fe[Je].value="["+qn.join(" ")+"]"}}ot("<<");for(var si=0;si<Fe.length;si++)ot("/"+Fe[si].key+" "+Fe[si].value);ot(">>"),ge.data.length!==0&&(ot("stream"),ot(ie(ge.data)),ot("endstream"))},_n=b.__private__.putPage=function(C){var q=C.number,lt=C.data,pt=C.objId,Et=C.contentsObjId;Sr(pt,!0),ot("<</Type /Page"),ot("/Parent "+C.rootDictionaryObjId+" 0 R"),ot("/Resources "+C.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(j(C.mediaBox.bottomLeftX))+" "+parseFloat(j(C.mediaBox.bottomLeftY))+" "+j(C.mediaBox.topRightX)+" "+j(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ot("/CropBox ["+j(C.cropBox.bottomLeftX)+" "+j(C.cropBox.bottomLeftY)+" "+j(C.cropBox.topRightX)+" "+j(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ot("/BleedBox ["+j(C.bleedBox.bottomLeftX)+" "+j(C.bleedBox.bottomLeftY)+" "+j(C.bleedBox.topRightX)+" "+j(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ot("/TrimBox ["+j(C.trimBox.bottomLeftX)+" "+j(C.trimBox.bottomLeftY)+" "+j(C.trimBox.topRightX)+" "+j(C.trimBox.topRightY)+"]"),C.artBox!==null&&ot("/ArtBox ["+j(C.artBox.bottomLeftX)+" "+j(C.artBox.bottomLeftY)+" "+j(C.artBox.topRightX)+" "+j(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ot("/UserUnit "+C.userUnit),xe.publish("putPage",{objId:pt,pageContext:Xt[q],pageNumber:q,page:lt}),ot("/Contents "+Et+" 0 R"),ot(">>"),ot("endobj");var kt=lt.join(`
`);return T===L.ADVANCED&&(kt+=`
Q`),Sr(Et,!0),Gi({data:kt,filters:Er(),objectId:Et}),ot("endobj"),pt},Ka=b.__private__.putPages=function(){var C,q,lt=[];for(C=1;C<=jn;C++)Xt[C].objId=Sn(),Xt[C].contentsObjId=Sn();for(C=1;C<=jn;C++)lt.push(_n({number:C,data:Ut[C],objId:Xt[C].objId,contentsObjId:Xt[C].contentsObjId,mediaBox:Xt[C].mediaBox,cropBox:Xt[C].cropBox,bleedBox:Xt[C].bleedBox,trimBox:Xt[C].trimBox,artBox:Xt[C].artBox,userUnit:Xt[C].userUnit,rootDictionaryObjId:qr,resourceDictionaryObjId:Hr}));Sr(qr,!0),ot("<</Type /Pages");var pt="/Kids [";for(q=0;q<jn;q++)pt+=lt[q]+" 0 R ";ot(pt+"]"),ot("/Count "+jn),ot(">>"),ot("endobj"),xe.publish("postPutPages")},tl=function(C){xe.publish("putFont",{font:C,out:ot,newObject:Un,putStream:Gi}),C.isAlreadyPutted!==!0&&(C.objectNumber=Un(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+sd(C.postScriptName)),ot("/Subtype /Type1"),typeof C.encoding=="string"&&ot("/Encoding /"+C.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},ts=function(){for(var C in Ke)Ke.hasOwnProperty(C)&&(p===!1||p===!0&&m.hasOwnProperty(C))&&tl(Ke[C])},ys=function(C){C.objectNumber=Un();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[j(C.x),j(C.y),j(C.x+C.width),j(C.y+C.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var lt=C.pages[1].join(`
`);Gi({data:lt,additionalKeyValues:q,objectId:C.objectNumber}),ot("endobj")},Ul=function(){for(var C in ln)ln.hasOwnProperty(C)&&ys(ln[C])},Qc=function(C,q){var lt,pt=[],Et=1/(q-1);for(lt=0;lt<1;lt+=Et)pt.push(lt);if(pt.push(1),C[0].offset!=0){var kt={offset:0,color:C[0].color};C.unshift(kt)}if(C[C.length-1].offset!=1){var $t={offset:1,color:C[C.length-1].color};C.push($t)}for(var ie="",ge=0,Fe=0;Fe<pt.length;Fe++){for(lt=pt[Fe];lt>C[ge+1].offset;)ge++;var De=C[ge].offset,Je=(lt-De)/(C[ge+1].offset-De),qn=C[ge].color,$n=C[ge+1].color;ie+=st(Math.round((1-Je)*qn[0]+Je*$n[0]).toString(16))+st(Math.round((1-Je)*qn[1]+Je*$n[1]).toString(16))+st(Math.round((1-Je)*qn[2]+Je*$n[2]).toString(16))}return ie.trim()},ch=function(C,q){q||(q=21);var lt=Un(),pt=Qc(C.colors,q),Et=[];Et.push({key:"FunctionType",value:"0"}),Et.push({key:"Domain",value:"[0.0 1.0]"}),Et.push({key:"Size",value:"["+q+"]"}),Et.push({key:"BitsPerSample",value:"8"}),Et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gi({data:pt,additionalKeyValues:Et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:lt}),ot("endobj"),C.objectNumber=Un(),ot("<< /ShadingType "+C.type),ot("/ColorSpace /DeviceRGB");var kt="/Coords ["+j(parseFloat(C.coords[0]))+" "+j(parseFloat(C.coords[1]))+" ";C.type===2?kt+=j(parseFloat(C.coords[2]))+" "+j(parseFloat(C.coords[3])):kt+=j(parseFloat(C.coords[2]))+" "+j(parseFloat(C.coords[3]))+" "+j(parseFloat(C.coords[4]))+" "+j(parseFloat(C.coords[5])),ot(kt+="]"),C.matrix&&ot("/Matrix ["+C.matrix.toString()+"]"),ot("/Function "+lt+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},qd=function(C,q){var lt=Sn(),pt=Un();q.push({resourcesOid:lt,objectOid:pt}),C.objectNumber=pt;var Et=[];Et.push({key:"Type",value:"/Pattern"}),Et.push({key:"PatternType",value:"1"}),Et.push({key:"PaintType",value:"1"}),Et.push({key:"TilingType",value:"1"}),Et.push({key:"BBox",value:"["+C.boundingBox.map(j).join(" ")+"]"}),Et.push({key:"XStep",value:j(C.xStep)}),Et.push({key:"YStep",value:j(C.yStep)}),Et.push({key:"Resources",value:lt+" 0 R"}),C.matrix&&Et.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Gi({data:C.stream,additionalKeyValues:Et,objectId:C.objectNumber}),ot("endobj")},ca=function(C){var q;for(q in rn)rn.hasOwnProperty(q)&&(rn[q]instanceof Uu?ch(rn[q]):rn[q]instanceof ud&&qd(rn[q],C))},el=function(C){for(var q in C.objectNumber=Un(),ot("<<"),C)switch(q){case"opacity":ot("/ca "+ct(C[q]));break;case"stroke-opacity":ot("/CA "+ct(C[q]))}ot(">>"),ot("endobj")},ws=function(){var C;for(C in Dn)Dn.hasOwnProperty(C)&&el(Dn[C])},nl=function(){for(var C in ot("/XObject <<"),ln)ln.hasOwnProperty(C)&&ln[C].objectNumber>=0&&ot("/"+C+" "+ln[C].objectNumber+" 0 R");xe.publish("putXobjectDict"),ot(">>")},uh=function(){ki.oid=Un(),ot("<<"),ot("/Filter /Standard"),ot("/V "+ki.v),ot("/R "+ki.r),ot("/U <"+ki.toHexString(ki.U)+">"),ot("/O <"+ki.toHexString(ki.O)+">"),ot("/P "+ki.P),ot(">>"),ot("endobj")},ua=function(){for(var C in ot("/Font <<"),Ke)Ke.hasOwnProperty(C)&&(p===!1||p===!0&&m.hasOwnProperty(C))&&ot("/"+C+" "+Ke[C].objectNumber+" 0 R");ot(">>")},Zc=function(){if(Object.keys(rn).length>0){for(var C in ot("/Shading <<"),rn)rn.hasOwnProperty(C)&&rn[C]instanceof Uu&&rn[C].objectNumber>=0&&ot("/"+C+" "+rn[C].objectNumber+" 0 R");xe.publish("putShadingPatternDict"),ot(">>")}},Qa=function(C){if(Object.keys(rn).length>0){for(var q in ot("/Pattern <<"),rn)rn.hasOwnProperty(q)&&rn[q]instanceof b.TilingPattern&&rn[q].objectNumber>=0&&rn[q].objectNumber<C&&ot("/"+q+" "+rn[q].objectNumber+" 0 R");xe.publish("putTilingPatternDict"),ot(">>")}},Hd=function(){if(Object.keys(Dn).length>0){var C;for(C in ot("/ExtGState <<"),Dn)Dn.hasOwnProperty(C)&&Dn[C].objectNumber>=0&&ot("/"+C+" "+Dn[C].objectNumber+" 0 R");xe.publish("putGStateDict"),ot(">>")}},Xn=function(C){Sr(C.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ua(),Zc(),Qa(C.objectOid),Hd(),nl(),ot(">>"),ot("endobj")},gr=function(){var C=[];ts(),ws(),Ul(),ca(C),xe.publish("putResources"),C.forEach(Xn),Xn({resourcesOid:Hr,objectOid:Number.MAX_SAFE_INTEGER}),xe.publish("postPutResources")},Jc=function(){xe.publish("putAdditionalObjects");for(var C=0;C<Dt.length;C++){var q=Dt[C];Sr(q.objId,!0),ot(q.content),ot("endobj")}xe.publish("postPutAdditionalObjects")},hh=function(C){mn[C.fontName]=mn[C.fontName]||{},mn[C.fontName][C.fontStyle]=C.id},Za=function(C,q,lt,pt,Et){var kt={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:C,fontName:q,fontStyle:lt,encoding:pt,isStandardFont:Et||!1,metadata:{}};return xe.publish("addFont",{font:kt,instance:this}),Ke[kt.id]=kt,hh(kt),kt.id},dh=function(C){for(var q=0,lt=Ht.length;q<lt;q++){var pt=Za.call(this,C[q][0],C[q][1],C[q][2],Ht[q][3],!0);p===!1&&(m[pt]=!0);var Et=C[q][0].split("-");hh({id:pt,fontName:Et[0],fontStyle:Et[1]||""})}xe.publish("addFonts",{fonts:Ke,dictionary:mn})},_r=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(pt){var q=pt.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var lt="Error in function "+q.split(`
`)[0].split("<")[0]+": "+pt.message;if(!Me.console)throw new Error(lt);Me.console.error(lt,pt),Me.alert&&alert(lt)}},C.foo.bar=C,C.foo},ql=function(C,q){var lt,pt,Et,kt,$t,ie,ge,Fe,De;if(Et=(q=q||{}).sourceEncoding||"Unicode",$t=q.outputEncoding,(q.autoencode||$t)&&Ke[Ce].metadata&&Ke[Ce].metadata[Et]&&Ke[Ce].metadata[Et].encoding&&(kt=Ke[Ce].metadata[Et].encoding,!$t&&Ke[Ce].encoding&&($t=Ke[Ce].encoding),!$t&&kt.codePages&&($t=kt.codePages[0]),typeof $t=="string"&&($t=kt[$t]),$t)){for(ge=!1,ie=[],lt=0,pt=C.length;lt<pt;lt++)(Fe=$t[C.charCodeAt(lt)])?ie.push(String.fromCharCode(Fe)):ie.push(C[lt]),ie[lt].charCodeAt(0)>>8&&(ge=!0);C=ie.join("")}for(lt=C.length;ge===void 0&&lt!==0;)C.charCodeAt(lt-1)>>8&&(ge=!0),lt--;if(!ge)return C;for(ie=q.noBOM?[]:[254,255],lt=0,pt=C.length;lt<pt;lt++){if((De=(Fe=C.charCodeAt(lt))>>8)>>8)throw new Error("Character at position "+lt+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(De),ie.push(Fe-(De<<8))}return String.fromCharCode.apply(void 0,ie)},In=b.__private__.pdfEscape=b.pdfEscape=function(C,q){return ql(C,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},il=b.__private__.beginPage=function(C){Ut[++jn]=[],Xt[jn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ha(jn),Tt(Ut[G])},tu=function(C,q){var lt,pt,Et;switch(e=q||e,typeof C=="string"&&(lt=S(C.toLowerCase()),Array.isArray(lt)&&(pt=lt[0],Et=lt[1])),Array.isArray(C)&&(pt=C[0]*ne,Et=C[1]*ne),isNaN(pt)&&(pt=r[0],Et=r[1]),(pt>14400||Et>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),Et=Math.min(14400,Et)),r=[pt,Et],e.substr(0,1)){case"l":Et>pt&&(r=[Et,pt]);break;case"p":pt>Et&&(r=[Et,pt])}il(r),bh(no),ot(xs),ou!==0&&ot(ou+" J"),Kl!==0&&ot(Kl+" j"),xe.publish("addPage",{pageNumber:jn})},eu=function(C){C>0&&C<=jn&&(Ut.splice(C,1),Xt.splice(C,1),jn--,G>jn&&(G=jn),this.setPage(G))},ha=function(C){C>0&&C<=jn&&(G=C)},fh=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ut.length-1},nu=function(C,q,lt){var pt,Et=void 0;return lt=lt||{},C=C!==void 0?C:Ke[Ce].fontName,q=q!==void 0?q:Ke[Ce].fontStyle,pt=C.toLowerCase(),mn[pt]!==void 0&&mn[pt][q]!==void 0?Et=mn[pt][q]:mn[C]!==void 0&&mn[C][q]!==void 0?Et=mn[C][q]:lt.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+C+"', '"+q+"'. Refer to getFontList() for available fonts."),Et||lt.noFallback||(Et=mn.times[q])==null&&(Et=mn.times.normal),Et},Ja=b.__private__.putInfo=function(){var C=Un(),q=function(pt){return pt};for(var lt in f!==null&&(q=ki.encryptor(C,0)),ot("<<"),ot("/Producer ("+In(q("jsPDF "+Le.version))+")"),oe)oe.hasOwnProperty(lt)&&oe[lt]&&ot("/"+lt.substr(0,1).toUpperCase()+lt.substr(1)+" ("+In(q(oe[lt]))+")");ot("/CreationDate ("+In(q(ut))+")"),ot(">>"),ot("endobj")},iu=b.__private__.putCatalog=function(C){var q=(C=C||{}).rootDictionaryObjId||qr;switch(Un(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+q+" 0 R"),Jt||(Jt="fullwidth"),Jt){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var lt=""+Jt;lt.substr(lt.length-1)==="%"&&(Jt=parseInt(Jt)/100),typeof Jt=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+ct(Jt)+"]")}switch(Se||(Se="continuous"),Se){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}_e&&ot("/PageMode /"+_e),xe.publish("putCatalog"),ot(">>"),ot("endobj")},ph=b.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(at+1)),ot("/Root "+at+" 0 R"),ot("/Info "+(at-1)+" 0 R"),f!==null&&ot("/Encrypt "+ki.oid+" 0 R"),ot("/ID [ <"+H+"> <"+H+"> ]"),ot(">>")},gh=b.__private__.putHeader=function(){ot("%PDF-"+x),ot("%")},ru=b.__private__.putXRef=function(){var C="0000000000";ot("xref"),ot("0 "+(at+1)),ot("0000000000 65535 f ");for(var q=1;q<=at;q++)typeof ft[q]=="function"?ot((C+ft[q]()).slice(-10)+" 00000 n "):ft[q]!==void 0?ot((C+ft[q]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},da=b.__private__.buildDocument=function(){Zt(),Tt(wt),xe.publish("buildDocument"),gh(),Ka(),Jc(),gr(),f!==null&&uh(),Ja(),iu();var C=St;return ru(),ph(),ot("startxref"),ot(""+C),ot("%%EOF"),Tt(Ut[G]),wt.join(`
`)},Hl=b.__private__.getBlob=function(C){return new Blob([se(C)],{type:"application/pdf"})},fa=b.output=b.__private__.output=_r(function(C,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",C){case void 0:return da();case"save":b.save(q.filename);break;case"arraybuffer":return se(da());case"blob":return Hl(da());case"bloburi":case"bloburl":if(Me.URL!==void 0&&typeof Me.URL.createObjectURL=="function")return Me.URL&&Me.URL.createObjectURL(Hl(da()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var lt="",pt=da();try{lt=_b(pt)}catch{lt=_b(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+q.filename+";base64,"+lt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var Et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Et=q.pdfObjectUrl,kt="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Et+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ie=Me.open();return ie!==null&&ie.document.write($t),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Fe=Me.open();if(Fe!==null){Fe.document.write(ge);var De=this;Fe.document.documentElement.querySelector("#pdfViewer").onload=function(){Fe.document.title=q.filename,Fe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(De.output("bloburl"))}}return Fe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Me)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',qn=Me.open();if(qn!==null&&(qn.document.write(Je),qn.document.title=q.filename),qn||typeof safari>"u")return qn;break;case"datauri":case"dataurl":return Me.document.location.href=this.output("datauristring",q);default:return null}}),Gl=function(C){return Array.isArray(Tn)===!0&&Tn.indexOf(C)>-1};switch(n){case"pt":ne=1;break;case"mm":ne=72/25.4;break;case"cm":ne=72/2.54;break;case"in":ne=72;break;case"px":ne=Gl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ne=12;break;case"ex":ne=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ne=n}var ki=null;dt(),Z();var to=function(C){return f!==null?ki.encryptor(C,0):function(q){return q}},pa=b.__private__.getPageInfo=b.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[C].objId,pageNumber:C,pageContext:Xt[C]}},Pe=b.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Xt)if(Xt[q].objId===C)break;return pa(q)},su=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Xt[G].objId,pageNumber:G,pageContext:Xt[G]}};b.addPage=function(){return tu.apply(this,arguments),this},b.setPage=function(){return ha.apply(this,arguments),Tt.call(this,Ut[G]),this},b.insertPage=function(C){return this.addPage(),this.movePage(G,C),this},b.movePage=function(C,q){var lt,pt;if(C>q){lt=Ut[C],pt=Xt[C];for(var Et=C;Et>q;Et--)Ut[Et]=Ut[Et-1],Xt[Et]=Xt[Et-1];Ut[q]=lt,Xt[q]=pt,this.setPage(q)}else if(C<q){lt=Ut[C],pt=Xt[C];for(var kt=C;kt<q;kt++)Ut[kt]=Ut[kt+1],Xt[kt]=Xt[kt+1];Ut[q]=lt,Xt[q]=pt,this.setPage(q)}return this},b.deletePage=function(){return eu.apply(this,arguments),this},b.__private__.text=b.text=function(C,q,lt,pt,Et){var kt,$t,ie,ge,Fe,De,Je,qn,$n,si=(pt=pt||{}).scope||this;if(typeof C=="number"&&typeof q=="number"&&(typeof lt=="string"||Array.isArray(lt))){var ai=lt;lt=q,q=C,C=ai}if(arguments[3]instanceof ae?(I("The transform parameter of text() with a Matrix value"),$n=Et):(ie=arguments[4],ge=arguments[5],Ln(Je=arguments[3])==="object"&&Je!==null||(typeof ie=="string"&&(ge=ie,ie=null),typeof Je=="string"&&(ge=Je,Je=null),typeof Je=="number"&&(ie=Je,Je=null),pt={flags:Je,angle:ie,align:ge})),isNaN(q)||isNaN(lt)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return si;var Di="",As=!1,$r=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:Gr,Ss=si.internal.scaleFactor;function hu(We){return We=We.split("	").join(Array(pt.TabLen||9).join(" ")),In(We,Je)}function ma(We){for(var Ye,Mn=We.concat(),oi=[],rs=Mn.length;rs--;)typeof(Ye=Mn.shift())=="string"?oi.push(Ye):Array.isArray(We)&&(Ye.length===1||Ye[1]===void 0&&Ye[2]===void 0)?oi.push(Ye[0]):oi.push([Ye[0],Ye[1],Ye[2]]);return oi}function va(We,Ye){var Mn;if(typeof We=="string")Mn=Ye(We)[0];else if(Array.isArray(We)){for(var oi,rs,mo=We.concat(),vo=[],wa=mo.length;wa--;)typeof(oi=mo.shift())=="string"?vo.push(Ye(oi)[0]):Array.isArray(oi)&&typeof oi[0]=="string"&&(rs=Ye(oi[0],oi[1],oi[2]),vo.push([rs[0],rs[1],rs[2]]));Mn=vo}return Mn}var ec=!1,ao=!0;if(typeof C=="string")ec=!0;else if(Array.isArray(C)){var nc=C.concat();$t=[];for(var ol,yi=nc.length;yi--;)(typeof(ol=nc.shift())!="string"||Array.isArray(ol)&&typeof ol[0]!="string")&&(ao=!1);ec=ao}if(ec===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var oo=Qt/si.internal.scaleFactor,ll=oo*($r-1);switch(pt.baseline){case"bottom":lt-=ll;break;case"top":lt+=oo-ll;break;case"hanging":lt+=oo-2*ll;break;case"middle":lt+=oo/2-ll}if((De=pt.maxWidth||0)>0&&(typeof C=="string"?C=si.splitTextToSize(C,De):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(We,Ye){return We.concat(si.splitTextToSize(Ye,De))},[]))),kt={text:C,x:q,y:lt,options:pt,mutex:{pdfEscape:In,activeFontKey:Ce,fonts:Ke,activeFontSize:Qt}},xe.publish("preProcessText",kt),C=kt.text,ie=(pt=kt.options).angle,!($n instanceof ae)&&ie&&typeof ie=="number"){ie*=Math.PI/180,pt.rotationDirection===0&&(ie=-ie),T===L.ADVANCED&&(ie=-ie);var cl=Math.cos(ie),ic=Math.sin(ie);$n=new ae(cl,ic,-ic,cl,0,0)}else ie&&ie instanceof ae&&($n=ie);T!==L.ADVANCED||$n||($n=Ze),(Fe=pt.charSpace||Xl)!==void 0&&(Di+=j(V(Fe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qn=pt.horizontalScale)!==void 0&&(Di+=j(100*qn)+` Tz
`),pt.lang;var Nr=-1,Yd=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,du=si.internal.getCurrentPageInfo().pageContext;switch(Yd){case 0:case!1:case"fill":Nr=0;break;case 1:case!0:case"stroke":Nr=1;break;case 2:case"fillThenStroke":Nr=2;break;case 3:case"invisible":Nr=3;break;case 4:case"fillAndAddForClipping":Nr=4;break;case 5:case"strokeAndAddPathForClipping":Nr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Nr=6;break;case 7:case"addToPathForClipping":Nr=7}var wh=du.usedRenderingMode!==void 0?du.usedRenderingMode:-1;Nr!==-1?Di+=Nr+` Tr
`:wh!==-1&&(Di+=`0 Tr
`),Nr!==-1&&(du.usedRenderingMode=Nr),ge=pt.align||"left";var is,ji=Qt*$r,lo=si.internal.pageSize.getWidth(),fu=Ke[Ce];Fe=pt.charSpace||Xl,De=pt.maxWidth||0,Je=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var ba=[],co=function(We){return si.getStringUnitWidth(We,{font:fu,charSpace:Fe,fontSize:Qt,doKerning:!1})*Qt/Ss};if(Object.prototype.toString.call(C)==="[object Array]"){var mr;$t=ma(C),ge!=="left"&&(is=$t.map(co));var Vi,uo=0;if(ge==="right"){q-=is[0],C=[],yi=$t.length;for(var Rr=0;Rr<yi;Rr++)Rr===0?(Vi=Vr(q),mr=Vs(lt)):(Vi=V(uo-is[Rr]),mr=-ji),C.push([$t[Rr],Vi,mr]),uo=is[Rr]}else if(ge==="center"){q-=is[0]/2,C=[],yi=$t.length;for(var Es=0;Es<yi;Es++)Es===0?(Vi=Vr(q),mr=Vs(lt)):(Vi=V((uo-is[Es])/2),mr=-ji),C.push([$t[Es],Vi,mr]),uo=is[Es]}else if(ge==="left"){C=[],yi=$t.length;for(var $s=0;$s<yi;$s++)C.push($t[$s])}else if(ge==="justify"&&fu.encoding==="Identity-H"){C=[],yi=$t.length,De=De!==0?De:lo;for(var _s=0,Kn=0;Kn<yi;Kn++)if(mr=Kn===0?Vs(lt):-ji,Vi=Kn===0?Vr(q):_s,Kn<yi-1){var Cs=V((De-is[Kn])/($t[Kn].split(" ").length-1)),pi=$t[Kn].split(" ");C.push([pi[0]+" ",Vi,mr]),_s=0;for(var Lr=1;Lr<pi.length;Lr++){var ul=(co(pi[Lr-1]+" "+pi[Lr])-co(pi[Lr]))*Ss+Cs;Lr==pi.length-1?C.push([pi[Lr],ul,0]):C.push([pi[Lr]+" ",ul,0]),_s-=ul}}else C.push([$t[Kn],Vi,mr]);C.push(["",_s,0])}else{if(ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],yi=$t.length,De=De!==0?De:lo,Kn=0;Kn<yi;Kn++)mr=Kn===0?Vs(lt):-ji,Vi=Kn===0?Vr(q):0,Kn<yi-1?ba.push(j(V((De-is[Kn])/($t[Kn].split(" ").length-1)))):ba.push(0),C.push([$t[Kn],Vi,mr])}}var Ws=typeof pt.R2L=="boolean"?pt.R2L:ce;Ws===!0&&(C=va(C,function(We,Ye,Mn){return[We.split("").reverse().join(""),Ye,Mn]})),kt={text:C,x:q,y:lt,options:pt,mutex:{pdfEscape:In,activeFontKey:Ce,fonts:Ke,activeFontSize:Qt}},xe.publish("postProcessText",kt),C=kt.text,As=kt.mutex.isHex||!1;var rc=Ke[Ce].encoding;rc!=="WinAnsiEncoding"&&rc!=="StandardEncoding"||(C=va(C,function(We,Ye,Mn){return[hu(We),Ye,Mn]})),$t=ma(C),C=[];for(var ho,fo,po,hl=0,sc=1,go=Array.isArray($t[0])?sc:hl,ya="",dl=function(We,Ye,Mn){var oi="";return Mn instanceof ae?(Mn=typeof pt.angle=="number"?fn(Mn,new ae(1,0,0,1,We,Ye)):fn(new ae(1,0,0,1,We,Ye),Mn),T===L.ADVANCED&&(Mn=fn(new ae(1,0,0,-1,0,0),Mn)),oi=Mn.join(" ")+` Tm
`):oi=j(We)+" "+j(Ye)+` Td
`,oi},Qn=0;Qn<$t.length;Qn++){switch(ya="",go){case sc:po=(As?"<":"(")+$t[Qn][0]+(As?">":")"),ho=parseFloat($t[Qn][1]),fo=parseFloat($t[Qn][2]);break;case hl:po=(As?"<":"(")+$t[Qn]+(As?">":")"),ho=Vr(q),fo=Vs(lt)}ba!==void 0&&ba[Qn]!==void 0&&(ya=ba[Qn]+` Tw
`),Qn===0?C.push(ya+dl(ho,fo,$n)+po):go===hl?C.push(ya+po):go===sc&&C.push(ya+dl(ho,fo,$n)+po)}C=go===hl?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Wr=`BT
/`;return Wr+=Ce+" "+Qt+` Tf
`,Wr+=j(Qt*$r)+` TL
`,Wr+=sl+`
`,Wr+=Di,Wr+=C,ot(Wr+="ET"),m[Ce]=!0,si};var mh=b.__private__.clip=b.clip=function(C){return ot(C==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return mh("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ot("n"),this};var Cr=b.__private__.isValidStyle=function(C){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(q=!0),q};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(C){return Cr(C)&&(d=C),this};var es=b.__private__.getStyle=b.getStyle=function(C){var q=d;switch(C){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=C}return q},Vl=b.close=function(){return ot("h"),this};b.stroke=function(){return ot("S"),this},b.fill=function(C){return qs("f",C),this},b.fillEvenOdd=function(C){return qs("f*",C),this},b.fillStroke=function(C){return qs("B",C),this},b.fillStrokeEvenOdd=function(C){return qs("B*",C),this};var qs=function(C,q){Ln(q)==="object"?$l(q,C):ot(C)},ns=function(C){C===null||T===L.ADVANCED&&C===void 0||(C=es(C),ot(C))};function au(C,q,lt,pt,Et){var kt=new ud(q||this.boundingBox,lt||this.xStep,pt||this.yStep,this.gState,Et||this.matrix);kt.stream=this.stream;var $t=C+"$$"+this.cloneIndex+++"$$";return pn($t,kt),kt}var $l=function(C,q){var lt=Hi[C.key],pt=rn[lt];if(pt instanceof Uu)ot("q"),ot(vh(q)),pt.gState&&b.setGState(pt.gState),ot(C.matrix.toString()+" cm"),ot("/"+lt+" sh"),ot("Q");else if(pt instanceof ud){var Et=new ae(1,0,0,-1,0,so());C.matrix&&(Et=Et.multiply(C.matrix||Ze),lt=au.call(pt,C.key,C.boundingBox,C.xStep,C.yStep,Et).id),ot("q"),ot("/Pattern cs"),ot("/"+lt+" scn"),pt.gState&&b.setGState(pt.gState),ot(q),ot("Q")}},vh=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},eo=b.moveTo=function(C,q){return ot(j(V(C))+" "+j(nt(q))+" m"),this},Hs=b.lineTo=function(C,q){return ot(j(V(C))+" "+j(nt(q))+" l"),this},ga=b.curveTo=function(C,q,lt,pt,Et,kt){return ot([j(V(C)),j(nt(q)),j(V(lt)),j(nt(pt)),j(V(Et)),j(nt(kt)),"c"].join(" ")),this};b.__private__.line=b.line=function(C,q,lt,pt,Et){if(isNaN(C)||isNaN(q)||isNaN(lt)||isNaN(pt)||!Cr(Et))throw new Error("Invalid arguments passed to jsPDF.line");return T===L.COMPAT?this.lines([[lt-C,pt-q]],C,q,[1,1],Et||"S"):this.lines([[lt-C,pt-q]],C,q,[1,1]).stroke()},b.__private__.lines=b.lines=function(C,q,lt,pt,Et,kt){var $t,ie,ge,Fe,De,Je,qn,$n,si,ai,Di,As;if(typeof C=="number"&&(As=lt,lt=q,q=C,C=As),pt=pt||[1,1],kt=kt||!1,isNaN(q)||isNaN(lt)||!Array.isArray(C)||!Array.isArray(pt)||!Cr(Et)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(eo(q,lt),$t=pt[0],ie=pt[1],Fe=C.length,ai=q,Di=lt,ge=0;ge<Fe;ge++)(De=C[ge]).length===2?(ai=De[0]*$t+ai,Di=De[1]*ie+Di,Hs(ai,Di)):(Je=De[0]*$t+ai,qn=De[1]*ie+Di,$n=De[2]*$t+ai,si=De[3]*ie+Di,ai=De[4]*$t+ai,Di=De[5]*ie+Di,ga(Je,qn,$n,si,ai,Di));return kt&&Vl(),ns(Et),this},b.path=function(C){for(var q=0;q<C.length;q++){var lt=C[q],pt=lt.c;switch(lt.op){case"m":eo(pt[0],pt[1]);break;case"l":Hs(pt[0],pt[1]);break;case"c":ga.apply(this,pt);break;case"h":Vl()}}return this},b.__private__.rect=b.rect=function(C,q,lt,pt,Et){if(isNaN(C)||isNaN(q)||isNaN(lt)||isNaN(pt)||!Cr(Et))throw new Error("Invalid arguments passed to jsPDF.rect");return T===L.COMPAT&&(pt=-pt),ot([j(V(C)),j(nt(q)),j(V(lt)),j(V(pt)),"re"].join(" ")),ns(Et),this},b.__private__.triangle=b.triangle=function(C,q,lt,pt,Et,kt,$t){if(isNaN(C)||isNaN(q)||isNaN(lt)||isNaN(pt)||isNaN(Et)||isNaN(kt)||!Cr($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[lt-C,pt-q],[Et-lt,kt-pt],[C-Et,q-kt]],C,q,[1,1],$t,!0),this},b.__private__.roundedRect=b.roundedRect=function(C,q,lt,pt,Et,kt,$t){if(isNaN(C)||isNaN(q)||isNaN(lt)||isNaN(pt)||isNaN(Et)||isNaN(kt)||!Cr($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return Et=Math.min(Et,.5*lt),kt=Math.min(kt,.5*pt),this.lines([[lt-2*Et,0],[Et*ie,0,Et,kt-kt*ie,Et,kt],[0,pt-2*kt],[0,kt*ie,-Et*ie,kt,-Et,kt],[2*Et-lt,0],[-Et*ie,0,-Et,-kt*ie,-Et,-kt],[0,2*kt-pt],[0,-kt*ie,Et*ie,-kt,Et,-kt]],C+Et,q,[1,1],$t,!0),this},b.__private__.ellipse=b.ellipse=function(C,q,lt,pt,Et){if(isNaN(C)||isNaN(q)||isNaN(lt)||isNaN(pt)||!Cr(Et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*lt,$t=4/3*(Math.SQRT2-1)*pt;return eo(C+lt,q),ga(C+lt,q-$t,C+kt,q-pt,C,q-pt),ga(C-kt,q-pt,C-lt,q-$t,C-lt,q),ga(C-lt,q+$t,C-kt,q+pt,C,q+pt),ga(C+kt,q+pt,C+lt,q+$t,C+lt,q),ns(Et),this},b.__private__.circle=b.circle=function(C,q,lt,pt){if(isNaN(C)||isNaN(q)||isNaN(lt)||!Cr(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,q,lt,lt,pt)},b.setFont=function(C,q,lt){return lt&&(q=B(q,lt)),Ce=nu(C,q,{disableWarning:!1}),this};var nr=b.__private__.getFont=b.getFont=function(){return Ke[nu.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var C,q,lt={};for(C in mn)if(mn.hasOwnProperty(C))for(q in lt[C]=[],mn[C])mn[C].hasOwnProperty(q)&&lt[C].push(q);return lt},b.addFont=function(C,q,lt,pt,Et){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?Et=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(lt=B(lt,pt)),Et=Et||"Identity-H",Za.call(this,C,q,lt,Et)};var Gr,no=i.lineWidth||.200025,Gs=b.__private__.getLineWidth=b.getLineWidth=function(){return no},bh=b.__private__.setLineWidth=b.setLineWidth=function(C){return no=C,ot(j(V(C))+" w"),this};b.__private__.setLineDash=Le.API.setLineDash=Le.API.setLineDashPattern=function(C,q){if(C=C||[],q=q||0,isNaN(q)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(lt){return j(V(lt))}).join(" "),q=j(V(q)),ot("["+C+"] "+q+" d"),this};var Wl=b.__private__.getLineHeight=b.getLineHeight=function(){return Qt*Gr};b.__private__.getLineHeight=b.getLineHeight=function(){return Qt*Gr};var Yl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Gr=C),this},io=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Gr};Yl(i.lineHeight);var Vr=b.__private__.getHorizontalCoordinate=function(C){return V(C)},Vs=b.__private__.getVerticalCoordinate=function(C){return T===L.ADVANCED?C:Xt[G].mediaBox.topRightY-Xt[G].mediaBox.bottomLeftY-V(C)},Gd=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(C){return j(Vr(C))},ro=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(C){return j(Vs(C))},xs=i.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return tr(xs)},b.__private__.setStrokeColor=b.setDrawColor=function(C,q,lt,pt){return xs=er({ch1:C,ch2:q,ch3:lt,ch4:pt,pdfColorType:"draw",precision:2}),ot(xs),this};var rl=i.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return tr(rl)},b.__private__.setFillColor=b.setFillColor=function(C,q,lt,pt){return rl=er({ch1:C,ch2:q,ch3:lt,ch4:pt,pdfColorType:"fill",precision:2}),ot(rl),this};var sl=i.textColor||"0 g",Vd=b.__private__.getTextColor=b.getTextColor=function(){return tr(sl)};b.__private__.setTextColor=b.setTextColor=function(C,q,lt,pt){return sl=er({ch1:C,ch2:q,ch3:lt,ch4:pt,pdfColorType:"text",precision:3}),this};var Xl=i.charSpace,$d=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Xl||0)};b.__private__.setCharSpace=b.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xl=C,this};var ou=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(C){var q=b.CapJoinStyles[C];if(q===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ou=q,ot(q+" J"),this};var Kl=0;b.__private__.setLineJoin=b.setLineJoin=function(C){var q=b.CapJoinStyles[C];if(q===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=q,ot(q+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(j(V(C))+" M"),this},b.GState=Um,b.setGState=function(C){(C=typeof C=="string"?Dn[pr[C]]:yh(null,C)).equals(Zi)||(ot("/"+C.id+" gs"),Zi=C)};var yh=function(C,q){if(!C||!pr[C]){var lt=!1;for(var pt in Dn)if(Dn.hasOwnProperty(pt)&&Dn[pt].equals(q)){lt=!0;break}if(lt)q=Dn[pt];else{var Et="GS"+(Object.keys(Dn).length+1).toString(10);Dn[Et]=q,q.id=Et}return C&&(pr[C]=q.id),xe.publish("addGState",q),q}};b.addGState=function(C,q){return yh(C,q),this},b.saveGraphicsState=function(){return ot("q"),Qi.push({key:Ce,size:Qt,color:sl}),this},b.restoreGraphicsState=function(){ot("Q");var C=Qi.pop();return Ce=C.key,Qt=C.size,sl=C.color,Zi=null,this},b.setCurrentTransformationMatrix=function(C){return ot(C.toString()+" cm"),this},b.comment=function(C){return ot("#"+C),this};var Ql=function(C,q){var lt=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return lt},set:function(kt){isNaN(kt)||(lt=parseFloat(kt))}});var pt=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(kt){isNaN(kt)||(pt=parseFloat(kt))}});var Et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Et},set:function(kt){Et=kt.toString()}}),this},lu=function(C,q,lt,pt){Ql.call(this,C,q),this.type="rect";var Et=lt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Et},set:function($t){isNaN($t)||(Et=parseFloat($t))}});var kt=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function($t){isNaN($t)||(kt=parseFloat($t))}}),this},cu=function(){this.page=jn,this.currentPage=G,this.pages=Ut.slice(0),this.pagesContext=Xt.slice(0),this.x=Vn,this.y=$e,this.matrix=Ki,this.width=al(G),this.height=so(G),this.outputDestination=Vt,this.id="",this.objectNumber=-1};cu.prototype.restore=function(){jn=this.page,G=this.currentPage,Xt=this.pagesContext,Ut=this.pages,Vn=this.x,$e=this.y,Ki=this.matrix,tc(G,this.width),uu(G,this.height),Vt=this.outputDestination};var Zl=function(C,q,lt,pt,Et){An.push(new cu),jn=G=0,Ut=[],Vn=C,$e=q,Ki=Et,il([lt,pt])},Wd=function(C){if(Ji[C])An.pop().restore();else{var q=new cu,lt="Xo"+(Object.keys(ln).length+1).toString(10);q.id=lt,Ji[C]=lt,ln[lt]=q,xe.publish("addFormObject",q),An.pop().restore()}};for(var Jl in b.beginFormObject=function(C,q,lt,pt,Et){return Zl(C,q,lt,pt,Et),this},b.endFormObject=function(C){return Wd(C),this},b.doFormObject=function(C,q){var lt=ln[Ji[C]];return ot("q"),ot(q.toString()+" cm"),ot("/"+lt.id+" Do"),ot("Q"),this},b.getFormObject=function(C){var q=ln[Ji[C]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},b.save=function(C,q){return C=C||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Fu(Hl(da()),C),typeof Fu.unload=="function"&&Me.setTimeout&&setTimeout(Fu.unload,911),this):new Promise(function(lt,pt){try{var Et=Fu(Hl(da()),C);typeof Fu.unload=="function"&&Me.setTimeout&&setTimeout(Fu.unload,911),lt(Et)}catch(kt){pt(kt.message)}})},Le.API)Le.API.hasOwnProperty(Jl)&&(Jl==="events"&&Le.API.events.length?function(C,q){var lt,pt,Et;for(Et=q.length-1;Et!==-1;Et--)lt=q[Et][0],pt=q[Et][1],C.subscribe.apply(C,[lt].concat(typeof pt=="function"?[pt]:pt))}(xe,Le.API.events):b[Jl]=Le.API[Jl]);var al=b.getPageWidth=function(C){return(Xt[C=C||G].mediaBox.topRightX-Xt[C].mediaBox.bottomLeftX)/ne},tc=b.setPageWidth=function(C,q){Xt[C].mediaBox.topRightX=q*ne+Xt[C].mediaBox.bottomLeftX},so=b.getPageHeight=function(C){return(Xt[C=C||G].mediaBox.topRightY-Xt[C].mediaBox.bottomLeftY)/ne},uu=b.setPageHeight=function(C,q){Xt[C].mediaBox.topRightY=q*ne+Xt[C].mediaBox.bottomLeftY};return b.internal={pdfEscape:In,getStyle:es,getFont:nr,getFontSize:Yt,getCharSpace:$d,getTextColor:Vd,getLineHeight:Wl,getLineHeightFactor:io,getLineWidth:Gs,write:le,getHorizontalCoordinate:Vr,getVerticalCoordinate:Vs,getCoordinateString:Gd,getVerticalCoordinateString:ro,collections:{},newObject:Un,newAdditionalObject:Jo,newObjectDeferred:Sn,newObjectDeferredBegin:Sr,getFilters:Er,putStream:Gi,events:xe,scaleFactor:ne,pageSize:{getWidth:function(){return al(G)},setWidth:function(C){tc(G,C)},getHeight:function(){return so(G)},setHeight:function(C){uu(G,C)}},encryptionOptions:f,encryption:ki,getEncryptor:to,output:fa,getNumberOfPages:fh,pages:Ut,out:ot,f2:ct,f3:z,getPageInfo:pa,getPageInfoByObjId:Pe,getCurrentPageInfo:su,getPDFVersion:y,Point:Ql,Rectangle:lu,Matrix:ae,hasHotfix:Gl},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return al(G)},set:function(C){tc(G,C)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return so(G)},set:function(C){uu(G,C)},enumerable:!0,configurable:!0}),dh.call(b,Ht),Ce="F1",tu(r,e),xe.publish("initialized"),b}rd.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},rd.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rd.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},rd.prototype.processOwnerPassword=function(i,t){return Nb(Cb(t).substr(0,5),i)},rd.prototype.encryptor=function(i,t){var e=Cb(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Nb(e,n)}},Um.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Ln(i)!==Ln(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Le.API={events:[]},Le.version="3.0.1";var bi=Le.API,Jy=1,lh=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},td=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ze=function(i){return i.toFixed(2)},kc=function(i){return i.toFixed(5)};bi.__acroform__={};var bs=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},xA=function(i){return i*Jy},jo=function(i){var t=new EC,e=pe.internal.getHeight(i)||0,n=pe.internal.getWidth(i)||0;return t.BBox=[0,0,Number(ze(n)),Number(ze(e))],t},WI=bi.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},YI=bi.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},XI=bi.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(i&1<<t)==0?0:1},Li=bi.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XI(i,t-1)},Ti=bi.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WI(i,t-1)},Mi=bi.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YI(i,t-1)},KI=bi.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],s=i[1],o=i[2],c=i[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=n(s+c)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=n(s)||0,[Number(ze(u.lowerLeft_X)),Number(ze(u.lowerLeft_Y)),Number(ze(u.upperRight_X)),Number(ze(u.upperRight_Y))]},QI=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=Rb(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+ze(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=jo(i);return s.scope=i.scope,s.stream=t.join(`
`),s}},Rb=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(z){return z.split(`
`)}):r.map(function(z){return[z]});var s=e,o=pe.internal.getHeight(i)||0;o=o<0?-o:o;var c=pe.internal.getWidth(i)||0;c=c<0?-c:c;var u=function(z,V,rt){if(z+1<r.length){var nt=V+" "+r[z+1][0];return am(nt,i,rt).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var d,f,p=am("3",i,s).height,m=i.multiline?o-s:(o-p)/2,b=m+=2,x=0,y=0,E=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+am(t,i,s=12).width+", FieldWidth:"+c+`
`;break}for(var S="",L=0,T=0;T<r.length;T++)if(r.hasOwnProperty(T)){var O=!1;if(r[T].length!==1&&E!==r[T].length-1){if((p+2)*(L+2)+2>o)continue t;S+=r[T][E],O=!0,y=T,T--}else{S=(S+=r[T][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var P=parseInt(T),B=u(P,S,s),j=T>=r.length-1;if(B&&!j){S+=" ",E=0;continue}if(B||j){if(j)y=P;else if(i.multiline&&(p+2)*(L+2)+2>o)continue t}else{if(!i.multiline||(p+2)*(L+2)+2>o)continue t;y=P}}for(var I="",tt=x;tt<=y;tt++){var ct=r[tt];if(i.multiline){if(tt===y){I+=ct[E]+" ",E=(E+1)%ct.length;continue}if(tt===x){I+=ct[ct.length-1]+" ";continue}}I+=ct[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=am(I,i,s).width,i.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;case"left":default:d=2}t+=ze(d)+" "+ze(b)+` Td
`,t+="("+lh(I)+`) Tj
`,t+=-ze(d)+` 0 Td
`,b=-(s+2),f=0,x=O?y:y+1,L++,S=""}break}return n.text=t,n.fontSize=s,n},am=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},ZI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JI=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},tF=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var n=e,r=i[e];t.internal.newObjectDeferredBegin(r.objId,!0),Ln(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},eF=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Ya.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(ZI)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Jy=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new _C,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&JI(s,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var s=!n;for(var o in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],u=[],d=c.Rect;if(c.Rect&&(c.Rect=KI(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=pe.createDefaultAppearanceStream(c),Ln(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=QI(c);u.push({key:"AP",value:"<</N "+f+">>"}),r.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var p="";for(var m in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(m)){var b=c.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var x=b[o];typeof x=="function"&&(x=x.call(r,c)),p+="/"+o+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=b)=="function"&&(x=x.call(r,c)),p+="/"+o+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}s&&tF(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},SC=bi.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(o){return o};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),Ln(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+lh(n(i[s].toString()))+")"):r+=i[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ev=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+lh(n(i))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:SC(r,this.objId,this.scope)}):r instanceof Ho?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var EC=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};bs(EC,Ho);var _C=function(){Ho.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+lh(e(i))+")"}},set:function(e){i=e}})};bs(_C,Ho);var Ya=function i(){Ho.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(t,3)},set:function(S){S?this.F=Ti(t,3):this.F=Mi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof qm)return;s="FieldObject"+i.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+lh(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Jy:d},set:function(S){d=S}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof qm||this instanceof Yu))return Ev(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof hr?m:Ev(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=this instanceof hr?S:S.substr(0,1)==="("?td(S.substr(1,S.length-2)):td(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?td(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof hr?"/"+S:S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof hr?b:Ev(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof hr?S:S.substr(0,1)==="("?td(S.substr(1,S.length-2)):td(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?td(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof hr?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){S=!!S,y=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(S){S?this.Ff=Ti(this.Ff,1):this.Ff=Mi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(S){S?this.Ff=Ti(this.Ff,2):this.Ff=Mi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(S){S?this.Ff=Ti(this.Ff,3):this.Ff=Mi(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};bs(Ya,Ho);var bd=function(){Ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return SC(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(s,o,c){c||(c=1);for(var u,d=[];u=o.exec(s);)d.push(u[c]);return d}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(e){e?this.Ff=Ti(this.Ff,18):this.Ff=Mi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Ti(this.Ff,19):this.Ff=Mi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(e){e?(this.Ff=Ti(this.Ff,20),t.sort()):this.Ff=Mi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(e){e?this.Ff=Ti(this.Ff,22):this.Ff=Mi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Ti(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(e){e?this.Ff=Ti(this.Ff,27):this.Ff=Mi(this.Ff,27)}}),this.hasAppearanceStream=!1};bs(bd,Ya);var yd=function(){bd.call(this),this.fontName="helvetica",this.combo=!1};bs(yd,bd);var wd=function(){yd.call(this),this.combo=!0};bs(wd,yd);var Sm=function(){wd.call(this),this.edit=!0};bs(Sm,wd);var hr=function(){Ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(e){e?this.Ff=Ti(this.Ff,15):this.Ff=Mi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(e){e?this.Ff=Ti(this.Ff,16):this.Ff=Mi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(e){e?this.Ff=Ti(this.Ff,17):this.Ff=Mi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Ti(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+lh(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Ln(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};bs(hr,Ya);var Em=function(){hr.call(this),this.pushButton=!0};bs(Em,hr);var xd=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};bs(xd,hr);var qm=function(){var i,t;Ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+lh(r(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Ln(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bs(qm,Ya),xd.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},xd.prototype.createOption=function(i){var t=new qm;return t.Parent=this,t.optionName=i,this.Kids.push(t),nF.call(this.scope,t),t};var _m=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};bs(_m,hr);var Yu=function(){Ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(t){t?this.Ff=Ti(this.Ff,13):this.Ff=Mi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(t){t?this.Ff=Ti(this.Ff,21):this.Ff=Mi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(t){t?this.Ff=Ti(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(t){t?this.Ff=Ti(this.Ff,24):this.Ff=Mi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(t){t?this.Ff=Ti(this.Ff,25):this.Ff=Mi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(t){t?this.Ff=Ti(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bs(Yu,Ya);var Cm=function(){Yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(i){i?this.Ff=Ti(this.Ff,14):this.Ff=Mi(this.Ff,14)}}),this.password=!0};bs(Cm,Yu);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=Rb(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+ze(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=jo(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=pe.internal.getHeight(i),o=pe.internal.getWidth(i),c=Rb(i,i.caption);return r.push("1 g"),r.push("0 0 "+ze(o)+" "+ze(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ze(o-1)+" "+ze(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ze(c.fontSize)+" Tf "+n),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Circle.YesNormal,t.D[i]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=jo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=pe.internal.Bezier_C,s=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+kc(pe.internal.getWidth(i)/2)+" "+kc(pe.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5)),o=Number((n*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+kc(pe.internal.getWidth(i)/2)+" "+kc(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+kc(pe.internal.getWidth(i)/2)+" "+kc(pe.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=[],n=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+kc(pe.internal.getWidth(i)/2)+" "+kc(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Cross.YesNormal,t.D[i]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=jo(i);t.scope=i.scope;var e=[],n=pe.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+ze(pe.internal.getWidth(i)-2)+" "+ze(pe.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(ze(n.x1.x)+" "+ze(n.x1.y)+" m"),e.push(ze(n.x2.x)+" "+ze(n.x2.y)+" l"),e.push(ze(n.x4.x)+" "+ze(n.x4.y)+" m"),e.push(ze(n.x3.x)+" "+ze(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=pe.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ze(pe.internal.getWidth(i)-2)+" "+ze(pe.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(ze(e.x1.x)+" "+ze(e.x1.y)+" m"),n.push(ze(e.x2.x)+" "+ze(e.x2.y)+" l"),n.push(ze(e.x4.x)+" "+ze(e.x4.y)+" m"),n.push(ze(e.x3.x)+" "+ze(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=jo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=pe.internal.getWidth(i),e=pe.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},pe.internal.getWidth=function(i){var t=0;return Ln(i)==="object"&&(t=xA(i.Rect[2])),t},pe.internal.getHeight=function(i){var t=0;return Ln(i)==="object"&&(t=xA(i.Rect[3])),t};var nF=bi.addField=function(i){if(eF(this,i),!(i instanceof Ya))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};bi.AcroFormChoiceField=bd,bi.AcroFormListBox=yd,bi.AcroFormComboBox=wd,bi.AcroFormEditBox=Sm,bi.AcroFormButton=hr,bi.AcroFormPushButton=Em,bi.AcroFormRadioButton=xd,bi.AcroFormCheckBox=_m,bi.AcroFormTextField=Yu,bi.AcroFormPasswordField=Cm,bi.AcroFormAppearance=pe,bi.AcroForm={ChoiceField:bd,ListBox:yd,ComboBox:wd,EditBox:Sm,Button:hr,PushButton:Em,RadioButton:xd,CheckBox:_m,TextField:Yu,PasswordField:Cm,Appearance:pe},Le.AcroForm={ChoiceField:bd,ListBox:yd,ComboBox:wd,EditBox:Sm,Button:hr,PushButton:Em,RadioButton:xd,CheckBox:_m,TextField:Yu,PasswordField:Cm,Appearance:pe};Le.AcroForm;function CC(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(z,V){var rt,nt,ut,H,et,Z=t;if((V=V||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(B(z))for(et in e)for(ut=e[et],rt=0;rt<ut.length;rt+=1){for(H=!0,nt=0;nt<ut[rt].length;nt+=1)if(ut[rt][nt]!==void 0&&ut[rt][nt]!==z[nt]){H=!1;break}if(H===!0){Z=et;break}}else for(et in e)for(ut=e[et],rt=0;rt<ut.length;rt+=1){for(H=!0,nt=0;nt<ut[rt].length;nt+=1)if(ut[rt][nt]!==void 0&&ut[rt][nt]!==z.charCodeAt(nt)){H=!1;break}if(H===!0){Z=et;break}}return Z===t&&V!==t&&(Z=V),Z},r=function z(V){for(var rt=this.internal.write,nt=this.internal.putStream,ut=(0,this.internal.getFilters)();ut.indexOf("FlateEncode")!==-1;)ut.splice(ut.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:V.width}),H.push({key:"Height",value:V.height}),V.colorSpace===E.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===E.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var et="",Z=0,gt=V.transparency.length;Z<gt;Z++)et+=V.transparency[Z]+" "+V.transparency[Z]+" ";H.push({key:"Mask",value:"["+et+"]"})}V.sMask!==void 0&&H.push({key:"SMask",value:V.objectId+1+" 0 R"});var Y=V.filter!==void 0?["/"+V.filter]:void 0;if(nt({data:V.data,additionalKeyValues:H,alreadyAppliedFilters:Y,objectId:V.objectId}),rt("endobj"),"sMask"in V&&V.sMask!==void 0){var dt="/Predictor "+V.predictor+" /Colors 1 /BitsPerComponent "+V.bitsPerComponent+" /Columns "+V.width,D={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:dt,data:V.sMask};"filter"in V&&(D.filter=V.filter),z.call(this,D)}if(V.colorSpace===E.INDEXED){var G=this.internal.newObject();nt({data:I(new Uint8Array(V.palette)),objectId:G}),rt("endobj")}},s=function(){var z=this.internal.collections.addImage_images;for(var V in z)r.call(this,z[V])},o=function(){var z,V=this.internal.collections.addImage_images,rt=this.internal.write;for(var nt in V)rt("/I"+(z=V[nt]).index,z.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var z=this.internal.collections.addImage_images;return c.call(this),z},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(z){return typeof i["process"+z.toUpperCase()]=="function"},p=function(z){return Ln(z)==="object"&&z.nodeType===1},m=function(z,V){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var rt=""+z.getAttribute("src");if(rt.indexOf("data:image/")===0)return ep(unescape(rt).split("base64,").pop());var nt=i.loadFile(rt,!0);if(nt!==void 0)return nt}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var ut;switch(V){case"PNG":ut="image/png";break;case"WEBP":ut="image/webp";break;case"JPEG":case"JPG":default:ut="image/jpeg"}return ep(z.toDataURL(ut,1).split("base64,").pop())}},b=function(z){var V=this.internal.collections.addImage_images;if(V){for(var rt in V)if(z===V[rt].alias)return V[rt]}},x=function(z,V,rt){return z||V||(z=-96,V=-96),z<0&&(z=-1*rt.width*72/z/this.internal.scaleFactor),V<0&&(V=-1*rt.height*72/V/this.internal.scaleFactor),z===0&&(z=V*rt.width/rt.height),V===0&&(V=z*rt.height/rt.width),[z,V]},y=function(z,V,rt,nt,ut,H){var et=x.call(this,rt,nt,ut),Z=this.internal.getCoordinateString,gt=this.internal.getVerticalCoordinateString,Y=u.call(this);if(rt=et[0],nt=et[1],Y[ut.index]=ut,H){H*=Math.PI/180;var dt=Math.cos(H),D=Math.sin(H),G=function(st){return st.toFixed(4)},Q=[G(dt),G(D),G(-1*D),G(dt),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,Z(z),gt(V+nt),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([Z(rt),"0","0",Z(nt),"0","0","cm"].join(" "))):this.internal.write([Z(rt),"0","0",Z(nt),Z(z),gt(V+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ut.index+" Do"),this.internal.write("Q")},E=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=i.__addimage__.sHashCode=function(z){var V,rt,nt=0;if(typeof z=="string")for(rt=z.length,V=0;V<rt;V++)nt=(nt<<5)-nt+z.charCodeAt(V),nt|=0;else if(B(z))for(rt=z.byteLength/2,V=0;V<rt;V++)nt=(nt<<5)-nt+z[V],nt|=0;return nt},T=i.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var V=!0;return z.length===0&&(V=!1),z.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(V=!1),V},O=i.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var V=z.indexOf(",");return V<0?null:z.substring(0,V).trim().endsWith("base64")?z.substring(V+1):null},P=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(z){return P()&&z instanceof ArrayBuffer};var B=i.__addimage__.isArrayBufferView=function(z){return P()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},j=i.__addimage__.binaryStringToUint8Array=function(z){for(var V=z.length,rt=new Uint8Array(V),nt=0;nt<V;nt++)rt[nt]=z.charCodeAt(nt);return rt},I=i.__addimage__.arrayBufferToBinaryString=function(z){for(var V="",rt=B(z)?z:new Uint8Array(z),nt=0;nt<rt.length;nt+=8192)V+=String.fromCharCode.apply(null,rt.subarray(nt,nt+8192));return V};i.addImage=function(){var z,V,rt,nt,ut,H,et,Z,gt;if(typeof arguments[1]=="number"?(V=t,rt=arguments[1],nt=arguments[2],ut=arguments[3],H=arguments[4],et=arguments[5],Z=arguments[6],gt=arguments[7]):(V=arguments[1],rt=arguments[2],nt=arguments[3],ut=arguments[4],H=arguments[5],et=arguments[6],Z=arguments[7],gt=arguments[8]),Ln(z=arguments[0])==="object"&&!p(z)&&"imageData"in z){var Y=z;z=Y.imageData,V=Y.format||V||t,rt=Y.x||rt||0,nt=Y.y||nt||0,ut=Y.w||Y.width||ut,H=Y.h||Y.height||H,et=Y.alias||et,Z=Y.compression||Z,gt=Y.rotation||Y.angle||gt}var dt=this.internal.getFilters();if(Z===void 0&&dt.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(rt)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=tt.call(this,z,V,et,Z);return y.call(this,rt,nt,ut,H,D,gt),this};var tt=function(z,V,rt,nt){var ut,H,et;if(typeof z=="string"&&n(z)===t){z=unescape(z);var Z=ct(z,!1);(Z!==""||(Z=i.loadFile(z,!0))!==void 0)&&(z=Z)}if(p(z)&&(z=m(z,V)),V=n(z,V),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((et=rt)==null||et.length===0)&&(rt=function(gt){return typeof gt=="string"||B(gt)?L(gt):B(gt.data)?L(gt.data):null}(z)),(ut=b.call(this,rt))||(P()&&(z instanceof Uint8Array||V==="RGBA"||(H=z,z=j(z))),ut=this["process"+V.toUpperCase()](z,d.call(this),rt,function(gt){return gt&&typeof gt=="string"&&(gt=gt.toUpperCase()),gt in i.image_compression?gt:S.NONE}(nt),H)),!ut)throw new Error("An unknown error occurred whilst processing the image.");return ut},ct=i.__addimage__.convertBase64ToBinaryString=function(z,V){V=typeof V!="boolean"||V;var rt,nt="";if(typeof z=="string"){var ut;rt=(ut=O(z))!==null&&ut!==void 0?ut:z;try{nt=ep(rt)}catch(H){if(V)throw T(rt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return nt};i.getImageProperties=function(z){var V,rt,nt="";if(p(z)&&(z=m(z)),typeof z=="string"&&n(z)===t&&((nt=ct(z,!1))===""&&(nt=i.loadFile(z)||""),z=nt),rt=n(z),!f(rt))throw new Error("addImage does not support files of type '"+rt+"', please ensure that a plugin for '"+rt+"' support is added.");if(!P()||z instanceof Uint8Array||(z=j(z)),!(V=this["process"+rt.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=rt,V}})(Le.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Le.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((n=d[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var b=this.internal.pdfEscape,x=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(y.objId),L=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+b(S(n.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+b(S(L))+") >>",y.content=s;var T=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(y.objId,"0 R",E.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+b(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+b(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var B=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(e),y:d(n),w:u(e+r),h:d(n+s)},options:o,type:"link"})},i.textWithLink=function(e,n,r,s){var o,c,u=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(e,c).length;o=Math.ceil(d*f)}else c=u,o=d;return this.text(e,n,r,s),r+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,r-d,c,o,s),u},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Le.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},c=i.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},u=i.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&r.indexOf(y.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var f=i.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length==4},p=i.__arabicParser__.resolveLigatures=function(y){var E=0,S=e,L="",T=0;for(E=0;E<y.length;E+=1)S[y.charCodeAt(E)]!==void 0?(T++,typeof(S=S[y.charCodeAt(E)])=="number"&&(L+=String.fromCharCode(S),S=e,T=0),E===y.length-1&&(S=e,L+=y.charAt(E-(T-1)),E-=T-1,T=0)):(S=e,L+=y.charAt(E-T),E-=T,T=0);return L};i.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var m=i.__arabicParser__.getCorrectForm=function(y,E,S){return o(y)?s(y)===!1?-1:!d(y)||!o(E)&&!o(S)||!o(S)&&c(E)||c(y)&&!o(E)||c(y)&&u(E)||c(y)&&c(E)?0:f(y)&&o(E)&&!c(E)&&o(S)&&d(S)?3:c(y)||!o(S)?1:2:-1},b=function(y){var E=0,S=0,L=0,T="",O="",P="",B=(y=y||"").split("\\s+"),j=[];for(E=0;E<B.length;E+=1){for(j.push(""),S=0;S<B[E].length;S+=1)T=B[E][S],O=B[E][S-1],P=B[E][S+1],o(T)?(L=m(T,O,P),j[E]+=L!==-1?String.fromCharCode(t[T.charCodeAt(0)][L]):T):j[E]+=T;j[E]=p(j[E])}return j.join(" ")},x=i.__arabicParser__.processArabic=i.processArabic=function(){var y,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var L=0;for(S=[],L=0;L<E.length;L+=1)Array.isArray(E[L])?S.push([b(E[L][0]),E[L][1],E[L][2]]):S.push([b(E[L])]);y=S}else y=b(E);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};i.events.push(["preProcessText",x])}(Le.API),Le.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Le.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},i.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,b=0,x=0,y=0,E=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=d.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(T,O){return T.concat(E.splitTextToSize(O,S))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)b<(y=this.getStringUnitWidth(u[L],{font:p})*f)&&(b=y);return b!==0&&(x=u.length),{w:b/=m,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,b&&m&&(this.printHeaderRow(u.lineNumber,!0),u.y+=m[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};i.table=function(u,d,f,p,m){if(n.call(this),!f)throw new Error("No data for PDF table.");var b,x,y,E,S=[],L=[],T=[],O={},P={},B=[],j=[],I=(m=m||{}).autoSize||!1,tt=m.printHeaders!==!1,ct=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,z=m.margins||Object.assign({width:this.getPageWidth()},t),V=typeof m.padding=="number"?m.padding:3,rt=m.headerBackgroundColor||"#c8c8c8",nt=m.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=tt,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=ct,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=rt,this.internal.__cell__.headerTextColor=nt,this.setFontSize(ct),p==null)L=S=Object.keys(f[0]),T=S.map(function(){return"left"});else if(Array.isArray(p)&&Ln(p[0])==="object")for(S=p.map(function(Y){return Y.name}),L=p.map(function(Y){return Y.prompt||Y.name||""}),T=p.map(function(Y){return Y.align||"left"}),b=0;b<p.length;b+=1)P[p[b].name]=p[b].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(L=S=p,T=S.map(function(){return"left"}));if(I||Array.isArray(p)&&typeof p[0]=="string")for(b=0;b<S.length;b+=1){for(O[E=S[b]]=f.map(function(Y){return Y[E]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=O[E],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)B.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[E]=Math.max.apply(null,B)+V+V,B=[]}if(tt){var ut={};for(b=0;b<S.length;b+=1)ut[S[b]]={},ut[S[b]].text=L[b],ut[S[b]].align=T[b];var H=c.call(this,ut,P);j=S.map(function(Y){return new s(u,d,P[Y],H,ut[Y].text,void 0,ut[Y].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var et=p.reduce(function(Y,dt){return Y[dt.name]=dt.align,Y},{});for(b=0;b<f.length;b+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:b,data:f[b]},this);var Z=c.call(this,f[b],P);for(y=0;y<S.length;y+=1){var gt=f[b][S[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:b,col:y,data:gt},this),o.call(this,new s(u,d,P[S[y]],Z,gt,b+2,et[S[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(u).map(function(b){var x=u[b];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[b]-f-f)},this).map(function(b){return this.getLineHeightFactor()*b.length*p/m+f+f},this).reduce(function(b,x){return Math.max(b,x)},0)};i.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},i.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){f=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),e=!1}}(Le.API);var NC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Lb=CC(RC),LC=[100,200,300,400,500,600,700,800,900],iF=CC(LC);function Tb(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return NC[s=s||"normal"]?s:"normal"}(i.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(s){return typeof Lb[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function AA(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var rF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function EA(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function sF(i,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},rF,e.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(r[(s=Tb(t[c])).family]&&(s.family=r[s.family]),i.hasOwnProperty(s.family)){o=i[s.family];break}if(!(o=o||i[n]))throw new Error("Could not find a font-family for the rule '"+EA(s)+"' and default family '"+n+"'.");if(o=function(u,d){if(d[u])return d[u];var f=Lb[u],p=f<=Lb.normal?-1:1,m=AA(d,RC,f,p);if(!m)throw new Error("Could not find a matching font-stretch value for "+u);return m}(s.stretch,o),o=function(u,d){if(d[u])return d[u];for(var f=NC[u],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=iF[u],p=AA(d,LC,f,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+EA(s)+"'.");return o}function _A(i){return i.trimLeft()}function aF(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function oF(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var om,CA,NA,_v=["times"];(function(i){var t,e,n,r,s,o,c,u,d,f=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new u,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var p=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=D;Object.defineProperty(this,"pdf",{get:function(){return G}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Tt){Q=!!Tt}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(Tt){st=!!Tt}});var at=0;Object.defineProperty(this,"posX",{get:function(){return at},set:function(Tt){isNaN(Tt)||(at=Tt)}});var ft=0;Object.defineProperty(this,"posY",{get:function(){return ft},set:function(Tt){isNaN(Tt)||(ft=Tt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Tt){var ot;typeof Tt=="number"?ot=[Tt,Tt,Tt,Tt]:((ot=new Array(4))[0]=Tt[0],ot[1]=Tt.length>=2?Tt[1]:ot[0],ot[2]=Tt.length>=3?Tt[2]:ot[0],ot[3]=Tt.length>=4?Tt[3]:ot[1]),d.margin=ot}});var wt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return wt},set:function(Tt){wt=Tt}});var St=0;Object.defineProperty(this,"lastBreak",{get:function(){return St},set:function(Tt){St=Tt}});var Dt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Dt},set:function(Tt){Dt=Tt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Tt){Tt instanceof f&&(d=Tt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Tt){d.path=Tt}});var Ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ut},set:function(Tt){Ut=Tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Tt){var ot;ot=m(Tt),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Tt){var ot=m(Tt);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Tt){["butt","round","square"].indexOf(Tt)!==-1&&(this.ctx.lineCap=Tt,this.pdf.setLineCap(Tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Tt){isNaN(Tt)||(this.ctx.lineWidth=Tt,this.pdf.setLineWidth(Tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Tt){["bevel","round","miter"].indexOf(Tt)!==-1&&(this.ctx.lineJoin=Tt,this.pdf.setLineJoin(Tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Tt){isNaN(Tt)||(this.ctx.miterLimit=Tt,this.pdf.setMiterLimit(Tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Tt){this.ctx.textBaseline=Tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Tt){["right","end","center","left","start"].indexOf(Tt)!==-1&&(this.ctx.textAlign=Tt)}});var Wt=null;function Vt(Tt,ot){if(Wt===null){var le=function(se){var Ht=[];return Object.keys(se).forEach(function(Qt){se[Qt].forEach(function(Jt){var Yt=null;switch(Jt){case"bold":Yt={family:Qt,weight:"bold"};break;case"italic":Yt={family:Qt,style:"italic"};break;case"bolditalic":Yt={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:Qt}}Yt!==null&&(Yt.ref={name:Qt,style:Jt},Ht.push(Yt))})}),Ht}(Tt.getFontList());Wt=function(se){for(var Ht={},Qt=0;Qt<se.length;++Qt){var Jt=Tb(se[Qt]),Yt=Jt.family,ce=Jt.stretch,_e=Jt.style,ke=Jt.weight;Ht[Yt]=Ht[Yt]||{},Ht[Yt][ce]=Ht[Yt][ce]||{},Ht[Yt][ce][_e]=Ht[Yt][ce][_e]||{},Ht[Yt][ce][_e][ke]=Jt}return Ht}(le.concat(ot))}return Wt}var Zt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Zt},set:function(Tt){Wt=null,Zt=Tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Tt){var ot;if(this.ctx.font=Tt,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Tt))!==null){var le=ot[1];ot[2];var se=ot[3],Ht=ot[4];ot[5];var Qt=ot[6],Jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ht)[2];Ht=Math.floor(Jt==="px"?parseFloat(Ht)*this.pdf.internal.scaleFactor:Jt==="em"?parseFloat(Ht)*this.pdf.getFontSize():parseFloat(Ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ht);var Yt=function(oe){var Ce,ne,Vn=[],$e=oe.trim();if($e==="")return _v;if($e in SA)return[SA[$e]];for(;$e!=="";){switch(ne=null,Ce=($e=_A($e)).charAt(0)){case'"':case"'":ne=aF($e.substring(1),Ce);break;default:ne=oF($e)}if(ne===null||(Vn.push(ne[0]),($e=_A(ne[1]))!==""&&$e.charAt(0)!==","))return _v;$e=$e.replace(/^,/,"")}return Vn}(Qt);if(this.fontFaces){var ce=sF(Vt(this.pdf,this.fontFaces),Yt.map(function(oe){return{family:oe,stretch:"normal",weight:se,style:le}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var _e="";(se==="bold"||parseInt(se,10)>=700||le==="bold")&&(_e="bold"),le==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var ke="",Se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},be=0;be<Yt.length;be++){if(this.pdf.internal.getFont(Yt[be],_e,{noFallback:!0,disableWarning:!0})!==void 0){ke=Yt[be];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(Yt[be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=Yt[be],_e="bold";else if(this.pdf.internal.getFont(Yt[be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=Yt[be],_e="normal";break}}if(ke===""){for(var Ie=0;Ie<Yt.length;Ie++)if(Se[Yt[Ie]]){ke=Se[Yt[Ie]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Tt){this.ctx.globalCompositeOperation=Tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Tt){this.ctx.globalAlpha=Tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Tt){this.ctx.lineDashOffset=Tt,dt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Tt){this.ctx.lineDash=Tt,dt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Tt){this.ctx.ignoreClearRect=!!Tt}})};p.prototype.setLineDash=function(D){this.lineDash=D},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){O.call(this,"fill",!1)},p.prototype.stroke=function(){O.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(D,G){if(isNaN(D)||isNaN(G))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,G)},p.prototype.closePath=function(){var D=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Ln(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){D=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},p.prototype.lineTo=function(D,G){if(isNaN(D)||isNaN(G))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},p.prototype.quadraticCurveTo=function(D,G,Q,st){if(isNaN(Q)||isNaN(st)||isNaN(D)||isNaN(G))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var at=this.ctx.transform.applyToPoint(new o(Q,st)),ft=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"qct",x1:ft.x,y1:ft.y,x:at.x,y:at.y}),this.ctx.lastPoint=new o(at.x,at.y)},p.prototype.bezierCurveTo=function(D,G,Q,st,at,ft){if(isNaN(at)||isNaN(ft)||isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var wt=this.ctx.transform.applyToPoint(new o(at,ft)),St=this.ctx.transform.applyToPoint(new o(D,G)),Dt=this.ctx.transform.applyToPoint(new o(Q,st));this.path.push({type:"bct",x1:St.x,y1:St.y,x2:Dt.x,y2:Dt.y,x:wt.x,y:wt.y}),this.ctx.lastPoint=new o(wt.x,wt.y)},p.prototype.arc=function(D,G,Q,st,at,ft){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st)||isNaN(at))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ft=!!ft,!this.ctx.transform.isIdentity){var wt=this.ctx.transform.applyToPoint(new o(D,G));D=wt.x,G=wt.y;var St=this.ctx.transform.applyToPoint(new o(0,Q)),Dt=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(St.x-Dt.x,2)+Math.pow(St.y-Dt.y,2))}Math.abs(at-st)>=2*Math.PI&&(st=0,at=2*Math.PI),this.path.push({type:"arc",x:D,y:G,radius:Q,startAngle:st,endAngle:at,counterclockwise:ft})},p.prototype.arcTo=function(D,G,Q,st,at){throw new Error("arcTo not implemented.")},p.prototype.rect=function(D,G,Q,st){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,G),this.lineTo(D+Q,G),this.lineTo(D+Q,G+st),this.lineTo(D,G+st),this.lineTo(D,G),this.lineTo(D+Q,G),this.lineTo(D,G)},p.prototype.fillRect=function(D,G,Q,st){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var at={};this.lineCap!=="butt"&&(at.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(at.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,G,Q,st),this.fill(),at.hasOwnProperty("lineCap")&&(this.lineCap=at.lineCap),at.hasOwnProperty("lineJoin")&&(this.lineJoin=at.lineJoin)}},p.prototype.strokeRect=function(D,G,Q,st){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,G,Q,st),this.stroke())},p.prototype.clearRect=function(D,G,Q,st){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,G,Q,st))},p.prototype.save=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},p.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(G),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var G,Q,st,at;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))G=0,Q=0,st=0,at=0;else{var ft=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ft!==null)G=parseInt(ft[1]),Q=parseInt(ft[2]),st=parseInt(ft[3]),at=1;else if((ft=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)G=parseInt(ft[1]),Q=parseInt(ft[2]),st=parseInt(ft[3]),at=parseFloat(ft[4]);else{if(at=1,typeof D=="string"&&D.charAt(0)!=="#"){var wt=new wC(D);D=wt.ok?wt.toHex():"#000000"}D.length===4?(G=D.substring(1,2),G+=G,Q=D.substring(2,3),Q+=Q,st=D.substring(3,4),st+=st):(G=D.substring(1,3),Q=D.substring(3,5),st=D.substring(5,7)),G=parseInt(G,16),Q=parseInt(Q,16),st=parseInt(st,16)}}return{r:G,g:Q,b:st,a:at,style:D}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(D,G,Q,st){if(isNaN(G)||isNaN(Q)||typeof D!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!b.call(this)){var at=Z(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;V.call(this,{text:D,x:G,y:Q,scale:ft,angle:at,align:this.textAlign,maxWidth:st})}},p.prototype.strokeText=function(D,G,Q,st){if(isNaN(G)||isNaN(Q)||typeof D!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){st=isNaN(st)?void 0:st;var at=Z(this.ctx.transform.rotation),ft=this.ctx.transform.scaleX;V.call(this,{text:D,x:G,y:Q,scale:ft,renderingMode:"stroke",angle:at,align:this.textAlign,maxWidth:st})}},p.prototype.measureText=function(D){if(typeof D!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Q=this.pdf.internal.scaleFactor,st=G.internal.getFontSize(),at=G.getStringUnitWidth(D)*st/G.internal.scaleFactor,ft=function(wt){var St=(wt=wt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return St}}),this};return new ft({width:at*=Math.round(96*Q/72*1e4)/1e4})},p.prototype.scale=function(D,G){if(isNaN(D)||isNaN(G))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new u(D,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.rotate=function(D){if(isNaN(D))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.translate=function(D,G){if(isNaN(D)||isNaN(G))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new u(1,0,0,1,D,G);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.transform=function(D,G,Q,st,at,ft){if(isNaN(D)||isNaN(G)||isNaN(Q)||isNaN(st)||isNaN(at)||isNaN(ft))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var wt=new u(D,G,Q,st,at,ft);this.ctx.transform=this.ctx.transform.multiply(wt)},p.prototype.setTransform=function(D,G,Q,st,at,ft){D=isNaN(D)?1:D,G=isNaN(G)?0:G,Q=isNaN(Q)?0:Q,st=isNaN(st)?1:st,at=isNaN(at)?0:at,ft=isNaN(ft)?0:ft,this.ctx.transform=new u(D,G,Q,st,at,ft)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(D,G,Q,st,at,ft,wt,St,Dt){var Ut=this.pdf.getImageProperties(D),Wt=1,Vt=1,Zt=1,Tt=1;st!==void 0&&St!==void 0&&(Zt=St/st,Tt=Dt/at,Wt=Ut.width/st*St/st,Vt=Ut.height/at*Dt/at),ft===void 0&&(ft=G,wt=Q,G=0,Q=0),st!==void 0&&St===void 0&&(St=st,Dt=at),st===void 0&&St===void 0&&(St=Ut.width,Dt=Ut.height);for(var ot,le=this.ctx.transform.decompose(),se=Z(le.rotate.shx),Ht=new u,Qt=(Ht=(Ht=(Ht=Ht.multiply(le.translate)).multiply(le.skew)).multiply(le.scale)).applyToRectangle(new c(ft-G*Zt,wt-Q*Tt,st*Wt,at*Vt)),Jt=E.call(this,Qt),Yt=[],ce=0;ce<Jt.length;ce+=1)Yt.indexOf(Jt[ce])===-1&&Yt.push(Jt[ce]);if(T(Yt),this.autoPaging)for(var _e=Yt[0],ke=Yt[Yt.length-1],Se=_e;Se<ke+1;Se++){this.pdf.setPage(Se);var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Se===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=Se===1?0:oe+(Se-2)*Ce;if(this.ctx.clip_path.length!==0){var Vn=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ot,this.posX+this.margin[3],-ne+Ie+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Vn}var $e=JSON.parse(JSON.stringify(Qt));$e=L([$e],this.posX+this.margin[3],-ne+Ie+this.ctx.prevPageLastElemOffset)[0];var Ki=(Se>_e||Se<ke)&&y.call(this);Ki&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Ce,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,se),Ki&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,se)};var E=function(D,G,Q){var st=[];G=G||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var at=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":st.push(Math.floor((D.y+at)/Q)+1);break;case"arc":st.push(Math.floor((D.y+at-D.radius)/Q)+1),st.push(Math.floor((D.y+at+D.radius)/Q)+1);break;case"qct":var ft=gt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);st.push(Math.floor((ft.y+at)/Q)+1),st.push(Math.floor((ft.y+ft.h+at)/Q)+1);break;case"bct":var wt=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);st.push(Math.floor((wt.y+at)/Q)+1),st.push(Math.floor((wt.y+wt.h+at)/Q)+1);break;case"rect":st.push(Math.floor((D.y+at)/Q)+1),st.push(Math.floor((D.y+D.h+at)/Q)+1)}for(var St=0;St<st.length;St+=1)for(;this.pdf.internal.getNumberOfPages()<st[St];)S.call(this);return st},S=function(){var D=this.fillStyle,G=this.strokeStyle,Q=this.font,st=this.lineCap,at=this.lineWidth,ft=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=G,this.font=Q,this.lineCap=st,this.lineWidth=at,this.lineJoin=ft},L=function(D,G,Q){for(var st=0;st<D.length;st++)switch(D[st].type){case"bct":D[st].x2+=G,D[st].y2+=Q;case"qct":D[st].x1+=G,D[st].y1+=Q;case"mt":case"lt":case"arc":default:D[st].x+=G,D[st].y+=Q}return D},T=function(D){return D.sort(function(G,Q){return G-Q})},O=function(D,G){for(var Q,st,at=this.fillStyle,ft=this.strokeStyle,wt=this.lineCap,St=this.lineWidth,Dt=Math.abs(St*this.ctx.transform.scaleX),Ut=this.lineJoin,Wt=JSON.parse(JSON.stringify(this.path)),Vt=JSON.parse(JSON.stringify(this.path)),Zt=[],Tt=0;Tt<Vt.length;Tt++)if(Vt[Tt].x!==void 0)for(var ot=E.call(this,Vt[Tt]),le=0;le<ot.length;le+=1)Zt.indexOf(ot[le])===-1&&Zt.push(ot[le]);for(var se=0;se<Zt.length;se++)for(;this.pdf.internal.getNumberOfPages()<Zt[se];)S.call(this);if(T(Zt),this.autoPaging)for(var Ht=Zt[0],Qt=Zt[Zt.length-1],Jt=Ht;Jt<Qt+1;Jt++){this.pdf.setPage(Jt),this.fillStyle=at,this.strokeStyle=ft,this.lineCap=wt,this.lineWidth=Dt,this.lineJoin=Ut;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=Jt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Jt===1?0:_e+(Jt-2)*ke;if(this.ctx.clip_path.length!==0){var be=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Q,this.posX+this.margin[3],-Se+ce+this.ctx.prevPageLastElemOffset),P.call(this,D,!0),this.path=be}if(st=JSON.parse(JSON.stringify(Wt)),this.path=L(st,this.posX+this.margin[3],-Se+ce+this.ctx.prevPageLastElemOffset),G===!1||Jt===0){var Ie=(Jt>Ht||Jt<Qt)&&y.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,ke,null).clip().discardPath()),P.call(this,D,G),Ie&&this.pdf.restoreGraphicsState()}this.lineWidth=St}else this.lineWidth=Dt,P.call(this,D,G),this.lineWidth=St;this.path=Wt},P=function(D,G){if((D!=="stroke"||G||!x.call(this))&&(D==="stroke"||G||!b.call(this))){for(var Q,st,at=[],ft=this.path,wt=0;wt<ft.length;wt++){var St=ft[wt];switch(St.type){case"begin":at.push({begin:!0});break;case"close":at.push({close:!0});break;case"mt":at.push({start:St,deltas:[],abs:[]});break;case"lt":var Dt=at.length;if(ft[wt-1]&&!isNaN(ft[wt-1].x)&&(Q=[St.x-ft[wt-1].x,St.y-ft[wt-1].y],Dt>0)){for(;Dt>=0;Dt--)if(at[Dt-1].close!==!0&&at[Dt-1].begin!==!0){at[Dt-1].deltas.push(Q),at[Dt-1].abs.push(St);break}}break;case"bct":Q=[St.x1-ft[wt-1].x,St.y1-ft[wt-1].y,St.x2-ft[wt-1].x,St.y2-ft[wt-1].y,St.x-ft[wt-1].x,St.y-ft[wt-1].y],at[at.length-1].deltas.push(Q);break;case"qct":var Ut=ft[wt-1].x+2/3*(St.x1-ft[wt-1].x),Wt=ft[wt-1].y+2/3*(St.y1-ft[wt-1].y),Vt=St.x+2/3*(St.x1-St.x),Zt=St.y+2/3*(St.y1-St.y),Tt=St.x,ot=St.y;Q=[Ut-ft[wt-1].x,Wt-ft[wt-1].y,Vt-ft[wt-1].x,Zt-ft[wt-1].y,Tt-ft[wt-1].x,ot-ft[wt-1].y],at[at.length-1].deltas.push(Q);break;case"arc":at.push({deltas:[],abs:[],arc:!0}),Array.isArray(at[at.length-1].abs)&&at[at.length-1].abs.push(St)}}st=G?null:D==="stroke"?"stroke":"fill";for(var le=!1,se=0;se<at.length;se++)if(at[se].arc)for(var Ht=at[se].abs,Qt=0;Qt<Ht.length;Qt++){var Jt=Ht[Qt];Jt.type==="arc"?I.call(this,Jt.x,Jt.y,Jt.radius,Jt.startAngle,Jt.endAngle,Jt.counterclockwise,void 0,G,!le):rt.call(this,Jt.x,Jt.y),le=!0}else if(at[se].close===!0)this.pdf.internal.out("h"),le=!1;else if(at[se].begin!==!0){var Yt=at[se].start.x,ce=at[se].start.y;nt.call(this,at[se].deltas,Yt,ce),le=!0}st&&tt.call(this,st),G&&ct.call(this)}},B=function(D){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+G-Q;case"hanging":return D+G-2*Q;case"middle":return D+G/2-Q;case"ideographic":return D;case"alphabetic":default:return D}},j=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(G,Q){this.colorStops.push([G,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(D,G,Q,st,at,ft,wt,St,Dt){for(var Ut=H.call(this,Q,st,at,ft),Wt=0;Wt<Ut.length;Wt++){var Vt=Ut[Wt];Wt===0&&(Dt?z.call(this,Vt.x1+D,Vt.y1+G):rt.call(this,Vt.x1+D,Vt.y1+G)),ut.call(this,D,G,Vt.x2,Vt.y2,Vt.x3,Vt.y3,Vt.x4,Vt.y4)}St?ct.call(this):tt.call(this,wt)},tt=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ct=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(D,G){this.pdf.internal.out(e(D)+" "+n(G)+" m")},V=function(D){var G;switch(D.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Q=this.pdf.getTextDimensions(D.text),st=B.call(this,D.y),at=j.call(this,st)-Q.h,ft=this.ctx.transform.applyToPoint(new o(D.x,st)),wt=this.ctx.transform.decompose(),St=new u;St=(St=(St=St.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale);for(var Dt,Ut,Wt,Vt=this.ctx.transform.applyToRectangle(new c(D.x,st,Q.w,Q.h)),Zt=St.applyToRectangle(new c(D.x,at,Q.w,Q.h)),Tt=E.call(this,Zt),ot=[],le=0;le<Tt.length;le+=1)ot.indexOf(Tt[le])===-1&&ot.push(Tt[le]);if(T(ot),this.autoPaging)for(var se=ot[0],Ht=ot[ot.length-1],Qt=se;Qt<Ht+1;Qt++){this.pdf.setPage(Qt);var Jt=Qt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],_e=ce-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Se=ke-this.margin[3],be=Qt===1?0:Yt+(Qt-2)*_e;if(this.ctx.clip_path.length!==0){var Ie=this.path;Dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Dt,this.posX+this.margin[3],-1*be+Jt),P.call(this,"fill",!0),this.path=Ie}var oe=L([JSON.parse(JSON.stringify(Zt))],this.posX+this.margin[3],-be+Jt+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*D.scale),Wt=this.lineWidth,this.lineWidth=Wt*D.scale);var Ce=this.autoPaging!=="text";if(Ce||oe.y+oe.h<=ce){if(Ce||oe.y>=Jt&&oe.x<=ke){var ne=Ce?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||ke-oe.x)[0],Vn=L([JSON.parse(JSON.stringify(Vt))],this.posX+this.margin[3],-be+Jt+this.ctx.prevPageLastElemOffset)[0],$e=Ce&&(Qt>se||Qt<Ht)&&y.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,_e,null).clip().discardPath()),this.pdf.text(ne,Vn.x,Vn.y,{angle:D.angle,align:G,renderingMode:D.renderingMode}),$e&&this.pdf.restoreGraphicsState()}}else oe.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-oe.y);D.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=Wt)}else D.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*D.scale),Wt=this.lineWidth,this.lineWidth=Wt*D.scale),this.pdf.text(D.text,ft.x+this.posX,ft.y+this.posY,{angle:D.angle,align:G,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=Wt)},rt=function(D,G,Q,st){Q=Q||0,st=st||0,this.pdf.internal.out(e(D+Q)+" "+n(G+st)+" l")},nt=function(D,G,Q){return this.pdf.lines(D,G,Q,null,null)},ut=function(D,G,Q,st,at,ft,wt,St){this.pdf.internal.out([t(r(Q+D)),t(s(st+G)),t(r(at+D)),t(s(ft+G)),t(r(wt+D)),t(s(St+G)),"c"].join(" "))},H=function(D,G,Q,st){for(var at=2*Math.PI,ft=Math.PI/2;G>Q;)G-=at;var wt=Math.abs(Q-G);wt<at&&st&&(wt=at-wt);for(var St=[],Dt=st?-1:1,Ut=G;wt>1e-5;){var Wt=Ut+Dt*Math.min(wt,ft);St.push(et.call(this,D,Ut,Wt)),wt-=Math.abs(Wt-Ut),Ut=Wt}return St},et=function(D,G,Q){var st=(Q-G)/2,at=D*Math.cos(st),ft=D*Math.sin(st),wt=at,St=-ft,Dt=wt*wt+St*St,Ut=Dt+wt*at+St*ft,Wt=4/3*(Math.sqrt(2*Dt*Ut)-Ut)/(wt*ft-St*at),Vt=wt-Wt*St,Zt=St+Wt*wt,Tt=Vt,ot=-Zt,le=st+G,se=Math.cos(le),Ht=Math.sin(le);return{x1:D*Math.cos(G),y1:D*Math.sin(G),x2:Vt*se-Zt*Ht,y2:Vt*Ht+Zt*se,x3:Tt*se-ot*Ht,y3:Tt*Ht+ot*se,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},Z=function(D){return 180*D/Math.PI},gt=function(D,G,Q,st,at,ft){var wt=D+.5*(Q-D),St=G+.5*(st-G),Dt=at+.5*(Q-at),Ut=ft+.5*(st-ft),Wt=Math.min(D,at,wt,Dt),Vt=Math.max(D,at,wt,Dt),Zt=Math.min(G,ft,St,Ut),Tt=Math.max(G,ft,St,Ut);return new c(Wt,Zt,Vt-Wt,Tt-Zt)},Y=function(D,G,Q,st,at,ft,wt,St){var Dt,Ut,Wt,Vt,Zt,Tt,ot,le,se,Ht,Qt,Jt,Yt,ce,_e=Q-D,ke=st-G,Se=at-Q,be=ft-st,Ie=wt-at,oe=St-ft;for(Ut=0;Ut<41;Ut++)se=(ot=(Wt=D+(Dt=Ut/40)*_e)+Dt*((Zt=Q+Dt*Se)-Wt))+Dt*(Zt+Dt*(at+Dt*Ie-Zt)-ot),Ht=(le=(Vt=G+Dt*ke)+Dt*((Tt=st+Dt*be)-Vt))+Dt*(Tt+Dt*(ft+Dt*oe-Tt)-le),Ut==0?(Qt=se,Jt=Ht,Yt=se,ce=Ht):(Qt=Math.min(Qt,se),Jt=Math.min(Jt,Ht),Yt=Math.max(Yt,se),ce=Math.max(ce,Ht));return new c(Math.round(Qt),Math.round(Jt),Math.round(Yt-Qt),Math.round(ce-Jt))},dt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,G,Q=(D=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:G}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Le.API),function(i){var t=function(s){var o,c,u,d,f,p,m,b,x,y;for(c=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(b=f%85))/85)-(m=f%85))/85)%85,c.push(p+33,m+33,b+33,x+33,y+33)):c.push(122);return function(E,S){for(var L=S;L>0;L--)E.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var o,c,u,d,f,p=String,m="length",b=255,x="charCodeAt",y="slice",E="replace";for(s[y](-2),s=s[y](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[y](s[m]%5||5))[m];f>d;d+=5)c=52200625*(s[x](d)-33)+614125*(s[x](d+1)-33)+7225*(s[x](d+2)-33)+85*(s[x](d+3)-33)+(s[x](d+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(S,L){for(var T=L;T>0;T--)S.pop()}(u,o[m]),p.fromCharCode.apply(p,u)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},r=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Eb(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};i.processDataByFilters=function(s,o){var c=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Le.API),function(i){i.loadFile=function(t,e,n){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,d,f){var p=new XMLHttpRequest,m=0,b=function(x){var y=x.length,E=[],S=String.fromCharCode;for(m=0;m<y;m+=1)E.push(S(255&x.charCodeAt(m)));return E.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(b(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return b(p.responseText)}(r,s,o)}catch{}return c}(t,e,n)},i.loadImageFile=i.loadFile}(Le.API),function(i){function t(){return(Me.html2canvas?Promise.resolve(Me.html2canvas):yb(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Me.DOMPurify?Promise.resolve(Me.DOMPurify):yb(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Ln(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||p.appendChild(u(m,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var b=d[m],x=b.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=u.call(d,o,c);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Le.getPageSize=function(o,c,u){if(Ln(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var b,x=0,y=0;if(m.hasOwnProperty(p))x=m[p][1]/f,y=m[p][0]/f;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>x&&(b=y,y=x,x=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>y&&(b=y,y=x,x=b)}return{width:y,height:x,unit:c,k:f,orientation:o}},i.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Tb):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(Le.API),Le.API.addJS=function(i){return NA=i,this.internal.events.subscribe("postPutResources",function(){om=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(om+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){om!==void 0&&CA!==void 0&&this.internal.out("/Names <</JavaScript "+om+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],c=n.exec(o);if(c!=null){var u=c[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var p=e.internal.newObject();f.push(p);var m=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<f.length;s++)e.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,s){var o={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])}(Le.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,s,o,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(p){for(var m,b=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,y={width:0,height:0,numcomponents:1},E=4;E<x;E+=2){if(E+=b,t.indexOf(p.charCodeAt(E+1))!==-1){m=256*p.charCodeAt(E+5)+p.charCodeAt(E+6),y={width:256*p.charCodeAt(E+7)+p.charCodeAt(E+8),height:m,numcomponents:p.charCodeAt(E+9)};break}b=256*p.charCodeAt(E+2)+p.charCodeAt(E+3)}return y}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:e,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:r}}return f}}(Le.API);var ed,lm,RA,LA,TA,lF=function(){var i,t,e;function n(s){var o,c,u,d,f,p,m,b,x,y,E,S,L,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),x=(function(){var O,P;for(P=[],O=0;O<4;++O)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),s=p?.data||this.imgData,S=0;0<=o?S<o:S>o;0<=o?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(L=0;0<=y?L<y:L>y;0<=y?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(E=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,E.slice(0,m)),this.text[b]=String.fromCharCode.apply(String,E.slice(m+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,m,b,x){var y,E,S,L,T,O,P,B,j,I,tt,ct,z,V,rt,nt,ut,H,et,Z,gt,Y=Math.ceil((d.width-p)/b),dt=Math.ceil((d.height-m)/x),D=d.width==Y&&d.height==dt;for(V=o*Y,ct=D?c:new Uint8Array(V*dt),O=s.length,z=0,E=0;z<dt&&u<O;){switch(s[u++]){case 0:for(L=ut=0;ut<V;L=ut+=1)ct[E++]=s[u++];break;case 1:for(L=H=0;H<V;L=H+=1)y=s[u++],T=L<o?0:ct[E-o],ct[E++]=(y+T)%256;break;case 2:for(L=et=0;et<V;L=et+=1)y=s[u++],S=(L-L%o)/o,rt=z&&ct[(z-1)*V+S*o+L%o],ct[E++]=(rt+y)%256;break;case 3:for(L=Z=0;Z<V;L=Z+=1)y=s[u++],S=(L-L%o)/o,T=L<o?0:ct[E-o],rt=z&&ct[(z-1)*V+S*o+L%o],ct[E++]=(y+Math.floor((T+rt)/2))%256;break;case 4:for(L=gt=0;gt<V;L=gt+=1)y=s[u++],S=(L-L%o)/o,T=L<o?0:ct[E-o],z===0?rt=nt=0:(rt=ct[(z-1)*V+S*o+L%o],nt=S&&ct[(z-1)*V+(S-1)*o+L%o]),P=T+rt-nt,B=Math.abs(P-T),I=Math.abs(P-rt),tt=Math.abs(P-nt),j=B<=I&&B<=tt?T:I<=tt?rt:nt,ct[E++]=(y+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!D){var G=((m+z*x)*d.width+p)*o,Q=z*V;for(L=0;L<Y;L+=1){for(var st=0;st<o;st+=1)c[G++]=ct[Q++];G+=(b-1)*o}}z++}}return s=zI(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),c},n.prototype.decodePalette=function(){var s,o,c,u,d,f,p,m,b;for(c=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+c.length),u=0,s=0,o=p=0,m=c.length;p<m;o=p+=3)d[u++]=c[o],d[u++]=c[o+1],d[u++]=c[o+2],d[u++]=(b=f[s++])!=null?b:255;return d},n.prototype.copyToImageData=function(s,o){var c,u,d,f,p,m,b,x,y,E,S;if(u=this.colors,y=null,c=this.hasAlphaChannel,this.palette.length&&(y=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),u=4,c=!0),x=(d=s.data||s).length,p=y||o,f=m=0,u===1)for(;f<x;)b=y?4*o[f/4]:m,E=p[b++],d[f++]=E,d[f++]=E,d[f++]=E,d[f++]=c?p[b++]:255,m=b;else for(;f<x;)b=y?4*o[f/4]:m,d[f++]=p[b++],d[f++]=p[b++],d[f++]=p[b++],d[f++]=c?p[b++]:255,m=b},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Me)==="[object Window]"){try{t=Me.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,c,u,d,f,p,m,b;if(this.animation){for(b=[],c=f=0,p=(m=this.animation.frames).length;f<p;c=++f)o=m[c],u=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,d),o.imageData=u,b.push(o.image=i(u));return b}},n.prototype.renderFrame=function(s,o){var c,u,d;return c=(u=this.animation.frames)[o],d=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),d?.disposeOp===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var o,c,u,d,f,p,m=this;return c=0,p=this.animation,d=p.numFrames,u=p.frames,f=p.numPlays,(o=function(){var b,x;if(b=c++%d,x=u[b],m.renderFrame(s,b),d>1&&c/d<f)return m.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cF(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],s=r>>7,o=1<<(7&r)+1;i[t++],i[t++];var c=null,u=null;s&&(c=t,u=o,t+=3*o);var d=!0,f=[],p=0,m=null,b=0,x=null;for(this.width=e,this.height=n;d&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,x=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((z=i[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=i[t++];p=i[t++]|i[t++]<<8,m=i[t++],(1&y)==0&&(m=null),b=y>>2&7,t++;break;case 254:for(;;){if(!((z=i[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var E=i[t++]|i[t++]<<8,S=i[t++]|i[t++]<<8,L=i[t++]|i[t++]<<8,T=i[t++]|i[t++]<<8,O=i[t++],P=O>>6&1,B=1<<(7&O)+1,j=c,I=u,tt=!1;O>>7&&(tt=!0,j=t,I=B,t+=3*B);var ct=t;for(t++;;){var z;if(!((z=i[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}f.push({x:E,y:S,width:L,height:T,has_local_palette:tt,palette_offset:j,palette_size:I,data_offset:ct,data_length:t-ct,transparent_index:m,interlaced:!!P,delay:p,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(V){if(V<0||V>=f.length)throw new Error("Frame index out of range.");return f[V]},this.decodeAndBlitFrameBGRA=function(V,rt){var nt=this.frameInfo(V),ut=nt.width*nt.height,H=new Uint8Array(ut);MA(i,nt.data_offset,H,ut);var et=nt.palette_offset,Z=nt.transparent_index;Z===null&&(Z=256);var gt=nt.width,Y=e-gt,dt=gt,D=4*(nt.y*e+nt.x),G=4*((nt.y+nt.height)*e+nt.x),Q=D,st=4*Y;nt.interlaced===!0&&(st+=4*e*7);for(var at=8,ft=0,wt=H.length;ft<wt;++ft){var St=H[ft];if(dt===0&&(dt=gt,(Q+=st)>=G&&(st=4*Y+4*e*(at-1),Q=D+(gt+Y)*(at<<1),at>>=1)),St===Z)Q+=4;else{var Dt=i[et+3*St],Ut=i[et+3*St+1],Wt=i[et+3*St+2];rt[Q++]=Wt,rt[Q++]=Ut,rt[Q++]=Dt,rt[Q++]=255}--dt}},this.decodeAndBlitFrameRGBA=function(V,rt){var nt=this.frameInfo(V),ut=nt.width*nt.height,H=new Uint8Array(ut);MA(i,nt.data_offset,H,ut);var et=nt.palette_offset,Z=nt.transparent_index;Z===null&&(Z=256);var gt=nt.width,Y=e-gt,dt=gt,D=4*(nt.y*e+nt.x),G=4*((nt.y+nt.height)*e+nt.x),Q=D,st=4*Y;nt.interlaced===!0&&(st+=4*e*7);for(var at=8,ft=0,wt=H.length;ft<wt;++ft){var St=H[ft];if(dt===0&&(dt=gt,(Q+=st)>=G&&(st=4*Y+4*e*(at-1),Q=D+(gt+Y)*(at<<1),at>>=1)),St===Z)Q+=4;else{var Dt=i[et+3*St],Ut=i[et+3*St+1],Wt=i[et+3*St+2];rt[Q++]=Dt,rt[Q++]=Ut,rt[Q++]=Wt,rt[Q++]=255}--dt}}}function MA(i,t,e,n){for(var r=i[t++],s=1<<r,o=s+1,c=o+1,u=r+1,d=(1<<u)-1,f=0,p=0,m=0,b=i[t++],x=new Int32Array(4096),y=null;;){for(;f<16&&b!==0;)p|=i[t++]<<f,f+=8,b===1?b=i[t++]:--b;if(f<u)break;var E=p&d;if(p>>=u,f-=u,E!==s){if(E===o)break;for(var S=E<c?E:y,L=0,T=S;T>s;)T=x[T]>>8,++L;var O=T;if(m+L+(S!==E?1:0)>n)return void Bn.log("Warning, gif stream longer than expected.");e[m++]=O;var P=m+=L;for(S!==E&&(e[m++]=O),T=S;L--;)T=x[T],e[--P]=255&T,T>>=8;y!==null&&c<4096&&(x[c++]=y<<8|O,c>=d+1&&u<12&&(++u,d=d<<1|1)),y=E}else c=o+1,d=(1<<(u=r+1))-1,y=null}return m!==n&&Bn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cv(i){var t,e,n,r,s,o=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),m=new Array(65535),b=new Array(64),x=new Array(64),y=[],E=0,S=7,L=new Array(64),T=new Array(64),O=new Array(64),P=new Array(256),B=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],tt=[0,1,2,3,4,5,6,7,8,9,10,11],ct=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],rt=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ut=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(D,G){for(var Q=0,st=0,at=new Array,ft=1;ft<=16;ft++){for(var wt=1;wt<=D[ft];wt++)at[G[st]]=[],at[G[st]][0]=Q,at[G[st]][1]=ft,st++,Q++;Q*=2}return at}function et(D){for(var G=D[0],Q=D[1]-1;Q>=0;)G&1<<Q&&(E|=1<<S),Q--,--S<0&&(E==255?(Z(255),Z(0)):Z(E),S=7,E=0)}function Z(D){y.push(D)}function gt(D){Z(D>>8&255),Z(255&D)}function Y(D,G,Q,st,at){for(var ft,wt=at[0],St=at[240],Dt=function(Ht,Qt){var Jt,Yt,ce,_e,ke,Se,be,Ie,oe,Ce,ne=0;for(oe=0;oe<8;++oe){Jt=Ht[ne],Yt=Ht[ne+1],ce=Ht[ne+2],_e=Ht[ne+3],ke=Ht[ne+4],Se=Ht[ne+5],be=Ht[ne+6];var Vn=Jt+(Ie=Ht[ne+7]),$e=Jt-Ie,Ki=Yt+be,Ke=Yt-be,mn=ce+Se,Qi=ce-Se,rn=_e+ke,Hi=_e-ke,Dn=Vn+rn,pr=Vn-rn,Zi=Ki+mn,jn=Ki-mn;Ht[ne]=Dn+Zi,Ht[ne+4]=Dn-Zi;var Xt=.707106781*(jn+pr);Ht[ne+2]=pr+Xt,Ht[ne+6]=pr-Xt;var xe=.382683433*((Dn=Hi+Qi)-(jn=Ke+$e)),Tn=.5411961*Dn+xe,ln=1.306562965*jn+xe,Ji=.707106781*(Zi=Qi+Ke),An=$e+Ji,ae=$e-Ji;Ht[ne+5]=ae+Tn,Ht[ne+3]=ae-Tn,Ht[ne+1]=An+ln,Ht[ne+7]=An-ln,ne+=8}for(ne=0,oe=0;oe<8;++oe){Jt=Ht[ne],Yt=Ht[ne+8],ce=Ht[ne+16],_e=Ht[ne+24],ke=Ht[ne+32],Se=Ht[ne+40],be=Ht[ne+48];var fn=Jt+(Ie=Ht[ne+56]),Ze=Jt-Ie,pn=Yt+be,Un=Yt-be,Sn=ce+Se,Sr=ce-Se,Jo=_e+ke,qr=_e-ke,Hr=fn+Jo,tr=fn-Jo,er=pn+Sn,Er=pn-Sn;Ht[ne]=Hr+er,Ht[ne+32]=Hr-er;var Gi=.707106781*(Er+tr);Ht[ne+16]=tr+Gi,Ht[ne+48]=tr-Gi;var _n=.382683433*((Hr=qr+Sr)-(Er=Un+Ze)),Ka=.5411961*Hr+_n,tl=1.306562965*Er+_n,ts=.707106781*(er=Sr+Un),ys=Ze+ts,Ul=Ze-ts;Ht[ne+40]=Ul+Ka,Ht[ne+24]=Ul-Ka,Ht[ne+8]=ys+tl,Ht[ne+56]=ys-tl,ne++}for(oe=0;oe<64;++oe)Ce=Ht[oe]*Qt[oe],b[oe]=Ce>0?Ce+.5|0:Ce-.5|0;return b}(D,G),Ut=0;Ut<64;++Ut)x[j[Ut]]=Dt[Ut];var Wt=x[0]-Q;Q=x[0],Wt==0?et(st[0]):(et(st[m[ft=32767+Wt]]),et(p[ft]));for(var Vt=63;Vt>0&&x[Vt]==0;)Vt--;if(Vt==0)return et(wt),Q;for(var Zt,Tt=1;Tt<=Vt;){for(var ot=Tt;x[Tt]==0&&Tt<=Vt;)++Tt;var le=Tt-ot;if(le>=16){Zt=le>>4;for(var se=1;se<=Zt;++se)et(St);le&=15}ft=32767+x[Tt],et(at[(le<<4)+m[ft]]),et(p[ft]),Tt++}return Vt!=63&&et(wt),Q}function dt(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(G){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var at=o((Q[st]*G+50)/100);at=Math.min(Math.max(at,1),255),c[j[st]]=at}for(var ft=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],wt=0;wt<64;wt++){var St=o((ft[wt]*G+50)/100);St=Math.min(Math.max(St,1),255),u[j[wt]]=St}for(var Dt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ut=0,Wt=0;Wt<8;Wt++)for(var Vt=0;Vt<8;Vt++)d[Ut]=1/(c[j[Ut]]*Dt[Wt]*Dt[Vt]*8),f[Ut]=1/(u[j[Ut]]*Dt[Wt]*Dt[Vt]*8),Ut++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,G){G&&dt(G),y=new Array,E=0,S=7,gt(65496),gt(65504),gt(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),gt(1),gt(1),Z(0),Z(0),function(){gt(65499),gt(132),Z(0);for(var Yt=0;Yt<64;Yt++)Z(c[Yt]);Z(1);for(var ce=0;ce<64;ce++)Z(u[ce])}(),function(Yt,ce){gt(65472),gt(17),Z(8),gt(ce),gt(Yt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(D.width,D.height),function(){gt(65476),gt(418),Z(0);for(var Yt=0;Yt<16;Yt++)Z(I[Yt+1]);for(var ce=0;ce<=11;ce++)Z(tt[ce]);Z(16);for(var _e=0;_e<16;_e++)Z(ct[_e+1]);for(var ke=0;ke<=161;ke++)Z(z[ke]);Z(1);for(var Se=0;Se<16;Se++)Z(V[Se+1]);for(var be=0;be<=11;be++)Z(rt[be]);Z(17);for(var Ie=0;Ie<16;Ie++)Z(nt[Ie+1]);for(var oe=0;oe<=161;oe++)Z(ut[oe])}(),gt(65498),gt(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var Q=0,st=0,at=0;E=0,S=7,this.encode.displayName="_encode_";for(var ft,wt,St,Dt,Ut,Wt,Vt,Zt,Tt,ot=D.data,le=D.width,se=D.height,Ht=4*le,Qt=0;Qt<se;){for(ft=0;ft<Ht;){for(Ut=Ht*Qt+ft,Vt=-1,Zt=0,Tt=0;Tt<64;Tt++)Wt=Ut+(Zt=Tt>>3)*Ht+(Vt=4*(7&Tt)),Qt+Zt>=se&&(Wt-=Ht*(Qt+1+Zt-se)),ft+Vt>=Ht&&(Wt-=ft+Vt-Ht+4),wt=ot[Wt++],St=ot[Wt++],Dt=ot[Wt++],L[Tt]=(B[wt]+B[St+256>>0]+B[Dt+512>>0]>>16)-128,T[Tt]=(B[wt+768>>0]+B[St+1024>>0]+B[Dt+1280>>0]>>16)-128,O[Tt]=(B[wt+1280>>0]+B[St+1536>>0]+B[Dt+1792>>0]>>16)-128;Q=Y(L,d,Q,t,n),st=Y(T,f,st,e,r),at=Y(O,f,at,e,r),ft+=32}Qt+=8}if(S>=0){var Jt=[];Jt[1]=S+1,Jt[0]=(1<<S+1)-1,et(Jt)}return gt(65497),new Uint8Array(y)},i=i||50,function(){for(var D=String.fromCharCode,G=0;G<256;G++)P[G]=D(G)}(),t=H(I,tt),e=H(V,rt),n=H(ct,z),r=H(nt,ut),function(){for(var D=1,G=2,Q=1;Q<=15;Q++){for(var st=D;st<G;st++)m[32767+st]=Q,p[32767+st]=[],p[32767+st][1]=Q,p[32767+st][0]=st;for(var at=-(G-1);at<=-D;at++)m[32767+at]=Q,p[32767+at]=[],p[32767+at][1]=Q,p[32767+at][0]=G-1+at;D<<=1,G<<=1}}(),function(){for(var D=0;D<256;D++)B[D]=19595*D,B[D+256>>0]=38470*D,B[D+512>>0]=7471*D+32768,B[D+768>>0]=-11059*D,B[D+1024>>0]=-21709*D,B[D+1280>>0]=32768*D+8421375,B[D+1536>>0]=-27439*D,B[D+1792>>0]=-5329*D}(),dt(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ja(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PA(i){function t(I){if(!I)throw Error("assert :P")}function e(I,tt,ct){for(var z=0;4>z;z++)if(I[tt+z]!=ct.charCodeAt(z))return!0;return!1}function n(I,tt,ct,z,V){for(var rt=0;rt<V;rt++)I[tt+rt]=ct[z+rt]}function r(I,tt,ct,z){for(var V=0;V<z;V++)I[tt+V]=ct}function s(I){return new Int32Array(I)}function o(I,tt){for(var ct=[],z=0;z<I;z++)ct.push(new tt);return ct}function c(I,tt){var ct=[];return function z(V,rt,nt){for(var ut=nt[rt],H=0;H<ut&&(V.push(nt.length>rt+1?[]:new tt),!(nt.length<rt+1));H++)z(V[H],rt+1,nt)}(ct,0,I),ct}var u=function(){var I=this;function tt(v,A){for(var N=1<<A-1>>>0;v&N;)N>>>=1;return N?(v&N-1)+N:v}function ct(v,A,N,M,U){t(!(M%N));do v[A+(M-=N)]=U;while(0<M)}function z(v,A,N,M,U){if(t(2328>=U),512>=U)var $=s(512);else if(($=s(U))==null)return 0;return function(W,X,J,it,mt,Nt){var _t,xt,zt=X,Pt=1<<J,vt=s(16),yt=s(16);for(t(mt!=0),t(it!=null),t(W!=null),t(0<J),xt=0;xt<mt;++xt){if(15<it[xt])return 0;++vt[it[xt]]}if(vt[0]==mt)return 0;for(yt[1]=0,_t=1;15>_t;++_t){if(vt[_t]>1<<_t)return 0;yt[_t+1]=yt[_t]+vt[_t]}for(xt=0;xt<mt;++xt)_t=it[xt],0<it[xt]&&(Nt[yt[_t]++]=xt);if(yt[15]==1)return(it=new V).g=0,it.value=Nt[0],ct(W,zt,1,Pt,it),Pt;var jt,qt=-1,Ft=Pt-1,re=0,te=1,me=1,ee=1<<J;for(xt=0,_t=1,mt=2;_t<=J;++_t,mt<<=1){if(te+=me<<=1,0>(me-=vt[_t]))return 0;for(;0<vt[_t];--vt[_t])(it=new V).g=_t,it.value=Nt[xt++],ct(W,zt+re,mt,ee,it),re=tt(re,_t)}for(_t=J+1,mt=2;15>=_t;++_t,mt<<=1){if(te+=me<<=1,0>(me-=vt[_t]))return 0;for(;0<vt[_t];--vt[_t]){if(it=new V,(re&Ft)!=qt){for(zt+=ee,jt=1<<(qt=_t)-J;15>qt&&!(0>=(jt-=vt[qt]));)++qt,jt<<=1;Pt+=ee=1<<(jt=qt-J),W[X+(qt=re&Ft)].g=jt+J,W[X+qt].value=zt-X-qt}it.g=_t-J,it.value=Nt[xt++],ct(W,zt+(re>>J),mt,ee,it),re=tt(re,_t)}}return te!=2*yt[15]-1?0:Pt}(v,A,N,M,U,$)}function V(){this.value=this.g=0}function rt(){this.value=this.g=0}function nt(){this.G=o(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(yi,rt)}function ut(v,A,N,M){t(v!=null),t(A!=null),t(2147483648>M),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=A,v.pa=N,v.Jd=A,v.Yc=N+M,v.Zc=4<=M?N+M-4+1:N,ft(v)}function H(v,A){for(var N=0;0<A--;)N|=St(v,128)<<A;return N}function et(v,A){var N=H(v,A);return wt(v)?-N:N}function Z(v,A,N,M){var U,$=0;for(t(v!=null),t(A!=null),t(4294967288>M),v.Sb=M,v.Ra=0,v.u=0,v.h=0,4<M&&(M=4),U=0;U<M;++U)$+=A[N+U]<<8*U;v.Ra=$,v.bb=M,v.oa=A,v.pa=N}function gt(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<cl-8>>>0,++v.bb,v.u-=8;Q(v)&&(v.h=1,v.u=0)}function Y(v,A){if(t(0<=A),!v.h&&A<=ll){var N=G(v)&oo[A];return v.u+=A,gt(v),N}return v.h=1,v.u=0}function dt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(v){return v.Ra>>>(v.u&cl-1)>>>0}function Q(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>cl}function st(v,A){v.u=A,v.h=Q(v)}function at(v){v.u>=ic&&(t(v.u>=ic),gt(v))}function ft(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function wt(v){return H(v,1)}function St(v,A){var N=v.Ca;0>v.b&&ft(v);var M=v.b,U=N*A>>>8,$=(v.I>>>M>U)+0;for($?(N-=U,v.I-=U+1<<M>>>0):N=U+1,M=N,U=0;256<=M;)U+=8,M>>=8;return M=7^U+Nr[M],v.b-=M,v.Ca=(N<<M)-1,$}function Dt(v,A,N){v[A+0]=N>>24&255,v[A+1]=N>>16&255,v[A+2]=N>>8&255,v[A+3]=N>>0&255}function Ut(v,A){return v[A+0]<<0|v[A+1]<<8}function Wt(v,A){return Ut(v,A)|v[A+2]<<16}function Vt(v,A){return Ut(v,A)|Ut(v,A+2)<<16}function Zt(v,A){var N=1<<A;return t(v!=null),t(0<A),v.X=s(N),v.X==null?0:(v.Mb=32-A,v.Xa=A,1)}function Tt(v,A){t(v!=null),t(A!=null),t(v.Xa==A.Xa),n(A.X,0,v.X,0,1<<A.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function le(v,A,N,M){t(N!=null),t(M!=null);var U=N[0],$=M[0];return U==0&&(U=(v*$+A/2)/A),$==0&&($=(A*U+v/2)/v),0>=U||0>=$?0:(N[0]=U,M[0]=$,1)}function se(v,A){return v+(1<<A)-1>>>A}function Ht(v,A){return((4278255360&v)+(4278255360&A)>>>0&4278255360)+((16711935&v)+(16711935&A)>>>0&16711935)>>>0}function Qt(v,A){I[A]=function(N,M,U,$,W,X,J){var it;for(it=0;it<W;++it){var mt=I[v](X[J+it-1],U,$+it);X[J+it]=Ht(N[M+it],mt)}}}function Jt(){this.ud=this.hd=this.jd=0}function Yt(v,A){return((4278124286&(v^A))>>>1)+(v&A)>>>0}function ce(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function _e(v,A){return ce(v+(v-A+.5>>1))}function ke(v,A,N){return Math.abs(A-N)-Math.abs(v-N)}function Se(v,A,N,M,U,$,W){for(M=$[W-1],N=0;N<U;++N)$[W+N]=M=Ht(v[A+N],M)}function be(v,A,N,M,U){var $;for($=0;$<N;++$){var W=v[A+$],X=W>>8&255,J=16711935&(J=(J=16711935&W)+((X<<16)+X));M[U+$]=(4278255360&W)+J>>>0}}function Ie(v,A){A.jd=v>>0&255,A.hd=v>>8&255,A.ud=v>>16&255}function oe(v,A,N,M,U,$){var W;for(W=0;W<M;++W){var X=A[N+W],J=X>>>8,it=X,mt=255&(mt=(mt=X>>>16)+((v.jd<<24>>24)*(J<<24>>24)>>>5));it=255&(it=(it=it+((v.hd<<24>>24)*(J<<24>>24)>>>5))+((v.ud<<24>>24)*(mt<<24>>24)>>>5)),U[$+W]=(4278255360&X)+(mt<<16)+it}}function Ce(v,A,N,M,U){I[A]=function($,W,X,J,it,mt,Nt,_t,xt){for(J=Nt;J<_t;++J)for(Nt=0;Nt<xt;++Nt)it[mt++]=U(X[M($[W++])])},I[v]=function($,W,X,J,it,mt,Nt){var _t=8>>$.b,xt=$.Ea,zt=$.K[0],Pt=$.w;if(8>_t)for($=(1<<$.b)-1,Pt=(1<<_t)-1;W<X;++W){var vt,yt=0;for(vt=0;vt<xt;++vt)vt&$||(yt=M(J[it++])),mt[Nt++]=U(zt[yt&Pt]),yt>>=_t}else I["VP8LMapColor"+N](J,it,zt,Pt,mt,Nt,W,X,xt)}}function ne(v,A,N,M,U){for(N=A+N;A<N;){var $=v[A++];M[U++]=$>>16&255,M[U++]=$>>8&255,M[U++]=$>>0&255}}function Vn(v,A,N,M,U){for(N=A+N;A<N;){var $=v[A++];M[U++]=$>>16&255,M[U++]=$>>8&255,M[U++]=$>>0&255,M[U++]=$>>24&255}}function $e(v,A,N,M,U){for(N=A+N;A<N;){var $=(W=v[A++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;M[U++]=$,M[U++]=W}}function Ki(v,A,N,M,U){for(N=A+N;A<N;){var $=(W=v[A++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;M[U++]=$,M[U++]=W}}function Ke(v,A,N,M,U){for(N=A+N;A<N;){var $=v[A++];M[U++]=$>>0&255,M[U++]=$>>8&255,M[U++]=$>>16&255}}function mn(v,A,N,M,U,$){if($==0)for(N=A+N;A<N;)Dt(M,(($=v[A++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),U+=32;else n(M,U,v,A,N)}function Qi(v,A){I[A][0]=I[v+"0"],I[A][1]=I[v+"1"],I[A][2]=I[v+"2"],I[A][3]=I[v+"3"],I[A][4]=I[v+"4"],I[A][5]=I[v+"5"],I[A][6]=I[v+"6"],I[A][7]=I[v+"7"],I[A][8]=I[v+"8"],I[A][9]=I[v+"9"],I[A][10]=I[v+"10"],I[A][11]=I[v+"11"],I[A][12]=I[v+"12"],I[A][13]=I[v+"13"],I[A][14]=I[v+"0"],I[A][15]=I[v+"0"]}function rn(v){return v==gu||v==bo||v==Aa||v==oc}function Hi(){this.eb=[],this.size=this.A=this.fb=0}function Dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hi,this.f.kb=new Dn,this.sd=null}function Zi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function xe(v,A){var N=v.T,M=A.ba.f.RGBA,U=M.eb,$=M.fb+v.ka*M.A,W=Fi[A.ba.S],X=v.y,J=v.O,it=v.f,mt=v.N,Nt=v.ea,_t=v.W,xt=A.cc,zt=A.dc,Pt=A.Mc,vt=A.Nc,yt=v.ka,jt=v.ka+v.T,qt=v.U,Ft=qt+1>>1;for(yt==0?W(X,J,null,null,it,mt,Nt,_t,it,mt,Nt,_t,U,$,null,null,qt):(W(A.ec,A.fc,X,J,xt,zt,Pt,vt,it,mt,Nt,_t,U,$-M.A,U,$,qt),++N);yt+2<jt;yt+=2)xt=it,zt=mt,Pt=Nt,vt=_t,mt+=v.Rc,_t+=v.Rc,$+=2*M.A,W(X,(J+=2*v.fa)-v.fa,X,J,xt,zt,Pt,vt,it,mt,Nt,_t,U,$-M.A,U,$,qt);return J+=v.fa,v.j+jt<v.o?(n(A.ec,A.fc,X,J,qt),n(A.cc,A.dc,it,mt,Ft),n(A.Mc,A.Nc,Nt,_t,Ft),N--):1&jt||W(X,J,null,null,it,mt,Nt,_t,it,mt,Nt,_t,U,$+M.A,null,null,qt),N}function Tn(v,A,N){var M=v.F,U=[v.J];if(M!=null){var $=v.U,W=A.ba.S,X=W==pl||W==Aa;A=A.ba.f.RGBA;var J=[0],it=v.ka;J[0]=v.T,v.Kb&&(it==0?--J[0]:(--it,U[0]-=v.width),v.j+v.ka+v.T==v.o&&(J[0]=v.o-v.j-it));var mt=A.eb;it=A.fb+it*A.A,v=Ye(M,U[0],v.width,$,J,mt,it+(X?0:3),A.A),t(N==J),v&&rn(W)&&Wr(mt,it,X,$,J,A.A)}return 0}function ln(v){var A=v.ma,N=A.ba.S,M=11>N,U=N==ac||N==pu||N==pl||N==xa||N==12||rn(N);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!ao(A.Oa,v,U?11:12))return 0;if(U&&rn(N)&&$t(),v.da)alert("todo:use_scaling");else{if(M){if(A.Ib=Xt,v.Kb){if(N=v.U+1>>1,A.memory=s(v.U+2*N),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+v.U,A.Mc=A.cc,A.Nc=A.dc+N,A.Ib=xe,$t()}}else alert("todo:EmitYUV");U&&(A.Jb=Tn,M&&Et())}if(M&&!Gp){for(v=0;256>v;++v)L0[v]=89858*(v-128)+xi>>Zs,bu[v]=-22014*(v-128)+xi,Kd[v]=-45773*(v-128),Ai[v]=113618*(v-128)+xi>>Zs;for(v=xo;v<Nh;++v)A=76283*(v-16)+xi>>Zs,yu[v-xo]=$r(A,255),Qd[v-xo]=$r(A+8>>4,15);Gp=1}return 1}function Ji(v){var A=v.ma,N=v.U,M=v.T;return t(!(1&v.ka)),0>=N||0>=M?0:(N=A.Ib(v,A),A.Jb!=null&&A.Jb(v,A,N),A.Dc+=N,1)}function An(v){v.ma.memory=null}function ae(v,A,N,M){return Y(v,8)!=47?0:(A[0]=Y(v,14)+1,N[0]=Y(v,14)+1,M[0]=Y(v,1),Y(v,3)!=0?0:!v.h)}function fn(v,A){if(4>v)return v+1;var N=v-2>>1;return(2+(1&v)<<N)+Y(A,N)+1}function Ze(v,A){return 120<A?A-120:1<=(N=((N=Ea[A-1])>>4)*v+(8-(15&N)))?N:1;var N}function pn(v,A,N){var M=G(N),U=v[A+=255&M].g-8;return 0<U&&(st(N,N.u+8),M=G(N),A+=v[A].value,A+=M&(1<<U)-1),st(N,N.u+v[A].g),v[A].value}function Un(v,A,N){return N.g+=v.g,N.value+=v.value<<A>>>0,t(8>=N.g),v.g}function Sn(v,A,N){var M=v.xc;return t((A=M==0?0:v.vc[v.md*(N>>M)+(A>>M)])<v.Wb),v.Ya[A]}function Sr(v,A,N,M){var U=v.ab,$=v.c*A,W=v.C;A=W+A;var X=N,J=M;for(M=v.Ta,N=v.Ua;0<U--;){var it=v.gc[U],mt=W,Nt=A,_t=X,xt=J,zt=(J=M,X=N,it.Ea);switch(t(mt<Nt),t(Nt<=it.nc),it.hc){case 2:wh(_t,xt,(Nt-mt)*zt,J,X);break;case 0:var Pt=mt,vt=Nt,yt=J,jt=X,qt=(ee=it).Ea;Pt==0&&(Yd(_t,xt,null,null,1,yt,jt),Se(_t,xt+1,0,0,qt-1,yt,jt+1),xt+=qt,jt+=qt,++Pt);for(var Ft=1<<ee.b,re=Ft-1,te=se(qt,ee.b),me=ee.K,ee=ee.w+(Pt>>ee.b)*te;Pt<vt;){var un=me,vn=ee,Ve=1;for(du(_t,xt,yt,jt-qt,1,yt,jt);Ve<qt;){var He=(Ve&~re)+Ft;He>qt&&(He=qt),(0,ba[un[vn++]>>8&15])(_t,xt+ +Ve,yt,jt+Ve-qt,He-Ve,yt,jt+Ve),Ve=He}xt+=qt,jt+=qt,++Pt&re||(ee+=te)}Nt!=it.nc&&n(J,X-zt,J,X+(Nt-mt-1)*zt,zt);break;case 1:for(zt=_t,vt=xt,qt=(_t=it.Ea)-(jt=_t&~(yt=(xt=1<<it.b)-1)),Pt=se(_t,it.b),Ft=it.K,it=it.w+(mt>>it.b)*Pt;mt<Nt;){for(re=Ft,te=it,me=new Jt,ee=vt+jt,un=vt+_t;vt<ee;)Ie(re[te++],me),co(me,zt,vt,xt,J,X),vt+=xt,X+=xt;vt<un&&(Ie(re[te++],me),co(me,zt,vt,qt,J,X),vt+=qt,X+=qt),++mt&yt||(it+=Pt)}break;case 3:if(_t==J&&xt==X&&0<it.b){for(vt=J,_t=zt=X+(Nt-mt)*zt-(jt=(Nt-mt)*se(it.Ea,it.b)),xt=J,yt=X,Pt=[],jt=(qt=jt)-1;0<=jt;--jt)Pt[jt]=xt[yt+jt];for(jt=qt-1;0<=jt;--jt)vt[_t+jt]=Pt[jt];is(it,mt,Nt,J,zt,J,X)}else is(it,mt,Nt,_t,xt,J,X)}X=M,J=N}J!=N&&n(M,N,X,J,$)}function Jo(v,A){var N=v.V,M=v.Ba+v.c*v.C,U=A-v.C;if(t(A<=v.l.o),t(16>=U),0<U){var $=v.l,W=v.Ta,X=v.Ua,J=$.width;if(Sr(v,U,N,M),U=X=[X],t((N=v.C)<(M=A)),t($.v<$.va),M>$.o&&(M=$.o),N<$.j){var it=$.j-N;N=$.j,U[0]+=it*J}if(N>=M?N=0:(U[0]+=4*$.v,$.ka=N-$.j,$.U=$.va-$.v,$.T=M-N,N=1),N){if(X=X[0],11>(N=v.ca).S){var mt=N.f.RGBA,Nt=(M=N.S,U=$.U,$=$.T,it=mt.eb,mt.A),_t=$;for(mt=mt.fb+v.Ma*mt.A;0<_t--;){var xt=W,zt=X,Pt=U,vt=it,yt=mt;switch(M){case ir:mr(xt,zt,Pt,vt,yt);break;case ac:Vi(xt,zt,Pt,vt,yt);break;case gu:Vi(xt,zt,Pt,vt,yt),Wr(vt,yt,0,Pt,1,0);break;case Ys:Es(xt,zt,Pt,vt,yt);break;case pu:mn(xt,zt,Pt,vt,yt,1);break;case bo:mn(xt,zt,Pt,vt,yt,1),Wr(vt,yt,0,Pt,1,0);break;case pl:mn(xt,zt,Pt,vt,yt,0);break;case Aa:mn(xt,zt,Pt,vt,yt,0),Wr(vt,yt,1,Pt,1,0);break;case xa:uo(xt,zt,Pt,vt,yt);break;case oc:uo(xt,zt,Pt,vt,yt),We(vt,yt,Pt,1,0);break;case Ah:Rr(xt,zt,Pt,vt,yt);break;default:t(0)}X+=J,mt+=Nt}v.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=N.height)}}v.C=A,t(v.C<=v.i)}function qr(v){var A;if(0<v.ua)return 0;for(A=0;A<v.Wb;++A){var N=v.Ya[A].G,M=v.Ya[A].H;if(0<N[1][M[1]+0].g||0<N[2][M[2]+0].g||0<N[3][M[3]+0].g)return 0}return 1}function Hr(v,A,N,M,U,$){if(v.Z!=0){var W=v.qd,X=v.rd;for(t(Ks[v.Z]!=null);A<N;++A)Ks[v.Z](W,X,M,U,M,U,$),W=M,X=U,U+=$;v.qd=W,v.rd=X}}function tr(v,A){var N=v.l.ma,M=N.Z==0||N.Z==1?v.l.j:v.C;if(M=v.C<M?M:v.C,t(A<=v.l.o),A>M){var U=v.l.width,$=N.ca,W=N.tb+U*M,X=v.V,J=v.Ba+v.c*M,it=v.gc;t(v.ab==1),t(it[0].hc==3),lo(it[0],M,A,X,J,$,W),Hr(N,M,A,$,W,U)}v.C=v.Ma=A}function er(v,A,N,M,U,$,W){var X=v.$/M,J=v.$%M,it=v.m,mt=v.s,Nt=N+v.$,_t=Nt;U=N+M*U;var xt=N+M*$,zt=280+mt.ua,Pt=v.Pb?X:16777216,vt=0<mt.ua?mt.Wa:null,yt=mt.wc,jt=Nt<xt?Sn(mt,J,X):null;t(v.C<$),t(xt<=U);var qt=!1;t:for(;;){for(;qt||Nt<xt;){var Ft=0;if(X>=Pt){var re=Nt-N;t((Pt=v).Pb),Pt.wd=Pt.m,Pt.xd=re,0<Pt.s.ua&&Tt(Pt.s.Wa,Pt.s.vb),Pt=X+Up}if(J&yt||(jt=Sn(mt,J,X)),t(jt!=null),jt.Qb&&(A[Nt]=jt.qb,qt=!0),!qt)if(at(it),jt.jc){Ft=it,re=A;var te=Nt,me=jt.pd[G(Ft)&yi-1];t(jt.jc),256>me.g?(st(Ft,Ft.u+me.g),re[te]=me.value,Ft=0):(st(Ft,Ft.u+me.g-256),t(256<=me.value),Ft=me.value),Ft==0&&(qt=!0)}else Ft=pn(jt.G[0],jt.H[0],it);if(it.h)break;if(qt||256>Ft){if(!qt)if(jt.nd)A[Nt]=(jt.qb|Ft<<8)>>>0;else{if(at(it),qt=pn(jt.G[1],jt.H[1],it),at(it),re=pn(jt.G[2],jt.H[2],it),te=pn(jt.G[3],jt.H[3],it),it.h)break;A[Nt]=(te<<24|qt<<16|Ft<<8|re)>>>0}if(qt=!1,++Nt,++J>=M&&(J=0,++X,W!=null&&X<=$&&!(X%16)&&W(v,X),vt!=null))for(;_t<Nt;)Ft=A[_t++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft}else if(280>Ft){if(Ft=fn(Ft-256,it),re=pn(jt.G[4],jt.H[4],it),at(it),re=Ze(M,re=fn(re,it)),it.h)break;if(Nt-N<re||U-Nt<Ft)break t;for(te=0;te<Ft;++te)A[Nt+te]=A[Nt+te-re];for(Nt+=Ft,J+=Ft;J>=M;)J-=M,++X,W!=null&&X<=$&&!(X%16)&&W(v,X);if(t(Nt<=U),J&yt&&(jt=Sn(mt,J,X)),vt!=null)for(;_t<Nt;)Ft=A[_t++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft}else{if(!(Ft<zt))break t;for(qt=Ft-280,t(vt!=null);_t<Nt;)Ft=A[_t++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft;Ft=Nt,t(!(qt>>>(re=vt).Xa)),A[Ft]=re.X[qt],qt=!0}qt||t(it.h==Q(it))}if(v.Pb&&it.h&&Nt<U)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Tt(v.s.vb,v.s.Wa);else{if(it.h)break t;W?.(v,X>$?$:X),v.a=0,v.$=Nt-N}return 1}return v.a=3,0}function Er(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var A=v.Wa;A!=null&&(A.X=null),v.vb=null,t(v!=null)}function Gi(){var v=new Wd;return v==null?null:(v.a=0,v.xb=lc,Qi("Predictor","VP8LPredictors"),Qi("Predictor","VP8LPredictors_C"),Qi("PredictorAdd","VP8LPredictorsAdd"),Qi("PredictorAdd","VP8LPredictorsAdd_C"),wh=be,co=oe,mr=ne,Vi=Vn,uo=$e,Rr=Ki,Es=Ke,I.VP8LMapColor32b=ji,I.VP8LMapColor8b=fu,v)}function _n(v,A,N,M,U){var $=1,W=[v],X=[A],J=M.m,it=M.s,mt=null,Nt=0;t:for(;;){if(N)for(;$&&Y(J,1);){var _t=W,xt=X,zt=M,Pt=1,vt=zt.m,yt=zt.gc[zt.ab],jt=Y(vt,2);if(zt.Oc&1<<jt)$=0;else{switch(zt.Oc|=1<<jt,yt.hc=jt,yt.Ea=_t[0],yt.nc=xt[0],yt.K=[null],++zt.ab,t(4>=zt.ab),jt){case 0:case 1:yt.b=Y(vt,3)+2,Pt=_n(se(yt.Ea,yt.b),se(yt.nc,yt.b),0,zt,yt.K),yt.K=yt.K[0];break;case 3:var qt,Ft=Y(vt,8)+1,re=16<Ft?0:4<Ft?1:2<Ft?2:3;if(_t[0]=se(yt.Ea,re),yt.b=re,qt=Pt=_n(Ft,1,0,zt,yt.K)){var te,me=Ft,ee=yt,un=1<<(8>>ee.b),vn=s(un);if(vn==null)qt=0;else{var Ve=ee.K[0],He=ee.w;for(vn[0]=ee.K[0][0],te=1;te<1*me;++te)vn[te]=Ht(Ve[He+te],vn[te-1]);for(;te<4*un;++te)vn[te]=0;ee.K[0]=null,ee.K[0]=vn,qt=1}}Pt=qt;break;case 2:break;default:t(0)}$=Pt}}if(W=W[0],X=X[0],$&&Y(J,1)&&!($=1<=(Nt=Y(J,4))&&11>=Nt)){M.a=3;break t}var En;if(En=$)e:{var bn,je,Cn,we=M,Te=W,cn=X,hn=Nt,Bi=N,Si=we.m,li=we.s,ci=[null],gi=1,os=0,yn=ml[hn];n:for(;;){if(Bi&&Y(Si,1)){var mi=Y(Si,3)+2,Ns=se(Te,mi),Ao=se(cn,mi),yl=Ns*Ao;if(!_n(Ns,Ao,0,we,ci))break n;for(ci=ci[0],li.xc=mi,bn=0;bn<yl;++bn){var So=ci[bn]>>8&65535;ci[bn]=So,So>=gi&&(gi=So+1)}}if(Si.h)break n;for(je=0;5>je;++je){var Hn=Yr[je];!je&&0<hn&&(Hn+=1<<hn),os<Hn&&(os=Hn)}var wu=o(gi*yn,V),Rh=gi,br=o(Rh,nt);if(br==null)var Wn=null;else t(65536>=Rh),Wn=br;var wl=s(os);if(Wn==null||wl==null||wu==null){we.a=1;break n}var Eo=wu;for(bn=Cn=0;bn<gi;++bn){var Tr=Wn[bn],_o=Tr.G,Mr=Tr.H,xu=0,uc=1,Lh=0;for(je=0;5>je;++je){Hn=Yr[je],_o[je]=Eo,Mr[je]=Cn,!je&&0<hn&&(Hn+=1<<hn);r:{var Au,Th=Hn,Su=we,hc=wl,Wp=Eo,Yp=Cn,Eu=0,Ra=Su.m,M0=Y(Ra,1);if(r(hc,0,0,Th),M0){var Xp=Y(Ra,1)+1,Kp=Y(Ra,1),Zd=Y(Ra,Kp==0?1:8);hc[Zd]=1,Xp==2&&(hc[Zd=Y(Ra,8)]=1);var dc=1}else{var Jd=s(19),tf=Y(Ra,4)+4;if(19<tf){Su.a=3;var _u=0;break r}for(Au=0;Au<tf;++Au)Jd[Sa[Au]]=Y(Ra,3);var Mh=void 0,fc=void 0,Qp=Su,Zp=Jd,La=Th,Cu=hc,Ph=0,Rs=Qp.m,pc=8,ef=o(128,V);i:for(;z(ef,0,7,Zp,19);){if(Y(Rs,1)){var Jp=2+2*Y(Rs,3);if((Mh=2+Y(Rs,Jp))>La)break i}else Mh=La;for(fc=0;fc<La&&Mh--;){at(Rs);var nf=ef[0+(127&G(Rs))];st(Rs,Rs.u+nf.g);var xl=nf.value;if(16>xl)Cu[fc++]=xl,xl!=0&&(pc=xl);else{var tg=xl==16,rf=xl-16,sf=as[rf],af=Y(Rs,Sh[rf])+sf;if(fc+af>La)break i;for(var eg=tg?pc:0;0<af--;)Cu[fc++]=eg}}Ph=1;break i}Ph||(Qp.a=3),dc=Ph}(dc=dc&&!Ra.h)&&(Eu=z(Wp,Yp,8,hc,Th)),dc&&Eu!=0?_u=Eu:(Su.a=3,_u=0)}if(_u==0)break n;if(uc&&gl[je]==1&&(uc=Eo[Cn].g==0),xu+=Eo[Cn].g,Cn+=_u,3>=je){var Al,Oh=wl[0];for(Al=1;Al<Hn;++Al)wl[Al]>Oh&&(Oh=wl[Al]);Lh+=Oh}}if(Tr.nd=uc,Tr.Qb=0,uc&&(Tr.qb=(_o[3][Mr[3]+0].value<<24|_o[1][Mr[1]+0].value<<16|_o[2][Mr[2]+0].value)>>>0,xu==0&&256>_o[0][Mr[0]+0].value&&(Tr.Qb=1,Tr.qb+=_o[0][Mr[0]+0].value<<8)),Tr.jc=!Tr.Qb&&6>Lh,Tr.jc){var Nu,Ta=Tr;for(Nu=0;Nu<yi;++Nu){var Js=Nu,Ma=Ta.pd[Js],Ru=Ta.G[0][Ta.H[0]+Js];256<=Ru.value?(Ma.g=Ru.g+256,Ma.value=Ru.value):(Ma.g=0,Ma.value=0,Js>>=Un(Ru,8,Ma),Js>>=Un(Ta.G[1][Ta.H[1]+Js],16,Ma),Js>>=Un(Ta.G[2][Ta.H[2]+Js],0,Ma),Un(Ta.G[3][Ta.H[3]+Js],24,Ma))}}}li.vc=ci,li.Wb=gi,li.Ya=Wn,li.yc=wu,En=1;break e}En=0}if(!($=En)){M.a=3;break t}if(0<Nt){if(it.ua=1<<Nt,!Zt(it.Wa,Nt)){M.a=1,$=0;break t}}else it.ua=0;var Lu=M,of=W,ng=X,lf=Lu.s,cf=lf.xc;if(Lu.c=of,Lu.i=ng,lf.md=se(of,cf),lf.wc=cf==0?-1:(1<<cf)-1,N){M.xb=Hp;break t}if((mt=s(W*X))==null){M.a=1,$=0;break t}$=($=er(M,mt,0,W,X,X,null))&&!J.h;break t}return $?(U!=null?U[0]=mt:(t(mt==null),t(N)),M.$=0,N||Er(it)):Er(it),$}function Ka(v,A){var N=v.c*v.i,M=N+A+16*A;return t(v.c<=A),v.V=s(M),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+N+A,1)}function tl(v,A){var N=v.C,M=A-N,U=v.V,$=v.Ba+v.c*N;for(t(A<=v.l.o);0<M;){var W=16<M?16:M,X=v.l.ma,J=v.l.width,it=J*W,mt=X.ca,Nt=X.tb+J*N,_t=v.Ta,xt=v.Ua;Sr(v,W,U,$),Mn(_t,xt,mt,Nt,it),Hr(X,N,N+W,mt,Nt,J),M-=W,U+=W*v.c,N+=W}t(N==A),v.C=v.Ma=A}function ts(){this.ub=this.yd=this.td=this.Rb=0}function ys(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ul(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qc(){this.Yb=function(){var v=[];return function A(N,M,U){for(var $=U[M],W=0;W<$&&(N.push(U.length>M+1?[]:0),!(U.length<M+1));W++)A(N[W],M+1,U)}(v,0,[3,11]),v}()}function ch(){this.jb=s(3),this.Wc=c([4,8],Qc),this.Xc=c([4,17],Qc)}function qd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ca(){this.ld=this.La=this.dd=this.tc=0}function el(){this.Na=this.la=0}function ws(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function nl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ca),this.Y=0,this.ya=Array(new nl),this.aa=0,this.l=new Qa}function ua(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Zc(){this.cb=this.a=0,this.sc="",this.m=new dt,this.Od=new ts,this.Kc=new ys,this.ed=new qd,this.Qa=new Ul,this.Ic=this.$c=this.Aa=0,this.D=new uh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,dt),this.ia=0,this.pb=o(4,ws),this.Pa=new ch,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ua),this.Hd=0,this.rb=Array(new el),this.sb=0,this.wa=Array(new ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new nl),this.L=this.aa=0,this.gd=c([4,2],ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hd(){var v=new Zc;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,wi||(wi=hh)),v}function Xn(v,A,N){return v.a==0&&(v.a=A,v.sc=N,v.cb=0),0}function gr(v,A,N){return 3<=N&&v[A+0]==157&&v[A+1]==1&&v[A+2]==42}function Jc(v,A){if(v==null)return 0;if(v.a=0,v.sc="OK",A==null)return Xn(v,2,"null VP8Io passed to VP8GetHeaders()");var N=A.data,M=A.w,U=A.ha;if(4>U)return Xn(v,7,"Truncated header.");var $=N[M+0]|N[M+1]<<8|N[M+2]<<16,W=v.Od;if(W.Rb=!(1&$),W.td=$>>1&7,W.yd=$>>4&1,W.ub=$>>5,3<W.td)return Xn(v,3,"Incorrect keyframe parameters.");if(!W.yd)return Xn(v,4,"Frame not displayable.");M+=3,U-=3;var X=v.Kc;if(W.Rb){if(7>U)return Xn(v,7,"cannot parse picture header");if(!gr(N,M,U))return Xn(v,3,"Bad code word");X.c=16383&(N[M+4]<<8|N[M+3]),X.Td=N[M+4]>>6,X.i=16383&(N[M+6]<<8|N[M+5]),X.Ud=N[M+6]>>6,M+=7,U-=7,v.za=X.c+15>>4,v.Ub=X.i+15>>4,A.width=X.c,A.height=X.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,r(($=v.Pa).jb,0,255,$.jb.length),t(($=v.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,r($.Zb,0,0,$.Zb.length),r($.Lb,0,0,$.Lb)}if(W.ub>U)return Xn(v,7,"bad partition length");ut($=v.m,N,M,W.ub),M+=W.ub,U-=W.ub,W.Rb&&(X.Ld=wt($),X.Kd=wt($)),X=v.Qa;var J,it=v.Pa;if(t($!=null),t(X!=null),X.Cb=wt($),X.Cb){if(X.Bb=wt($),wt($)){for(X.Fb=wt($),J=0;4>J;++J)X.Zb[J]=wt($)?et($,7):0;for(J=0;4>J;++J)X.Lb[J]=wt($)?et($,6):0}if(X.Bb)for(J=0;3>J;++J)it.jb[J]=wt($)?H($,8):255}else X.Bb=0;if($.Ka)return Xn(v,3,"cannot parse segment header");if((X=v.ed).zd=wt($),X.Tb=H($,6),X.wb=H($,3),X.Pc=wt($),X.Pc&&wt($)){for(it=0;4>it;++it)wt($)&&(X.vd[it]=et($,6));for(it=0;4>it;++it)wt($)&&(X.od[it]=et($,6))}if(v.L=X.Tb==0?0:X.zd?1:2,$.Ka)return Xn(v,3,"cannot parse filter header");var mt=U;if(U=J=M,M=J+mt,X=mt,v.Xb=(1<<H(v.m,2))-1,mt<3*(it=v.Xb))N=7;else{for(J+=3*it,X-=3*it,mt=0;mt<it;++mt){var Nt=N[U+0]|N[U+1]<<8|N[U+2]<<16;Nt>X&&(Nt=X),ut(v.Jc[+mt],N,J,Nt),J+=Nt,X-=Nt,U+=3}ut(v.Jc[+it],N,J,X),N=J<M?0:5}if(N!=0)return Xn(v,N,"cannot parse partitions");for(N=H(J=v.m,7),U=wt(J)?et(J,4):0,M=wt(J)?et(J,4):0,X=wt(J)?et(J,4):0,it=wt(J)?et(J,4):0,J=wt(J)?et(J,4):0,mt=v.Qa,Nt=0;4>Nt;++Nt){if(mt.Cb){var _t=mt.Zb[Nt];mt.Fb||(_t+=N)}else{if(0<Nt){v.pb[Nt]=v.pb[0];continue}_t=N}var xt=v.pb[Nt];xt.Sc[0]=mu[$r(_t+U,127)],xt.Sc[1]=vu[$r(_t+0,127)],xt.Eb[0]=2*mu[$r(_t+M,127)],xt.Eb[1]=101581*vu[$r(_t+X,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=mu[$r(_t+it,117)],xt.Qc[1]=vu[$r(_t+J,127)],xt.lc=_t+J}if(!W.Rb)return Xn(v,4,"Not a key frame.");for(wt($),W=v.Pa,N=0;4>N;++N){for(U=0;8>U;++U)for(M=0;3>M;++M)for(X=0;11>X;++X)it=St($,vl[N][U][M][X])?H($,8):Xs[N][U][M][X],W.Wc[N][U].Yb[M][X]=it;for(U=0;17>U;++U)W.Xc[N][U]=W.Wc[N][qp[U]]}return v.kc=wt($),v.kc&&(v.Bd=H($,8)),v.cb=1}function hh(v,A,N,M,U,$,W){var X=A[U].Yb[N];for(N=0;16>U;++U){if(!St(v,X[N+0]))return U;for(;!St(v,X[N+1]);)if(X=A[++U].Yb[0],N=0,U==16)return 16;var J=A[U+1].Yb;if(St(v,X[N+2])){var it=v,mt=0;if(St(it,(_t=X)[(Nt=N)+3]))if(St(it,_t[Nt+6])){for(X=0,Nt=2*(mt=St(it,_t[Nt+8]))+(_t=St(it,_t[Nt+9+mt])),mt=0,_t=Zn[Nt];_t[X];++X)mt+=mt+St(it,_t[X]);mt+=3+(8<<Nt)}else St(it,_t[Nt+7])?(mt=7+2*St(it,165),mt+=St(it,145)):mt=5+St(it,159);else mt=St(it,_t[Nt+4])?3+St(it,_t[Nt+5]):2;X=J[2]}else mt=1,X=J[1];J=W+gn[U],0>(it=v).b&&ft(it);var Nt,_t=it.b,xt=(Nt=it.Ca>>1)-(it.I>>_t)>>31;--it.b,it.Ca+=xt,it.Ca|=1,it.I-=(Nt+1&xt)<<_t,$[J]=((mt^xt)-xt)*M[(0<U)+0]}return 16}function Za(v){var A=v.rb[v.sb-1];A.la=0,A.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function dh(v,A){if(v==null)return 0;if(A==null)return Xn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Jc(v,A))return 0;if(t(v.cb),A.ac==null||A.ac(A)){A.ob&&(v.L=0);var N=Na[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=A.v-N>>4,v.zb=A.j-N>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=A.o+15+N>>4,v.Hb=A.va+15+N>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var M=v.ed;for(N=0;4>N;++N){var U;if(v.Qa.Cb){var $=v.Qa.Lb[N];v.Qa.Fb||($+=M.Tb)}else $=M.Tb;for(U=0;1>=U;++U){var W=v.gd[N][U],X=$;if(M.Pc&&(X+=M.vd[0],U&&(X+=M.od[0])),0<(X=0>X?0:63<X?63:X)){var J=X;0<M.wb&&(J=4<M.wb?J>>2:J>>1)>9-M.wb&&(J=9-M.wb),1>J&&(J=1),W.dd=J,W.tc=2*X+J,W.ld=40<=X?2:15<=X?1:0}else W.tc=0;W.La=U}}}N=0}else Xn(v,6,"Frame setup failed"),N=v.a;if(N=N==0){if(N){v.$c=0,0<v.Aa||(v.Ic=Vp);t:{N=v.Ic,M=4*(J=v.za);var it=32*J,mt=J+1,Nt=0<v.L?J*(0<v.Aa?2:1):0,_t=(v.Aa==2?2:1)*J;if((W=M+832+(U=3*(16*N+Na[v.L])/2*it)+($=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=W)N=0;else{if(W>v.Vb){if(v.Vb=0,v.Ec=s(W),v.Fc=0,v.Ec==null){N=Xn(v,1,"no memory during frame initialization.");break t}v.Vb=W}W=v.Ec,X=v.Fc,v.Ac=W,v.Bc=X,X+=M,v.Gd=o(it,ua),v.Hd=0,v.rb=o(mt+1,el),v.sb=1,v.wa=Nt?o(Nt,ca):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=J),t(!0),v.oc=W,v.pc=X,X+=832,v.ya=o(_t,nl),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=J),v.R=16*J,v.B=8*J,J=(it=Na[v.L])*v.R,it=it/2*v.B,v.sa=W,v.ta=X+J,v.qa=v.sa,v.ra=v.ta+16*N*v.R+it,v.Ha=v.qa,v.Ia=v.ra+8*N*v.B+it,v.$c=0,X+=U,v.mb=$?W:null,v.nb=$?X:null,t(X+$<=v.Fc+v.Vb),Za(v),r(v.Ac,v.Bc,0,M),N=1}}if(N){if(A.ka=0,A.y=v.sa,A.O=v.ta,A.f=v.qa,A.N=v.ra,A.ea=v.Ha,A.Vd=v.Ia,A.fa=v.R,A.Rc=v.B,A.F=null,A.J=0,!wa){for(N=-255;255>=N;++N)oi[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)rs[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)mo[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)vo[255+N]=0>N?0:255<N?255:N;wa=1}$s=Ja,_s=eu,Cs=ha,pi=fh,Lr=nu,Kn=tu,ul=rl,Ws=sl,rc=$d,ho=ou,fo=Vd,po=Xl,hl=Kl,sc=yh,go=io,ya=Vr,dl=Vs,Qn=Gd,vr[0]=Cr,vr[1]=ph,vr[2]=su,vr[3]=mh,vr[4]=es,vr[5]=qs,vr[6]=Vl,vr[7]=ns,vr[8]=$l,vr[9]=au,_a[0]=Gl,_a[1]=ru,_a[2]=da,_a[3]=Hl,_a[4]=ki,_a[5]=to,_a[6]=pa,Xr[0]=ga,Xr[1]=gh,Xr[2]=vh,Xr[3]=eo,Xr[4]=Gr,Xr[5]=nr,Xr[6]=no,N=1}else N=0}N&&(N=function(xt,zt){for(xt.M=0;xt.M<xt.Va;++xt.M){var Pt,vt=xt.Jc[xt.M&xt.Xb],yt=xt.m,jt=xt;for(Pt=0;Pt<jt.za;++Pt){var qt=yt,Ft=jt,re=Ft.Ac,te=Ft.Bc+4*Pt,me=Ft.zc,ee=Ft.ya[Ft.aa+Pt];if(Ft.Qa.Bb?ee.$b=St(qt,Ft.Pa.jb[0])?2+St(qt,Ft.Pa.jb[2]):St(qt,Ft.Pa.jb[1]):ee.$b=0,Ft.kc&&(ee.Ad=St(qt,Ft.Bd)),ee.Za=!St(qt,145)+0,ee.Za){var un=ee.Ob,vn=0;for(Ft=0;4>Ft;++Ft){var Ve,He=me[0+Ft];for(Ve=0;4>Ve;++Ve){He=Xd[re[te+Ve]][He];for(var En=yo[St(qt,He[0])];0<En;)En=yo[2*En+St(qt,He[En])];He=-En,re[te+Ve]=He}n(un,vn,re,te,4),vn+=4,me[0+Ft]=He}}else He=St(qt,156)?St(qt,128)?1:3:St(qt,163)?2:0,ee.Ob[0]=He,r(re,te,He,4),r(me,0,He,4);ee.Dd=St(qt,142)?St(qt,114)?St(qt,183)?1:3:2:0}if(jt.m.Ka)return Xn(xt,7,"Premature end-of-partition0 encountered.");for(;xt.ja<xt.za;++xt.ja){if(jt=vt,qt=(yt=xt).rb[yt.sb-1],re=yt.rb[yt.sb+yt.ja],Pt=yt.ya[yt.aa+yt.ja],te=yt.kc?Pt.Ad:0)qt.la=re.la=0,Pt.Za||(qt.Na=re.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var bn,je;if(qt=re,re=jt,te=yt.Pa.Xc,me=yt.ya[yt.aa+yt.ja],ee=yt.pb[me.$b],Ft=me.ad,un=0,vn=yt.rb[yt.sb-1],He=Ve=0,r(Ft,un,0,384),me.Za)var Cn=0,we=te[3];else{En=s(16);var Te=qt.Na+vn.Na;if(Te=wi(re,te[1],Te,ee.Eb,0,En,0),qt.Na=vn.Na=(0<Te)+0,1<Te)$s(En,0,Ft,un);else{var cn=En[0]+3>>3;for(En=0;256>En;En+=16)Ft[un+En]=cn}Cn=1,we=te[0]}var hn=15&qt.la,Bi=15&vn.la;for(En=0;4>En;++En){var Si=1&Bi;for(cn=je=0;4>cn;++cn)hn=hn>>1|(Si=(Te=wi(re,we,Te=Si+(1&hn),ee.Sc,Cn,Ft,un))>Cn)<<7,je=je<<2|(3<Te?3:1<Te?2:Ft[un+0]!=0),un+=16;hn>>=4,Bi=Bi>>1|Si<<7,Ve=(Ve<<8|je)>>>0}for(we=hn,Cn=Bi>>4,bn=0;4>bn;bn+=2){for(je=0,hn=qt.la>>4+bn,Bi=vn.la>>4+bn,En=0;2>En;++En){for(Si=1&Bi,cn=0;2>cn;++cn)Te=Si+(1&hn),hn=hn>>1|(Si=0<(Te=wi(re,te[2],Te,ee.Qc,0,Ft,un)))<<3,je=je<<2|(3<Te?3:1<Te?2:Ft[un+0]!=0),un+=16;hn>>=2,Bi=Bi>>1|Si<<5}He|=je<<4*bn,we|=hn<<4<<bn,Cn|=(240&Bi)<<bn}qt.la=we,vn.la=Cn,me.Hc=Ve,me.Gc=He,me.ia=43690&He?0:ee.ia,te=!(Ve|He)}if(0<yt.L&&(yt.wa[yt.Y+yt.ja]=yt.gd[Pt.$b][Pt.Za],yt.wa[yt.Y+yt.ja].La|=!te),jt.Ka)return Xn(xt,7,"Premature end-of-file encountered.")}if(Za(xt),yt=zt,jt=1,Pt=(vt=xt).D,qt=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Pt.M=vt.M,Pt.uc=qt,va(vt,Pt),jt=1,Pt=(je=vt.D).Nb,qt=(He=Na[vt.L])*vt.R,re=He/2*vt.B,En=16*Pt*vt.R,cn=8*Pt*vt.B,te=vt.sa,me=vt.ta-qt+En,ee=vt.qa,Ft=vt.ra-re+cn,un=vt.Ha,vn=vt.Ia-re+cn,Bi=(hn=je.M)==0,Ve=hn>=vt.Va-1,vt.Aa==2&&va(vt,je),je.uc)for(Si=(Te=vt).D.M,t(Te.D.uc),je=Te.yb;je<Te.Hb;++je){Cn=je,we=Si;var li=(ci=(Hn=Te).D).Nb;bn=Hn.R;var ci=ci.wa[ci.Y+Cn],gi=Hn.sa,os=Hn.ta+16*li*bn+16*Cn,yn=ci.dd,mi=ci.tc;if(mi!=0)if(t(3<=mi),Hn.L==1)0<Cn&&ya(gi,os,bn,mi+4),ci.La&&Qn(gi,os,bn,mi),0<we&&go(gi,os,bn,mi+4),ci.La&&dl(gi,os,bn,mi);else{var Ns=Hn.B,Ao=Hn.qa,yl=Hn.ra+8*li*Ns+8*Cn,So=Hn.Ha,Hn=Hn.Ia+8*li*Ns+8*Cn;li=ci.ld,0<Cn&&(Ws(gi,os,bn,mi+4,yn,li),ho(Ao,yl,So,Hn,Ns,mi+4,yn,li)),ci.La&&(po(gi,os,bn,mi,yn,li),sc(Ao,yl,So,Hn,Ns,mi,yn,li)),0<we&&(ul(gi,os,bn,mi+4,yn,li),rc(Ao,yl,So,Hn,Ns,mi+4,yn,li)),ci.La&&(fo(gi,os,bn,mi,yn,li),hl(Ao,yl,So,Hn,Ns,mi,yn,li))}}if(vt.ia&&alert("todo:DitherRow"),yt.put!=null){if(je=16*hn,hn=16*(hn+1),Bi?(yt.y=vt.sa,yt.O=vt.ta+En,yt.f=vt.qa,yt.N=vt.ra+cn,yt.ea=vt.Ha,yt.W=vt.Ia+cn):(je-=He,yt.y=te,yt.O=me,yt.f=ee,yt.N=Ft,yt.ea=un,yt.W=vn),Ve||(hn-=He),hn>yt.o&&(hn=yt.o),yt.F=null,yt.J=null,vt.Fa!=null&&0<vt.Fa.length&&je<hn&&(yt.J=uu(vt,yt,je,hn-je),yt.F=vt.mb,yt.F==null&&yt.F.length==0)){jt=Xn(vt,3,"Could not decode alpha data.");break t}je<yt.j&&(He=yt.j-je,je=yt.j,t(!(1&He)),yt.O+=vt.R*He,yt.N+=vt.B*(He>>1),yt.W+=vt.B*(He>>1),yt.F!=null&&(yt.J+=yt.width*He)),je<hn&&(yt.O+=yt.v,yt.N+=yt.v>>1,yt.W+=yt.v>>1,yt.F!=null&&(yt.J+=yt.v),yt.ka=je-yt.j,yt.U=yt.va-yt.v,yt.T=hn-je,jt=yt.put(yt))}Pt+1!=vt.Ic||Ve||(n(vt.sa,vt.ta-qt,te,me+16*vt.R,qt),n(vt.qa,vt.ra-re,ee,Ft+8*vt.B,re),n(vt.Ha,vt.Ia-re,un,vn+8*vt.B,re))}if(!jt)return Xn(xt,6,"Output aborted.")}return 1}(v,A)),A.bc!=null&&A.bc(A),N&=1}return N?(v.cb=0,N):0}function _r(v,A,N,M,U){U=v[A+N+32*M]+(U>>3),v[A+N+32*M]=-256&U?0>U?0:255:U}function ql(v,A,N,M,U,$){_r(v,A,0,N,M+U),_r(v,A,1,N,M+$),_r(v,A,2,N,M-$),_r(v,A,3,N,M-U)}function In(v){return(20091*v>>16)+v}function il(v,A,N,M){var U,$=0,W=s(16);for(U=0;4>U;++U){var X=v[A+0]+v[A+8],J=v[A+0]-v[A+8],it=(35468*v[A+4]>>16)-In(v[A+12]),mt=In(v[A+4])+(35468*v[A+12]>>16);W[$+0]=X+mt,W[$+1]=J+it,W[$+2]=J-it,W[$+3]=X-mt,$+=4,A++}for(U=$=0;4>U;++U)X=(v=W[$+0]+4)+W[$+8],J=v-W[$+8],it=(35468*W[$+4]>>16)-In(W[$+12]),_r(N,M,0,0,X+(mt=In(W[$+4])+(35468*W[$+12]>>16))),_r(N,M,1,0,J+it),_r(N,M,2,0,J-it),_r(N,M,3,0,X-mt),$++,M+=32}function tu(v,A,N,M){var U=v[A+0]+4,$=35468*v[A+4]>>16,W=In(v[A+4]),X=35468*v[A+1]>>16;ql(N,M,0,U+W,v=In(v[A+1]),X),ql(N,M,1,U+$,v,X),ql(N,M,2,U-$,v,X),ql(N,M,3,U-W,v,X)}function eu(v,A,N,M,U){il(v,A,N,M),U&&il(v,A+16,N,M+4)}function ha(v,A,N,M){_s(v,A+0,N,M,1),_s(v,A+32,N,M+128,1)}function fh(v,A,N,M){var U;for(v=v[A+0]+4,U=0;4>U;++U)for(A=0;4>A;++A)_r(N,M,A,U,v)}function nu(v,A,N,M){v[A+0]&&pi(v,A+0,N,M),v[A+16]&&pi(v,A+16,N,M+4),v[A+32]&&pi(v,A+32,N,M+128),v[A+48]&&pi(v,A+48,N,M+128+4)}function Ja(v,A,N,M){var U,$=s(16);for(U=0;4>U;++U){var W=v[A+0+U]+v[A+12+U],X=v[A+4+U]+v[A+8+U],J=v[A+4+U]-v[A+8+U],it=v[A+0+U]-v[A+12+U];$[0+U]=W+X,$[8+U]=W-X,$[4+U]=it+J,$[12+U]=it-J}for(U=0;4>U;++U)W=(v=$[0+4*U]+3)+$[3+4*U],X=$[1+4*U]+$[2+4*U],J=$[1+4*U]-$[2+4*U],it=v-$[3+4*U],N[M+0]=W+X>>3,N[M+16]=it+J>>3,N[M+32]=W-X>>3,N[M+48]=it-J>>3,M+=64}function iu(v,A,N){var M,U=A-32,$=Ii,W=255-v[U-1];for(M=0;M<N;++M){var X,J=$,it=W+v[A-1];for(X=0;X<N;++X)v[A+X]=J[it+v[U+X]];A+=32}}function ph(v,A){iu(v,A,4)}function gh(v,A){iu(v,A,8)}function ru(v,A){iu(v,A,16)}function da(v,A){var N;for(N=0;16>N;++N)n(v,A+32*N,v,A-32,16)}function Hl(v,A){var N;for(N=16;0<N;--N)r(v,A,v[A-1],16),A+=32}function fa(v,A,N){var M;for(M=0;16>M;++M)r(A,N+32*M,v,16)}function Gl(v,A){var N,M=16;for(N=0;16>N;++N)M+=v[A-1+32*N]+v[A+N-32];fa(M>>5,v,A)}function ki(v,A){var N,M=8;for(N=0;16>N;++N)M+=v[A-1+32*N];fa(M>>4,v,A)}function to(v,A){var N,M=8;for(N=0;16>N;++N)M+=v[A+N-32];fa(M>>4,v,A)}function pa(v,A){fa(128,v,A)}function Pe(v,A,N){return v+2*A+N+2>>2}function su(v,A){var N,M=A-32;for(M=new Uint8Array([Pe(v[M-1],v[M+0],v[M+1]),Pe(v[M+0],v[M+1],v[M+2]),Pe(v[M+1],v[M+2],v[M+3]),Pe(v[M+2],v[M+3],v[M+4])]),N=0;4>N;++N)n(v,A+32*N,M,0,M.length)}function mh(v,A){var N=v[A-1],M=v[A-1+32],U=v[A-1+64],$=v[A-1+96];Dt(v,A+0,16843009*Pe(v[A-1-32],N,M)),Dt(v,A+32,16843009*Pe(N,M,U)),Dt(v,A+64,16843009*Pe(M,U,$)),Dt(v,A+96,16843009*Pe(U,$,$))}function Cr(v,A){var N,M=4;for(N=0;4>N;++N)M+=v[A+N-32]+v[A-1+32*N];for(M>>=3,N=0;4>N;++N)r(v,A+32*N,M,4)}function es(v,A){var N=v[A-1+0],M=v[A-1+32],U=v[A-1+64],$=v[A-1-32],W=v[A+0-32],X=v[A+1-32],J=v[A+2-32],it=v[A+3-32];v[A+0+96]=Pe(M,U,v[A-1+96]),v[A+1+96]=v[A+0+64]=Pe(N,M,U),v[A+2+96]=v[A+1+64]=v[A+0+32]=Pe($,N,M),v[A+3+96]=v[A+2+64]=v[A+1+32]=v[A+0+0]=Pe(W,$,N),v[A+3+64]=v[A+2+32]=v[A+1+0]=Pe(X,W,$),v[A+3+32]=v[A+2+0]=Pe(J,X,W),v[A+3+0]=Pe(it,J,X)}function Vl(v,A){var N=v[A+1-32],M=v[A+2-32],U=v[A+3-32],$=v[A+4-32],W=v[A+5-32],X=v[A+6-32],J=v[A+7-32];v[A+0+0]=Pe(v[A+0-32],N,M),v[A+1+0]=v[A+0+32]=Pe(N,M,U),v[A+2+0]=v[A+1+32]=v[A+0+64]=Pe(M,U,$),v[A+3+0]=v[A+2+32]=v[A+1+64]=v[A+0+96]=Pe(U,$,W),v[A+3+32]=v[A+2+64]=v[A+1+96]=Pe($,W,X),v[A+3+64]=v[A+2+96]=Pe(W,X,J),v[A+3+96]=Pe(X,J,J)}function qs(v,A){var N=v[A-1+0],M=v[A-1+32],U=v[A-1+64],$=v[A-1-32],W=v[A+0-32],X=v[A+1-32],J=v[A+2-32],it=v[A+3-32];v[A+0+0]=v[A+1+64]=$+W+1>>1,v[A+1+0]=v[A+2+64]=W+X+1>>1,v[A+2+0]=v[A+3+64]=X+J+1>>1,v[A+3+0]=J+it+1>>1,v[A+0+96]=Pe(U,M,N),v[A+0+64]=Pe(M,N,$),v[A+0+32]=v[A+1+96]=Pe(N,$,W),v[A+1+32]=v[A+2+96]=Pe($,W,X),v[A+2+32]=v[A+3+96]=Pe(W,X,J),v[A+3+32]=Pe(X,J,it)}function ns(v,A){var N=v[A+0-32],M=v[A+1-32],U=v[A+2-32],$=v[A+3-32],W=v[A+4-32],X=v[A+5-32],J=v[A+6-32],it=v[A+7-32];v[A+0+0]=N+M+1>>1,v[A+1+0]=v[A+0+64]=M+U+1>>1,v[A+2+0]=v[A+1+64]=U+$+1>>1,v[A+3+0]=v[A+2+64]=$+W+1>>1,v[A+0+32]=Pe(N,M,U),v[A+1+32]=v[A+0+96]=Pe(M,U,$),v[A+2+32]=v[A+1+96]=Pe(U,$,W),v[A+3+32]=v[A+2+96]=Pe($,W,X),v[A+3+64]=Pe(W,X,J),v[A+3+96]=Pe(X,J,it)}function au(v,A){var N=v[A-1+0],M=v[A-1+32],U=v[A-1+64],$=v[A-1+96];v[A+0+0]=N+M+1>>1,v[A+2+0]=v[A+0+32]=M+U+1>>1,v[A+2+32]=v[A+0+64]=U+$+1>>1,v[A+1+0]=Pe(N,M,U),v[A+3+0]=v[A+1+32]=Pe(M,U,$),v[A+3+32]=v[A+1+64]=Pe(U,$,$),v[A+3+64]=v[A+2+64]=v[A+0+96]=v[A+1+96]=v[A+2+96]=v[A+3+96]=$}function $l(v,A){var N=v[A-1+0],M=v[A-1+32],U=v[A-1+64],$=v[A-1+96],W=v[A-1-32],X=v[A+0-32],J=v[A+1-32],it=v[A+2-32];v[A+0+0]=v[A+2+32]=N+W+1>>1,v[A+0+32]=v[A+2+64]=M+N+1>>1,v[A+0+64]=v[A+2+96]=U+M+1>>1,v[A+0+96]=$+U+1>>1,v[A+3+0]=Pe(X,J,it),v[A+2+0]=Pe(W,X,J),v[A+1+0]=v[A+3+32]=Pe(N,W,X),v[A+1+32]=v[A+3+64]=Pe(M,N,W),v[A+1+64]=v[A+3+96]=Pe(U,M,N),v[A+1+96]=Pe($,U,M)}function vh(v,A){var N;for(N=0;8>N;++N)n(v,A+32*N,v,A-32,8)}function eo(v,A){var N;for(N=0;8>N;++N)r(v,A,v[A-1],8),A+=32}function Hs(v,A,N){var M;for(M=0;8>M;++M)r(A,N+32*M,v,8)}function ga(v,A){var N,M=8;for(N=0;8>N;++N)M+=v[A+N-32]+v[A-1+32*N];Hs(M>>4,v,A)}function nr(v,A){var N,M=4;for(N=0;8>N;++N)M+=v[A+N-32];Hs(M>>3,v,A)}function Gr(v,A){var N,M=4;for(N=0;8>N;++N)M+=v[A-1+32*N];Hs(M>>3,v,A)}function no(v,A){Hs(128,v,A)}function Gs(v,A,N){var M=v[A-N],U=v[A+0],$=3*(U-M)+xh[1020+v[A-2*N]-v[A+N]],W=fl[112+($+4>>3)];v[A-N]=Ii[255+M+fl[112+($+3>>3)]],v[A+0]=Ii[255+U-W]}function bh(v,A,N,M){var U=v[A+0],$=v[A+N];return ss[255+v[A-2*N]-v[A-N]]>M||ss[255+$-U]>M}function Wl(v,A,N,M){return 4*ss[255+v[A-N]-v[A+0]]+ss[255+v[A-2*N]-v[A+N]]<=M}function Yl(v,A,N,M,U){var $=v[A-3*N],W=v[A-2*N],X=v[A-N],J=v[A+0],it=v[A+N],mt=v[A+2*N],Nt=v[A+3*N];return 4*ss[255+X-J]+ss[255+W-it]>M?0:ss[255+v[A-4*N]-$]<=U&&ss[255+$-W]<=U&&ss[255+W-X]<=U&&ss[255+Nt-mt]<=U&&ss[255+mt-it]<=U&&ss[255+it-J]<=U}function io(v,A,N,M){var U=2*M+1;for(M=0;16>M;++M)Wl(v,A+M,N,U)&&Gs(v,A+M,N)}function Vr(v,A,N,M){var U=2*M+1;for(M=0;16>M;++M)Wl(v,A+M*N,1,U)&&Gs(v,A+M*N,1)}function Vs(v,A,N,M){var U;for(U=3;0<U;--U)io(v,A+=4*N,N,M)}function Gd(v,A,N,M){var U;for(U=3;0<U;--U)Vr(v,A+=4,N,M)}function ro(v,A,N,M,U,$,W,X){for($=2*$+1;0<U--;){if(Yl(v,A,N,$,W))if(bh(v,A,N,X))Gs(v,A,N);else{var J=v,it=A,mt=N,Nt=J[it-2*mt],_t=J[it-mt],xt=J[it+0],zt=J[it+mt],Pt=J[it+2*mt],vt=27*(jt=xh[1020+3*(xt-_t)+xh[1020+Nt-zt]])+63>>7,yt=18*jt+63>>7,jt=9*jt+63>>7;J[it-3*mt]=Ii[255+J[it-3*mt]+jt],J[it-2*mt]=Ii[255+Nt+yt],J[it-mt]=Ii[255+_t+vt],J[it+0]=Ii[255+xt-vt],J[it+mt]=Ii[255+zt-yt],J[it+2*mt]=Ii[255+Pt-jt]}A+=M}}function xs(v,A,N,M,U,$,W,X){for($=2*$+1;0<U--;){if(Yl(v,A,N,$,W))if(bh(v,A,N,X))Gs(v,A,N);else{var J=v,it=A,mt=N,Nt=J[it-mt],_t=J[it+0],xt=J[it+mt],zt=fl[112+((Pt=3*(_t-Nt))+4>>3)],Pt=fl[112+(Pt+3>>3)],vt=zt+1>>1;J[it-2*mt]=Ii[255+J[it-2*mt]+vt],J[it-mt]=Ii[255+Nt+Pt],J[it+0]=Ii[255+_t-zt],J[it+mt]=Ii[255+xt-vt]}A+=M}}function rl(v,A,N,M,U,$){ro(v,A,N,1,16,M,U,$)}function sl(v,A,N,M,U,$){ro(v,A,1,N,16,M,U,$)}function Vd(v,A,N,M,U,$){var W;for(W=3;0<W;--W)xs(v,A+=4*N,N,1,16,M,U,$)}function Xl(v,A,N,M,U,$){var W;for(W=3;0<W;--W)xs(v,A+=4,1,N,16,M,U,$)}function $d(v,A,N,M,U,$,W,X){ro(v,A,U,1,8,$,W,X),ro(N,M,U,1,8,$,W,X)}function ou(v,A,N,M,U,$,W,X){ro(v,A,1,U,8,$,W,X),ro(N,M,1,U,8,$,W,X)}function Kl(v,A,N,M,U,$,W,X){xs(v,A+4*U,U,1,8,$,W,X),xs(N,M+4*U,U,1,8,$,W,X)}function yh(v,A,N,M,U,$,W,X){xs(v,A+4,1,U,8,$,W,X),xs(N,M+4,1,U,8,$,W,X)}function Ql(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zl(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new V}function Wd(){this.xb=this.a=0,this.l=new Qa,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zl,this.ab=0,this.gc=o(4,cu),this.Oc=0}function Jl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function al(v,A,N,M,U,$,W){for(v=v==null?0:v[A+0],A=0;A<W;++A)U[$+A]=v+N[M+A]&255,v=U[$+A]}function tc(v,A,N,M,U,$,W){var X;if(v==null)al(null,null,N,M,U,$,W);else for(X=0;X<W;++X)U[$+X]=v[A+X]+N[M+X]&255}function so(v,A,N,M,U,$,W){if(v==null)al(null,null,N,M,U,$,W);else{var X,J=v[A+0],it=J,mt=J;for(X=0;X<W;++X)it=mt+(J=v[A+X])-it,mt=N[M+X]+(-256&it?0>it?0:255:it)&255,it=J,U[$+X]=mt}}function uu(v,A,N,M){var U=A.width,$=A.o;if(t(v!=null&&A!=null),0>N||0>=M||N+M>$)return null;if(!v.Cc){if(v.ga==null){var W;if(v.ga=new Jl,(W=v.ga==null)||(W=A.width*A.o,t(v.Gb.length==0),v.Gb=s(W),v.Uc=0,v.Gb==null?W=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,W=1),W=!W),!W){W=v.ga;var X=v.Fa,J=v.P,it=v.qc,mt=v.mb,Nt=v.nb,_t=J+1,xt=it-1,zt=W.l;if(t(X!=null&&mt!=null&&A!=null),Ks[0]=null,Ks[1]=al,Ks[2]=tc,Ks[3]=so,W.ca=mt,W.tb=Nt,W.c=A.width,W.i=A.height,t(0<W.c&&0<W.i),1>=it)A=0;else if(W.$a=X[J+0]>>0&3,W.Z=X[J+0]>>2&3,W.Lc=X[J+0]>>4&3,J=X[J+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||J)A=0;else if(zt.put=Ji,zt.ac=ln,zt.bc=An,zt.ma=W,zt.width=A.width,zt.height=A.height,zt.Da=A.Da,zt.v=A.v,zt.va=A.va,zt.j=A.j,zt.o=A.o,W.$a)t:{t(W.$a==1),A=Gi();e:for(;;){if(A==null){A=0;break t}if(t(W!=null),W.mc=A,A.c=W.c,A.i=W.i,A.l=W.l,A.l.ma=W,A.l.width=W.c,A.l.height=W.i,A.a=0,Z(A.m,X,_t,xt),!_n(W.c,W.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&qr(A.s)?(W.ic=1,X=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(X),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(W.ic=0,A=Ka(A,W.c)),!A))break e;A=1;break t}W.mc=null,A=0}else A=xt>=W.c*W.i;W=!A}if(W)return null;v.ga.Lc!=1?v.Ga=0:M=$-N}t(v.ga!=null),t(N+M<=$);t:{if(A=(X=v.ga).c,$=X.l.o,X.$a==0){if(_t=v.rc,xt=v.Vc,zt=v.Fa,J=v.P+1+N*A,it=v.mb,mt=v.nb+N*A,t(J<=v.P+v.qc),X.Z!=0)for(t(Ks[X.Z]!=null),W=0;W<M;++W)Ks[X.Z](_t,xt,zt,J,it,mt,A),_t=it,xt=mt,mt+=A,J+=A;else for(W=0;W<M;++W)n(it,mt,zt,J,A),_t=it,xt=mt,mt+=A,J+=A;v.rc=_t,v.Vc=xt}else{if(t(X.mc!=null),A=N+M,t((W=X.mc)!=null),t(A<=W.i),W.C>=A)A=1;else if(X.ic||Et(),X.ic){X=W.V,_t=W.Ba,xt=W.c;var Pt=W.i,vt=(zt=1,J=W.$/xt,it=W.$%xt,mt=W.m,Nt=W.s,W.$),yt=xt*Pt,jt=xt*A,qt=Nt.wc,Ft=vt<jt?Sn(Nt,it,J):null;t(vt<=yt),t(A<=Pt),t(qr(Nt));e:for(;;){for(;!mt.h&&vt<jt;){if(it&qt||(Ft=Sn(Nt,it,J)),t(Ft!=null),at(mt),256>(Pt=pn(Ft.G[0],Ft.H[0],mt)))X[_t+vt]=Pt,++vt,++it>=xt&&(it=0,++J<=A&&!(J%16)&&tr(W,J));else{if(!(280>Pt)){zt=0;break e}Pt=fn(Pt-256,mt);var re,te=pn(Ft.G[4],Ft.H[4],mt);if(at(mt),!(vt>=(te=Ze(xt,te=fn(te,mt)))&&yt-vt>=Pt)){zt=0;break e}for(re=0;re<Pt;++re)X[_t+vt+re]=X[_t+vt+re-te];for(vt+=Pt,it+=Pt;it>=xt;)it-=xt,++J<=A&&!(J%16)&&tr(W,J);vt<jt&&it&qt&&(Ft=Sn(Nt,it,J))}t(mt.h==Q(mt))}tr(W,J>A?A:J);break e}!zt||mt.h&&vt<yt?(zt=0,W.a=mt.h?5:3):W.$=vt,A=zt}else A=er(W,W.V,W.Ba,W.c,W.i,A,tl);if(!A){M=0;break t}}N+M>=$&&(v.Cc=1),M=1}if(!M)return null;if(v.Cc&&((M=v.ga)!=null&&(M.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+N*U}function C(v,A,N,M,U,$){for(;0<U--;){var W,X=v,J=A+(N?1:0),it=v,mt=A+(N?0:3);for(W=0;W<M;++W){var Nt=it[mt+4*W];Nt!=255&&(Nt*=32897,X[J+4*W+0]=X[J+4*W+0]*Nt>>23,X[J+4*W+1]=X[J+4*W+1]*Nt>>23,X[J+4*W+2]=X[J+4*W+2]*Nt>>23)}A+=$}}function q(v,A,N,M,U){for(;0<M--;){var $;for($=0;$<N;++$){var W=v[A+2*$+0],X=15&(it=v[A+2*$+1]),J=4369*X,it=(240&it|it>>4)*J>>16;v[A+2*$+0]=(240&W|W>>4)*J>>16&240|(15&W|W<<4)*J>>16>>4&15,v[A+2*$+1]=240&it|X}A+=U}}function lt(v,A,N,M,U,$,W,X){var J,it,mt=255;for(it=0;it<U;++it){for(J=0;J<M;++J){var Nt=v[A+J];$[W+4*J]=Nt,mt&=Nt}A+=N,W+=X}return mt!=255}function pt(v,A,N,M,U){var $;for($=0;$<U;++$)N[M+$]=v[A+$]>>8}function Et(){Wr=C,We=q,Ye=lt,Mn=pt}function kt(v,A,N){I[v]=function(M,U,$,W,X,J,it,mt,Nt,_t,xt,zt,Pt,vt,yt,jt,qt){var Ft,re=qt-1>>1,te=X[J+0]|it[mt+0]<<16,me=Nt[_t+0]|xt[zt+0]<<16;t(M!=null);var ee=3*te+me+131074>>2;for(A(M[U+0],255&ee,ee>>16,Pt,vt),$!=null&&(ee=3*me+te+131074>>2,A($[W+0],255&ee,ee>>16,yt,jt)),Ft=1;Ft<=re;++Ft){var un=X[J+Ft]|it[mt+Ft]<<16,vn=Nt[_t+Ft]|xt[zt+Ft]<<16,Ve=te+un+me+vn+524296,He=Ve+2*(un+me)>>3;ee=He+te>>1,te=(Ve=Ve+2*(te+vn)>>3)+un>>1,A(M[U+2*Ft-1],255&ee,ee>>16,Pt,vt+(2*Ft-1)*N),A(M[U+2*Ft-0],255&te,te>>16,Pt,vt+(2*Ft-0)*N),$!=null&&(ee=Ve+me>>1,te=He+vn>>1,A($[W+2*Ft-1],255&ee,ee>>16,yt,jt+(2*Ft-1)*N),A($[W+2*Ft+0],255&te,te>>16,yt,jt+(2*Ft+0)*N)),te=un,me=vn}1&qt||(ee=3*te+me+131074>>2,A(M[U+qt-1],255&ee,ee>>16,Pt,vt+(qt-1)*N),$!=null&&(ee=3*me+te+131074>>2,A($[W+qt-1],255&ee,ee>>16,yt,jt+(qt-1)*N)))}}function $t(){Fi[ir]=Ca,Fi[ac]=Qs,Fi[Ys]=wo,Fi[pu]=Eh,Fi[pl]=_h,Fi[xa]=cc,Fi[Ah]=Ch,Fi[gu]=Qs,Fi[bo]=Eh,Fi[Aa]=_h,Fi[oc]=cc}function ie(v){return v&-16384?0>v?0:255:v>>R0}function ge(v,A){return ie((19077*v>>8)+(26149*A>>8)-14234)}function Fe(v,A,N){return ie((19077*v>>8)-(6419*A>>8)-(13320*N>>8)+8708)}function De(v,A){return ie((19077*v>>8)+(33050*A>>8)-17685)}function Je(v,A,N,M,U){M[U+0]=ge(v,N),M[U+1]=Fe(v,A,N),M[U+2]=De(v,A)}function qn(v,A,N,M,U){M[U+0]=De(v,A),M[U+1]=Fe(v,A,N),M[U+2]=ge(v,N)}function $n(v,A,N,M,U){var $=Fe(v,A,N);A=$<<3&224|De(v,A)>>3,M[U+0]=248&ge(v,N)|$>>5,M[U+1]=A}function si(v,A,N,M,U){var $=240&De(v,A)|15;M[U+0]=240&ge(v,N)|Fe(v,A,N)>>4,M[U+1]=$}function ai(v,A,N,M,U){M[U+0]=255,Je(v,A,N,M,U+1)}function Di(v,A,N,M,U){qn(v,A,N,M,U),M[U+3]=255}function As(v,A,N,M,U){Je(v,A,N,M,U),M[U+3]=255}function $r(v,A){return 0>v?0:v>A?A:v}function Ss(v,A,N){I[v]=function(M,U,$,W,X,J,it,mt,Nt){for(var _t=mt+(-2&Nt)*N;mt!=_t;)A(M[U+0],$[W+0],X[J+0],it,mt),A(M[U+1],$[W+0],X[J+0],it,mt+N),U+=2,++W,++J,mt+=2*N;1&Nt&&A(M[U+0],$[W+0],X[J+0],it,mt)}}function hu(v,A,N){return N==0?v==0?A==0?6:5:A==0?4:0:N}function ma(v,A,N,M,U){switch(v>>>30){case 3:_s(A,N,M,U,0);break;case 2:Kn(A,N,M,U);break;case 1:pi(A,N,M,U)}}function va(v,A){var N,M,U=A.M,$=A.Nb,W=v.oc,X=v.pc+40,J=v.oc,it=v.pc+584,mt=v.oc,Nt=v.pc+600;for(N=0;16>N;++N)W[X+32*N-1]=129;for(N=0;8>N;++N)J[it+32*N-1]=129,mt[Nt+32*N-1]=129;for(0<U?W[X-1-32]=J[it-1-32]=mt[Nt-1-32]=129:(r(W,X-32-1,127,21),r(J,it-32-1,127,9),r(mt,Nt-32-1,127,9)),M=0;M<v.za;++M){var _t=A.ya[A.aa+M];if(0<M){for(N=-1;16>N;++N)n(W,X+32*N-4,W,X+32*N+12,4);for(N=-1;8>N;++N)n(J,it+32*N-4,J,it+32*N+4,4),n(mt,Nt+32*N-4,mt,Nt+32*N+4,4)}var xt=v.Gd,zt=v.Hd+M,Pt=_t.ad,vt=_t.Hc;if(0<U&&(n(W,X-32,xt[zt].y,0,16),n(J,it-32,xt[zt].f,0,8),n(mt,Nt-32,xt[zt].ea,0,8)),_t.Za){var yt=W,jt=X-32+16;for(0<U&&(M>=v.za-1?r(yt,jt,xt[zt].y[15],4):n(yt,jt,xt[zt+1].y,0,4)),N=0;4>N;N++)yt[jt+128+N]=yt[jt+256+N]=yt[jt+384+N]=yt[jt+0+N];for(N=0;16>N;++N,vt<<=2)yt=W,jt=X+bl[N],vr[_t.Ob[N]](yt,jt),ma(vt,Pt,16*+N,yt,jt)}else if(yt=hu(M,U,_t.Ob[0]),_a[yt](W,X),vt!=0)for(N=0;16>N;++N,vt<<=2)ma(vt,Pt,16*+N,W,X+bl[N]);for(N=_t.Gc,yt=hu(M,U,_t.Dd),Xr[yt](J,it),Xr[yt](mt,Nt),vt=Pt,yt=J,jt=it,255&(_t=N>>0)&&(170&_t?Cs(vt,256,yt,jt):Lr(vt,256,yt,jt)),_t=mt,vt=Nt,255&(N>>=8)&&(170&N?Cs(Pt,320,_t,vt):Lr(Pt,320,_t,vt)),U<v.Ub-1&&(n(xt[zt].y,0,W,X+480,16),n(xt[zt].f,0,J,it+224,8),n(xt[zt].ea,0,mt,Nt+224,8)),N=8*$*v.B,xt=v.sa,zt=v.ta+16*M+16*$*v.R,Pt=v.qa,_t=v.ra+8*M+N,vt=v.Ha,yt=v.Ia+8*M+N,N=0;16>N;++N)n(xt,zt+N*v.R,W,X+32*N,16);for(N=0;8>N;++N)n(Pt,_t+N*v.B,J,it+32*N,8),n(vt,yt+N*v.B,mt,Nt+32*N,8)}}function ec(v,A,N,M,U,$,W,X,J){var it=[0],mt=[0],Nt=0,_t=J!=null?J.kd:0,xt=J??new lu;if(v==null||12>N)return 7;xt.data=v,xt.w=A,xt.ha=N,A=[A],N=[N],xt.gb=[xt.gb];t:{var zt=A,Pt=N,vt=xt.gb;if(t(v!=null),t(Pt!=null),t(vt!=null),vt[0]=0,12<=Pt[0]&&!e(v,zt[0],"RIFF")){if(e(v,zt[0]+8,"WEBP")){vt=3;break t}var yt=Vt(v,zt[0]+4);if(12>yt||4294967286<yt){vt=3;break t}if(_t&&yt>Pt[0]-8){vt=7;break t}vt[0]=yt,zt[0]+=12,Pt[0]-=12}vt=0}if(vt!=0)return vt;for(yt=0<xt.gb[0],N=N[0];;){t:{var jt=v;Pt=A,vt=N;var qt=it,Ft=mt,re=zt=[0];if((ee=Nt=[Nt])[0]=0,8>vt[0])vt=7;else{if(!e(jt,Pt[0],"VP8X")){if(Vt(jt,Pt[0]+4)!=10){vt=3;break t}if(18>vt[0]){vt=7;break t}var te=Vt(jt,Pt[0]+8),me=1+Wt(jt,Pt[0]+12);if(2147483648<=me*(jt=1+Wt(jt,Pt[0]+15))){vt=3;break t}re!=null&&(re[0]=te),qt!=null&&(qt[0]=me),Ft!=null&&(Ft[0]=jt),Pt[0]+=18,vt[0]-=18,ee[0]=1}vt=0}}if(Nt=Nt[0],zt=zt[0],vt!=0)return vt;if(Pt=!!(2&zt),!yt&&Nt)return 3;if($!=null&&($[0]=!!(16&zt)),W!=null&&(W[0]=Pt),X!=null&&(X[0]=0),W=it[0],zt=mt[0],Nt&&Pt&&J==null){vt=0;break}if(4>N){vt=7;break}if(yt&&Nt||!yt&&!Nt&&!e(v,A[0],"ALPH")){N=[N],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{te=v,vt=A,yt=N;var ee=xt.gb;qt=xt.na,Ft=xt.P,re=xt.Sa,me=22,t(te!=null),t(yt!=null),jt=vt[0];var un=yt[0];for(t(qt!=null),t(re!=null),qt[0]=null,Ft[0]=null,re[0]=0;;){if(vt[0]=jt,yt[0]=un,8>un){vt=7;break t}var vn=Vt(te,jt+4);if(4294967286<vn){vt=3;break t}var Ve=8+vn+1&-2;if(me+=Ve,0<ee&&me>ee){vt=3;break t}if(!e(te,jt,"VP8 ")||!e(te,jt,"VP8L")){vt=0;break t}if(un[0]<Ve){vt=7;break t}e(te,jt,"ALPH")||(qt[0]=te,Ft[0]=jt+8,re[0]=vn),jt+=Ve,un-=Ve}}if(N=N[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],vt!=0)break}N=[N],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(ee=v,vt=A,yt=N,qt=xt.gb[0],Ft=xt.Ja,re=xt.xa,te=vt[0],jt=!e(ee,te,"VP8 "),me=!e(ee,te,"VP8L"),t(ee!=null),t(yt!=null),t(Ft!=null),t(re!=null),8>yt[0])vt=7;else{if(jt||me){if(ee=Vt(ee,te+4),12<=qt&&ee>qt-12){vt=3;break t}if(_t&&ee>yt[0]-8){vt=7;break t}Ft[0]=ee,vt[0]+=8,yt[0]-=8,re[0]=me}else re[0]=5<=yt[0]&&ee[te+0]==47&&!(ee[te+4]>>5),Ft[0]=yt[0];vt=0}if(N=N[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],A=A[0],vt!=0)break;if(4294967286<xt.Ja)return 3;if(X==null||Pt||(X[0]=xt.xa?2:1),W=[W],zt=[zt],xt.xa){if(5>N){vt=7;break}X=W,_t=zt,Pt=$,v==null||5>N?v=0:5<=N&&v[A+0]==47&&!(v[A+4]>>5)?(yt=[0],ee=[0],qt=[0],Z(Ft=new D,v,A,N),ae(Ft,yt,ee,qt)?(X!=null&&(X[0]=yt[0]),_t!=null&&(_t[0]=ee[0]),Pt!=null&&(Pt[0]=qt[0]),v=1):v=0):v=0}else{if(10>N){vt=7;break}X=zt,v==null||10>N||!gr(v,A+3,N-3)?v=0:(_t=v[A+0]|v[A+1]<<8|v[A+2]<<16,Pt=16383&(v[A+7]<<8|v[A+6]),v=16383&(v[A+9]<<8|v[A+8]),1&_t||3<(_t>>1&7)||!(_t>>4&1)||_t>>5>=xt.Ja||!Pt||!v?v=0:(W&&(W[0]=Pt),X&&(X[0]=v),v=1))}if(!v||(W=W[0],zt=zt[0],Nt&&(it[0]!=W||mt[0]!=zt)))return 3;J!=null&&(J[0]=xt,J.offset=A-J.w,t(4294967286>A-J.w),t(J.offset==J.ha-N));break}return vt==0||vt==7&&Nt&&J==null?($!=null&&($[0]|=xt.na!=null&&0<xt.na.length),M!=null&&(M[0]=W),U!=null&&(U[0]=zt),0):vt}function ao(v,A,N){var M=A.width,U=A.height,$=0,W=0,X=M,J=U;if(A.Da=v!=null&&0<v.Da,A.Da&&(X=v.cd,J=v.bd,$=v.v,W=v.j,11>N||($&=-2,W&=-2),0>$||0>W||0>=X||0>=J||$+X>M||W+J>U))return 0;if(A.v=$,A.j=W,A.va=$+X,A.o=W+J,A.U=X,A.T=J,A.da=v!=null&&0<v.da,A.da){if(!le(X,J,N=[v.ib],$=[v.hb]))return 0;A.ib=N[0],A.hb=$[0]}return A.ob=v!=null&&v.ob,A.Kb=v==null||!v.Sd,A.da&&(A.ob=A.ib<3*M/4&&A.hb<3*U/4,A.Kb=0),1}function nc(v){if(v==null)return 2;if(11>v.S){var A=v.f.RGBA;A.fb+=(v.height-1)*A.A,A.A=-A.A}else A=v.f.kb,v=v.height,A.O+=(v-1)*A.fa,A.fa=-A.fa,A.N+=(v-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(v-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(v-1)*A.lb,A.lb=-A.lb);return 0}function ol(v,A,N,M){if(M==null||0>=v||0>=A)return 2;if(N!=null){if(N.Da){var U=N.cd,$=N.bd,W=-2&N.v,X=-2&N.j;if(0>W||0>X||0>=U||0>=$||W+U>v||X+$>A)return 2;v=U,A=$}if(N.da){if(!le(v,A,U=[N.ib],$=[N.hb]))return 2;v=U[0],A=$[0]}}M.width=v,M.height=A;t:{var J=M.width,it=M.height;if(v=M.S,0>=J||0>=it||!(v>=ir&&13>v))v=2;else{if(0>=M.Rd&&M.sd==null){W=$=U=A=0;var mt=(X=J*$p[v])*it;if(11>v||($=(it+1)/2*(A=(J+1)/2),v==12&&(W=(U=J)*it)),(it=s(mt+2*$+W))==null){v=1;break t}M.sd=it,11>v?((J=M.f.RGBA).eb=it,J.fb=0,J.A=X,J.size=mt):((J=M.f.kb).y=it,J.O=0,J.fa=X,J.Fd=mt,J.f=it,J.N=0+mt,J.Ab=A,J.Cd=$,J.ea=it,J.W=0+mt+$,J.Db=A,J.Ed=$,v==12&&(J.F=it,J.J=0+mt+2*$),J.Tc=W,J.lb=U)}if(A=1,U=M.S,$=M.width,W=M.height,U>=ir&&13>U)if(11>U)v=M.f.RGBA,A&=(X=Math.abs(v.A))*(W-1)+$<=v.size,A&=X>=$*$p[U],A&=v.eb!=null;else{v=M.f.kb,X=($+1)/2,mt=(W+1)/2,J=Math.abs(v.fa),it=Math.abs(v.Ab);var Nt=Math.abs(v.Db),_t=Math.abs(v.lb),xt=_t*(W-1)+$;A&=J*(W-1)+$<=v.Fd,A&=it*(mt-1)+X<=v.Cd,A=(A&=Nt*(mt-1)+X<=v.Ed)&J>=$&it>=X&Nt>=X,A&=v.y!=null,A&=v.f!=null,A&=v.ea!=null,U==12&&(A&=_t>=$,A&=xt<=v.Tc,A&=v.F!=null)}else A=0;v=A?0:2}}return v!=0||N!=null&&N.fd&&(v=nc(M)),v}var yi=64,oo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ll=24,cl=32,ic=8,Nr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(v){return v},I.Predictor2=function(v,A,N){return A[N+0]},I.Predictor3=function(v,A,N){return A[N+1]},I.Predictor4=function(v,A,N){return A[N-1]},I.Predictor5=function(v,A,N){return Yt(Yt(v,A[N+1]),A[N+0])},I.Predictor6=function(v,A,N){return Yt(v,A[N-1])},I.Predictor7=function(v,A,N){return Yt(v,A[N+0])},I.Predictor8=function(v,A,N){return Yt(A[N-1],A[N+0])},I.Predictor9=function(v,A,N){return Yt(A[N+0],A[N+1])},I.Predictor10=function(v,A,N){return Yt(Yt(v,A[N-1]),Yt(A[N+0],A[N+1]))},I.Predictor11=function(v,A,N){var M=A[N+0];return 0>=ke(M>>24&255,v>>24&255,(A=A[N-1])>>24&255)+ke(M>>16&255,v>>16&255,A>>16&255)+ke(M>>8&255,v>>8&255,A>>8&255)+ke(255&M,255&v,255&A)?M:v},I.Predictor12=function(v,A,N){var M=A[N+0];return(ce((v>>24&255)+(M>>24&255)-((A=A[N-1])>>24&255))<<24|ce((v>>16&255)+(M>>16&255)-(A>>16&255))<<16|ce((v>>8&255)+(M>>8&255)-(A>>8&255))<<8|ce((255&v)+(255&M)-(255&A)))>>>0},I.Predictor13=function(v,A,N){var M=A[N-1];return(_e((v=Yt(v,A[N+0]))>>24&255,M>>24&255)<<24|_e(v>>16&255,M>>16&255)<<16|_e(v>>8&255,M>>8&255)<<8|_e(v>>0&255,M>>0&255))>>>0};var Yd=I.PredictorAdd0;I.PredictorAdd1=Se,Qt("Predictor2","PredictorAdd2"),Qt("Predictor3","PredictorAdd3"),Qt("Predictor4","PredictorAdd4"),Qt("Predictor5","PredictorAdd5"),Qt("Predictor6","PredictorAdd6"),Qt("Predictor7","PredictorAdd7"),Qt("Predictor8","PredictorAdd8"),Qt("Predictor9","PredictorAdd9"),Qt("Predictor10","PredictorAdd10"),Qt("Predictor11","PredictorAdd11"),Qt("Predictor12","PredictorAdd12"),Qt("Predictor13","PredictorAdd13");var du=I.PredictorAdd2;Ce("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Ce("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var wh,is=I.ColorIndexInverseTransform,ji=I.MapARGB,lo=I.VP8LColorIndexInverseTransformAlpha,fu=I.MapAlpha,ba=I.VP8LPredictorsAdd=[];ba.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var co,mr,Vi,uo,Rr,Es,$s,_s,Kn,Cs,pi,Lr,ul,Ws,rc,ho,fo,po,hl,sc,go,ya,dl,Qn,Wr,We,Ye,Mn,oi=s(511),rs=s(2041),mo=s(225),vo=s(767),wa=0,xh=rs,fl=mo,Ii=vo,ss=oi,ir=0,ac=1,Ys=2,pu=3,pl=4,xa=5,Ah=6,gu=7,bo=8,Aa=9,oc=10,Sh=[2,3,7],as=[3,3,11],Yr=[280,256,256,256,40],gl=[0,1,1,1,0],Sa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ea=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ml=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Up=8,mu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wi=null,Zn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_a=[],vr=[],Xr=[],Hp=1,lc=2,Ks=[],Fi=[];kt("UpsampleRgbLinePair",Je,3),kt("UpsampleBgrLinePair",qn,3),kt("UpsampleRgbaLinePair",As,4),kt("UpsampleBgraLinePair",Di,4),kt("UpsampleArgbLinePair",ai,4),kt("UpsampleRgba4444LinePair",si,2),kt("UpsampleRgb565LinePair",$n,2);var Ca=I.UpsampleRgbLinePair,wo=I.UpsampleBgrLinePair,Qs=I.UpsampleRgbaLinePair,Eh=I.UpsampleBgraLinePair,_h=I.UpsampleArgbLinePair,cc=I.UpsampleRgba4444LinePair,Ch=I.UpsampleRgb565LinePair,Zs=16,xi=1<<Zs-1,xo=-227,Nh=482,R0=6,Gp=0,L0=s(256),Ai=s(256),Kd=s(256),bu=s(256),yu=s(Nh-xo),Qd=s(Nh-xo);Ss("YuvToRgbRow",Je,3),Ss("YuvToBgrRow",qn,3),Ss("YuvToRgbaRow",As,4),Ss("YuvToBgraRow",Di,4),Ss("YuvToArgbRow",ai,4),Ss("YuvToRgba4444Row",si,2),Ss("YuvToRgb565Row",$n,2);var bl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Na=[0,2,8],T0=[8,7,6,4,4,2,2,2,1,1,1,1],Vp=1;this.WebPDecodeRGBA=function(v,A,N,M,U){var $=ac,W=new Ql,X=new pr;W.ba=X,X.S=$,X.width=[X.width],X.height=[X.height];var J=X.width,it=X.height,mt=new Zi;if(mt==null||v==null)var Nt=2;else t(mt!=null),Nt=ec(v,A,N,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(Nt!=0?J=0:(J!=null&&(J[0]=mt.width[0]),it!=null&&(it[0]=mt.height[0]),J=1),J){X.width=X.width[0],X.height=X.height[0],M!=null&&(M[0]=X.width),U!=null&&(U[0]=X.height);t:{if(M=new Qa,(U=new lu).data=v,U.w=A,U.ha=N,U.kd=1,A=[0],t(U!=null),((v=ec(U.data,U.w,U.ha,null,null,null,A,null,U))==0||v==7)&&A[0]&&(v=4),(A=v)==0){if(t(W!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=Ji,M.ac=ln,M.bc=An,M.ma=W,U.xa){if((v=Gi())==null){W=1;break t}if(function(_t,xt){var zt=[0],Pt=[0],vt=[0];e:for(;;){if(_t==null)return 0;if(xt==null)return _t.a=2,0;if(_t.l=xt,_t.a=0,Z(_t.m,xt.data,xt.w,xt.ha),!ae(_t.m,zt,Pt,vt)){_t.a=3;break e}if(_t.xb=lc,xt.width=zt[0],xt.height=Pt[0],!_n(zt[0],Pt[0],1,_t,null))break e;return 1}return t(_t.a!=0),0}(v,M)){if(M=(A=ol(M.width,M.height,W.Oa,W.ba))==0){e:{M=v;n:for(;;){if(M==null){M=0;break e}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((N=M.l)!=null),t((U=N.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,t(M.ca!=null),!ao(U.Oa,N,pu)){M.a=2;break n}if(!Ka(M,N.width)||N.da)break n;if((N.da||rn(M.ca.S))&&Et(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Et()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!Zt(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!er(M,M.V,M.Ba,M.c,M.i,N.o,Jo))break n;U.Dc=M.Ma,M=1;break e}t(M.a!=0),M=0}M=!M}M&&(A=v.a)}else A=v.a}else{if((v=new Hd)==null){W=1;break t}if(v.Fa=U.na,v.P=U.P,v.qc=U.Sa,Jc(v,M)){if((A=ol(M.width,M.height,W.Oa,W.ba))==0){if(v.Aa=0,N=W.Oa,t((U=v)!=null),N!=null){if(0<(J=0>(J=N.Md)?0:100<J?255:255*J/100)){for(it=mt=0;4>it;++it)12>(Nt=U.pb[it]).lc&&(Nt.ia=J*T0[0>Nt.lc?0:Nt.lc]>>3),mt|=Nt.ia;mt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=N.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}dh(v,M)||(A=v.a)}}else A=v.a}A==0&&W.Oa!=null&&W.Oa.fd&&(A=nc(W.ba))}W=A}$=W!=0?null:11>$?X.f.RGBA.eb:X.f.kb.y}else $=null;return $};var $p=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,tt){for(var ct="",z=0;z<4;z++)ct+=String.fromCharCode(I[tt++]);return ct}function f(I,tt){return(I[tt+0]<<0|I[tt+1]<<8|I[tt+2]<<16)>>>0}function p(I,tt){return(I[tt+0]<<0|I[tt+1]<<8|I[tt+2]<<16|I[tt+3]<<24)>>>0}new u;var m=[0],b=[0],x=[],y=new u,E=i,S=function(I,tt){var ct={},z=0,V=!1,rt=0,nt=0;if(ct.frames=[],!function(G,Q,st,at){for(var ft=0;ft<at;ft++)if(G[Q+ft]!=st.charCodeAt(ft))return!0;return!1}(I,tt,"RIFF",4)){for(p(I,tt+=4),tt+=8;tt<I.length;){var ut=d(I,tt),H=p(I,tt+=4);tt+=4;var et=H+(1&H);switch(ut){case"VP8 ":case"VP8L":ct.frames[z]===void 0&&(ct.frames[z]={}),(Y=ct.frames[z]).src_off=V?nt:tt-8,Y.src_size=rt+H+8,z++,V&&(V=!1,rt=0,nt=0);break;case"VP8X":(Y=ct.header={}).feature_flags=I[tt];var Z=tt+4;Y.canvas_width=1+f(I,Z),Z+=3,Y.canvas_height=1+f(I,Z),Z+=3;break;case"ALPH":V=!0,rt=et+8,nt=tt-8;break;case"ANIM":(Y=ct.header).bgcolor=p(I,tt),Z=tt+4,Y.loop_count=(dt=I)[(D=Z)+0]<<0|dt[D+1]<<8,Z+=2;break;case"ANMF":var gt,Y;(Y=ct.frames[z]={}).offset_x=2*f(I,tt),tt+=3,Y.offset_y=2*f(I,tt),tt+=3,Y.width=1+f(I,tt),tt+=3,Y.height=1+f(I,tt),tt+=3,Y.duration=f(I,tt),tt+=3,gt=I[tt++],Y.dispose=1&gt,Y.blend=gt>>1&1}ut!="ANMF"&&(tt+=et)}var dt,D;return ct}}(E,0);S.response=E,S.rgbaoutput=!0,S.dataurl=!1;var L=S.header?S.header:null,T=S.frames?S.frames:null;if(L){L.loop_counter=L.loop_count,m=[L.canvas_height],b=[L.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var P=T[0],B=y.WebPDecodeRGBA(E,P.src_off,P.src_size,b,m);P.rgba=B,P.imgwidth=b[0],P.imgheight=m[0];for(var j=0;j<b[0]*m[0]*4;j++)x[j]=B[j];return this.width=b,this.height=m,this.data=x,this}(function(i){var t=function(){return typeof Eb=="function"},e=function(m,b,x,y){var E=4,S=o;switch(y){case i.image_compression.FAST:E=1,S=s;break;case i.image_compression.MEDIUM:E=6,S=c;break;case i.image_compression.SLOW:E=9,S=u}m=n(m,b,x,S);var L=Eb(m,{level:E});return i.__addimage__.arrayBufferToBinaryString(L)},n=function(m,b,x,y){for(var E,S,L,T=m.length/b,O=new Uint8Array(m.length+T),P=f(),B=0;B<T;B+=1){if(L=B*b,E=m.subarray(L,L+b),y)O.set(y(E,x,S),L+B);else{for(var j,I=P.length,tt=[];j<I;j+=1)tt[j]=P[j](E,x,S);var ct=p(tt.concat());O.set(tt[ct],L+B)}S=E}return O},r=function(m){var b=Array.apply([],m);return b.unshift(0),b},s=function(m,b){var x,y=[],E=m.length;y[0]=1;for(var S=0;S<E;S+=1)x=m[S-b]||0,y[S+1]=m[S]-x+256&255;return y},o=function(m,b,x){var y,E=[],S=m.length;E[0]=2;for(var L=0;L<S;L+=1)y=x&&x[L]||0,E[L+1]=m[L]-y+256&255;return E},c=function(m,b,x){var y,E,S=[],L=m.length;S[0]=3;for(var T=0;T<L;T+=1)y=m[T-b]||0,E=x&&x[T]||0,S[T+1]=m[T]+256-(y+E>>>1)&255;return S},u=function(m,b,x){var y,E,S,L,T=[],O=m.length;T[0]=4;for(var P=0;P<O;P+=1)y=m[P-b]||0,E=x&&x[P]||0,S=x&&x[P-b]||0,L=d(y,E,S),T[P+1]=m[P]-L+256&255;return T},d=function(m,b,x){if(m===b&&b===x)return m;var y=Math.abs(b-x),E=Math.abs(m-x),S=Math.abs(m+b-x-x);return y<=E&&y<=S?m:E<=S?b:x},f=function(){return[r,s,o,c,u]},p=function(m){var b=m.map(function(x){return x.reduce(function(y,E){return y+Math.abs(E)},0)});return b.indexOf(Math.min.apply(null,b))};i.processPNG=function(m,b,x,y){var E,S,L,T,O,P,B,j,I,tt,ct,z,V,rt,nt,ut=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(L=new lF(m)).imgData,S=L.bits,E=L.colorSpace,O=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){I=(j=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,ct=new Uint8Array(I*L.colors),tt=new Uint8Array(I);var et,Z=L.pixelBitlength-L.bits;for(rt=0,nt=0;rt<I;rt++){for(V=j[rt],et=0;et<Z;)ct[nt++]=V>>>et&255,et+=L.bits;tt[rt]=V>>>et&255}}if(L.bits===16){I=(j=new Uint32Array(L.decodePixels().buffer)).length,ct=new Uint8Array(I*(32/L.pixelBitlength)*L.colors),tt=new Uint8Array(I*(32/L.pixelBitlength)),z=L.colors>1,rt=0,nt=0;for(var gt=0;rt<I;)V=j[rt++],ct[nt++]=V>>>0&255,z&&(ct[nt++]=V>>>16&255,V=j[rt++],ct[nt++]=V>>>0&255),tt[gt++]=V>>>16&255;S=8}y!==i.image_compression.NONE&&t()?(m=e(ct,L.width*L.colors,L.colors,y),B=e(tt,L.width,1,y)):(m=ct,B=tt,ut=void 0)}if(L.colorType===3&&(E=this.color_spaces.INDEXED,P=L.palette,L.transparency.indexed)){var Y=L.transparency.indexed,dt=0;for(rt=0,I=Y.length;rt<I;++rt)dt+=Y[rt];if((dt/=255)===I-1&&Y.indexOf(0)!==-1)T=[Y.indexOf(0)];else if(dt!==I){for(j=L.decodePixels(),tt=new Uint8Array(j.length),rt=0,I=j.length;rt<I;rt++)tt[rt]=Y[j[rt]];B=e(tt,L.width,1)}}var D=function(G){var Q;switch(G){case i.image_compression.FAST:Q=11;break;case i.image_compression.MEDIUM:Q=13;break;case i.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(y);return ut===this.decode.FLATE_DECODE&&(H="/Predictor "+D+" "),H+="/Colors "+O+" /BitsPerComponent "+S+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:x,data:m,index:b,filter:ut,decodeParameters:H,transparency:T,palette:P,sMask:B,predictor:D,width:L.width,height:L.height,bitsPerComponent:S,colorSpace:E}}}})(Le.API),function(i){i.processGIF89A=function(t,e,n,r){var s=new cF(t),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:c},f=new Cv(100).encode(d,100);return i.processJPEG.call(this,f,e,n,r)},i.processGIF87A=i.processGIF89A}(Le.API),ja.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ja.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Bn.log("bit decode error:"+e)}},ja.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},ja.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*r+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ja.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},ja.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,d=s>>15?255:0,f=n*this.width*4+4*r;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=d}this.pos+=i}},ja.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,d=(o>>11)/t*255|0,f=r*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=i}},ja.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ja.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=r,this.data[c+2]=n,this.data[c+3]=o}},ja.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var s=new ja(t,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new Cv(100).encode(u,100);return i.processJPEG.call(this,d,e,n,r)}}(Le.API),PA.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var s=new PA(t),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new Cv(100).encode(u,100);return i.processJPEG.call(this,d,e,n,r)}}(Le.API),Le.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,d=0;d<r;d+=4){var f=n[d],p=n[d+1],m=n[d+2],b=n[d+3];s[c++]=f,s[c++]=p,s[c++]=m,o[u++]=b}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Le.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ed=Le.API,lm=ed.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,d=t.kerning?t.kerning:r.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,m=0,b=i.length,x=0,y=c[0]||u,E=[];for(e=0;e<b;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(m=p&&Ln(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/f:0,E.push((c[n]||y)/u+m)),x=n;return E},RA=ed.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return ed.processArabic&&(i=ed.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:lm.apply(this,arguments).reduce(function(s,o){return s+o},0)},LA=function(i,t,e,n){for(var r=[],s=0,o=i.length,c=0;s!==o&&c+t[s]<e;)c+=t[s],s++;r.push(i.slice(0,s));var u=s;for(c=0;s!==o;)c+t[s]>n&&(r.push(i.slice(u,s)),c=0,u=s),c+=t[s],s++;return u!==s&&r.push(i.slice(u,s)),r},TA=function(i,t,e){e||(e={});var n,r,s,o,c,u,d,f=[],p=[f],m=e.textIndent||0,b=0,x=0,y=i.split(" "),E=lm.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?y[0].length+2:e.lineIndent||0){var S=Array(u).join(" "),L=[];y.map(function(O){(O=O.split(/\s*\n/)).length>1?L=L.concat(O.map(function(P,B){return(B&&P.length?`
`:"")+P})):L.push(O[0])}),y=L,u=RA.apply(this,[S,e])}for(s=0,o=y.length;s<o;s++){var T=0;if(n=y[s],u&&n[0]==`
`&&(n=n.substr(1),T=1),m+b+(x=(r=lm.apply(this,[n,e])).reduce(function(O,P){return O+P},0))>t||T){if(x>t){for(c=LA.apply(this,[n,r,t-(m+b),t]),f.push(c.shift()),f=[c.pop()];c.length;)p.push([c.shift()]);x=r.slice(n.length-(f[0]?f[0].length:0)).reduce(function(O,P){return O+P},0)}else f=[n];p.push(f),m=x+u,b=E}else f.push(n),m+=b+x,b=E}return d=u?function(O,P){return(P?S:"")+O.join(" ")}:function(O){return O.join(" ")},p.map(d)},ed.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var c,u,d=[];for(c=0,u=n.length;c<u;c++)d=d.concat(TA.apply(this,[n[c],o,s]));return d},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=t[r];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=i.__fontmetrics__.compress=function(p){var m,b,x,y,E=["{"];for(var S in p){if(m=p[S],isNaN(parseInt(S,10))?b="'"+S+"'":(S=parseInt(S,10),b=(b=s(S).slice(2)).slice(0,-1)+n[b.slice(-1)]),typeof m=="number")m<0?(x=s(m).slice(3),y="-"):(x=s(m).slice(2),y=""),x=y+x.slice(0,-1)+n[x.slice(-1)];else{if(Ln(m)!=="object")throw new Error("Don't know what to do with value type "+Ln(m)+".");x=o(m)}E.push(b+x)}return E.push("}"),E.join("")},c=i.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,x,y,E={},S=1,L=E,T=[],O="",P="",B=p.length-1,j=1;j<B;j+=1)(y=p[j])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(T.push([L,x]),L={},x=void 0):y=="}"?((b=T.pop())[0][b[1]]=L,x=void 0,L=b[0]):y=="-"?S=-1:x===void 0?e.hasOwnProperty(y)?(O+=e[y],x=parseInt(O,16)*S,S=1,O=""):O+=y:e.hasOwnProperty(y)?(P+=e[y],L[x]=parseInt(P,16)*S,S=1,x=void 0,P=""):P+=y;return E},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(p){var m=p.font,b=f.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var x=d.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(Le.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=e.charCodeAt(s);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(ep(c)),o.metadata=i.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,n)}}])}(Le),function(i){function t(){return(Me.canvg?Promise.resolve(Me.canvg):yb(()=>import("./index.es-RJabCK6X.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Le.API.addSvgAsImage=function(e,n,r,s,o,c,u,d){if(isNaN(n)||isNaN(r))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(x){return x.fromString(p,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),n,r,s,o,u,d)})}}(),Le.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},Le.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],d=0,f=0,p=0;function m(x,y){var E,S=!1;for(E=0;E<x.length;E+=1)x[E]===y&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var b=c.length;for(p=0;p<b;p+=1)e[c[p]].value=e[c[p]].defaultValue,e[c[p]].explicitSet=!1}if(Ln(i)==="object"){for(r in i)if(s=i[r],m(c,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&m(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}e[r].value="["+u.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in e)e[x].explicitSet===!0&&(e[x].type==="name"?y.push("/"+x+" /"+e[x].value):y.push("/"+x+" "+e[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Le.API),function(i){var t=i.API,e=t.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,m=s.length;p<m;++p){if(c=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(p),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},n=function(s){var o,c,u,d,f,p,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,m=(c=Object.keys(s).sort(function(b,x){return b-x})).length;p<m;p++)o=c[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,m=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",x=0;x<m.length;x++)b+=String.fromCharCode(m[x]);var y=d();f({data:b,addLength1:!0,objectId:y}),u("endobj");var E=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var S=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+sd(c.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var L=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+sd(c.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+i.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+E+" 0 R"),u("/BaseFont /"+sd(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,m="",b=0;b<p.length;b++)m+=String.fromCharCode(p[b]);var x=d();f({data:m,addLength1:!0,objectId:x}),u("endobj");var y=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var E=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+sd(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+sd(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,c=s.text||"",u=s.x,d=s.y,f=s.options||{},p=s.mutex||{},m=p.pdfEscape,b=p.activeFontKey,x=p.fonts,y=b,E="",S=0,L="",T=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:p};for(L=c,y=b,Array.isArray(c)&&(L=c[0]),S=0;S<L.length;S+=1)x[y].metadata.hasOwnProperty("cmap")&&(o=x[y].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),o||L[S].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?E+=L[S]:E+="";var O="";return parseInt(y.slice(1))<14||T==="WinAnsiEncoding"?O=m(E,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(O=e(E,x[y])),p.isHex=!0,{text:O,x:u,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?c.push([r(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):c.push(r(Object.assign({},u,{text:o[d]})).text);s.text=c}else s.text=r(Object.assign({},u,{text:o})).text}])}(Le),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Le.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,o,c,u,d,f,p=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,T=0;this.__bidiEngine__={};var O=function(z){var V=z.charCodeAt(),rt=V>>8,nt=y[rt];return nt!==void 0?p[256*nt+(255&V)]:rt===252||rt===253?"AL":S.test(rt)?"L":rt===8?"R":"N"},P=function(z){for(var V,rt=0;rt<z.length;rt++){if((V=O(z.charAt(rt)))==="L")return!1;if(V==="R")return!0}return!1},B=function(z,V,rt,nt){var ut,H,et,Z,gt=V[nt];switch(gt){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(gt="AN");break;case"AL":L=!0,gt="R";break;case"WS":gt="N";break;case"CS":nt<1||nt+1>=V.length||(ut=rt[nt-1])!=="EN"&&ut!=="AN"||(H=V[nt+1])!=="EN"&&H!=="AN"?gt="N":L&&(H="AN"),gt=H===ut?H:"N";break;case"ES":gt=(ut=nt>0?rt[nt-1]:"B")==="EN"&&nt+1<V.length&&V[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&rt[nt-1]==="EN"){gt="EN";break}if(L){gt="N";break}for(et=nt+1,Z=V.length;et<Z&&V[et]==="ET";)et++;gt=et<Z&&V[et]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(Z=V.length,et=nt+1;et<Z&&V[et]==="NSM";)et++;if(et<Z){var Y=z[nt],dt=Y>=1425&&Y<=2303||Y===64286;if(ut=V[et],dt&&(ut==="R"||ut==="AL")){gt="R";break}}}gt=nt<1||(ut=V[nt-1])==="B"?"N":rt[nt-1];break;case"B":L=!1,r=!0,gt=T;break;case"S":s=!0,gt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":gt="N"}return gt},j=function(z,V,rt){var nt=z.split("");return rt&&I(nt,rt,{hiLevel:T}),nt.reverse(),V&&V.reverse(),nt.join("")},I=function(z,V,rt){var nt,ut,H,et,Z,gt=-1,Y=z.length,dt=0,D=[],G=T?b:m,Q=[];for(L=!1,r=!1,s=!1,ut=0;ut<Y;ut++)Q[ut]=O(z[ut]);for(H=0;H<Y;H++){if(Z=dt,D[H]=B(z,Q,D,H),nt=240&(dt=G[Z][x[D[H]]]),dt&=15,V[H]=et=G[dt][5],nt>0)if(nt===16){for(ut=gt;ut<H;ut++)V[ut]=1;gt=-1}else gt=-1;if(G[dt][6])gt===-1&&(gt=H);else if(gt>-1){for(ut=gt;ut<H;ut++)V[ut]=et;gt=-1}Q[H]==="B"&&(V[H]=0),rt.hiLevel|=et}s&&function(st,at,ft){for(var wt=0;wt<ft;wt++)if(st[wt]==="S"){at[wt]=T;for(var St=wt-1;St>=0&&st[St]==="WS";St--)at[St]=T}}(Q,V,Y)},tt=function(z,V,rt,nt,ut){if(!(ut.hiLevel<z)){if(z===1&&T===1&&!r)return V.reverse(),void(rt&&rt.reverse());for(var H,et,Z,gt,Y=V.length,dt=0;dt<Y;){if(nt[dt]>=z){for(Z=dt+1;Z<Y&&nt[Z]>=z;)Z++;for(gt=dt,et=Z-1;gt<et;gt++,et--)H=V[gt],V[gt]=V[et],V[et]=H,rt&&(H=rt[gt],rt[gt]=rt[et],rt[et]=H);dt=Z}dt++}}},ct=function(z,V,rt){var nt=z.split(""),ut={hiLevel:T};return rt||(rt=[]),I(nt,rt,ut),function(H,et,Z){if(Z.hiLevel!==0&&f)for(var gt,Y=0;Y<H.length;Y++)et[Y]===1&&(gt=E.indexOf(H[Y]))>=0&&(H[Y]=E[gt+1])}(nt,rt,ut),tt(2,nt,V,rt,ut),tt(1,nt,V,rt,ut),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(z,V,rt){if(function(ut,H){if(H)for(var et=0;et<ut.length;et++)H[et]=et;c===void 0&&(c=P(ut)),d===void 0&&(d=P(ut))}(z,V),o||!u||d)if(o&&u&&c^d)T=c?1:0,z=j(z,V,rt);else if(!o&&u&&d)T=c?1:0,z=ct(z,V,rt),z=j(z,V);else if(!o||c||u||d){if(o&&!u&&c^d)z=j(z,V),c?(T=0,z=ct(z,V,rt)):(T=1,z=ct(z,V,rt),z=j(z,V));else if(o&&c&&!u&&d)T=1,z=ct(z,V,rt),z=j(z,V);else if(!o&&!u&&c^d){var nt=f;c?(T=1,z=ct(z,V,rt),T=0,f=!1,z=ct(z,V,rt),f=nt):(T=0,z=ct(z,V,rt),z=j(z,V),T=1,f=!1,z=ct(z,V,rt),f=nt,z=j(z,V))}}else T=0,z=ct(z,V,rt);else T=c?1:0,z=ct(z,V,rt);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,u=z.isOutputVisual,c=z.isInputRtl,d=z.isOutputRtl,f=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([e.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([e.doBidiReorder(r[c])]);n.text=o}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Le),Le.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Wc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new EF(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new uF(this.contents),this.head=new dF(this),this.name=new vF(this),this.cmap=new TC(this),this.toUnicode={},this.hhea=new fF(this),this.maxp=new bF(this),this.hmtx=new yF(this),this.post=new gF(this),this.os2=new pF(this),this.loca=new SF(this),this.glyf=new wF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,d;for(d=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var Xa,Wc=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,s,o,c,u;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*s+65536*o+256*c+u},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;n<r;n++)e=t[n],s.push(this.writeByte(e));return s},i}(),uF=function(){var i;function t(e){var n,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,s,o,c,u,d,f,p,m,b,x,y;for(y in b=Object.keys(e).length,u=Math.log(2),p=16*Math.floor(Math.log(b)/u),o=Math.floor(p/u),f=16*b-p,(r=new Wc).writeInt(this.scalarType),r.writeShort(b),r.writeShort(p),r.writeShort(o),r.writeShort(f),s=16*b,d=r.pos+s,c=null,x=[],e)for(m=e[y],r.writeString(y),r.writeInt(i(m)),r.writeInt(d),r.writeInt(m.length),x=x.concat(m),y==="head"&&(c=d),d+=m.length;d%4;)x.push(0),d++;return r.write(x),n=2981146554-i(r.data),r.pos=c+8,r.writeUInt32(n),r.data},i=function(e){var n,r,s,o;for(e=MC.call(e);e.length%4;)e.push(0);for(s=new Wc(e),r=0,n=0,o=e.length;n<o;n=n+=4)r+=s.readUInt32();return 4294967295&r},t}(),hF={}.hasOwnProperty,Zo=function(i,t){for(var e in t)hF.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};Xa=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var dF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Wc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),OA=function(){function i(t,e){var n,r,s,o,c,u,d,f,p,m,b,x,y,E,S,L,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(b=t.readUInt16(),m=b/2,t.pos+=6,s=function(){var O,P;for(P=[],u=O=0;0<=m?O<m:O>m;u=0<=m?++O:--O)P.push(t.readUInt16());return P}(),t.pos+=2,y=function(){var O,P;for(P=[],u=O=0;0<=m?O<m:O>m;u=0<=m?++O:--O)P.push(t.readUInt16());return P}(),d=function(){var O,P;for(P=[],u=O=0;0<=m?O<m:O>m;u=0<=m?++O:--O)P.push(t.readUInt16());return P}(),f=function(){var O,P;for(P=[],u=O=0;0<=m?O<m:O>m;u=0<=m?++O:--O)P.push(t.readUInt16());return P}(),r=(this.length-t.pos+this.offset)/2,c=function(){var O,P;for(P=[],u=O=0;0<=r?O<r:O>r;u=0<=r?++O:--O)P.push(t.readUInt16());return P}(),u=S=0,T=s.length;S<T;u=++S)for(E=s[u],n=L=x=y[u];x<=E?L<=E:L>=E;n=x<=E?++L:--L)f[u]===0?o=n+d[u]:(o=c[f[u]/2+(n-x)-(m-u)]||0)!==0&&(o+=d[u]),this.codeMap[n]=65535&o}t.pos=p}return i.encode=function(t,e){var n,r,s,o,c,u,d,f,p,m,b,x,y,E,S,L,T,O,P,B,j,I,tt,ct,z,V,rt,nt,ut,H,et,Z,gt,Y,dt,D,G,Q,st,at,ft,wt,St,Dt,Ut,Wt;switch(nt=new Wc,o=Object.keys(t).sort(function(Vt,Zt){return Vt-Zt}),e){case"macroman":for(y=0,E=function(){var Vt=[];for(x=0;x<256;++x)Vt.push(0);return Vt}(),L={0:0},s={},ut=0,gt=o.length;ut<gt;ut++)L[St=t[r=o[ut]]]==null&&(L[St]=++y),s[r]={old:t[r],new:L[t[r]]},E[r]=L[t[r]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(E),{charMap:s,subtable:nt.data,maxGlyphID:y+1};case"unicode":for(V=[],p=[],T=0,L={},n={},S=d=null,H=0,Y=o.length;H<Y;H++)L[P=t[r=o[H]]]==null&&(L[P]=++T),n[r]={old:P,new:L[P]},c=L[P]-r,S!=null&&c===d||(S&&p.push(S),V.push(r),d=c),S=r;for(S&&p.push(S),p.push(65535),V.push(65535),ct=2*(tt=V.length),I=2*Math.pow(Math.log(tt)/Math.LN2,2),m=Math.log(I/2)/Math.LN2,j=2*tt-I,u=[],B=[],b=[],x=et=0,dt=V.length;et<dt;x=++et){if(z=V[x],f=p[x],z===65535){u.push(0),B.push(0);break}if(z-(rt=n[z].new)>=32768)for(u.push(0),B.push(2*(b.length+tt-x)),r=Z=z;z<=f?Z<=f:Z>=f;r=z<=f?++Z:--Z)b.push(n[r].new);else u.push(rt-z),B.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*tt+2*b.length),nt.writeUInt16(0),nt.writeUInt16(ct),nt.writeUInt16(I),nt.writeUInt16(m),nt.writeUInt16(j),ft=0,D=p.length;ft<D;ft++)r=p[ft],nt.writeUInt16(r);for(nt.writeUInt16(0),wt=0,G=V.length;wt<G;wt++)r=V[wt],nt.writeUInt16(r);for(Dt=0,Q=u.length;Dt<Q;Dt++)c=u[Dt],nt.writeUInt16(c);for(Ut=0,st=B.length;Ut<st;Ut++)O=B[Ut],nt.writeUInt16(O);for(Wt=0,at=b.length;Wt<at;Wt++)y=b[Wt],nt.writeUInt16(y);return{charMap:n,subtable:nt.data,maxGlyphID:T+1}}},i}(),TC=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new OA(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=OA.encode(e,n),(s=new Wc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),fF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),pF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),gF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(e.readUInt32());return d}).call(this)}},t}(),mF=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},vF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,o,c,u,d,f,p,m,b;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=p=0,m=r.length;p<m;o=++p)s=r[o],e.pos=s.offset,f=e.readString(s.length),c=new mF(f,s),d[b=s.nameID]==null&&(d[b]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),bF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),yF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,o,c,u,d;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)p.push(e.readInt16());return p}(),this.widths=(function(){var f,p,m,b;for(b=[],f=0,p=(m=this.metrics).length;f<p;f++)o=m[f],b.push(o.advance);return b}).call(this),r=this.widths[this.widths.length-1],d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(this.widths.push(r));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),MC=[].slice,wF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,o,c,u,d,f,p,m;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,c=(u=new Wc(n.read(s))).readShort(),f=u.readShort(),m=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[e]=c===-1?new AF(u,f,m,d,p):new xF(u,c,f,m,d,p),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,o,c,u,d;for(c=[],o=[],u=0,d=n.length;u<d;u++)s=e[n[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),xF=function(){function i(t,e,n,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),AF=function(){function i(t,e,n,r,s){var o,c;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new Wc(MC.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),SF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Zo(t,Xa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<n.length&&n[o]==c){++o,r[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},t}(),EF=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,s,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(n=r[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))n=u[s],r[s]=n;return r},i.prototype.encode=function(t,e){var n,r,s,o,c,u,d,f,p,m,b,x,y,E,S;for(r in n=TC.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),b={0:0},S=n.charMap)b[(u=S[r]).old]=u.new;for(x in m=n.maxGlyphID,o)x in b||(b[x]=m++);return f=function(L){var T,O;for(T in O={},L)O[L[T]]=T;return O}(b),p=Object.keys(f).sort(function(L,T){return L-T}),y=function(){var L,T,O;for(O=[],L=0,T=p.length;L<T;L++)c=p[L],O.push(f[c]);return O}(),s=this.font.glyf.encode(o,y,b),d=this.font.loca.encode(s.offsets,y),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},i}();Le.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,s,o;if(Array.isArray(e))return"["+function(){var c,u,d;for(d=[],c=0,u=e.length;c<u;c++)n=e[c],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();Wo.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${qy}/pdf.worker.js`;const kA=()=>{const[i,t]=k.useState(null),[e,n]=k.useState([]),[r,s]=k.useState(null),[o,c]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(""),m=k.useRef(null),b=k.useRef(null),x=k.useCallback(()=>{const T=b.current.getScreenshot();T&&(n(O=>[...O,T]),d(!1))},[]),y=T=>{const O=T.target.files[0];if(!O)return;const P=O.type;if(P.startsWith("image/")){const B=new FileReader;B.onload=()=>{t(B.result),s(null)},B.readAsDataURL(O)}else P==="application/pdf"&&(s(O),t(null),p(O.name))},E=async()=>{if(!o)return alert("Enter Patient MRN");const T=m.current?.cropper;if(!T)return;const O=T.getCroppedCanvas(),P=await new Promise(I=>O.toBlob(I,"image/jpeg")),B=new File([P],"cropped-image.jpg",{type:"image/jpeg"});console.log(B);const j=new FormData;j.append("file",B),j.append("patientMRN",o),j.append("employeeId","12345"),console.log(P);try{await di.post("/clerk/uploadDoc",j),alert("Image uploaded successfully!"),t(null)}catch(I){console.error(I),alert("Upload failed")}},S=async()=>{if(!o||!r)return alert("Missing Patient MRN or PDF");const T=new FormData;T.append("file",r),T.append("patientMRN",o),T.append("employeeId","1234");try{const O=await di.post("/clerk/uploadDoc",T);alert("PDF uploaded successfully!"),s(null),p("")}catch(O){console.error(O),alert("Upload failed")}},L=async()=>{if(!o||e.length===0)return alert("Add MRN and capture images");const T=new Le;for(let j=0;j<e.length;j++)j!==0&&T.addPage(),T.addImage(e[j],"JPEG",10,10,190,270);const O=T.output("blob"),P=new File([O],"scanned-document.pdf",{type:"application/pdf"}),B=new FormData;B.append("file",P),B.append("scannerClerk","687903b74d2933e28308743f"),B.append("patientMRN",o),B.append("employeeId","1234");try{await di.post("/clerk/uploadDoc",B),alert("Scanned PDF uploaded successfully!"),n([])}catch(j){console.error(j),alert("Upload failed")}};return R.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[R.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Document Scanner"}),R.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Enter Patient MRN"}),R.jsx("input",{type:"text",value:o,onChange:T=>c(T.target.value),className:"w-full mb-4 px-3 py-2 border rounded-md text-sm",placeholder:"e.g., MRN123456"}),R.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:y,className:`mb-4 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4\r
                   file:rounded-full file:border-0 file:text-sm file:font-semibold\r
                   file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`}),R.jsx("button",{onClick:()=>d(!0),className:"mb-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",children:"Open Camera"}),u&&R.jsxs("div",{className:"mb-4",children:[R.jsx(s8,{audio:!1,ref:b,screenshotFormat:"image/jpeg",className:"w-full rounded-md",videoConstraints:{facingMode:"environment"}}),R.jsx("button",{onClick:x,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Capture Image"})]}),e.length>0&&R.jsxs("div",{className:"mb-4",children:[R.jsx("h2",{className:"text-lg font-medium mb-2",children:"Captured Images"}),R.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((T,O)=>R.jsxs("div",{className:"relative",children:[R.jsx("img",{src:T,alt:`Captured ${O}`,className:"w-full rounded shadow"}),R.jsx("button",{onClick:()=>{const P=[...e];P.splice(O,1),n(P)},className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded hover:bg-red-700",children:"Delete"})]},O))}),R.jsx("button",{onClick:L,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload All as PDF"}),R.jsx("button",{onClick:()=>n([]),className:"mt-2 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition ml-2",children:"Clear Captured Images"})]}),i&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"w-full h-[60vh] mb-4",children:R.jsx(Q8,{src:i,ref:m,style:{height:"100%",width:"100%"},aspectRatio:NaN,guides:!0,viewMode:1,dragMode:"move",autoCropArea:1,background:!1})}),R.jsx("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload Cropped Image"})]}),r&&R.jsxs("div",{className:"mt-4",children:[R.jsxs("p",{className:"text-sm mb-2 text-gray-600",children:["PDF selected: ",f]}),R.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Upload PDF"})]})]})},_F=()=>di.get("/clerk/clerkDocs"),CF=i=>di.get("/clerk/deleteDoc/"+i);Wo.workerSrc=new URL("/assets/pdf.worker.min-BFAMBS4k.mjs",import.meta.url).toString();const NF=({file:i})=>{const[t,e]=k.useState(null),[n,r]=k.useState(0);k.useEffect(()=>{const o=()=>{const c=document.getElementById("pdf-container");c&&r(c.offsetWidth-40)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s=({numPages:o})=>{e(o)};return R.jsx("div",{id:"pdf-container",className:"w-full max-w-4xl mx-auto p-4 overflow-y-auto max-h-[85vh] bg-white rounded-lg",children:i?R.jsx(Xy,{file:i,onLoadSuccess:s,className:"flex flex-col items-center",children:Array.from(new Array(t||0),(o,c)=>R.jsx("div",{className:"mb-4 shadow-lg",children:R.jsx(Ky,{pageNumber:c+1,width:n,renderTextLayer:!1,renderAnnotationLayer:!1,className:"border rounded"})},c))}):R.jsx("p",{className:"text-center text-gray-500",children:"No PDF file provided"})})},PC=({filePath:i})=>{const t=i?.toLowerCase().endsWith(".pdf");return R.jsx("div",{className:"w-[60vw] h-[90vh] flex justify-center items-center",children:t?R.jsx(NF,{file:i}):R.jsx("img",{src:i,alt:"Preview",className:"max-w-full max-h-[80vh] object-contain"})})};Wo.workerSrc=new URL("/assets/pdf.worker.min-BFAMBS4k.mjs",import.meta.url).toString();const t2=({document:i,deleteButton:t,onDelete:e})=>{const{fileName:n,filePath:r,patientMRN:s,status:o,scannedAt:c}=i,[u,d]=Kt.useState(!1),f=r?.toLowerCase().endsWith(".pdf"),p=m=>{m.target===m.currentTarget&&d(!1)};return k.useEffect(()=>{const m=b=>{b.key==="Escape"&&d(!1)};return u&&window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[u]),R.jsxs(by,{className:"w-full max-w-md relative",children:[R.jsx(yy,{children:R.jsxs(wy,{className:"flex items-center gap-2",children:[R.jsx(ZS,{className:"h-5 w-5 text-blue-500"}),n]})}),R.jsxs(xy,{children:[R.jsxs("div",{className:"space-y-2",children:[f?R.jsx("div",{className:"w-full h-48 overflow-hidden rounded mb-2",children:R.jsx(Xy,{file:Vo(r),children:R.jsx(Ky,{pageNumber:1,width:300,renderTextLayer:!1,renderAnnotationLayer:!1,className:"w-full h-full object-cover"})})}):R.jsx("img",{src:Vo(r),alt:n,className:"w-full h-48 object-cover rounded mb-2"}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",s]}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Status:"})," ",o]}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Scanned At:"})," ",new Date(c).toLocaleString()]})]}),R.jsx("div",{className:"mt-4",children:R.jsx(xn,{variant:"outline",className:"w-full",onClick:()=>d(!0),children:"Preview Document"})}),u&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:p,children:R.jsx("div",{className:"relative flex justify-center items-center max-w-[60vw] max-h-[90vh] overflow-auto",children:R.jsx(PC,{filePath:Vo(r)})})})]}),t&&R.jsx(xn,{variant:"destructive",size:"icon",onClick:e,title:"Delete Document",className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700",children:R.jsx(TM,{className:"h-4 w-4"})})]})},RF=()=>{const i=bp(),{showError:t,showSuccess:e}=Xc(),[n,r]=k.useState(!1),[s,o]=k.useState(null),{data:c,isLoading:u}=yp({queryKey:["scanned-docs"],queryFn:_F}),d=Bs({mutationFn:CF,onSuccess:()=>{i.invalidateQueries(["scanned-docs"]),e("Document deleted successfully"),r(!1),o(null)},onError:m=>{console.error("Error deleting document:",m),t(m,"Failed to delete document")}}),f=m=>{o(m),r(!0)},p=()=>{s&&d.mutate(s)};return u?R.jsx("div",{children:"Loading..."}):(console.log(c),R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"My Scanned Documents"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c?.data?.data?.map(m=>R.jsx(t2,{document:m,deleteButton:m.status==="draft",onDelete:()=>f(m._id)},m._id))}),R.jsx(Cp,{open:n,onOpenChange:r,children:R.jsxs(Np,{className:"sm:max-w-md",children:[R.jsx(Rp,{children:R.jsx(Lp,{children:"Confirm Document Deletion"})}),R.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this document? This action cannot be undone."}),R.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[R.jsx(xn,{variant:"outline",onClick:()=>r(!1),disabled:d.isLoading,children:"Cancel"}),R.jsx(xn,{variant:"destructive",onClick:p,disabled:d.isLoading,children:d.isLoading?"Deleting...":"Delete"})]})]})})]}))},LF=[{title:"Review Documents",url:"/approver/review",icon:JS},{title:"Approved Documents",url:"/approver/approved",icon:Vv},{title:"Rejected Documents",url:"/approver/rejected",icon:Vv}];function TF(){return R.jsx(Y_,{className:"mt-16",children:R.jsx(K_,{children:R.jsx(Q_,{children:R.jsx(Z_,{children:R.jsx(J_,{children:LF.map(i=>R.jsx(t3,{children:R.jsx(e3,{asChild:!0,children:R.jsxs("a",{href:i.url,children:[R.jsx(i.icon,{}),R.jsx("span",{children:i.title})]})})},i.title))})})})})})}const MF=()=>R.jsx("div",{children:R.jsxs(W_,{children:[R.jsx(TF,{}),R.jsx(X_,{}),R.jsx(TS,{})]})}),PF=()=>R.jsx(py,{roles:["Approver"],children:R.jsx(MF,{})}),OF=()=>di.get("/approver/scannedDocs"),kF=()=>di.get("/approver/approvedDocs"),DF=()=>di.get("/approver/rejectedDocs"),jF=i=>di.post(`/approver/approve/${i}`),IF=(i,t)=>di.post(`/approver/reject/${i}`,t),FF=({document:i})=>{const{fileName:t,filePath:e,patientMRN:n,status:r,scannedAt:s}=i,[o,c]=k.useState(!1),[u,d]=k.useState(""),f=bp(),[p,m]=Kt.useState(!1),b=e?.toLowerCase().endsWith(".pdf"),x=T=>{T.target===T.currentTarget&&m(!1)};k.useEffect(()=>{const T=O=>{O.key==="Escape"&&m(!1)};return p&&window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[p]);const y=Bs({mutationFn:()=>jF(i._id),onSuccess:()=>{showSuccess(`${i.fileName} approved successfully.`),refetch()},onError:T=>{showError(T,"Failed to approve document")}}),E=Bs({mutationFn:()=>IF(i._id,u),onSuccess:()=>{showSuccess(`${i.fileName} rejected successfully.`),c(!1),d(""),f.invalidateQueries(["approver-scanned-docs"])},onError:T=>showError(T,"Failed to reject document")}),S=()=>{y.mutate()},L=()=>{if(!u.trim()){showError("Please provide a reason for rejection");return}E.mutate()};return R.jsx(R.Fragment,{children:R.jsxs(by,{className:"w-full max-w-md",children:[R.jsx(yy,{children:R.jsxs(wy,{className:"flex items-center gap-2",children:[R.jsx(ZS,{className:"h-5 w-5 text-blue-500"}),t]})}),R.jsxs(xy,{children:[R.jsxs("div",{className:"space-y-2",children:[b?R.jsx("div",{className:"w-full h-48 overflow-hidden rounded mb-2",children:R.jsx(Xy,{file:Vo(e),children:R.jsx(Ky,{pageNumber:1,width:300,renderTextLayer:!1,renderAnnotationLayer:!1,className:"w-full h-full object-cover"})})}):R.jsx("img",{src:Vo(e),alt:t,className:"w-full h-48 object-cover rounded mb-2"}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Patient MRN:"})," ",n]}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Status:"})," ",r]}),R.jsxs("p",{className:"text-sm text-gray-600",children:[R.jsx("span",{className:"font-medium",children:"Scanned At:"})," ",new Date(s).toLocaleString()]}),R.jsx(xn,{variant:"outline",className:"w-full mt-4",onClick:()=>m(!0),children:"Preview Document"}),p&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:x,children:R.jsx("div",{className:"relative flex justify-center items-center max-w-[60vw] max-h-[90vh] overflow-auto",children:R.jsx(PC,{filePath:Vo(e)})})}),R.jsxs("div",{className:"flex gap-2 mt-4",children:[R.jsx(xn,{onClick:S,disabled:y.isLoading||E.isLoading,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"}),R.jsx(xn,{onClick:()=>c(!0),disabled:y.isLoading||E.isLoading,variant:"destructive",className:"flex-1",children:"Reject"})]})]}),R.jsx(Cp,{open:o,onOpenChange:c,children:R.jsxs(Np,{children:[R.jsx(Rp,{children:R.jsxs(Lp,{children:["Reject Document: ",t]})}),R.jsx("div",{className:"py-4",children:R.jsx(Yb,{value:u,onChange:T=>d(T.target.value),placeholder:"Enter reason for rejection",className:"w-full"})}),R.jsxs(nD,{children:[R.jsx(xn,{variant:"ghost",onClick:()=>c(!1),disabled:E.isLoading,children:"Cancel"}),R.jsx(xn,{variant:"ghost",onClick:L,disabled:E.isLoading,children:"Submit Rejection"})]})]})})]})]})})},DA=()=>{const{data:i,isLoading:t}=yp({queryKey:["approver-scanned-docs"],queryFn:OF});return R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Scanned Documents to Review"}),R.jsx("div",{className:"flex gap-4 flex-wrap justify-center",children:i?.data?.data?.map(e=>R.jsx(FF,{document:e},e._id))})]})},BF=()=>{const{data:i,isPending:t,isError:e}=yp({queryKey:["approver-rejected-docs"],queryFn:DF});return R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Rejected Documents"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i?.data?.data?.map(n=>R.jsx(t2,{document:n},n._id))})]})},zF=()=>{const{data:i,isPending:t,isError:e}=yp({queryKey:["approver-approved-docs"],queryFn:kF});return R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Approved Documents"}),R.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:i?.data?.data?.map(n=>R.jsx(t2,{document:n},n._id))})]})},UF=()=>R.jsxs(NT,{children:[R.jsx(Dk,{}),R.jsxs(rT,{children:[R.jsx(or,{path:"/",element:R.jsx(Ik,{})}),R.jsx(or,{path:"/login",element:R.jsx(eM,{})}),R.jsx(or,{path:"/register",element:R.jsx(iM,{})}),R.jsx(or,{path:"/admin",element:R.jsx(aD,{})}),R.jsx(or,{path:"/reset-password",element:R.jsx(sM,{})}),R.jsx(or,{path:"/reset-password/:token",element:R.jsx(oM,{})}),R.jsx(or,{path:"/profile",element:R.jsx(oD,{})}),R.jsx(or,{path:"/unauthorized",element:R.jsx(e8,{})}),R.jsxs(or,{path:"/scanner",element:R.jsx(t8,{}),children:[R.jsx(or,{index:!0,element:R.jsx(kA,{})}),R.jsx(or,{path:"scan",element:R.jsx(kA,{})}),R.jsx(or,{path:"docs",element:R.jsx(RF,{})})]}),R.jsxs(or,{path:"/approver",element:R.jsx(PF,{}),children:[R.jsx(or,{index:!0,element:R.jsx(DA,{})}),R.jsx(or,{path:"review",element:R.jsx(DA,{})}),R.jsx(or,{path:"approved",element:R.jsx(zF,{})}),R.jsx(or,{path:"rejected",element:R.jsx(BF,{})})]})]}),R.jsx(X6,{})]});V4.createRoot(document.getElementById("root")).render(R.jsx(Kt.StrictMode,{children:R.jsx(dN,{client:hL,children:R.jsx(uL,{children:R.jsx(UF,{})})})}));export{Ln as _,HF as c,mp as g};
