var S5 = i => { throw TypeError(i) }; var Jv = (i, t, e) => t.has(i) || S5("Cannot " + e); var ri = (i, t, e) => (Jv(i, t, "read from private field"), e ? e.call(i) : t.get(i)), Mo = (i, t, e) => t.has(i) ? S5("Cannot add the same private member more than once") : t instanceof WeakSet ? t.add(i) : t.set(i, e), hs = (i, t, e, n) => (Jv(i, t, "write to private field"), n ? n.call(i, e) : t.set(i, e), e), Po = (i, t, e) => (Jv(i, t, "access private method"), e); var A5 = (i, t, e, n) => ({ set _(r) { hs(i, t, r, e) }, get _() { return ri(i, t, n) } }); function B4(i, t) { for (var e = 0; e < t.length; e++) { const n = t[e]; if (typeof n != "string" && !Array.isArray(n)) { for (const r in n) if (r !== "default" && !(r in i)) { const s = Object.getOwnPropertyDescriptor(n, r); s && Object.defineProperty(i, r, s.get ? s : { enumerable: !0, get: () => n[r] }) } } } return Object.freeze(Object.defineProperty(i, Symbol.toStringTag, { value: "Module" })) } (function () { const t = document.createElement("link").relList; if (t && t.supports && t.supports("modulepreload")) return; for (const r of document.querySelectorAll('link[rel="modulepreload"]')) n(r); new MutationObserver(r => { for (const s of r) if (s.type === "childList") for (const o of s.addedNodes) o.tagName === "LINK" && o.rel === "modulepreload" && n(o) }).observe(document, { childList: !0, subtree: !0 }); function e(r) { const s = {}; return r.integrity && (s.integrity = r.integrity), r.referrerPolicy && (s.referrerPolicy = r.referrerPolicy), r.crossOrigin === "use-credentials" ? s.credentials = "include" : r.crossOrigin === "anonymous" ? s.credentials = "omit" : s.credentials = "same-origin", s } function n(r) { if (r.ep) return; r.ep = !0; const s = e(r); fetch(r.href, s) } })(); var X9 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function Np(i) { return i && i.__esModule && Object.prototype.hasOwnProperty.call(i, "default") ? i.default : i } var t1 = { exports: {} }, Vf = {};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5; function z4() { if (E5) return Vf; E5 = 1; var i = Symbol.for("react.transitional.element"), t = Symbol.for("react.fragment"); function e(n, r, s) { var o = null; if (s !== void 0 && (o = "" + s), r.key !== void 0 && (o = "" + r.key), "key" in r) { s = {}; for (var c in r) c !== "key" && (s[c] = r[c]) } else s = r; return r = s.ref, { $$typeof: i, type: n, key: o, ref: r !== void 0 ? r : null, props: s } } return Vf.Fragment = t, Vf.jsx = e, Vf.jsxs = e, Vf } var _5; function U4() { return _5 || (_5 = 1, t1.exports = z4()), t1.exports } var N = U4(), e1 = { exports: {} }, Ge = {};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5; function H4() { if (C5) return Ge; C5 = 1; var i = Symbol.for("react.transitional.element"), t = Symbol.for("react.portal"), e = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), r = Symbol.for("react.profiler"), s = Symbol.for("react.consumer"), o = Symbol.for("react.context"), c = Symbol.for("react.forward_ref"), u = Symbol.for("react.suspense"), d = Symbol.for("react.memo"), f = Symbol.for("react.lazy"), p = Symbol.iterator; function m(Y) { return Y === null || typeof Y != "object" ? null : (Y = p && Y[p] || Y["@@iterator"], typeof Y == "function" ? Y : null) } var v = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, x = Object.assign, y = {}; function E(Y, ft, I) { this.props = Y, this.context = ft, this.refs = y, this.updater = I || v } E.prototype.isReactComponent = {}, E.prototype.setState = function (Y, ft) { if (typeof Y != "object" && typeof Y != "function" && Y != null) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, Y, ft, "setState") }, E.prototype.forceUpdate = function (Y) { this.updater.enqueueForceUpdate(this, Y, "forceUpdate") }; function A() { } A.prototype = E.prototype; function T(Y, ft, I) { this.props = Y, this.context = ft, this.refs = y, this.updater = I || v } var L = T.prototype = new A; L.constructor = T, x(L, E.prototype), L.isPureReactComponent = !0; var k = Array.isArray, O = { H: null, A: null, T: null, S: null, V: null }, F = Object.prototype.hasOwnProperty; function D(Y, ft, I, V, Z, st) { return I = st.ref, { $$typeof: i, type: Y, key: ft, ref: I !== void 0 ? I : null, props: st } } function j(Y, ft) { return D(Y.type, ft, void 0, void 0, void 0, Y.props) } function J(Y) { return typeof Y == "object" && Y !== null && Y.$$typeof === i } function ot(Y) { var ft = { "=": "=0", ":": "=2" }; return "$" + Y.replace(/[=:]/g, function (I) { return ft[I] }) } var z = /\/+/g; function G(Y, ft) { return typeof Y == "object" && Y !== null && Y.key != null ? ot("" + Y.key) : ft.toString(36) } function it() { } function nt(Y) { switch (Y.status) { case "fulfilled": return Y.value; case "rejected": throw Y.reason; default: switch (typeof Y.status == "string" ? Y.then(it, it) : (Y.status = "pending", Y.then(function (ft) { Y.status === "pending" && (Y.status = "fulfilled", Y.value = ft) }, function (ft) { Y.status === "pending" && (Y.status = "rejected", Y.reason = ft) })), Y.status) { case "fulfilled": return Y.value; case "rejected": throw Y.reason } }throw Y } function ht(Y, ft, I, V, Z) { var st = typeof Y; (st === "undefined" || st === "boolean") && (Y = null); var at = !1; if (Y === null) at = !0; else switch (st) { case "bigint": case "string": case "number": at = !0; break; case "object": switch (Y.$$typeof) { case i: case t: at = !0; break; case f: return at = Y._init, ht(at(Y._payload), ft, I, V, Z) } }if (at) return Z = Z(Y), at = V === "" ? "." + G(Y, 0) : V, k(Z) ? (I = "", at != null && (I = at.replace(z, "$&/") + "/"), ht(Z, ft, I, "", function (xt) { return xt })) : Z != null && (J(Z) && (Z = j(Z, I + (Z.key == null || Y && Y.key === Z.key ? "" : ("" + Z.key).replace(z, "$&/") + "/") + at)), ft.push(Z)), 1; at = 0; var ct = V === "" ? "." : V + ":"; if (k(Y)) for (var gt = 0; gt < Y.length; gt++)V = Y[gt], st = ct + G(V, gt), at += ht(V, ft, I, st, Z); else if (gt = m(Y), typeof gt == "function") for (Y = gt.call(Y), gt = 0; !(V = Y.next()).done;)V = V.value, st = ct + G(V, gt++), at += ht(V, ft, I, st, Z); else if (st === "object") { if (typeof Y.then == "function") return ht(nt(Y), ft, I, V, Z); throw ft = String(Y), Error("Objects are not valid as a React child (found: " + (ft === "[object Object]" ? "object with keys {" + Object.keys(Y).join(", ") + "}" : ft) + "). If you meant to render a collection of children, use an array instead.") } return at } function U(Y, ft, I) { if (Y == null) return Y; var V = [], Z = 0; return ht(Y, V, "", "", function (st) { return ft.call(I, st, Z++) }), V } function tt(Y) { if (Y._status === -1) { var ft = Y._result; ft = ft(), ft.then(function (I) { (Y._status === 0 || Y._status === -1) && (Y._status = 1, Y._result = I) }, function (I) { (Y._status === 0 || Y._status === -1) && (Y._status = 2, Y._result = I) }), Y._status === -1 && (Y._status = 0, Y._result = ft) } if (Y._status === 1) return Y._result.default; throw Y._result } var Q = typeof reportError == "function" ? reportError : function (Y) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var ft = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof Y == "object" && Y !== null && typeof Y.message == "string" ? String(Y.message) : String(Y), error: Y }); if (!window.dispatchEvent(ft)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", Y); return } console.error(Y) }; function pt() { } return Ge.Children = { map: U, forEach: function (Y, ft, I) { U(Y, function () { ft.apply(this, arguments) }, I) }, count: function (Y) { var ft = 0; return U(Y, function () { ft++ }), ft }, toArray: function (Y) { return U(Y, function (ft) { return ft }) || [] }, only: function (Y) { if (!J(Y)) throw Error("React.Children.only expected to receive a single React element child."); return Y } }, Ge.Component = E, Ge.Fragment = e, Ge.Profiler = r, Ge.PureComponent = T, Ge.StrictMode = n, Ge.Suspense = u, Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = O, Ge.__COMPILER_RUNTIME = { __proto__: null, c: function (Y) { return O.H.useMemoCache(Y) } }, Ge.cache = function (Y) { return function () { return Y.apply(null, arguments) } }, Ge.cloneElement = function (Y, ft, I) { if (Y == null) throw Error("The argument must be a React element, but you passed " + Y + "."); var V = x({}, Y.props), Z = Y.key, st = void 0; if (ft != null) for (at in ft.ref !== void 0 && (st = void 0), ft.key !== void 0 && (Z = "" + ft.key), ft) !F.call(ft, at) || at === "key" || at === "__self" || at === "__source" || at === "ref" && ft.ref === void 0 || (V[at] = ft[at]); var at = arguments.length - 2; if (at === 1) V.children = I; else if (1 < at) { for (var ct = Array(at), gt = 0; gt < at; gt++)ct[gt] = arguments[gt + 2]; V.children = ct } return D(Y.type, Z, void 0, void 0, st, V) }, Ge.createContext = function (Y) { return Y = { $$typeof: o, _currentValue: Y, _currentValue2: Y, _threadCount: 0, Provider: null, Consumer: null }, Y.Provider = Y, Y.Consumer = { $$typeof: s, _context: Y }, Y }, Ge.createElement = function (Y, ft, I) { var V, Z = {}, st = null; if (ft != null) for (V in ft.key !== void 0 && (st = "" + ft.key), ft) F.call(ft, V) && V !== "key" && V !== "__self" && V !== "__source" && (Z[V] = ft[V]); var at = arguments.length - 2; if (at === 1) Z.children = I; else if (1 < at) { for (var ct = Array(at), gt = 0; gt < at; gt++)ct[gt] = arguments[gt + 2]; Z.children = ct } if (Y && Y.defaultProps) for (V in at = Y.defaultProps, at) Z[V] === void 0 && (Z[V] = at[V]); return D(Y, st, void 0, void 0, null, Z) }, Ge.createRef = function () { return { current: null } }, Ge.forwardRef = function (Y) { return { $$typeof: c, render: Y } }, Ge.isValidElement = J, Ge.lazy = function (Y) { return { $$typeof: f, _payload: { _status: -1, _result: Y }, _init: tt } }, Ge.memo = function (Y, ft) { return { $$typeof: d, type: Y, compare: ft === void 0 ? null : ft } }, Ge.startTransition = function (Y) { var ft = O.T, I = {}; O.T = I; try { var V = Y(), Z = O.S; Z !== null && Z(I, V), typeof V == "object" && V !== null && typeof V.then == "function" && V.then(pt, Q) } catch (st) { Q(st) } finally { O.T = ft } }, Ge.unstable_useCacheRefresh = function () { return O.H.useCacheRefresh() }, Ge.use = function (Y) { return O.H.use(Y) }, Ge.useActionState = function (Y, ft, I) { return O.H.useActionState(Y, ft, I) }, Ge.useCallback = function (Y, ft) { return O.H.useCallback(Y, ft) }, Ge.useContext = function (Y) { return O.H.useContext(Y) }, Ge.useDebugValue = function () { }, Ge.useDeferredValue = function (Y, ft) { return O.H.useDeferredValue(Y, ft) }, Ge.useEffect = function (Y, ft, I) { var V = O.H; if (typeof I == "function") throw Error("useEffect CRUD overload is not enabled in this build of React."); return V.useEffect(Y, ft) }, Ge.useId = function () { return O.H.useId() }, Ge.useImperativeHandle = function (Y, ft, I) { return O.H.useImperativeHandle(Y, ft, I) }, Ge.useInsertionEffect = function (Y, ft) { return O.H.useInsertionEffect(Y, ft) }, Ge.useLayoutEffect = function (Y, ft) { return O.H.useLayoutEffect(Y, ft) }, Ge.useMemo = function (Y, ft) { return O.H.useMemo(Y, ft) }, Ge.useOptimistic = function (Y, ft) { return O.H.useOptimistic(Y, ft) }, Ge.useReducer = function (Y, ft, I) { return O.H.useReducer(Y, ft, I) }, Ge.useRef = function (Y) { return O.H.useRef(Y) }, Ge.useState = function (Y) { return O.H.useState(Y) }, Ge.useSyncExternalStore = function (Y, ft, I) { return O.H.useSyncExternalStore(Y, ft, I) }, Ge.useTransition = function () { return O.H.useTransition() }, Ge.version = "19.1.0", Ge } var N5; function Rp() { return N5 || (N5 = 1, e1.exports = H4()), e1.exports } var M = Rp(); const Yt = Np(M), lA = B4({ __proto__: null, default: Yt }, [M]); var n1 = { exports: {} }, Gf = {}, i1 = { exports: {} }, r1 = {};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5; function q4() { return R5 || (R5 = 1, function (i) { function t(U, tt) { var Q = U.length; U.push(tt); t: for (; 0 < Q;) { var pt = Q - 1 >>> 1, Y = U[pt]; if (0 < r(Y, tt)) U[pt] = tt, U[Q] = Y, Q = pt; else break t } } function e(U) { return U.length === 0 ? null : U[0] } function n(U) { if (U.length === 0) return null; var tt = U[0], Q = U.pop(); if (Q !== tt) { U[0] = Q; t: for (var pt = 0, Y = U.length, ft = Y >>> 1; pt < ft;) { var I = 2 * (pt + 1) - 1, V = U[I], Z = I + 1, st = U[Z]; if (0 > r(V, Q)) Z < Y && 0 > r(st, V) ? (U[pt] = st, U[Z] = Q, pt = Z) : (U[pt] = V, U[I] = Q, pt = I); else if (Z < Y && 0 > r(st, Q)) U[pt] = st, U[Z] = Q, pt = Z; else break t } } return tt } function r(U, tt) { var Q = U.sortIndex - tt.sortIndex; return Q !== 0 ? Q : U.id - tt.id } if (i.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") { var s = performance; i.unstable_now = function () { return s.now() } } else { var o = Date, c = o.now(); i.unstable_now = function () { return o.now() - c } } var u = [], d = [], f = 1, p = null, m = 3, v = !1, x = !1, y = !1, E = !1, A = typeof setTimeout == "function" ? setTimeout : null, T = typeof clearTimeout == "function" ? clearTimeout : null, L = typeof setImmediate < "u" ? setImmediate : null; function k(U) { for (var tt = e(d); tt !== null;) { if (tt.callback === null) n(d); else if (tt.startTime <= U) n(d), tt.sortIndex = tt.expirationTime, t(u, tt); else break; tt = e(d) } } function O(U) { if (y = !1, k(U), !x) if (e(u) !== null) x = !0, F || (F = !0, G()); else { var tt = e(d); tt !== null && ht(O, tt.startTime - U) } } var F = !1, D = -1, j = 5, J = -1; function ot() { return E ? !0 : !(i.unstable_now() - J < j) } function z() { if (E = !1, F) { var U = i.unstable_now(); J = U; var tt = !0; try { t: { x = !1, y && (y = !1, T(D), D = -1), v = !0; var Q = m; try { e: { for (k(U), p = e(u); p !== null && !(p.expirationTime > U && ot());) { var pt = p.callback; if (typeof pt == "function") { p.callback = null, m = p.priorityLevel; var Y = pt(p.expirationTime <= U); if (U = i.unstable_now(), typeof Y == "function") { p.callback = Y, k(U), tt = !0; break e } p === e(u) && n(u), k(U) } else n(u); p = e(u) } if (p !== null) tt = !0; else { var ft = e(d); ft !== null && ht(O, ft.startTime - U), tt = !1 } } break t } finally { p = null, m = Q, v = !1 } tt = void 0 } } finally { tt ? G() : F = !1 } } } var G; if (typeof L == "function") G = function () { L(z) }; else if (typeof MessageChannel < "u") { var it = new MessageChannel, nt = it.port2; it.port1.onmessage = z, G = function () { nt.postMessage(null) } } else G = function () { A(z, 0) }; function ht(U, tt) { D = A(function () { U(i.unstable_now()) }, tt) } i.unstable_IdlePriority = 5, i.unstable_ImmediatePriority = 1, i.unstable_LowPriority = 4, i.unstable_NormalPriority = 3, i.unstable_Profiling = null, i.unstable_UserBlockingPriority = 2, i.unstable_cancelCallback = function (U) { U.callback = null }, i.unstable_forceFrameRate = function (U) { 0 > U || 125 < U ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : j = 0 < U ? Math.floor(1e3 / U) : 5 }, i.unstable_getCurrentPriorityLevel = function () { return m }, i.unstable_next = function (U) { switch (m) { case 1: case 2: case 3: var tt = 3; break; default: tt = m }var Q = m; m = tt; try { return U() } finally { m = Q } }, i.unstable_requestPaint = function () { E = !0 }, i.unstable_runWithPriority = function (U, tt) { switch (U) { case 1: case 2: case 3: case 4: case 5: break; default: U = 3 }var Q = m; m = U; try { return tt() } finally { m = Q } }, i.unstable_scheduleCallback = function (U, tt, Q) { var pt = i.unstable_now(); switch (typeof Q == "object" && Q !== null ? (Q = Q.delay, Q = typeof Q == "number" && 0 < Q ? pt + Q : pt) : Q = pt, U) { case 1: var Y = -1; break; case 2: Y = 250; break; case 5: Y = 1073741823; break; case 4: Y = 1e4; break; default: Y = 5e3 }return Y = Q + Y, U = { id: f++, callback: tt, priorityLevel: U, startTime: Q, expirationTime: Y, sortIndex: -1 }, Q > pt ? (U.sortIndex = Q, t(d, U), e(u) === null && U === e(d) && (y ? (T(D), D = -1) : y = !0, ht(O, Q - pt))) : (U.sortIndex = Y, t(u, U), x || v || (x = !0, F || (F = !0, G()))), U }, i.unstable_shouldYield = ot, i.unstable_wrapCallback = function (U) { var tt = m; return function () { var Q = m; m = tt; try { return U.apply(this, arguments) } finally { m = Q } } } }(r1)), r1 } var T5; function V4() { return T5 || (T5 = 1, i1.exports = q4()), i1.exports } var s1 = { exports: {} }, kr = {};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5; function G4() { if (L5) return kr; L5 = 1; var i = Rp(); function t(u) { var d = "https://react.dev/errors/" + u; if (1 < arguments.length) { d += "?args[]=" + encodeURIComponent(arguments[1]); for (var f = 2; f < arguments.length; f++)d += "&args[]=" + encodeURIComponent(arguments[f]) } return "Minified React error #" + u + "; visit " + d + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function e() { } var n = { d: { f: e, r: function () { throw Error(t(522)) }, D: e, C: e, L: e, m: e, X: e, S: e, M: e }, p: 0, findDOMNode: null }, r = Symbol.for("react.portal"); function s(u, d, f) { var p = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: r, key: p == null ? null : "" + p, children: u, containerInfo: d, implementation: f } } var o = i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function c(u, d) { if (u === "font") return ""; if (typeof d == "string") return d === "use-credentials" ? d : "" } return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = n, kr.createPortal = function (u, d) { var f = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!d || d.nodeType !== 1 && d.nodeType !== 9 && d.nodeType !== 11) throw Error(t(299)); return s(u, d, null, f) }, kr.flushSync = function (u) { var d = o.T, f = n.p; try { if (o.T = null, n.p = 2, u) return u() } finally { o.T = d, n.p = f, n.d.f() } }, kr.preconnect = function (u, d) { typeof u == "string" && (d ? (d = d.crossOrigin, d = typeof d == "string" ? d === "use-credentials" ? d : "" : void 0) : d = null, n.d.C(u, d)) }, kr.prefetchDNS = function (u) { typeof u == "string" && n.d.D(u) }, kr.preinit = function (u, d) { if (typeof u == "string" && d && typeof d.as == "string") { var f = d.as, p = c(f, d.crossOrigin), m = typeof d.integrity == "string" ? d.integrity : void 0, v = typeof d.fetchPriority == "string" ? d.fetchPriority : void 0; f === "style" ? n.d.S(u, typeof d.precedence == "string" ? d.precedence : void 0, { crossOrigin: p, integrity: m, fetchPriority: v }) : f === "script" && n.d.X(u, { crossOrigin: p, integrity: m, fetchPriority: v, nonce: typeof d.nonce == "string" ? d.nonce : void 0 }) } }, kr.preinitModule = function (u, d) { if (typeof u == "string") if (typeof d == "object" && d !== null) { if (d.as == null || d.as === "script") { var f = c(d.as, d.crossOrigin); n.d.M(u, { crossOrigin: f, integrity: typeof d.integrity == "string" ? d.integrity : void 0, nonce: typeof d.nonce == "string" ? d.nonce : void 0 }) } } else d == null && n.d.M(u) }, kr.preload = function (u, d) { if (typeof u == "string" && typeof d == "object" && d !== null && typeof d.as == "string") { var f = d.as, p = c(f, d.crossOrigin); n.d.L(u, f, { crossOrigin: p, integrity: typeof d.integrity == "string" ? d.integrity : void 0, nonce: typeof d.nonce == "string" ? d.nonce : void 0, type: typeof d.type == "string" ? d.type : void 0, fetchPriority: typeof d.fetchPriority == "string" ? d.fetchPriority : void 0, referrerPolicy: typeof d.referrerPolicy == "string" ? d.referrerPolicy : void 0, imageSrcSet: typeof d.imageSrcSet == "string" ? d.imageSrcSet : void 0, imageSizes: typeof d.imageSizes == "string" ? d.imageSizes : void 0, media: typeof d.media == "string" ? d.media : void 0 }) } }, kr.preloadModule = function (u, d) { if (typeof u == "string") if (d) { var f = c(d.as, d.crossOrigin); n.d.m(u, { as: typeof d.as == "string" && d.as !== "script" ? d.as : void 0, crossOrigin: f, integrity: typeof d.integrity == "string" ? d.integrity : void 0 }) } else n.d.m(u) }, kr.requestFormReset = function (u) { n.d.r(u) }, kr.unstable_batchedUpdates = function (u, d) { return u(d) }, kr.useFormState = function (u, d, f) { return o.H.useFormState(u, d, f) }, kr.useFormStatus = function () { return o.H.useHostTransitionStatus() }, kr.version = "19.1.0", kr } var M5; function cA() { if (M5) return s1.exports; M5 = 1; function i() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i) } catch (t) { console.error(t) } } return i(), s1.exports = G4(), s1.exports }/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5; function $4() {
  if (P5) return Gf; P5 = 1; var i = V4(), t = Rp(), e = cA(); function n(a) { var l = "https://react.dev/errors/" + a; if (1 < arguments.length) { l += "?args[]=" + encodeURIComponent(arguments[1]); for (var h = 2; h < arguments.length; h++)l += "&args[]=" + encodeURIComponent(arguments[h]) } return "Minified React error #" + a + "; visit " + l + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function r(a) { return !(!a || a.nodeType !== 1 && a.nodeType !== 9 && a.nodeType !== 11) } function s(a) { var l = a, h = a; if (a.alternate) for (; l.return;)l = l.return; else { a = l; do l = a, (l.flags & 4098) !== 0 && (h = l.return), a = l.return; while (a) } return l.tag === 3 ? h : null } function o(a) { if (a.tag === 13) { var l = a.memoizedState; if (l === null && (a = a.alternate, a !== null && (l = a.memoizedState)), l !== null) return l.dehydrated } return null } function c(a) { if (s(a) !== a) throw Error(n(188)) } function u(a) { var l = a.alternate; if (!l) { if (l = s(a), l === null) throw Error(n(188)); return l !== a ? null : a } for (var h = a, g = l; ;) { var w = h.return; if (w === null) break; var _ = w.alternate; if (_ === null) { if (g = w.return, g !== null) { h = g; continue } break } if (w.child === _.child) { for (_ = w.child; _;) { if (_ === h) return c(w), a; if (_ === g) return c(w), l; _ = _.sibling } throw Error(n(188)) } if (h.return !== g.return) h = w, g = _; else { for (var B = !1, K = w.child; K;) { if (K === h) { B = !0, h = w, g = _; break } if (K === g) { B = !0, g = w, h = _; break } K = K.sibling } if (!B) { for (K = _.child; K;) { if (K === h) { B = !0, h = _, g = w; break } if (K === g) { B = !0, g = _, h = w; break } K = K.sibling } if (!B) throw Error(n(189)) } } if (h.alternate !== g) throw Error(n(190)) } if (h.tag !== 3) throw Error(n(188)); return h.stateNode.current === h ? a : l } function d(a) { var l = a.tag; if (l === 5 || l === 26 || l === 27 || l === 6) return a; for (a = a.child; a !== null;) { if (l = d(a), l !== null) return l; a = a.sibling } return null } var f = Object.assign, p = Symbol.for("react.element"), m = Symbol.for("react.transitional.element"), v = Symbol.for("react.portal"), x = Symbol.for("react.fragment"), y = Symbol.for("react.strict_mode"), E = Symbol.for("react.profiler"), A = Symbol.for("react.provider"), T = Symbol.for("react.consumer"), L = Symbol.for("react.context"), k = Symbol.for("react.forward_ref"), O = Symbol.for("react.suspense"), F = Symbol.for("react.suspense_list"), D = Symbol.for("react.memo"), j = Symbol.for("react.lazy"), J = Symbol.for("react.activity"), ot = Symbol.for("react.memo_cache_sentinel"), z = Symbol.iterator; function G(a) { return a === null || typeof a != "object" ? null : (a = z && a[z] || a["@@iterator"], typeof a == "function" ? a : null) } var it = Symbol.for("react.client.reference"); function nt(a) { if (a == null) return null; if (typeof a == "function") return a.$$typeof === it ? null : a.displayName || a.name || null; if (typeof a == "string") return a; switch (a) { case x: return "Fragment"; case E: return "Profiler"; case y: return "StrictMode"; case O: return "Suspense"; case F: return "SuspenseList"; case J: return "Activity" }if (typeof a == "object") switch (a.$$typeof) { case v: return "Portal"; case L: return (a.displayName || "Context") + ".Provider"; case T: return (a._context.displayName || "Context") + ".Consumer"; case k: var l = a.render; return a = a.displayName, a || (a = l.displayName || l.name || "", a = a !== "" ? "ForwardRef(" + a + ")" : "ForwardRef"), a; case D: return l = a.displayName || null, l !== null ? l : nt(a.type) || "Memo"; case j: l = a._payload, a = a._init; try { return nt(a(l)) } catch { } }return null } var ht = Array.isArray, U = t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, tt = e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, Q = { pending: !1, data: null, method: null, action: null }, pt = [], Y = -1; function ft(a) { return { current: a } } function I(a) { 0 > Y || (a.current = pt[Y], pt[Y] = null, Y--) } function V(a, l) { Y++, pt[Y] = a.current, a.current = l } var Z = ft(null), st = ft(null), at = ft(null), ct = ft(null); function gt(a, l) { switch (V(at, l), V(st, a), V(Z, null), l.nodeType) { case 9: case 11: a = (a = l.documentElement) && (a = a.namespaceURI) ? Kw(a) : 0; break; default: if (a = l.tagName, l = l.namespaceURI) l = Kw(l), a = Qw(l, a); else switch (a) { case "svg": a = 1; break; case "math": a = 2; break; default: a = 0 } }I(Z), V(Z, a) } function xt() { I(Z), I(st), I(at) } function Tt(a) { a.memoizedState !== null && V(ct, a); var l = Z.current, h = Qw(l, a.type); l !== h && (V(st, a), V(Z, h)) } function kt(a) { st.current === a && (I(Z), I(st)), ct.current === a && (I(ct), Bf._currentValue = Q) } var zt = Object.prototype.hasOwnProperty, $t = i.unstable_scheduleCallback, Kt = i.unstable_cancelCallback, Lt = i.unstable_shouldYield, lt = i.unstable_requestPaint, se = i.unstable_now, ae = i.unstable_getCurrentPriorityLevel, Vt = i.unstable_ImmediatePriority, Zt = i.unstable_UserBlockingPriority, Jt = i.unstable_NormalPriority, Xt = i.unstable_LowPriority, ce = i.unstable_IdlePriority, Ce = i.log, ke = i.unstable_setDisableYieldValue, Ae = null, be = null; function Fe(a) { if (typeof Ce == "function" && ke(a), be && typeof be.setStrictMode == "function") try { be.setStrictMode(Ae, a) } catch { } } var le = Math.clz32 ? Math.clz32 : Xn, Ne = Math.log, ne = Math.LN2; function Xn(a) { return a >>>= 0, a === 0 ? 32 : 31 - (Ne(a) / ne | 0) | 0 } var We = 256, tr = 4194304; function Qe(a) { var l = a & 42; if (l !== 0) return l; switch (a & -a) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return a & 4194048; case 4194304: case 8388608: case 16777216: case 33554432: return a & 62914560; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return a } } function yn(a, l, h) { var g = a.pendingLanes; if (g === 0) return 0; var w = 0, _ = a.suspendedLanes, B = a.pingedLanes; a = a.warmLanes; var K = g & 134217727; return K !== 0 ? (g = K & ~_, g !== 0 ? w = Qe(g) : (B &= K, B !== 0 ? w = Qe(B) : h || (h = K & ~a, h !== 0 && (w = Qe(h))))) : (K = g & ~_, K !== 0 ? w = Qe(K) : B !== 0 ? w = Qe(B) : h || (h = g & ~a, h !== 0 && (w = Qe(h)))), w === 0 ? 0 : l !== 0 && l !== w && (l & _) === 0 && (_ = w & -w, h = l & -l, _ >= h || _ === 32 && (h & 4194048) !== 0) ? l : w } function er(a, l) { return (a.pendingLanes & ~(a.suspendedLanes & ~a.pingedLanes) & l) === 0 } function an(a, l) { switch (a) { case 1: case 2: case 4: case 8: case 64: return l + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return l + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: return -1; case 67108864: case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function Vi() { var a = We; return We <<= 1, (We & 4194048) === 0 && (We = 256), a } function In() { var a = tr; return tr <<= 1, (tr & 62914560) === 0 && (tr = 4194304), a } function mr(a) { for (var l = [], h = 0; 31 > h; h++)l.push(a); return l } function nr(a, l) { a.pendingLanes |= l, l !== 268435456 && (a.suspendedLanes = 0, a.pingedLanes = 0, a.warmLanes = 0) } function Fn(a, l, h, g, w, _) { var B = a.pendingLanes; a.pendingLanes = h, a.suspendedLanes = 0, a.pingedLanes = 0, a.warmLanes = 0, a.expiredLanes &= h, a.entangledLanes &= h, a.errorRecoveryDisabledLanes &= h, a.shellSuspendCounter = 0; var K = a.entanglements, dt = a.expirationTimes, Rt = a.hiddenUpdates; for (h = B & ~h; 0 < h;) { var Ft = 31 - le(h), Gt = 1 << Ft; K[Ft] = 0, dt[Ft] = -1; var Mt = Rt[Ft]; if (Mt !== null) for (Rt[Ft] = null, Ft = 0; Ft < Mt.length; Ft++) { var Pt = Mt[Ft]; Pt !== null && (Pt.lane &= -536870913) } h &= ~Gt } g !== 0 && Qt(a, g, 0), _ !== 0 && w === 0 && a.tag !== 0 && (a.suspendedLanes |= _ & ~(B & ~l)) } function Qt(a, l, h) { a.pendingLanes |= l, a.suspendedLanes &= ~l; var g = 31 - le(l); a.entangledLanes |= l, a.entanglements[g] = a.entanglements[g] | 1073741824 | h & 4194090 } function xe(a, l) { var h = a.entangledLanes |= l; for (a = a.entanglements; h;) { var g = 31 - le(h), w = 1 << g; w & l | a[g] & l && (a[g] |= l), h &= ~w } } function Pn(a) { switch (a) { case 2: a = 1; break; case 8: a = 4; break; case 32: a = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: a = 128; break; case 268435456: a = 134217728; break; default: a = 0 }return a } function un(a) { return a &= -a, 2 < a ? 8 < a ? (a & 134217727) !== 0 ? 32 : 268435456 : 8 : 2 } function ir() { var a = tt.p; return a !== 0 ? a : (a = window.event, a === void 0 ? 32 : m5(a.type)) } function En(a, l) { var h = tt.p; try { return tt.p = a, l() } finally { tt.p = h } } var oe = Math.random().toString(36).slice(2), mn = "__reactFiber$" + oe, tn = "__reactProps$" + oe, vn = "__reactContainer$" + oe, Gn = "__reactEvents$" + oe, _n = "__reactListeners$" + oe, _r = "__reactHandles$" + oe, tl = "__reactResources$" + oe, Vr = "__reactMarker$" + oe; function Gr(a) { delete a[mn], delete a[tn], delete a[Gn], delete a[_n], delete a[_r] } function rr(a) { var l = a[mn]; if (l) return l; for (var h = a.parentNode; h;) { if (l = h[vn] || h[mn]) { if (h = l.alternate, l.child !== null || h !== null && h.child !== null) for (a = e5(a); a !== null;) { if (h = a[mn]) return h; a = e5(a) } return l } a = h, h = a.parentNode } return null } function sr(a) { if (a = a[mn] || a[vn]) { var l = a.tag; if (l === 5 || l === 6 || l === 13 || l === 26 || l === 27 || l === 3) return a } return null } function Cr(a) { var l = a.tag; if (l === 5 || l === 26 || l === 27 || l === 6) return a.stateNode; throw Error(n(33)) } function Gi(a) { var l = a[tl]; return l || (l = a[tl] = { hoistableStyles: new Map, hoistableScripts: new Map }), l } function Nn(a) { a[Vr] = !0 } var Qa = new Set, el = {}; function es(a, l) { ws(a, l), ws(a + "Capture", l) } function ws(a, l) { for (el[a] = l, a = 0; a < l.length; a++)Qa.add(l[a]) } var ql = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), iu = {}, vh = {}; function Jd(a) { return zt.call(vh, a) ? !0 : zt.call(iu, a) ? !1 : ql.test(a) ? vh[a] = !0 : (iu[a] = !0, !1) } function ua(a, l, h) { if (Jd(l)) if (h === null) a.removeAttribute(l); else { switch (typeof h) { case "undefined": case "function": case "symbol": a.removeAttribute(l); return; case "boolean": var g = l.toLowerCase().slice(0, 5); if (g !== "data-" && g !== "aria-") { a.removeAttribute(l); return } }a.setAttribute(l, "" + h) } } function nl(a, l, h) { if (h === null) a.removeAttribute(l); else { switch (typeof h) { case "undefined": case "function": case "symbol": case "boolean": a.removeAttribute(l); return }a.setAttribute(l, "" + h) } } function xs(a, l, h, g) { if (g === null) a.removeAttribute(h); else { switch (typeof g) { case "undefined": case "function": case "symbol": case "boolean": a.removeAttribute(h); return }a.setAttributeNS(l, h, "" + g) } } var il, bh; function ha(a) {
    if (il === void 0) try { throw Error() } catch (h) {
      var l = h.stack.trim().match(/\n( *(at )?)/); il = l && l[1] || "", bh = -1 < h.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < h.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ il + a + bh
  } var ru = !1; function Za(a, l) {
    if (!a || ru) return ""; ru = !0; var h = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var g = { DetermineComponentFrameRoot: function () { try { if (l) { var Gt = function () { throw Error() }; if (Object.defineProperty(Gt.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(Gt, []) } catch (Pt) { var Mt = Pt } Reflect.construct(a, [], Gt) } else { try { Gt.call() } catch (Pt) { Mt = Pt } a.call(Gt.prototype) } } else { try { throw Error() } catch (Pt) { Mt = Pt } (Gt = a()) && typeof Gt.catch == "function" && Gt.catch(function () { }) } } catch (Pt) { if (Pt && Mt && typeof Pt.stack == "string") return [Pt.stack, Mt.stack] } return [null, null] } }; g.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var w = Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot, "name"); w && w.configurable && Object.defineProperty(g.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var _ = g.DetermineComponentFrameRoot(), B = _[0], K = _[1]; if (B && K) {
        var dt = B.split(`
`), Rt = K.split(`
`); for (w = g = 0; g < dt.length && !dt[g].includes("DetermineComponentFrameRoot");)g++; for (; w < Rt.length && !Rt[w].includes("DetermineComponentFrameRoot");)w++; if (g === dt.length || w === Rt.length) for (g = dt.length - 1, w = Rt.length - 1; 1 <= g && 0 <= w && dt[g] !== Rt[w];)w--; for (; 1 <= g && 0 <= w; g--, w--)if (dt[g] !== Rt[w]) {
          if (g !== 1 || w !== 1) do if (g--, w--, 0 > w || dt[g] !== Rt[w]) {
            var Ft = `
`+ dt[g].replace(" at new ", " at "); return a.displayName && Ft.includes("<anonymous>") && (Ft = Ft.replace("<anonymous>", a.displayName)), Ft
          } while (1 <= g && 0 <= w); break
        }
      }
    } finally { ru = !1, Error.prepareStackTrace = h } return (h = a ? a.displayName || a.name : "") ? ha(h) : ""
  } function tf(a) { switch (a.tag) { case 26: case 27: case 5: return ha(a.type); case 16: return ha("Lazy"); case 13: return ha("Suspense"); case 19: return ha("SuspenseList"); case 0: case 15: return Za(a.type, !1); case 11: return Za(a.type.render, !1); case 1: return Za(a.type, !0); case 31: return ha("Activity"); default: return "" } } function Jn(a) {
    try { var l = ""; do l += tf(a), a = a.return; while (a); return l } catch (h) {
      return `
Error generating stack: `+ h.message + `
`+ h.stack
    }
  } function vr(a) { switch (typeof a) { case "bigint": case "boolean": case "number": case "string": case "undefined": return a; case "object": return a; default: return "" } } function su(a) { var l = a.type; return (a = a.nodeName) && a.toLowerCase() === "input" && (l === "checkbox" || l === "radio") } function yh(a) { var l = su(a) ? "checked" : "value", h = Object.getOwnPropertyDescriptor(a.constructor.prototype, l), g = "" + a[l]; if (!a.hasOwnProperty(l) && typeof h < "u" && typeof h.get == "function" && typeof h.set == "function") { var w = h.get, _ = h.set; return Object.defineProperty(a, l, { configurable: !0, get: function () { return w.call(this) }, set: function (B) { g = "" + B, _.call(this, B) } }), Object.defineProperty(a, l, { enumerable: h.enumerable }), { getValue: function () { return g }, setValue: function (B) { g = "" + B }, stopTracking: function () { a._valueTracker = null, delete a[l] } } } } function Ja(a) { a._valueTracker || (a._valueTracker = yh(a)) } function wh(a) { if (!a) return !1; var l = a._valueTracker; if (!l) return !0; var h = l.getValue(), g = ""; return a && (g = su(a) ? a.checked ? "true" : "false" : a.value), a = g, a !== h ? (l.setValue(a), !0) : !1 } function Nr(a) { if (a = a || (typeof document < "u" ? document : void 0), typeof a > "u") return null; try { return a.activeElement || a.body } catch { return a.body } } var Vl = /[\n"\\]/g; function Bn(a) { return a.replace(Vl, function (l) { return "\\" + l.charCodeAt(0).toString(16) + " " }) } function rl(a, l, h, g, w, _, B, K) { a.name = "", B != null && typeof B != "function" && typeof B != "symbol" && typeof B != "boolean" ? a.type = B : a.removeAttribute("type"), l != null ? B === "number" ? (l === 0 && a.value === "" || a.value != l) && (a.value = "" + vr(l)) : a.value !== "" + vr(l) && (a.value = "" + vr(l)) : B !== "submit" && B !== "reset" || a.removeAttribute("value"), l != null ? ou(a, B, vr(l)) : h != null ? ou(a, B, vr(h)) : g != null && a.removeAttribute("value"), w == null && _ != null && (a.defaultChecked = !!_), w != null && (a.checked = w && typeof w != "function" && typeof w != "symbol"), K != null && typeof K != "function" && typeof K != "symbol" && typeof K != "boolean" ? a.name = "" + vr(K) : a.removeAttribute("name") } function au(a, l, h, g, w, _, B, K) { if (_ != null && typeof _ != "function" && typeof _ != "symbol" && typeof _ != "boolean" && (a.type = _), l != null || h != null) { if (!(_ !== "submit" && _ !== "reset" || l != null)) return; h = h != null ? "" + vr(h) : "", l = l != null ? "" + vr(l) : h, K || l === a.value || (a.value = l), a.defaultValue = l } g = g ?? w, g = typeof g != "function" && typeof g != "symbol" && !!g, a.checked = K ? a.checked : !!g, a.defaultChecked = !!g, B != null && typeof B != "function" && typeof B != "symbol" && typeof B != "boolean" && (a.name = B) } function ou(a, l, h) { l === "number" && Nr(a.ownerDocument) === a || a.defaultValue === "" + h || (a.defaultValue = "" + h) } function da(a, l, h, g) { if (a = a.options, l) { l = {}; for (var w = 0; w < h.length; w++)l["$" + h[w]] = !0; for (h = 0; h < a.length; h++)w = l.hasOwnProperty("$" + a[h].value), a[h].selected !== w && (a[h].selected = w), w && g && (a[h].defaultSelected = !0) } else { for (h = "" + vr(h), l = null, w = 0; w < a.length; w++) { if (a[w].value === h) { a[w].selected = !0, g && (a[w].defaultSelected = !0); return } l !== null || a[w].disabled || (l = a[w]) } l !== null && (l.selected = !0) } } function xh(a, l, h) { if (l != null && (l = "" + vr(l), l !== a.value && (a.value = l), h == null)) { a.defaultValue !== l && (a.defaultValue = l); return } a.defaultValue = h != null ? "" + vr(h) : "" } function lu(a, l, h, g) { if (l == null) { if (g != null) { if (h != null) throw Error(n(92)); if (ht(g)) { if (1 < g.length) throw Error(n(93)); g = g[0] } h = g } h == null && (h = ""), l = h } h = vr(l), a.defaultValue = h, g = a.textContent, g === h && g !== "" && g !== null && (a.value = g) } function to(a, l) { if (l) { var h = a.firstChild; if (h && h === a.lastChild && h.nodeType === 3) { h.nodeValue = l; return } } a.textContent = l } var cu = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function Sh(a, l, h) { var g = l.indexOf("--") === 0; h == null || typeof h == "boolean" || h === "" ? g ? a.setProperty(l, "") : l === "float" ? a.cssFloat = "" : a[l] = "" : g ? a.setProperty(l, h) : typeof h != "number" || h === 0 || cu.has(l) ? l === "float" ? a.cssFloat = h : a[l] = ("" + h).trim() : a[l] = h + "px" } function Ah(a, l, h) { if (l != null && typeof l != "object") throw Error(n(62)); if (a = a.style, h != null) { for (var g in h) !h.hasOwnProperty(g) || l != null && l.hasOwnProperty(g) || (g.indexOf("--") === 0 ? a.setProperty(g, "") : g === "float" ? a.cssFloat = "" : a[g] = ""); for (var w in l) g = l[w], l.hasOwnProperty(w) && h[w] !== g && Sh(a, w, g) } else for (var _ in l) l.hasOwnProperty(_) && Sh(a, _, l[_]) } function uu(a) { if (a.indexOf("-") === -1) return !1; switch (a) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var fa = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), Gl = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function pa(a) { return Gl.test("" + a) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : a } var $l = null; function Di(a) { return a = a.target || a.srcElement || window, a.correspondingUseElement && (a = a.correspondingUseElement), a.nodeType === 3 ? a.parentNode : a } var eo = null, ga = null; function Pe(a) { var l = sr(a); if (l && (a = l.stateNode)) { var h = a[tn] || null; t: switch (a = l.stateNode, l.type) { case "input": if (rl(a, h.value, h.defaultValue, h.defaultValue, h.checked, h.defaultChecked, h.type, h.name), l = h.name, h.type === "radio" && l != null) { for (h = a; h.parentNode;)h = h.parentNode; for (h = h.querySelectorAll('input[name="' + Bn("" + l) + '"][type="radio"]'), l = 0; l < h.length; l++) { var g = h[l]; if (g !== a && g.form === a.form) { var w = g[tn] || null; if (!w) throw Error(n(90)); rl(g, w.value, w.defaultValue, w.defaultValue, w.checked, w.defaultChecked, w.type, w.name) } } for (l = 0; l < h.length; l++)g = h[l], g.form === a.form && wh(g) } break t; case "textarea": xh(a, h.value, h.defaultValue); break t; case "select": l = h.value, l != null && da(a, !!h.multiple, l, !1) } } } var hu = !1; function Eh(a, l, h) { if (hu) return a(l, h); hu = !0; try { var g = a(l); return g } finally { if (hu = !1, (eo !== null || ga !== null) && (kg(), eo && (l = eo, a = ga, ga = eo = null, Pe(l), a))) for (l = 0; l < a.length; l++)Pe(a[l]) } } function Rr(a, l) { var h = a.stateNode; if (h === null) return null; var g = h[tn] || null; if (g === null) return null; h = g[l]; t: switch (l) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (g = !g.disabled) || (a = a.type, g = !(a === "button" || a === "input" || a === "select" || a === "textarea")), a = !g; break t; default: a = !1 }if (a) return null; if (h && typeof h != "function") throw Error(n(231, l, typeof h)); return h } var ns = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), Wl = !1; if (ns) try { var qs = {}; Object.defineProperty(qs, "passive", { get: function () { Wl = !0 } }), window.addEventListener("test", qs, qs), window.removeEventListener("test", qs, qs) } catch { Wl = !1 } var is = null, du = null, Yl = null; function _h() { if (Yl) return Yl; var a, l = du, h = l.length, g, w = "value" in is ? is.value : is.textContent, _ = w.length; for (a = 0; a < h && l[a] === w[a]; a++); var B = h - a; for (g = 1; g <= B && l[h - g] === w[_ - g]; g++); return Yl = w.slice(a, 1 < g ? 1 - g : void 0) } function no(a) { var l = a.keyCode; return "charCode" in a ? (a = a.charCode, a === 0 && l === 13 && (a = 13)) : a = l, a === 10 && (a = 13), 32 <= a || a === 13 ? a : 0 } function Vs() { return !0 } function ma() { return !1 } function ar(a) { function l(h, g, w, _, B) { this._reactName = h, this._targetInst = w, this.type = g, this.nativeEvent = _, this.target = B, this.currentTarget = null; for (var K in a) a.hasOwnProperty(K) && (h = a[K], this[K] = h ? h(_) : _[K]); return this.isDefaultPrevented = (_.defaultPrevented != null ? _.defaultPrevented : _.returnValue === !1) ? Vs : ma, this.isPropagationStopped = ma, this } return f(l.prototype, { preventDefault: function () { this.defaultPrevented = !0; var h = this.nativeEvent; h && (h.preventDefault ? h.preventDefault() : typeof h.returnValue != "unknown" && (h.returnValue = !1), this.isDefaultPrevented = Vs) }, stopPropagation: function () { var h = this.nativeEvent; h && (h.stopPropagation ? h.stopPropagation() : typeof h.cancelBubble != "unknown" && (h.cancelBubble = !0), this.isPropagationStopped = Vs) }, persist: function () { }, isPersistent: Vs }), l } var $r = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (a) { return a.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, io = ar($r), Gs = f({}, $r, { view: 0, detail: 0 }), Ch = ar(Gs), Xl, Kl, ro, Wr = f({}, Gs, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: tc, button: 0, buttons: 0, relatedTarget: function (a) { return a.relatedTarget === void 0 ? a.fromElement === a.srcElement ? a.toElement : a.fromElement : a.relatedTarget }, movementX: function (a) { return "movementX" in a ? a.movementX : (a !== ro && (ro && a.type === "mousemove" ? (Xl = a.screenX - ro.screenX, Kl = a.screenY - ro.screenY) : Kl = Xl = 0, ro = a), Xl) }, movementY: function (a) { return "movementY" in a ? a.movementY : Kl } }), $s = ar(Wr), ef = f({}, Wr, { dataTransfer: 0 }), so = ar(ef), Ss = f({}, Gs, { relatedTarget: 0 }), sl = ar(Ss), al = f({}, $r, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), nf = ar(al), Ql = f({}, $r, { clipboardData: function (a) { return "clipboardData" in a ? a.clipboardData : window.clipboardData } }), rf = ar(Ql), fu = f({}, $r, { data: 0 }), Zl = ar(fu), Nh = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, Jl = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, pu = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function gu(a) { var l = this.nativeEvent; return l.getModifierState ? l.getModifierState(a) : (a = pu[a]) ? !!l[a] : !1 } function tc() { return gu } var sf = f({}, Gs, { key: function (a) { if (a.key) { var l = Nh[a.key] || a.key; if (l !== "Unidentified") return l } return a.type === "keypress" ? (a = no(a), a === 13 ? "Enter" : String.fromCharCode(a)) : a.type === "keydown" || a.type === "keyup" ? Jl[a.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: tc, charCode: function (a) { return a.type === "keypress" ? no(a) : 0 }, keyCode: function (a) { return a.type === "keydown" || a.type === "keyup" ? a.keyCode : 0 }, which: function (a) { return a.type === "keypress" ? no(a) : a.type === "keydown" || a.type === "keyup" ? a.keyCode : 0 } }), ec = ar(sf), ol = f({}, Wr, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), nc = ar(ol), ao = f({}, Gs, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: tc }), mu = ar(ao), C = f({}, $r, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), q = ar(C), ut = f({}, Wr, { deltaX: function (a) { return "deltaX" in a ? a.deltaX : "wheelDeltaX" in a ? -a.wheelDeltaX : 0 }, deltaY: function (a) { return "deltaY" in a ? a.deltaY : "wheelDeltaY" in a ? -a.wheelDeltaY : "wheelDelta" in a ? -a.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), mt = ar(ut), Et = f({}, $r, { newState: 0, oldState: 0 }), jt = ar(Et), Wt = [9, 13, 27, 32], ie = ns && "CompositionEvent" in window, ge = null; ns && "documentMode" in document && (ge = document.documentMode); var Be = ns && "TextEvent" in window && !ge, De = ns && (!ie || ge && 8 < ge && 11 >= ge), en = " ", $n = !1; function Kn(a, l) { switch (a) { case "keyup": return Wt.indexOf(l.keyCode) !== -1; case "keydown": return l.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function ci(a) { return a = a.detail, typeof a == "object" && "data" in a ? a.data : null } var ui = !1; function ji(a, l) { switch (a) { case "compositionend": return ci(l); case "keypress": return l.which !== 32 ? null : ($n = !0, en); case "textInput": return a = l.data, a === en && $n ? null : a; default: return null } } function As(a, l) { if (ui) return a === "compositionend" || !ie && Kn(a, l) ? (a = _h(), Yl = du = is = null, ui = !1, a) : null; switch (a) { case "paste": return null; case "keypress": if (!(l.ctrlKey || l.altKey || l.metaKey) || l.ctrlKey && l.altKey) { if (l.char && 1 < l.char.length) return l.char; if (l.which) return String.fromCharCode(l.which) } return null; case "compositionend": return De && l.locale !== "ko" ? null : l.data; default: return null } } var Yr = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function Es(a) { var l = a && a.nodeName && a.nodeName.toLowerCase(); return l === "input" ? !!Yr[a.type] : l === "textarea" } function vu(a, l, h, g) { eo ? ga ? ga.push(g) : ga = [g] : eo = g, l = zg(l, "onChange"), 0 < l.length && (h = new io("onChange", "change", null, h, g), a.push({ event: h, listeners: l })) } var va = null, ba = null; function ic(a) { Gw(a, 0) } function oo(a) { var l = Cr(a); if (wh(l)) return a } function rc(a, l) { if (a === "change") return l } var ll = !1; if (ns) { var xi; if (ns) { var lo = "oninput" in document; if (!lo) { var cl = document.createElement("div"); cl.setAttribute("oninput", "return;"), lo = typeof cl.oninput == "function" } xi = lo } else xi = !1; ll = xi && (!document.documentMode || 9 < document.documentMode) } function ul() { va && (va.detachEvent("onpropertychange", sc), ba = va = null) } function sc(a) { if (a.propertyName === "value" && oo(ba)) { var l = []; vu(l, ba, a, Di(a)), Eh(ic, l) } } function Tr(a, l, h) { a === "focusin" ? (ul(), va = l, ba = h, va.attachEvent("onpropertychange", sc)) : a === "focusout" && ul() } function af(a) { if (a === "selectionchange" || a === "keyup" || a === "keydown") return oo(ba) } function bu(a, l) { if (a === "click") return oo(l) } function Rh(a, l) { if (a === "input" || a === "change") return oo(l) } function rs(a, l) { return a === l && (a !== 0 || 1 / a === 1 / l) || a !== a && l !== l } var Ii = typeof Object.is == "function" ? Object.is : rs; function co(a, l) { if (Ii(a, l)) return !0; if (typeof a != "object" || a === null || typeof l != "object" || l === null) return !1; var h = Object.keys(a), g = Object.keys(l); if (h.length !== g.length) return !1; for (g = 0; g < h.length; g++) { var w = h[g]; if (!zt.call(l, w) || !Ii(a[w], l[w])) return !1 } return !0 } function yu(a) { for (; a && a.firstChild;)a = a.firstChild; return a } function ya(a, l) { var h = yu(a); a = 0; for (var g; h;) { if (h.nodeType === 3) { if (g = a + h.textContent.length, a <= l && g >= l) return { node: h, offset: l - a }; a = g } t: { for (; h;) { if (h.nextSibling) { h = h.nextSibling; break t } h = h.parentNode } h = void 0 } h = yu(h) } } function uo(a, l) { return a && l ? a === l ? !0 : a && a.nodeType === 3 ? !1 : l && l.nodeType === 3 ? uo(a, l.parentNode) : "contains" in a ? a.contains(l) : a.compareDocumentPosition ? !!(a.compareDocumentPosition(l) & 16) : !1 : !1 } function br(a) { a = a != null && a.ownerDocument != null && a.ownerDocument.defaultView != null ? a.ownerDocument.defaultView : window; for (var l = Nr(a.document); l instanceof a.HTMLIFrameElement;) { try { var h = typeof l.contentWindow.location.href == "string" } catch { h = !1 } if (h) a = l.contentWindow; else break; l = Nr(a.document) } return l } function $i(a) { var l = a && a.nodeName && a.nodeName.toLowerCase(); return l && (l === "input" && (a.type === "text" || a.type === "search" || a.type === "tel" || a.type === "url" || a.type === "password") || l === "textarea" || a.contentEditable === "true") } var ho = ns && "documentMode" in document && 11 >= document.documentMode, Lr = null, _s = null, Ws = null, Cs = !1; function ti(a, l, h) { var g = h.window === h ? h.document : h.nodeType === 9 ? h : h.ownerDocument; Cs || Lr == null || Lr !== Nr(g) || (g = Lr, "selectionStart" in g && $i(g) ? g = { start: g.selectionStart, end: g.selectionEnd } : (g = (g.ownerDocument && g.ownerDocument.defaultView || window).getSelection(), g = { anchorNode: g.anchorNode, anchorOffset: g.anchorOffset, focusNode: g.focusNode, focusOffset: g.focusOffset }), Ws && co(Ws, g) || (Ws = g, g = zg(_s, "onSelect"), 0 < g.length && (l = new io("onSelect", "select", null, l, h), a.push({ event: l, listeners: g }), l.target = Lr))) } function Ns(a, l) { var h = {}; return h[a.toLowerCase()] = l.toLowerCase(), h["Webkit" + a] = "webkit" + l, h["Moz" + a] = "moz" + l, h } var mi = { animationend: Ns("Animation", "AnimationEnd"), animationiteration: Ns("Animation", "AnimationIteration"), animationstart: Ns("Animation", "AnimationStart"), transitionrun: Ns("Transition", "TransitionRun"), transitionstart: Ns("Transition", "TransitionStart"), transitioncancel: Ns("Transition", "TransitionCancel"), transitionend: Ns("Transition", "TransitionEnd") }, Mr = {}, hl = {}; ns && (hl = document.createElement("div").style, "AnimationEvent" in window || (delete mi.animationend.animation, delete mi.animationiteration.animation, delete mi.animationstart.animation), "TransitionEvent" in window || delete mi.transitionend.transition); function Ys(a) { if (Mr[a]) return Mr[a]; if (!mi[a]) return a; var l = mi[a], h; for (h in l) if (l.hasOwnProperty(h) && h in hl) return Mr[a] = l[h]; return a } var ac = Ys("animationend"), fo = Ys("animationiteration"), po = Ys("animationstart"), go = Ys("transitionrun"), dl = Ys("transitionstart"), oc = Ys("transitioncancel"), mo = Ys("transitionend"), wa = new Map, fl = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); fl.push("scrollEnd"); function ei(a, l) { wa.set(a, l), es(l, [a]) } var Xr = new WeakMap; function Ye(a, l) { if (typeof a == "object" && a !== null) { var h = Xr.get(a); return h !== void 0 ? h : (l = { value: a, source: l, stack: Jn(l) }, Xr.set(a, l), l) } return { value: a, source: l, stack: Jn(l) } } var Xe = [], On = 0, hi = 0; function ss() { for (var a = On, l = hi = On = 0; l < a;) { var h = Xe[l]; Xe[l++] = null; var g = Xe[l]; Xe[l++] = null; var w = Xe[l]; Xe[l++] = null; var _ = Xe[l]; if (Xe[l++] = null, g !== null && w !== null) { var B = g.pending; B === null ? w.next = w : (w.next = B.next, B.next = w), g.pending = w } _ !== 0 && Th(h, w, _) } } function vo(a, l, h, g) { Xe[On++] = a, Xe[On++] = l, Xe[On++] = h, Xe[On++] = g, hi |= g, a.lanes |= g, a = a.alternate, a !== null && (a.lanes |= g) } function bo(a, l, h, g) { return vo(a, l, h, g), pl(a) } function xa(a, l) { return vo(a, null, null, l), pl(a) } function Th(a, l, h) { a.lanes |= h; var g = a.alternate; g !== null && (g.lanes |= h); for (var w = !1, _ = a.return; _ !== null;)_.childLanes |= h, g = _.alternate, g !== null && (g.childLanes |= h), _.tag === 22 && (a = _.stateNode, a === null || a._visibility & 1 || (w = !0)), a = _, _ = _.return; return a.tag === 3 ? (_ = a.stateNode, w && l !== null && (w = 31 - le(h), a = _.hiddenUpdates, g = a[w], g === null ? a[w] = [l] : g.push(l), l.lane = h | 536870912), _) : null } function pl(a) { if (50 < Mf) throw Mf = 0, Av = null, Error(n(185)); for (var l = a.return; l !== null;)a = l, l = a.return; return a.tag === 3 ? a.stateNode : null } var Fi = {}; function as(a, l, h, g) { this.tag = a, this.key = h, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = l, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = g, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function or(a, l, h, g) { return new as(a, l, h, g) } function lc(a) { return a = a.prototype, !(!a || !a.isReactComponent) } function Xs(a, l) { var h = a.alternate; return h === null ? (h = or(a.tag, l, a.key, a.mode), h.elementType = a.elementType, h.type = a.type, h.stateNode = a.stateNode, h.alternate = a, a.alternate = h) : (h.pendingProps = l, h.type = a.type, h.flags = 0, h.subtreeFlags = 0, h.deletions = null), h.flags = a.flags & 65011712, h.childLanes = a.childLanes, h.lanes = a.lanes, h.child = a.child, h.memoizedProps = a.memoizedProps, h.memoizedState = a.memoizedState, h.updateQueue = a.updateQueue, l = a.dependencies, h.dependencies = l === null ? null : { lanes: l.lanes, firstContext: l.firstContext }, h.sibling = a.sibling, h.index = a.index, h.ref = a.ref, h.refCleanup = a.refCleanup, h } function wu(a, l) { a.flags &= 65011714; var h = a.alternate; return h === null ? (a.childLanes = 0, a.lanes = l, a.child = null, a.subtreeFlags = 0, a.memoizedProps = null, a.memoizedState = null, a.updateQueue = null, a.dependencies = null, a.stateNode = null) : (a.childLanes = h.childLanes, a.lanes = h.lanes, a.child = h.child, a.subtreeFlags = 0, a.deletions = null, a.memoizedProps = h.memoizedProps, a.memoizedState = h.memoizedState, a.updateQueue = h.updateQueue, a.type = h.type, l = h.dependencies, a.dependencies = l === null ? null : { lanes: l.lanes, firstContext: l.firstContext }), a } function gl(a, l, h, g, w, _) { var B = 0; if (g = a, typeof a == "function") lc(a) && (B = 1); else if (typeof a == "string") B = C4(a, h, Z.current) ? 26 : a === "html" || a === "head" || a === "body" ? 27 : 5; else t: switch (a) { case J: return a = or(31, h, l, w), a.elementType = J, a.lanes = _, a; case x: return Sa(h.children, w, _, l); case y: B = 8, w |= 24; break; case E: return a = or(12, h, l, w | 2), a.elementType = E, a.lanes = _, a; case O: return a = or(13, h, l, w), a.elementType = O, a.lanes = _, a; case F: return a = or(19, h, l, w), a.elementType = F, a.lanes = _, a; default: if (typeof a == "object" && a !== null) switch (a.$$typeof) { case A: case L: B = 10; break t; case T: B = 9; break t; case k: B = 11; break t; case D: B = 14; break t; case j: B = 16, g = null; break t }B = 29, h = Error(n(130, a === null ? "null" : typeof a, "")), g = null }return l = or(B, h, l, w), l.elementType = a, l.type = g, l.lanes = _, l } function Sa(a, l, h, g) { return a = or(7, a, g, l), a.lanes = h, a } function Lh(a, l, h) { return a = or(6, a, null, l), a.lanes = h, a } function xu(a, l, h) { return l = or(4, a.children !== null ? a.children : [], a.key, l), l.lanes = h, l.stateNode = { containerInfo: a.containerInfo, pendingChildren: null, implementation: a.implementation }, l } var yo = [], Aa = 0, cc = null, Mh = 0, os = [], Kr = 0, ml = null, Ea = 1, _a = ""; function vl(a, l) { yo[Aa++] = Mh, yo[Aa++] = cc, cc = a, Mh = l } function rg(a, l, h) { os[Kr++] = Ea, os[Kr++] = _a, os[Kr++] = ml, ml = a; var g = Ea; a = _a; var w = 32 - le(g) - 1; g &= ~(1 << w), h += 1; var _ = 32 - le(l) + w; if (30 < _) { var B = w - w % 5; _ = (g & (1 << B) - 1).toString(32), g >>= B, w -= B, Ea = 1 << 32 - le(l) + w | h << w | g, _a = _ + a } else Ea = 1 << _ | h << w | g, _a = a } function Su(a) { a.return !== null && (vl(a, 1), rg(a, 1, 0)) } function Au(a) { for (; a === cc;)cc = yo[--Aa], yo[Aa] = null, Mh = yo[--Aa], yo[Aa] = null; for (; a === ml;)ml = os[--Kr], os[Kr] = null, _a = os[--Kr], os[Kr] = null, Ea = os[--Kr], os[Kr] = null } var Si = null, ni = null, bn = !1, wo = null, Ks = !1, of = Error(n(519)); function bl(a) { var l = Error(n(418, "")); throw uc(Ye(l, a)), of } function sg(a) { var l = a.stateNode, h = a.type, g = a.memoizedProps; switch (l[mn] = a, l[tn] = g, h) { case "dialog": rn("cancel", l), rn("close", l); break; case "iframe": case "object": case "embed": rn("load", l); break; case "video": case "audio": for (h = 0; h < Of.length; h++)rn(Of[h], l); break; case "source": rn("error", l); break; case "img": case "image": case "link": rn("error", l), rn("load", l); break; case "details": rn("toggle", l); break; case "input": rn("invalid", l), au(l, g.value, g.defaultValue, g.checked, g.defaultChecked, g.type, g.name, !0), Ja(l); break; case "select": rn("invalid", l); break; case "textarea": rn("invalid", l), lu(l, g.value, g.defaultValue, g.children), Ja(l) }h = g.children, typeof h != "string" && typeof h != "number" && typeof h != "bigint" || l.textContent === "" + h || g.suppressHydrationWarning === !0 || Xw(l.textContent, h) ? (g.popover != null && (rn("beforetoggle", l), rn("toggle", l)), g.onScroll != null && rn("scroll", l), g.onScrollEnd != null && rn("scrollend", l), g.onClick != null && (l.onclick = Ug), l = !0) : l = !1, l || bl(a) } function Ca(a) { for (Si = a.return; Si;)switch (Si.tag) { case 5: case 13: Ks = !1; return; case 27: case 3: Ks = !0; return; default: Si = Si.return } } function yr(a) { if (a !== Si) return !1; if (!bn) return Ca(a), bn = !0, !1; var l = a.tag, h; if ((h = l !== 3 && l !== 27) && ((h = l === 5) && (h = a.type, h = !(h !== "form" && h !== "button") || Bv(a.type, a.memoizedProps)), h = !h), h && ni && bl(a), Ca(a), l === 13) { if (a = a.memoizedState, a = a !== null ? a.dehydrated : null, !a) throw Error(n(317)); t: { for (a = a.nextSibling, l = 0; a;) { if (a.nodeType === 8) if (h = a.data, h === "/$") { if (l === 0) { ni = ka(a.nextSibling); break t } l-- } else h !== "$" && h !== "$!" && h !== "$?" || l++; a = a.nextSibling } ni = null } } else l === 27 ? (l = ni, Nc(a.type) ? (a = qv, qv = null, ni = a) : ni = l) : ni = Si ? ka(a.stateNode.nextSibling) : null; return !0 } function Qr() { ni = Si = null, bn = !1 } function ag() { var a = wo; return a !== null && (us === null ? us = a : us.push.apply(us, a), wo = null), a } function uc(a) { wo === null ? wo = [a] : wo.push(a) } var Qs = ft(null), Bi = null, Na = null; function xo(a, l, h) { V(Qs, l._currentValue), l._currentValue = h } function Zs(a) { a._currentValue = Qs.current, I(Qs) } function Ph(a, l, h) { for (; a !== null;) { var g = a.alternate; if ((a.childLanes & l) !== l ? (a.childLanes |= l, g !== null && (g.childLanes |= l)) : g !== null && (g.childLanes & l) !== l && (g.childLanes |= l), a === h) break; a = a.return } } function Oh(a, l, h, g) { var w = a.child; for (w !== null && (w.return = a); w !== null;) { var _ = w.dependencies; if (_ !== null) { var B = w.child; _ = _.firstContext; t: for (; _ !== null;) { var K = _; _ = w; for (var dt = 0; dt < l.length; dt++)if (K.context === l[dt]) { _.lanes |= h, K = _.alternate, K !== null && (K.lanes |= h), Ph(_.return, h, a), g || (B = null); break t } _ = K.next } } else if (w.tag === 18) { if (B = w.return, B === null) throw Error(n(341)); B.lanes |= h, _ = B.alternate, _ !== null && (_.lanes |= h), Ph(B, h, a), B = null } else B = w.child; if (B !== null) B.return = w; else for (B = w; B !== null;) { if (B === a) { B = null; break } if (w = B.sibling, w !== null) { w.return = B.return, B = w; break } B = B.return } w = B } } function hc(a, l, h, g) { a = null; for (var w = l, _ = !1; w !== null;) { if (!_) { if ((w.flags & 524288) !== 0) _ = !0; else if ((w.flags & 262144) !== 0) break } if (w.tag === 10) { var B = w.alternate; if (B === null) throw Error(n(387)); if (B = B.memoizedProps, B !== null) { var K = w.type; Ii(w.pendingProps.value, B.value) || (a !== null ? a.push(K) : a = [K]) } } else if (w === ct.current) { if (B = w.alternate, B === null) throw Error(n(387)); B.memoizedState.memoizedState !== w.memoizedState.memoizedState && (a !== null ? a.push(Bf) : a = [Bf]) } w = w.return } a !== null && Oh(l, a, h, g), l.flags |= 262144 } function kh(a) { for (a = a.firstContext; a !== null;) { if (!Ii(a.context._currentValue, a.memoizedValue)) return !0; a = a.next } return !1 } function Js(a) { Bi = a, Na = null, a = a.dependencies, a !== null && (a.firstContext = null) } function Ai(a) { return Dh(Bi, a) } function So(a, l) { return Bi === null && Js(a), Dh(a, l) } function Dh(a, l) { var h = l._currentValue; if (l = { context: l, memoizedValue: h, next: null }, Na === null) { if (a === null) throw Error(n(308)); Na = l, a.dependencies = { lanes: 0, firstContext: l }, a.flags |= 524288 } else Na = Na.next = l; return h } var Y0 = typeof AbortController < "u" ? AbortController : function () { var a = [], l = this.signal = { aborted: !1, addEventListener: function (h, g) { a.push(g) } }; this.abort = function () { l.aborted = !0, a.forEach(function (h) { return h() }) } }, og = i.unstable_scheduleCallback, X0 = i.unstable_NormalPriority, Ei = { $$typeof: L, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function lf() { return { controller: new Y0, data: new Map, refCount: 0 } } function Eu(a) { a.refCount--, a.refCount === 0 && og(X0, function () { a.controller.abort() }) } var _u = null, cf = 0, yl = 0, Ra = null; function K0(a, l) { if (_u === null) { var h = _u = []; cf = 0, yl = Lv(), Ra = { status: "pending", value: void 0, then: function (g) { h.push(g) } } } return cf++, l.then(lg, lg), l } function lg() { if (--cf === 0 && _u !== null) { Ra !== null && (Ra.status = "fulfilled"); var a = _u; _u = null, yl = 0, Ra = null; for (var l = 0; l < a.length; l++)(0, a[l])() } } function cg(a, l) { var h = [], g = { status: "pending", value: null, reason: null, then: function (w) { h.push(w) } }; return a.then(function () { g.status = "fulfilled", g.value = l; for (var w = 0; w < h.length; w++)(0, h[w])(l) }, function (w) { for (g.status = "rejected", g.reason = w, w = 0; w < h.length; w++)(0, h[w])(void 0) }), g } var b = U.S; U.S = function (a, l) { typeof l == "object" && l !== null && typeof l.then == "function" && K0(a, l), b !== null && b(a, l) }; var S = ft(null); function R() { var a = S.current; return a !== null ? a : Yn.pooledCache } function P(a, l) { l === null ? V(S, S.current) : V(S, l.pool) } function H() { var a = R(); return a === null ? null : { parent: Ei._currentValue, pool: a } } var $ = Error(n(460)), W = Error(n(474)), X = Error(n(542)), et = { then: function () { } }; function rt(a) { return a = a.status, a === "fulfilled" || a === "rejected" } function vt() { } function Nt(a, l, h) { switch (h = a[h], h === void 0 ? a.push(l) : h !== l && (l.then(vt, vt), l = h), l.status) { case "fulfilled": return l.value; case "rejected": throw a = l.reason, Ht(a), a; default: if (typeof l.status == "string") l.then(vt, vt); else { if (a = Yn, a !== null && 100 < a.shellSuspendCounter) throw Error(n(482)); a = l, a.status = "pending", a.then(function (g) { if (l.status === "pending") { var w = l; w.status = "fulfilled", w.value = g } }, function (g) { if (l.status === "pending") { var w = l; w.status = "rejected", w.reason = g } }) } switch (l.status) { case "fulfilled": return l.value; case "rejected": throw a = l.reason, Ht(a), a }throw _t = l, $ } } var _t = null; function St() { if (_t === null) throw Error(n(459)); var a = _t; return _t = null, a } function Ht(a) { if (a === $ || a === X) throw Error(n(483)) } var Ot = !1; function bt(a) { a.updateQueue = { baseState: a.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function wt(a, l) { a = a.updateQueue, l.updateQueue === a && (l.updateQueue = { baseState: a.baseState, firstBaseUpdate: a.firstBaseUpdate, lastBaseUpdate: a.lastBaseUpdate, shared: a.shared, callbacks: null }) } function It(a) { return { lane: a, tag: 0, payload: null, callback: null, next: null } } function qt(a, l, h) { var g = a.updateQueue; if (g === null) return null; if (g = g.shared, (Tn & 2) !== 0) { var w = g.pending; return w === null ? l.next = l : (l.next = w.next, w.next = l), g.pending = l, l = pl(a), Th(a, null, h), l } return vo(a, g, l, h), pl(a) } function Bt(a, l, h) { if (l = l.updateQueue, l !== null && (l = l.shared, (h & 4194048) !== 0)) { var g = l.lanes; g &= a.pendingLanes, h |= g, l.lanes = h, xe(a, h) } } function re(a, l) { var h = a.updateQueue, g = a.alternate; if (g !== null && (g = g.updateQueue, h === g)) { var w = null, _ = null; if (h = h.firstBaseUpdate, h !== null) { do { var B = { lane: h.lane, tag: h.tag, payload: h.payload, callback: null, next: null }; _ === null ? w = _ = B : _ = _.next = B, h = h.next } while (h !== null); _ === null ? w = _ = l : _ = _.next = l } else w = _ = l; h = { baseState: g.baseState, firstBaseUpdate: w, lastBaseUpdate: _, shared: g.shared, callbacks: g.callbacks }, a.updateQueue = h; return } a = h.lastBaseUpdate, a === null ? h.firstBaseUpdate = l : a.next = l, h.lastBaseUpdate = l } var te = !1; function me() { if (te) { var a = Ra; if (a !== null) throw a } } function ee(a, l, h, g) { te = !1; var w = a.updateQueue; Ot = !1; var _ = w.firstBaseUpdate, B = w.lastBaseUpdate, K = w.shared.pending; if (K !== null) { w.shared.pending = null; var dt = K, Rt = dt.next; dt.next = null, B === null ? _ = Rt : B.next = Rt, B = dt; var Ft = a.alternate; Ft !== null && (Ft = Ft.updateQueue, K = Ft.lastBaseUpdate, K !== B && (K === null ? Ft.firstBaseUpdate = Rt : K.next = Rt, Ft.lastBaseUpdate = dt)) } if (_ !== null) { var Gt = w.baseState; B = 0, Ft = Rt = dt = null, K = _; do { var Mt = K.lane & -536870913, Pt = Mt !== K.lane; if (Pt ? (gn & Mt) === Mt : (g & Mt) === Mt) { Mt !== 0 && Mt === yl && (te = !0), Ft !== null && (Ft = Ft.next = { lane: 0, tag: K.tag, payload: K.payload, callback: null, next: null }); t: { var Oe = a, Ee = K; Mt = l; var Dn = h; switch (Ee.tag) { case 1: if (Oe = Ee.payload, typeof Oe == "function") { Gt = Oe.call(Dn, Gt, Mt); break t } Gt = Oe; break t; case 3: Oe.flags = Oe.flags & -65537 | 128; case 0: if (Oe = Ee.payload, Mt = typeof Oe == "function" ? Oe.call(Dn, Gt, Mt) : Oe, Mt == null) break t; Gt = f({}, Gt, Mt); break t; case 2: Ot = !0 } } Mt = K.callback, Mt !== null && (a.flags |= 64, Pt && (a.flags |= 8192), Pt = w.callbacks, Pt === null ? w.callbacks = [Mt] : Pt.push(Mt)) } else Pt = { lane: Mt, tag: K.tag, payload: K.payload, callback: K.callback, next: null }, Ft === null ? (Rt = Ft = Pt, dt = Gt) : Ft = Ft.next = Pt, B |= Mt; if (K = K.next, K === null) { if (K = w.shared.pending, K === null) break; Pt = K, K = Pt.next, Pt.next = null, w.lastBaseUpdate = Pt, w.shared.pending = null } } while (!0); Ft === null && (dt = Gt), w.baseState = dt, w.firstBaseUpdate = Rt, w.lastBaseUpdate = Ft, _ === null && (w.shared.lanes = 0), Ac |= B, a.lanes = B, a.memoizedState = Gt } } function fn(a, l) { if (typeof a != "function") throw Error(n(191, a)); a.call(l) } function wn(a, l) { var h = a.callbacks; if (h !== null) for (a.callbacks = null, a = 0; a < h.length; a++)fn(h[a], l) } var $e = ft(null), Ve = ft(0); function Cn(a, l) { a = Tl, V(Ve, a), V($e, l), Tl = a | l.baseLanes } function xn() { V(Ve, Tl), V($e, $e.current) } function Ie() { Tl = Ve.current, I($e), I(Ve) } var Rn = 0, we = null, Le = null, hn = null, pn = !1, zi = !1, _i = !1, di = 0, fi = 0, vi = null, ls = 0; function Sn() { throw Error(n(321)) } function bi(a, l) { if (l === null) return !1; for (var h = 0; h < l.length && h < a.length; h++)if (!Ii(a[h], l[h])) return !1; return !0 } function Rs(a, l, h, g, w, _) { return Rn = _, we = l, l.memoizedState = null, l.updateQueue = null, l.lanes = 0, U.H = a === null || a.memoizedState === null ? T2 : L2, _i = !1, _ = h(g, w), _i = !1, zi && (_ = wl(l, h, g, w)), Ao(a), _ } function Ao(a) { U.H = xg; var l = Le !== null && Le.next !== null; if (Rn = 0, hn = Le = we = null, pn = !1, fi = 0, vi = null, l) throw Error(n(300)); a === null || lr || (a = a.dependencies, a !== null && kh(a) && (lr = !0)) } function wl(a, l, h, g) { we = a; var w = 0; do { if (zi && (vi = null), fi = 0, zi = !1, 25 <= w) throw Error(n(301)); if (w += 1, hn = Le = null, a.updateQueue != null) { var _ = a.updateQueue; _.lastEffect = null, _.events = null, _.stores = null, _.memoCache != null && (_.memoCache.index = 0) } U.H = IN, _ = l(h, g) } while (zi); return _ } function Eo() { var a = U.H, l = a.useState()[0]; return l = typeof l.then == "function" ? _o(l) : l, a = a.useState()[0], (Le !== null ? Le.memoizedState : null) !== a && (we.flags |= 1024), l } function Wn() { var a = di !== 0; return di = 0, a } function Cu(a, l, h) { l.updateQueue = a.updateQueue, l.flags &= -2053, a.lanes &= ~h } function jh(a) { if (pn) { for (a = a.memoizedState; a !== null;) { var l = a.queue; l !== null && (l.pending = null), a = a.next } pn = !1 } Rn = 0, hn = Le = we = null, zi = !1, fi = di = 0, vi = null } function wr() { var a = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return hn === null ? we.memoizedState = hn = a : hn = hn.next = a, hn } function Qn() { if (Le === null) { var a = we.alternate; a = a !== null ? a.memoizedState : null } else a = Le.next; var l = hn === null ? we.memoizedState : hn.next; if (l !== null) hn = l, Le = a; else { if (a === null) throw we.alternate === null ? Error(n(467)) : Error(n(310)); Le = a, a = { memoizedState: Le.memoizedState, baseState: Le.baseState, baseQueue: Le.baseQueue, queue: Le.queue, next: null }, hn === null ? we.memoizedState = hn = a : hn = hn.next = a } return hn } function xl() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function _o(a) { var l = fi; return fi += 1, vi === null && (vi = []), a = Nt(vi, a, l), l = we, (hn === null ? l.memoizedState : hn.next) === null && (l = l.alternate, U.H = l === null || l.memoizedState === null ? T2 : L2), a } function Pr(a) { if (a !== null && typeof a == "object") { if (typeof a.then == "function") return _o(a); if (a.$$typeof === L) return Ai(a) } throw Error(n(438, String(a))) } function Co(a) { var l = null, h = we.updateQueue; if (h !== null && (l = h.memoCache), l == null) { var g = we.alternate; g !== null && (g = g.updateQueue, g !== null && (g = g.memoCache, g != null && (l = { data: g.data.map(function (w) { return w.slice() }), index: 0 }))) } if (l == null && (l = { data: [], index: 0 }), h === null && (h = xl(), we.updateQueue = h), h.memoCache = l, h = l.data[l.index], h === void 0) for (h = l.data[l.index] = Array(a), g = 0; g < a; g++)h[g] = ot; return l.index++, h } function Or(a, l) { return typeof l == "function" ? l(a) : l } function Nu(a) { var l = Qn(); return dc(l, Le, a) } function dc(a, l, h) { var g = a.queue; if (g === null) throw Error(n(311)); g.lastRenderedReducer = h; var w = a.baseQueue, _ = g.pending; if (_ !== null) { if (w !== null) { var B = w.next; w.next = _.next, _.next = B } l.baseQueue = w = _, g.pending = null } if (_ = a.baseState, w === null) a.memoizedState = _; else { l = w.next; var K = B = null, dt = null, Rt = l, Ft = !1; do { var Gt = Rt.lane & -536870913; if (Gt !== Rt.lane ? (gn & Gt) === Gt : (Rn & Gt) === Gt) { var Mt = Rt.revertLane; if (Mt === 0) dt !== null && (dt = dt.next = { lane: 0, revertLane: 0, action: Rt.action, hasEagerState: Rt.hasEagerState, eagerState: Rt.eagerState, next: null }), Gt === yl && (Ft = !0); else if ((Rn & Mt) === Mt) { Rt = Rt.next, Mt === yl && (Ft = !0); continue } else Gt = { lane: 0, revertLane: Rt.revertLane, action: Rt.action, hasEagerState: Rt.hasEagerState, eagerState: Rt.eagerState, next: null }, dt === null ? (K = dt = Gt, B = _) : dt = dt.next = Gt, we.lanes |= Mt, Ac |= Mt; Gt = Rt.action, _i && h(_, Gt), _ = Rt.hasEagerState ? Rt.eagerState : h(_, Gt) } else Mt = { lane: Gt, revertLane: Rt.revertLane, action: Rt.action, hasEagerState: Rt.hasEagerState, eagerState: Rt.eagerState, next: null }, dt === null ? (K = dt = Mt, B = _) : dt = dt.next = Mt, we.lanes |= Gt, Ac |= Gt; Rt = Rt.next } while (Rt !== null && Rt !== l); if (dt === null ? B = _ : dt.next = K, !Ii(_, a.memoizedState) && (lr = !0, Ft && (h = Ra, h !== null))) throw h; a.memoizedState = _, a.baseState = B, a.baseQueue = dt, g.lastRenderedState = _ } return w === null && (g.lanes = 0), [a.memoizedState, g.dispatch] } function Ih(a) { var l = Qn(), h = l.queue; if (h === null) throw Error(n(311)); h.lastRenderedReducer = a; var g = h.dispatch, w = h.pending, _ = l.memoizedState; if (w !== null) { h.pending = null; var B = w = w.next; do _ = a(_, B.action), B = B.next; while (B !== w); Ii(_, l.memoizedState) || (lr = !0), l.memoizedState = _, l.baseQueue === null && (l.baseState = _), h.lastRenderedState = _ } return [_, g] } function Ru(a, l, h) { var g = we, w = Qn(), _ = bn; if (_) { if (h === void 0) throw Error(n(407)); h = h() } else h = l(); var B = !Ii((Le || w).memoizedState, h); B && (w.memoizedState = h, lr = !0), w = w.queue; var K = fc.bind(null, g, w, a); if (mc(2048, 8, K, [a]), w.getSnapshot !== l || B || hn !== null && hn.memoizedState.tag & 1) { if (g.flags |= 2048, La(9, Pu(), Tu.bind(null, g, w, h, l), null), Yn === null) throw Error(n(349)); _ || (Rn & 124) !== 0 || Fh(g, l, h) } return h } function Fh(a, l, h) { a.flags |= 16384, a = { getSnapshot: l, value: h }, l = we.updateQueue, l === null ? (l = xl(), we.updateQueue = l, l.stores = [a]) : (h = l.stores, h === null ? l.stores = [a] : h.push(a)) } function Tu(a, l, h, g) { l.value = h, l.getSnapshot = g, ug(l) && hg(a) } function fc(a, l, h) { return h(function () { ug(l) && hg(a) }) } function ug(a) { var l = a.getSnapshot; a = a.value; try { var h = l(); return !Ii(a, h) } catch { return !0 } } function hg(a) { var l = xa(a, 2); l !== null && ks(l, a, 2) } function Lu(a) { var l = wr(); if (typeof a == "function") { var h = a; if (a = h(), _i) { Fe(!0); try { h() } finally { Fe(!1) } } } return l.memoizedState = l.baseState = a, l.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Or, lastRenderedState: a }, l } function Ta(a, l, h, g) { return a.baseState = h, dc(a, Le, typeof g == "function" ? g : Or) } function Q0(a, l, h, g, w) { if (wg(a)) throw Error(n(485)); if (a = l.action, a !== null) { var _ = { payload: w, action: a, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (B) { _.listeners.push(B) } }; U.T !== null ? h(!0) : _.isTransition = !1, g(_), h = l.pending, h === null ? (_.next = l.pending = _, dg(l, _)) : (_.next = h.next, l.pending = h.next = _) } } function dg(a, l) { var h = l.action, g = l.payload, w = a.state; if (l.isTransition) { var _ = U.T, B = {}; U.T = B; try { var K = h(w, g), dt = U.S; dt !== null && dt(B, K), fg(a, l, K) } catch (Rt) { pc(a, l, Rt) } finally { U.T = _ } } else try { _ = h(w, g), fg(a, l, _) } catch (Rt) { pc(a, l, Rt) } } function fg(a, l, h) { h !== null && typeof h == "object" && typeof h.then == "function" ? h.then(function (g) { uf(a, l, g) }, function (g) { return pc(a, l, g) }) : uf(a, l, h) } function uf(a, l, h) { l.status = "fulfilled", l.value = h, hf(l), a.state = h, l = a.pending, l !== null && (h = l.next, h === l ? a.pending = null : (h = h.next, l.next = h, dg(a, h))) } function pc(a, l, h) { var g = a.pending; if (a.pending = null, g !== null) { g = g.next; do l.status = "rejected", l.reason = h, hf(l), l = l.next; while (l !== g) } a.action = null } function hf(a) { a = a.listeners; for (var l = 0; l < a.length; l++)(0, a[l])() } function df(a, l) { return l } function Mu(a, l) { if (bn) { var h = Yn.formState; if (h !== null) { t: { var g = we; if (bn) { if (ni) { e: { for (var w = ni, _ = Ks; w.nodeType !== 8;) { if (!_) { w = null; break e } if (w = ka(w.nextSibling), w === null) { w = null; break e } } _ = w.data, w = _ === "F!" || _ === "F" ? w : null } if (w) { ni = ka(w.nextSibling), g = w.data === "F!"; break t } } bl(g) } g = !1 } g && (l = h[0]) } } return h = wr(), h.memoizedState = h.baseState = l, g = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: df, lastRenderedState: l }, h.queue = g, h = C2.bind(null, we, g), g.dispatch = h, g = Lu(!1), _ = Z0.bind(null, we, !1, g.queue), g = wr(), w = { state: l, dispatch: null, action: a, pending: null }, g.queue = w, h = Q0.bind(null, we, w, _, h), w.dispatch = h, g.memoizedState = a, [l, h, !1] } function Bh(a) { var l = Qn(); return gc(l, Le, a) } function gc(a, l, h) { if (l = dc(a, l, df)[0], a = Nu(Or)[0], typeof l == "object" && l !== null && typeof l.then == "function") try { var g = _o(l) } catch (B) { throw B === $ ? X : B } else g = l; l = Qn(); var w = l.queue, _ = w.dispatch; return h !== l.memoizedState && (we.flags |= 2048, La(9, Pu(), pg.bind(null, w, h), null)), [g, _, a] } function pg(a, l) { a.action = l } function gg(a) { var l = Qn(), h = Le; if (h !== null) return gc(l, h, a); Qn(), l = l.memoizedState, h = Qn(); var g = h.queue.dispatch; return h.memoizedState = a, [l, g, !1] } function La(a, l, h, g) { return a = { tag: a, create: h, deps: g, inst: l, next: null }, l = we.updateQueue, l === null && (l = xl(), we.updateQueue = l), h = l.lastEffect, h === null ? l.lastEffect = a.next = a : (g = h.next, h.next = a, a.next = g, l.lastEffect = a), a } function Pu() { return { destroy: void 0, resource: void 0 } } function zh() { return Qn().memoizedState } function Ts(a, l, h, g) { var w = wr(); g = g === void 0 ? null : g, we.flags |= a, w.memoizedState = La(1 | l, Pu(), h, g) } function mc(a, l, h, g) { var w = Qn(); g = g === void 0 ? null : g; var _ = w.memoizedState.inst; Le !== null && g !== null && bi(g, Le.memoizedState.deps) ? w.memoizedState = La(l, _, h, g) : (we.flags |= a, w.memoizedState = La(1 | l, _, h, g)) } function ff(a, l) { Ts(8390656, 8, a, l) } function mg(a, l) { mc(2048, 8, a, l) } function pf(a, l) { return mc(4, 2, a, l) } function Sl(a, l) { return mc(4, 4, a, l) } function vg(a, l) { if (typeof l == "function") { a = a(); var h = l(a); return function () { typeof h == "function" ? h() : l(null) } } if (l != null) return a = a(), l.current = a, function () { l.current = null } } function gf(a, l, h) { h = h != null ? h.concat([a]) : null, mc(4, 4, vg.bind(null, l, a), h) } function mf() { } function vf(a, l) { var h = Qn(); l = l === void 0 ? null : l; var g = h.memoizedState; return l !== null && bi(l, g[1]) ? g[0] : (h.memoizedState = [a, l], a) } function bg(a, l) { var h = Qn(); l = l === void 0 ? null : l; var g = h.memoizedState; if (l !== null && bi(l, g[1])) return g[0]; if (g = a(), _i) { Fe(!0); try { a() } finally { Fe(!1) } } return h.memoizedState = [g, l], g } function Al(a, l, h) { return h === void 0 || (Rn & 1073741824) !== 0 ? a.memoizedState = l : (a.memoizedState = h, a = Sw(), we.lanes |= a, Ac |= a, h) } function Uh(a, l, h, g) { return Ii(h, l) ? h : $e.current !== null ? (a = Al(a, h, g), Ii(a, l) || (lr = !0), a) : (Rn & 42) === 0 ? (lr = !0, a.memoizedState = h) : (a = Sw(), we.lanes |= a, Ac |= a, l) } function Ou(a, l, h, g, w) { var _ = tt.p; tt.p = _ !== 0 && 8 > _ ? _ : 8; var B = U.T, K = {}; U.T = K, Z0(a, !1, l, h); try { var dt = w(), Rt = U.S; if (Rt !== null && Rt(K, dt), dt !== null && typeof dt == "object" && typeof dt.then == "function") { var Ft = cg(dt, g); xf(a, l, Ft, Os(a)) } else xf(a, l, g, Os(a)) } catch (Gt) { xf(a, l, { then: function () { }, status: "rejected", reason: Gt }, Os()) } finally { tt.p = _, U.T = B } } function Ma() { } function ta(a, l, h, g) { if (a.tag !== 5) throw Error(n(476)); var w = Pa(a).queue; Ou(a, w, l, Q, h === null ? Ma : function () { return ku(a), h(g) }) } function Pa(a) { var l = a.memoizedState; if (l !== null) return l; l = { memoizedState: Q, baseState: Q, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Or, lastRenderedState: Q }, next: null }; var h = {}; return l.next = { memoizedState: h, baseState: h, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: Or, lastRenderedState: h }, next: null }, a.memoizedState = l, a = a.alternate, a !== null && (a.memoizedState = l), l } function ku(a) { var l = Pa(a).next.queue; xf(a, l, {}, Os()) } function Du() { return Ai(Bf) } function bf() { return Qn().memoizedState } function yg() { return Qn().memoizedState } function yf(a) { for (var l = a.return; l !== null;) { switch (l.tag) { case 24: case 3: var h = Os(); a = It(h); var g = qt(l, a, h); g !== null && (ks(g, l, h), Bt(g, l, h)), l = { cache: lf() }, a.payload = l; return }l = l.return } } function wf(a, l, h) { var g = Os(); h = { lane: g, revertLane: 0, action: h, hasEagerState: !1, eagerState: null, next: null }, wg(a) ? N2(l, h) : (h = bo(a, l, h, g), h !== null && (ks(h, a, g), R2(h, l, g))) } function C2(a, l, h) { var g = Os(); xf(a, l, h, g) } function xf(a, l, h, g) { var w = { lane: g, revertLane: 0, action: h, hasEagerState: !1, eagerState: null, next: null }; if (wg(a)) N2(l, w); else { var _ = a.alternate; if (a.lanes === 0 && (_ === null || _.lanes === 0) && (_ = l.lastRenderedReducer, _ !== null)) try { var B = l.lastRenderedState, K = _(B, h); if (w.hasEagerState = !0, w.eagerState = K, Ii(K, B)) return vo(a, l, w, 0), Yn === null && ss(), !1 } catch { } finally { } if (h = bo(a, l, w, g), h !== null) return ks(h, a, g), R2(h, l, g), !0 } return !1 } function Z0(a, l, h, g) { if (g = { lane: 2, revertLane: Lv(), action: g, hasEagerState: !1, eagerState: null, next: null }, wg(a)) { if (l) throw Error(n(479)) } else l = bo(a, h, g, 2), l !== null && ks(l, a, 2) } function wg(a) { var l = a.alternate; return a === we || l !== null && l === we } function N2(a, l) { zi = pn = !0; var h = a.pending; h === null ? l.next = l : (l.next = h.next, h.next = l), a.pending = l } function R2(a, l, h) { if ((h & 4194048) !== 0) { var g = l.lanes; g &= a.pendingLanes, h |= g, l.lanes = h, xe(a, h) } } var xg = { readContext: Ai, use: Pr, useCallback: Sn, useContext: Sn, useEffect: Sn, useImperativeHandle: Sn, useLayoutEffect: Sn, useInsertionEffect: Sn, useMemo: Sn, useReducer: Sn, useRef: Sn, useState: Sn, useDebugValue: Sn, useDeferredValue: Sn, useTransition: Sn, useSyncExternalStore: Sn, useId: Sn, useHostTransitionStatus: Sn, useFormState: Sn, useActionState: Sn, useOptimistic: Sn, useMemoCache: Sn, useCacheRefresh: Sn }, T2 = { readContext: Ai, use: Pr, useCallback: function (a, l) { return wr().memoizedState = [a, l === void 0 ? null : l], a }, useContext: Ai, useEffect: ff, useImperativeHandle: function (a, l, h) { h = h != null ? h.concat([a]) : null, Ts(4194308, 4, vg.bind(null, l, a), h) }, useLayoutEffect: function (a, l) { return Ts(4194308, 4, a, l) }, useInsertionEffect: function (a, l) { Ts(4, 2, a, l) }, useMemo: function (a, l) { var h = wr(); l = l === void 0 ? null : l; var g = a(); if (_i) { Fe(!0); try { a() } finally { Fe(!1) } } return h.memoizedState = [g, l], g }, useReducer: function (a, l, h) { var g = wr(); if (h !== void 0) { var w = h(l); if (_i) { Fe(!0); try { h(l) } finally { Fe(!1) } } } else w = l; return g.memoizedState = g.baseState = w, a = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: a, lastRenderedState: w }, g.queue = a, a = a.dispatch = wf.bind(null, we, a), [g.memoizedState, a] }, useRef: function (a) { var l = wr(); return a = { current: a }, l.memoizedState = a }, useState: function (a) { a = Lu(a); var l = a.queue, h = C2.bind(null, we, l); return l.dispatch = h, [a.memoizedState, h] }, useDebugValue: mf, useDeferredValue: function (a, l) { var h = wr(); return Al(h, a, l) }, useTransition: function () { var a = Lu(!1); return a = Ou.bind(null, we, a.queue, !0, !1), wr().memoizedState = a, [!1, a] }, useSyncExternalStore: function (a, l, h) { var g = we, w = wr(); if (bn) { if (h === void 0) throw Error(n(407)); h = h() } else { if (h = l(), Yn === null) throw Error(n(349)); (gn & 124) !== 0 || Fh(g, l, h) } w.memoizedState = h; var _ = { value: h, getSnapshot: l }; return w.queue = _, ff(fc.bind(null, g, _, a), [a]), g.flags |= 2048, La(9, Pu(), Tu.bind(null, g, _, h, l), null), h }, useId: function () { var a = wr(), l = Yn.identifierPrefix; if (bn) { var h = _a, g = Ea; h = (g & ~(1 << 32 - le(g) - 1)).toString(32) + h, l = "«" + l + "R" + h, h = di++, 0 < h && (l += "H" + h.toString(32)), l += "»" } else h = ls++, l = "«" + l + "r" + h.toString(32) + "»"; return a.memoizedState = l }, useHostTransitionStatus: Du, useFormState: Mu, useActionState: Mu, useOptimistic: function (a) { var l = wr(); l.memoizedState = l.baseState = a; var h = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return l.queue = h, l = Z0.bind(null, we, !0, h), h.dispatch = l, [a, l] }, useMemoCache: Co, useCacheRefresh: function () { return wr().memoizedState = yf.bind(null, we) } }, L2 = { readContext: Ai, use: Pr, useCallback: vf, useContext: Ai, useEffect: mg, useImperativeHandle: gf, useInsertionEffect: pf, useLayoutEffect: Sl, useMemo: bg, useReducer: Nu, useRef: zh, useState: function () { return Nu(Or) }, useDebugValue: mf, useDeferredValue: function (a, l) { var h = Qn(); return Uh(h, Le.memoizedState, a, l) }, useTransition: function () { var a = Nu(Or)[0], l = Qn().memoizedState; return [typeof a == "boolean" ? a : _o(a), l] }, useSyncExternalStore: Ru, useId: bf, useHostTransitionStatus: Du, useFormState: Bh, useActionState: Bh, useOptimistic: function (a, l) { var h = Qn(); return Ta(h, Le, a, l) }, useMemoCache: Co, useCacheRefresh: yg }, IN = { readContext: Ai, use: Pr, useCallback: vf, useContext: Ai, useEffect: mg, useImperativeHandle: gf, useInsertionEffect: pf, useLayoutEffect: Sl, useMemo: bg, useReducer: Ih, useRef: zh, useState: function () { return Ih(Or) }, useDebugValue: mf, useDeferredValue: function (a, l) { var h = Qn(); return Le === null ? Al(h, a, l) : Uh(h, Le.memoizedState, a, l) }, useTransition: function () { var a = Ih(Or)[0], l = Qn().memoizedState; return [typeof a == "boolean" ? a : _o(a), l] }, useSyncExternalStore: Ru, useId: bf, useHostTransitionStatus: Du, useFormState: gg, useActionState: gg, useOptimistic: function (a, l) { var h = Qn(); return Le !== null ? Ta(h, Le, a, l) : (h.baseState = a, [a, h.queue.dispatch]) }, useMemoCache: Co, useCacheRefresh: yg }, Hh = null, Sf = 0; function Sg(a) { var l = Sf; return Sf += 1, Hh === null && (Hh = []), Nt(Hh, a, l) } function Af(a, l) { l = l.props.ref, a.ref = l !== void 0 ? l : null } function Ag(a, l) { throw l.$$typeof === p ? Error(n(525)) : (a = Object.prototype.toString.call(l), Error(n(31, a === "[object Object]" ? "object with keys {" + Object.keys(l).join(", ") + "}" : a))) } function M2(a) { var l = a._init; return l(a._payload) } function P2(a) { function l(At, yt) { if (a) { var Ct = At.deletions; Ct === null ? (At.deletions = [yt], At.flags |= 16) : Ct.push(yt) } } function h(At, yt) { if (!a) return null; for (; yt !== null;)l(At, yt), yt = yt.sibling; return null } function g(At) { for (var yt = new Map; At !== null;)At.key !== null ? yt.set(At.key, At) : yt.set(At.index, At), At = At.sibling; return yt } function w(At, yt) { return At = Xs(At, yt), At.index = 0, At.sibling = null, At } function _(At, yt, Ct) { return At.index = Ct, a ? (Ct = At.alternate, Ct !== null ? (Ct = Ct.index, Ct < yt ? (At.flags |= 67108866, yt) : Ct) : (At.flags |= 67108866, yt)) : (At.flags |= 1048576, yt) } function B(At) { return a && At.alternate === null && (At.flags |= 67108866), At } function K(At, yt, Ct, Ut) { return yt === null || yt.tag !== 6 ? (yt = Lh(Ct, At.mode, Ut), yt.return = At, yt) : (yt = w(yt, Ct), yt.return = At, yt) } function dt(At, yt, Ct, Ut) { var he = Ct.type; return he === x ? Ft(At, yt, Ct.props.children, Ut, Ct.key) : yt !== null && (yt.elementType === he || typeof he == "object" && he !== null && he.$$typeof === j && M2(he) === yt.type) ? (yt = w(yt, Ct.props), Af(yt, Ct), yt.return = At, yt) : (yt = gl(Ct.type, Ct.key, Ct.props, null, At.mode, Ut), Af(yt, Ct), yt.return = At, yt) } function Rt(At, yt, Ct, Ut) { return yt === null || yt.tag !== 4 || yt.stateNode.containerInfo !== Ct.containerInfo || yt.stateNode.implementation !== Ct.implementation ? (yt = xu(Ct, At.mode, Ut), yt.return = At, yt) : (yt = w(yt, Ct.children || []), yt.return = At, yt) } function Ft(At, yt, Ct, Ut, he) { return yt === null || yt.tag !== 7 ? (yt = Sa(Ct, At.mode, Ut, he), yt.return = At, yt) : (yt = w(yt, Ct), yt.return = At, yt) } function Gt(At, yt, Ct) { if (typeof yt == "string" && yt !== "" || typeof yt == "number" || typeof yt == "bigint") return yt = Lh("" + yt, At.mode, Ct), yt.return = At, yt; if (typeof yt == "object" && yt !== null) { switch (yt.$$typeof) { case m: return Ct = gl(yt.type, yt.key, yt.props, null, At.mode, Ct), Af(Ct, yt), Ct.return = At, Ct; case v: return yt = xu(yt, At.mode, Ct), yt.return = At, yt; case j: var Ut = yt._init; return yt = Ut(yt._payload), Gt(At, yt, Ct) }if (ht(yt) || G(yt)) return yt = Sa(yt, At.mode, Ct, null), yt.return = At, yt; if (typeof yt.then == "function") return Gt(At, Sg(yt), Ct); if (yt.$$typeof === L) return Gt(At, So(At, yt), Ct); Ag(At, yt) } return null } function Mt(At, yt, Ct, Ut) { var he = yt !== null ? yt.key : null; if (typeof Ct == "string" && Ct !== "" || typeof Ct == "number" || typeof Ct == "bigint") return he !== null ? null : K(At, yt, "" + Ct, Ut); if (typeof Ct == "object" && Ct !== null) { switch (Ct.$$typeof) { case m: return Ct.key === he ? dt(At, yt, Ct, Ut) : null; case v: return Ct.key === he ? Rt(At, yt, Ct, Ut) : null; case j: return he = Ct._init, Ct = he(Ct._payload), Mt(At, yt, Ct, Ut) }if (ht(Ct) || G(Ct)) return he !== null ? null : Ft(At, yt, Ct, Ut, null); if (typeof Ct.then == "function") return Mt(At, yt, Sg(Ct), Ut); if (Ct.$$typeof === L) return Mt(At, yt, So(At, Ct), Ut); Ag(At, Ct) } return null } function Pt(At, yt, Ct, Ut, he) { if (typeof Ut == "string" && Ut !== "" || typeof Ut == "number" || typeof Ut == "bigint") return At = At.get(Ct) || null, K(yt, At, "" + Ut, he); if (typeof Ut == "object" && Ut !== null) { switch (Ut.$$typeof) { case m: return At = At.get(Ut.key === null ? Ct : Ut.key) || null, dt(yt, At, Ut, he); case v: return At = At.get(Ut.key === null ? Ct : Ut.key) || null, Rt(yt, At, Ut, he); case j: var Ze = Ut._init; return Ut = Ze(Ut._payload), Pt(At, yt, Ct, Ut, he) }if (ht(Ut) || G(Ut)) return At = At.get(Ct) || null, Ft(yt, At, Ut, he, null); if (typeof Ut.then == "function") return Pt(At, yt, Ct, Sg(Ut), he); if (Ut.$$typeof === L) return Pt(At, yt, Ct, So(yt, Ut), he); Ag(yt, Ut) } return null } function Oe(At, yt, Ct, Ut) { for (var he = null, Ze = null, ve = yt, Re = yt = 0, ur = null; ve !== null && Re < Ct.length; Re++) { ve.index > Re ? (ur = ve, ve = null) : ur = ve.sibling; var An = Mt(At, ve, Ct[Re], Ut); if (An === null) { ve === null && (ve = ur); break } a && ve && An.alternate === null && l(At, ve), yt = _(An, yt, Re), Ze === null ? he = An : Ze.sibling = An, Ze = An, ve = ur } if (Re === Ct.length) return h(At, ve), bn && vl(At, Re), he; if (ve === null) { for (; Re < Ct.length; Re++)ve = Gt(At, Ct[Re], Ut), ve !== null && (yt = _(ve, yt, Re), Ze === null ? he = ve : Ze.sibling = ve, Ze = ve); return bn && vl(At, Re), he } for (ve = g(ve); Re < Ct.length; Re++)ur = Pt(ve, At, Re, Ct[Re], Ut), ur !== null && (a && ur.alternate !== null && ve.delete(ur.key === null ? Re : ur.key), yt = _(ur, yt, Re), Ze === null ? he = ur : Ze.sibling = ur, Ze = ur); return a && ve.forEach(function (Pc) { return l(At, Pc) }), bn && vl(At, Re), he } function Ee(At, yt, Ct, Ut) { if (Ct == null) throw Error(n(151)); for (var he = null, Ze = null, ve = yt, Re = yt = 0, ur = null, An = Ct.next(); ve !== null && !An.done; Re++, An = Ct.next()) { ve.index > Re ? (ur = ve, ve = null) : ur = ve.sibling; var Pc = Mt(At, ve, An.value, Ut); if (Pc === null) { ve === null && (ve = ur); break } a && ve && Pc.alternate === null && l(At, ve), yt = _(Pc, yt, Re), Ze === null ? he = Pc : Ze.sibling = Pc, Ze = Pc, ve = ur } if (An.done) return h(At, ve), bn && vl(At, Re), he; if (ve === null) { for (; !An.done; Re++, An = Ct.next())An = Gt(At, An.value, Ut), An !== null && (yt = _(An, yt, Re), Ze === null ? he = An : Ze.sibling = An, Ze = An); return bn && vl(At, Re), he } for (ve = g(ve); !An.done; Re++, An = Ct.next())An = Pt(ve, At, Re, An.value, Ut), An !== null && (a && An.alternate !== null && ve.delete(An.key === null ? Re : An.key), yt = _(An, yt, Re), Ze === null ? he = An : Ze.sibling = An, Ze = An); return a && ve.forEach(function (F4) { return l(At, F4) }), bn && vl(At, Re), he } function Dn(At, yt, Ct, Ut) { if (typeof Ct == "object" && Ct !== null && Ct.type === x && Ct.key === null && (Ct = Ct.props.children), typeof Ct == "object" && Ct !== null) { switch (Ct.$$typeof) { case m: t: { for (var he = Ct.key; yt !== null;) { if (yt.key === he) { if (he = Ct.type, he === x) { if (yt.tag === 7) { h(At, yt.sibling), Ut = w(yt, Ct.props.children), Ut.return = At, At = Ut; break t } } else if (yt.elementType === he || typeof he == "object" && he !== null && he.$$typeof === j && M2(he) === yt.type) { h(At, yt.sibling), Ut = w(yt, Ct.props), Af(Ut, Ct), Ut.return = At, At = Ut; break t } h(At, yt); break } else l(At, yt); yt = yt.sibling } Ct.type === x ? (Ut = Sa(Ct.props.children, At.mode, Ut, Ct.key), Ut.return = At, At = Ut) : (Ut = gl(Ct.type, Ct.key, Ct.props, null, At.mode, Ut), Af(Ut, Ct), Ut.return = At, At = Ut) } return B(At); case v: t: { for (he = Ct.key; yt !== null;) { if (yt.key === he) if (yt.tag === 4 && yt.stateNode.containerInfo === Ct.containerInfo && yt.stateNode.implementation === Ct.implementation) { h(At, yt.sibling), Ut = w(yt, Ct.children || []), Ut.return = At, At = Ut; break t } else { h(At, yt); break } else l(At, yt); yt = yt.sibling } Ut = xu(Ct, At.mode, Ut), Ut.return = At, At = Ut } return B(At); case j: return he = Ct._init, Ct = he(Ct._payload), Dn(At, yt, Ct, Ut) }if (ht(Ct)) return Oe(At, yt, Ct, Ut); if (G(Ct)) { if (he = G(Ct), typeof he != "function") throw Error(n(150)); return Ct = he.call(Ct), Ee(At, yt, Ct, Ut) } if (typeof Ct.then == "function") return Dn(At, yt, Sg(Ct), Ut); if (Ct.$$typeof === L) return Dn(At, yt, So(At, Ct), Ut); Ag(At, Ct) } return typeof Ct == "string" && Ct !== "" || typeof Ct == "number" || typeof Ct == "bigint" ? (Ct = "" + Ct, yt !== null && yt.tag === 6 ? (h(At, yt.sibling), Ut = w(yt, Ct), Ut.return = At, At = Ut) : (h(At, yt), Ut = Lh(Ct, At.mode, Ut), Ut.return = At, At = Ut), B(At)) : h(At, yt) } return function (At, yt, Ct, Ut) { try { Sf = 0; var he = Dn(At, yt, Ct, Ut); return Hh = null, he } catch (ve) { if (ve === $ || ve === X) throw ve; var Ze = or(29, ve, null, At.mode); return Ze.lanes = Ut, Ze.return = At, Ze } finally { } } } var qh = P2(!0), O2 = P2(!1), ea = ft(null), No = null; function vc(a) { var l = a.alternate; V(Wi, Wi.current & 1), V(ea, a), No === null && (l === null || $e.current !== null || l.memoizedState !== null) && (No = a) } function k2(a) { if (a.tag === 22) { if (V(Wi, Wi.current), V(ea, a), No === null) { var l = a.alternate; l !== null && l.memoizedState !== null && (No = a) } } else bc() } function bc() { V(Wi, Wi.current), V(ea, ea.current) } function El(a) { I(ea), No === a && (No = null), I(Wi) } var Wi = ft(0); function Eg(a) { for (var l = a; l !== null;) { if (l.tag === 13) { var h = l.memoizedState; if (h !== null && (h = h.dehydrated, h === null || h.data === "$?" || Hv(h))) return l } else if (l.tag === 19 && l.memoizedProps.revealOrder !== void 0) { if ((l.flags & 128) !== 0) return l } else if (l.child !== null) { l.child.return = l, l = l.child; continue } if (l === a) break; for (; l.sibling === null;) { if (l.return === null || l.return === a) return null; l = l.return } l.sibling.return = l.return, l = l.sibling } return null } function J0(a, l, h, g) { l = a.memoizedState, h = h(g, l), h = h == null ? l : f({}, l, h), a.memoizedState = h, a.lanes === 0 && (a.updateQueue.baseState = h) } var tv = { enqueueSetState: function (a, l, h) { a = a._reactInternals; var g = Os(), w = It(g); w.payload = l, h != null && (w.callback = h), l = qt(a, w, g), l !== null && (ks(l, a, g), Bt(l, a, g)) }, enqueueReplaceState: function (a, l, h) { a = a._reactInternals; var g = Os(), w = It(g); w.tag = 1, w.payload = l, h != null && (w.callback = h), l = qt(a, w, g), l !== null && (ks(l, a, g), Bt(l, a, g)) }, enqueueForceUpdate: function (a, l) { a = a._reactInternals; var h = Os(), g = It(h); g.tag = 2, l != null && (g.callback = l), l = qt(a, g, h), l !== null && (ks(l, a, h), Bt(l, a, h)) } }; function D2(a, l, h, g, w, _, B) { return a = a.stateNode, typeof a.shouldComponentUpdate == "function" ? a.shouldComponentUpdate(g, _, B) : l.prototype && l.prototype.isPureReactComponent ? !co(h, g) || !co(w, _) : !0 } function j2(a, l, h, g) { a = l.state, typeof l.componentWillReceiveProps == "function" && l.componentWillReceiveProps(h, g), typeof l.UNSAFE_componentWillReceiveProps == "function" && l.UNSAFE_componentWillReceiveProps(h, g), l.state !== a && tv.enqueueReplaceState(l, l.state, null) } function ju(a, l) { var h = l; if ("ref" in l) { h = {}; for (var g in l) g !== "ref" && (h[g] = l[g]) } if (a = a.defaultProps) { h === l && (h = f({}, h)); for (var w in a) h[w] === void 0 && (h[w] = a[w]) } return h } var _g = typeof reportError == "function" ? reportError : function (a) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var l = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof a == "object" && a !== null && typeof a.message == "string" ? String(a.message) : String(a), error: a }); if (!window.dispatchEvent(l)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", a); return } console.error(a) }; function I2(a) { _g(a) } function F2(a) { console.error(a) } function B2(a) { _g(a) } function Cg(a, l) { try { var h = a.onUncaughtError; h(l.value, { componentStack: l.stack }) } catch (g) { setTimeout(function () { throw g }) } } function z2(a, l, h) { try { var g = a.onCaughtError; g(h.value, { componentStack: h.stack, errorBoundary: l.tag === 1 ? l.stateNode : null }) } catch (w) { setTimeout(function () { throw w }) } } function ev(a, l, h) { return h = It(h), h.tag = 3, h.payload = { element: null }, h.callback = function () { Cg(a, l) }, h } function U2(a) { return a = It(a), a.tag = 3, a } function H2(a, l, h, g) { var w = h.type.getDerivedStateFromError; if (typeof w == "function") { var _ = g.value; a.payload = function () { return w(_) }, a.callback = function () { z2(l, h, g) } } var B = h.stateNode; B !== null && typeof B.componentDidCatch == "function" && (a.callback = function () { z2(l, h, g), typeof w != "function" && (Ec === null ? Ec = new Set([this]) : Ec.add(this)); var K = g.stack; this.componentDidCatch(g.value, { componentStack: K !== null ? K : "" }) }) } function FN(a, l, h, g, w) { if (h.flags |= 32768, g !== null && typeof g == "object" && typeof g.then == "function") { if (l = h.alternate, l !== null && hc(l, h, w, !0), h = ea.current, h !== null) { switch (h.tag) { case 13: return No === null ? _v() : h.alternate === null && yi === 0 && (yi = 3), h.flags &= -257, h.flags |= 65536, h.lanes = w, g === et ? h.flags |= 16384 : (l = h.updateQueue, l === null ? h.updateQueue = new Set([g]) : l.add(g), Nv(a, g, w)), !1; case 22: return h.flags |= 65536, g === et ? h.flags |= 16384 : (l = h.updateQueue, l === null ? (l = { transitions: null, markerInstances: null, retryQueue: new Set([g]) }, h.updateQueue = l) : (h = l.retryQueue, h === null ? l.retryQueue = new Set([g]) : h.add(g)), Nv(a, g, w)), !1 }throw Error(n(435, h.tag)) } return Nv(a, g, w), _v(), !1 } if (bn) return l = ea.current, l !== null ? ((l.flags & 65536) === 0 && (l.flags |= 256), l.flags |= 65536, l.lanes = w, g !== of && (a = Error(n(422), { cause: g }), uc(Ye(a, h)))) : (g !== of && (l = Error(n(423), { cause: g }), uc(Ye(l, h))), a = a.current.alternate, a.flags |= 65536, w &= -w, a.lanes |= w, g = Ye(g, h), w = ev(a.stateNode, g, w), re(a, w), yi !== 4 && (yi = 2)), !1; var _ = Error(n(520), { cause: g }); if (_ = Ye(_, h), Lf === null ? Lf = [_] : Lf.push(_), yi !== 4 && (yi = 2), l === null) return !0; g = Ye(g, h), h = l; do { switch (h.tag) { case 3: return h.flags |= 65536, a = w & -w, h.lanes |= a, a = ev(h.stateNode, g, a), re(h, a), !1; case 1: if (l = h.type, _ = h.stateNode, (h.flags & 128) === 0 && (typeof l.getDerivedStateFromError == "function" || _ !== null && typeof _.componentDidCatch == "function" && (Ec === null || !Ec.has(_)))) return h.flags |= 65536, w &= -w, h.lanes |= w, w = U2(w), H2(w, a, h, g), re(h, w), !1 }h = h.return } while (h !== null); return !1 } var q2 = Error(n(461)), lr = !1; function xr(a, l, h, g) { l.child = a === null ? O2(l, null, h, g) : qh(l, a.child, h, g) } function V2(a, l, h, g, w) { h = h.render; var _ = l.ref; if ("ref" in g) { var B = {}; for (var K in g) K !== "ref" && (B[K] = g[K]) } else B = g; return Js(l), g = Rs(a, l, h, B, _, w), K = Wn(), a !== null && !lr ? (Cu(a, l, w), _l(a, l, w)) : (bn && K && Su(l), l.flags |= 1, xr(a, l, g, w), l.child) } function G2(a, l, h, g, w) { if (a === null) { var _ = h.type; return typeof _ == "function" && !lc(_) && _.defaultProps === void 0 && h.compare === null ? (l.tag = 15, l.type = _, $2(a, l, _, g, w)) : (a = gl(h.type, null, g, l, l.mode, w), a.ref = l.ref, a.return = l, l.child = a) } if (_ = a.child, !cv(a, w)) { var B = _.memoizedProps; if (h = h.compare, h = h !== null ? h : co, h(B, g) && a.ref === l.ref) return _l(a, l, w) } return l.flags |= 1, a = Xs(_, g), a.ref = l.ref, a.return = l, l.child = a } function $2(a, l, h, g, w) { if (a !== null) { var _ = a.memoizedProps; if (co(_, g) && a.ref === l.ref) if (lr = !1, l.pendingProps = g = _, cv(a, w)) (a.flags & 131072) !== 0 && (lr = !0); else return l.lanes = a.lanes, _l(a, l, w) } return nv(a, l, h, g, w) } function W2(a, l, h) { var g = l.pendingProps, w = g.children, _ = a !== null ? a.memoizedState : null; if (g.mode === "hidden") { if ((l.flags & 128) !== 0) { if (g = _ !== null ? _.baseLanes | h : h, a !== null) { for (w = l.child = a.child, _ = 0; w !== null;)_ = _ | w.lanes | w.childLanes, w = w.sibling; l.childLanes = _ & ~g } else l.childLanes = 0, l.child = null; return Y2(a, l, g, h) } if ((h & 536870912) !== 0) l.memoizedState = { baseLanes: 0, cachePool: null }, a !== null && P(l, _ !== null ? _.cachePool : null), _ !== null ? Cn(l, _) : xn(), k2(l); else return l.lanes = l.childLanes = 536870912, Y2(a, l, _ !== null ? _.baseLanes | h : h, h) } else _ !== null ? (P(l, _.cachePool), Cn(l, _), bc(), l.memoizedState = null) : (a !== null && P(l, null), xn(), bc()); return xr(a, l, w, h), l.child } function Y2(a, l, h, g) { var w = R(); return w = w === null ? null : { parent: Ei._currentValue, pool: w }, l.memoizedState = { baseLanes: h, cachePool: w }, a !== null && P(l, null), xn(), k2(l), a !== null && hc(a, l, g, !0), null } function Ng(a, l) { var h = l.ref; if (h === null) a !== null && a.ref !== null && (l.flags |= 4194816); else { if (typeof h != "function" && typeof h != "object") throw Error(n(284)); (a === null || a.ref !== h) && (l.flags |= 4194816) } } function nv(a, l, h, g, w) { return Js(l), h = Rs(a, l, h, g, void 0, w), g = Wn(), a !== null && !lr ? (Cu(a, l, w), _l(a, l, w)) : (bn && g && Su(l), l.flags |= 1, xr(a, l, h, w), l.child) } function X2(a, l, h, g, w, _) { return Js(l), l.updateQueue = null, h = wl(l, g, h, w), Ao(a), g = Wn(), a !== null && !lr ? (Cu(a, l, _), _l(a, l, _)) : (bn && g && Su(l), l.flags |= 1, xr(a, l, h, _), l.child) } function K2(a, l, h, g, w) { if (Js(l), l.stateNode === null) { var _ = Fi, B = h.contextType; typeof B == "object" && B !== null && (_ = Ai(B)), _ = new h(g, _), l.memoizedState = _.state !== null && _.state !== void 0 ? _.state : null, _.updater = tv, l.stateNode = _, _._reactInternals = l, _ = l.stateNode, _.props = g, _.state = l.memoizedState, _.refs = {}, bt(l), B = h.contextType, _.context = typeof B == "object" && B !== null ? Ai(B) : Fi, _.state = l.memoizedState, B = h.getDerivedStateFromProps, typeof B == "function" && (J0(l, h, B, g), _.state = l.memoizedState), typeof h.getDerivedStateFromProps == "function" || typeof _.getSnapshotBeforeUpdate == "function" || typeof _.UNSAFE_componentWillMount != "function" && typeof _.componentWillMount != "function" || (B = _.state, typeof _.componentWillMount == "function" && _.componentWillMount(), typeof _.UNSAFE_componentWillMount == "function" && _.UNSAFE_componentWillMount(), B !== _.state && tv.enqueueReplaceState(_, _.state, null), ee(l, g, _, w), me(), _.state = l.memoizedState), typeof _.componentDidMount == "function" && (l.flags |= 4194308), g = !0 } else if (a === null) { _ = l.stateNode; var K = l.memoizedProps, dt = ju(h, K); _.props = dt; var Rt = _.context, Ft = h.contextType; B = Fi, typeof Ft == "object" && Ft !== null && (B = Ai(Ft)); var Gt = h.getDerivedStateFromProps; Ft = typeof Gt == "function" || typeof _.getSnapshotBeforeUpdate == "function", K = l.pendingProps !== K, Ft || typeof _.UNSAFE_componentWillReceiveProps != "function" && typeof _.componentWillReceiveProps != "function" || (K || Rt !== B) && j2(l, _, g, B), Ot = !1; var Mt = l.memoizedState; _.state = Mt, ee(l, g, _, w), me(), Rt = l.memoizedState, K || Mt !== Rt || Ot ? (typeof Gt == "function" && (J0(l, h, Gt, g), Rt = l.memoizedState), (dt = Ot || D2(l, h, dt, g, Mt, Rt, B)) ? (Ft || typeof _.UNSAFE_componentWillMount != "function" && typeof _.componentWillMount != "function" || (typeof _.componentWillMount == "function" && _.componentWillMount(), typeof _.UNSAFE_componentWillMount == "function" && _.UNSAFE_componentWillMount()), typeof _.componentDidMount == "function" && (l.flags |= 4194308)) : (typeof _.componentDidMount == "function" && (l.flags |= 4194308), l.memoizedProps = g, l.memoizedState = Rt), _.props = g, _.state = Rt, _.context = B, g = dt) : (typeof _.componentDidMount == "function" && (l.flags |= 4194308), g = !1) } else { _ = l.stateNode, wt(a, l), B = l.memoizedProps, Ft = ju(h, B), _.props = Ft, Gt = l.pendingProps, Mt = _.context, Rt = h.contextType, dt = Fi, typeof Rt == "object" && Rt !== null && (dt = Ai(Rt)), K = h.getDerivedStateFromProps, (Rt = typeof K == "function" || typeof _.getSnapshotBeforeUpdate == "function") || typeof _.UNSAFE_componentWillReceiveProps != "function" && typeof _.componentWillReceiveProps != "function" || (B !== Gt || Mt !== dt) && j2(l, _, g, dt), Ot = !1, Mt = l.memoizedState, _.state = Mt, ee(l, g, _, w), me(); var Pt = l.memoizedState; B !== Gt || Mt !== Pt || Ot || a !== null && a.dependencies !== null && kh(a.dependencies) ? (typeof K == "function" && (J0(l, h, K, g), Pt = l.memoizedState), (Ft = Ot || D2(l, h, Ft, g, Mt, Pt, dt) || a !== null && a.dependencies !== null && kh(a.dependencies)) ? (Rt || typeof _.UNSAFE_componentWillUpdate != "function" && typeof _.componentWillUpdate != "function" || (typeof _.componentWillUpdate == "function" && _.componentWillUpdate(g, Pt, dt), typeof _.UNSAFE_componentWillUpdate == "function" && _.UNSAFE_componentWillUpdate(g, Pt, dt)), typeof _.componentDidUpdate == "function" && (l.flags |= 4), typeof _.getSnapshotBeforeUpdate == "function" && (l.flags |= 1024)) : (typeof _.componentDidUpdate != "function" || B === a.memoizedProps && Mt === a.memoizedState || (l.flags |= 4), typeof _.getSnapshotBeforeUpdate != "function" || B === a.memoizedProps && Mt === a.memoizedState || (l.flags |= 1024), l.memoizedProps = g, l.memoizedState = Pt), _.props = g, _.state = Pt, _.context = dt, g = Ft) : (typeof _.componentDidUpdate != "function" || B === a.memoizedProps && Mt === a.memoizedState || (l.flags |= 4), typeof _.getSnapshotBeforeUpdate != "function" || B === a.memoizedProps && Mt === a.memoizedState || (l.flags |= 1024), g = !1) } return _ = g, Ng(a, l), g = (l.flags & 128) !== 0, _ || g ? (_ = l.stateNode, h = g && typeof h.getDerivedStateFromError != "function" ? null : _.render(), l.flags |= 1, a !== null && g ? (l.child = qh(l, a.child, null, w), l.child = qh(l, null, h, w)) : xr(a, l, h, w), l.memoizedState = _.state, a = l.child) : a = _l(a, l, w), a } function Q2(a, l, h, g) { return Qr(), l.flags |= 256, xr(a, l, h, g), l.child } var iv = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function rv(a) { return { baseLanes: a, cachePool: H() } } function sv(a, l, h) { return a = a !== null ? a.childLanes & ~h : 0, l && (a |= na), a } function Z2(a, l, h) { var g = l.pendingProps, w = !1, _ = (l.flags & 128) !== 0, B; if ((B = _) || (B = a !== null && a.memoizedState === null ? !1 : (Wi.current & 2) !== 0), B && (w = !0, l.flags &= -129), B = (l.flags & 32) !== 0, l.flags &= -33, a === null) { if (bn) { if (w ? vc(l) : bc(), bn) { var K = ni, dt; if (dt = K) { t: { for (dt = K, K = Ks; dt.nodeType !== 8;) { if (!K) { K = null; break t } if (dt = ka(dt.nextSibling), dt === null) { K = null; break t } } K = dt } K !== null ? (l.memoizedState = { dehydrated: K, treeContext: ml !== null ? { id: Ea, overflow: _a } : null, retryLane: 536870912, hydrationErrors: null }, dt = or(18, null, null, 0), dt.stateNode = K, dt.return = l, l.child = dt, Si = l, ni = null, dt = !0) : dt = !1 } dt || bl(l) } if (K = l.memoizedState, K !== null && (K = K.dehydrated, K !== null)) return Hv(K) ? l.lanes = 32 : l.lanes = 536870912, null; El(l) } return K = g.children, g = g.fallback, w ? (bc(), w = l.mode, K = Rg({ mode: "hidden", children: K }, w), g = Sa(g, w, h, null), K.return = l, g.return = l, K.sibling = g, l.child = K, w = l.child, w.memoizedState = rv(h), w.childLanes = sv(a, B, h), l.memoizedState = iv, g) : (vc(l), av(l, K)) } if (dt = a.memoizedState, dt !== null && (K = dt.dehydrated, K !== null)) { if (_) l.flags & 256 ? (vc(l), l.flags &= -257, l = ov(a, l, h)) : l.memoizedState !== null ? (bc(), l.child = a.child, l.flags |= 128, l = null) : (bc(), w = g.fallback, K = l.mode, g = Rg({ mode: "visible", children: g.children }, K), w = Sa(w, K, h, null), w.flags |= 2, g.return = l, w.return = l, g.sibling = w, l.child = g, qh(l, a.child, null, h), g = l.child, g.memoizedState = rv(h), g.childLanes = sv(a, B, h), l.memoizedState = iv, l = w); else if (vc(l), Hv(K)) { if (B = K.nextSibling && K.nextSibling.dataset, B) var Rt = B.dgst; B = Rt, g = Error(n(419)), g.stack = "", g.digest = B, uc({ value: g, source: null, stack: null }), l = ov(a, l, h) } else if (lr || hc(a, l, h, !1), B = (h & a.childLanes) !== 0, lr || B) { if (B = Yn, B !== null && (g = h & -h, g = (g & 42) !== 0 ? 1 : Pn(g), g = (g & (B.suspendedLanes | h)) !== 0 ? 0 : g, g !== 0 && g !== dt.retryLane)) throw dt.retryLane = g, xa(a, g), ks(B, a, g), q2; K.data === "$?" || _v(), l = ov(a, l, h) } else K.data === "$?" ? (l.flags |= 192, l.child = a.child, l = null) : (a = dt.treeContext, ni = ka(K.nextSibling), Si = l, bn = !0, wo = null, Ks = !1, a !== null && (os[Kr++] = Ea, os[Kr++] = _a, os[Kr++] = ml, Ea = a.id, _a = a.overflow, ml = l), l = av(l, g.children), l.flags |= 4096); return l } return w ? (bc(), w = g.fallback, K = l.mode, dt = a.child, Rt = dt.sibling, g = Xs(dt, { mode: "hidden", children: g.children }), g.subtreeFlags = dt.subtreeFlags & 65011712, Rt !== null ? w = Xs(Rt, w) : (w = Sa(w, K, h, null), w.flags |= 2), w.return = l, g.return = l, g.sibling = w, l.child = g, g = w, w = l.child, K = a.child.memoizedState, K === null ? K = rv(h) : (dt = K.cachePool, dt !== null ? (Rt = Ei._currentValue, dt = dt.parent !== Rt ? { parent: Rt, pool: Rt } : dt) : dt = H(), K = { baseLanes: K.baseLanes | h, cachePool: dt }), w.memoizedState = K, w.childLanes = sv(a, B, h), l.memoizedState = iv, g) : (vc(l), h = a.child, a = h.sibling, h = Xs(h, { mode: "visible", children: g.children }), h.return = l, h.sibling = null, a !== null && (B = l.deletions, B === null ? (l.deletions = [a], l.flags |= 16) : B.push(a)), l.child = h, l.memoizedState = null, h) } function av(a, l) { return l = Rg({ mode: "visible", children: l }, a.mode), l.return = a, a.child = l } function Rg(a, l) { return a = or(22, a, null, l), a.lanes = 0, a.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }, a } function ov(a, l, h) { return qh(l, a.child, null, h), a = av(l, l.pendingProps.children), a.flags |= 2, l.memoizedState = null, a } function J2(a, l, h) { a.lanes |= l; var g = a.alternate; g !== null && (g.lanes |= l), Ph(a.return, l, h) } function lv(a, l, h, g, w) { var _ = a.memoizedState; _ === null ? a.memoizedState = { isBackwards: l, rendering: null, renderingStartTime: 0, last: g, tail: h, tailMode: w } : (_.isBackwards = l, _.rendering = null, _.renderingStartTime = 0, _.last = g, _.tail = h, _.tailMode = w) } function tw(a, l, h) { var g = l.pendingProps, w = g.revealOrder, _ = g.tail; if (xr(a, l, g.children, h), g = Wi.current, (g & 2) !== 0) g = g & 1 | 2, l.flags |= 128; else { if (a !== null && (a.flags & 128) !== 0) t: for (a = l.child; a !== null;) { if (a.tag === 13) a.memoizedState !== null && J2(a, h, l); else if (a.tag === 19) J2(a, h, l); else if (a.child !== null) { a.child.return = a, a = a.child; continue } if (a === l) break t; for (; a.sibling === null;) { if (a.return === null || a.return === l) break t; a = a.return } a.sibling.return = a.return, a = a.sibling } g &= 1 } switch (V(Wi, g), w) { case "forwards": for (h = l.child, w = null; h !== null;)a = h.alternate, a !== null && Eg(a) === null && (w = h), h = h.sibling; h = w, h === null ? (w = l.child, l.child = null) : (w = h.sibling, h.sibling = null), lv(l, !1, w, h, _); break; case "backwards": for (h = null, w = l.child, l.child = null; w !== null;) { if (a = w.alternate, a !== null && Eg(a) === null) { l.child = w; break } a = w.sibling, w.sibling = h, h = w, w = a } lv(l, !0, h, null, _); break; case "together": lv(l, !1, null, null, void 0); break; default: l.memoizedState = null }return l.child } function _l(a, l, h) { if (a !== null && (l.dependencies = a.dependencies), Ac |= l.lanes, (h & l.childLanes) === 0) if (a !== null) { if (hc(a, l, h, !1), (h & l.childLanes) === 0) return null } else return null; if (a !== null && l.child !== a.child) throw Error(n(153)); if (l.child !== null) { for (a = l.child, h = Xs(a, a.pendingProps), l.child = h, h.return = l; a.sibling !== null;)a = a.sibling, h = h.sibling = Xs(a, a.pendingProps), h.return = l; h.sibling = null } return l.child } function cv(a, l) { return (a.lanes & l) !== 0 ? !0 : (a = a.dependencies, !!(a !== null && kh(a))) } function BN(a, l, h) { switch (l.tag) { case 3: gt(l, l.stateNode.containerInfo), xo(l, Ei, a.memoizedState.cache), Qr(); break; case 27: case 5: Tt(l); break; case 4: gt(l, l.stateNode.containerInfo); break; case 10: xo(l, l.type, l.memoizedProps.value); break; case 13: var g = l.memoizedState; if (g !== null) return g.dehydrated !== null ? (vc(l), l.flags |= 128, null) : (h & l.child.childLanes) !== 0 ? Z2(a, l, h) : (vc(l), a = _l(a, l, h), a !== null ? a.sibling : null); vc(l); break; case 19: var w = (a.flags & 128) !== 0; if (g = (h & l.childLanes) !== 0, g || (hc(a, l, h, !1), g = (h & l.childLanes) !== 0), w) { if (g) return tw(a, l, h); l.flags |= 128 } if (w = l.memoizedState, w !== null && (w.rendering = null, w.tail = null, w.lastEffect = null), V(Wi, Wi.current), g) break; return null; case 22: case 23: return l.lanes = 0, W2(a, l, h); case 24: xo(l, Ei, a.memoizedState.cache) }return _l(a, l, h) } function ew(a, l, h) { if (a !== null) if (a.memoizedProps !== l.pendingProps) lr = !0; else { if (!cv(a, h) && (l.flags & 128) === 0) return lr = !1, BN(a, l, h); lr = (a.flags & 131072) !== 0 } else lr = !1, bn && (l.flags & 1048576) !== 0 && rg(l, Mh, l.index); switch (l.lanes = 0, l.tag) { case 16: t: { a = l.pendingProps; var g = l.elementType, w = g._init; if (g = w(g._payload), l.type = g, typeof g == "function") lc(g) ? (a = ju(g, a), l.tag = 1, l = K2(null, l, g, a, h)) : (l.tag = 0, l = nv(null, l, g, a, h)); else { if (g != null) { if (w = g.$$typeof, w === k) { l.tag = 11, l = V2(null, l, g, a, h); break t } else if (w === D) { l.tag = 14, l = G2(null, l, g, a, h); break t } } throw l = nt(g) || g, Error(n(306, l, "")) } } return l; case 0: return nv(a, l, l.type, l.pendingProps, h); case 1: return g = l.type, w = ju(g, l.pendingProps), K2(a, l, g, w, h); case 3: t: { if (gt(l, l.stateNode.containerInfo), a === null) throw Error(n(387)); g = l.pendingProps; var _ = l.memoizedState; w = _.element, wt(a, l), ee(l, g, null, h); var B = l.memoizedState; if (g = B.cache, xo(l, Ei, g), g !== _.cache && Oh(l, [Ei], h, !0), me(), g = B.element, _.isDehydrated) if (_ = { element: g, isDehydrated: !1, cache: B.cache }, l.updateQueue.baseState = _, l.memoizedState = _, l.flags & 256) { l = Q2(a, l, g, h); break t } else if (g !== w) { w = Ye(Error(n(424)), l), uc(w), l = Q2(a, l, g, h); break t } else { switch (a = l.stateNode.containerInfo, a.nodeType) { case 9: a = a.body; break; default: a = a.nodeName === "HTML" ? a.ownerDocument.body : a }for (ni = ka(a.firstChild), Si = l, bn = !0, wo = null, Ks = !0, h = O2(l, null, g, h), l.child = h; h;)h.flags = h.flags & -3 | 4096, h = h.sibling } else { if (Qr(), g === w) { l = _l(a, l, h); break t } xr(a, l, g, h) } l = l.child } return l; case 26: return Ng(a, l), a === null ? (h = s5(l.type, null, l.pendingProps, null)) ? l.memoizedState = h : bn || (h = l.type, a = l.pendingProps, g = Hg(at.current).createElement(h), g[mn] = l, g[tn] = a, Ar(g, h, a), Nn(g), l.stateNode = g) : l.memoizedState = s5(l.type, a.memoizedProps, l.pendingProps, a.memoizedState), null; case 27: return Tt(l), a === null && bn && (g = l.stateNode = n5(l.type, l.pendingProps, at.current), Si = l, Ks = !0, w = ni, Nc(l.type) ? (qv = w, ni = ka(g.firstChild)) : ni = w), xr(a, l, l.pendingProps.children, h), Ng(a, l), a === null && (l.flags |= 4194304), l.child; case 5: return a === null && bn && ((w = g = ni) && (g = f4(g, l.type, l.pendingProps, Ks), g !== null ? (l.stateNode = g, Si = l, ni = ka(g.firstChild), Ks = !1, w = !0) : w = !1), w || bl(l)), Tt(l), w = l.type, _ = l.pendingProps, B = a !== null ? a.memoizedProps : null, g = _.children, Bv(w, _) ? g = null : B !== null && Bv(w, B) && (l.flags |= 32), l.memoizedState !== null && (w = Rs(a, l, Eo, null, null, h), Bf._currentValue = w), Ng(a, l), xr(a, l, g, h), l.child; case 6: return a === null && bn && ((a = h = ni) && (h = p4(h, l.pendingProps, Ks), h !== null ? (l.stateNode = h, Si = l, ni = null, a = !0) : a = !1), a || bl(l)), null; case 13: return Z2(a, l, h); case 4: return gt(l, l.stateNode.containerInfo), g = l.pendingProps, a === null ? l.child = qh(l, null, g, h) : xr(a, l, g, h), l.child; case 11: return V2(a, l, l.type, l.pendingProps, h); case 7: return xr(a, l, l.pendingProps, h), l.child; case 8: return xr(a, l, l.pendingProps.children, h), l.child; case 12: return xr(a, l, l.pendingProps.children, h), l.child; case 10: return g = l.pendingProps, xo(l, l.type, g.value), xr(a, l, g.children, h), l.child; case 9: return w = l.type._context, g = l.pendingProps.children, Js(l), w = Ai(w), g = g(w), l.flags |= 1, xr(a, l, g, h), l.child; case 14: return G2(a, l, l.type, l.pendingProps, h); case 15: return $2(a, l, l.type, l.pendingProps, h); case 19: return tw(a, l, h); case 31: return g = l.pendingProps, h = l.mode, g = { mode: g.mode, children: g.children }, a === null ? (h = Rg(g, h), h.ref = l.ref, l.child = h, h.return = l, l = h) : (h = Xs(a.child, g), h.ref = l.ref, l.child = h, h.return = l, l = h), l; case 22: return W2(a, l, h); case 24: return Js(l), g = Ai(Ei), a === null ? (w = R(), w === null && (w = Yn, _ = lf(), w.pooledCache = _, _.refCount++, _ !== null && (w.pooledCacheLanes |= h), w = _), l.memoizedState = { parent: g, cache: w }, bt(l), xo(l, Ei, w)) : ((a.lanes & h) !== 0 && (wt(a, l), ee(l, null, null, h), me()), w = a.memoizedState, _ = l.memoizedState, w.parent !== g ? (w = { parent: g, cache: g }, l.memoizedState = w, l.lanes === 0 && (l.memoizedState = l.updateQueue.baseState = w), xo(l, Ei, g)) : (g = _.cache, xo(l, Ei, g), g !== w.cache && Oh(l, [Ei], h, !0))), xr(a, l, l.pendingProps.children, h), l.child; case 29: throw l.pendingProps }throw Error(n(156, l.tag)) } function Cl(a) { a.flags |= 4 } function nw(a, l) { if (l.type !== "stylesheet" || (l.state.loading & 4) !== 0) a.flags &= -16777217; else if (a.flags |= 16777216, !u5(l)) { if (l = ea.current, l !== null && ((gn & 4194048) === gn ? No !== null : (gn & 62914560) !== gn && (gn & 536870912) === 0 || l !== No)) throw _t = et, W; a.flags |= 8192 } } function Tg(a, l) { l !== null && (a.flags |= 4), a.flags & 16384 && (l = a.tag !== 22 ? In() : 536870912, a.lanes |= l, Wh |= l) } function Ef(a, l) { if (!bn) switch (a.tailMode) { case "hidden": l = a.tail; for (var h = null; l !== null;)l.alternate !== null && (h = l), l = l.sibling; h === null ? a.tail = null : h.sibling = null; break; case "collapsed": h = a.tail; for (var g = null; h !== null;)h.alternate !== null && (g = h), h = h.sibling; g === null ? l || a.tail === null ? a.tail = null : a.tail.sibling = null : g.sibling = null } } function pi(a) { var l = a.alternate !== null && a.alternate.child === a.child, h = 0, g = 0; if (l) for (var w = a.child; w !== null;)h |= w.lanes | w.childLanes, g |= w.subtreeFlags & 65011712, g |= w.flags & 65011712, w.return = a, w = w.sibling; else for (w = a.child; w !== null;)h |= w.lanes | w.childLanes, g |= w.subtreeFlags, g |= w.flags, w.return = a, w = w.sibling; return a.subtreeFlags |= g, a.childLanes = h, l } function zN(a, l, h) { var g = l.pendingProps; switch (Au(l), l.tag) { case 31: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return pi(l), null; case 1: return pi(l), null; case 3: return h = l.stateNode, g = null, a !== null && (g = a.memoizedState.cache), l.memoizedState.cache !== g && (l.flags |= 2048), Zs(Ei), xt(), h.pendingContext && (h.context = h.pendingContext, h.pendingContext = null), (a === null || a.child === null) && (yr(l) ? Cl(l) : a === null || a.memoizedState.isDehydrated && (l.flags & 256) === 0 || (l.flags |= 1024, ag())), pi(l), null; case 26: return h = l.memoizedState, a === null ? (Cl(l), h !== null ? (pi(l), nw(l, h)) : (pi(l), l.flags &= -16777217)) : h ? h !== a.memoizedState ? (Cl(l), pi(l), nw(l, h)) : (pi(l), l.flags &= -16777217) : (a.memoizedProps !== g && Cl(l), pi(l), l.flags &= -16777217), null; case 27: kt(l), h = at.current; var w = l.type; if (a !== null && l.stateNode != null) a.memoizedProps !== g && Cl(l); else { if (!g) { if (l.stateNode === null) throw Error(n(166)); return pi(l), null } a = Z.current, yr(l) ? sg(l) : (a = n5(w, g, h), l.stateNode = a, Cl(l)) } return pi(l), null; case 5: if (kt(l), h = l.type, a !== null && l.stateNode != null) a.memoizedProps !== g && Cl(l); else { if (!g) { if (l.stateNode === null) throw Error(n(166)); return pi(l), null } if (a = Z.current, yr(l)) sg(l); else { switch (w = Hg(at.current), a) { case 1: a = w.createElementNS("http://www.w3.org/2000/svg", h); break; case 2: a = w.createElementNS("http://www.w3.org/1998/Math/MathML", h); break; default: switch (h) { case "svg": a = w.createElementNS("http://www.w3.org/2000/svg", h); break; case "math": a = w.createElementNS("http://www.w3.org/1998/Math/MathML", h); break; case "script": a = w.createElement("div"), a.innerHTML = "<script><\/script>", a = a.removeChild(a.firstChild); break; case "select": a = typeof g.is == "string" ? w.createElement("select", { is: g.is }) : w.createElement("select"), g.multiple ? a.multiple = !0 : g.size && (a.size = g.size); break; default: a = typeof g.is == "string" ? w.createElement(h, { is: g.is }) : w.createElement(h) } }a[mn] = l, a[tn] = g; t: for (w = l.child; w !== null;) { if (w.tag === 5 || w.tag === 6) a.appendChild(w.stateNode); else if (w.tag !== 4 && w.tag !== 27 && w.child !== null) { w.child.return = w, w = w.child; continue } if (w === l) break t; for (; w.sibling === null;) { if (w.return === null || w.return === l) break t; w = w.return } w.sibling.return = w.return, w = w.sibling } l.stateNode = a; t: switch (Ar(a, h, g), h) { case "button": case "input": case "select": case "textarea": a = !!g.autoFocus; break t; case "img": a = !0; break t; default: a = !1 }a && Cl(l) } } return pi(l), l.flags &= -16777217, null; case 6: if (a && l.stateNode != null) a.memoizedProps !== g && Cl(l); else { if (typeof g != "string" && l.stateNode === null) throw Error(n(166)); if (a = at.current, yr(l)) { if (a = l.stateNode, h = l.memoizedProps, g = null, w = Si, w !== null) switch (w.tag) { case 27: case 5: g = w.memoizedProps }a[mn] = l, a = !!(a.nodeValue === h || g !== null && g.suppressHydrationWarning === !0 || Xw(a.nodeValue, h)), a || bl(l) } else a = Hg(a).createTextNode(g), a[mn] = l, l.stateNode = a } return pi(l), null; case 13: if (g = l.memoizedState, a === null || a.memoizedState !== null && a.memoizedState.dehydrated !== null) { if (w = yr(l), g !== null && g.dehydrated !== null) { if (a === null) { if (!w) throw Error(n(318)); if (w = l.memoizedState, w = w !== null ? w.dehydrated : null, !w) throw Error(n(317)); w[mn] = l } else Qr(), (l.flags & 128) === 0 && (l.memoizedState = null), l.flags |= 4; pi(l), w = !1 } else w = ag(), a !== null && a.memoizedState !== null && (a.memoizedState.hydrationErrors = w), w = !0; if (!w) return l.flags & 256 ? (El(l), l) : (El(l), null) } if (El(l), (l.flags & 128) !== 0) return l.lanes = h, l; if (h = g !== null, a = a !== null && a.memoizedState !== null, h) { g = l.child, w = null, g.alternate !== null && g.alternate.memoizedState !== null && g.alternate.memoizedState.cachePool !== null && (w = g.alternate.memoizedState.cachePool.pool); var _ = null; g.memoizedState !== null && g.memoizedState.cachePool !== null && (_ = g.memoizedState.cachePool.pool), _ !== w && (g.flags |= 2048) } return h !== a && h && (l.child.flags |= 8192), Tg(l, l.updateQueue), pi(l), null; case 4: return xt(), a === null && kv(l.stateNode.containerInfo), pi(l), null; case 10: return Zs(l.type), pi(l), null; case 19: if (I(Wi), w = l.memoizedState, w === null) return pi(l), null; if (g = (l.flags & 128) !== 0, _ = w.rendering, _ === null) if (g) Ef(w, !1); else { if (yi !== 0 || a !== null && (a.flags & 128) !== 0) for (a = l.child; a !== null;) { if (_ = Eg(a), _ !== null) { for (l.flags |= 128, Ef(w, !1), a = _.updateQueue, l.updateQueue = a, Tg(l, a), l.subtreeFlags = 0, a = h, h = l.child; h !== null;)wu(h, a), h = h.sibling; return V(Wi, Wi.current & 1 | 2), l.child } a = a.sibling } w.tail !== null && se() > Pg && (l.flags |= 128, g = !0, Ef(w, !1), l.lanes = 4194304) } else { if (!g) if (a = Eg(_), a !== null) { if (l.flags |= 128, g = !0, a = a.updateQueue, l.updateQueue = a, Tg(l, a), Ef(w, !0), w.tail === null && w.tailMode === "hidden" && !_.alternate && !bn) return pi(l), null } else 2 * se() - w.renderingStartTime > Pg && h !== 536870912 && (l.flags |= 128, g = !0, Ef(w, !1), l.lanes = 4194304); w.isBackwards ? (_.sibling = l.child, l.child = _) : (a = w.last, a !== null ? a.sibling = _ : l.child = _, w.last = _) } return w.tail !== null ? (l = w.tail, w.rendering = l, w.tail = l.sibling, w.renderingStartTime = se(), l.sibling = null, a = Wi.current, V(Wi, g ? a & 1 | 2 : a & 1), l) : (pi(l), null); case 22: case 23: return El(l), Ie(), g = l.memoizedState !== null, a !== null ? a.memoizedState !== null !== g && (l.flags |= 8192) : g && (l.flags |= 8192), g ? (h & 536870912) !== 0 && (l.flags & 128) === 0 && (pi(l), l.subtreeFlags & 6 && (l.flags |= 8192)) : pi(l), h = l.updateQueue, h !== null && Tg(l, h.retryQueue), h = null, a !== null && a.memoizedState !== null && a.memoizedState.cachePool !== null && (h = a.memoizedState.cachePool.pool), g = null, l.memoizedState !== null && l.memoizedState.cachePool !== null && (g = l.memoizedState.cachePool.pool), g !== h && (l.flags |= 2048), a !== null && I(S), null; case 24: return h = null, a !== null && (h = a.memoizedState.cache), l.memoizedState.cache !== h && (l.flags |= 2048), Zs(Ei), pi(l), null; case 25: return null; case 30: return null }throw Error(n(156, l.tag)) } function UN(a, l) { switch (Au(l), l.tag) { case 1: return a = l.flags, a & 65536 ? (l.flags = a & -65537 | 128, l) : null; case 3: return Zs(Ei), xt(), a = l.flags, (a & 65536) !== 0 && (a & 128) === 0 ? (l.flags = a & -65537 | 128, l) : null; case 26: case 27: case 5: return kt(l), null; case 13: if (El(l), a = l.memoizedState, a !== null && a.dehydrated !== null) { if (l.alternate === null) throw Error(n(340)); Qr() } return a = l.flags, a & 65536 ? (l.flags = a & -65537 | 128, l) : null; case 19: return I(Wi), null; case 4: return xt(), null; case 10: return Zs(l.type), null; case 22: case 23: return El(l), Ie(), a !== null && I(S), a = l.flags, a & 65536 ? (l.flags = a & -65537 | 128, l) : null; case 24: return Zs(Ei), null; case 25: return null; default: return null } } function iw(a, l) { switch (Au(l), l.tag) { case 3: Zs(Ei), xt(); break; case 26: case 27: case 5: kt(l); break; case 4: xt(); break; case 13: El(l); break; case 19: I(Wi); break; case 10: Zs(l.type); break; case 22: case 23: El(l), Ie(), a !== null && I(S); break; case 24: Zs(Ei) } } function _f(a, l) { try { var h = l.updateQueue, g = h !== null ? h.lastEffect : null; if (g !== null) { var w = g.next; h = w; do { if ((h.tag & a) === a) { g = void 0; var _ = h.create, B = h.inst; g = _(), B.destroy = g } h = h.next } while (h !== w) } } catch (K) { zn(l, l.return, K) } } function yc(a, l, h) { try { var g = l.updateQueue, w = g !== null ? g.lastEffect : null; if (w !== null) { var _ = w.next; g = _; do { if ((g.tag & a) === a) { var B = g.inst, K = B.destroy; if (K !== void 0) { B.destroy = void 0, w = l; var dt = h, Rt = K; try { Rt() } catch (Ft) { zn(w, dt, Ft) } } } g = g.next } while (g !== _) } } catch (Ft) { zn(l, l.return, Ft) } } function rw(a) { var l = a.updateQueue; if (l !== null) { var h = a.stateNode; try { wn(l, h) } catch (g) { zn(a, a.return, g) } } } function sw(a, l, h) { h.props = ju(a.type, a.memoizedProps), h.state = a.memoizedState; try { h.componentWillUnmount() } catch (g) { zn(a, l, g) } } function Cf(a, l) { try { var h = a.ref; if (h !== null) { switch (a.tag) { case 26: case 27: case 5: var g = a.stateNode; break; case 30: g = a.stateNode; break; default: g = a.stateNode }typeof h == "function" ? a.refCleanup = h(g) : h.current = g } } catch (w) { zn(a, l, w) } } function Ro(a, l) { var h = a.ref, g = a.refCleanup; if (h !== null) if (typeof g == "function") try { g() } catch (w) { zn(a, l, w) } finally { a.refCleanup = null, a = a.alternate, a != null && (a.refCleanup = null) } else if (typeof h == "function") try { h(null) } catch (w) { zn(a, l, w) } else h.current = null } function aw(a) { var l = a.type, h = a.memoizedProps, g = a.stateNode; try { t: switch (l) { case "button": case "input": case "select": case "textarea": h.autoFocus && g.focus(); break t; case "img": h.src ? g.src = h.src : h.srcSet && (g.srcset = h.srcSet) } } catch (w) { zn(a, a.return, w) } } function uv(a, l, h) { try { var g = a.stateNode; l4(g, a.type, h, l), g[tn] = l } catch (w) { zn(a, a.return, w) } } function ow(a) { return a.tag === 5 || a.tag === 3 || a.tag === 26 || a.tag === 27 && Nc(a.type) || a.tag === 4 } function hv(a) { t: for (; ;) { for (; a.sibling === null;) { if (a.return === null || ow(a.return)) return null; a = a.return } for (a.sibling.return = a.return, a = a.sibling; a.tag !== 5 && a.tag !== 6 && a.tag !== 18;) { if (a.tag === 27 && Nc(a.type) || a.flags & 2 || a.child === null || a.tag === 4) continue t; a.child.return = a, a = a.child } if (!(a.flags & 2)) return a.stateNode } } function dv(a, l, h) { var g = a.tag; if (g === 5 || g === 6) a = a.stateNode, l ? (h.nodeType === 9 ? h.body : h.nodeName === "HTML" ? h.ownerDocument.body : h).insertBefore(a, l) : (l = h.nodeType === 9 ? h.body : h.nodeName === "HTML" ? h.ownerDocument.body : h, l.appendChild(a), h = h._reactRootContainer, h != null || l.onclick !== null || (l.onclick = Ug)); else if (g !== 4 && (g === 27 && Nc(a.type) && (h = a.stateNode, l = null), a = a.child, a !== null)) for (dv(a, l, h), a = a.sibling; a !== null;)dv(a, l, h), a = a.sibling } function Lg(a, l, h) { var g = a.tag; if (g === 5 || g === 6) a = a.stateNode, l ? h.insertBefore(a, l) : h.appendChild(a); else if (g !== 4 && (g === 27 && Nc(a.type) && (h = a.stateNode), a = a.child, a !== null)) for (Lg(a, l, h), a = a.sibling; a !== null;)Lg(a, l, h), a = a.sibling } function lw(a) { var l = a.stateNode, h = a.memoizedProps; try { for (var g = a.type, w = l.attributes; w.length;)l.removeAttributeNode(w[0]); Ar(l, g, h), l[mn] = a, l[tn] = h } catch (_) { zn(a, a.return, _) } } var Nl = !1, Ci = !1, fv = !1, cw = typeof WeakSet == "function" ? WeakSet : Set, cr = null; function HN(a, l) { if (a = a.containerInfo, Iv = Yg, a = br(a), $i(a)) { if ("selectionStart" in a) var h = { start: a.selectionStart, end: a.selectionEnd }; else t: { h = (h = a.ownerDocument) && h.defaultView || window; var g = h.getSelection && h.getSelection(); if (g && g.rangeCount !== 0) { h = g.anchorNode; var w = g.anchorOffset, _ = g.focusNode; g = g.focusOffset; try { h.nodeType, _.nodeType } catch { h = null; break t } var B = 0, K = -1, dt = -1, Rt = 0, Ft = 0, Gt = a, Mt = null; e: for (; ;) { for (var Pt; Gt !== h || w !== 0 && Gt.nodeType !== 3 || (K = B + w), Gt !== _ || g !== 0 && Gt.nodeType !== 3 || (dt = B + g), Gt.nodeType === 3 && (B += Gt.nodeValue.length), (Pt = Gt.firstChild) !== null;)Mt = Gt, Gt = Pt; for (; ;) { if (Gt === a) break e; if (Mt === h && ++Rt === w && (K = B), Mt === _ && ++Ft === g && (dt = B), (Pt = Gt.nextSibling) !== null) break; Gt = Mt, Mt = Gt.parentNode } Gt = Pt } h = K === -1 || dt === -1 ? null : { start: K, end: dt } } else h = null } h = h || { start: 0, end: 0 } } else h = null; for (Fv = { focusedElem: a, selectionRange: h }, Yg = !1, cr = l; cr !== null;)if (l = cr, a = l.child, (l.subtreeFlags & 1024) !== 0 && a !== null) a.return = l, cr = a; else for (; cr !== null;) { switch (l = cr, _ = l.alternate, a = l.flags, l.tag) { case 0: break; case 11: case 15: break; case 1: if ((a & 1024) !== 0 && _ !== null) { a = void 0, h = l, w = _.memoizedProps, _ = _.memoizedState, g = h.stateNode; try { var Oe = ju(h.type, w, h.elementType === h.type); a = g.getSnapshotBeforeUpdate(Oe, _), g.__reactInternalSnapshotBeforeUpdate = a } catch (Ee) { zn(h, h.return, Ee) } } break; case 3: if ((a & 1024) !== 0) { if (a = l.stateNode.containerInfo, h = a.nodeType, h === 9) Uv(a); else if (h === 1) switch (a.nodeName) { case "HEAD": case "HTML": case "BODY": Uv(a); break; default: a.textContent = "" } } break; case 5: case 26: case 27: case 6: case 4: case 17: break; default: if ((a & 1024) !== 0) throw Error(n(163)) }if (a = l.sibling, a !== null) { a.return = l.return, cr = a; break } cr = l.return } } function uw(a, l, h) { var g = h.flags; switch (h.tag) { case 0: case 11: case 15: wc(a, h), g & 4 && _f(5, h); break; case 1: if (wc(a, h), g & 4) if (a = h.stateNode, l === null) try { a.componentDidMount() } catch (B) { zn(h, h.return, B) } else { var w = ju(h.type, l.memoizedProps); l = l.memoizedState; try { a.componentDidUpdate(w, l, a.__reactInternalSnapshotBeforeUpdate) } catch (B) { zn(h, h.return, B) } } g & 64 && rw(h), g & 512 && Cf(h, h.return); break; case 3: if (wc(a, h), g & 64 && (a = h.updateQueue, a !== null)) { if (l = null, h.child !== null) switch (h.child.tag) { case 27: case 5: l = h.child.stateNode; break; case 1: l = h.child.stateNode }try { wn(a, l) } catch (B) { zn(h, h.return, B) } } break; case 27: l === null && g & 4 && lw(h); case 26: case 5: wc(a, h), l === null && g & 4 && aw(h), g & 512 && Cf(h, h.return); break; case 12: wc(a, h); break; case 13: wc(a, h), g & 4 && fw(a, h), g & 64 && (a = h.memoizedState, a !== null && (a = a.dehydrated, a !== null && (h = QN.bind(null, h), g4(a, h)))); break; case 22: if (g = h.memoizedState !== null || Nl, !g) { l = l !== null && l.memoizedState !== null || Ci, w = Nl; var _ = Ci; Nl = g, (Ci = l) && !_ ? xc(a, h, (h.subtreeFlags & 8772) !== 0) : wc(a, h), Nl = w, Ci = _ } break; case 30: break; default: wc(a, h) } } function hw(a) { var l = a.alternate; l !== null && (a.alternate = null, hw(l)), a.child = null, a.deletions = null, a.sibling = null, a.tag === 5 && (l = a.stateNode, l !== null && Gr(l)), a.stateNode = null, a.return = null, a.dependencies = null, a.memoizedProps = null, a.memoizedState = null, a.pendingProps = null, a.stateNode = null, a.updateQueue = null } var ii = null, cs = !1; function Rl(a, l, h) { for (h = h.child; h !== null;)dw(a, l, h), h = h.sibling } function dw(a, l, h) { if (be && typeof be.onCommitFiberUnmount == "function") try { be.onCommitFiberUnmount(Ae, h) } catch { } switch (h.tag) { case 26: Ci || Ro(h, l), Rl(a, l, h), h.memoizedState ? h.memoizedState.count-- : h.stateNode && (h = h.stateNode, h.parentNode.removeChild(h)); break; case 27: Ci || Ro(h, l); var g = ii, w = cs; Nc(h.type) && (ii = h.stateNode, cs = !1), Rl(a, l, h), Df(h.stateNode), ii = g, cs = w; break; case 5: Ci || Ro(h, l); case 6: if (g = ii, w = cs, ii = null, Rl(a, l, h), ii = g, cs = w, ii !== null) if (cs) try { (ii.nodeType === 9 ? ii.body : ii.nodeName === "HTML" ? ii.ownerDocument.body : ii).removeChild(h.stateNode) } catch (_) { zn(h, l, _) } else try { ii.removeChild(h.stateNode) } catch (_) { zn(h, l, _) } break; case 18: ii !== null && (cs ? (a = ii, t5(a.nodeType === 9 ? a.body : a.nodeName === "HTML" ? a.ownerDocument.body : a, h.stateNode), qf(a)) : t5(ii, h.stateNode)); break; case 4: g = ii, w = cs, ii = h.stateNode.containerInfo, cs = !0, Rl(a, l, h), ii = g, cs = w; break; case 0: case 11: case 14: case 15: Ci || yc(2, h, l), Ci || yc(4, h, l), Rl(a, l, h); break; case 1: Ci || (Ro(h, l), g = h.stateNode, typeof g.componentWillUnmount == "function" && sw(h, l, g)), Rl(a, l, h); break; case 21: Rl(a, l, h); break; case 22: Ci = (g = Ci) || h.memoizedState !== null, Rl(a, l, h), Ci = g; break; default: Rl(a, l, h) } } function fw(a, l) { if (l.memoizedState === null && (a = l.alternate, a !== null && (a = a.memoizedState, a !== null && (a = a.dehydrated, a !== null)))) try { qf(a) } catch (h) { zn(l, l.return, h) } } function qN(a) { switch (a.tag) { case 13: case 19: var l = a.stateNode; return l === null && (l = a.stateNode = new cw), l; case 22: return a = a.stateNode, l = a._retryCache, l === null && (l = a._retryCache = new cw), l; default: throw Error(n(435, a.tag)) } } function pv(a, l) { var h = qN(a); l.forEach(function (g) { var w = ZN.bind(null, a, g); h.has(g) || (h.add(g), g.then(w, w)) }) } function Ls(a, l) { var h = l.deletions; if (h !== null) for (var g = 0; g < h.length; g++) { var w = h[g], _ = a, B = l, K = B; t: for (; K !== null;) { switch (K.tag) { case 27: if (Nc(K.type)) { ii = K.stateNode, cs = !1; break t } break; case 5: ii = K.stateNode, cs = !1; break t; case 3: case 4: ii = K.stateNode.containerInfo, cs = !0; break t }K = K.return } if (ii === null) throw Error(n(160)); dw(_, B, w), ii = null, cs = !1, _ = w.alternate, _ !== null && (_.return = null), w.return = null } if (l.subtreeFlags & 13878) for (l = l.child; l !== null;)pw(l, a), l = l.sibling } var Oa = null; function pw(a, l) { var h = a.alternate, g = a.flags; switch (a.tag) { case 0: case 11: case 14: case 15: Ls(l, a), Ms(a), g & 4 && (yc(3, a, a.return), _f(3, a), yc(5, a, a.return)); break; case 1: Ls(l, a), Ms(a), g & 512 && (Ci || h === null || Ro(h, h.return)), g & 64 && Nl && (a = a.updateQueue, a !== null && (g = a.callbacks, g !== null && (h = a.shared.hiddenCallbacks, a.shared.hiddenCallbacks = h === null ? g : h.concat(g)))); break; case 26: var w = Oa; if (Ls(l, a), Ms(a), g & 512 && (Ci || h === null || Ro(h, h.return)), g & 4) { var _ = h !== null ? h.memoizedState : null; if (g = a.memoizedState, h === null) if (g === null) if (a.stateNode === null) { t: { g = a.type, h = a.memoizedProps, w = w.ownerDocument || w; e: switch (g) { case "title": _ = w.getElementsByTagName("title")[0], (!_ || _[Vr] || _[mn] || _.namespaceURI === "http://www.w3.org/2000/svg" || _.hasAttribute("itemprop")) && (_ = w.createElement(g), w.head.insertBefore(_, w.querySelector("head > title"))), Ar(_, g, h), _[mn] = a, Nn(_), g = _; break t; case "link": var B = l5("link", "href", w).get(g + (h.href || "")); if (B) { for (var K = 0; K < B.length; K++)if (_ = B[K], _.getAttribute("href") === (h.href == null || h.href === "" ? null : h.href) && _.getAttribute("rel") === (h.rel == null ? null : h.rel) && _.getAttribute("title") === (h.title == null ? null : h.title) && _.getAttribute("crossorigin") === (h.crossOrigin == null ? null : h.crossOrigin)) { B.splice(K, 1); break e } } _ = w.createElement(g), Ar(_, g, h), w.head.appendChild(_); break; case "meta": if (B = l5("meta", "content", w).get(g + (h.content || ""))) { for (K = 0; K < B.length; K++)if (_ = B[K], _.getAttribute("content") === (h.content == null ? null : "" + h.content) && _.getAttribute("name") === (h.name == null ? null : h.name) && _.getAttribute("property") === (h.property == null ? null : h.property) && _.getAttribute("http-equiv") === (h.httpEquiv == null ? null : h.httpEquiv) && _.getAttribute("charset") === (h.charSet == null ? null : h.charSet)) { B.splice(K, 1); break e } } _ = w.createElement(g), Ar(_, g, h), w.head.appendChild(_); break; default: throw Error(n(468, g)) }_[mn] = a, Nn(_), g = _ } a.stateNode = g } else c5(w, a.type, a.stateNode); else a.stateNode = o5(w, g, a.memoizedProps); else _ !== g ? (_ === null ? h.stateNode !== null && (h = h.stateNode, h.parentNode.removeChild(h)) : _.count--, g === null ? c5(w, a.type, a.stateNode) : o5(w, g, a.memoizedProps)) : g === null && a.stateNode !== null && uv(a, a.memoizedProps, h.memoizedProps) } break; case 27: Ls(l, a), Ms(a), g & 512 && (Ci || h === null || Ro(h, h.return)), h !== null && g & 4 && uv(a, a.memoizedProps, h.memoizedProps); break; case 5: if (Ls(l, a), Ms(a), g & 512 && (Ci || h === null || Ro(h, h.return)), a.flags & 32) { w = a.stateNode; try { to(w, "") } catch (Pt) { zn(a, a.return, Pt) } } g & 4 && a.stateNode != null && (w = a.memoizedProps, uv(a, w, h !== null ? h.memoizedProps : w)), g & 1024 && (fv = !0); break; case 6: if (Ls(l, a), Ms(a), g & 4) { if (a.stateNode === null) throw Error(n(162)); g = a.memoizedProps, h = a.stateNode; try { h.nodeValue = g } catch (Pt) { zn(a, a.return, Pt) } } break; case 3: if (Gg = null, w = Oa, Oa = qg(l.containerInfo), Ls(l, a), Oa = w, Ms(a), g & 4 && h !== null && h.memoizedState.isDehydrated) try { qf(l.containerInfo) } catch (Pt) { zn(a, a.return, Pt) } fv && (fv = !1, gw(a)); break; case 4: g = Oa, Oa = qg(a.stateNode.containerInfo), Ls(l, a), Ms(a), Oa = g; break; case 12: Ls(l, a), Ms(a); break; case 13: Ls(l, a), Ms(a), a.child.flags & 8192 && a.memoizedState !== null != (h !== null && h.memoizedState !== null) && (wv = se()), g & 4 && (g = a.updateQueue, g !== null && (a.updateQueue = null, pv(a, g))); break; case 22: w = a.memoizedState !== null; var dt = h !== null && h.memoizedState !== null, Rt = Nl, Ft = Ci; if (Nl = Rt || w, Ci = Ft || dt, Ls(l, a), Ci = Ft, Nl = Rt, Ms(a), g & 8192) t: for (l = a.stateNode, l._visibility = w ? l._visibility & -2 : l._visibility | 1, w && (h === null || dt || Nl || Ci || Iu(a)), h = null, l = a; ;) { if (l.tag === 5 || l.tag === 26) { if (h === null) { dt = h = l; try { if (_ = dt.stateNode, w) B = _.style, typeof B.setProperty == "function" ? B.setProperty("display", "none", "important") : B.display = "none"; else { K = dt.stateNode; var Gt = dt.memoizedProps.style, Mt = Gt != null && Gt.hasOwnProperty("display") ? Gt.display : null; K.style.display = Mt == null || typeof Mt == "boolean" ? "" : ("" + Mt).trim() } } catch (Pt) { zn(dt, dt.return, Pt) } } } else if (l.tag === 6) { if (h === null) { dt = l; try { dt.stateNode.nodeValue = w ? "" : dt.memoizedProps } catch (Pt) { zn(dt, dt.return, Pt) } } } else if ((l.tag !== 22 && l.tag !== 23 || l.memoizedState === null || l === a) && l.child !== null) { l.child.return = l, l = l.child; continue } if (l === a) break t; for (; l.sibling === null;) { if (l.return === null || l.return === a) break t; h === l && (h = null), l = l.return } h === l && (h = null), l.sibling.return = l.return, l = l.sibling } g & 4 && (g = a.updateQueue, g !== null && (h = g.retryQueue, h !== null && (g.retryQueue = null, pv(a, h)))); break; case 19: Ls(l, a), Ms(a), g & 4 && (g = a.updateQueue, g !== null && (a.updateQueue = null, pv(a, g))); break; case 30: break; case 21: break; default: Ls(l, a), Ms(a) } } function Ms(a) { var l = a.flags; if (l & 2) { try { for (var h, g = a.return; g !== null;) { if (ow(g)) { h = g; break } g = g.return } if (h == null) throw Error(n(160)); switch (h.tag) { case 27: var w = h.stateNode, _ = hv(a); Lg(a, _, w); break; case 5: var B = h.stateNode; h.flags & 32 && (to(B, ""), h.flags &= -33); var K = hv(a); Lg(a, K, B); break; case 3: case 4: var dt = h.stateNode.containerInfo, Rt = hv(a); dv(a, Rt, dt); break; default: throw Error(n(161)) } } catch (Ft) { zn(a, a.return, Ft) } a.flags &= -3 } l & 4096 && (a.flags &= -4097) } function gw(a) { if (a.subtreeFlags & 1024) for (a = a.child; a !== null;) { var l = a; gw(l), l.tag === 5 && l.flags & 1024 && l.stateNode.reset(), a = a.sibling } } function wc(a, l) { if (l.subtreeFlags & 8772) for (l = l.child; l !== null;)uw(a, l.alternate, l), l = l.sibling } function Iu(a) { for (a = a.child; a !== null;) { var l = a; switch (l.tag) { case 0: case 11: case 14: case 15: yc(4, l, l.return), Iu(l); break; case 1: Ro(l, l.return); var h = l.stateNode; typeof h.componentWillUnmount == "function" && sw(l, l.return, h), Iu(l); break; case 27: Df(l.stateNode); case 26: case 5: Ro(l, l.return), Iu(l); break; case 22: l.memoizedState === null && Iu(l); break; case 30: Iu(l); break; default: Iu(l) }a = a.sibling } } function xc(a, l, h) { for (h = h && (l.subtreeFlags & 8772) !== 0, l = l.child; l !== null;) { var g = l.alternate, w = a, _ = l, B = _.flags; switch (_.tag) { case 0: case 11: case 15: xc(w, _, h), _f(4, _); break; case 1: if (xc(w, _, h), g = _, w = g.stateNode, typeof w.componentDidMount == "function") try { w.componentDidMount() } catch (Rt) { zn(g, g.return, Rt) } if (g = _, w = g.updateQueue, w !== null) { var K = g.stateNode; try { var dt = w.shared.hiddenCallbacks; if (dt !== null) for (w.shared.hiddenCallbacks = null, w = 0; w < dt.length; w++)fn(dt[w], K) } catch (Rt) { zn(g, g.return, Rt) } } h && B & 64 && rw(_), Cf(_, _.return); break; case 27: lw(_); case 26: case 5: xc(w, _, h), h && g === null && B & 4 && aw(_), Cf(_, _.return); break; case 12: xc(w, _, h); break; case 13: xc(w, _, h), h && B & 4 && fw(w, _); break; case 22: _.memoizedState === null && xc(w, _, h), Cf(_, _.return); break; case 30: break; default: xc(w, _, h) }l = l.sibling } } function gv(a, l) { var h = null; a !== null && a.memoizedState !== null && a.memoizedState.cachePool !== null && (h = a.memoizedState.cachePool.pool), a = null, l.memoizedState !== null && l.memoizedState.cachePool !== null && (a = l.memoizedState.cachePool.pool), a !== h && (a != null && a.refCount++, h != null && Eu(h)) } function mv(a, l) { a = null, l.alternate !== null && (a = l.alternate.memoizedState.cache), l = l.memoizedState.cache, l !== a && (l.refCount++, a != null && Eu(a)) } function To(a, l, h, g) { if (l.subtreeFlags & 10256) for (l = l.child; l !== null;)mw(a, l, h, g), l = l.sibling } function mw(a, l, h, g) { var w = l.flags; switch (l.tag) { case 0: case 11: case 15: To(a, l, h, g), w & 2048 && _f(9, l); break; case 1: To(a, l, h, g); break; case 3: To(a, l, h, g), w & 2048 && (a = null, l.alternate !== null && (a = l.alternate.memoizedState.cache), l = l.memoizedState.cache, l !== a && (l.refCount++, a != null && Eu(a))); break; case 12: if (w & 2048) { To(a, l, h, g), a = l.stateNode; try { var _ = l.memoizedProps, B = _.id, K = _.onPostCommit; typeof K == "function" && K(B, l.alternate === null ? "mount" : "update", a.passiveEffectDuration, -0) } catch (dt) { zn(l, l.return, dt) } } else To(a, l, h, g); break; case 13: To(a, l, h, g); break; case 23: break; case 22: _ = l.stateNode, B = l.alternate, l.memoizedState !== null ? _._visibility & 2 ? To(a, l, h, g) : Nf(a, l) : _._visibility & 2 ? To(a, l, h, g) : (_._visibility |= 2, Vh(a, l, h, g, (l.subtreeFlags & 10256) !== 0)), w & 2048 && gv(B, l); break; case 24: To(a, l, h, g), w & 2048 && mv(l.alternate, l); break; default: To(a, l, h, g) } } function Vh(a, l, h, g, w) { for (w = w && (l.subtreeFlags & 10256) !== 0, l = l.child; l !== null;) { var _ = a, B = l, K = h, dt = g, Rt = B.flags; switch (B.tag) { case 0: case 11: case 15: Vh(_, B, K, dt, w), _f(8, B); break; case 23: break; case 22: var Ft = B.stateNode; B.memoizedState !== null ? Ft._visibility & 2 ? Vh(_, B, K, dt, w) : Nf(_, B) : (Ft._visibility |= 2, Vh(_, B, K, dt, w)), w && Rt & 2048 && gv(B.alternate, B); break; case 24: Vh(_, B, K, dt, w), w && Rt & 2048 && mv(B.alternate, B); break; default: Vh(_, B, K, dt, w) }l = l.sibling } } function Nf(a, l) { if (l.subtreeFlags & 10256) for (l = l.child; l !== null;) { var h = a, g = l, w = g.flags; switch (g.tag) { case 22: Nf(h, g), w & 2048 && gv(g.alternate, g); break; case 24: Nf(h, g), w & 2048 && mv(g.alternate, g); break; default: Nf(h, g) }l = l.sibling } } var Rf = 8192; function Gh(a) { if (a.subtreeFlags & Rf) for (a = a.child; a !== null;)vw(a), a = a.sibling } function vw(a) { switch (a.tag) { case 26: Gh(a), a.flags & Rf && a.memoizedState !== null && R4(Oa, a.memoizedState, a.memoizedProps); break; case 5: Gh(a); break; case 3: case 4: var l = Oa; Oa = qg(a.stateNode.containerInfo), Gh(a), Oa = l; break; case 22: a.memoizedState === null && (l = a.alternate, l !== null && l.memoizedState !== null ? (l = Rf, Rf = 16777216, Gh(a), Rf = l) : Gh(a)); break; default: Gh(a) } } function bw(a) { var l = a.alternate; if (l !== null && (a = l.child, a !== null)) { l.child = null; do l = a.sibling, a.sibling = null, a = l; while (a !== null) } } function Tf(a) { var l = a.deletions; if ((a.flags & 16) !== 0) { if (l !== null) for (var h = 0; h < l.length; h++) { var g = l[h]; cr = g, ww(g, a) } bw(a) } if (a.subtreeFlags & 10256) for (a = a.child; a !== null;)yw(a), a = a.sibling } function yw(a) { switch (a.tag) { case 0: case 11: case 15: Tf(a), a.flags & 2048 && yc(9, a, a.return); break; case 3: Tf(a); break; case 12: Tf(a); break; case 22: var l = a.stateNode; a.memoizedState !== null && l._visibility & 2 && (a.return === null || a.return.tag !== 13) ? (l._visibility &= -3, Mg(a)) : Tf(a); break; default: Tf(a) } } function Mg(a) { var l = a.deletions; if ((a.flags & 16) !== 0) { if (l !== null) for (var h = 0; h < l.length; h++) { var g = l[h]; cr = g, ww(g, a) } bw(a) } for (a = a.child; a !== null;) { switch (l = a, l.tag) { case 0: case 11: case 15: yc(8, l, l.return), Mg(l); break; case 22: h = l.stateNode, h._visibility & 2 && (h._visibility &= -3, Mg(l)); break; default: Mg(l) }a = a.sibling } } function ww(a, l) { for (; cr !== null;) { var h = cr; switch (h.tag) { case 0: case 11: case 15: yc(8, h, l); break; case 23: case 22: if (h.memoizedState !== null && h.memoizedState.cachePool !== null) { var g = h.memoizedState.cachePool.pool; g != null && g.refCount++ } break; case 24: Eu(h.memoizedState.cache) }if (g = h.child, g !== null) g.return = h, cr = g; else t: for (h = a; cr !== null;) { g = cr; var w = g.sibling, _ = g.return; if (hw(g), g === h) { cr = null; break t } if (w !== null) { w.return = _, cr = w; break t } cr = _ } } } var VN = { getCacheForType: function (a) { var l = Ai(Ei), h = l.data.get(a); return h === void 0 && (h = a(), l.data.set(a, h)), h } }, GN = typeof WeakMap == "function" ? WeakMap : Map, Tn = 0, Yn = null, nn = null, gn = 0, Ln = 0, Ps = null, Sc = !1, $h = !1, vv = !1, Tl = 0, yi = 0, Ac = 0, Fu = 0, bv = 0, na = 0, Wh = 0, Lf = null, us = null, yv = !1, wv = 0, Pg = 1 / 0, Og = null, Ec = null, Sr = 0, _c = null, Yh = null, Xh = 0, xv = 0, Sv = null, xw = null, Mf = 0, Av = null; function Os() { if ((Tn & 2) !== 0 && gn !== 0) return gn & -gn; if (U.T !== null) { var a = yl; return a !== 0 ? a : Lv() } return ir() } function Sw() { na === 0 && (na = (gn & 536870912) === 0 || bn ? Vi() : 536870912); var a = ea.current; return a !== null && (a.flags |= 32), na } function ks(a, l, h) { (a === Yn && (Ln === 2 || Ln === 9) || a.cancelPendingCommit !== null) && (Kh(a, 0), Cc(a, gn, na, !1)), nr(a, h), ((Tn & 2) === 0 || a !== Yn) && (a === Yn && ((Tn & 2) === 0 && (Fu |= h), yi === 4 && Cc(a, gn, na, !1)), Lo(a)) } function Aw(a, l, h) { if ((Tn & 6) !== 0) throw Error(n(327)); var g = !h && (l & 124) === 0 && (l & a.expiredLanes) === 0 || er(a, l), w = g ? YN(a, l) : Cv(a, l, !0), _ = g; do { if (w === 0) { $h && !g && Cc(a, l, 0, !1); break } else { if (h = a.current.alternate, _ && !$N(h)) { w = Cv(a, l, !1), _ = !1; continue } if (w === 2) { if (_ = l, a.errorRecoveryDisabledLanes & _) var B = 0; else B = a.pendingLanes & -536870913, B = B !== 0 ? B : B & 536870912 ? 536870912 : 0; if (B !== 0) { l = B; t: { var K = a; w = Lf; var dt = K.current.memoizedState.isDehydrated; if (dt && (Kh(K, B).flags |= 256), B = Cv(K, B, !1), B !== 2) { if (vv && !dt) { K.errorRecoveryDisabledLanes |= _, Fu |= _, w = 4; break t } _ = us, us = w, _ !== null && (us === null ? us = _ : us.push.apply(us, _)) } w = B } if (_ = !1, w !== 2) continue } } if (w === 1) { Kh(a, 0), Cc(a, l, 0, !0); break } t: { switch (g = a, _ = w, _) { case 0: case 1: throw Error(n(345)); case 4: if ((l & 4194048) !== l) break; case 6: Cc(g, l, na, !Sc); break t; case 2: us = null; break; case 3: case 5: break; default: throw Error(n(329)) }if ((l & 62914560) === l && (w = wv + 300 - se(), 10 < w)) { if (Cc(g, l, na, !Sc), yn(g, 0, !0) !== 0) break t; g.timeoutHandle = Zw(Ew.bind(null, g, h, us, Og, yv, l, na, Fu, Wh, Sc, _, 2, -0, 0), w); break t } Ew(g, h, us, Og, yv, l, na, Fu, Wh, Sc, _, 0, -0, 0) } } break } while (!0); Lo(a) } function Ew(a, l, h, g, w, _, B, K, dt, Rt, Ft, Gt, Mt, Pt) { if (a.timeoutHandle = -1, Gt = l.subtreeFlags, (Gt & 8192 || (Gt & 16785408) === 16785408) && (Ff = { stylesheets: null, count: 0, unsuspend: N4 }, vw(l), Gt = T4(), Gt !== null)) { a.cancelPendingCommit = Gt(Mw.bind(null, a, l, _, h, g, w, B, K, dt, Ft, 1, Mt, Pt)), Cc(a, _, B, !Rt); return } Mw(a, l, _, h, g, w, B, K, dt) } function $N(a) { for (var l = a; ;) { var h = l.tag; if ((h === 0 || h === 11 || h === 15) && l.flags & 16384 && (h = l.updateQueue, h !== null && (h = h.stores, h !== null))) for (var g = 0; g < h.length; g++) { var w = h[g], _ = w.getSnapshot; w = w.value; try { if (!Ii(_(), w)) return !1 } catch { return !1 } } if (h = l.child, l.subtreeFlags & 16384 && h !== null) h.return = l, l = h; else { if (l === a) break; for (; l.sibling === null;) { if (l.return === null || l.return === a) return !0; l = l.return } l.sibling.return = l.return, l = l.sibling } } return !0 } function Cc(a, l, h, g) { l &= ~bv, l &= ~Fu, a.suspendedLanes |= l, a.pingedLanes &= ~l, g && (a.warmLanes |= l), g = a.expirationTimes; for (var w = l; 0 < w;) { var _ = 31 - le(w), B = 1 << _; g[_] = -1, w &= ~B } h !== 0 && Qt(a, h, l) } function kg() { return (Tn & 6) === 0 ? (Pf(0), !1) : !0 } function Ev() { if (nn !== null) { if (Ln === 0) var a = nn.return; else a = nn, Na = Bi = null, jh(a), Hh = null, Sf = 0, a = nn; for (; a !== null;)iw(a.alternate, a), a = a.return; nn = null } } function Kh(a, l) { var h = a.timeoutHandle; h !== -1 && (a.timeoutHandle = -1, u4(h)), h = a.cancelPendingCommit, h !== null && (a.cancelPendingCommit = null, h()), Ev(), Yn = a, nn = h = Xs(a.current, null), gn = l, Ln = 0, Ps = null, Sc = !1, $h = er(a, l), vv = !1, Wh = na = bv = Fu = Ac = yi = 0, us = Lf = null, yv = !1, (l & 8) !== 0 && (l |= l & 32); var g = a.entangledLanes; if (g !== 0) for (a = a.entanglements, g &= l; 0 < g;) { var w = 31 - le(g), _ = 1 << w; l |= a[w], g &= ~_ } return Tl = l, ss(), h } function _w(a, l) { we = null, U.H = xg, l === $ || l === X ? (l = St(), Ln = 3) : l === W ? (l = St(), Ln = 4) : Ln = l === q2 ? 8 : l !== null && typeof l == "object" && typeof l.then == "function" ? 6 : 1, Ps = l, nn === null && (yi = 1, Cg(a, Ye(l, a.current))) } function Cw() { var a = U.H; return U.H = xg, a === null ? xg : a } function Nw() { var a = U.A; return U.A = VN, a } function _v() { yi = 4, Sc || (gn & 4194048) !== gn && ea.current !== null || ($h = !0), (Ac & 134217727) === 0 && (Fu & 134217727) === 0 || Yn === null || Cc(Yn, gn, na, !1) } function Cv(a, l, h) { var g = Tn; Tn |= 2; var w = Cw(), _ = Nw(); (Yn !== a || gn !== l) && (Og = null, Kh(a, l)), l = !1; var B = yi; t: do try { if (Ln !== 0 && nn !== null) { var K = nn, dt = Ps; switch (Ln) { case 8: Ev(), B = 6; break t; case 3: case 2: case 9: case 6: ea.current === null && (l = !0); var Rt = Ln; if (Ln = 0, Ps = null, Qh(a, K, dt, Rt), h && $h) { B = 0; break t } break; default: Rt = Ln, Ln = 0, Ps = null, Qh(a, K, dt, Rt) } } WN(), B = yi; break } catch (Ft) { _w(a, Ft) } while (!0); return l && a.shellSuspendCounter++, Na = Bi = null, Tn = g, U.H = w, U.A = _, nn === null && (Yn = null, gn = 0, ss()), B } function WN() { for (; nn !== null;)Rw(nn) } function YN(a, l) { var h = Tn; Tn |= 2; var g = Cw(), w = Nw(); Yn !== a || gn !== l ? (Og = null, Pg = se() + 500, Kh(a, l)) : $h = er(a, l); t: do try { if (Ln !== 0 && nn !== null) { l = nn; var _ = Ps; e: switch (Ln) { case 1: Ln = 0, Ps = null, Qh(a, l, _, 1); break; case 2: case 9: if (rt(_)) { Ln = 0, Ps = null, Tw(l); break } l = function () { Ln !== 2 && Ln !== 9 || Yn !== a || (Ln = 7), Lo(a) }, _.then(l, l); break t; case 3: Ln = 7; break t; case 4: Ln = 5; break t; case 7: rt(_) ? (Ln = 0, Ps = null, Tw(l)) : (Ln = 0, Ps = null, Qh(a, l, _, 7)); break; case 5: var B = null; switch (nn.tag) { case 26: B = nn.memoizedState; case 5: case 27: var K = nn; if (!B || u5(B)) { Ln = 0, Ps = null; var dt = K.sibling; if (dt !== null) nn = dt; else { var Rt = K.return; Rt !== null ? (nn = Rt, Dg(Rt)) : nn = null } break e } }Ln = 0, Ps = null, Qh(a, l, _, 5); break; case 6: Ln = 0, Ps = null, Qh(a, l, _, 6); break; case 8: Ev(), yi = 6; break t; default: throw Error(n(462)) } } XN(); break } catch (Ft) { _w(a, Ft) } while (!0); return Na = Bi = null, U.H = g, U.A = w, Tn = h, nn !== null ? 0 : (Yn = null, gn = 0, ss(), yi) } function XN() { for (; nn !== null && !Lt();)Rw(nn) } function Rw(a) { var l = ew(a.alternate, a, Tl); a.memoizedProps = a.pendingProps, l === null ? Dg(a) : nn = l } function Tw(a) { var l = a, h = l.alternate; switch (l.tag) { case 15: case 0: l = X2(h, l, l.pendingProps, l.type, void 0, gn); break; case 11: l = X2(h, l, l.pendingProps, l.type.render, l.ref, gn); break; case 5: jh(l); default: iw(h, l), l = nn = wu(l, Tl), l = ew(h, l, Tl) }a.memoizedProps = a.pendingProps, l === null ? Dg(a) : nn = l } function Qh(a, l, h, g) { Na = Bi = null, jh(l), Hh = null, Sf = 0; var w = l.return; try { if (FN(a, w, l, h, gn)) { yi = 1, Cg(a, Ye(h, a.current)), nn = null; return } } catch (_) { if (w !== null) throw nn = w, _; yi = 1, Cg(a, Ye(h, a.current)), nn = null; return } l.flags & 32768 ? (bn || g === 1 ? a = !0 : $h || (gn & 536870912) !== 0 ? a = !1 : (Sc = a = !0, (g === 2 || g === 9 || g === 3 || g === 6) && (g = ea.current, g !== null && g.tag === 13 && (g.flags |= 16384))), Lw(l, a)) : Dg(l) } function Dg(a) { var l = a; do { if ((l.flags & 32768) !== 0) { Lw(l, Sc); return } a = l.return; var h = zN(l.alternate, l, Tl); if (h !== null) { nn = h; return } if (l = l.sibling, l !== null) { nn = l; return } nn = l = a } while (l !== null); yi === 0 && (yi = 5) } function Lw(a, l) { do { var h = UN(a.alternate, a); if (h !== null) { h.flags &= 32767, nn = h; return } if (h = a.return, h !== null && (h.flags |= 32768, h.subtreeFlags = 0, h.deletions = null), !l && (a = a.sibling, a !== null)) { nn = a; return } nn = a = h } while (a !== null); yi = 6, nn = null } function Mw(a, l, h, g, w, _, B, K, dt) { a.cancelPendingCommit = null; do jg(); while (Sr !== 0); if ((Tn & 6) !== 0) throw Error(n(327)); if (l !== null) { if (l === a.current) throw Error(n(177)); if (_ = l.lanes | l.childLanes, _ |= hi, Fn(a, h, _, B, K, dt), a === Yn && (nn = Yn = null, gn = 0), Yh = l, _c = a, Xh = h, xv = _, Sv = w, xw = g, (l.subtreeFlags & 10256) !== 0 || (l.flags & 10256) !== 0 ? (a.callbackNode = null, a.callbackPriority = 0, JN(Jt, function () { return jw(), null })) : (a.callbackNode = null, a.callbackPriority = 0), g = (l.flags & 13878) !== 0, (l.subtreeFlags & 13878) !== 0 || g) { g = U.T, U.T = null, w = tt.p, tt.p = 2, B = Tn, Tn |= 4; try { HN(a, l, h) } finally { Tn = B, tt.p = w, U.T = g } } Sr = 1, Pw(), Ow(), kw() } } function Pw() { if (Sr === 1) { Sr = 0; var a = _c, l = Yh, h = (l.flags & 13878) !== 0; if ((l.subtreeFlags & 13878) !== 0 || h) { h = U.T, U.T = null; var g = tt.p; tt.p = 2; var w = Tn; Tn |= 4; try { pw(l, a); var _ = Fv, B = br(a.containerInfo), K = _.focusedElem, dt = _.selectionRange; if (B !== K && K && K.ownerDocument && uo(K.ownerDocument.documentElement, K)) { if (dt !== null && $i(K)) { var Rt = dt.start, Ft = dt.end; if (Ft === void 0 && (Ft = Rt), "selectionStart" in K) K.selectionStart = Rt, K.selectionEnd = Math.min(Ft, K.value.length); else { var Gt = K.ownerDocument || document, Mt = Gt && Gt.defaultView || window; if (Mt.getSelection) { var Pt = Mt.getSelection(), Oe = K.textContent.length, Ee = Math.min(dt.start, Oe), Dn = dt.end === void 0 ? Ee : Math.min(dt.end, Oe); !Pt.extend && Ee > Dn && (B = Dn, Dn = Ee, Ee = B); var At = ya(K, Ee), yt = ya(K, Dn); if (At && yt && (Pt.rangeCount !== 1 || Pt.anchorNode !== At.node || Pt.anchorOffset !== At.offset || Pt.focusNode !== yt.node || Pt.focusOffset !== yt.offset)) { var Ct = Gt.createRange(); Ct.setStart(At.node, At.offset), Pt.removeAllRanges(), Ee > Dn ? (Pt.addRange(Ct), Pt.extend(yt.node, yt.offset)) : (Ct.setEnd(yt.node, yt.offset), Pt.addRange(Ct)) } } } } for (Gt = [], Pt = K; Pt = Pt.parentNode;)Pt.nodeType === 1 && Gt.push({ element: Pt, left: Pt.scrollLeft, top: Pt.scrollTop }); for (typeof K.focus == "function" && K.focus(), K = 0; K < Gt.length; K++) { var Ut = Gt[K]; Ut.element.scrollLeft = Ut.left, Ut.element.scrollTop = Ut.top } } Yg = !!Iv, Fv = Iv = null } finally { Tn = w, tt.p = g, U.T = h } } a.current = l, Sr = 2 } } function Ow() { if (Sr === 2) { Sr = 0; var a = _c, l = Yh, h = (l.flags & 8772) !== 0; if ((l.subtreeFlags & 8772) !== 0 || h) { h = U.T, U.T = null; var g = tt.p; tt.p = 2; var w = Tn; Tn |= 4; try { uw(a, l.alternate, l) } finally { Tn = w, tt.p = g, U.T = h } } Sr = 3 } } function kw() { if (Sr === 4 || Sr === 3) { Sr = 0, lt(); var a = _c, l = Yh, h = Xh, g = xw; (l.subtreeFlags & 10256) !== 0 || (l.flags & 10256) !== 0 ? Sr = 5 : (Sr = 0, Yh = _c = null, Dw(a, a.pendingLanes)); var w = a.pendingLanes; if (w === 0 && (Ec = null), un(h), l = l.stateNode, be && typeof be.onCommitFiberRoot == "function") try { be.onCommitFiberRoot(Ae, l, void 0, (l.current.flags & 128) === 128) } catch { } if (g !== null) { l = U.T, w = tt.p, tt.p = 2, U.T = null; try { for (var _ = a.onRecoverableError, B = 0; B < g.length; B++) { var K = g[B]; _(K.value, { componentStack: K.stack }) } } finally { U.T = l, tt.p = w } } (Xh & 3) !== 0 && jg(), Lo(a), w = a.pendingLanes, (h & 4194090) !== 0 && (w & 42) !== 0 ? a === Av ? Mf++ : (Mf = 0, Av = a) : Mf = 0, Pf(0) } } function Dw(a, l) { (a.pooledCacheLanes &= l) === 0 && (l = a.pooledCache, l != null && (a.pooledCache = null, Eu(l))) } function jg(a) { return Pw(), Ow(), kw(), jw() } function jw() { if (Sr !== 5) return !1; var a = _c, l = xv; xv = 0; var h = un(Xh), g = U.T, w = tt.p; try { tt.p = 32 > h ? 32 : h, U.T = null, h = Sv, Sv = null; var _ = _c, B = Xh; if (Sr = 0, Yh = _c = null, Xh = 0, (Tn & 6) !== 0) throw Error(n(331)); var K = Tn; if (Tn |= 4, yw(_.current), mw(_, _.current, B, h), Tn = K, Pf(0, !1), be && typeof be.onPostCommitFiberRoot == "function") try { be.onPostCommitFiberRoot(Ae, _) } catch { } return !0 } finally { tt.p = w, U.T = g, Dw(a, l) } } function Iw(a, l, h) { l = Ye(h, l), l = ev(a.stateNode, l, 2), a = qt(a, l, 2), a !== null && (nr(a, 2), Lo(a)) } function zn(a, l, h) { if (a.tag === 3) Iw(a, a, h); else for (; l !== null;) { if (l.tag === 3) { Iw(l, a, h); break } else if (l.tag === 1) { var g = l.stateNode; if (typeof l.type.getDerivedStateFromError == "function" || typeof g.componentDidCatch == "function" && (Ec === null || !Ec.has(g))) { a = Ye(h, a), h = U2(2), g = qt(l, h, 2), g !== null && (H2(h, g, l, a), nr(g, 2), Lo(g)); break } } l = l.return } } function Nv(a, l, h) { var g = a.pingCache; if (g === null) { g = a.pingCache = new GN; var w = new Set; g.set(l, w) } else w = g.get(l), w === void 0 && (w = new Set, g.set(l, w)); w.has(h) || (vv = !0, w.add(h), a = KN.bind(null, a, l, h), l.then(a, a)) } function KN(a, l, h) { var g = a.pingCache; g !== null && g.delete(l), a.pingedLanes |= a.suspendedLanes & h, a.warmLanes &= ~h, Yn === a && (gn & h) === h && (yi === 4 || yi === 3 && (gn & 62914560) === gn && 300 > se() - wv ? (Tn & 2) === 0 && Kh(a, 0) : bv |= h, Wh === gn && (Wh = 0)), Lo(a) } function Fw(a, l) { l === 0 && (l = In()), a = xa(a, l), a !== null && (nr(a, l), Lo(a)) } function QN(a) { var l = a.memoizedState, h = 0; l !== null && (h = l.retryLane), Fw(a, h) } function ZN(a, l) { var h = 0; switch (a.tag) { case 13: var g = a.stateNode, w = a.memoizedState; w !== null && (h = w.retryLane); break; case 19: g = a.stateNode; break; case 22: g = a.stateNode._retryCache; break; default: throw Error(n(314)) }g !== null && g.delete(l), Fw(a, h) } function JN(a, l) { return $t(a, l) } var Ig = null, Zh = null, Rv = !1, Fg = !1, Tv = !1, Bu = 0; function Lo(a) { a !== Zh && a.next === null && (Zh === null ? Ig = Zh = a : Zh = Zh.next = a), Fg = !0, Rv || (Rv = !0, e4()) } function Pf(a, l) { if (!Tv && Fg) { Tv = !0; do for (var h = !1, g = Ig; g !== null;) { if (a !== 0) { var w = g.pendingLanes; if (w === 0) var _ = 0; else { var B = g.suspendedLanes, K = g.pingedLanes; _ = (1 << 31 - le(42 | a) + 1) - 1, _ &= w & ~(B & ~K), _ = _ & 201326741 ? _ & 201326741 | 1 : _ ? _ | 2 : 0 } _ !== 0 && (h = !0, Hw(g, _)) } else _ = gn, _ = yn(g, g === Yn ? _ : 0, g.cancelPendingCommit !== null || g.timeoutHandle !== -1), (_ & 3) === 0 || er(g, _) || (h = !0, Hw(g, _)); g = g.next } while (h); Tv = !1 } } function t4() { Bw() } function Bw() { Fg = Rv = !1; var a = 0; Bu !== 0 && (c4() && (a = Bu), Bu = 0); for (var l = se(), h = null, g = Ig; g !== null;) { var w = g.next, _ = zw(g, l); _ === 0 ? (g.next = null, h === null ? Ig = w : h.next = w, w === null && (Zh = h)) : (h = g, (a !== 0 || (_ & 3) !== 0) && (Fg = !0)), g = w } Pf(a) } function zw(a, l) { for (var h = a.suspendedLanes, g = a.pingedLanes, w = a.expirationTimes, _ = a.pendingLanes & -62914561; 0 < _;) { var B = 31 - le(_), K = 1 << B, dt = w[B]; dt === -1 ? ((K & h) === 0 || (K & g) !== 0) && (w[B] = an(K, l)) : dt <= l && (a.expiredLanes |= K), _ &= ~K } if (l = Yn, h = gn, h = yn(a, a === l ? h : 0, a.cancelPendingCommit !== null || a.timeoutHandle !== -1), g = a.callbackNode, h === 0 || a === l && (Ln === 2 || Ln === 9) || a.cancelPendingCommit !== null) return g !== null && g !== null && Kt(g), a.callbackNode = null, a.callbackPriority = 0; if ((h & 3) === 0 || er(a, h)) { if (l = h & -h, l === a.callbackPriority) return l; switch (g !== null && Kt(g), un(h)) { case 2: case 8: h = Zt; break; case 32: h = Jt; break; case 268435456: h = ce; break; default: h = Jt }return g = Uw.bind(null, a), h = $t(h, g), a.callbackPriority = l, a.callbackNode = h, l } return g !== null && g !== null && Kt(g), a.callbackPriority = 2, a.callbackNode = null, 2 } function Uw(a, l) { if (Sr !== 0 && Sr !== 5) return a.callbackNode = null, a.callbackPriority = 0, null; var h = a.callbackNode; if (jg() && a.callbackNode !== h) return null; var g = gn; return g = yn(a, a === Yn ? g : 0, a.cancelPendingCommit !== null || a.timeoutHandle !== -1), g === 0 ? null : (Aw(a, g, l), zw(a, se()), a.callbackNode != null && a.callbackNode === h ? Uw.bind(null, a) : null) } function Hw(a, l) { if (jg()) return null; Aw(a, l, !0) } function e4() { h4(function () { (Tn & 6) !== 0 ? $t(Vt, t4) : Bw() }) } function Lv() { return Bu === 0 && (Bu = Vi()), Bu } function qw(a) { return a == null || typeof a == "symbol" || typeof a == "boolean" ? null : typeof a == "function" ? a : pa("" + a) } function Vw(a, l) { var h = l.ownerDocument.createElement("input"); return h.name = l.name, h.value = l.value, a.id && h.setAttribute("form", a.id), l.parentNode.insertBefore(h, l), a = new FormData(a), h.parentNode.removeChild(h), a } function n4(a, l, h, g, w) { if (l === "submit" && h && h.stateNode === w) { var _ = qw((w[tn] || null).action), B = g.submitter; B && (l = (l = B[tn] || null) ? qw(l.formAction) : B.getAttribute("formAction"), l !== null && (_ = l, B = null)); var K = new io("action", "action", null, g, w); a.push({ event: K, listeners: [{ instance: null, listener: function () { if (g.defaultPrevented) { if (Bu !== 0) { var dt = B ? Vw(w, B) : new FormData(w); ta(h, { pending: !0, data: dt, method: w.method, action: _ }, null, dt) } } else typeof _ == "function" && (K.preventDefault(), dt = B ? Vw(w, B) : new FormData(w), ta(h, { pending: !0, data: dt, method: w.method, action: _ }, _, dt)) }, currentTarget: w }] }) } } for (var Mv = 0; Mv < fl.length; Mv++) { var Pv = fl[Mv], i4 = Pv.toLowerCase(), r4 = Pv[0].toUpperCase() + Pv.slice(1); ei(i4, "on" + r4) } ei(ac, "onAnimationEnd"), ei(fo, "onAnimationIteration"), ei(po, "onAnimationStart"), ei("dblclick", "onDoubleClick"), ei("focusin", "onFocus"), ei("focusout", "onBlur"), ei(go, "onTransitionRun"), ei(dl, "onTransitionStart"), ei(oc, "onTransitionCancel"), ei(mo, "onTransitionEnd"), ws("onMouseEnter", ["mouseout", "mouseover"]), ws("onMouseLeave", ["mouseout", "mouseover"]), ws("onPointerEnter", ["pointerout", "pointerover"]), ws("onPointerLeave", ["pointerout", "pointerover"]), es("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), es("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), es("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), es("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), es("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), es("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Of = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), s4 = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Of)); function Gw(a, l) { l = (l & 4) !== 0; for (var h = 0; h < a.length; h++) { var g = a[h], w = g.event; g = g.listeners; t: { var _ = void 0; if (l) for (var B = g.length - 1; 0 <= B; B--) { var K = g[B], dt = K.instance, Rt = K.currentTarget; if (K = K.listener, dt !== _ && w.isPropagationStopped()) break t; _ = K, w.currentTarget = Rt; try { _(w) } catch (Ft) { _g(Ft) } w.currentTarget = null, _ = dt } else for (B = 0; B < g.length; B++) { if (K = g[B], dt = K.instance, Rt = K.currentTarget, K = K.listener, dt !== _ && w.isPropagationStopped()) break t; _ = K, w.currentTarget = Rt; try { _(w) } catch (Ft) { _g(Ft) } w.currentTarget = null, _ = dt } } } } function rn(a, l) { var h = l[Gn]; h === void 0 && (h = l[Gn] = new Set); var g = a + "__bubble"; h.has(g) || ($w(l, a, 2, !1), h.add(g)) } function Ov(a, l, h) { var g = 0; l && (g |= 4), $w(h, a, g, l) } var Bg = "_reactListening" + Math.random().toString(36).slice(2); function kv(a) { if (!a[Bg]) { a[Bg] = !0, Qa.forEach(function (h) { h !== "selectionchange" && (s4.has(h) || Ov(h, !1, a), Ov(h, !0, a)) }); var l = a.nodeType === 9 ? a : a.ownerDocument; l === null || l[Bg] || (l[Bg] = !0, Ov("selectionchange", !1, l)) } } function $w(a, l, h, g) { switch (m5(l)) { case 2: var w = P4; break; case 8: w = O4; break; default: w = Yv }h = w.bind(null, l, h, a), w = void 0, !Wl || l !== "touchstart" && l !== "touchmove" && l !== "wheel" || (w = !0), g ? w !== void 0 ? a.addEventListener(l, h, { capture: !0, passive: w }) : a.addEventListener(l, h, !0) : w !== void 0 ? a.addEventListener(l, h, { passive: w }) : a.addEventListener(l, h, !1) } function Dv(a, l, h, g, w) { var _ = g; if ((l & 1) === 0 && (l & 2) === 0 && g !== null) t: for (; ;) { if (g === null) return; var B = g.tag; if (B === 3 || B === 4) { var K = g.stateNode.containerInfo; if (K === w) break; if (B === 4) for (B = g.return; B !== null;) { var dt = B.tag; if ((dt === 3 || dt === 4) && B.stateNode.containerInfo === w) return; B = B.return } for (; K !== null;) { if (B = rr(K), B === null) return; if (dt = B.tag, dt === 5 || dt === 6 || dt === 26 || dt === 27) { g = _ = B; continue t } K = K.parentNode } } g = g.return } Eh(function () { var Rt = _, Ft = Di(h), Gt = []; t: { var Mt = wa.get(a); if (Mt !== void 0) { var Pt = io, Oe = a; switch (a) { case "keypress": if (no(h) === 0) break t; case "keydown": case "keyup": Pt = ec; break; case "focusin": Oe = "focus", Pt = sl; break; case "focusout": Oe = "blur", Pt = sl; break; case "beforeblur": case "afterblur": Pt = sl; break; case "click": if (h.button === 2) break t; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": Pt = $s; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": Pt = so; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": Pt = mu; break; case ac: case fo: case po: Pt = nf; break; case mo: Pt = q; break; case "scroll": case "scrollend": Pt = Ch; break; case "wheel": Pt = mt; break; case "copy": case "cut": case "paste": Pt = rf; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": Pt = nc; break; case "toggle": case "beforetoggle": Pt = jt }var Ee = (l & 4) !== 0, Dn = !Ee && (a === "scroll" || a === "scrollend"), At = Ee ? Mt !== null ? Mt + "Capture" : null : Mt; Ee = []; for (var yt = Rt, Ct; yt !== null;) { var Ut = yt; if (Ct = Ut.stateNode, Ut = Ut.tag, Ut !== 5 && Ut !== 26 && Ut !== 27 || Ct === null || At === null || (Ut = Rr(yt, At), Ut != null && Ee.push(kf(yt, Ut, Ct))), Dn) break; yt = yt.return } 0 < Ee.length && (Mt = new Pt(Mt, Oe, null, h, Ft), Gt.push({ event: Mt, listeners: Ee })) } } if ((l & 7) === 0) { t: { if (Mt = a === "mouseover" || a === "pointerover", Pt = a === "mouseout" || a === "pointerout", Mt && h !== $l && (Oe = h.relatedTarget || h.fromElement) && (rr(Oe) || Oe[vn])) break t; if ((Pt || Mt) && (Mt = Ft.window === Ft ? Ft : (Mt = Ft.ownerDocument) ? Mt.defaultView || Mt.parentWindow : window, Pt ? (Oe = h.relatedTarget || h.toElement, Pt = Rt, Oe = Oe ? rr(Oe) : null, Oe !== null && (Dn = s(Oe), Ee = Oe.tag, Oe !== Dn || Ee !== 5 && Ee !== 27 && Ee !== 6) && (Oe = null)) : (Pt = null, Oe = Rt), Pt !== Oe)) { if (Ee = $s, Ut = "onMouseLeave", At = "onMouseEnter", yt = "mouse", (a === "pointerout" || a === "pointerover") && (Ee = nc, Ut = "onPointerLeave", At = "onPointerEnter", yt = "pointer"), Dn = Pt == null ? Mt : Cr(Pt), Ct = Oe == null ? Mt : Cr(Oe), Mt = new Ee(Ut, yt + "leave", Pt, h, Ft), Mt.target = Dn, Mt.relatedTarget = Ct, Ut = null, rr(Ft) === Rt && (Ee = new Ee(At, yt + "enter", Oe, h, Ft), Ee.target = Ct, Ee.relatedTarget = Dn, Ut = Ee), Dn = Ut, Pt && Oe) e: { for (Ee = Pt, At = Oe, yt = 0, Ct = Ee; Ct; Ct = Jh(Ct))yt++; for (Ct = 0, Ut = At; Ut; Ut = Jh(Ut))Ct++; for (; 0 < yt - Ct;)Ee = Jh(Ee), yt--; for (; 0 < Ct - yt;)At = Jh(At), Ct--; for (; yt--;) { if (Ee === At || At !== null && Ee === At.alternate) break e; Ee = Jh(Ee), At = Jh(At) } Ee = null } else Ee = null; Pt !== null && Ww(Gt, Mt, Pt, Ee, !1), Oe !== null && Dn !== null && Ww(Gt, Dn, Oe, Ee, !0) } } t: { if (Mt = Rt ? Cr(Rt) : window, Pt = Mt.nodeName && Mt.nodeName.toLowerCase(), Pt === "select" || Pt === "input" && Mt.type === "file") var he = rc; else if (Es(Mt)) if (ll) he = Rh; else { he = af; var Ze = Tr } else Pt = Mt.nodeName, !Pt || Pt.toLowerCase() !== "input" || Mt.type !== "checkbox" && Mt.type !== "radio" ? Rt && uu(Rt.elementType) && (he = rc) : he = bu; if (he && (he = he(a, Rt))) { vu(Gt, he, h, Ft); break t } Ze && Ze(a, Mt, Rt), a === "focusout" && Rt && Mt.type === "number" && Rt.memoizedProps.value != null && ou(Mt, "number", Mt.value) } switch (Ze = Rt ? Cr(Rt) : window, a) { case "focusin": (Es(Ze) || Ze.contentEditable === "true") && (Lr = Ze, _s = Rt, Ws = null); break; case "focusout": Ws = _s = Lr = null; break; case "mousedown": Cs = !0; break; case "contextmenu": case "mouseup": case "dragend": Cs = !1, ti(Gt, h, Ft); break; case "selectionchange": if (ho) break; case "keydown": case "keyup": ti(Gt, h, Ft) }var ve; if (ie) t: { switch (a) { case "compositionstart": var Re = "onCompositionStart"; break t; case "compositionend": Re = "onCompositionEnd"; break t; case "compositionupdate": Re = "onCompositionUpdate"; break t }Re = void 0 } else ui ? Kn(a, h) && (Re = "onCompositionEnd") : a === "keydown" && h.keyCode === 229 && (Re = "onCompositionStart"); Re && (De && h.locale !== "ko" && (ui || Re !== "onCompositionStart" ? Re === "onCompositionEnd" && ui && (ve = _h()) : (is = Ft, du = "value" in is ? is.value : is.textContent, ui = !0)), Ze = zg(Rt, Re), 0 < Ze.length && (Re = new Zl(Re, a, null, h, Ft), Gt.push({ event: Re, listeners: Ze }), ve ? Re.data = ve : (ve = ci(h), ve !== null && (Re.data = ve)))), (ve = Be ? ji(a, h) : As(a, h)) && (Re = zg(Rt, "onBeforeInput"), 0 < Re.length && (Ze = new Zl("onBeforeInput", "beforeinput", null, h, Ft), Gt.push({ event: Ze, listeners: Re }), Ze.data = ve)), n4(Gt, a, Rt, h, Ft) } Gw(Gt, l) }) } function kf(a, l, h) { return { instance: a, listener: l, currentTarget: h } } function zg(a, l) { for (var h = l + "Capture", g = []; a !== null;) { var w = a, _ = w.stateNode; if (w = w.tag, w !== 5 && w !== 26 && w !== 27 || _ === null || (w = Rr(a, h), w != null && g.unshift(kf(a, w, _)), w = Rr(a, l), w != null && g.push(kf(a, w, _))), a.tag === 3) return g; a = a.return } return [] } function Jh(a) { if (a === null) return null; do a = a.return; while (a && a.tag !== 5 && a.tag !== 27); return a || null } function Ww(a, l, h, g, w) { for (var _ = l._reactName, B = []; h !== null && h !== g;) { var K = h, dt = K.alternate, Rt = K.stateNode; if (K = K.tag, dt !== null && dt === g) break; K !== 5 && K !== 26 && K !== 27 || Rt === null || (dt = Rt, w ? (Rt = Rr(h, _), Rt != null && B.unshift(kf(h, Rt, dt))) : w || (Rt = Rr(h, _), Rt != null && B.push(kf(h, Rt, dt)))), h = h.return } B.length !== 0 && a.push({ event: l, listeners: B }) } var a4 = /\r\n?/g, o4 = /\u0000|\uFFFD/g; function Yw(a) {
    return (typeof a == "string" ? a : "" + a).replace(a4, `
`).replace(o4, "")
  } function Xw(a, l) { return l = Yw(l), Yw(a) === l } function Ug() { } function kn(a, l, h, g, w, _) { switch (h) { case "children": typeof g == "string" ? l === "body" || l === "textarea" && g === "" || to(a, g) : (typeof g == "number" || typeof g == "bigint") && l !== "body" && to(a, "" + g); break; case "className": nl(a, "class", g); break; case "tabIndex": nl(a, "tabindex", g); break; case "dir": case "role": case "viewBox": case "width": case "height": nl(a, h, g); break; case "style": Ah(a, g, _); break; case "data": if (l !== "object") { nl(a, "data", g); break } case "src": case "href": if (g === "" && (l !== "a" || h !== "href")) { a.removeAttribute(h); break } if (g == null || typeof g == "function" || typeof g == "symbol" || typeof g == "boolean") { a.removeAttribute(h); break } g = pa("" + g), a.setAttribute(h, g); break; case "action": case "formAction": if (typeof g == "function") { a.setAttribute(h, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } else typeof _ == "function" && (h === "formAction" ? (l !== "input" && kn(a, l, "name", w.name, w, null), kn(a, l, "formEncType", w.formEncType, w, null), kn(a, l, "formMethod", w.formMethod, w, null), kn(a, l, "formTarget", w.formTarget, w, null)) : (kn(a, l, "encType", w.encType, w, null), kn(a, l, "method", w.method, w, null), kn(a, l, "target", w.target, w, null))); if (g == null || typeof g == "symbol" || typeof g == "boolean") { a.removeAttribute(h); break } g = pa("" + g), a.setAttribute(h, g); break; case "onClick": g != null && (a.onclick = Ug); break; case "onScroll": g != null && rn("scroll", a); break; case "onScrollEnd": g != null && rn("scrollend", a); break; case "dangerouslySetInnerHTML": if (g != null) { if (typeof g != "object" || !("__html" in g)) throw Error(n(61)); if (h = g.__html, h != null) { if (w.children != null) throw Error(n(60)); a.innerHTML = h } } break; case "multiple": a.multiple = g && typeof g != "function" && typeof g != "symbol"; break; case "muted": a.muted = g && typeof g != "function" && typeof g != "symbol"; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": break; case "autoFocus": break; case "xlinkHref": if (g == null || typeof g == "function" || typeof g == "boolean" || typeof g == "symbol") { a.removeAttribute("xlink:href"); break } h = pa("" + g), a.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", h); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": g != null && typeof g != "function" && typeof g != "symbol" ? a.setAttribute(h, "" + g) : a.removeAttribute(h); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": g && typeof g != "function" && typeof g != "symbol" ? a.setAttribute(h, "") : a.removeAttribute(h); break; case "capture": case "download": g === !0 ? a.setAttribute(h, "") : g !== !1 && g != null && typeof g != "function" && typeof g != "symbol" ? a.setAttribute(h, g) : a.removeAttribute(h); break; case "cols": case "rows": case "size": case "span": g != null && typeof g != "function" && typeof g != "symbol" && !isNaN(g) && 1 <= g ? a.setAttribute(h, g) : a.removeAttribute(h); break; case "rowSpan": case "start": g == null || typeof g == "function" || typeof g == "symbol" || isNaN(g) ? a.removeAttribute(h) : a.setAttribute(h, g); break; case "popover": rn("beforetoggle", a), rn("toggle", a), ua(a, "popover", g); break; case "xlinkActuate": xs(a, "http://www.w3.org/1999/xlink", "xlink:actuate", g); break; case "xlinkArcrole": xs(a, "http://www.w3.org/1999/xlink", "xlink:arcrole", g); break; case "xlinkRole": xs(a, "http://www.w3.org/1999/xlink", "xlink:role", g); break; case "xlinkShow": xs(a, "http://www.w3.org/1999/xlink", "xlink:show", g); break; case "xlinkTitle": xs(a, "http://www.w3.org/1999/xlink", "xlink:title", g); break; case "xlinkType": xs(a, "http://www.w3.org/1999/xlink", "xlink:type", g); break; case "xmlBase": xs(a, "http://www.w3.org/XML/1998/namespace", "xml:base", g); break; case "xmlLang": xs(a, "http://www.w3.org/XML/1998/namespace", "xml:lang", g); break; case "xmlSpace": xs(a, "http://www.w3.org/XML/1998/namespace", "xml:space", g); break; case "is": ua(a, "is", g); break; case "innerText": case "textContent": break; default: (!(2 < h.length) || h[0] !== "o" && h[0] !== "O" || h[1] !== "n" && h[1] !== "N") && (h = fa.get(h) || h, ua(a, h, g)) } } function jv(a, l, h, g, w, _) { switch (h) { case "style": Ah(a, g, _); break; case "dangerouslySetInnerHTML": if (g != null) { if (typeof g != "object" || !("__html" in g)) throw Error(n(61)); if (h = g.__html, h != null) { if (w.children != null) throw Error(n(60)); a.innerHTML = h } } break; case "children": typeof g == "string" ? to(a, g) : (typeof g == "number" || typeof g == "bigint") && to(a, "" + g); break; case "onScroll": g != null && rn("scroll", a); break; case "onScrollEnd": g != null && rn("scrollend", a); break; case "onClick": g != null && (a.onclick = Ug); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": break; case "innerText": case "textContent": break; default: if (!el.hasOwnProperty(h)) t: { if (h[0] === "o" && h[1] === "n" && (w = h.endsWith("Capture"), l = h.slice(2, w ? h.length - 7 : void 0), _ = a[tn] || null, _ = _ != null ? _[h] : null, typeof _ == "function" && a.removeEventListener(l, _, w), typeof g == "function")) { typeof _ != "function" && _ !== null && (h in a ? a[h] = null : a.hasAttribute(h) && a.removeAttribute(h)), a.addEventListener(l, g, w); break t } h in a ? a[h] = g : g === !0 ? a.setAttribute(h, "") : ua(a, h, g) } } } function Ar(a, l, h) { switch (l) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": rn("error", a), rn("load", a); var g = !1, w = !1, _; for (_ in h) if (h.hasOwnProperty(_)) { var B = h[_]; if (B != null) switch (_) { case "src": g = !0; break; case "srcSet": w = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(n(137, l)); default: kn(a, l, _, B, h, null) } } w && kn(a, l, "srcSet", h.srcSet, h, null), g && kn(a, l, "src", h.src, h, null); return; case "input": rn("invalid", a); var K = _ = B = w = null, dt = null, Rt = null; for (g in h) if (h.hasOwnProperty(g)) { var Ft = h[g]; if (Ft != null) switch (g) { case "name": w = Ft; break; case "type": B = Ft; break; case "checked": dt = Ft; break; case "defaultChecked": Rt = Ft; break; case "value": _ = Ft; break; case "defaultValue": K = Ft; break; case "children": case "dangerouslySetInnerHTML": if (Ft != null) throw Error(n(137, l)); break; default: kn(a, l, g, Ft, h, null) } } au(a, _, K, dt, Rt, B, w, !1), Ja(a); return; case "select": rn("invalid", a), g = B = _ = null; for (w in h) if (h.hasOwnProperty(w) && (K = h[w], K != null)) switch (w) { case "value": _ = K; break; case "defaultValue": B = K; break; case "multiple": g = K; default: kn(a, l, w, K, h, null) }l = _, h = B, a.multiple = !!g, l != null ? da(a, !!g, l, !1) : h != null && da(a, !!g, h, !0); return; case "textarea": rn("invalid", a), _ = w = g = null; for (B in h) if (h.hasOwnProperty(B) && (K = h[B], K != null)) switch (B) { case "value": g = K; break; case "defaultValue": w = K; break; case "children": _ = K; break; case "dangerouslySetInnerHTML": if (K != null) throw Error(n(91)); break; default: kn(a, l, B, K, h, null) }lu(a, g, w, _), Ja(a); return; case "option": for (dt in h) if (h.hasOwnProperty(dt) && (g = h[dt], g != null)) switch (dt) { case "selected": a.selected = g && typeof g != "function" && typeof g != "symbol"; break; default: kn(a, l, dt, g, h, null) }return; case "dialog": rn("beforetoggle", a), rn("toggle", a), rn("cancel", a), rn("close", a); break; case "iframe": case "object": rn("load", a); break; case "video": case "audio": for (g = 0; g < Of.length; g++)rn(Of[g], a); break; case "image": rn("error", a), rn("load", a); break; case "details": rn("toggle", a); break; case "embed": case "source": case "link": rn("error", a), rn("load", a); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (Rt in h) if (h.hasOwnProperty(Rt) && (g = h[Rt], g != null)) switch (Rt) { case "children": case "dangerouslySetInnerHTML": throw Error(n(137, l)); default: kn(a, l, Rt, g, h, null) }return; default: if (uu(l)) { for (Ft in h) h.hasOwnProperty(Ft) && (g = h[Ft], g !== void 0 && jv(a, l, Ft, g, h, void 0)); return } }for (K in h) h.hasOwnProperty(K) && (g = h[K], g != null && kn(a, l, K, g, h, null)) } function l4(a, l, h, g) { switch (l) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var w = null, _ = null, B = null, K = null, dt = null, Rt = null, Ft = null; for (Pt in h) { var Gt = h[Pt]; if (h.hasOwnProperty(Pt) && Gt != null) switch (Pt) { case "checked": break; case "value": break; case "defaultValue": dt = Gt; default: g.hasOwnProperty(Pt) || kn(a, l, Pt, null, g, Gt) } } for (var Mt in g) { var Pt = g[Mt]; if (Gt = h[Mt], g.hasOwnProperty(Mt) && (Pt != null || Gt != null)) switch (Mt) { case "type": _ = Pt; break; case "name": w = Pt; break; case "checked": Rt = Pt; break; case "defaultChecked": Ft = Pt; break; case "value": B = Pt; break; case "defaultValue": K = Pt; break; case "children": case "dangerouslySetInnerHTML": if (Pt != null) throw Error(n(137, l)); break; default: Pt !== Gt && kn(a, l, Mt, Pt, g, Gt) } } rl(a, B, K, dt, Rt, Ft, _, w); return; case "select": Pt = B = K = Mt = null; for (_ in h) if (dt = h[_], h.hasOwnProperty(_) && dt != null) switch (_) { case "value": break; case "multiple": Pt = dt; default: g.hasOwnProperty(_) || kn(a, l, _, null, g, dt) }for (w in g) if (_ = g[w], dt = h[w], g.hasOwnProperty(w) && (_ != null || dt != null)) switch (w) { case "value": Mt = _; break; case "defaultValue": K = _; break; case "multiple": B = _; default: _ !== dt && kn(a, l, w, _, g, dt) }l = K, h = B, g = Pt, Mt != null ? da(a, !!h, Mt, !1) : !!g != !!h && (l != null ? da(a, !!h, l, !0) : da(a, !!h, h ? [] : "", !1)); return; case "textarea": Pt = Mt = null; for (K in h) if (w = h[K], h.hasOwnProperty(K) && w != null && !g.hasOwnProperty(K)) switch (K) { case "value": break; case "children": break; default: kn(a, l, K, null, g, w) }for (B in g) if (w = g[B], _ = h[B], g.hasOwnProperty(B) && (w != null || _ != null)) switch (B) { case "value": Mt = w; break; case "defaultValue": Pt = w; break; case "children": break; case "dangerouslySetInnerHTML": if (w != null) throw Error(n(91)); break; default: w !== _ && kn(a, l, B, w, g, _) }xh(a, Mt, Pt); return; case "option": for (var Oe in h) if (Mt = h[Oe], h.hasOwnProperty(Oe) && Mt != null && !g.hasOwnProperty(Oe)) switch (Oe) { case "selected": a.selected = !1; break; default: kn(a, l, Oe, null, g, Mt) }for (dt in g) if (Mt = g[dt], Pt = h[dt], g.hasOwnProperty(dt) && Mt !== Pt && (Mt != null || Pt != null)) switch (dt) { case "selected": a.selected = Mt && typeof Mt != "function" && typeof Mt != "symbol"; break; default: kn(a, l, dt, Mt, g, Pt) }return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var Ee in h) Mt = h[Ee], h.hasOwnProperty(Ee) && Mt != null && !g.hasOwnProperty(Ee) && kn(a, l, Ee, null, g, Mt); for (Rt in g) if (Mt = g[Rt], Pt = h[Rt], g.hasOwnProperty(Rt) && Mt !== Pt && (Mt != null || Pt != null)) switch (Rt) { case "children": case "dangerouslySetInnerHTML": if (Mt != null) throw Error(n(137, l)); break; default: kn(a, l, Rt, Mt, g, Pt) }return; default: if (uu(l)) { for (var Dn in h) Mt = h[Dn], h.hasOwnProperty(Dn) && Mt !== void 0 && !g.hasOwnProperty(Dn) && jv(a, l, Dn, void 0, g, Mt); for (Ft in g) Mt = g[Ft], Pt = h[Ft], !g.hasOwnProperty(Ft) || Mt === Pt || Mt === void 0 && Pt === void 0 || jv(a, l, Ft, Mt, g, Pt); return } }for (var At in h) Mt = h[At], h.hasOwnProperty(At) && Mt != null && !g.hasOwnProperty(At) && kn(a, l, At, null, g, Mt); for (Gt in g) Mt = g[Gt], Pt = h[Gt], !g.hasOwnProperty(Gt) || Mt === Pt || Mt == null && Pt == null || kn(a, l, Gt, Mt, g, Pt) } var Iv = null, Fv = null; function Hg(a) { return a.nodeType === 9 ? a : a.ownerDocument } function Kw(a) { switch (a) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function Qw(a, l) { if (a === 0) switch (l) { case "svg": return 1; case "math": return 2; default: return 0 }return a === 1 && l === "foreignObject" ? 0 : a } function Bv(a, l) { return a === "textarea" || a === "noscript" || typeof l.children == "string" || typeof l.children == "number" || typeof l.children == "bigint" || typeof l.dangerouslySetInnerHTML == "object" && l.dangerouslySetInnerHTML !== null && l.dangerouslySetInnerHTML.__html != null } var zv = null; function c4() { var a = window.event; return a && a.type === "popstate" ? a === zv ? !1 : (zv = a, !0) : (zv = null, !1) } var Zw = typeof setTimeout == "function" ? setTimeout : void 0, u4 = typeof clearTimeout == "function" ? clearTimeout : void 0, Jw = typeof Promise == "function" ? Promise : void 0, h4 = typeof queueMicrotask == "function" ? queueMicrotask : typeof Jw < "u" ? function (a) { return Jw.resolve(null).then(a).catch(d4) } : Zw; function d4(a) { setTimeout(function () { throw a }) } function Nc(a) { return a === "head" } function t5(a, l) { var h = l, g = 0, w = 0; do { var _ = h.nextSibling; if (a.removeChild(h), _ && _.nodeType === 8) if (h = _.data, h === "/$") { if (0 < g && 8 > g) { h = g; var B = a.ownerDocument; if (h & 1 && Df(B.documentElement), h & 2 && Df(B.body), h & 4) for (h = B.head, Df(h), B = h.firstChild; B;) { var K = B.nextSibling, dt = B.nodeName; B[Vr] || dt === "SCRIPT" || dt === "STYLE" || dt === "LINK" && B.rel.toLowerCase() === "stylesheet" || h.removeChild(B), B = K } } if (w === 0) { a.removeChild(_), qf(l); return } w-- } else h === "$" || h === "$?" || h === "$!" ? w++ : g = h.charCodeAt(0) - 48; else g = 0; h = _ } while (h); qf(l) } function Uv(a) { var l = a.firstChild; for (l && l.nodeType === 10 && (l = l.nextSibling); l;) { var h = l; switch (l = l.nextSibling, h.nodeName) { case "HTML": case "HEAD": case "BODY": Uv(h), Gr(h); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if (h.rel.toLowerCase() === "stylesheet") continue }a.removeChild(h) } } function f4(a, l, h, g) { for (; a.nodeType === 1;) { var w = h; if (a.nodeName.toLowerCase() !== l.toLowerCase()) { if (!g && (a.nodeName !== "INPUT" || a.type !== "hidden")) break } else if (g) { if (!a[Vr]) switch (l) { case "meta": if (!a.hasAttribute("itemprop")) break; return a; case "link": if (_ = a.getAttribute("rel"), _ === "stylesheet" && a.hasAttribute("data-precedence")) break; if (_ !== w.rel || a.getAttribute("href") !== (w.href == null || w.href === "" ? null : w.href) || a.getAttribute("crossorigin") !== (w.crossOrigin == null ? null : w.crossOrigin) || a.getAttribute("title") !== (w.title == null ? null : w.title)) break; return a; case "style": if (a.hasAttribute("data-precedence")) break; return a; case "script": if (_ = a.getAttribute("src"), (_ !== (w.src == null ? null : w.src) || a.getAttribute("type") !== (w.type == null ? null : w.type) || a.getAttribute("crossorigin") !== (w.crossOrigin == null ? null : w.crossOrigin)) && _ && a.hasAttribute("async") && !a.hasAttribute("itemprop")) break; return a; default: return a } } else if (l === "input" && a.type === "hidden") { var _ = w.name == null ? null : "" + w.name; if (w.type === "hidden" && a.getAttribute("name") === _) return a } else return a; if (a = ka(a.nextSibling), a === null) break } return null } function p4(a, l, h) { if (l === "") return null; for (; a.nodeType !== 3;)if ((a.nodeType !== 1 || a.nodeName !== "INPUT" || a.type !== "hidden") && !h || (a = ka(a.nextSibling), a === null)) return null; return a } function Hv(a) { return a.data === "$!" || a.data === "$?" && a.ownerDocument.readyState === "complete" } function g4(a, l) { var h = a.ownerDocument; if (a.data !== "$?" || h.readyState === "complete") l(); else { var g = function () { l(), h.removeEventListener("DOMContentLoaded", g) }; h.addEventListener("DOMContentLoaded", g), a._reactRetry = g } } function ka(a) { for (; a != null; a = a.nextSibling) { var l = a.nodeType; if (l === 1 || l === 3) break; if (l === 8) { if (l = a.data, l === "$" || l === "$!" || l === "$?" || l === "F!" || l === "F") break; if (l === "/$") return null } } return a } var qv = null; function e5(a) { a = a.previousSibling; for (var l = 0; a;) { if (a.nodeType === 8) { var h = a.data; if (h === "$" || h === "$!" || h === "$?") { if (l === 0) return a; l-- } else h === "/$" && l++ } a = a.previousSibling } return null } function n5(a, l, h) { switch (l = Hg(h), a) { case "html": if (a = l.documentElement, !a) throw Error(n(452)); return a; case "head": if (a = l.head, !a) throw Error(n(453)); return a; case "body": if (a = l.body, !a) throw Error(n(454)); return a; default: throw Error(n(451)) } } function Df(a) { for (var l = a.attributes; l.length;)a.removeAttributeNode(l[0]); Gr(a) } var ia = new Map, i5 = new Set; function qg(a) { return typeof a.getRootNode == "function" ? a.getRootNode() : a.nodeType === 9 ? a : a.ownerDocument } var Ll = tt.d; tt.d = { f: m4, r: v4, D: b4, C: y4, L: w4, m: x4, X: A4, S: S4, M: E4 }; function m4() { var a = Ll.f(), l = kg(); return a || l } function v4(a) { var l = sr(a); l !== null && l.tag === 5 && l.type === "form" ? ku(l) : Ll.r(a) } var td = typeof document > "u" ? null : document; function r5(a, l, h) { var g = td; if (g && typeof l == "string" && l) { var w = Bn(l); w = 'link[rel="' + a + '"][href="' + w + '"]', typeof h == "string" && (w += '[crossorigin="' + h + '"]'), i5.has(w) || (i5.add(w), a = { rel: a, crossOrigin: h, href: l }, g.querySelector(w) === null && (l = g.createElement("link"), Ar(l, "link", a), Nn(l), g.head.appendChild(l))) } } function b4(a) { Ll.D(a), r5("dns-prefetch", a, null) } function y4(a, l) { Ll.C(a, l), r5("preconnect", a, l) } function w4(a, l, h) { Ll.L(a, l, h); var g = td; if (g && a && l) { var w = 'link[rel="preload"][as="' + Bn(l) + '"]'; l === "image" && h && h.imageSrcSet ? (w += '[imagesrcset="' + Bn(h.imageSrcSet) + '"]', typeof h.imageSizes == "string" && (w += '[imagesizes="' + Bn(h.imageSizes) + '"]')) : w += '[href="' + Bn(a) + '"]'; var _ = w; switch (l) { case "style": _ = ed(a); break; case "script": _ = nd(a) }ia.has(_) || (a = f({ rel: "preload", href: l === "image" && h && h.imageSrcSet ? void 0 : a, as: l }, h), ia.set(_, a), g.querySelector(w) !== null || l === "style" && g.querySelector(jf(_)) || l === "script" && g.querySelector(If(_)) || (l = g.createElement("link"), Ar(l, "link", a), Nn(l), g.head.appendChild(l))) } } function x4(a, l) { Ll.m(a, l); var h = td; if (h && a) { var g = l && typeof l.as == "string" ? l.as : "script", w = 'link[rel="modulepreload"][as="' + Bn(g) + '"][href="' + Bn(a) + '"]', _ = w; switch (g) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": _ = nd(a) }if (!ia.has(_) && (a = f({ rel: "modulepreload", href: a }, l), ia.set(_, a), h.querySelector(w) === null)) { switch (g) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (h.querySelector(If(_))) return }g = h.createElement("link"), Ar(g, "link", a), Nn(g), h.head.appendChild(g) } } } function S4(a, l, h) { Ll.S(a, l, h); var g = td; if (g && a) { var w = Gi(g).hoistableStyles, _ = ed(a); l = l || "default"; var B = w.get(_); if (!B) { var K = { loading: 0, preload: null }; if (B = g.querySelector(jf(_))) K.loading = 5; else { a = f({ rel: "stylesheet", href: a, "data-precedence": l }, h), (h = ia.get(_)) && Vv(a, h); var dt = B = g.createElement("link"); Nn(dt), Ar(dt, "link", a), dt._p = new Promise(function (Rt, Ft) { dt.onload = Rt, dt.onerror = Ft }), dt.addEventListener("load", function () { K.loading |= 1 }), dt.addEventListener("error", function () { K.loading |= 2 }), K.loading |= 4, Vg(B, l, g) } B = { type: "stylesheet", instance: B, count: 1, state: K }, w.set(_, B) } } } function A4(a, l) { Ll.X(a, l); var h = td; if (h && a) { var g = Gi(h).hoistableScripts, w = nd(a), _ = g.get(w); _ || (_ = h.querySelector(If(w)), _ || (a = f({ src: a, async: !0 }, l), (l = ia.get(w)) && Gv(a, l), _ = h.createElement("script"), Nn(_), Ar(_, "link", a), h.head.appendChild(_)), _ = { type: "script", instance: _, count: 1, state: null }, g.set(w, _)) } } function E4(a, l) { Ll.M(a, l); var h = td; if (h && a) { var g = Gi(h).hoistableScripts, w = nd(a), _ = g.get(w); _ || (_ = h.querySelector(If(w)), _ || (a = f({ src: a, async: !0, type: "module" }, l), (l = ia.get(w)) && Gv(a, l), _ = h.createElement("script"), Nn(_), Ar(_, "link", a), h.head.appendChild(_)), _ = { type: "script", instance: _, count: 1, state: null }, g.set(w, _)) } } function s5(a, l, h, g) { var w = (w = at.current) ? qg(w) : null; if (!w) throw Error(n(446)); switch (a) { case "meta": case "title": return null; case "style": return typeof h.precedence == "string" && typeof h.href == "string" ? (l = ed(h.href), h = Gi(w).hoistableStyles, g = h.get(l), g || (g = { type: "style", instance: null, count: 0, state: null }, h.set(l, g)), g) : { type: "void", instance: null, count: 0, state: null }; case "link": if (h.rel === "stylesheet" && typeof h.href == "string" && typeof h.precedence == "string") { a = ed(h.href); var _ = Gi(w).hoistableStyles, B = _.get(a); if (B || (w = w.ownerDocument || w, B = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, _.set(a, B), (_ = w.querySelector(jf(a))) && !_._p && (B.instance = _, B.state.loading = 5), ia.has(a) || (h = { rel: "preload", as: "style", href: h.href, crossOrigin: h.crossOrigin, integrity: h.integrity, media: h.media, hrefLang: h.hrefLang, referrerPolicy: h.referrerPolicy }, ia.set(a, h), _ || _4(w, a, h, B.state))), l && g === null) throw Error(n(528, "")); return B } if (l && g !== null) throw Error(n(529, "")); return null; case "script": return l = h.async, h = h.src, typeof h == "string" && l && typeof l != "function" && typeof l != "symbol" ? (l = nd(h), h = Gi(w).hoistableScripts, g = h.get(l), g || (g = { type: "script", instance: null, count: 0, state: null }, h.set(l, g)), g) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(n(444, a)) } } function ed(a) { return 'href="' + Bn(a) + '"' } function jf(a) { return 'link[rel="stylesheet"][' + a + "]" } function a5(a) { return f({}, a, { "data-precedence": a.precedence, precedence: null }) } function _4(a, l, h, g) { a.querySelector('link[rel="preload"][as="style"][' + l + "]") ? g.loading = 1 : (l = a.createElement("link"), g.preload = l, l.addEventListener("load", function () { return g.loading |= 1 }), l.addEventListener("error", function () { return g.loading |= 2 }), Ar(l, "link", h), Nn(l), a.head.appendChild(l)) } function nd(a) { return '[src="' + Bn(a) + '"]' } function If(a) { return "script[async]" + a } function o5(a, l, h) { if (l.count++, l.instance === null) switch (l.type) { case "style": var g = a.querySelector('style[data-href~="' + Bn(h.href) + '"]'); if (g) return l.instance = g, Nn(g), g; var w = f({}, h, { "data-href": h.href, "data-precedence": h.precedence, href: null, precedence: null }); return g = (a.ownerDocument || a).createElement("style"), Nn(g), Ar(g, "style", w), Vg(g, h.precedence, a), l.instance = g; case "stylesheet": w = ed(h.href); var _ = a.querySelector(jf(w)); if (_) return l.state.loading |= 4, l.instance = _, Nn(_), _; g = a5(h), (w = ia.get(w)) && Vv(g, w), _ = (a.ownerDocument || a).createElement("link"), Nn(_); var B = _; return B._p = new Promise(function (K, dt) { B.onload = K, B.onerror = dt }), Ar(_, "link", g), l.state.loading |= 4, Vg(_, h.precedence, a), l.instance = _; case "script": return _ = nd(h.src), (w = a.querySelector(If(_))) ? (l.instance = w, Nn(w), w) : (g = h, (w = ia.get(_)) && (g = f({}, h), Gv(g, w)), a = a.ownerDocument || a, w = a.createElement("script"), Nn(w), Ar(w, "link", g), a.head.appendChild(w), l.instance = w); case "void": return null; default: throw Error(n(443, l.type)) } else l.type === "stylesheet" && (l.state.loading & 4) === 0 && (g = l.instance, l.state.loading |= 4, Vg(g, h.precedence, a)); return l.instance } function Vg(a, l, h) { for (var g = h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), w = g.length ? g[g.length - 1] : null, _ = w, B = 0; B < g.length; B++) { var K = g[B]; if (K.dataset.precedence === l) _ = K; else if (_ !== w) break } _ ? _.parentNode.insertBefore(a, _.nextSibling) : (l = h.nodeType === 9 ? h.head : h, l.insertBefore(a, l.firstChild)) } function Vv(a, l) { a.crossOrigin == null && (a.crossOrigin = l.crossOrigin), a.referrerPolicy == null && (a.referrerPolicy = l.referrerPolicy), a.title == null && (a.title = l.title) } function Gv(a, l) { a.crossOrigin == null && (a.crossOrigin = l.crossOrigin), a.referrerPolicy == null && (a.referrerPolicy = l.referrerPolicy), a.integrity == null && (a.integrity = l.integrity) } var Gg = null; function l5(a, l, h) { if (Gg === null) { var g = new Map, w = Gg = new Map; w.set(h, g) } else w = Gg, g = w.get(h), g || (g = new Map, w.set(h, g)); if (g.has(a)) return g; for (g.set(a, null), h = h.getElementsByTagName(a), w = 0; w < h.length; w++) { var _ = h[w]; if (!(_[Vr] || _[mn] || a === "link" && _.getAttribute("rel") === "stylesheet") && _.namespaceURI !== "http://www.w3.org/2000/svg") { var B = _.getAttribute(l) || ""; B = a + B; var K = g.get(B); K ? K.push(_) : g.set(B, [_]) } } return g } function c5(a, l, h) { a = a.ownerDocument || a, a.head.insertBefore(h, l === "title" ? a.querySelector("head > title") : null) } function C4(a, l, h) { if (h === 1 || l.itemProp != null) return !1; switch (a) { case "meta": case "title": return !0; case "style": if (typeof l.precedence != "string" || typeof l.href != "string" || l.href === "") break; return !0; case "link": if (typeof l.rel != "string" || typeof l.href != "string" || l.href === "" || l.onLoad || l.onError) break; switch (l.rel) { case "stylesheet": return a = l.disabled, typeof l.precedence == "string" && a == null; default: return !0 }case "script": if (l.async && typeof l.async != "function" && typeof l.async != "symbol" && !l.onLoad && !l.onError && l.src && typeof l.src == "string") return !0 }return !1 } function u5(a) { return !(a.type === "stylesheet" && (a.state.loading & 3) === 0) } var Ff = null; function N4() { } function R4(a, l, h) { if (Ff === null) throw Error(n(475)); var g = Ff; if (l.type === "stylesheet" && (typeof h.media != "string" || matchMedia(h.media).matches !== !1) && (l.state.loading & 4) === 0) { if (l.instance === null) { var w = ed(h.href), _ = a.querySelector(jf(w)); if (_) { a = _._p, a !== null && typeof a == "object" && typeof a.then == "function" && (g.count++, g = $g.bind(g), a.then(g, g)), l.state.loading |= 4, l.instance = _, Nn(_); return } _ = a.ownerDocument || a, h = a5(h), (w = ia.get(w)) && Vv(h, w), _ = _.createElement("link"), Nn(_); var B = _; B._p = new Promise(function (K, dt) { B.onload = K, B.onerror = dt }), Ar(_, "link", h), l.instance = _ } g.stylesheets === null && (g.stylesheets = new Map), g.stylesheets.set(l, a), (a = l.state.preload) && (l.state.loading & 3) === 0 && (g.count++, l = $g.bind(g), a.addEventListener("load", l), a.addEventListener("error", l)) } } function T4() { if (Ff === null) throw Error(n(475)); var a = Ff; return a.stylesheets && a.count === 0 && $v(a, a.stylesheets), 0 < a.count ? function (l) { var h = setTimeout(function () { if (a.stylesheets && $v(a, a.stylesheets), a.unsuspend) { var g = a.unsuspend; a.unsuspend = null, g() } }, 6e4); return a.unsuspend = l, function () { a.unsuspend = null, clearTimeout(h) } } : null } function $g() { if (this.count--, this.count === 0) { if (this.stylesheets) $v(this, this.stylesheets); else if (this.unsuspend) { var a = this.unsuspend; this.unsuspend = null, a() } } } var Wg = null; function $v(a, l) { a.stylesheets = null, a.unsuspend !== null && (a.count++, Wg = new Map, l.forEach(L4, a), Wg = null, $g.call(a)) } function L4(a, l) { if (!(l.state.loading & 4)) { var h = Wg.get(a); if (h) var g = h.get(null); else { h = new Map, Wg.set(a, h); for (var w = a.querySelectorAll("link[data-precedence],style[data-precedence]"), _ = 0; _ < w.length; _++) { var B = w[_]; (B.nodeName === "LINK" || B.getAttribute("media") !== "not all") && (h.set(B.dataset.precedence, B), g = B) } g && h.set(null, g) } w = l.instance, B = w.getAttribute("data-precedence"), _ = h.get(B) || g, _ === g && h.set(null, w), h.set(B, w), this.count++, g = $g.bind(this), w.addEventListener("load", g), w.addEventListener("error", g), _ ? _.parentNode.insertBefore(w, _.nextSibling) : (a = a.nodeType === 9 ? a.head : a, a.insertBefore(w, a.firstChild)), l.state.loading |= 4 } } var Bf = { $$typeof: L, Provider: null, Consumer: null, _currentValue: Q, _currentValue2: Q, _threadCount: 0 }; function M4(a, l, h, g, w, _, B, K) { this.tag = 1, this.containerInfo = a, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = mr(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = mr(0), this.hiddenUpdates = mr(null), this.identifierPrefix = g, this.onUncaughtError = w, this.onCaughtError = _, this.onRecoverableError = B, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = K, this.incompleteTransitions = new Map } function h5(a, l, h, g, w, _, B, K, dt, Rt, Ft, Gt) { return a = new M4(a, l, h, B, K, dt, Rt, Gt), l = 1, _ === !0 && (l |= 24), _ = or(3, null, null, l), a.current = _, _.stateNode = a, l = lf(), l.refCount++, a.pooledCache = l, l.refCount++, _.memoizedState = { element: g, isDehydrated: h, cache: l }, bt(_), a } function d5(a) { return a ? (a = Fi, a) : Fi } function f5(a, l, h, g, w, _) { w = d5(w), g.context === null ? g.context = w : g.pendingContext = w, g = It(l), g.payload = { element: h }, _ = _ === void 0 ? null : _, _ !== null && (g.callback = _), h = qt(a, g, l), h !== null && (ks(h, a, l), Bt(h, a, l)) } function p5(a, l) { if (a = a.memoizedState, a !== null && a.dehydrated !== null) { var h = a.retryLane; a.retryLane = h !== 0 && h < l ? h : l } } function Wv(a, l) { p5(a, l), (a = a.alternate) && p5(a, l) } function g5(a) { if (a.tag === 13) { var l = xa(a, 67108864); l !== null && ks(l, a, 67108864), Wv(a, 67108864) } } var Yg = !0; function P4(a, l, h, g) { var w = U.T; U.T = null; var _ = tt.p; try { tt.p = 2, Yv(a, l, h, g) } finally { tt.p = _, U.T = w } } function O4(a, l, h, g) { var w = U.T; U.T = null; var _ = tt.p; try { tt.p = 8, Yv(a, l, h, g) } finally { tt.p = _, U.T = w } } function Yv(a, l, h, g) { if (Yg) { var w = Xv(g); if (w === null) Dv(a, l, g, Xg, h), v5(a, g); else if (D4(w, a, l, h, g)) g.stopPropagation(); else if (v5(a, g), l & 4 && -1 < k4.indexOf(a)) { for (; w !== null;) { var _ = sr(w); if (_ !== null) switch (_.tag) { case 3: if (_ = _.stateNode, _.current.memoizedState.isDehydrated) { var B = Qe(_.pendingLanes); if (B !== 0) { var K = _; for (K.pendingLanes |= 2, K.entangledLanes |= 2; B;) { var dt = 1 << 31 - le(B); K.entanglements[1] |= dt, B &= ~dt } Lo(_), (Tn & 6) === 0 && (Pg = se() + 500, Pf(0)) } } break; case 13: K = xa(_, 2), K !== null && ks(K, _, 2), kg(), Wv(_, 2) }if (_ = Xv(g), _ === null && Dv(a, l, g, Xg, h), _ === w) break; w = _ } w !== null && g.stopPropagation() } else Dv(a, l, g, null, h) } } function Xv(a) { return a = Di(a), Kv(a) } var Xg = null; function Kv(a) { if (Xg = null, a = rr(a), a !== null) { var l = s(a); if (l === null) a = null; else { var h = l.tag; if (h === 13) { if (a = o(l), a !== null) return a; a = null } else if (h === 3) { if (l.stateNode.current.memoizedState.isDehydrated) return l.tag === 3 ? l.stateNode.containerInfo : null; a = null } else l !== a && (a = null) } } return Xg = a, null } function m5(a) { switch (a) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (ae()) { case Vt: return 2; case Zt: return 8; case Jt: case Xt: return 32; case ce: return 268435456; default: return 32 }default: return 32 } } var Qv = !1, Rc = null, Tc = null, Lc = null, zf = new Map, Uf = new Map, Mc = [], k4 = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function v5(a, l) { switch (a) { case "focusin": case "focusout": Rc = null; break; case "dragenter": case "dragleave": Tc = null; break; case "mouseover": case "mouseout": Lc = null; break; case "pointerover": case "pointerout": zf.delete(l.pointerId); break; case "gotpointercapture": case "lostpointercapture": Uf.delete(l.pointerId) } } function Hf(a, l, h, g, w, _) { return a === null || a.nativeEvent !== _ ? (a = { blockedOn: l, domEventName: h, eventSystemFlags: g, nativeEvent: _, targetContainers: [w] }, l !== null && (l = sr(l), l !== null && g5(l)), a) : (a.eventSystemFlags |= g, l = a.targetContainers, w !== null && l.indexOf(w) === -1 && l.push(w), a) } function D4(a, l, h, g, w) { switch (l) { case "focusin": return Rc = Hf(Rc, a, l, h, g, w), !0; case "dragenter": return Tc = Hf(Tc, a, l, h, g, w), !0; case "mouseover": return Lc = Hf(Lc, a, l, h, g, w), !0; case "pointerover": var _ = w.pointerId; return zf.set(_, Hf(zf.get(_) || null, a, l, h, g, w)), !0; case "gotpointercapture": return _ = w.pointerId, Uf.set(_, Hf(Uf.get(_) || null, a, l, h, g, w)), !0 }return !1 } function b5(a) { var l = rr(a.target); if (l !== null) { var h = s(l); if (h !== null) { if (l = h.tag, l === 13) { if (l = o(h), l !== null) { a.blockedOn = l, En(a.priority, function () { if (h.tag === 13) { var g = Os(); g = Pn(g); var w = xa(h, g); w !== null && ks(w, h, g), Wv(h, g) } }); return } } else if (l === 3 && h.stateNode.current.memoizedState.isDehydrated) { a.blockedOn = h.tag === 3 ? h.stateNode.containerInfo : null; return } } } a.blockedOn = null } function Kg(a) { if (a.blockedOn !== null) return !1; for (var l = a.targetContainers; 0 < l.length;) { var h = Xv(a.nativeEvent); if (h === null) { h = a.nativeEvent; var g = new h.constructor(h.type, h); $l = g, h.target.dispatchEvent(g), $l = null } else return l = sr(h), l !== null && g5(l), a.blockedOn = h, !1; l.shift() } return !0 } function y5(a, l, h) { Kg(a) && h.delete(l) } function j4() { Qv = !1, Rc !== null && Kg(Rc) && (Rc = null), Tc !== null && Kg(Tc) && (Tc = null), Lc !== null && Kg(Lc) && (Lc = null), zf.forEach(y5), Uf.forEach(y5) } function Qg(a, l) { a.blockedOn === l && (a.blockedOn = null, Qv || (Qv = !0, i.unstable_scheduleCallback(i.unstable_NormalPriority, j4))) } var Zg = null; function w5(a) { Zg !== a && (Zg = a, i.unstable_scheduleCallback(i.unstable_NormalPriority, function () { Zg === a && (Zg = null); for (var l = 0; l < a.length; l += 3) { var h = a[l], g = a[l + 1], w = a[l + 2]; if (typeof g != "function") { if (Kv(g || h) === null) continue; break } var _ = sr(h); _ !== null && (a.splice(l, 3), l -= 3, ta(_, { pending: !0, data: w, method: h.method, action: g }, g, w)) } })) } function qf(a) { function l(dt) { return Qg(dt, a) } Rc !== null && Qg(Rc, a), Tc !== null && Qg(Tc, a), Lc !== null && Qg(Lc, a), zf.forEach(l), Uf.forEach(l); for (var h = 0; h < Mc.length; h++) { var g = Mc[h]; g.blockedOn === a && (g.blockedOn = null) } for (; 0 < Mc.length && (h = Mc[0], h.blockedOn === null);)b5(h), h.blockedOn === null && Mc.shift(); if (h = (a.ownerDocument || a).$$reactFormReplay, h != null) for (g = 0; g < h.length; g += 3) { var w = h[g], _ = h[g + 1], B = w[tn] || null; if (typeof _ == "function") B || w5(h); else if (B) { var K = null; if (_ && _.hasAttribute("formAction")) { if (w = _, B = _[tn] || null) K = B.formAction; else if (Kv(w) !== null) continue } else K = B.action; typeof K == "function" ? h[g + 1] = K : (h.splice(g, 3), g -= 3), w5(h) } } } function Zv(a) { this._internalRoot = a } Jg.prototype.render = Zv.prototype.render = function (a) { var l = this._internalRoot; if (l === null) throw Error(n(409)); var h = l.current, g = Os(); f5(h, g, a, l, null, null) }, Jg.prototype.unmount = Zv.prototype.unmount = function () { var a = this._internalRoot; if (a !== null) { this._internalRoot = null; var l = a.containerInfo; f5(a.current, 2, null, a, null, null), kg(), l[vn] = null } }; function Jg(a) { this._internalRoot = a } Jg.prototype.unstable_scheduleHydration = function (a) { if (a) { var l = ir(); a = { blockedOn: null, target: a, priority: l }; for (var h = 0; h < Mc.length && l !== 0 && l < Mc[h].priority; h++); Mc.splice(h, 0, a), h === 0 && b5(a) } }; var x5 = t.version; if (x5 !== "19.1.0") throw Error(n(527, x5, "19.1.0")); tt.findDOMNode = function (a) { var l = a._reactInternals; if (l === void 0) throw typeof a.render == "function" ? Error(n(188)) : (a = Object.keys(a).join(","), Error(n(268, a))); return a = u(l), a = a !== null ? d(a) : null, a = a === null ? null : a.stateNode, a }; var I4 = { bundleType: 0, version: "19.1.0", rendererPackageName: "react-dom", currentDispatcherRef: U, reconcilerVersion: "19.1.0" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var tm = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!tm.isDisabled && tm.supportsFiber) try { Ae = tm.inject(I4), be = tm } catch { } } return Gf.createRoot = function (a, l) { if (!r(a)) throw Error(n(299)); var h = !1, g = "", w = I2, _ = F2, B = B2, K = null; return l != null && (l.unstable_strictMode === !0 && (h = !0), l.identifierPrefix !== void 0 && (g = l.identifierPrefix), l.onUncaughtError !== void 0 && (w = l.onUncaughtError), l.onCaughtError !== void 0 && (_ = l.onCaughtError), l.onRecoverableError !== void 0 && (B = l.onRecoverableError), l.unstable_transitionCallbacks !== void 0 && (K = l.unstable_transitionCallbacks)), l = h5(a, 1, !1, null, null, h, g, w, _, B, K, null), a[vn] = l.current, kv(a), new Zv(l) }, Gf.hydrateRoot = function (a, l, h) { if (!r(a)) throw Error(n(299)); var g = !1, w = "", _ = I2, B = F2, K = B2, dt = null, Rt = null; return h != null && (h.unstable_strictMode === !0 && (g = !0), h.identifierPrefix !== void 0 && (w = h.identifierPrefix), h.onUncaughtError !== void 0 && (_ = h.onUncaughtError), h.onCaughtError !== void 0 && (B = h.onCaughtError), h.onRecoverableError !== void 0 && (K = h.onRecoverableError), h.unstable_transitionCallbacks !== void 0 && (dt = h.unstable_transitionCallbacks), h.formState !== void 0 && (Rt = h.formState)), l = h5(a, 1, !0, l, h ?? null, g, w, _, B, K, dt, Rt), l.context = d5(null), h = l.current, g = Os(), g = Pn(g), w = It(g), w.callback = null, qt(h, w, g), h = g, l.current.lanes = h, nr(l, h), Lo(l), a[vn] = l.current, kv(a), new Jg(l) }, Gf.version = "19.1.0", Gf
} var O5; function W4() { if (O5) return n1.exports; O5 = 1; function i() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i) } catch (t) { console.error(t) } } return i(), n1.exports = $4(), n1.exports } var Y4 = W4(); const X4 = Np(Y4); var Fd = class { constructor() { this.listeners = new Set, this.subscribe = this.subscribe.bind(this) } subscribe(i) { return this.listeners.add(i), this.onSubscribe(), () => { this.listeners.delete(i), this.onUnsubscribe() } } hasListeners() { return this.listeners.size > 0 } onSubscribe() { } onUnsubscribe() { } }, eh = typeof window > "u" || "Deno" in globalThis; function Jr() { } function K4(i, t) { return typeof i == "function" ? i(t) : i } function W1(i) { return typeof i == "number" && i >= 0 && i !== 1 / 0 } function uA(i, t) { return Math.max(i + (t || 0) - Date.now(), 0) } function qc(i, t) { return typeof i == "function" ? i(t) : i } function oa(i, t) { return typeof i == "function" ? i(t) : i } function k5(i, t) { const { type: e = "all", exact: n, fetchStatus: r, predicate: s, queryKey: o, stale: c } = i; if (o) { if (n) { if (t.queryHash !== ny(o, t.options)) return !1 } else if (!fp(t.queryKey, o)) return !1 } if (e !== "all") { const u = t.isActive(); if (e === "active" && !u || e === "inactive" && u) return !1 } return !(typeof c == "boolean" && t.isStale() !== c || r && r !== t.state.fetchStatus || s && !s(t)) } function D5(i, t) { const { exact: e, status: n, predicate: r, mutationKey: s } = i; if (s) { if (!t.options.mutationKey) return !1; if (e) { if (nh(t.options.mutationKey) !== nh(s)) return !1 } else if (!fp(t.options.mutationKey, s)) return !1 } return !(n && t.state.status !== n || r && !r(t)) } function ny(i, t) { return (t?.queryKeyHashFn || nh)(i) } function nh(i) { return JSON.stringify(i, (t, e) => Y1(e) ? Object.keys(e).sort().reduce((n, r) => (n[r] = e[r], n), {}) : e) } function fp(i, t) { return i === t ? !0 : typeof i != typeof t ? !1 : i && t && typeof i == "object" && typeof t == "object" ? Object.keys(t).every(e => fp(i[e], t[e])) : !1 } function hA(i, t) { if (i === t) return i; const e = j5(i) && j5(t); if (e || Y1(i) && Y1(t)) { const n = e ? i : Object.keys(i), r = n.length, s = e ? t : Object.keys(t), o = s.length, c = e ? [] : {}, u = new Set(n); let d = 0; for (let f = 0; f < o; f++) { const p = e ? f : s[f]; (!e && u.has(p) || e) && i[p] === void 0 && t[p] === void 0 ? (c[p] = void 0, d++) : (c[p] = hA(i[p], t[p]), c[p] === i[p] && i[p] !== void 0 && d++) } return r === o && d === r ? i : c } return t } function Vm(i, t) { if (!t || Object.keys(i).length !== Object.keys(t).length) return !1; for (const e in i) if (i[e] !== t[e]) return !1; return !0 } function j5(i) { return Array.isArray(i) && i.length === Object.keys(i).length } function Y1(i) { if (!I5(i)) return !1; const t = i.constructor; if (t === void 0) return !0; const e = t.prototype; return !(!I5(e) || !e.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(i) !== Object.prototype) } function I5(i) { return Object.prototype.toString.call(i) === "[object Object]" } function Q4(i) { return new Promise(t => { setTimeout(t, i) }) } function X1(i, t, e) { return typeof e.structuralSharing == "function" ? e.structuralSharing(i, t) : e.structuralSharing !== !1 ? hA(i, t) : t } function Z4(i, t, e = 0) { const n = [...i, t]; return e && n.length > e ? n.slice(1) : n } function J4(i, t, e = 0) { const n = [t, ...i]; return e && n.length > e ? n.slice(0, -1) : n } var iy = Symbol(); function dA(i, t) { return !i.queryFn && t?.initialPromise ? () => t.initialPromise : !i.queryFn || i.queryFn === iy ? () => Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)) : i.queryFn } function fA(i, t) { return typeof i == "function" ? i(...t) : !!i } var tR = class extends Fd { #t; #e; #n; constructor() { super(), this.#n = i => { if (!eh && window.addEventListener) { const t = () => i(); return window.addEventListener("visibilitychange", t, !1), () => { window.removeEventListener("visibilitychange", t) } } } } onSubscribe() { this.#e || this.setEventListener(this.#n) } onUnsubscribe() { this.hasListeners() || (this.#e?.(), this.#e = void 0) } setEventListener(i) { this.#n = i, this.#e?.(), this.#e = i(t => { typeof t == "boolean" ? this.setFocused(t) : this.onFocus() }) } setFocused(i) { this.#t !== i && (this.#t = i, this.onFocus()) } onFocus() { const i = this.isFocused(); this.listeners.forEach(t => { t(i) }) } isFocused() { return typeof this.#t == "boolean" ? this.#t : globalThis.document?.visibilityState !== "hidden" } }, ry = new tR, eR = class extends Fd { #t = !0; #e; #n; constructor() { super(), this.#n = i => { if (!eh && window.addEventListener) { const t = () => i(!0), e = () => i(!1); return window.addEventListener("online", t, !1), window.addEventListener("offline", e, !1), () => { window.removeEventListener("online", t), window.removeEventListener("offline", e) } } } } onSubscribe() { this.#e || this.setEventListener(this.#n) } onUnsubscribe() { this.hasListeners() || (this.#e?.(), this.#e = void 0) } setEventListener(i) { this.#n = i, this.#e?.(), this.#e = i(this.setOnline.bind(this)) } setOnline(i) { this.#t !== i && (this.#t = i, this.listeners.forEach(e => { e(i) })) } isOnline() { return this.#t } }, Gm = new eR; function K1() { let i, t; const e = new Promise((r, s) => { i = r, t = s }); e.status = "pending", e.catch(() => { }); function n(r) { Object.assign(e, r), delete e.resolve, delete e.reject } return e.resolve = r => { n({ status: "fulfilled", value: r }), i(r) }, e.reject = r => { n({ status: "rejected", reason: r }), t(r) }, e } function nR(i) { return Math.min(1e3 * 2 ** i, 3e4) } function pA(i) { return (i ?? "online") === "online" ? Gm.isOnline() : !0 } var gA = class extends Error { constructor(i) { super("CancelledError"), this.revert = i?.revert, this.silent = i?.silent } }; function a1(i) { return i instanceof gA } function mA(i) { let t = !1, e = 0, n = !1, r; const s = K1(), o = y => { n || (m(new gA(y)), i.abort?.()) }, c = () => { t = !0 }, u = () => { t = !1 }, d = () => ry.isFocused() && (i.networkMode === "always" || Gm.isOnline()) && i.canRun(), f = () => pA(i.networkMode) && i.canRun(), p = y => { n || (n = !0, i.onSuccess?.(y), r?.(), s.resolve(y)) }, m = y => { n || (n = !0, i.onError?.(y), r?.(), s.reject(y)) }, v = () => new Promise(y => { r = E => { (n || d()) && y(E) }, i.onPause?.() }).then(() => { r = void 0, n || i.onContinue?.() }), x = () => { if (n) return; let y; const E = e === 0 ? i.initialPromise : void 0; try { y = E ?? i.fn() } catch (A) { y = Promise.reject(A) } Promise.resolve(y).then(p).catch(A => { if (n) return; const T = i.retry ?? (eh ? 0 : 3), L = i.retryDelay ?? nR, k = typeof L == "function" ? L(e, A) : L, O = T === !0 || typeof T == "number" && e < T || typeof T == "function" && T(e, A); if (t || !O) { m(A); return } e++, i.onFail?.(e, A), Q4(k).then(() => d() ? void 0 : v()).then(() => { t ? m(A) : x() }) }) }; return { promise: s, cancel: o, continue: () => (r?.(), s), cancelRetry: c, continueRetry: u, canStart: f, start: () => (f() ? x() : v().then(x), s) } } var iR = i => setTimeout(i, 0); function rR() { let i = [], t = 0, e = c => { c() }, n = c => { c() }, r = iR; const s = c => { t ? i.push(c) : r(() => { e(c) }) }, o = () => { const c = i; i = [], c.length && r(() => { n(() => { c.forEach(u => { e(u) }) }) }) }; return { batch: c => { let u; t++; try { u = c() } finally { t--, t || o() } return u }, batchCalls: c => (...u) => { s(() => { c(...u) }) }, schedule: s, setNotifyFunction: c => { e = c }, setBatchNotifyFunction: c => { n = c }, setScheduler: c => { r = c } } } var Qi = rR(), vA = class { #t; destroy() { this.clearGcTimeout() } scheduleGc() { this.clearGcTimeout(), W1(this.gcTime) && (this.#t = setTimeout(() => { this.optionalRemove() }, this.gcTime)) } updateGcTime(i) { this.gcTime = Math.max(this.gcTime || 0, i ?? (eh ? 1 / 0 : 300 * 1e3)) } clearGcTimeout() { this.#t && (clearTimeout(this.#t), this.#t = void 0) } }, sR = class extends vA { #t; #e; #n; #i; #s; #r; #o; constructor(i) { super(), this.#o = !1, this.#r = i.defaultOptions, this.setOptions(i.options), this.observers = [], this.#i = i.client, this.#n = this.#i.getQueryCache(), this.queryKey = i.queryKey, this.queryHash = i.queryHash, this.#t = aR(this.options), this.state = i.state ?? this.#t, this.scheduleGc() } get meta() { return this.options.meta } get promise() { return this.#s?.promise } setOptions(i) { this.options = { ...this.#r, ...i }, this.updateGcTime(this.options.gcTime) } optionalRemove() { !this.observers.length && this.state.fetchStatus === "idle" && this.#n.remove(this) } setData(i, t) { const e = X1(this.state.data, i, this.options); return this.#a({ data: e, type: "success", dataUpdatedAt: t?.updatedAt, manual: t?.manual }), e } setState(i, t) { this.#a({ type: "setState", state: i, setStateOptions: t }) } cancel(i) { const t = this.#s?.promise; return this.#s?.cancel(i), t ? t.then(Jr).catch(Jr) : Promise.resolve() } destroy() { super.destroy(), this.cancel({ silent: !0 }) } reset() { this.destroy(), this.setState(this.#t) } isActive() { return this.observers.some(i => oa(i.options.enabled, this) !== !1) } isDisabled() { return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === iy || this.state.dataUpdateCount + this.state.errorUpdateCount === 0 } isStatic() { return this.getObserversCount() > 0 ? this.observers.some(i => qc(i.options.staleTime, this) === "static") : !1 } isStale() { return this.getObserversCount() > 0 ? this.observers.some(i => i.getCurrentResult().isStale) : this.state.data === void 0 || this.state.isInvalidated } isStaleByTime(i = 0) { return this.state.data === void 0 ? !0 : i === "static" ? !1 : this.state.isInvalidated ? !0 : !uA(this.state.dataUpdatedAt, i) } onFocus() { this.observers.find(t => t.shouldFetchOnWindowFocus())?.refetch({ cancelRefetch: !1 }), this.#s?.continue() } onOnline() { this.observers.find(t => t.shouldFetchOnReconnect())?.refetch({ cancelRefetch: !1 }), this.#s?.continue() } addObserver(i) { this.observers.includes(i) || (this.observers.push(i), this.clearGcTimeout(), this.#n.notify({ type: "observerAdded", query: this, observer: i })) } removeObserver(i) { this.observers.includes(i) && (this.observers = this.observers.filter(t => t !== i), this.observers.length || (this.#s && (this.#o ? this.#s.cancel({ revert: !0 }) : this.#s.cancelRetry()), this.scheduleGc()), this.#n.notify({ type: "observerRemoved", query: this, observer: i })) } getObserversCount() { return this.observers.length } invalidate() { this.state.isInvalidated || this.#a({ type: "invalidate" }) } fetch(i, t) { if (this.state.fetchStatus !== "idle") { if (this.state.data !== void 0 && t?.cancelRefetch) this.cancel({ silent: !0 }); else if (this.#s) return this.#s.continueRetry(), this.#s.promise } if (i && this.setOptions(i), !this.options.queryFn) { const u = this.observers.find(d => d.options.queryFn); u && this.setOptions(u.options) } const e = new AbortController, n = u => { Object.defineProperty(u, "signal", { enumerable: !0, get: () => (this.#o = !0, e.signal) }) }, r = () => { const u = dA(this.options, t), f = (() => { const p = { client: this.#i, queryKey: this.queryKey, meta: this.meta }; return n(p), p })(); return this.#o = !1, this.options.persister ? this.options.persister(u, f, this) : u(f) }, o = (() => { const u = { fetchOptions: t, options: this.options, queryKey: this.queryKey, client: this.#i, state: this.state, fetchFn: r }; return n(u), u })(); this.options.behavior?.onFetch(o, this), this.#e = this.state, (this.state.fetchStatus === "idle" || this.state.fetchMeta !== o.fetchOptions?.meta) && this.#a({ type: "fetch", meta: o.fetchOptions?.meta }); const c = u => { a1(u) && u.silent || this.#a({ type: "error", error: u }), a1(u) || (this.#n.config.onError?.(u, this), this.#n.config.onSettled?.(this.state.data, u, this)), this.scheduleGc() }; return this.#s = mA({ initialPromise: t?.initialPromise, fn: o.fetchFn, abort: e.abort.bind(e), onSuccess: u => { if (u === void 0) { c(new Error(`${this.queryHash} data is undefined`)); return } try { this.setData(u) } catch (d) { c(d); return } this.#n.config.onSuccess?.(u, this), this.#n.config.onSettled?.(u, this.state.error, this), this.scheduleGc() }, onError: c, onFail: (u, d) => { this.#a({ type: "failed", failureCount: u, error: d }) }, onPause: () => { this.#a({ type: "pause" }) }, onContinue: () => { this.#a({ type: "continue" }) }, retry: o.options.retry, retryDelay: o.options.retryDelay, networkMode: o.options.networkMode, canRun: () => !0 }), this.#s.start() } #a(i) { const t = e => { switch (i.type) { case "failed": return { ...e, fetchFailureCount: i.failureCount, fetchFailureReason: i.error }; case "pause": return { ...e, fetchStatus: "paused" }; case "continue": return { ...e, fetchStatus: "fetching" }; case "fetch": return { ...e, ...bA(e.data, this.options), fetchMeta: i.meta ?? null }; case "success": return this.#e = void 0, { ...e, data: i.data, dataUpdateCount: e.dataUpdateCount + 1, dataUpdatedAt: i.dataUpdatedAt ?? Date.now(), error: null, isInvalidated: !1, status: "success", ...!i.manual && { fetchStatus: "idle", fetchFailureCount: 0, fetchFailureReason: null } }; case "error": const n = i.error; return a1(n) && n.revert && this.#e ? { ...this.#e, fetchStatus: "idle" } : { ...e, error: n, errorUpdateCount: e.errorUpdateCount + 1, errorUpdatedAt: Date.now(), fetchFailureCount: e.fetchFailureCount + 1, fetchFailureReason: n, fetchStatus: "idle", status: "error" }; case "invalidate": return { ...e, isInvalidated: !0 }; case "setState": return { ...e, ...i.state } } }; this.state = t(this.state), Qi.batch(() => { this.observers.forEach(e => { e.onQueryUpdate() }), this.#n.notify({ query: this, type: "updated", action: i }) }) } }; function bA(i, t) { return { fetchFailureCount: 0, fetchFailureReason: null, fetchStatus: pA(t.networkMode) ? "fetching" : "paused", ...i === void 0 && { error: null, status: "pending" } } } function aR(i) { const t = typeof i.initialData == "function" ? i.initialData() : i.initialData, e = t !== void 0, n = e ? typeof i.initialDataUpdatedAt == "function" ? i.initialDataUpdatedAt() : i.initialDataUpdatedAt : 0; return { data: t, dataUpdateCount: 0, dataUpdatedAt: e ? n ?? Date.now() : 0, error: null, errorUpdateCount: 0, errorUpdatedAt: 0, fetchFailureCount: 0, fetchFailureReason: null, fetchMeta: null, isInvalidated: !1, status: e ? "success" : "pending", fetchStatus: "idle" } } var oR = class extends Fd { constructor(i = {}) { super(), this.config = i, this.#t = new Map } #t; build(i, t, e) { const n = t.queryKey, r = t.queryHash ?? ny(n, t); let s = this.get(r); return s || (s = new sR({ client: i, queryKey: n, queryHash: r, options: i.defaultQueryOptions(t), state: e, defaultOptions: i.getQueryDefaults(n) }), this.add(s)), s } add(i) { this.#t.has(i.queryHash) || (this.#t.set(i.queryHash, i), this.notify({ type: "added", query: i })) } remove(i) { const t = this.#t.get(i.queryHash); t && (i.destroy(), t === i && this.#t.delete(i.queryHash), this.notify({ type: "removed", query: i })) } clear() { Qi.batch(() => { this.getAll().forEach(i => { this.remove(i) }) }) } get(i) { return this.#t.get(i) } getAll() { return [...this.#t.values()] } find(i) { const t = { exact: !0, ...i }; return this.getAll().find(e => k5(t, e)) } findAll(i = {}) { const t = this.getAll(); return Object.keys(i).length > 0 ? t.filter(e => k5(i, e)) : t } notify(i) { Qi.batch(() => { this.listeners.forEach(t => { t(i) }) }) } onFocus() { Qi.batch(() => { this.getAll().forEach(i => { i.onFocus() }) }) } onOnline() { Qi.batch(() => { this.getAll().forEach(i => { i.onOnline() }) }) } }, lR = class extends vA { #t; #e; #n; constructor(i) { super(), this.mutationId = i.mutationId, this.#e = i.mutationCache, this.#t = [], this.state = i.state || yA(), this.setOptions(i.options), this.scheduleGc() } setOptions(i) { this.options = i, this.updateGcTime(this.options.gcTime) } get meta() { return this.options.meta } addObserver(i) { this.#t.includes(i) || (this.#t.push(i), this.clearGcTimeout(), this.#e.notify({ type: "observerAdded", mutation: this, observer: i })) } removeObserver(i) { this.#t = this.#t.filter(t => t !== i), this.scheduleGc(), this.#e.notify({ type: "observerRemoved", mutation: this, observer: i }) } optionalRemove() { this.#t.length || (this.state.status === "pending" ? this.scheduleGc() : this.#e.remove(this)) } continue() { return this.#n?.continue() ?? this.execute(this.state.variables) } async execute(i) { const t = () => { this.#i({ type: "continue" }) }; this.#n = mA({ fn: () => this.options.mutationFn ? this.options.mutationFn(i) : Promise.reject(new Error("No mutationFn found")), onFail: (r, s) => { this.#i({ type: "failed", failureCount: r, error: s }) }, onPause: () => { this.#i({ type: "pause" }) }, onContinue: t, retry: this.options.retry ?? 0, retryDelay: this.options.retryDelay, networkMode: this.options.networkMode, canRun: () => this.#e.canRun(this) }); const e = this.state.status === "pending", n = !this.#n.canStart(); try { if (e) t(); else { this.#i({ type: "pending", variables: i, isPaused: n }), await this.#e.config.onMutate?.(i, this); const s = await this.options.onMutate?.(i); s !== this.state.context && this.#i({ type: "pending", context: s, variables: i, isPaused: n }) } const r = await this.#n.start(); return await this.#e.config.onSuccess?.(r, i, this.state.context, this), await this.options.onSuccess?.(r, i, this.state.context), await this.#e.config.onSettled?.(r, null, this.state.variables, this.state.context, this), await this.options.onSettled?.(r, null, i, this.state.context), this.#i({ type: "success", data: r }), r } catch (r) { try { throw await this.#e.config.onError?.(r, i, this.state.context, this), await this.options.onError?.(r, i, this.state.context), await this.#e.config.onSettled?.(void 0, r, this.state.variables, this.state.context, this), await this.options.onSettled?.(void 0, r, i, this.state.context), r } finally { this.#i({ type: "error", error: r }) } } finally { this.#e.runNext(this) } } #i(i) { const t = e => { switch (i.type) { case "failed": return { ...e, failureCount: i.failureCount, failureReason: i.error }; case "pause": return { ...e, isPaused: !0 }; case "continue": return { ...e, isPaused: !1 }; case "pending": return { ...e, context: i.context, data: void 0, failureCount: 0, failureReason: null, error: null, isPaused: i.isPaused, status: "pending", variables: i.variables, submittedAt: Date.now() }; case "success": return { ...e, data: i.data, failureCount: 0, failureReason: null, error: null, status: "success", isPaused: !1 }; case "error": return { ...e, data: void 0, error: i.error, failureCount: e.failureCount + 1, failureReason: i.error, isPaused: !1, status: "error" } } }; this.state = t(this.state), Qi.batch(() => { this.#t.forEach(e => { e.onMutationUpdate(i) }), this.#e.notify({ mutation: this, type: "updated", action: i }) }) } }; function yA() { return { context: void 0, data: void 0, error: null, failureCount: 0, failureReason: null, isPaused: !1, status: "idle", variables: void 0, submittedAt: 0 } } var cR = class extends Fd { constructor(i = {}) { super(), this.config = i, this.#t = new Set, this.#e = new Map, this.#n = 0 } #t; #e; #n; build(i, t, e) { const n = new lR({ mutationCache: this, mutationId: ++this.#n, options: i.defaultMutationOptions(t), state: e }); return this.add(n), n } add(i) { this.#t.add(i); const t = em(i); if (typeof t == "string") { const e = this.#e.get(t); e ? e.push(i) : this.#e.set(t, [i]) } this.notify({ type: "added", mutation: i }) } remove(i) { if (this.#t.delete(i)) { const t = em(i); if (typeof t == "string") { const e = this.#e.get(t); if (e) if (e.length > 1) { const n = e.indexOf(i); n !== -1 && e.splice(n, 1) } else e[0] === i && this.#e.delete(t) } } this.notify({ type: "removed", mutation: i }) } canRun(i) { const t = em(i); if (typeof t == "string") { const n = this.#e.get(t)?.find(r => r.state.status === "pending"); return !n || n === i } else return !0 } runNext(i) { const t = em(i); return typeof t == "string" ? this.#e.get(t)?.find(n => n !== i && n.state.isPaused)?.continue() ?? Promise.resolve() : Promise.resolve() } clear() { Qi.batch(() => { this.#t.forEach(i => { this.notify({ type: "removed", mutation: i }) }), this.#t.clear(), this.#e.clear() }) } getAll() { return Array.from(this.#t) } find(i) { const t = { exact: !0, ...i }; return this.getAll().find(e => D5(t, e)) } findAll(i = {}) { return this.getAll().filter(t => D5(i, t)) } notify(i) { Qi.batch(() => { this.listeners.forEach(t => { t(i) }) }) } resumePausedMutations() { const i = this.getAll().filter(t => t.state.isPaused); return Qi.batch(() => Promise.all(i.map(t => t.continue().catch(Jr)))) } }; function em(i) { return i.options.scope?.id } function F5(i) { return { onFetch: (t, e) => { const n = t.options, r = t.fetchOptions?.meta?.fetchMore?.direction, s = t.state.data?.pages || [], o = t.state.data?.pageParams || []; let c = { pages: [], pageParams: [] }, u = 0; const d = async () => { let f = !1; const p = x => { Object.defineProperty(x, "signal", { enumerable: !0, get: () => (t.signal.aborted ? f = !0 : t.signal.addEventListener("abort", () => { f = !0 }), t.signal) }) }, m = dA(t.options, t.fetchOptions), v = async (x, y, E) => { if (f) return Promise.reject(); if (y == null && x.pages.length) return Promise.resolve(x); const T = (() => { const F = { client: t.client, queryKey: t.queryKey, pageParam: y, direction: E ? "backward" : "forward", meta: t.options.meta }; return p(F), F })(), L = await m(T), { maxPages: k } = t.options, O = E ? J4 : Z4; return { pages: O(x.pages, L, k), pageParams: O(x.pageParams, y, k) } }; if (r && s.length) { const x = r === "backward", y = x ? uR : B5, E = { pages: s, pageParams: o }, A = y(n, E); c = await v(E, A, x) } else { const x = i ?? s.length; do { const y = u === 0 ? o[0] ?? n.initialPageParam : B5(n, c); if (u > 0 && y == null) break; c = await v(c, y), u++ } while (u < x) } return c }; t.options.persister ? t.fetchFn = () => t.options.persister?.(d, { client: t.client, queryKey: t.queryKey, meta: t.options.meta, signal: t.signal }, e) : t.fetchFn = d } } } function B5(i, { pages: t, pageParams: e }) { const n = t.length - 1; return t.length > 0 ? i.getNextPageParam(t[n], t, e[n], e) : void 0 } function uR(i, { pages: t, pageParams: e }) { return t.length > 0 ? i.getPreviousPageParam?.(t[0], t, e[0], e) : void 0 } var hR = class { #t; #e; #n; #i; #s; #r; #o; #a; constructor(i = {}) { this.#t = i.queryCache || new oR, this.#e = i.mutationCache || new cR, this.#n = i.defaultOptions || {}, this.#i = new Map, this.#s = new Map, this.#r = 0 } mount() { this.#r++, this.#r === 1 && (this.#o = ry.subscribe(async i => { i && (await this.resumePausedMutations(), this.#t.onFocus()) }), this.#a = Gm.subscribe(async i => { i && (await this.resumePausedMutations(), this.#t.onOnline()) })) } unmount() { this.#r--, this.#r === 0 && (this.#o?.(), this.#o = void 0, this.#a?.(), this.#a = void 0) } isFetching(i) { return this.#t.findAll({ ...i, fetchStatus: "fetching" }).length } isMutating(i) { return this.#e.findAll({ ...i, status: "pending" }).length } getQueryData(i) { const t = this.defaultQueryOptions({ queryKey: i }); return this.#t.get(t.queryHash)?.state.data } ensureQueryData(i) { const t = this.defaultQueryOptions(i), e = this.#t.build(this, t), n = e.state.data; return n === void 0 ? this.fetchQuery(i) : (i.revalidateIfStale && e.isStaleByTime(qc(t.staleTime, e)) && this.prefetchQuery(t), Promise.resolve(n)) } getQueriesData(i) { return this.#t.findAll(i).map(({ queryKey: t, state: e }) => { const n = e.data; return [t, n] }) } setQueryData(i, t, e) { const n = this.defaultQueryOptions({ queryKey: i }), s = this.#t.get(n.queryHash)?.state.data, o = K4(t, s); if (o !== void 0) return this.#t.build(this, n).setData(o, { ...e, manual: !0 }) } setQueriesData(i, t, e) { return Qi.batch(() => this.#t.findAll(i).map(({ queryKey: n }) => [n, this.setQueryData(n, t, e)])) } getQueryState(i) { const t = this.defaultQueryOptions({ queryKey: i }); return this.#t.get(t.queryHash)?.state } removeQueries(i) { const t = this.#t; Qi.batch(() => { t.findAll(i).forEach(e => { t.remove(e) }) }) } resetQueries(i, t) { const e = this.#t; return Qi.batch(() => (e.findAll(i).forEach(n => { n.reset() }), this.refetchQueries({ type: "active", ...i }, t))) } cancelQueries(i, t = {}) { const e = { revert: !0, ...t }, n = Qi.batch(() => this.#t.findAll(i).map(r => r.cancel(e))); return Promise.all(n).then(Jr).catch(Jr) } invalidateQueries(i, t = {}) { return Qi.batch(() => (this.#t.findAll(i).forEach(e => { e.invalidate() }), i?.refetchType === "none" ? Promise.resolve() : this.refetchQueries({ ...i, type: i?.refetchType ?? i?.type ?? "active" }, t))) } refetchQueries(i, t = {}) { const e = { ...t, cancelRefetch: t.cancelRefetch ?? !0 }, n = Qi.batch(() => this.#t.findAll(i).filter(r => !r.isDisabled() && !r.isStatic()).map(r => { let s = r.fetch(void 0, e); return e.throwOnError || (s = s.catch(Jr)), r.state.fetchStatus === "paused" ? Promise.resolve() : s })); return Promise.all(n).then(Jr) } fetchQuery(i) { const t = this.defaultQueryOptions(i); t.retry === void 0 && (t.retry = !1); const e = this.#t.build(this, t); return e.isStaleByTime(qc(t.staleTime, e)) ? e.fetch(t) : Promise.resolve(e.state.data) } prefetchQuery(i) { return this.fetchQuery(i).then(Jr).catch(Jr) } fetchInfiniteQuery(i) { return i.behavior = F5(i.pages), this.fetchQuery(i) } prefetchInfiniteQuery(i) { return this.fetchInfiniteQuery(i).then(Jr).catch(Jr) } ensureInfiniteQueryData(i) { return i.behavior = F5(i.pages), this.ensureQueryData(i) } resumePausedMutations() { return Gm.isOnline() ? this.#e.resumePausedMutations() : Promise.resolve() } getQueryCache() { return this.#t } getMutationCache() { return this.#e } getDefaultOptions() { return this.#n } setDefaultOptions(i) { this.#n = i } setQueryDefaults(i, t) { this.#i.set(nh(i), { queryKey: i, defaultOptions: t }) } getQueryDefaults(i) { const t = [...this.#i.values()], e = {}; return t.forEach(n => { fp(i, n.queryKey) && Object.assign(e, n.defaultOptions) }), e } setMutationDefaults(i, t) { this.#s.set(nh(i), { mutationKey: i, defaultOptions: t }) } getMutationDefaults(i) { const t = [...this.#s.values()], e = {}; return t.forEach(n => { fp(i, n.mutationKey) && Object.assign(e, n.defaultOptions) }), e } defaultQueryOptions(i) { if (i._defaulted) return i; const t = { ...this.#n.queries, ...this.getQueryDefaults(i.queryKey), ...i, _defaulted: !0 }; return t.queryHash || (t.queryHash = ny(t.queryKey, t)), t.refetchOnReconnect === void 0 && (t.refetchOnReconnect = t.networkMode !== "always"), t.throwOnError === void 0 && (t.throwOnError = !!t.suspense), !t.networkMode && t.persister && (t.networkMode = "offlineFirst"), t.queryFn === iy && (t.enabled = !1), t } defaultMutationOptions(i) { return i?._defaulted ? i : { ...this.#n.mutations, ...i?.mutationKey && this.getMutationDefaults(i.mutationKey), ...i, _defaulted: !0 } } clear() { this.#t.clear(), this.#e.clear() } }, dR = class extends Fd { constructor(i, t) { super(), this.options = t, this.#t = i, this.#a = null, this.#o = K1(), this.options.experimental_prefetchInRender || this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")), this.bindMethods(), this.setOptions(t) } #t; #e = void 0; #n = void 0; #i = void 0; #s; #r; #o; #a; #h; #c; #d; #u; #f; #l; #p = new Set; bindMethods() { this.refetch = this.refetch.bind(this) } onSubscribe() { this.listeners.size === 1 && (this.#e.addObserver(this), z5(this.#e, this.options) ? this.#m() : this.updateResult(), this.#y()) } onUnsubscribe() { this.hasListeners() || this.destroy() } shouldFetchOnReconnect() { return Q1(this.#e, this.options, this.options.refetchOnReconnect) } shouldFetchOnWindowFocus() { return Q1(this.#e, this.options, this.options.refetchOnWindowFocus) } destroy() { this.listeners = new Set, this.#x(), this.#S(), this.#e.removeObserver(this) } setOptions(i) { const t = this.options, e = this.#e; if (this.options = this.#t.defaultQueryOptions(i), this.options.enabled !== void 0 && typeof this.options.enabled != "boolean" && typeof this.options.enabled != "function" && typeof oa(this.options.enabled, this.#e) != "boolean") throw new Error("Expected enabled to be a boolean or a callback that returns a boolean"); this.#A(), this.#e.setOptions(this.options), t._defaulted && !Vm(this.options, t) && this.#t.getQueryCache().notify({ type: "observerOptionsUpdated", query: this.#e, observer: this }); const n = this.hasListeners(); n && U5(this.#e, e, this.options, t) && this.#m(), this.updateResult(), n && (this.#e !== e || oa(this.options.enabled, this.#e) !== oa(t.enabled, this.#e) || qc(this.options.staleTime, this.#e) !== qc(t.staleTime, this.#e)) && this.#g(); const r = this.#v(); n && (this.#e !== e || oa(this.options.enabled, this.#e) !== oa(t.enabled, this.#e) || r !== this.#l) && this.#b(r) } getOptimisticResult(i) { const t = this.#t.getQueryCache().build(this.#t, i), e = this.createResult(t, i); return pR(this, e) && (this.#i = e, this.#r = this.options, this.#s = this.#e.state), e } getCurrentResult() { return this.#i } trackResult(i, t) { return new Proxy(i, { get: (e, n) => (this.trackProp(n), t?.(n), Reflect.get(e, n)) }) } trackProp(i) { this.#p.add(i) } getCurrentQuery() { return this.#e } refetch({ ...i } = {}) { return this.fetch({ ...i }) } fetchOptimistic(i) { const t = this.#t.defaultQueryOptions(i), e = this.#t.getQueryCache().build(this.#t, t); return e.fetch().then(() => this.createResult(e, t)) } fetch(i) { return this.#m({ ...i, cancelRefetch: i.cancelRefetch ?? !0 }).then(() => (this.updateResult(), this.#i)) } #m(i) { this.#A(); let t = this.#e.fetch(this.options, i); return i?.throwOnError || (t = t.catch(Jr)), t } #g() { this.#x(); const i = qc(this.options.staleTime, this.#e); if (eh || this.#i.isStale || !W1(i)) return; const e = uA(this.#i.dataUpdatedAt, i) + 1; this.#u = setTimeout(() => { this.#i.isStale || this.updateResult() }, e) } #v() { return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(this.#e) : this.options.refetchInterval) ?? !1 } #b(i) { this.#S(), this.#l = i, !(eh || oa(this.options.enabled, this.#e) === !1 || !W1(this.#l) || this.#l === 0) && (this.#f = setInterval(() => { (this.options.refetchIntervalInBackground || ry.isFocused()) && this.#m() }, this.#l)) } #y() { this.#g(), this.#b(this.#v()) } #x() { this.#u && (clearTimeout(this.#u), this.#u = void 0) } #S() { this.#f && (clearInterval(this.#f), this.#f = void 0) } createResult(i, t) { const e = this.#e, n = this.options, r = this.#i, s = this.#s, o = this.#r, u = i !== e ? i.state : this.#n, { state: d } = i; let f = { ...d }, p = !1, m; if (t._optimisticResults) { const j = this.hasListeners(), J = !j && z5(i, t), ot = j && U5(i, e, t, n); (J || ot) && (f = { ...f, ...bA(d.data, i.options) }), t._optimisticResults === "isRestoring" && (f.fetchStatus = "idle") } let { error: v, errorUpdatedAt: x, status: y } = f; m = f.data; let E = !1; if (t.placeholderData !== void 0 && m === void 0 && y === "pending") { let j; r?.isPlaceholderData && t.placeholderData === o?.placeholderData ? (j = r.data, E = !0) : j = typeof t.placeholderData == "function" ? t.placeholderData(this.#d?.state.data, this.#d) : t.placeholderData, j !== void 0 && (y = "success", m = X1(r?.data, j, t), p = !0) } if (t.select && m !== void 0 && !E) if (r && m === s?.data && t.select === this.#h) m = this.#c; else try { this.#h = t.select, m = t.select(m), m = X1(r?.data, m, t), this.#c = m, this.#a = null } catch (j) { this.#a = j } this.#a && (v = this.#a, m = this.#c, x = Date.now(), y = "error"); const A = f.fetchStatus === "fetching", T = y === "pending", L = y === "error", k = T && A, O = m !== void 0, D = { status: y, fetchStatus: f.fetchStatus, isPending: T, isSuccess: y === "success", isError: L, isInitialLoading: k, isLoading: k, data: m, dataUpdatedAt: f.dataUpdatedAt, error: v, errorUpdatedAt: x, failureCount: f.fetchFailureCount, failureReason: f.fetchFailureReason, errorUpdateCount: f.errorUpdateCount, isFetched: f.dataUpdateCount > 0 || f.errorUpdateCount > 0, isFetchedAfterMount: f.dataUpdateCount > u.dataUpdateCount || f.errorUpdateCount > u.errorUpdateCount, isFetching: A, isRefetching: A && !T, isLoadingError: L && !O, isPaused: f.fetchStatus === "paused", isPlaceholderData: p, isRefetchError: L && O, isStale: sy(i, t), refetch: this.refetch, promise: this.#o, isEnabled: oa(t.enabled, i) !== !1 }; if (this.options.experimental_prefetchInRender) { const j = z => { D.status === "error" ? z.reject(D.error) : D.data !== void 0 && z.resolve(D.data) }, J = () => { const z = this.#o = D.promise = K1(); j(z) }, ot = this.#o; switch (ot.status) { case "pending": i.queryHash === e.queryHash && j(ot); break; case "fulfilled": (D.status === "error" || D.data !== ot.value) && J(); break; case "rejected": (D.status !== "error" || D.error !== ot.reason) && J(); break } } return D } updateResult() { const i = this.#i, t = this.createResult(this.#e, this.options); if (this.#s = this.#e.state, this.#r = this.options, this.#s.data !== void 0 && (this.#d = this.#e), Vm(t, i)) return; this.#i = t; const e = () => { if (!i) return !0; const { notifyOnChangeProps: n } = this.options, r = typeof n == "function" ? n() : n; if (r === "all" || !r && !this.#p.size) return !0; const s = new Set(r ?? this.#p); return this.options.throwOnError && s.add("error"), Object.keys(this.#i).some(o => { const c = o; return this.#i[c] !== i[c] && s.has(c) }) }; this.#C({ listeners: e() }) } #A() { const i = this.#t.getQueryCache().build(this.#t, this.options); if (i === this.#e) return; const t = this.#e; this.#e = i, this.#n = i.state, this.hasListeners() && (t?.removeObserver(this), i.addObserver(this)) } onQueryUpdate() { this.updateResult(), this.hasListeners() && this.#y() } #C(i) { Qi.batch(() => { i.listeners && this.listeners.forEach(t => { t(this.#i) }), this.#t.getQueryCache().notify({ query: this.#e, type: "observerResultsUpdated" }) }) } }; function fR(i, t) { return oa(t.enabled, i) !== !1 && i.state.data === void 0 && !(i.state.status === "error" && t.retryOnMount === !1) } function z5(i, t) { return fR(i, t) || i.state.data !== void 0 && Q1(i, t, t.refetchOnMount) } function Q1(i, t, e) { if (oa(t.enabled, i) !== !1 && qc(t.staleTime, i) !== "static") { const n = typeof e == "function" ? e(i) : e; return n === "always" || n !== !1 && sy(i, t) } return !1 } function U5(i, t, e, n) { return (i !== t || oa(n.enabled, i) === !1) && (!e.suspense || i.state.status !== "error") && sy(i, e) } function sy(i, t) { return oa(t.enabled, i) !== !1 && i.isStaleByTime(qc(t.staleTime, i)) } function pR(i, t) { return !Vm(i.getCurrentResult(), t) } var gR = class extends Fd { #t; #e = void 0; #n; #i; constructor(t, e) { super(), this.#t = t, this.setOptions(e), this.bindMethods(), this.#s() } bindMethods() { this.mutate = this.mutate.bind(this), this.reset = this.reset.bind(this) } setOptions(t) { const e = this.options; this.options = this.#t.defaultMutationOptions(t), Vm(this.options, e) || this.#t.getMutationCache().notify({ type: "observerOptionsUpdated", mutation: this.#n, observer: this }), e?.mutationKey && this.options.mutationKey && nh(e.mutationKey) !== nh(this.options.mutationKey) ? this.reset() : this.#n?.state.status === "pending" && this.#n.setOptions(this.options) } onUnsubscribe() { this.hasListeners() || this.#n?.removeObserver(this) } onMutationUpdate(t) { this.#s(), this.#r(t) } getCurrentResult() { return this.#e } reset() { this.#n?.removeObserver(this), this.#n = void 0, this.#s(), this.#r() } mutate(t, e) { return this.#i = e, this.#n?.removeObserver(this), this.#n = this.#t.getMutationCache().build(this.#t, this.options), this.#n.addObserver(this), this.#n.execute(t) } #s() { const t = this.#n?.state ?? yA(); this.#e = { ...t, isPending: t.status === "pending", isSuccess: t.status === "success", isError: t.status === "error", isIdle: t.status === "idle", mutate: this.mutate, reset: this.reset } } #r(t) { Qi.batch(() => { if (this.#i && this.hasListeners()) { const e = this.#e.variables, n = this.#e.context; t?.type === "success" ? (this.#i.onSuccess?.(t.data, e, n), this.#i.onSettled?.(t.data, null, e, n)) : t?.type === "error" && (this.#i.onError?.(t.error, e, n), this.#i.onSettled?.(void 0, t.error, e, n)) } this.listeners.forEach(e => { e(this.#e) }) }) } }, wA = M.createContext(void 0), Tp = i => { const t = M.useContext(wA); if (!t) throw new Error("No QueryClient set, use QueryClientProvider to set one"); return t }, mR = ({ client: i, children: t }) => (M.useEffect(() => (i.mount(), () => { i.unmount() }), [i]), N.jsx(wA.Provider, { value: i, children: t })), xA = M.createContext(!1), vR = () => M.useContext(xA); xA.Provider; function bR() { let i = !1; return { clearReset: () => { i = !1 }, reset: () => { i = !0 }, isReset: () => i } } var yR = M.createContext(bR()), wR = () => M.useContext(yR), xR = (i, t) => { (i.suspense || i.throwOnError || i.experimental_prefetchInRender) && (t.isReset() || (i.retryOnMount = !1)) }, SR = i => { M.useEffect(() => { i.clearReset() }, [i]) }, AR = ({ result: i, errorResetBoundary: t, throwOnError: e, query: n, suspense: r }) => i.isError && !t.isReset() && !i.isFetching && n && (r && i.data === void 0 || fA(e, [i.error, n])), ER = i => { if (i.suspense) { const t = n => n === "static" ? n : Math.max(n ?? 1e3, 1e3), e = i.staleTime; i.staleTime = typeof e == "function" ? (...n) => t(e(...n)) : t(e), typeof i.gcTime == "number" && (i.gcTime = Math.max(i.gcTime, 1e3)) } }, _R = (i, t) => i.isLoading && i.isFetching && !t, CR = (i, t) => i?.suspense && t.isPending, H5 = (i, t, e) => t.fetchOptimistic(i).catch(() => { e.clearReset() }); function NR(i, t, e) { const n = vR(), r = wR(), s = Tp(), o = s.defaultQueryOptions(i); s.getDefaultOptions().queries?._experimental_beforeQuery?.(o), o._optimisticResults = n ? "isRestoring" : "optimistic", ER(o), xR(o, r), SR(r); const c = !s.getQueryCache().get(o.queryHash), [u] = M.useState(() => new t(s, o)), d = u.getOptimisticResult(o), f = !n && i.subscribed !== !1; if (M.useSyncExternalStore(M.useCallback(p => { const m = f ? u.subscribe(Qi.batchCalls(p)) : Jr; return u.updateResult(), m }, [u, f]), () => u.getCurrentResult(), () => u.getCurrentResult()), M.useEffect(() => { u.setOptions(o) }, [o, u]), CR(o, d)) throw H5(o, u, r); if (AR({ result: d, errorResetBoundary: r, throwOnError: o.throwOnError, query: s.getQueryCache().get(o.queryHash), suspense: o.suspense })) throw d.error; return s.getDefaultOptions().queries?._experimental_afterQuery?.(o, d), o.experimental_prefetchInRender && !eh && _R(d, n) && (c ? H5(o, u, r) : s.getQueryCache().get(o.queryHash)?.promise)?.catch(Jr).finally(() => { u.updateResult() }), o.notifyOnChangeProps ? d : u.trackResult(d) } function Lp(i, t) { return NR(i, dR) } function Us(i, t) { const e = Tp(), [n] = M.useState(() => new gR(e, i)); M.useEffect(() => { n.setOptions(i) }, [n, i]); const r = M.useSyncExternalStore(M.useCallback(o => n.subscribe(Qi.batchCalls(o)), [n]), () => n.getCurrentResult(), () => n.getCurrentResult()), s = M.useCallback((o, c) => { n.mutate(o, c).catch(Jr) }, [n]); if (r.error && fA(n.options.throwOnError, [r.error])) throw r.error; return { ...r, mutate: s, mutateAsync: r.mutate } } function SA(i, t) { return function () { return i.apply(t, arguments) } } const { toString: RR } = Object.prototype, { getPrototypeOf: ay } = Object, { iterator: l0, toStringTag: AA } = Symbol, c0 = (i => t => { const e = RR.call(t); return i[e] || (i[e] = e.slice(8, -1).toLowerCase()) })(Object.create(null)), $a = i => (i = i.toLowerCase(), t => c0(t) === i), u0 = i => t => typeof t === i, { isArray: Bd } = Array, pp = u0("undefined"); function Mp(i) { return i !== null && !pp(i) && i.constructor !== null && !pp(i.constructor) && vs(i.constructor.isBuffer) && i.constructor.isBuffer(i) } const EA = $a("ArrayBuffer"); function TR(i) { let t; return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? t = ArrayBuffer.isView(i) : t = i && i.buffer && EA(i.buffer), t } const LR = u0("string"), vs = u0("function"), _A = u0("number"), Pp = i => i !== null && typeof i == "object", MR = i => i === !0 || i === !1, Cm = i => { if (c0(i) !== "object") return !1; const t = ay(i); return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(AA in i) && !(l0 in i) }, PR = i => { if (!Pp(i) || Mp(i)) return !1; try { return Object.keys(i).length === 0 && Object.getPrototypeOf(i) === Object.prototype } catch { return !1 } }, OR = $a("Date"), kR = $a("File"), DR = $a("Blob"), jR = $a("FileList"), IR = i => Pp(i) && vs(i.pipe), FR = i => { let t; return i && (typeof FormData == "function" && i instanceof FormData || vs(i.append) && ((t = c0(i)) === "formdata" || t === "object" && vs(i.toString) && i.toString() === "[object FormData]")) }, BR = $a("URLSearchParams"), [zR, UR, HR, qR] = ["ReadableStream", "Request", "Response", "Headers"].map($a), VR = i => i.trim ? i.trim() : i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""); function Op(i, t, { allOwnKeys: e = !1 } = {}) { if (i === null || typeof i > "u") return; let n, r; if (typeof i != "object" && (i = [i]), Bd(i)) for (n = 0, r = i.length; n < r; n++)t.call(null, i[n], n, i); else { if (Mp(i)) return; const s = e ? Object.getOwnPropertyNames(i) : Object.keys(i), o = s.length; let c; for (n = 0; n < o; n++)c = s[n], t.call(null, i[c], c, i) } } function CA(i, t) { if (Mp(i)) return null; t = t.toLowerCase(); const e = Object.keys(i); let n = e.length, r; for (; n-- > 0;)if (r = e[n], t === r.toLowerCase()) return r; return null } const Yu = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global, NA = i => !pp(i) && i !== Yu; function Z1() { const { caseless: i } = NA(this) && this || {}, t = {}, e = (n, r) => { const s = i && CA(t, r) || r; Cm(t[s]) && Cm(n) ? t[s] = Z1(t[s], n) : Cm(n) ? t[s] = Z1({}, n) : Bd(n) ? t[s] = n.slice() : t[s] = n }; for (let n = 0, r = arguments.length; n < r; n++)arguments[n] && Op(arguments[n], e); return t } const GR = (i, t, e, { allOwnKeys: n } = {}) => (Op(t, (r, s) => { e && vs(r) ? i[s] = SA(r, e) : i[s] = r }, { allOwnKeys: n }), i), $R = i => (i.charCodeAt(0) === 65279 && (i = i.slice(1)), i), WR = (i, t, e, n) => { i.prototype = Object.create(t.prototype, n), i.prototype.constructor = i, Object.defineProperty(i, "super", { value: t.prototype }), e && Object.assign(i.prototype, e) }, YR = (i, t, e, n) => { let r, s, o; const c = {}; if (t = t || {}, i == null) return t; do { for (r = Object.getOwnPropertyNames(i), s = r.length; s-- > 0;)o = r[s], (!n || n(o, i, t)) && !c[o] && (t[o] = i[o], c[o] = !0); i = e !== !1 && ay(i) } while (i && (!e || e(i, t)) && i !== Object.prototype); return t }, XR = (i, t, e) => { i = String(i), (e === void 0 || e > i.length) && (e = i.length), e -= t.length; const n = i.indexOf(t, e); return n !== -1 && n === e }, KR = i => { if (!i) return null; if (Bd(i)) return i; let t = i.length; if (!_A(t)) return null; const e = new Array(t); for (; t-- > 0;)e[t] = i[t]; return e }, QR = (i => t => i && t instanceof i)(typeof Uint8Array < "u" && ay(Uint8Array)), ZR = (i, t) => { const n = (i && i[l0]).call(i); let r; for (; (r = n.next()) && !r.done;) { const s = r.value; t.call(i, s[0], s[1]) } }, JR = (i, t) => { let e; const n = []; for (; (e = i.exec(t)) !== null;)n.push(e); return n }, tT = $a("HTMLFormElement"), eT = i => i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (e, n, r) { return n.toUpperCase() + r }), q5 = (({ hasOwnProperty: i }) => (t, e) => i.call(t, e))(Object.prototype), nT = $a("RegExp"), RA = (i, t) => { const e = Object.getOwnPropertyDescriptors(i), n = {}; Op(e, (r, s) => { let o; (o = t(r, s, i)) !== !1 && (n[s] = o || r) }), Object.defineProperties(i, n) }, iT = i => { RA(i, (t, e) => { if (vs(i) && ["arguments", "caller", "callee"].indexOf(e) !== -1) return !1; const n = i[e]; if (vs(n)) { if (t.enumerable = !1, "writable" in t) { t.writable = !1; return } t.set || (t.set = () => { throw Error("Can not rewrite read-only method '" + e + "'") }) } }) }, rT = (i, t) => { const e = {}, n = r => { r.forEach(s => { e[s] = !0 }) }; return Bd(i) ? n(i) : n(String(i).split(t)), e }, sT = () => { }, aT = (i, t) => i != null && Number.isFinite(i = +i) ? i : t; function oT(i) { return !!(i && vs(i.append) && i[AA] === "FormData" && i[l0]) } const lT = i => { const t = new Array(10), e = (n, r) => { if (Pp(n)) { if (t.indexOf(n) >= 0) return; if (Mp(n)) return n; if (!("toJSON" in n)) { t[r] = n; const s = Bd(n) ? [] : {}; return Op(n, (o, c) => { const u = e(o, r + 1); !pp(u) && (s[c] = u) }), t[r] = void 0, s } } return n }; return e(i, 0) }, cT = $a("AsyncFunction"), uT = i => i && (Pp(i) || vs(i)) && vs(i.then) && vs(i.catch), TA = ((i, t) => i ? setImmediate : t ? ((e, n) => (Yu.addEventListener("message", ({ source: r, data: s }) => { r === Yu && s === e && n.length && n.shift()() }, !1), r => { n.push(r), Yu.postMessage(e, "*") }))(`axios@${Math.random()}`, []) : e => setTimeout(e))(typeof setImmediate == "function", vs(Yu.postMessage)), hT = typeof queueMicrotask < "u" ? queueMicrotask.bind(Yu) : typeof process < "u" && process.nextTick || TA, dT = i => i != null && vs(i[l0]), Dt = { isArray: Bd, isArrayBuffer: EA, isBuffer: Mp, isFormData: FR, isArrayBufferView: TR, isString: LR, isNumber: _A, isBoolean: MR, isObject: Pp, isPlainObject: Cm, isEmptyObject: PR, isReadableStream: zR, isRequest: UR, isResponse: HR, isHeaders: qR, isUndefined: pp, isDate: OR, isFile: kR, isBlob: DR, isRegExp: nT, isFunction: vs, isStream: IR, isURLSearchParams: BR, isTypedArray: QR, isFileList: jR, forEach: Op, merge: Z1, extend: GR, trim: VR, stripBOM: $R, inherits: WR, toFlatObject: YR, kindOf: c0, kindOfTest: $a, endsWith: XR, toArray: KR, forEachEntry: ZR, matchAll: JR, isHTMLForm: tT, hasOwnProperty: q5, hasOwnProp: q5, reduceDescriptors: RA, freezeMethods: iT, toObjectSet: rT, toCamelCase: eT, noop: sT, toFiniteNumber: aT, findKey: CA, global: Yu, isContextDefined: NA, isSpecCompliantForm: oT, toJSONObject: lT, isAsyncFn: cT, isThenable: uT, setImmediate: TA, asap: hT, isIterable: dT }; function qe(i, t, e, n, r) { Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = i, this.name = "AxiosError", t && (this.code = t), e && (this.config = e), n && (this.request = n), r && (this.response = r, this.status = r.status ? r.status : null) } Dt.inherits(qe, Error, { toJSON: function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: Dt.toJSONObject(this.config), code: this.code, status: this.status } } }); const LA = qe.prototype, MA = {};["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(i => { MA[i] = { value: i } }); Object.defineProperties(qe, MA); Object.defineProperty(LA, "isAxiosError", { value: !0 }); qe.from = (i, t, e, n, r, s) => { const o = Object.create(LA); return Dt.toFlatObject(i, o, function (u) { return u !== Error.prototype }, c => c !== "isAxiosError"), qe.call(o, i.message, t, e, n, r), o.cause = i, o.name = i.name, s && Object.assign(o, s), o }; const fT = null; function J1(i) { return Dt.isPlainObject(i) || Dt.isArray(i) } function PA(i) { return Dt.endsWith(i, "[]") ? i.slice(0, -2) : i } function V5(i, t, e) { return i ? i.concat(t).map(function (r, s) { return r = PA(r), !e && s ? "[" + r + "]" : r }).join(e ? "." : "") : t } function pT(i) { return Dt.isArray(i) && !i.some(J1) } const gT = Dt.toFlatObject(Dt, {}, null, function (t) { return /^is[A-Z]/.test(t) }); function h0(i, t, e) { if (!Dt.isObject(i)) throw new TypeError("target must be an object"); t = t || new FormData, e = Dt.toFlatObject(e, { metaTokens: !0, dots: !1, indexes: !1 }, !1, function (y, E) { return !Dt.isUndefined(E[y]) }); const n = e.metaTokens, r = e.visitor || f, s = e.dots, o = e.indexes, u = (e.Blob || typeof Blob < "u" && Blob) && Dt.isSpecCompliantForm(t); if (!Dt.isFunction(r)) throw new TypeError("visitor must be a function"); function d(x) { if (x === null) return ""; if (Dt.isDate(x)) return x.toISOString(); if (Dt.isBoolean(x)) return x.toString(); if (!u && Dt.isBlob(x)) throw new qe("Blob is not supported. Use a Buffer instead."); return Dt.isArrayBuffer(x) || Dt.isTypedArray(x) ? u && typeof Blob == "function" ? new Blob([x]) : Buffer.from(x) : x } function f(x, y, E) { let A = x; if (x && !E && typeof x == "object") { if (Dt.endsWith(y, "{}")) y = n ? y : y.slice(0, -2), x = JSON.stringify(x); else if (Dt.isArray(x) && pT(x) || (Dt.isFileList(x) || Dt.endsWith(y, "[]")) && (A = Dt.toArray(x))) return y = PA(y), A.forEach(function (L, k) { !(Dt.isUndefined(L) || L === null) && t.append(o === !0 ? V5([y], k, s) : o === null ? y : y + "[]", d(L)) }), !1 } return J1(x) ? !0 : (t.append(V5(E, y, s), d(x)), !1) } const p = [], m = Object.assign(gT, { defaultVisitor: f, convertValue: d, isVisitable: J1 }); function v(x, y) { if (!Dt.isUndefined(x)) { if (p.indexOf(x) !== -1) throw Error("Circular reference detected in " + y.join(".")); p.push(x), Dt.forEach(x, function (A, T) { (!(Dt.isUndefined(A) || A === null) && r.call(t, A, Dt.isString(T) ? T.trim() : T, y, m)) === !0 && v(A, y ? y.concat(T) : [T]) }), p.pop() } } if (!Dt.isObject(i)) throw new TypeError("data must be an object"); return v(i), t } function G5(i) { const t = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+", "%00": "\0" }; return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g, function (n) { return t[n] }) } function oy(i, t) { this._pairs = [], i && h0(i, this, t) } const OA = oy.prototype; OA.append = function (t, e) { this._pairs.push([t, e]) }; OA.toString = function (t) { const e = t ? function (n) { return t.call(this, n, G5) } : G5; return this._pairs.map(function (r) { return e(r[0]) + "=" + e(r[1]) }, "").join("&") }; function mT(i) { return encodeURIComponent(i).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]") } function kA(i, t, e) { if (!t) return i; const n = e && e.encode || mT; Dt.isFunction(e) && (e = { serialize: e }); const r = e && e.serialize; let s; if (r ? s = r(t, e) : s = Dt.isURLSearchParams(t) ? t.toString() : new oy(t, e).toString(n), s) { const o = i.indexOf("#"); o !== -1 && (i = i.slice(0, o)), i += (i.indexOf("?") === -1 ? "?" : "&") + s } return i } class $5 { constructor() { this.handlers = [] } use(t, e, n) { return this.handlers.push({ fulfilled: t, rejected: e, synchronous: n ? n.synchronous : !1, runWhen: n ? n.runWhen : null }), this.handlers.length - 1 } eject(t) { this.handlers[t] && (this.handlers[t] = null) } clear() { this.handlers && (this.handlers = []) } forEach(t) { Dt.forEach(this.handlers, function (n) { n !== null && t(n) }) } } const DA = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 }, vT = typeof URLSearchParams < "u" ? URLSearchParams : oy, bT = typeof FormData < "u" ? FormData : null, yT = typeof Blob < "u" ? Blob : null, wT = { isBrowser: !0, classes: { URLSearchParams: vT, FormData: bT, Blob: yT }, protocols: ["http", "https", "file", "blob", "url", "data"] }, ly = typeof window < "u" && typeof document < "u", tb = typeof navigator == "object" && navigator || void 0, xT = ly && (!tb || ["ReactNative", "NativeScript", "NS"].indexOf(tb.product) < 0), ST = typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof self.importScripts == "function", AT = ly && window.location.href || "http://localhost", ET = Object.freeze(Object.defineProperty({ __proto__: null, hasBrowserEnv: ly, hasStandardBrowserEnv: xT, hasStandardBrowserWebWorkerEnv: ST, navigator: tb, origin: AT }, Symbol.toStringTag, { value: "Module" })), Ur = { ...ET, ...wT }; function _T(i, t) { return h0(i, new Ur.classes.URLSearchParams, { visitor: function (e, n, r, s) { return Ur.isNode && Dt.isBuffer(e) ? (this.append(n, e.toString("base64")), !1) : s.defaultVisitor.apply(this, arguments) }, ...t }) } function CT(i) { return Dt.matchAll(/\w+|\[(\w*)]/g, i).map(t => t[0] === "[]" ? "" : t[1] || t[0]) } function NT(i) { const t = {}, e = Object.keys(i); let n; const r = e.length; let s; for (n = 0; n < r; n++)s = e[n], t[s] = i[s]; return t } function jA(i) { function t(e, n, r, s) { let o = e[s++]; if (o === "__proto__") return !0; const c = Number.isFinite(+o), u = s >= e.length; return o = !o && Dt.isArray(r) ? r.length : o, u ? (Dt.hasOwnProp(r, o) ? r[o] = [r[o], n] : r[o] = n, !c) : ((!r[o] || !Dt.isObject(r[o])) && (r[o] = []), t(e, n, r[o], s) && Dt.isArray(r[o]) && (r[o] = NT(r[o])), !c) } if (Dt.isFormData(i) && Dt.isFunction(i.entries)) { const e = {}; return Dt.forEachEntry(i, (n, r) => { t(CT(n), r, e, 0) }), e } return null } function RT(i, t, e) { if (Dt.isString(i)) try { return (t || JSON.parse)(i), Dt.trim(i) } catch (n) { if (n.name !== "SyntaxError") throw n } return (e || JSON.stringify)(i) } const kp = { transitional: DA, adapter: ["xhr", "http", "fetch"], transformRequest: [function (t, e) { const n = e.getContentType() || "", r = n.indexOf("application/json") > -1, s = Dt.isObject(t); if (s && Dt.isHTMLForm(t) && (t = new FormData(t)), Dt.isFormData(t)) return r ? JSON.stringify(jA(t)) : t; if (Dt.isArrayBuffer(t) || Dt.isBuffer(t) || Dt.isStream(t) || Dt.isFile(t) || Dt.isBlob(t) || Dt.isReadableStream(t)) return t; if (Dt.isArrayBufferView(t)) return t.buffer; if (Dt.isURLSearchParams(t)) return e.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), t.toString(); let c; if (s) { if (n.indexOf("application/x-www-form-urlencoded") > -1) return _T(t, this.formSerializer).toString(); if ((c = Dt.isFileList(t)) || n.indexOf("multipart/form-data") > -1) { const u = this.env && this.env.FormData; return h0(c ? { "files[]": t } : t, u && new u, this.formSerializer) } } return s || r ? (e.setContentType("application/json", !1), RT(t)) : t }], transformResponse: [function (t) { const e = this.transitional || kp.transitional, n = e && e.forcedJSONParsing, r = this.responseType === "json"; if (Dt.isResponse(t) || Dt.isReadableStream(t)) return t; if (t && Dt.isString(t) && (n && !this.responseType || r)) { const o = !(e && e.silentJSONParsing) && r; try { return JSON.parse(t) } catch (c) { if (o) throw c.name === "SyntaxError" ? qe.from(c, qe.ERR_BAD_RESPONSE, this, null, this.response) : c } } return t }], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: Ur.classes.FormData, Blob: Ur.classes.Blob }, validateStatus: function (t) { return t >= 200 && t < 300 }, headers: { common: { Accept: "application/json, text/plain, */*", "Content-Type": void 0 } } }; Dt.forEach(["delete", "get", "head", "post", "put", "patch"], i => { kp.headers[i] = {} }); const TT = Dt.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]), LT = i => {
  const t = {}; let e, n, r; return i && i.split(`
`).forEach(function (o) { r = o.indexOf(":"), e = o.substring(0, r).trim().toLowerCase(), n = o.substring(r + 1).trim(), !(!e || t[e] && TT[e]) && (e === "set-cookie" ? t[e] ? t[e].push(n) : t[e] = [n] : t[e] = t[e] ? t[e] + ", " + n : n) }), t
}, W5 = Symbol("internals"); function $f(i) { return i && String(i).trim().toLowerCase() } function Nm(i) { return i === !1 || i == null ? i : Dt.isArray(i) ? i.map(Nm) : String(i) } function MT(i) { const t = Object.create(null), e = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g; let n; for (; n = e.exec(i);)t[n[1]] = n[2]; return t } const PT = i => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim()); function o1(i, t, e, n, r) { if (Dt.isFunction(n)) return n.call(this, t, e); if (r && (t = e), !!Dt.isString(t)) { if (Dt.isString(n)) return t.indexOf(n) !== -1; if (Dt.isRegExp(n)) return n.test(t) } } function OT(i) { return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (t, e, n) => e.toUpperCase() + n) } function kT(i, t) { const e = Dt.toCamelCase(" " + t);["get", "set", "has"].forEach(n => { Object.defineProperty(i, n + e, { value: function (r, s, o) { return this[n].call(this, t, r, s, o) }, configurable: !0 }) }) } let bs = class {
  constructor(t) { t && this.set(t) } set(t, e, n) { const r = this; function s(c, u, d) { const f = $f(u); if (!f) throw new Error("header name must be a non-empty string"); const p = Dt.findKey(r, f); (!p || r[p] === void 0 || d === !0 || d === void 0 && r[p] !== !1) && (r[p || u] = Nm(c)) } const o = (c, u) => Dt.forEach(c, (d, f) => s(d, f, u)); if (Dt.isPlainObject(t) || t instanceof this.constructor) o(t, e); else if (Dt.isString(t) && (t = t.trim()) && !PT(t)) o(LT(t), e); else if (Dt.isObject(t) && Dt.isIterable(t)) { let c = {}, u, d; for (const f of t) { if (!Dt.isArray(f)) throw TypeError("Object iterator must return a key-value pair"); c[d = f[0]] = (u = c[d]) ? Dt.isArray(u) ? [...u, f[1]] : [u, f[1]] : f[1] } o(c, e) } else t != null && s(e, t, n); return this } get(t, e) { if (t = $f(t), t) { const n = Dt.findKey(this, t); if (n) { const r = this[n]; if (!e) return r; if (e === !0) return MT(r); if (Dt.isFunction(e)) return e.call(this, r, n); if (Dt.isRegExp(e)) return e.exec(r); throw new TypeError("parser must be boolean|regexp|function") } } } has(t, e) { if (t = $f(t), t) { const n = Dt.findKey(this, t); return !!(n && this[n] !== void 0 && (!e || o1(this, this[n], n, e))) } return !1 } delete(t, e) { const n = this; let r = !1; function s(o) { if (o = $f(o), o) { const c = Dt.findKey(n, o); c && (!e || o1(n, n[c], c, e)) && (delete n[c], r = !0) } } return Dt.isArray(t) ? t.forEach(s) : s(t), r } clear(t) { const e = Object.keys(this); let n = e.length, r = !1; for (; n--;) { const s = e[n]; (!t || o1(this, this[s], s, t, !0)) && (delete this[s], r = !0) } return r } normalize(t) { const e = this, n = {}; return Dt.forEach(this, (r, s) => { const o = Dt.findKey(n, s); if (o) { e[o] = Nm(r), delete e[s]; return } const c = t ? OT(s) : String(s).trim(); c !== s && delete e[s], e[c] = Nm(r), n[c] = !0 }), this } concat(...t) { return this.constructor.concat(this, ...t) } toJSON(t) { const e = Object.create(null); return Dt.forEach(this, (n, r) => { n != null && n !== !1 && (e[r] = t && Dt.isArray(n) ? n.join(", ") : n) }), e } [Symbol.iterator]() { return Object.entries(this.toJSON())[Symbol.iterator]() } toString() {
    return Object.entries(this.toJSON()).map(([t, e]) => t + ": " + e).join(`
`)
  } getSetCookie() { return this.get("set-cookie") || [] } get [Symbol.toStringTag]() { return "AxiosHeaders" } static from(t) { return t instanceof this ? t : new this(t) } static concat(t, ...e) { const n = new this(t); return e.forEach(r => n.set(r)), n } static accessor(t) { const n = (this[W5] = this[W5] = { accessors: {} }).accessors, r = this.prototype; function s(o) { const c = $f(o); n[c] || (kT(r, o), n[c] = !0) } return Dt.isArray(t) ? t.forEach(s) : s(t), this }
}; bs.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]); Dt.reduceDescriptors(bs.prototype, ({ value: i }, t) => { let e = t[0].toUpperCase() + t.slice(1); return { get: () => i, set(n) { this[e] = n } } }); Dt.freezeMethods(bs); function l1(i, t) { const e = this || kp, n = t || e, r = bs.from(n.headers); let s = n.data; return Dt.forEach(i, function (c) { s = c.call(e, s, r.normalize(), t ? t.status : void 0) }), r.normalize(), s } function IA(i) { return !!(i && i.__CANCEL__) } function zd(i, t, e) { qe.call(this, i ?? "canceled", qe.ERR_CANCELED, t, e), this.name = "CanceledError" } Dt.inherits(zd, qe, { __CANCEL__: !0 }); function FA(i, t, e) { const n = e.config.validateStatus; !e.status || !n || n(e.status) ? i(e) : t(new qe("Request failed with status code " + e.status, [qe.ERR_BAD_REQUEST, qe.ERR_BAD_RESPONSE][Math.floor(e.status / 100) - 4], e.config, e.request, e)) } function DT(i) { const t = /^([-+\w]{1,25})(:?\/\/|:)/.exec(i); return t && t[1] || "" } function jT(i, t) { i = i || 10; const e = new Array(i), n = new Array(i); let r = 0, s = 0, o; return t = t !== void 0 ? t : 1e3, function (u) { const d = Date.now(), f = n[s]; o || (o = d), e[r] = u, n[r] = d; let p = s, m = 0; for (; p !== r;)m += e[p++], p = p % i; if (r = (r + 1) % i, r === s && (s = (s + 1) % i), d - o < t) return; const v = f && d - f; return v ? Math.round(m * 1e3 / v) : void 0 } } function IT(i, t) { let e = 0, n = 1e3 / t, r, s; const o = (d, f = Date.now()) => { e = f, r = null, s && (clearTimeout(s), s = null), i(...d) }; return [(...d) => { const f = Date.now(), p = f - e; p >= n ? o(d, f) : (r = d, s || (s = setTimeout(() => { s = null, o(r) }, n - p))) }, () => r && o(r)] } const $m = (i, t, e = 3) => { let n = 0; const r = jT(50, 250); return IT(s => { const o = s.loaded, c = s.lengthComputable ? s.total : void 0, u = o - n, d = r(u), f = o <= c; n = o; const p = { loaded: o, total: c, progress: c ? o / c : void 0, bytes: u, rate: d || void 0, estimated: d && c && f ? (c - o) / d : void 0, event: s, lengthComputable: c != null, [t ? "download" : "upload"]: !0 }; i(p) }, e) }, Y5 = (i, t) => { const e = i != null; return [n => t[0]({ lengthComputable: e, total: i, loaded: n }), t[1]] }, X5 = i => (...t) => Dt.asap(() => i(...t)), FT = Ur.hasStandardBrowserEnv ? ((i, t) => e => (e = new URL(e, Ur.origin), i.protocol === e.protocol && i.host === e.host && (t || i.port === e.port)))(new URL(Ur.origin), Ur.navigator && /(msie|trident)/i.test(Ur.navigator.userAgent)) : () => !0, BT = Ur.hasStandardBrowserEnv ? { write(i, t, e, n, r, s) { const o = [i + "=" + encodeURIComponent(t)]; Dt.isNumber(e) && o.push("expires=" + new Date(e).toGMTString()), Dt.isString(n) && o.push("path=" + n), Dt.isString(r) && o.push("domain=" + r), s === !0 && o.push("secure"), document.cookie = o.join("; ") }, read(i) { const t = document.cookie.match(new RegExp("(^|;\\s*)(" + i + ")=([^;]*)")); return t ? decodeURIComponent(t[3]) : null }, remove(i) { this.write(i, "", Date.now() - 864e5) } } : { write() { }, read() { return null }, remove() { } }; function zT(i) { return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(i) } function UT(i, t) { return t ? i.replace(/\/?\/$/, "") + "/" + t.replace(/^\/+/, "") : i } function BA(i, t, e) { let n = !zT(t); return i && (n || e == !1) ? UT(i, t) : t } const K5 = i => i instanceof bs ? { ...i } : i; function ih(i, t) { t = t || {}; const e = {}; function n(d, f, p, m) { return Dt.isPlainObject(d) && Dt.isPlainObject(f) ? Dt.merge.call({ caseless: m }, d, f) : Dt.isPlainObject(f) ? Dt.merge({}, f) : Dt.isArray(f) ? f.slice() : f } function r(d, f, p, m) { if (Dt.isUndefined(f)) { if (!Dt.isUndefined(d)) return n(void 0, d, p, m) } else return n(d, f, p, m) } function s(d, f) { if (!Dt.isUndefined(f)) return n(void 0, f) } function o(d, f) { if (Dt.isUndefined(f)) { if (!Dt.isUndefined(d)) return n(void 0, d) } else return n(void 0, f) } function c(d, f, p) { if (p in t) return n(d, f); if (p in i) return n(void 0, d) } const u = { url: s, method: s, data: s, baseURL: o, transformRequest: o, transformResponse: o, paramsSerializer: o, timeout: o, timeoutMessage: o, withCredentials: o, withXSRFToken: o, adapter: o, responseType: o, xsrfCookieName: o, xsrfHeaderName: o, onUploadProgress: o, onDownloadProgress: o, decompress: o, maxContentLength: o, maxBodyLength: o, beforeRedirect: o, transport: o, httpAgent: o, httpsAgent: o, cancelToken: o, socketPath: o, responseEncoding: o, validateStatus: c, headers: (d, f, p) => r(K5(d), K5(f), p, !0) }; return Dt.forEach(Object.keys({ ...i, ...t }), function (f) { const p = u[f] || r, m = p(i[f], t[f], f); Dt.isUndefined(m) && p !== c || (e[f] = m) }), e } const zA = i => { const t = ih({}, i); let { data: e, withXSRFToken: n, xsrfHeaderName: r, xsrfCookieName: s, headers: o, auth: c } = t; t.headers = o = bs.from(o), t.url = kA(BA(t.baseURL, t.url, t.allowAbsoluteUrls), i.params, i.paramsSerializer), c && o.set("Authorization", "Basic " + btoa((c.username || "") + ":" + (c.password ? unescape(encodeURIComponent(c.password)) : ""))); let u; if (Dt.isFormData(e)) { if (Ur.hasStandardBrowserEnv || Ur.hasStandardBrowserWebWorkerEnv) o.setContentType(void 0); else if ((u = o.getContentType()) !== !1) { const [d, ...f] = u ? u.split(";").map(p => p.trim()).filter(Boolean) : []; o.setContentType([d || "multipart/form-data", ...f].join("; ")) } } if (Ur.hasStandardBrowserEnv && (n && Dt.isFunction(n) && (n = n(t)), n || n !== !1 && FT(t.url))) { const d = r && s && BT.read(s); d && o.set(r, d) } return t }, HT = typeof XMLHttpRequest < "u", qT = HT && function (i) { return new Promise(function (e, n) { const r = zA(i); let s = r.data; const o = bs.from(r.headers).normalize(); let { responseType: c, onUploadProgress: u, onDownloadProgress: d } = r, f, p, m, v, x; function y() { v && v(), x && x(), r.cancelToken && r.cancelToken.unsubscribe(f), r.signal && r.signal.removeEventListener("abort", f) } let E = new XMLHttpRequest; E.open(r.method.toUpperCase(), r.url, !0), E.timeout = r.timeout; function A() { if (!E) return; const L = bs.from("getAllResponseHeaders" in E && E.getAllResponseHeaders()), O = { data: !c || c === "text" || c === "json" ? E.responseText : E.response, status: E.status, statusText: E.statusText, headers: L, config: i, request: E }; FA(function (D) { e(D), y() }, function (D) { n(D), y() }, O), E = null } "onloadend" in E ? E.onloadend = A : E.onreadystatechange = function () { !E || E.readyState !== 4 || E.status === 0 && !(E.responseURL && E.responseURL.indexOf("file:") === 0) || setTimeout(A) }, E.onabort = function () { E && (n(new qe("Request aborted", qe.ECONNABORTED, i, E)), E = null) }, E.onerror = function () { n(new qe("Network Error", qe.ERR_NETWORK, i, E)), E = null }, E.ontimeout = function () { let k = r.timeout ? "timeout of " + r.timeout + "ms exceeded" : "timeout exceeded"; const O = r.transitional || DA; r.timeoutErrorMessage && (k = r.timeoutErrorMessage), n(new qe(k, O.clarifyTimeoutError ? qe.ETIMEDOUT : qe.ECONNABORTED, i, E)), E = null }, s === void 0 && o.setContentType(null), "setRequestHeader" in E && Dt.forEach(o.toJSON(), function (k, O) { E.setRequestHeader(O, k) }), Dt.isUndefined(r.withCredentials) || (E.withCredentials = !!r.withCredentials), c && c !== "json" && (E.responseType = r.responseType), d && ([m, x] = $m(d, !0), E.addEventListener("progress", m)), u && E.upload && ([p, v] = $m(u), E.upload.addEventListener("progress", p), E.upload.addEventListener("loadend", v)), (r.cancelToken || r.signal) && (f = L => { E && (n(!L || L.type ? new zd(null, i, E) : L), E.abort(), E = null) }, r.cancelToken && r.cancelToken.subscribe(f), r.signal && (r.signal.aborted ? f() : r.signal.addEventListener("abort", f))); const T = DT(r.url); if (T && Ur.protocols.indexOf(T) === -1) { n(new qe("Unsupported protocol " + T + ":", qe.ERR_BAD_REQUEST, i)); return } E.send(s || null) }) }, VT = (i, t) => { const { length: e } = i = i ? i.filter(Boolean) : []; if (t || e) { let n = new AbortController, r; const s = function (d) { if (!r) { r = !0, c(); const f = d instanceof Error ? d : this.reason; n.abort(f instanceof qe ? f : new zd(f instanceof Error ? f.message : f)) } }; let o = t && setTimeout(() => { o = null, s(new qe(`timeout ${t} of ms exceeded`, qe.ETIMEDOUT)) }, t); const c = () => { i && (o && clearTimeout(o), o = null, i.forEach(d => { d.unsubscribe ? d.unsubscribe(s) : d.removeEventListener("abort", s) }), i = null) }; i.forEach(d => d.addEventListener("abort", s)); const { signal: u } = n; return u.unsubscribe = () => Dt.asap(c), u } }, GT = function* (i, t) { let e = i.byteLength; if (e < t) { yield i; return } let n = 0, r; for (; n < e;)r = n + t, yield i.slice(n, r), n = r }, $T = async function* (i, t) { for await (const e of WT(i)) yield* GT(e, t) }, WT = async function* (i) { if (i[Symbol.asyncIterator]) { yield* i; return } const t = i.getReader(); try { for (; ;) { const { done: e, value: n } = await t.read(); if (e) break; yield n } } finally { await t.cancel() } }, Q5 = (i, t, e, n) => { const r = $T(i, t); let s = 0, o, c = u => { o || (o = !0, n && n(u)) }; return new ReadableStream({ async pull(u) { try { const { done: d, value: f } = await r.next(); if (d) { c(), u.close(); return } let p = f.byteLength; if (e) { let m = s += p; e(m) } u.enqueue(new Uint8Array(f)) } catch (d) { throw c(d), d } }, cancel(u) { return c(u), r.return() } }, { highWaterMark: 2 }) }, d0 = typeof fetch == "function" && typeof Request == "function" && typeof Response == "function", UA = d0 && typeof ReadableStream == "function", YT = d0 && (typeof TextEncoder == "function" ? (i => t => i.encode(t))(new TextEncoder) : async i => new Uint8Array(await new Response(i).arrayBuffer())), HA = (i, ...t) => { try { return !!i(...t) } catch { return !1 } }, XT = UA && HA(() => { let i = !1; const t = new Request(Ur.origin, { body: new ReadableStream, method: "POST", get duplex() { return i = !0, "half" } }).headers.has("Content-Type"); return i && !t }), Z5 = 64 * 1024, eb = UA && HA(() => Dt.isReadableStream(new Response("").body)), Wm = { stream: eb && (i => i.body) }; d0 && (i => { ["text", "arrayBuffer", "blob", "formData", "stream"].forEach(t => { !Wm[t] && (Wm[t] = Dt.isFunction(i[t]) ? e => e[t]() : (e, n) => { throw new qe(`Response type '${t}' is not supported`, qe.ERR_NOT_SUPPORT, n) }) }) })(new Response); const KT = async i => { if (i == null) return 0; if (Dt.isBlob(i)) return i.size; if (Dt.isSpecCompliantForm(i)) return (await new Request(Ur.origin, { method: "POST", body: i }).arrayBuffer()).byteLength; if (Dt.isArrayBufferView(i) || Dt.isArrayBuffer(i)) return i.byteLength; if (Dt.isURLSearchParams(i) && (i = i + ""), Dt.isString(i)) return (await YT(i)).byteLength }, QT = async (i, t) => { const e = Dt.toFiniteNumber(i.getContentLength()); return e ?? KT(t) }, ZT = d0 && (async i => { let { url: t, method: e, data: n, signal: r, cancelToken: s, timeout: o, onDownloadProgress: c, onUploadProgress: u, responseType: d, headers: f, withCredentials: p = "same-origin", fetchOptions: m } = zA(i); d = d ? (d + "").toLowerCase() : "text"; let v = VT([r, s && s.toAbortSignal()], o), x; const y = v && v.unsubscribe && (() => { v.unsubscribe() }); let E; try { if (u && XT && e !== "get" && e !== "head" && (E = await QT(f, n)) !== 0) { let O = new Request(t, { method: "POST", body: n, duplex: "half" }), F; if (Dt.isFormData(n) && (F = O.headers.get("content-type")) && f.setContentType(F), O.body) { const [D, j] = Y5(E, $m(X5(u))); n = Q5(O.body, Z5, D, j) } } Dt.isString(p) || (p = p ? "include" : "omit"); const A = "credentials" in Request.prototype; x = new Request(t, { ...m, signal: v, method: e.toUpperCase(), headers: f.normalize().toJSON(), body: n, duplex: "half", credentials: A ? p : void 0 }); let T = await fetch(x, m); const L = eb && (d === "stream" || d === "response"); if (eb && (c || L && y)) { const O = {};["status", "statusText", "headers"].forEach(J => { O[J] = T[J] }); const F = Dt.toFiniteNumber(T.headers.get("content-length")), [D, j] = c && Y5(F, $m(X5(c), !0)) || []; T = new Response(Q5(T.body, Z5, D, () => { j && j(), y && y() }), O) } d = d || "text"; let k = await Wm[Dt.findKey(Wm, d) || "text"](T, i); return !L && y && y(), await new Promise((O, F) => { FA(O, F, { data: k, headers: bs.from(T.headers), status: T.status, statusText: T.statusText, config: i, request: x }) }) } catch (A) { throw y && y(), A && A.name === "TypeError" && /Load failed|fetch/i.test(A.message) ? Object.assign(new qe("Network Error", qe.ERR_NETWORK, i, x), { cause: A.cause || A }) : qe.from(A, A && A.code, i, x) } }), nb = { http: fT, xhr: qT, fetch: ZT }; Dt.forEach(nb, (i, t) => { if (i) { try { Object.defineProperty(i, "name", { value: t }) } catch { } Object.defineProperty(i, "adapterName", { value: t }) } }); const J5 = i => `- ${i}`, JT = i => Dt.isFunction(i) || i === null || i === !1, qA = {
  getAdapter: i => {
    i = Dt.isArray(i) ? i : [i]; const { length: t } = i; let e, n; const r = {}; for (let s = 0; s < t; s++) { e = i[s]; let o; if (n = e, !JT(e) && (n = nb[(o = String(e)).toLowerCase()], n === void 0)) throw new qe(`Unknown adapter '${o}'`); if (n) break; r[o || "#" + s] = n } if (!n) {
      const s = Object.entries(r).map(([c, u]) => `adapter ${c} ` + (u === !1 ? "is not supported by the environment" : "is not available in the build")); let o = t ? s.length > 1 ? `since :
`+ s.map(J5).join(`
`) : " " + J5(s[0]) : "as no adapter specified"; throw new qe("There is no suitable adapter to dispatch the request " + o, "ERR_NOT_SUPPORT")
    } return n
  }, adapters: nb
}; function c1(i) { if (i.cancelToken && i.cancelToken.throwIfRequested(), i.signal && i.signal.aborted) throw new zd(null, i) } function tx(i) { return c1(i), i.headers = bs.from(i.headers), i.data = l1.call(i, i.transformRequest), ["post", "put", "patch"].indexOf(i.method) !== -1 && i.headers.setContentType("application/x-www-form-urlencoded", !1), qA.getAdapter(i.adapter || kp.adapter)(i).then(function (n) { return c1(i), n.data = l1.call(i, i.transformResponse, n), n.headers = bs.from(n.headers), n }, function (n) { return IA(n) || (c1(i), n && n.response && (n.response.data = l1.call(i, i.transformResponse, n.response), n.response.headers = bs.from(n.response.headers))), Promise.reject(n) }) } const VA = "1.11.0", f0 = {};["object", "boolean", "number", "function", "string", "symbol"].forEach((i, t) => { f0[i] = function (n) { return typeof n === i || "a" + (t < 1 ? "n " : " ") + i } }); const ex = {}; f0.transitional = function (t, e, n) { function r(s, o) { return "[Axios v" + VA + "] Transitional option '" + s + "'" + o + (n ? ". " + n : "") } return (s, o, c) => { if (t === !1) throw new qe(r(o, " has been removed" + (e ? " in " + e : "")), qe.ERR_DEPRECATED); return e && !ex[o] && (ex[o] = !0, console.warn(r(o, " has been deprecated since v" + e + " and will be removed in the near future"))), t ? t(s, o, c) : !0 } }; f0.spelling = function (t) { return (e, n) => (console.warn(`${n} is likely a misspelling of ${t}`), !0) }; function tL(i, t, e) { if (typeof i != "object") throw new qe("options must be an object", qe.ERR_BAD_OPTION_VALUE); const n = Object.keys(i); let r = n.length; for (; r-- > 0;) { const s = n[r], o = t[s]; if (o) { const c = i[s], u = c === void 0 || o(c, s, i); if (u !== !0) throw new qe("option " + s + " must be " + u, qe.ERR_BAD_OPTION_VALUE); continue } if (e !== !0) throw new qe("Unknown option " + s, qe.ERR_BAD_OPTION) } } const Rm = { assertOptions: tL, validators: f0 }, Oo = Rm.validators; let Ju = class {
  constructor(t) { this.defaults = t || {}, this.interceptors = { request: new $5, response: new $5 } } async request(t, e) {
    try { return await this._request(t, e) } catch (n) {
      if (n instanceof Error) {
        let r = {}; Error.captureStackTrace ? Error.captureStackTrace(r) : r = new Error; const s = r.stack ? r.stack.replace(/^.+\n/, "") : ""; try {
          n.stack ? s && !String(n.stack).endsWith(s.replace(/^.+\n.+\n/, "")) && (n.stack += `
`+ s) : n.stack = s
        } catch { }
      } throw n
    }
  } _request(t, e) { typeof t == "string" ? (e = e || {}, e.url = t) : e = t || {}, e = ih(this.defaults, e); const { transitional: n, paramsSerializer: r, headers: s } = e; n !== void 0 && Rm.assertOptions(n, { silentJSONParsing: Oo.transitional(Oo.boolean), forcedJSONParsing: Oo.transitional(Oo.boolean), clarifyTimeoutError: Oo.transitional(Oo.boolean) }, !1), r != null && (Dt.isFunction(r) ? e.paramsSerializer = { serialize: r } : Rm.assertOptions(r, { encode: Oo.function, serialize: Oo.function }, !0)), e.allowAbsoluteUrls !== void 0 || (this.defaults.allowAbsoluteUrls !== void 0 ? e.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls : e.allowAbsoluteUrls = !0), Rm.assertOptions(e, { baseUrl: Oo.spelling("baseURL"), withXsrfToken: Oo.spelling("withXSRFToken") }, !0), e.method = (e.method || this.defaults.method || "get").toLowerCase(); let o = s && Dt.merge(s.common, s[e.method]); s && Dt.forEach(["delete", "get", "head", "post", "put", "patch", "common"], x => { delete s[x] }), e.headers = bs.concat(o, s); const c = []; let u = !0; this.interceptors.request.forEach(function (y) { typeof y.runWhen == "function" && y.runWhen(e) === !1 || (u = u && y.synchronous, c.unshift(y.fulfilled, y.rejected)) }); const d = []; this.interceptors.response.forEach(function (y) { d.push(y.fulfilled, y.rejected) }); let f, p = 0, m; if (!u) { const x = [tx.bind(this), void 0]; for (x.unshift(...c), x.push(...d), m = x.length, f = Promise.resolve(e); p < m;)f = f.then(x[p++], x[p++]); return f } m = c.length; let v = e; for (p = 0; p < m;) { const x = c[p++], y = c[p++]; try { v = x(v) } catch (E) { y.call(this, E); break } } try { f = tx.call(this, v) } catch (x) { return Promise.reject(x) } for (p = 0, m = d.length; p < m;)f = f.then(d[p++], d[p++]); return f } getUri(t) { t = ih(this.defaults, t); const e = BA(t.baseURL, t.url, t.allowAbsoluteUrls); return kA(e, t.params, t.paramsSerializer) }
}; Dt.forEach(["delete", "get", "head", "options"], function (t) { Ju.prototype[t] = function (e, n) { return this.request(ih(n || {}, { method: t, url: e, data: (n || {}).data })) } }); Dt.forEach(["post", "put", "patch"], function (t) { function e(n) { return function (s, o, c) { return this.request(ih(c || {}, { method: t, headers: n ? { "Content-Type": "multipart/form-data" } : {}, url: s, data: o })) } } Ju.prototype[t] = e(), Ju.prototype[t + "Form"] = e(!0) }); let eL = class GA { constructor(t) { if (typeof t != "function") throw new TypeError("executor must be a function."); let e; this.promise = new Promise(function (s) { e = s }); const n = this; this.promise.then(r => { if (!n._listeners) return; let s = n._listeners.length; for (; s-- > 0;)n._listeners[s](r); n._listeners = null }), this.promise.then = r => { let s; const o = new Promise(c => { n.subscribe(c), s = c }).then(r); return o.cancel = function () { n.unsubscribe(s) }, o }, t(function (s, o, c) { n.reason || (n.reason = new zd(s, o, c), e(n.reason)) }) } throwIfRequested() { if (this.reason) throw this.reason } subscribe(t) { if (this.reason) { t(this.reason); return } this._listeners ? this._listeners.push(t) : this._listeners = [t] } unsubscribe(t) { if (!this._listeners) return; const e = this._listeners.indexOf(t); e !== -1 && this._listeners.splice(e, 1) } toAbortSignal() { const t = new AbortController, e = n => { t.abort(n) }; return this.subscribe(e), t.signal.unsubscribe = () => this.unsubscribe(e), t.signal } static source() { let t; return { token: new GA(function (r) { t = r }), cancel: t } } }; function nL(i) { return function (e) { return i.apply(null, e) } } function iL(i) { return Dt.isObject(i) && i.isAxiosError === !0 } const ib = { Continue: 100, SwitchingProtocols: 101, Processing: 102, EarlyHints: 103, Ok: 200, Created: 201, Accepted: 202, NonAuthoritativeInformation: 203, NoContent: 204, ResetContent: 205, PartialContent: 206, MultiStatus: 207, AlreadyReported: 208, ImUsed: 226, MultipleChoices: 300, MovedPermanently: 301, Found: 302, SeeOther: 303, NotModified: 304, UseProxy: 305, Unused: 306, TemporaryRedirect: 307, PermanentRedirect: 308, BadRequest: 400, Unauthorized: 401, PaymentRequired: 402, Forbidden: 403, NotFound: 404, MethodNotAllowed: 405, NotAcceptable: 406, ProxyAuthenticationRequired: 407, RequestTimeout: 408, Conflict: 409, Gone: 410, LengthRequired: 411, PreconditionFailed: 412, PayloadTooLarge: 413, UriTooLong: 414, UnsupportedMediaType: 415, RangeNotSatisfiable: 416, ExpectationFailed: 417, ImATeapot: 418, MisdirectedRequest: 421, UnprocessableEntity: 422, Locked: 423, FailedDependency: 424, TooEarly: 425, UpgradeRequired: 426, PreconditionRequired: 428, TooManyRequests: 429, RequestHeaderFieldsTooLarge: 431, UnavailableForLegalReasons: 451, InternalServerError: 500, NotImplemented: 501, BadGateway: 502, ServiceUnavailable: 503, GatewayTimeout: 504, HttpVersionNotSupported: 505, VariantAlsoNegotiates: 506, InsufficientStorage: 507, LoopDetected: 508, NotExtended: 510, NetworkAuthenticationRequired: 511 }; Object.entries(ib).forEach(([i, t]) => { ib[t] = i }); function $A(i) { const t = new Ju(i), e = SA(Ju.prototype.request, t); return Dt.extend(e, Ju.prototype, t, { allOwnKeys: !0 }), Dt.extend(e, t, null, { allOwnKeys: !0 }), e.create = function (r) { return $A(ih(i, r)) }, e } const Oi = $A(kp); Oi.Axios = Ju; Oi.CanceledError = zd; Oi.CancelToken = eL; Oi.isCancel = IA; Oi.VERSION = VA; Oi.toFormData = h0; Oi.AxiosError = qe; Oi.Cancel = Oi.CanceledError; Oi.all = function (t) { return Promise.all(t) }; Oi.spread = nL; Oi.isAxiosError = iL; Oi.mergeConfig = ih; Oi.AxiosHeaders = bs; Oi.formToJSON = i => jA(Dt.isHTMLForm(i) ? new FormData(i) : i); Oi.getAdapter = qA.getAdapter; Oi.HttpStatusCode = ib; Oi.default = Oi; const { Axios: J9, AxiosError: tz, CanceledError: ez, isCancel: nz, CancelToken: iz, VERSION: rz, all: sz, Cancel: az, isAxiosError: oz, spread: lz, toFormData: cz, AxiosHeaders: uz, HttpStatusCode: hz, formToJSON: dz, getAdapter: fz, mergeConfig: pz } = Oi, rL = "https://192.168.0.7:5555", qn = Oi.create({ baseURL: `${rL}/api/v1` }); qn.interceptors.request.use(i => (i.data instanceof FormData ? delete i.headers["Content-Type"] : i.headers["Content-Type"] = "application/json", i)); qn.interceptors.request.use(i => { const t = localStorage.getItem("token"); return t && (i.headers.Authorization = `Bearer ${t}`), i }); qn.interceptors.response.use(i => i, i => (i.response?.status === 401 && (localStorage.removeItem("token"), localStorage.removeItem("user"), window.location.href = "/login"), Promise.reject(i))); const sL = i => qn.post("/auth/login", i), aL = i => qn.post("/auth/password-reset", i), oL = (i, t) => qn.post(`/auth/password-reset/${i}`, t), lL = i => qn.post("/user/register", i), cL = i => qn.post("/user/self-register", i), uL = i => qn.post("/user/review-registration", i), hL = (i, t) => qn.put(`/user/status/${i}`, t), dL = (i, t) => qn.put(`/user/roles/${i}`, t), fL = () => qn.get("/user"), pL = (i, t) => qn.put(`/user/${i}`, t), fh = M.createContext(), gL = ({ children: i }) => { const t = Tp(), [e, n] = M.useState(JSON.parse(localStorage.getItem("user")) || null), r = Us({ mutationFn: sL, onSuccess: ({ data: o }) => { localStorage.setItem("token", o.data.token), localStorage.setItem("user", JSON.stringify(o.data.user)), n(o.data.user) } }), s = Us({ mutationFn: () => { localStorage.removeItem("token"), localStorage.removeItem("user"), n(null), t.clear(), window.location.href = "/login" } }); return N.jsx(fh.Provider, { value: { user: e, setUser: n, login: r.mutate, logout: s.mutate, isLoading: r.isLoading || s.isLoading, error: r.error || s.error }, children: i }) }, mL = new hR({ defaultOptions: { queries: { retry: 1, refetchOnWindowFocus: !1 } } });/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nx = "popstate"; function vL(i = {}) { function t(n, r) { let { pathname: s, search: o, hash: c } = n.location; return rb("", { pathname: s, search: o, hash: c }, r.state && r.state.usr || null, r.state && r.state.key || "default") } function e(n, r) { return typeof r == "string" ? r : gp(r) } return yL(t, e, null, i) } function li(i, t) { if (i === !1 || i === null || typeof i > "u") throw new Error(t) } function Ha(i, t) { if (!i) { typeof console < "u" && console.warn(t); try { throw new Error(t) } catch { } } } function bL() { return Math.random().toString(36).substring(2, 10) } function ix(i, t) { return { usr: i.state, key: i.key, idx: t } } function rb(i, t, e = null, n) { return { pathname: typeof i == "string" ? i : i.pathname, search: "", hash: "", ...typeof t == "string" ? Ud(t) : t, state: e, key: t && t.key || n || bL() } } function gp({ pathname: i = "/", search: t = "", hash: e = "" }) { return t && t !== "?" && (i += t.charAt(0) === "?" ? t : "?" + t), e && e !== "#" && (i += e.charAt(0) === "#" ? e : "#" + e), i } function Ud(i) { let t = {}; if (i) { let e = i.indexOf("#"); e >= 0 && (t.hash = i.substring(e), i = i.substring(0, e)); let n = i.indexOf("?"); n >= 0 && (t.search = i.substring(n), i = i.substring(0, n)), i && (t.pathname = i) } return t } function yL(i, t, e, n = {}) { let { window: r = document.defaultView, v5Compat: s = !1 } = n, o = r.history, c = "POP", u = null, d = f(); d == null && (d = 0, o.replaceState({ ...o.state, idx: d }, "")); function f() { return (o.state || { idx: null }).idx } function p() { c = "POP"; let E = f(), A = E == null ? null : E - d; d = E, u && u({ action: c, location: y.location, delta: A }) } function m(E, A) { c = "PUSH"; let T = rb(y.location, E, A); d = f() + 1; let L = ix(T, d), k = y.createHref(T); try { o.pushState(L, "", k) } catch (O) { if (O instanceof DOMException && O.name === "DataCloneError") throw O; r.location.assign(k) } s && u && u({ action: c, location: y.location, delta: 1 }) } function v(E, A) { c = "REPLACE"; let T = rb(y.location, E, A); d = f(); let L = ix(T, d), k = y.createHref(T); o.replaceState(L, "", k), s && u && u({ action: c, location: y.location, delta: 0 }) } function x(E) { return wL(E) } let y = { get action() { return c }, get location() { return i(r, o) }, listen(E) { if (u) throw new Error("A history only accepts one active listener"); return r.addEventListener(nx, p), u = E, () => { r.removeEventListener(nx, p), u = null } }, createHref(E) { return t(r, E) }, createURL: x, encodeLocation(E) { let A = x(E); return { pathname: A.pathname, search: A.search, hash: A.hash } }, push: m, replace: v, go(E) { return o.go(E) } }; return y } function wL(i, t = !1) { let e = "http://localhost"; typeof window < "u" && (e = window.location.origin !== "null" ? window.location.origin : window.location.href), li(e, "No window.location.(origin|href) available to create URL"); let n = typeof i == "string" ? i : gp(i); return n = n.replace(/ $/, "%20"), !t && n.startsWith("//") && (n = e + n), new URL(n, e) } function WA(i, t, e = "/") { return xL(i, t, e, !1) } function xL(i, t, e, n) { let r = typeof t == "string" ? Ud(t) : t, s = jl(r.pathname || "/", e); if (s == null) return null; let o = YA(i); SL(o); let c = null; for (let u = 0; c == null && u < o.length; ++u) { let d = OL(s); c = ML(o[u], d, n) } return c } function YA(i, t = [], e = [], n = "") { let r = (s, o, c) => { let u = { relativePath: c === void 0 ? s.path || "" : c, caseSensitive: s.caseSensitive === !0, childrenIndex: o, route: s }; u.relativePath.startsWith("/") && (li(u.relativePath.startsWith(n), `Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`), u.relativePath = u.relativePath.slice(n.length)); let d = Dl([n, u.relativePath]), f = e.concat(u); s.children && s.children.length > 0 && (li(s.index !== !0, `Index routes must not have child routes. Please remove all child routes from route path "${d}".`), YA(s.children, t, f, d)), !(s.path == null && !s.index) && t.push({ path: d, score: TL(d, s.index), routesMeta: f }) }; return i.forEach((s, o) => { if (s.path === "" || !s.path?.includes("?")) r(s, o); else for (let c of XA(s.path)) r(s, o, c) }), t } function XA(i) { let t = i.split("/"); if (t.length === 0) return []; let [e, ...n] = t, r = e.endsWith("?"), s = e.replace(/\?$/, ""); if (n.length === 0) return r ? [s, ""] : [s]; let o = XA(n.join("/")), c = []; return c.push(...o.map(u => u === "" ? s : [s, u].join("/"))), r && c.push(...o), c.map(u => i.startsWith("/") && u === "" ? "/" : u) } function SL(i) { i.sort((t, e) => t.score !== e.score ? e.score - t.score : LL(t.routesMeta.map(n => n.childrenIndex), e.routesMeta.map(n => n.childrenIndex))) } var AL = /^:[\w-]+$/, EL = 3, _L = 2, CL = 1, NL = 10, RL = -2, rx = i => i === "*"; function TL(i, t) { let e = i.split("/"), n = e.length; return e.some(rx) && (n += RL), t && (n += _L), e.filter(r => !rx(r)).reduce((r, s) => r + (AL.test(s) ? EL : s === "" ? CL : NL), n) } function LL(i, t) { return i.length === t.length && i.slice(0, -1).every((n, r) => n === t[r]) ? i[i.length - 1] - t[t.length - 1] : 0 } function ML(i, t, e = !1) { let { routesMeta: n } = i, r = {}, s = "/", o = []; for (let c = 0; c < n.length; ++c) { let u = n[c], d = c === n.length - 1, f = s === "/" ? t : t.slice(s.length) || "/", p = Ym({ path: u.relativePath, caseSensitive: u.caseSensitive, end: d }, f), m = u.route; if (!p && d && e && !n[n.length - 1].route.index && (p = Ym({ path: u.relativePath, caseSensitive: u.caseSensitive, end: !1 }, f)), !p) return null; Object.assign(r, p.params), o.push({ params: r, pathname: Dl([s, p.pathname]), pathnameBase: IL(Dl([s, p.pathnameBase])), route: m }), p.pathnameBase !== "/" && (s = Dl([s, p.pathnameBase])) } return o } function Ym(i, t) { typeof i == "string" && (i = { path: i, caseSensitive: !1, end: !0 }); let [e, n] = PL(i.path, i.caseSensitive, i.end), r = t.match(e); if (!r) return null; let s = r[0], o = s.replace(/(.)\/+$/, "$1"), c = r.slice(1); return { params: n.reduce((d, { paramName: f, isOptional: p }, m) => { if (f === "*") { let x = c[m] || ""; o = s.slice(0, s.length - x.length).replace(/(.)\/+$/, "$1") } const v = c[m]; return p && !v ? d[f] = void 0 : d[f] = (v || "").replace(/%2F/g, "/"), d }, {}), pathname: s, pathnameBase: o, pattern: i } } function PL(i, t = !1, e = !0) { Ha(i === "*" || !i.endsWith("*") || i.endsWith("/*"), `Route path "${i}" will be treated as if it were "${i.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/, "/*")}".`); let n = [], r = "^" + i.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (o, c, u) => (n.push({ paramName: c, isOptional: u != null }), u ? "/?([^\\/]+)?" : "/([^\\/]+)")); return i.endsWith("*") ? (n.push({ paramName: "*" }), r += i === "*" || i === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : e ? r += "\\/*$" : i !== "" && i !== "/" && (r += "(?:(?=\\/|$))"), [new RegExp(r, t ? void 0 : "i"), n] } function OL(i) { try { return i.split("/").map(t => decodeURIComponent(t).replace(/\//g, "%2F")).join("/") } catch (t) { return Ha(!1, `The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`), i } } function jl(i, t) { if (t === "/") return i; if (!i.toLowerCase().startsWith(t.toLowerCase())) return null; let e = t.endsWith("/") ? t.length - 1 : t.length, n = i.charAt(e); return n && n !== "/" ? null : i.slice(e) || "/" } function kL(i, t = "/") { let { pathname: e, search: n = "", hash: r = "" } = typeof i == "string" ? Ud(i) : i; return { pathname: e ? e.startsWith("/") ? e : DL(e, t) : t, search: FL(n), hash: BL(r) } } function DL(i, t) { let e = t.replace(/\/+$/, "").split("/"); return i.split("/").forEach(r => { r === ".." ? e.length > 1 && e.pop() : r !== "." && e.push(r) }), e.length > 1 ? e.join("/") : "/" } function u1(i, t, e, n) { return `Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.` } function jL(i) { return i.filter((t, e) => e === 0 || t.route.path && t.route.path.length > 0) } function cy(i) { let t = jL(i); return t.map((e, n) => n === t.length - 1 ? e.pathname : e.pathnameBase) } function uy(i, t, e, n = !1) { let r; typeof i == "string" ? r = Ud(i) : (r = { ...i }, li(!r.pathname || !r.pathname.includes("?"), u1("?", "pathname", "search", r)), li(!r.pathname || !r.pathname.includes("#"), u1("#", "pathname", "hash", r)), li(!r.search || !r.search.includes("#"), u1("#", "search", "hash", r))); let s = i === "" || r.pathname === "", o = s ? "/" : r.pathname, c; if (o == null) c = e; else { let p = t.length - 1; if (!n && o.startsWith("..")) { let m = o.split("/"); for (; m[0] === "..";)m.shift(), p -= 1; r.pathname = m.join("/") } c = p >= 0 ? t[p] : "/" } let u = kL(r, c), d = o && o !== "/" && o.endsWith("/"), f = (s || o === ".") && e.endsWith("/"); return !u.pathname.endsWith("/") && (d || f) && (u.pathname += "/"), u } var Dl = i => i.join("/").replace(/\/\/+/g, "/"), IL = i => i.replace(/\/+$/, "").replace(/^\/*/, "/"), FL = i => !i || i === "?" ? "" : i.startsWith("?") ? i : "?" + i, BL = i => !i || i === "#" ? "" : i.startsWith("#") ? i : "#" + i; function zL(i) { return i != null && typeof i.status == "number" && typeof i.statusText == "string" && typeof i.internal == "boolean" && "data" in i } var KA = ["POST", "PUT", "PATCH", "DELETE"]; new Set(KA); var UL = ["GET", ...KA]; new Set(UL); var Hd = M.createContext(null); Hd.displayName = "DataRouter"; var p0 = M.createContext(null); p0.displayName = "DataRouterState"; M.createContext(!1); var QA = M.createContext({ isTransitioning: !1 }); QA.displayName = "ViewTransition"; var HL = M.createContext(new Map); HL.displayName = "Fetchers"; var qL = M.createContext(null); qL.displayName = "Await"; var Wa = M.createContext(null); Wa.displayName = "Navigation"; var Dp = M.createContext(null); Dp.displayName = "Location"; var ca = M.createContext({ outlet: null, matches: [], isDataRoute: !1 }); ca.displayName = "Route"; var hy = M.createContext(null); hy.displayName = "RouteError"; function VL(i, { relative: t } = {}) { li(qd(), "useHref() may be used only in the context of a <Router> component."); let { basename: e, navigator: n } = M.useContext(Wa), { hash: r, pathname: s, search: o } = Ip(i, { relative: t }), c = s; return e !== "/" && (c = s === "/" ? e : Dl([e, s])), n.createHref({ pathname: c, search: o, hash: r }) } function qd() { return M.useContext(Dp) != null } function Ul() { return li(qd(), "useLocation() may be used only in the context of a <Router> component."), M.useContext(Dp).location } var ZA = "You should call navigate() in a React.useEffect(), not when your component is first rendered."; function JA(i) { M.useContext(Wa).static || M.useLayoutEffect(i) } function jp() { let { isDataRoute: i } = M.useContext(ca); return i ? a6() : GL() } function GL() { li(qd(), "useNavigate() may be used only in the context of a <Router> component."); let i = M.useContext(Hd), { basename: t, navigator: e } = M.useContext(Wa), { matches: n } = M.useContext(ca), { pathname: r } = Ul(), s = JSON.stringify(cy(n)), o = M.useRef(!1); return JA(() => { o.current = !0 }), M.useCallback((u, d = {}) => { if (Ha(o.current, ZA), !o.current) return; if (typeof u == "number") { e.go(u); return } let f = uy(u, JSON.parse(s), r, d.relative === "path"); i == null && t !== "/" && (f.pathname = f.pathname === "/" ? t : Dl([t, f.pathname])), (d.replace ? e.replace : e.push)(f, d.state, d) }, [t, e, s, r, i]) } var $L = M.createContext(null); function WL(i) { let t = M.useContext(ca).outlet; return t && M.createElement($L.Provider, { value: i }, t) } function YL() { let { matches: i } = M.useContext(ca), t = i[i.length - 1]; return t ? t.params : {} } function Ip(i, { relative: t } = {}) { let { matches: e } = M.useContext(ca), { pathname: n } = Ul(), r = JSON.stringify(cy(e)); return M.useMemo(() => uy(i, JSON.parse(r), n, t === "path"), [i, r, n, t]) } function XL(i, t) { return tE(i, t) } function tE(i, t, e, n) {
  li(qd(), "useRoutes() may be used only in the context of a <Router> component."); let { navigator: r } = M.useContext(Wa), { matches: s } = M.useContext(ca), o = s[s.length - 1], c = o ? o.params : {}, u = o ? o.pathname : "/", d = o ? o.pathnameBase : "/", f = o && o.route; {
    let A = f && f.path || ""; eE(u, !f || A.endsWith("*") || A.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A === "/" ? "*" : `${A}/*`}">.`)
  } let p = Ul(), m; if (t) { let A = typeof t == "string" ? Ud(t) : t; li(d === "/" || A.pathname?.startsWith(d), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`), m = A } else m = p; let v = m.pathname || "/", x = v; if (d !== "/") { let A = d.replace(/^\//, "").split("/"); x = "/" + v.replace(/^\//, "").split("/").slice(A.length).join("/") } let y = WA(i, { pathname: x }); Ha(f || y != null, `No routes matched location "${m.pathname}${m.search}${m.hash}" `), Ha(y == null || y[y.length - 1].route.element !== void 0 || y[y.length - 1].route.Component !== void 0 || y[y.length - 1].route.lazy !== void 0, `Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`); let E = t6(y && y.map(A => Object.assign({}, A, { params: Object.assign({}, c, A.params), pathname: Dl([d, r.encodeLocation ? r.encodeLocation(A.pathname).pathname : A.pathname]), pathnameBase: A.pathnameBase === "/" ? d : Dl([d, r.encodeLocation ? r.encodeLocation(A.pathnameBase).pathname : A.pathnameBase]) })), s, e, n); return t && E ? M.createElement(Dp.Provider, { value: { location: { pathname: "/", search: "", hash: "", state: null, key: "default", ...m }, navigationType: "POP" } }, E) : E
} function KL() { let i = s6(), t = zL(i) ? `${i.status} ${i.statusText}` : i instanceof Error ? i.message : JSON.stringify(i), e = i instanceof Error ? i.stack : null, n = "rgba(200,200,200, 0.5)", r = { padding: "0.5rem", backgroundColor: n }, s = { padding: "2px 4px", backgroundColor: n }, o = null; return console.error("Error handled by React Router default ErrorBoundary:", i), o = M.createElement(M.Fragment, null, M.createElement("p", null, "💿 Hey developer 👋"), M.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", M.createElement("code", { style: s }, "ErrorBoundary"), " or", " ", M.createElement("code", { style: s }, "errorElement"), " prop on your route.")), M.createElement(M.Fragment, null, M.createElement("h2", null, "Unexpected Application Error!"), M.createElement("h3", { style: { fontStyle: "italic" } }, t), e ? M.createElement("pre", { style: r }, e) : null, o) } var QL = M.createElement(KL, null), ZL = class extends M.Component { constructor(i) { super(i), this.state = { location: i.location, revalidation: i.revalidation, error: i.error } } static getDerivedStateFromError(i) { return { error: i } } static getDerivedStateFromProps(i, t) { return t.location !== i.location || t.revalidation !== "idle" && i.revalidation === "idle" ? { error: i.error, location: i.location, revalidation: i.revalidation } : { error: i.error !== void 0 ? i.error : t.error, location: t.location, revalidation: i.revalidation || t.revalidation } } componentDidCatch(i, t) { console.error("React Router caught the following error during render", i, t) } render() { return this.state.error !== void 0 ? M.createElement(ca.Provider, { value: this.props.routeContext }, M.createElement(hy.Provider, { value: this.state.error, children: this.props.component })) : this.props.children } }; function JL({ routeContext: i, match: t, children: e }) { let n = M.useContext(Hd); return n && n.static && n.staticContext && (t.route.errorElement || t.route.ErrorBoundary) && (n.staticContext._deepestRenderedBoundaryId = t.route.id), M.createElement(ca.Provider, { value: i }, e) } function t6(i, t = [], e = null, n = null) { if (i == null) { if (!e) return null; if (e.errors) i = e.matches; else if (t.length === 0 && !e.initialized && e.matches.length > 0) i = e.matches; else return null } let r = i, s = e?.errors; if (s != null) { let u = r.findIndex(d => d.route.id && s?.[d.route.id] !== void 0); li(u >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`), r = r.slice(0, Math.min(r.length, u + 1)) } let o = !1, c = -1; if (e) for (let u = 0; u < r.length; u++) { let d = r[u]; if ((d.route.HydrateFallback || d.route.hydrateFallbackElement) && (c = u), d.route.id) { let { loaderData: f, errors: p } = e, m = d.route.loader && !f.hasOwnProperty(d.route.id) && (!p || p[d.route.id] === void 0); if (d.route.lazy || m) { o = !0, c >= 0 ? r = r.slice(0, c + 1) : r = [r[0]]; break } } } return r.reduceRight((u, d, f) => { let p, m = !1, v = null, x = null; e && (p = s && d.route.id ? s[d.route.id] : void 0, v = d.route.errorElement || QL, o && (c < 0 && f === 0 ? (eE("route-fallback", !1, "No `HydrateFallback` element provided to render during initial hydration"), m = !0, x = null) : c === f && (m = !0, x = d.route.hydrateFallbackElement || null))); let y = t.concat(r.slice(0, f + 1)), E = () => { let A; return p ? A = v : m ? A = x : d.route.Component ? A = M.createElement(d.route.Component, null) : d.route.element ? A = d.route.element : A = u, M.createElement(JL, { match: d, routeContext: { outlet: u, matches: y, isDataRoute: e != null }, children: A }) }; return e && (d.route.ErrorBoundary || d.route.errorElement || f === 0) ? M.createElement(ZL, { location: e.location, revalidation: e.revalidation, component: v, error: p, children: E(), routeContext: { outlet: null, matches: y, isDataRoute: !0 } }) : E() }, null) } function dy(i) { return `${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function e6(i) { let t = M.useContext(Hd); return li(t, dy(i)), t } function n6(i) { let t = M.useContext(p0); return li(t, dy(i)), t } function i6(i) { let t = M.useContext(ca); return li(t, dy(i)), t } function fy(i) { let t = i6(i), e = t.matches[t.matches.length - 1]; return li(e.route.id, `${i} can only be used on routes that contain a unique "id"`), e.route.id } function r6() { return fy("useRouteId") } function s6() { let i = M.useContext(hy), t = n6("useRouteError"), e = fy("useRouteError"); return i !== void 0 ? i : t.errors?.[e] } function a6() { let { router: i } = e6("useNavigate"), t = fy("useNavigate"), e = M.useRef(!1); return JA(() => { e.current = !0 }), M.useCallback(async (r, s = {}) => { Ha(e.current, ZA), e.current && (typeof r == "number" ? i.navigate(r) : await i.navigate(r, { fromRouteId: t, ...s })) }, [i, t]) } var sx = {}; function eE(i, t, e) { !t && !sx[i] && (sx[i] = !0, Ha(!1, e)) } M.memo(o6); function o6({ routes: i, future: t, state: e }) { return tE(i, void 0, e, t) } function sb({ to: i, replace: t, state: e, relative: n }) { li(qd(), "<Navigate> may be used only in the context of a <Router> component."); let { static: r } = M.useContext(Wa); Ha(!r, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change."); let { matches: s } = M.useContext(ca), { pathname: o } = Ul(), c = jp(), u = uy(i, cy(s), o, n === "path"), d = JSON.stringify(u); return M.useEffect(() => { c(JSON.parse(d), { replace: t, state: e, relative: n }) }, [c, d, n, t, e]), null } function nE(i) { return WL(i.context) } function Xi(i) { li(!1, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") } function l6({ basename: i = "/", children: t = null, location: e, navigationType: n = "POP", navigator: r, static: s = !1 }) { li(!qd(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app."); let o = i.replace(/^\/*/, "/"), c = M.useMemo(() => ({ basename: o, navigator: r, static: s, future: {} }), [o, r, s]); typeof e == "string" && (e = Ud(e)); let { pathname: u = "/", search: d = "", hash: f = "", state: p = null, key: m = "default" } = e, v = M.useMemo(() => { let x = jl(u, o); return x == null ? null : { location: { pathname: x, search: d, hash: f, state: p, key: m }, navigationType: n } }, [o, u, d, f, p, m, n]); return Ha(v != null, `<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`), v == null ? null : M.createElement(Wa.Provider, { value: c }, M.createElement(Dp.Provider, { children: t, value: v })) } function c6({ children: i, location: t }) { return XL(ab(i), t) } function ab(i, t = []) { let e = []; return M.Children.forEach(i, (n, r) => { if (!M.isValidElement(n)) return; let s = [...t, r]; if (n.type === M.Fragment) { e.push.apply(e, ab(n.props.children, s)); return } li(n.type === Xi, `[${typeof n.type == "string" ? n.type : n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`), li(!n.props.index || !n.props.children, "An index route cannot have child routes."); let o = { id: n.props.id || s.join("-"), caseSensitive: n.props.caseSensitive, element: n.props.element, Component: n.props.Component, index: n.props.index, path: n.props.path, loader: n.props.loader, action: n.props.action, hydrateFallbackElement: n.props.hydrateFallbackElement, HydrateFallback: n.props.HydrateFallback, errorElement: n.props.errorElement, ErrorBoundary: n.props.ErrorBoundary, hasErrorBoundary: n.props.hasErrorBoundary === !0 || n.props.ErrorBoundary != null || n.props.errorElement != null, shouldRevalidate: n.props.shouldRevalidate, handle: n.props.handle, lazy: n.props.lazy }; n.props.children && (o.children = ab(n.props.children, s)), e.push(o) }), e } var Tm = "get", Lm = "application/x-www-form-urlencoded"; function g0(i) { return i != null && typeof i.tagName == "string" } function u6(i) { return g0(i) && i.tagName.toLowerCase() === "button" } function h6(i) { return g0(i) && i.tagName.toLowerCase() === "form" } function d6(i) { return g0(i) && i.tagName.toLowerCase() === "input" } function f6(i) { return !!(i.metaKey || i.altKey || i.ctrlKey || i.shiftKey) } function p6(i, t) { return i.button === 0 && (!t || t === "_self") && !f6(i) } var nm = null; function g6() { if (nm === null) try { new FormData(document.createElement("form"), 0), nm = !1 } catch { nm = !0 } return nm } var m6 = new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]); function h1(i) { return i != null && !m6.has(i) ? (Ha(!1, `"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lm}"`), null) : i } function v6(i, t) { let e, n, r, s, o; if (h6(i)) { let c = i.getAttribute("action"); n = c ? jl(c, t) : null, e = i.getAttribute("method") || Tm, r = h1(i.getAttribute("enctype")) || Lm, s = new FormData(i) } else if (u6(i) || d6(i) && (i.type === "submit" || i.type === "image")) { let c = i.form; if (c == null) throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>'); let u = i.getAttribute("formaction") || c.getAttribute("action"); if (n = u ? jl(u, t) : null, e = i.getAttribute("formmethod") || c.getAttribute("method") || Tm, r = h1(i.getAttribute("formenctype")) || h1(c.getAttribute("enctype")) || Lm, s = new FormData(c, i), !g6()) { let { name: d, type: f, value: p } = i; if (f === "image") { let m = d ? `${d}.` : ""; s.append(`${m}x`, "0"), s.append(`${m}y`, "0") } else d && s.append(d, p) } } else { if (g0(i)) throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">'); e = Tm, n = null, r = Lm, o = i } return s && r === "text/plain" && (o = s, s = void 0), { action: n, method: e.toLowerCase(), encType: r, formData: s, body: o } } Object.getOwnPropertyNames(Object.prototype).sort().join("\0"); function py(i, t) { if (i === !1 || i === null || typeof i > "u") throw new Error(t) } function b6(i, t, e) { let n = typeof i == "string" ? new URL(i, typeof window > "u" ? "server://singlefetch/" : window.location.origin) : i; return n.pathname === "/" ? n.pathname = `_root.${e}` : t && jl(n.pathname, t) === "/" ? n.pathname = `${t.replace(/\/$/, "")}/_root.${e}` : n.pathname = `${n.pathname.replace(/\/$/, "")}.${e}`, n } async function y6(i, t) { if (i.id in t) return t[i.id]; try { let e = await import(i.module); return t[i.id] = e, e } catch (e) { return console.error(`Error loading route module \`${i.module}\`, reloading page...`), console.error(e), window.__reactRouterContext && window.__reactRouterContext.isSpaMode, window.location.reload(), new Promise(() => { }) } } function w6(i) { return i == null ? !1 : i.href == null ? i.rel === "preload" && typeof i.imageSrcSet == "string" && typeof i.imageSizes == "string" : typeof i.rel == "string" && typeof i.href == "string" } async function x6(i, t, e) { let n = await Promise.all(i.map(async r => { let s = t.routes[r.route.id]; if (s) { let o = await y6(s, e); return o.links ? o.links() : [] } return [] })); return _6(n.flat(1).filter(w6).filter(r => r.rel === "stylesheet" || r.rel === "preload").map(r => r.rel === "stylesheet" ? { ...r, rel: "prefetch", as: "style" } : { ...r, rel: "prefetch" })) } function ax(i, t, e, n, r, s) { let o = (u, d) => e[d] ? u.route.id !== e[d].route.id : !0, c = (u, d) => e[d].pathname !== u.pathname || e[d].route.path?.endsWith("*") && e[d].params["*"] !== u.params["*"]; return s === "assets" ? t.filter((u, d) => o(u, d) || c(u, d)) : s === "data" ? t.filter((u, d) => { let f = n.routes[u.route.id]; if (!f || !f.hasLoader) return !1; if (o(u, d) || c(u, d)) return !0; if (u.route.shouldRevalidate) { let p = u.route.shouldRevalidate({ currentUrl: new URL(r.pathname + r.search + r.hash, window.origin), currentParams: e[0]?.params || {}, nextUrl: new URL(i, window.origin), nextParams: u.params, defaultShouldRevalidate: !0 }); if (typeof p == "boolean") return p } return !0 }) : [] } function S6(i, t, { includeHydrateFallback: e } = {}) { return A6(i.map(n => { let r = t.routes[n.route.id]; if (!r) return []; let s = [r.module]; return r.clientActionModule && (s = s.concat(r.clientActionModule)), r.clientLoaderModule && (s = s.concat(r.clientLoaderModule)), e && r.hydrateFallbackModule && (s = s.concat(r.hydrateFallbackModule)), r.imports && (s = s.concat(r.imports)), s }).flat(1)) } function A6(i) { return [...new Set(i)] } function E6(i) { let t = {}, e = Object.keys(i).sort(); for (let n of e) t[n] = i[n]; return t } function _6(i, t) { let e = new Set; return new Set(t), i.reduce((n, r) => { let s = JSON.stringify(E6(r)); return e.has(s) || (e.add(s), n.push({ key: s, link: r })), n }, []) } function iE() { let i = M.useContext(Hd); return py(i, "You must render this element inside a <DataRouterContext.Provider> element"), i } function C6() { let i = M.useContext(p0); return py(i, "You must render this element inside a <DataRouterStateContext.Provider> element"), i } var gy = M.createContext(void 0); gy.displayName = "FrameworkContext"; function rE() { let i = M.useContext(gy); return py(i, "You must render this element inside a <HydratedRouter> element"), i } function N6(i, t) { let e = M.useContext(gy), [n, r] = M.useState(!1), [s, o] = M.useState(!1), { onFocus: c, onBlur: u, onMouseEnter: d, onMouseLeave: f, onTouchStart: p } = t, m = M.useRef(null); M.useEffect(() => { if (i === "render" && o(!0), i === "viewport") { let y = A => { A.forEach(T => { o(T.isIntersecting) }) }, E = new IntersectionObserver(y, { threshold: .5 }); return m.current && E.observe(m.current), () => { E.disconnect() } } }, [i]), M.useEffect(() => { if (n) { let y = setTimeout(() => { o(!0) }, 100); return () => { clearTimeout(y) } } }, [n]); let v = () => { r(!0) }, x = () => { r(!1), o(!1) }; return e ? i !== "intent" ? [s, m, {}] : [s, m, { onFocus: Wf(c, v), onBlur: Wf(u, x), onMouseEnter: Wf(d, v), onMouseLeave: Wf(f, x), onTouchStart: Wf(p, v) }] : [!1, m, {}] } function Wf(i, t) { return e => { i && i(e), e.defaultPrevented || t(e) } } function R6({ page: i, ...t }) { let { router: e } = iE(), n = M.useMemo(() => WA(e.routes, i, e.basename), [e.routes, i, e.basename]); return n ? M.createElement(L6, { page: i, matches: n, ...t }) : null } function T6(i) { let { manifest: t, routeModules: e } = rE(), [n, r] = M.useState([]); return M.useEffect(() => { let s = !1; return x6(i, t, e).then(o => { s || r(o) }), () => { s = !0 } }, [i, t, e]), n } function L6({ page: i, matches: t, ...e }) { let n = Ul(), { manifest: r, routeModules: s } = rE(), { basename: o } = iE(), { loaderData: c, matches: u } = C6(), d = M.useMemo(() => ax(i, t, u, r, n, "data"), [i, t, u, r, n]), f = M.useMemo(() => ax(i, t, u, r, n, "assets"), [i, t, u, r, n]), p = M.useMemo(() => { if (i === n.pathname + n.search + n.hash) return []; let x = new Set, y = !1; if (t.forEach(A => { let T = r.routes[A.route.id]; !T || !T.hasLoader || (!d.some(L => L.route.id === A.route.id) && A.route.id in c && s[A.route.id]?.shouldRevalidate || T.hasClientLoader ? y = !0 : x.add(A.route.id)) }), x.size === 0) return []; let E = b6(i, o, "data"); return y && x.size > 0 && E.searchParams.set("_routes", t.filter(A => x.has(A.route.id)).map(A => A.route.id).join(",")), [E.pathname + E.search] }, [o, c, n, r, d, t, i, s]), m = M.useMemo(() => S6(f, r), [f, r]), v = T6(f); return M.createElement(M.Fragment, null, p.map(x => M.createElement("link", { key: x, rel: "prefetch", as: "fetch", href: x, ...e })), m.map(x => M.createElement("link", { key: x, rel: "modulepreload", href: x, ...e })), v.map(({ key: x, link: y }) => M.createElement("link", { key: x, ...y }))) } function M6(...i) { return t => { i.forEach(e => { typeof e == "function" ? e(t) : e != null && (e.current = t) }) } } var sE = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u"; try { sE && (window.__reactRouterVersion = "7.7.1") } catch { } function P6({ basename: i, children: t, window: e }) { let n = M.useRef(); n.current == null && (n.current = vL({ window: e, v5Compat: !0 })); let r = n.current, [s, o] = M.useState({ action: r.action, location: r.location }), c = M.useCallback(u => { M.startTransition(() => o(u)) }, [o]); return M.useLayoutEffect(() => r.listen(c), [r, c]), M.createElement(l6, { basename: i, children: t, location: s.location, navigationType: s.action, navigator: r }) } var aE = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, fr = M.forwardRef(function ({ onClick: t, discover: e = "render", prefetch: n = "none", relative: r, reloadDocument: s, replace: o, state: c, target: u, to: d, preventScrollReset: f, viewTransition: p, ...m }, v) { let { basename: x } = M.useContext(Wa), y = typeof d == "string" && aE.test(d), E, A = !1; if (typeof d == "string" && y && (E = d, sE)) try { let J = new URL(window.location.href), ot = d.startsWith("//") ? new URL(J.protocol + d) : new URL(d), z = jl(ot.pathname, x); ot.origin === J.origin && z != null ? d = z + ot.search + ot.hash : A = !0 } catch { Ha(!1, `<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`) } let T = VL(d, { relative: r }), [L, k, O] = N6(n, m), F = j6(d, { replace: o, state: c, target: u, preventScrollReset: f, relative: r, viewTransition: p }); function D(J) { t && t(J), J.defaultPrevented || F(J) } let j = M.createElement("a", { ...m, ...O, href: E || T, onClick: A || s ? t : D, ref: M6(v, k), target: u, "data-discover": !y && e === "render" ? "true" : void 0 }); return L && !y ? M.createElement(M.Fragment, null, j, M.createElement(R6, { page: T })) : j }); fr.displayName = "Link"; var O6 = M.forwardRef(function ({ "aria-current": t = "page", caseSensitive: e = !1, className: n = "", end: r = !1, style: s, to: o, viewTransition: c, children: u, ...d }, f) { let p = Ip(o, { relative: d.relative }), m = Ul(), v = M.useContext(p0), { navigator: x, basename: y } = M.useContext(Wa), E = v != null && U6(p) && c === !0, A = x.encodeLocation ? x.encodeLocation(p).pathname : p.pathname, T = m.pathname, L = v && v.navigation && v.navigation.location ? v.navigation.location.pathname : null; e || (T = T.toLowerCase(), L = L ? L.toLowerCase() : null, A = A.toLowerCase()), L && y && (L = jl(L, y) || L); const k = A !== "/" && A.endsWith("/") ? A.length - 1 : A.length; let O = T === A || !r && T.startsWith(A) && T.charAt(k) === "/", F = L != null && (L === A || !r && L.startsWith(A) && L.charAt(A.length) === "/"), D = { isActive: O, isPending: F, isTransitioning: E }, j = O ? t : void 0, J; typeof n == "function" ? J = n(D) : J = [n, O ? "active" : null, F ? "pending" : null, E ? "transitioning" : null].filter(Boolean).join(" "); let ot = typeof s == "function" ? s(D) : s; return M.createElement(fr, { ...d, "aria-current": j, className: J, ref: f, style: ot, to: o, viewTransition: c }, typeof u == "function" ? u(D) : u) }); O6.displayName = "NavLink"; var k6 = M.forwardRef(({ discover: i = "render", fetcherKey: t, navigate: e, reloadDocument: n, replace: r, state: s, method: o = Tm, action: c, onSubmit: u, relative: d, preventScrollReset: f, viewTransition: p, ...m }, v) => { let x = B6(), y = z6(c, { relative: d }), E = o.toLowerCase() === "get" ? "get" : "post", A = typeof c == "string" && aE.test(c), T = L => { if (u && u(L), L.defaultPrevented) return; L.preventDefault(); let k = L.nativeEvent.submitter, O = k?.getAttribute("formmethod") || o; x(k || L.currentTarget, { fetcherKey: t, method: O, navigate: e, replace: r, state: s, relative: d, preventScrollReset: f, viewTransition: p }) }; return M.createElement("form", { ref: v, method: E, action: y, onSubmit: n ? u : T, ...m, "data-discover": !A && i === "render" ? "true" : void 0 }) }); k6.displayName = "Form"; function D6(i) { return `${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function oE(i) { let t = M.useContext(Hd); return li(t, D6(i)), t } function j6(i, { target: t, replace: e, state: n, preventScrollReset: r, relative: s, viewTransition: o } = {}) { let c = jp(), u = Ul(), d = Ip(i, { relative: s }); return M.useCallback(f => { if (p6(f, t)) { f.preventDefault(); let p = e !== void 0 ? e : gp(u) === gp(d); c(i, { replace: p, state: n, preventScrollReset: r, relative: s, viewTransition: o }) } }, [u, c, d, e, n, t, i, r, s, o]) } var I6 = 0, F6 = () => `__${String(++I6)}__`; function B6() { let { router: i } = oE("useSubmit"), { basename: t } = M.useContext(Wa), e = r6(); return M.useCallback(async (n, r = {}) => { let { action: s, method: o, encType: c, formData: u, body: d } = v6(n, t); if (r.navigate === !1) { let f = r.fetcherKey || F6(); await i.fetch(f, e, r.action || s, { preventScrollReset: r.preventScrollReset, formData: u, body: d, formMethod: r.method || o, formEncType: r.encType || c, flushSync: r.flushSync }) } else await i.navigate(r.action || s, { preventScrollReset: r.preventScrollReset, formData: u, body: d, formMethod: r.method || o, formEncType: r.encType || c, replace: r.replace, state: r.state, fromRouteId: e, flushSync: r.flushSync, viewTransition: r.viewTransition }) }, [i, t, e]) } function z6(i, { relative: t } = {}) { let { basename: e } = M.useContext(Wa), n = M.useContext(ca); li(n, "useFormAction must be used inside a RouteContext"); let [r] = n.matches.slice(-1), s = { ...Ip(i || ".", { relative: t }) }, o = Ul(); if (i == null) { s.search = o.search; let c = new URLSearchParams(s.search), u = c.getAll("index"); if (u.some(f => f === "")) { c.delete("index"), u.filter(p => p).forEach(p => c.append("index", p)); let f = c.toString(); s.search = f ? `?${f}` : "" } } return (!i || i === ".") && r.route.index && (s.search = s.search ? s.search.replace(/^\?/, "?index&") : "?index"), e !== "/" && (s.pathname = s.pathname === "/" ? e : Dl([e, s.pathname])), gp(s) } function U6(i, { relative: t } = {}) { let e = M.useContext(QA); li(e != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"); let { basename: n } = oE("useViewTransitionState"), r = Ip(i, { relative: t }); if (!e.isTransitioning) return !1; let s = jl(e.currentLocation.pathname, n) || e.currentLocation.pathname, o = jl(e.nextLocation.pathname, n) || e.nextLocation.pathname; return Ym(r.pathname, o) != null || Ym(r.pathname, s) != null } var Fp = cA(); const lE = Np(Fp); function ox(i, t) { if (typeof i == "function") return i(t); i != null && (i.current = t) } function cE(...i) { return t => { let e = !1; const n = i.map(r => { const s = ox(r, t); return !e && typeof s == "function" && (e = !0), s }); if (e) return () => { for (let r = 0; r < n.length; r++) { const s = n[r]; typeof s == "function" ? s() : ox(i[r], null) } } } } function Vn(...i) { return M.useCallback(cE(...i), i) } function rh(i) { const t = H6(i), e = M.forwardRef((n, r) => { const { children: s, ...o } = n, c = M.Children.toArray(s), u = c.find(V6); if (u) { const d = u.props.children, f = c.map(p => p === u ? M.Children.count(d) > 1 ? M.Children.only(null) : M.isValidElement(d) ? d.props.children : null : p); return N.jsx(t, { ...o, ref: r, children: M.isValidElement(d) ? M.cloneElement(d, void 0, f) : null }) } return N.jsx(t, { ...o, ref: r, children: s }) }); return e.displayName = `${i}.Slot`, e } var m0 = rh("Slot"); function H6(i) { const t = M.forwardRef((e, n) => { const { children: r, ...s } = e; if (M.isValidElement(r)) { const o = $6(r), c = G6(s, r.props); return r.type !== M.Fragment && (c.ref = n ? cE(n, o) : o), M.cloneElement(r, c) } return M.Children.count(r) > 1 ? M.Children.only(null) : null }); return t.displayName = `${i}.SlotClone`, t } var uE = Symbol("radix.slottable"); function q6(i) { const t = ({ children: e }) => N.jsx(N.Fragment, { children: e }); return t.displayName = `${i}.Slottable`, t.__radixId = uE, t } function V6(i) { return M.isValidElement(i) && typeof i.type == "function" && "__radixId" in i.type && i.type.__radixId === uE } function G6(i, t) { const e = { ...t }; for (const n in t) { const r = i[n], s = t[n]; /^on[A-Z]/.test(n) ? r && s ? e[n] = (...c) => { const u = s(...c); return r(...c), u } : r && (e[n] = r) : n === "style" ? e[n] = { ...r, ...s } : n === "className" && (e[n] = [r, s].filter(Boolean).join(" ")) } return { ...i, ...e } } function $6(i) { let t = Object.getOwnPropertyDescriptor(i.props, "ref")?.get, e = t && "isReactWarning" in t && t.isReactWarning; return e ? i.ref : (t = Object.getOwnPropertyDescriptor(i, "ref")?.get, e = t && "isReactWarning" in t && t.isReactWarning, e ? i.props.ref : i.props.ref || i.ref) } function hE(i) { var t, e, n = ""; if (typeof i == "string" || typeof i == "number") n += i; else if (typeof i == "object") if (Array.isArray(i)) { var r = i.length; for (t = 0; t < r; t++)i[t] && (e = hE(i[t])) && (n && (n += " "), n += e) } else for (e in i) i[e] && (n && (n += " "), n += e); return n } function Vd() { for (var i, t, e = 0, n = "", r = arguments.length; e < r; e++)(i = arguments[e]) && (t = hE(i)) && (n && (n += " "), n += t); return n } const lx = i => typeof i == "boolean" ? `${i}` : i === 0 ? "0" : i, cx = Vd, my = (i, t) => e => { var n; if (t?.variants == null) return cx(i, e?.class, e?.className); const { variants: r, defaultVariants: s } = t, o = Object.keys(r).map(d => { const f = e?.[d], p = s?.[d]; if (f === null) return null; const m = lx(f) || lx(p); return r[d][m] }), c = e && Object.entries(e).reduce((d, f) => { let [p, m] = f; return m === void 0 || (d[p] = m), d }, {}), u = t == null || (n = t.compoundVariants) === null || n === void 0 ? void 0 : n.reduce((d, f) => { let { class: p, className: m, ...v } = f; return Object.entries(v).every(x => { let [y, E] = x; return Array.isArray(E) ? E.includes({ ...s, ...c }[y]) : { ...s, ...c }[y] === E }) ? [...d, p, m] : d }, []); return cx(i, o, u, e?.class, e?.className) }, vy = "-", W6 = i => { const t = X6(i), { conflictingClassGroups: e, conflictingClassGroupModifiers: n } = i; return { getClassGroupId: o => { const c = o.split(vy); return c[0] === "" && c.length !== 1 && c.shift(), dE(c, t) || Y6(o) }, getConflictingClassGroupIds: (o, c) => { const u = e[o] || []; return c && n[o] ? [...u, ...n[o]] : u } } }, dE = (i, t) => { if (i.length === 0) return t.classGroupId; const e = i[0], n = t.nextPart.get(e), r = n ? dE(i.slice(1), n) : void 0; if (r) return r; if (t.validators.length === 0) return; const s = i.join(vy); return t.validators.find(({ validator: o }) => o(s))?.classGroupId }, ux = /^\[(.+)\]$/, Y6 = i => { if (ux.test(i)) { const t = ux.exec(i)[1], e = t?.substring(0, t.indexOf(":")); if (e) return "arbitrary.." + e } }, X6 = i => { const { theme: t, classGroups: e } = i, n = { nextPart: new Map, validators: [] }; for (const r in e) ob(e[r], n, r, t); return n }, ob = (i, t, e, n) => { i.forEach(r => { if (typeof r == "string") { const s = r === "" ? t : hx(t, r); s.classGroupId = e; return } if (typeof r == "function") { if (K6(r)) { ob(r(n), t, e, n); return } t.validators.push({ validator: r, classGroupId: e }); return } Object.entries(r).forEach(([s, o]) => { ob(o, hx(t, s), e, n) }) }) }, hx = (i, t) => { let e = i; return t.split(vy).forEach(n => { e.nextPart.has(n) || e.nextPart.set(n, { nextPart: new Map, validators: [] }), e = e.nextPart.get(n) }), e }, K6 = i => i.isThemeGetter, Q6 = i => { if (i < 1) return { get: () => { }, set: () => { } }; let t = 0, e = new Map, n = new Map; const r = (s, o) => { e.set(s, o), t++, t > i && (t = 0, n = e, e = new Map) }; return { get(s) { let o = e.get(s); if (o !== void 0) return o; if ((o = n.get(s)) !== void 0) return r(s, o), o }, set(s, o) { e.has(s) ? e.set(s, o) : r(s, o) } } }, lb = "!", cb = ":", Z6 = cb.length, J6 = i => { const { prefix: t, experimentalParseClassName: e } = i; let n = r => { const s = []; let o = 0, c = 0, u = 0, d; for (let x = 0; x < r.length; x++) { let y = r[x]; if (o === 0 && c === 0) { if (y === cb) { s.push(r.slice(u, x)), u = x + Z6; continue } if (y === "/") { d = x; continue } } y === "[" ? o++ : y === "]" ? o-- : y === "(" ? c++ : y === ")" && c-- } const f = s.length === 0 ? r : r.substring(u), p = tM(f), m = p !== f, v = d && d > u ? d - u : void 0; return { modifiers: s, hasImportantModifier: m, baseClassName: p, maybePostfixModifierPosition: v } }; if (t) { const r = t + cb, s = n; n = o => o.startsWith(r) ? s(o.substring(r.length)) : { isExternal: !0, modifiers: [], hasImportantModifier: !1, baseClassName: o, maybePostfixModifierPosition: void 0 } } if (e) { const r = n; n = s => e({ className: s, parseClassName: r }) } return n }, tM = i => i.endsWith(lb) ? i.substring(0, i.length - 1) : i.startsWith(lb) ? i.substring(1) : i, eM = i => { const t = Object.fromEntries(i.orderSensitiveModifiers.map(n => [n, !0])); return n => { if (n.length <= 1) return n; const r = []; let s = []; return n.forEach(o => { o[0] === "[" || t[o] ? (r.push(...s.sort(), o), s = []) : s.push(o) }), r.push(...s.sort()), r } }, nM = i => ({ cache: Q6(i.cacheSize), parseClassName: J6(i), sortModifiers: eM(i), ...W6(i) }), iM = /\s+/, rM = (i, t) => { const { parseClassName: e, getClassGroupId: n, getConflictingClassGroupIds: r, sortModifiers: s } = t, o = [], c = i.trim().split(iM); let u = ""; for (let d = c.length - 1; d >= 0; d -= 1) { const f = c[d], { isExternal: p, modifiers: m, hasImportantModifier: v, baseClassName: x, maybePostfixModifierPosition: y } = e(f); if (p) { u = f + (u.length > 0 ? " " + u : u); continue } let E = !!y, A = n(E ? x.substring(0, y) : x); if (!A) { if (!E) { u = f + (u.length > 0 ? " " + u : u); continue } if (A = n(x), !A) { u = f + (u.length > 0 ? " " + u : u); continue } E = !1 } const T = s(m).join(":"), L = v ? T + lb : T, k = L + A; if (o.includes(k)) continue; o.push(k); const O = r(A, E); for (let F = 0; F < O.length; ++F) { const D = O[F]; o.push(L + D) } u = f + (u.length > 0 ? " " + u : u) } return u }; function sM() { let i = 0, t, e, n = ""; for (; i < arguments.length;)(t = arguments[i++]) && (e = fE(t)) && (n && (n += " "), n += e); return n } const fE = i => { if (typeof i == "string") return i; let t, e = ""; for (let n = 0; n < i.length; n++)i[n] && (t = fE(i[n])) && (e && (e += " "), e += t); return e }; function aM(i, ...t) { let e, n, r, s = o; function o(u) { const d = t.reduce((f, p) => p(f), i()); return e = nM(d), n = e.cache.get, r = e.cache.set, s = c, c(u) } function c(u) { const d = n(u); if (d) return d; const f = rM(u, e); return r(u, f), f } return function () { return s(sM.apply(null, arguments)) } } const Yi = i => { const t = e => e[i] || []; return t.isThemeGetter = !0, t }, pE = /^\[(?:(\w[\w-]*):)?(.+)\]$/i, gE = /^\((?:(\w[\w-]*):)?(.+)\)$/i, oM = /^\d+\/\d+$/, lM = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, cM = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, uM = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/, hM = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, dM = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/, id = i => oM.test(i), Ke = i => !!i && !Number.isNaN(Number(i)), Oc = i => !!i && Number.isInteger(Number(i)), d1 = i => i.endsWith("%") && Ke(i.slice(0, -1)), Ml = i => lM.test(i), fM = () => !0, pM = i => cM.test(i) && !uM.test(i), mE = () => !1, gM = i => hM.test(i), mM = i => dM.test(i), vM = i => !de(i) && !fe(i), bM = i => Gd(i, yE, mE), de = i => pE.test(i), zu = i => Gd(i, wE, pM), f1 = i => Gd(i, AM, Ke), dx = i => Gd(i, vE, mE), yM = i => Gd(i, bE, mM), im = i => Gd(i, xE, gM), fe = i => gE.test(i), Yf = i => $d(i, wE), wM = i => $d(i, EM), fx = i => $d(i, vE), xM = i => $d(i, yE), SM = i => $d(i, bE), rm = i => $d(i, xE, !0), Gd = (i, t, e) => { const n = pE.exec(i); return n ? n[1] ? t(n[1]) : e(n[2]) : !1 }, $d = (i, t, e = !1) => { const n = gE.exec(i); return n ? n[1] ? t(n[1]) : e : !1 }, vE = i => i === "position" || i === "percentage", bE = i => i === "image" || i === "url", yE = i => i === "length" || i === "size" || i === "bg-size", wE = i => i === "length", AM = i => i === "number", EM = i => i === "family-name", xE = i => i === "shadow", _M = () => { const i = Yi("color"), t = Yi("font"), e = Yi("text"), n = Yi("font-weight"), r = Yi("tracking"), s = Yi("leading"), o = Yi("breakpoint"), c = Yi("container"), u = Yi("spacing"), d = Yi("radius"), f = Yi("shadow"), p = Yi("inset-shadow"), m = Yi("text-shadow"), v = Yi("drop-shadow"), x = Yi("blur"), y = Yi("perspective"), E = Yi("aspect"), A = Yi("ease"), T = Yi("animate"), L = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], k = () => ["center", "top", "bottom", "left", "right", "top-left", "left-top", "top-right", "right-top", "bottom-right", "right-bottom", "bottom-left", "left-bottom"], O = () => [...k(), fe, de], F = () => ["auto", "hidden", "clip", "visible", "scroll"], D = () => ["auto", "contain", "none"], j = () => [fe, de, u], J = () => [id, "full", "auto", ...j()], ot = () => [Oc, "none", "subgrid", fe, de], z = () => ["auto", { span: ["full", Oc, fe, de] }, Oc, fe, de], G = () => [Oc, "auto", fe, de], it = () => ["auto", "min", "max", "fr", fe, de], nt = () => ["start", "end", "center", "between", "around", "evenly", "stretch", "baseline", "center-safe", "end-safe"], ht = () => ["start", "end", "center", "stretch", "center-safe", "end-safe"], U = () => ["auto", ...j()], tt = () => [id, "auto", "full", "dvw", "dvh", "lvw", "lvh", "svw", "svh", "min", "max", "fit", ...j()], Q = () => [i, fe, de], pt = () => [...k(), fx, dx, { position: [fe, de] }], Y = () => ["no-repeat", { repeat: ["", "x", "y", "space", "round"] }], ft = () => ["auto", "cover", "contain", xM, bM, { size: [fe, de] }], I = () => [d1, Yf, zu], V = () => ["", "none", "full", d, fe, de], Z = () => ["", Ke, Yf, zu], st = () => ["solid", "dashed", "dotted", "double"], at = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], ct = () => [Ke, d1, fx, dx], gt = () => ["", "none", x, fe, de], xt = () => ["none", Ke, fe, de], Tt = () => ["none", Ke, fe, de], kt = () => [Ke, fe, de], zt = () => [id, "full", ...j()]; return { cacheSize: 500, theme: { animate: ["spin", "ping", "pulse", "bounce"], aspect: ["video"], blur: [Ml], breakpoint: [Ml], color: [fM], container: [Ml], "drop-shadow": [Ml], ease: ["in", "out", "in-out"], font: [vM], "font-weight": ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black"], "inset-shadow": [Ml], leading: ["none", "tight", "snug", "normal", "relaxed", "loose"], perspective: ["dramatic", "near", "normal", "midrange", "distant", "none"], radius: [Ml], shadow: [Ml], spacing: ["px", Ke], text: [Ml], "text-shadow": [Ml], tracking: ["tighter", "tight", "normal", "wide", "wider", "widest"] }, classGroups: { aspect: [{ aspect: ["auto", "square", id, de, fe, E] }], container: ["container"], columns: [{ columns: [Ke, de, fe, c] }], "break-after": [{ "break-after": L() }], "break-before": [{ "break-before": L() }], "break-inside": [{ "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"] }], "box-decoration": [{ "box-decoration": ["slice", "clone"] }], box: [{ box: ["border", "content"] }], display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"], sr: ["sr-only", "not-sr-only"], float: [{ float: ["right", "left", "none", "start", "end"] }], clear: [{ clear: ["left", "right", "both", "none", "start", "end"] }], isolation: ["isolate", "isolation-auto"], "object-fit": [{ object: ["contain", "cover", "fill", "none", "scale-down"] }], "object-position": [{ object: O() }], overflow: [{ overflow: F() }], "overflow-x": [{ "overflow-x": F() }], "overflow-y": [{ "overflow-y": F() }], overscroll: [{ overscroll: D() }], "overscroll-x": [{ "overscroll-x": D() }], "overscroll-y": [{ "overscroll-y": D() }], position: ["static", "fixed", "absolute", "relative", "sticky"], inset: [{ inset: J() }], "inset-x": [{ "inset-x": J() }], "inset-y": [{ "inset-y": J() }], start: [{ start: J() }], end: [{ end: J() }], top: [{ top: J() }], right: [{ right: J() }], bottom: [{ bottom: J() }], left: [{ left: J() }], visibility: ["visible", "invisible", "collapse"], z: [{ z: [Oc, "auto", fe, de] }], basis: [{ basis: [id, "full", "auto", c, ...j()] }], "flex-direction": [{ flex: ["row", "row-reverse", "col", "col-reverse"] }], "flex-wrap": [{ flex: ["nowrap", "wrap", "wrap-reverse"] }], flex: [{ flex: [Ke, id, "auto", "initial", "none", de] }], grow: [{ grow: ["", Ke, fe, de] }], shrink: [{ shrink: ["", Ke, fe, de] }], order: [{ order: [Oc, "first", "last", "none", fe, de] }], "grid-cols": [{ "grid-cols": ot() }], "col-start-end": [{ col: z() }], "col-start": [{ "col-start": G() }], "col-end": [{ "col-end": G() }], "grid-rows": [{ "grid-rows": ot() }], "row-start-end": [{ row: z() }], "row-start": [{ "row-start": G() }], "row-end": [{ "row-end": G() }], "grid-flow": [{ "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"] }], "auto-cols": [{ "auto-cols": it() }], "auto-rows": [{ "auto-rows": it() }], gap: [{ gap: j() }], "gap-x": [{ "gap-x": j() }], "gap-y": [{ "gap-y": j() }], "justify-content": [{ justify: [...nt(), "normal"] }], "justify-items": [{ "justify-items": [...ht(), "normal"] }], "justify-self": [{ "justify-self": ["auto", ...ht()] }], "align-content": [{ content: ["normal", ...nt()] }], "align-items": [{ items: [...ht(), { baseline: ["", "last"] }] }], "align-self": [{ self: ["auto", ...ht(), { baseline: ["", "last"] }] }], "place-content": [{ "place-content": nt() }], "place-items": [{ "place-items": [...ht(), "baseline"] }], "place-self": [{ "place-self": ["auto", ...ht()] }], p: [{ p: j() }], px: [{ px: j() }], py: [{ py: j() }], ps: [{ ps: j() }], pe: [{ pe: j() }], pt: [{ pt: j() }], pr: [{ pr: j() }], pb: [{ pb: j() }], pl: [{ pl: j() }], m: [{ m: U() }], mx: [{ mx: U() }], my: [{ my: U() }], ms: [{ ms: U() }], me: [{ me: U() }], mt: [{ mt: U() }], mr: [{ mr: U() }], mb: [{ mb: U() }], ml: [{ ml: U() }], "space-x": [{ "space-x": j() }], "space-x-reverse": ["space-x-reverse"], "space-y": [{ "space-y": j() }], "space-y-reverse": ["space-y-reverse"], size: [{ size: tt() }], w: [{ w: [c, "screen", ...tt()] }], "min-w": [{ "min-w": [c, "screen", "none", ...tt()] }], "max-w": [{ "max-w": [c, "screen", "none", "prose", { screen: [o] }, ...tt()] }], h: [{ h: ["screen", "lh", ...tt()] }], "min-h": [{ "min-h": ["screen", "lh", "none", ...tt()] }], "max-h": [{ "max-h": ["screen", "lh", ...tt()] }], "font-size": [{ text: ["base", e, Yf, zu] }], "font-smoothing": ["antialiased", "subpixel-antialiased"], "font-style": ["italic", "not-italic"], "font-weight": [{ font: [n, fe, f1] }], "font-stretch": [{ "font-stretch": ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded", d1, de] }], "font-family": [{ font: [wM, de, t] }], "fvn-normal": ["normal-nums"], "fvn-ordinal": ["ordinal"], "fvn-slashed-zero": ["slashed-zero"], "fvn-figure": ["lining-nums", "oldstyle-nums"], "fvn-spacing": ["proportional-nums", "tabular-nums"], "fvn-fraction": ["diagonal-fractions", "stacked-fractions"], tracking: [{ tracking: [r, fe, de] }], "line-clamp": [{ "line-clamp": [Ke, "none", fe, f1] }], leading: [{ leading: [s, ...j()] }], "list-image": [{ "list-image": ["none", fe, de] }], "list-style-position": [{ list: ["inside", "outside"] }], "list-style-type": [{ list: ["disc", "decimal", "none", fe, de] }], "text-alignment": [{ text: ["left", "center", "right", "justify", "start", "end"] }], "placeholder-color": [{ placeholder: Q() }], "text-color": [{ text: Q() }], "text-decoration": ["underline", "overline", "line-through", "no-underline"], "text-decoration-style": [{ decoration: [...st(), "wavy"] }], "text-decoration-thickness": [{ decoration: [Ke, "from-font", "auto", fe, zu] }], "text-decoration-color": [{ decoration: Q() }], "underline-offset": [{ "underline-offset": [Ke, "auto", fe, de] }], "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"], "text-overflow": ["truncate", "text-ellipsis", "text-clip"], "text-wrap": [{ text: ["wrap", "nowrap", "balance", "pretty"] }], indent: [{ indent: j() }], "vertical-align": [{ align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", fe, de] }], whitespace: [{ whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"] }], break: [{ break: ["normal", "words", "all", "keep"] }], wrap: [{ wrap: ["break-word", "anywhere", "normal"] }], hyphens: [{ hyphens: ["none", "manual", "auto"] }], content: [{ content: ["none", fe, de] }], "bg-attachment": [{ bg: ["fixed", "local", "scroll"] }], "bg-clip": [{ "bg-clip": ["border", "padding", "content", "text"] }], "bg-origin": [{ "bg-origin": ["border", "padding", "content"] }], "bg-position": [{ bg: pt() }], "bg-repeat": [{ bg: Y() }], "bg-size": [{ bg: ft() }], "bg-image": [{ bg: ["none", { linear: [{ to: ["t", "tr", "r", "br", "b", "bl", "l", "tl"] }, Oc, fe, de], radial: ["", fe, de], conic: [Oc, fe, de] }, SM, yM] }], "bg-color": [{ bg: Q() }], "gradient-from-pos": [{ from: I() }], "gradient-via-pos": [{ via: I() }], "gradient-to-pos": [{ to: I() }], "gradient-from": [{ from: Q() }], "gradient-via": [{ via: Q() }], "gradient-to": [{ to: Q() }], rounded: [{ rounded: V() }], "rounded-s": [{ "rounded-s": V() }], "rounded-e": [{ "rounded-e": V() }], "rounded-t": [{ "rounded-t": V() }], "rounded-r": [{ "rounded-r": V() }], "rounded-b": [{ "rounded-b": V() }], "rounded-l": [{ "rounded-l": V() }], "rounded-ss": [{ "rounded-ss": V() }], "rounded-se": [{ "rounded-se": V() }], "rounded-ee": [{ "rounded-ee": V() }], "rounded-es": [{ "rounded-es": V() }], "rounded-tl": [{ "rounded-tl": V() }], "rounded-tr": [{ "rounded-tr": V() }], "rounded-br": [{ "rounded-br": V() }], "rounded-bl": [{ "rounded-bl": V() }], "border-w": [{ border: Z() }], "border-w-x": [{ "border-x": Z() }], "border-w-y": [{ "border-y": Z() }], "border-w-s": [{ "border-s": Z() }], "border-w-e": [{ "border-e": Z() }], "border-w-t": [{ "border-t": Z() }], "border-w-r": [{ "border-r": Z() }], "border-w-b": [{ "border-b": Z() }], "border-w-l": [{ "border-l": Z() }], "divide-x": [{ "divide-x": Z() }], "divide-x-reverse": ["divide-x-reverse"], "divide-y": [{ "divide-y": Z() }], "divide-y-reverse": ["divide-y-reverse"], "border-style": [{ border: [...st(), "hidden", "none"] }], "divide-style": [{ divide: [...st(), "hidden", "none"] }], "border-color": [{ border: Q() }], "border-color-x": [{ "border-x": Q() }], "border-color-y": [{ "border-y": Q() }], "border-color-s": [{ "border-s": Q() }], "border-color-e": [{ "border-e": Q() }], "border-color-t": [{ "border-t": Q() }], "border-color-r": [{ "border-r": Q() }], "border-color-b": [{ "border-b": Q() }], "border-color-l": [{ "border-l": Q() }], "divide-color": [{ divide: Q() }], "outline-style": [{ outline: [...st(), "none", "hidden"] }], "outline-offset": [{ "outline-offset": [Ke, fe, de] }], "outline-w": [{ outline: ["", Ke, Yf, zu] }], "outline-color": [{ outline: Q() }], shadow: [{ shadow: ["", "none", f, rm, im] }], "shadow-color": [{ shadow: Q() }], "inset-shadow": [{ "inset-shadow": ["none", p, rm, im] }], "inset-shadow-color": [{ "inset-shadow": Q() }], "ring-w": [{ ring: Z() }], "ring-w-inset": ["ring-inset"], "ring-color": [{ ring: Q() }], "ring-offset-w": [{ "ring-offset": [Ke, zu] }], "ring-offset-color": [{ "ring-offset": Q() }], "inset-ring-w": [{ "inset-ring": Z() }], "inset-ring-color": [{ "inset-ring": Q() }], "text-shadow": [{ "text-shadow": ["none", m, rm, im] }], "text-shadow-color": [{ "text-shadow": Q() }], opacity: [{ opacity: [Ke, fe, de] }], "mix-blend": [{ "mix-blend": [...at(), "plus-darker", "plus-lighter"] }], "bg-blend": [{ "bg-blend": at() }], "mask-clip": [{ "mask-clip": ["border", "padding", "content", "fill", "stroke", "view"] }, "mask-no-clip"], "mask-composite": [{ mask: ["add", "subtract", "intersect", "exclude"] }], "mask-image-linear-pos": [{ "mask-linear": [Ke] }], "mask-image-linear-from-pos": [{ "mask-linear-from": ct() }], "mask-image-linear-to-pos": [{ "mask-linear-to": ct() }], "mask-image-linear-from-color": [{ "mask-linear-from": Q() }], "mask-image-linear-to-color": [{ "mask-linear-to": Q() }], "mask-image-t-from-pos": [{ "mask-t-from": ct() }], "mask-image-t-to-pos": [{ "mask-t-to": ct() }], "mask-image-t-from-color": [{ "mask-t-from": Q() }], "mask-image-t-to-color": [{ "mask-t-to": Q() }], "mask-image-r-from-pos": [{ "mask-r-from": ct() }], "mask-image-r-to-pos": [{ "mask-r-to": ct() }], "mask-image-r-from-color": [{ "mask-r-from": Q() }], "mask-image-r-to-color": [{ "mask-r-to": Q() }], "mask-image-b-from-pos": [{ "mask-b-from": ct() }], "mask-image-b-to-pos": [{ "mask-b-to": ct() }], "mask-image-b-from-color": [{ "mask-b-from": Q() }], "mask-image-b-to-color": [{ "mask-b-to": Q() }], "mask-image-l-from-pos": [{ "mask-l-from": ct() }], "mask-image-l-to-pos": [{ "mask-l-to": ct() }], "mask-image-l-from-color": [{ "mask-l-from": Q() }], "mask-image-l-to-color": [{ "mask-l-to": Q() }], "mask-image-x-from-pos": [{ "mask-x-from": ct() }], "mask-image-x-to-pos": [{ "mask-x-to": ct() }], "mask-image-x-from-color": [{ "mask-x-from": Q() }], "mask-image-x-to-color": [{ "mask-x-to": Q() }], "mask-image-y-from-pos": [{ "mask-y-from": ct() }], "mask-image-y-to-pos": [{ "mask-y-to": ct() }], "mask-image-y-from-color": [{ "mask-y-from": Q() }], "mask-image-y-to-color": [{ "mask-y-to": Q() }], "mask-image-radial": [{ "mask-radial": [fe, de] }], "mask-image-radial-from-pos": [{ "mask-radial-from": ct() }], "mask-image-radial-to-pos": [{ "mask-radial-to": ct() }], "mask-image-radial-from-color": [{ "mask-radial-from": Q() }], "mask-image-radial-to-color": [{ "mask-radial-to": Q() }], "mask-image-radial-shape": [{ "mask-radial": ["circle", "ellipse"] }], "mask-image-radial-size": [{ "mask-radial": [{ closest: ["side", "corner"], farthest: ["side", "corner"] }] }], "mask-image-radial-pos": [{ "mask-radial-at": k() }], "mask-image-conic-pos": [{ "mask-conic": [Ke] }], "mask-image-conic-from-pos": [{ "mask-conic-from": ct() }], "mask-image-conic-to-pos": [{ "mask-conic-to": ct() }], "mask-image-conic-from-color": [{ "mask-conic-from": Q() }], "mask-image-conic-to-color": [{ "mask-conic-to": Q() }], "mask-mode": [{ mask: ["alpha", "luminance", "match"] }], "mask-origin": [{ "mask-origin": ["border", "padding", "content", "fill", "stroke", "view"] }], "mask-position": [{ mask: pt() }], "mask-repeat": [{ mask: Y() }], "mask-size": [{ mask: ft() }], "mask-type": [{ "mask-type": ["alpha", "luminance"] }], "mask-image": [{ mask: ["none", fe, de] }], filter: [{ filter: ["", "none", fe, de] }], blur: [{ blur: gt() }], brightness: [{ brightness: [Ke, fe, de] }], contrast: [{ contrast: [Ke, fe, de] }], "drop-shadow": [{ "drop-shadow": ["", "none", v, rm, im] }], "drop-shadow-color": [{ "drop-shadow": Q() }], grayscale: [{ grayscale: ["", Ke, fe, de] }], "hue-rotate": [{ "hue-rotate": [Ke, fe, de] }], invert: [{ invert: ["", Ke, fe, de] }], saturate: [{ saturate: [Ke, fe, de] }], sepia: [{ sepia: ["", Ke, fe, de] }], "backdrop-filter": [{ "backdrop-filter": ["", "none", fe, de] }], "backdrop-blur": [{ "backdrop-blur": gt() }], "backdrop-brightness": [{ "backdrop-brightness": [Ke, fe, de] }], "backdrop-contrast": [{ "backdrop-contrast": [Ke, fe, de] }], "backdrop-grayscale": [{ "backdrop-grayscale": ["", Ke, fe, de] }], "backdrop-hue-rotate": [{ "backdrop-hue-rotate": [Ke, fe, de] }], "backdrop-invert": [{ "backdrop-invert": ["", Ke, fe, de] }], "backdrop-opacity": [{ "backdrop-opacity": [Ke, fe, de] }], "backdrop-saturate": [{ "backdrop-saturate": [Ke, fe, de] }], "backdrop-sepia": [{ "backdrop-sepia": ["", Ke, fe, de] }], "border-collapse": [{ border: ["collapse", "separate"] }], "border-spacing": [{ "border-spacing": j() }], "border-spacing-x": [{ "border-spacing-x": j() }], "border-spacing-y": [{ "border-spacing-y": j() }], "table-layout": [{ table: ["auto", "fixed"] }], caption: [{ caption: ["top", "bottom"] }], transition: [{ transition: ["", "all", "colors", "opacity", "shadow", "transform", "none", fe, de] }], "transition-behavior": [{ transition: ["normal", "discrete"] }], duration: [{ duration: [Ke, "initial", fe, de] }], ease: [{ ease: ["linear", "initial", A, fe, de] }], delay: [{ delay: [Ke, fe, de] }], animate: [{ animate: ["none", T, fe, de] }], backface: [{ backface: ["hidden", "visible"] }], perspective: [{ perspective: [y, fe, de] }], "perspective-origin": [{ "perspective-origin": O() }], rotate: [{ rotate: xt() }], "rotate-x": [{ "rotate-x": xt() }], "rotate-y": [{ "rotate-y": xt() }], "rotate-z": [{ "rotate-z": xt() }], scale: [{ scale: Tt() }], "scale-x": [{ "scale-x": Tt() }], "scale-y": [{ "scale-y": Tt() }], "scale-z": [{ "scale-z": Tt() }], "scale-3d": ["scale-3d"], skew: [{ skew: kt() }], "skew-x": [{ "skew-x": kt() }], "skew-y": [{ "skew-y": kt() }], transform: [{ transform: [fe, de, "", "none", "gpu", "cpu"] }], "transform-origin": [{ origin: O() }], "transform-style": [{ transform: ["3d", "flat"] }], translate: [{ translate: zt() }], "translate-x": [{ "translate-x": zt() }], "translate-y": [{ "translate-y": zt() }], "translate-z": [{ "translate-z": zt() }], "translate-none": ["translate-none"], accent: [{ accent: Q() }], appearance: [{ appearance: ["none", "auto"] }], "caret-color": [{ caret: Q() }], "color-scheme": [{ scheme: ["normal", "dark", "light", "light-dark", "only-dark", "only-light"] }], cursor: [{ cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", fe, de] }], "field-sizing": [{ "field-sizing": ["fixed", "content"] }], "pointer-events": [{ "pointer-events": ["auto", "none"] }], resize: [{ resize: ["none", "", "y", "x"] }], "scroll-behavior": [{ scroll: ["auto", "smooth"] }], "scroll-m": [{ "scroll-m": j() }], "scroll-mx": [{ "scroll-mx": j() }], "scroll-my": [{ "scroll-my": j() }], "scroll-ms": [{ "scroll-ms": j() }], "scroll-me": [{ "scroll-me": j() }], "scroll-mt": [{ "scroll-mt": j() }], "scroll-mr": [{ "scroll-mr": j() }], "scroll-mb": [{ "scroll-mb": j() }], "scroll-ml": [{ "scroll-ml": j() }], "scroll-p": [{ "scroll-p": j() }], "scroll-px": [{ "scroll-px": j() }], "scroll-py": [{ "scroll-py": j() }], "scroll-ps": [{ "scroll-ps": j() }], "scroll-pe": [{ "scroll-pe": j() }], "scroll-pt": [{ "scroll-pt": j() }], "scroll-pr": [{ "scroll-pr": j() }], "scroll-pb": [{ "scroll-pb": j() }], "scroll-pl": [{ "scroll-pl": j() }], "snap-align": [{ snap: ["start", "end", "center", "align-none"] }], "snap-stop": [{ snap: ["normal", "always"] }], "snap-type": [{ snap: ["none", "x", "y", "both"] }], "snap-strictness": [{ snap: ["mandatory", "proximity"] }], touch: [{ touch: ["auto", "none", "manipulation"] }], "touch-x": [{ "touch-pan": ["x", "left", "right"] }], "touch-y": [{ "touch-pan": ["y", "up", "down"] }], "touch-pz": ["touch-pinch-zoom"], select: [{ select: ["none", "text", "all", "auto"] }], "will-change": [{ "will-change": ["auto", "scroll", "contents", "transform", fe, de] }], fill: [{ fill: ["none", ...Q()] }], "stroke-w": [{ stroke: [Ke, Yf, zu, f1] }], stroke: [{ stroke: ["none", ...Q()] }], "forced-color-adjust": [{ "forced-color-adjust": ["auto", "none"] }] }, conflictingClassGroups: { overflow: ["overflow-x", "overflow-y"], overscroll: ["overscroll-x", "overscroll-y"], inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"], "inset-x": ["right", "left"], "inset-y": ["top", "bottom"], flex: ["basis", "grow", "shrink"], gap: ["gap-x", "gap-y"], p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"], px: ["pr", "pl"], py: ["pt", "pb"], m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"], mx: ["mr", "ml"], my: ["mt", "mb"], size: ["w", "h"], "font-size": ["leading"], "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"], "fvn-ordinal": ["fvn-normal"], "fvn-slashed-zero": ["fvn-normal"], "fvn-figure": ["fvn-normal"], "fvn-spacing": ["fvn-normal"], "fvn-fraction": ["fvn-normal"], "line-clamp": ["display", "overflow"], rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"], "rounded-s": ["rounded-ss", "rounded-es"], "rounded-e": ["rounded-se", "rounded-ee"], "rounded-t": ["rounded-tl", "rounded-tr"], "rounded-r": ["rounded-tr", "rounded-br"], "rounded-b": ["rounded-br", "rounded-bl"], "rounded-l": ["rounded-tl", "rounded-bl"], "border-spacing": ["border-spacing-x", "border-spacing-y"], "border-w": ["border-w-x", "border-w-y", "border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"], "border-w-x": ["border-w-r", "border-w-l"], "border-w-y": ["border-w-t", "border-w-b"], "border-color": ["border-color-x", "border-color-y", "border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"], "border-color-x": ["border-color-r", "border-color-l"], "border-color-y": ["border-color-t", "border-color-b"], translate: ["translate-x", "translate-y", "translate-none"], "translate-none": ["translate", "translate-x", "translate-y", "translate-z"], "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"], "scroll-mx": ["scroll-mr", "scroll-ml"], "scroll-my": ["scroll-mt", "scroll-mb"], "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"], "scroll-px": ["scroll-pr", "scroll-pl"], "scroll-py": ["scroll-pt", "scroll-pb"], touch: ["touch-x", "touch-y", "touch-pz"], "touch-x": ["touch"], "touch-y": ["touch"], "touch-pz": ["touch"] }, conflictingClassGroupModifiers: { "font-size": ["leading"] }, orderSensitiveModifiers: ["*", "**", "after", "backdrop", "before", "details-content", "file", "first-letter", "first-line", "marker", "placeholder", "selection"] } }, CM = aM(_M); function je(...i) { return CM(Vd(i)) } const SE = my("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive", { variants: { variant: { default: "bg-primary text-primary-foreground shadow-xs hover:bg-primary/90", destructive: "bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60", outline: "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50", secondary: "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50", link: "text-primary underline-offset-4 hover:underline" }, size: { default: "h-9 px-4 py-2 has-[>svg]:px-3", sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5", lg: "h-10 rounded-md px-6 has-[>svg]:px-4", icon: "size-9" } }, defaultVariants: { variant: "default", size: "default" } }); function dn({ className: i, variant: t, size: e, asChild: n = !1, ...r }) { const s = n ? m0 : "button"; return N.jsx(s, { "data-slot": "button", className: je(SE({ variant: t, size: e, className: i })), ...r }) } const Wd = i => { const [t, e] = M.useState(i), [n, r] = M.useState({}); return { formData: t, handleChange: c => { const { name: u, value: d } = c.target; e(f => ({ ...f, [u]: d })), r(f => ({ ...f, [u]: "" })) }, handleFileChange: (c, u) => { const d = c.target.files[0]; e(f => ({ ...f, [u]: d })), r(f => ({ ...f, [u]: "" })) }, errors: n, setErrors: r } }; function NM(i) { if (typeof document > "u") return; let t = document.head || document.getElementsByTagName("head")[0], e = document.createElement("style"); e.type = "text/css", t.appendChild(e), e.styleSheet ? e.styleSheet.cssText = i : e.appendChild(document.createTextNode(i)) } const RM = i => { switch (i) { case "success": return MM; case "info": return OM; case "warning": return PM; case "error": return kM; default: return null } }, TM = Array(12).fill(0), LM = ({ visible: i, className: t }) => Yt.createElement("div", { className: ["sonner-loading-wrapper", t].filter(Boolean).join(" "), "data-visible": i }, Yt.createElement("div", { className: "sonner-spinner" }, TM.map((e, n) => Yt.createElement("div", { className: "sonner-loading-bar", key: `spinner-bar-${n}` })))), MM = Yt.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, Yt.createElement("path", { fillRule: "evenodd", d: "M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z", clipRule: "evenodd" })), PM = Yt.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", height: "20", width: "20" }, Yt.createElement("path", { fillRule: "evenodd", d: "M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z", clipRule: "evenodd" })), OM = Yt.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, Yt.createElement("path", { fillRule: "evenodd", d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z", clipRule: "evenodd" })), kM = Yt.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, Yt.createElement("path", { fillRule: "evenodd", d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z", clipRule: "evenodd" })), DM = Yt.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round" }, Yt.createElement("line", { x1: "18", y1: "6", x2: "6", y2: "18" }), Yt.createElement("line", { x1: "6", y1: "6", x2: "18", y2: "18" })), jM = () => { const [i, t] = Yt.useState(document.hidden); return Yt.useEffect(() => { const e = () => { t(document.hidden) }; return document.addEventListener("visibilitychange", e), () => window.removeEventListener("visibilitychange", e) }, []), i }; let ub = 1; class IM { constructor() { this.subscribe = t => (this.subscribers.push(t), () => { const e = this.subscribers.indexOf(t); this.subscribers.splice(e, 1) }), this.publish = t => { this.subscribers.forEach(e => e(t)) }, this.addToast = t => { this.publish(t), this.toasts = [...this.toasts, t] }, this.create = t => { var e; const { message: n, ...r } = t, s = typeof t?.id == "number" || ((e = t.id) == null ? void 0 : e.length) > 0 ? t.id : ub++, o = this.toasts.find(u => u.id === s), c = t.dismissible === void 0 ? !0 : t.dismissible; return this.dismissedToasts.has(s) && this.dismissedToasts.delete(s), o ? this.toasts = this.toasts.map(u => u.id === s ? (this.publish({ ...u, ...t, id: s, title: n }), { ...u, ...t, id: s, dismissible: c, title: n }) : u) : this.addToast({ title: n, ...r, dismissible: c, id: s }), s }, this.dismiss = t => (t ? (this.dismissedToasts.add(t), requestAnimationFrame(() => this.subscribers.forEach(e => e({ id: t, dismiss: !0 })))) : this.toasts.forEach(e => { this.subscribers.forEach(n => n({ id: e.id, dismiss: !0 })) }), t), this.message = (t, e) => this.create({ ...e, message: t }), this.error = (t, e) => this.create({ ...e, message: t, type: "error" }), this.success = (t, e) => this.create({ ...e, type: "success", message: t }), this.info = (t, e) => this.create({ ...e, type: "info", message: t }), this.warning = (t, e) => this.create({ ...e, type: "warning", message: t }), this.loading = (t, e) => this.create({ ...e, type: "loading", message: t }), this.promise = (t, e) => { if (!e) return; let n; e.loading !== void 0 && (n = this.create({ ...e, promise: t, type: "loading", message: e.loading, description: typeof e.description != "function" ? e.description : void 0 })); const r = Promise.resolve(t instanceof Function ? t() : t); let s = n !== void 0, o; const c = r.then(async d => { if (o = ["resolve", d], Yt.isValidElement(d)) s = !1, this.create({ id: n, type: "default", message: d }); else if (BM(d) && !d.ok) { s = !1; const p = typeof e.error == "function" ? await e.error(`HTTP error! status: ${d.status}`) : e.error, m = typeof e.description == "function" ? await e.description(`HTTP error! status: ${d.status}`) : e.description, x = typeof p == "object" && !Yt.isValidElement(p) ? p : { message: p }; this.create({ id: n, type: "error", description: m, ...x }) } else if (d instanceof Error) { s = !1; const p = typeof e.error == "function" ? await e.error(d) : e.error, m = typeof e.description == "function" ? await e.description(d) : e.description, x = typeof p == "object" && !Yt.isValidElement(p) ? p : { message: p }; this.create({ id: n, type: "error", description: m, ...x }) } else if (e.success !== void 0) { s = !1; const p = typeof e.success == "function" ? await e.success(d) : e.success, m = typeof e.description == "function" ? await e.description(d) : e.description, x = typeof p == "object" && !Yt.isValidElement(p) ? p : { message: p }; this.create({ id: n, type: "success", description: m, ...x }) } }).catch(async d => { if (o = ["reject", d], e.error !== void 0) { s = !1; const f = typeof e.error == "function" ? await e.error(d) : e.error, p = typeof e.description == "function" ? await e.description(d) : e.description, v = typeof f == "object" && !Yt.isValidElement(f) ? f : { message: f }; this.create({ id: n, type: "error", description: p, ...v }) } }).finally(() => { s && (this.dismiss(n), n = void 0), e.finally == null || e.finally.call(e) }), u = () => new Promise((d, f) => c.then(() => o[0] === "reject" ? f(o[1]) : d(o[1])).catch(f)); return typeof n != "string" && typeof n != "number" ? { unwrap: u } : Object.assign(n, { unwrap: u }) }, this.custom = (t, e) => { const n = e?.id || ub++; return this.create({ jsx: t(n), id: n, ...e }), n }, this.getActiveToasts = () => this.toasts.filter(t => !this.dismissedToasts.has(t.id)), this.subscribers = [], this.toasts = [], this.dismissedToasts = new Set } } const ps = new IM, FM = (i, t) => { const e = t?.id || ub++; return ps.addToast({ title: i, ...t, id: e }), e }, BM = i => i && typeof i == "object" && "ok" in i && typeof i.ok == "boolean" && "status" in i && typeof i.status == "number", zM = FM, UM = () => ps.toasts, HM = () => ps.getActiveToasts(), px = Object.assign(zM, { success: ps.success, info: ps.info, warning: ps.warning, error: ps.error, custom: ps.custom, message: ps.message, promise: ps.promise, dismiss: ps.dismiss, loading: ps.loading }, { getHistory: UM, getToasts: HM }); NM("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}"); function sm(i) { return i.label !== void 0 } const qM = 3, VM = "24px", GM = "16px", gx = 4e3, $M = 356, WM = 14, YM = 45, XM = 200; function ko(...i) { return i.filter(Boolean).join(" ") } function KM(i) { const [t, e] = i.split("-"), n = []; return t && n.push(t), e && n.push(e), n } const QM = i => { var t, e, n, r, s, o, c, u, d; const { invert: f, toast: p, unstyled: m, interacting: v, setHeights: x, visibleToasts: y, heights: E, index: A, toasts: T, expanded: L, removeToast: k, defaultRichColors: O, closeButton: F, style: D, cancelButtonStyle: j, actionButtonStyle: J, className: ot = "", descriptionClassName: z = "", duration: G, position: it, gap: nt, expandByDefault: ht, classNames: U, icons: tt, closeButtonAriaLabel: Q = "Close toast" } = i, [pt, Y] = Yt.useState(null), [ft, I] = Yt.useState(null), [V, Z] = Yt.useState(!1), [st, at] = Yt.useState(!1), [ct, gt] = Yt.useState(!1), [xt, Tt] = Yt.useState(!1), [kt, zt] = Yt.useState(!1), [$t, Kt] = Yt.useState(0), [Lt, lt] = Yt.useState(0), se = Yt.useRef(p.duration || G || gx), ae = Yt.useRef(null), Vt = Yt.useRef(null), Zt = A === 0, Jt = A + 1 <= y, Xt = p.type, ce = p.dismissible !== !1, Ce = p.className || "", ke = p.descriptionClassName || "", Ae = Yt.useMemo(() => E.findIndex(Qt => Qt.toastId === p.id) || 0, [E, p.id]), be = Yt.useMemo(() => { var Qt; return (Qt = p.closeButton) != null ? Qt : F }, [p.closeButton, F]), Fe = Yt.useMemo(() => p.duration || G || gx, [p.duration, G]), le = Yt.useRef(0), Ne = Yt.useRef(0), ne = Yt.useRef(0), Xn = Yt.useRef(null), [We, tr] = it.split("-"), Qe = Yt.useMemo(() => E.reduce((Qt, xe, Pn) => Pn >= Ae ? Qt : Qt + xe.height, 0), [E, Ae]), yn = jM(), er = p.invert || f, an = Xt === "loading"; Ne.current = Yt.useMemo(() => Ae * nt + Qe, [Ae, Qe]), Yt.useEffect(() => { se.current = Fe }, [Fe]), Yt.useEffect(() => { Z(!0) }, []), Yt.useEffect(() => { const Qt = Vt.current; if (Qt) { const xe = Qt.getBoundingClientRect().height; return lt(xe), x(Pn => [{ toastId: p.id, height: xe, position: p.position }, ...Pn]), () => x(Pn => Pn.filter(un => un.toastId !== p.id)) } }, [x, p.id]), Yt.useLayoutEffect(() => { if (!V) return; const Qt = Vt.current, xe = Qt.style.height; Qt.style.height = "auto"; const Pn = Qt.getBoundingClientRect().height; Qt.style.height = xe, lt(Pn), x(un => un.find(En => En.toastId === p.id) ? un.map(En => En.toastId === p.id ? { ...En, height: Pn } : En) : [{ toastId: p.id, height: Pn, position: p.position }, ...un]) }, [V, p.title, p.description, x, p.id, p.jsx, p.action, p.cancel]); const Vi = Yt.useCallback(() => { at(!0), Kt(Ne.current), x(Qt => Qt.filter(xe => xe.toastId !== p.id)), setTimeout(() => { k(p) }, XM) }, [p, k, x, Ne]); Yt.useEffect(() => { if (p.promise && Xt === "loading" || p.duration === 1 / 0 || p.type === "loading") return; let Qt; return L || v || yn ? (() => { if (ne.current < le.current) { const un = new Date().getTime() - le.current; se.current = se.current - un } ne.current = new Date().getTime() })() : (() => { se.current !== 1 / 0 && (le.current = new Date().getTime(), Qt = setTimeout(() => { p.onAutoClose == null || p.onAutoClose.call(p, p), Vi() }, se.current)) })(), () => clearTimeout(Qt) }, [L, v, p, Xt, yn, Vi]), Yt.useEffect(() => { p.delete && (Vi(), p.onDismiss == null || p.onDismiss.call(p, p)) }, [Vi, p.delete]); function In() { var Qt; if (tt?.loading) { var xe; return Yt.createElement("div", { className: ko(U?.loader, p == null || (xe = p.classNames) == null ? void 0 : xe.loader, "sonner-loader"), "data-visible": Xt === "loading" }, tt.loading) } return Yt.createElement(LM, { className: ko(U?.loader, p == null || (Qt = p.classNames) == null ? void 0 : Qt.loader), visible: Xt === "loading" }) } const mr = p.icon || tt?.[Xt] || RM(Xt); var nr, Fn; return Yt.createElement("li", { tabIndex: 0, ref: Vt, className: ko(ot, Ce, U?.toast, p == null || (t = p.classNames) == null ? void 0 : t.toast, U?.default, U?.[Xt], p == null || (e = p.classNames) == null ? void 0 : e[Xt]), "data-sonner-toast": "", "data-rich-colors": (nr = p.richColors) != null ? nr : O, "data-styled": !(p.jsx || p.unstyled || m), "data-mounted": V, "data-promise": !!p.promise, "data-swiped": kt, "data-removed": st, "data-visible": Jt, "data-y-position": We, "data-x-position": tr, "data-index": A, "data-front": Zt, "data-swiping": ct, "data-dismissible": ce, "data-type": Xt, "data-invert": er, "data-swipe-out": xt, "data-swipe-direction": ft, "data-expanded": !!(L || ht && V), style: { "--index": A, "--toasts-before": A, "--z-index": T.length - A, "--offset": `${st ? $t : Ne.current}px`, "--initial-height": ht ? "auto" : `${Lt}px`, ...D, ...p.style }, onDragEnd: () => { gt(!1), Y(null), Xn.current = null }, onPointerDown: Qt => { Qt.button !== 2 && (an || !ce || (ae.current = new Date, Kt(Ne.current), Qt.target.setPointerCapture(Qt.pointerId), Qt.target.tagName !== "BUTTON" && (gt(!0), Xn.current = { x: Qt.clientX, y: Qt.clientY }))) }, onPointerUp: () => { var Qt, xe, Pn; if (xt || !ce) return; Xn.current = null; const un = Number(((Qt = Vt.current) == null ? void 0 : Qt.style.getPropertyValue("--swipe-amount-x").replace("px", "")) || 0), ir = Number(((xe = Vt.current) == null ? void 0 : xe.style.getPropertyValue("--swipe-amount-y").replace("px", "")) || 0), En = new Date().getTime() - ((Pn = ae.current) == null ? void 0 : Pn.getTime()), oe = pt === "x" ? un : ir, mn = Math.abs(oe) / En; if (Math.abs(oe) >= YM || mn > .11) { Kt(Ne.current), p.onDismiss == null || p.onDismiss.call(p, p), I(pt === "x" ? un > 0 ? "right" : "left" : ir > 0 ? "down" : "up"), Vi(), Tt(!0); return } else { var tn, vn; (tn = Vt.current) == null || tn.style.setProperty("--swipe-amount-x", "0px"), (vn = Vt.current) == null || vn.style.setProperty("--swipe-amount-y", "0px") } zt(!1), gt(!1), Y(null) }, onPointerMove: Qt => { var xe, Pn, un; if (!Xn.current || !ce || ((xe = window.getSelection()) == null ? void 0 : xe.toString().length) > 0) return; const En = Qt.clientY - Xn.current.y, oe = Qt.clientX - Xn.current.x; var mn; const tn = (mn = i.swipeDirections) != null ? mn : KM(it); !pt && (Math.abs(oe) > 1 || Math.abs(En) > 1) && Y(Math.abs(oe) > Math.abs(En) ? "x" : "y"); let vn = { x: 0, y: 0 }; const Gn = _n => 1 / (1.5 + Math.abs(_n) / 20); if (pt === "y") { if (tn.includes("top") || tn.includes("bottom")) if (tn.includes("top") && En < 0 || tn.includes("bottom") && En > 0) vn.y = En; else { const _n = En * Gn(En); vn.y = Math.abs(_n) < Math.abs(En) ? _n : En } } else if (pt === "x" && (tn.includes("left") || tn.includes("right"))) if (tn.includes("left") && oe < 0 || tn.includes("right") && oe > 0) vn.x = oe; else { const _n = oe * Gn(oe); vn.x = Math.abs(_n) < Math.abs(oe) ? _n : oe } (Math.abs(vn.x) > 0 || Math.abs(vn.y) > 0) && zt(!0), (Pn = Vt.current) == null || Pn.style.setProperty("--swipe-amount-x", `${vn.x}px`), (un = Vt.current) == null || un.style.setProperty("--swipe-amount-y", `${vn.y}px`) } }, be && !p.jsx && Xt !== "loading" ? Yt.createElement("button", { "aria-label": Q, "data-disabled": an, "data-close-button": !0, onClick: an || !ce ? () => { } : () => { Vi(), p.onDismiss == null || p.onDismiss.call(p, p) }, className: ko(U?.closeButton, p == null || (n = p.classNames) == null ? void 0 : n.closeButton) }, (Fn = tt?.close) != null ? Fn : DM) : null, (Xt || p.icon || p.promise) && p.icon !== null && (tt?.[Xt] !== null || p.icon) ? Yt.createElement("div", { "data-icon": "", className: ko(U?.icon, p == null || (r = p.classNames) == null ? void 0 : r.icon) }, p.promise || p.type === "loading" && !p.icon ? p.icon || In() : null, p.type !== "loading" ? mr : null) : null, Yt.createElement("div", { "data-content": "", className: ko(U?.content, p == null || (s = p.classNames) == null ? void 0 : s.content) }, Yt.createElement("div", { "data-title": "", className: ko(U?.title, p == null || (o = p.classNames) == null ? void 0 : o.title) }, p.jsx ? p.jsx : typeof p.title == "function" ? p.title() : p.title), p.description ? Yt.createElement("div", { "data-description": "", className: ko(z, ke, U?.description, p == null || (c = p.classNames) == null ? void 0 : c.description) }, typeof p.description == "function" ? p.description() : p.description) : null), Yt.isValidElement(p.cancel) ? p.cancel : p.cancel && sm(p.cancel) ? Yt.createElement("button", { "data-button": !0, "data-cancel": !0, style: p.cancelButtonStyle || j, onClick: Qt => { sm(p.cancel) && ce && (p.cancel.onClick == null || p.cancel.onClick.call(p.cancel, Qt), Vi()) }, className: ko(U?.cancelButton, p == null || (u = p.classNames) == null ? void 0 : u.cancelButton) }, p.cancel.label) : null, Yt.isValidElement(p.action) ? p.action : p.action && sm(p.action) ? Yt.createElement("button", { "data-button": !0, "data-action": !0, style: p.actionButtonStyle || J, onClick: Qt => { sm(p.action) && (p.action.onClick == null || p.action.onClick.call(p.action, Qt), !Qt.defaultPrevented && Vi()) }, className: ko(U?.actionButton, p == null || (d = p.classNames) == null ? void 0 : d.actionButton) }, p.action.label) : null) }; function mx() { if (typeof window > "u" || typeof document > "u") return "ltr"; const i = document.documentElement.getAttribute("dir"); return i === "auto" || !i ? window.getComputedStyle(document.documentElement).direction : i } function ZM(i, t) { const e = {}; return [i, t].forEach((n, r) => { const s = r === 1, o = s ? "--mobile-offset" : "--offset", c = s ? GM : VM; function u(d) { ["top", "right", "bottom", "left"].forEach(f => { e[`${o}-${f}`] = typeof d == "number" ? `${d}px` : d }) } typeof n == "number" || typeof n == "string" ? u(n) : typeof n == "object" ? ["top", "right", "bottom", "left"].forEach(d => { n[d] === void 0 ? e[`${o}-${d}`] = c : e[`${o}-${d}`] = typeof n[d] == "number" ? `${n[d]}px` : n[d] }) : u(c) }), e } const JM = Yt.forwardRef(function (t, e) { const { invert: n, position: r = "bottom-right", hotkey: s = ["altKey", "KeyT"], expand: o, closeButton: c, className: u, offset: d, mobileOffset: f, theme: p = "light", richColors: m, duration: v, style: x, visibleToasts: y = qM, toastOptions: E, dir: A = mx(), gap: T = WM, icons: L, containerAriaLabel: k = "Notifications" } = t, [O, F] = Yt.useState([]), D = Yt.useMemo(() => Array.from(new Set([r].concat(O.filter(ft => ft.position).map(ft => ft.position)))), [O, r]), [j, J] = Yt.useState([]), [ot, z] = Yt.useState(!1), [G, it] = Yt.useState(!1), [nt, ht] = Yt.useState(p !== "system" ? p : typeof window < "u" && window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"), U = Yt.useRef(null), tt = s.join("+").replace(/Key/g, "").replace(/Digit/g, ""), Q = Yt.useRef(null), pt = Yt.useRef(!1), Y = Yt.useCallback(ft => { F(I => { var V; return (V = I.find(Z => Z.id === ft.id)) != null && V.delete || ps.dismiss(ft.id), I.filter(({ id: Z }) => Z !== ft.id) }) }, []); return Yt.useEffect(() => ps.subscribe(ft => { if (ft.dismiss) { requestAnimationFrame(() => { F(I => I.map(V => V.id === ft.id ? { ...V, delete: !0 } : V)) }); return } setTimeout(() => { lE.flushSync(() => { F(I => { const V = I.findIndex(Z => Z.id === ft.id); return V !== -1 ? [...I.slice(0, V), { ...I[V], ...ft }, ...I.slice(V + 1)] : [ft, ...I] }) }) }) }), [O]), Yt.useEffect(() => { if (p !== "system") { ht(p); return } if (p === "system" && (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? ht("dark") : ht("light")), typeof window > "u") return; const ft = window.matchMedia("(prefers-color-scheme: dark)"); try { ft.addEventListener("change", ({ matches: I }) => { ht(I ? "dark" : "light") }) } catch { ft.addListener(({ matches: V }) => { try { ht(V ? "dark" : "light") } catch (Z) { console.error(Z) } }) } }, [p]), Yt.useEffect(() => { O.length <= 1 && z(!1) }, [O]), Yt.useEffect(() => { const ft = I => { var V; if (s.every(at => I[at] || I.code === at)) { var st; z(!0), (st = U.current) == null || st.focus() } I.code === "Escape" && (document.activeElement === U.current || (V = U.current) != null && V.contains(document.activeElement)) && z(!1) }; return document.addEventListener("keydown", ft), () => document.removeEventListener("keydown", ft) }, [s]), Yt.useEffect(() => { if (U.current) return () => { Q.current && (Q.current.focus({ preventScroll: !0 }), Q.current = null, pt.current = !1) } }, [U.current]), Yt.createElement("section", { ref: e, "aria-label": `${k} ${tt}`, tabIndex: -1, "aria-live": "polite", "aria-relevant": "additions text", "aria-atomic": "false", suppressHydrationWarning: !0 }, D.map((ft, I) => { var V; const [Z, st] = ft.split("-"); return O.length ? Yt.createElement("ol", { key: ft, dir: A === "auto" ? mx() : A, tabIndex: -1, ref: U, className: u, "data-sonner-toaster": !0, "data-sonner-theme": nt, "data-y-position": Z, "data-x-position": st, style: { "--front-toast-height": `${((V = j[0]) == null ? void 0 : V.height) || 0}px`, "--width": `${$M}px`, "--gap": `${T}px`, ...x, ...ZM(d, f) }, onBlur: at => { pt.current && !at.currentTarget.contains(at.relatedTarget) && (pt.current = !1, Q.current && (Q.current.focus({ preventScroll: !0 }), Q.current = null)) }, onFocus: at => { at.target instanceof HTMLElement && at.target.dataset.dismissible === "false" || pt.current || (pt.current = !0, Q.current = at.relatedTarget) }, onMouseEnter: () => z(!0), onMouseMove: () => z(!0), onMouseLeave: () => { G || z(!1) }, onDragEnd: () => z(!1), onPointerDown: at => { at.target instanceof HTMLElement && at.target.dataset.dismissible === "false" || it(!0) }, onPointerUp: () => it(!1) }, O.filter(at => !at.position && I === 0 || at.position === ft).map((at, ct) => { var gt, xt; return Yt.createElement(QM, { key: at.id, icons: L, index: ct, toast: at, defaultRichColors: m, duration: (gt = E?.duration) != null ? gt : v, className: E?.className, descriptionClassName: E?.descriptionClassName, invert: n, visibleToasts: y, closeButton: (xt = E?.closeButton) != null ? xt : c, interacting: G, position: ft, style: E?.style, unstyled: E?.unstyled, classNames: E?.classNames, cancelButtonStyle: E?.cancelButtonStyle, actionButtonStyle: E?.actionButtonStyle, closeButtonAriaLabel: E?.closeButtonAriaLabel, removeToast: Y, toasts: O.filter(Tt => Tt.position == at.position), heights: j.filter(Tt => Tt.position == at.position), setHeights: J, expandByDefault: o, gap: T, expanded: ot, swipeDirections: t.swipeDirections }) })) : null })) }), Zc = () => ({ showError: (e, n) => { px.error(e?.response?.data?.message || n, { duration: 5e3, style: { background: "#fee2e2", color: "#b91c1c", border: "1px solid #ef4444" } }) }, showSuccess: e => { px.success(e, { duration: 4e3, style: { background: "#d1fae5", color: "#065f46", border: "1px solid #10b981" } }) } }); function by({ className: i, type: t, ...e }) { return N.jsx("input", { type: t, "data-slot": "input", className: je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]", "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive", i), ...e }) } var tP = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], cn = tP.reduce((i, t) => { const e = rh(`Primitive.${t}`), n = M.forwardRef((r, s) => { const { asChild: o, ...c } = r, u = o ? e : t; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), N.jsx(u, { ...c, ref: s }) }); return n.displayName = `Primitive.${t}`, { ...i, [t]: n } }, {}); function eP(i, t) { i && Fp.flushSync(() => i.dispatchEvent(t)) } var nP = "Label", AE = M.forwardRef((i, t) => N.jsx(cn.label, { ...i, ref: t, onMouseDown: e => { e.target.closest("button, input, select, textarea") || (i.onMouseDown?.(e), !e.defaultPrevented && e.detail > 1 && e.preventDefault()) } })); AE.displayName = nP; var iP = AE; function Ua({ className: i, ...t }) { return N.jsx(iP, { "data-slot": "label", className: je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50", i), ...t }) } function vx(i, [t, e]) { return Math.min(e, Math.max(t, i)) } function Je(i, t, { checkForDefaultPrevented: e = !0 } = {}) { return function (r) { if (i?.(r), e === !1 || !r.defaultPrevented) return t?.(r) } } function rP(i, t) { const e = M.createContext(t), n = s => { const { children: o, ...c } = s, u = M.useMemo(() => c, Object.values(c)); return N.jsx(e.Provider, { value: u, children: o }) }; n.displayName = i + "Provider"; function r(s) { const o = M.useContext(e); if (o) return o; if (t !== void 0) return t; throw new Error(`\`${s}\` must be used within \`${i}\``) } return [n, r] } function Jc(i, t = []) { let e = []; function n(s, o) { const c = M.createContext(o), u = e.length; e = [...e, o]; const d = p => { const { scope: m, children: v, ...x } = p, y = m?.[i]?.[u] || c, E = M.useMemo(() => x, Object.values(x)); return N.jsx(y.Provider, { value: E, children: v }) }; d.displayName = s + "Provider"; function f(p, m) { const v = m?.[i]?.[u] || c, x = M.useContext(v); if (x) return x; if (o !== void 0) return o; throw new Error(`\`${p}\` must be used within \`${s}\``) } return [d, f] } const r = () => { const s = e.map(o => M.createContext(o)); return function (c) { const u = c?.[i] || s; return M.useMemo(() => ({ [`__scope${i}`]: { ...c, [i]: u } }), [c, u]) } }; return r.scopeName = i, [n, sP(r, ...t)] } function sP(...i) { const t = i[0]; if (i.length === 1) return t; const e = () => { const n = i.map(r => ({ useScope: r(), scopeName: r.scopeName })); return function (s) { const o = n.reduce((c, { useScope: u, scopeName: d }) => { const p = u(s)[`__scope${d}`]; return { ...c, ...p } }, {}); return M.useMemo(() => ({ [`__scope${t.scopeName}`]: o }), [o]) } }; return e.scopeName = t.scopeName, e } function aP(i) { const t = i + "CollectionProvider", [e, n] = Jc(t), [r, s] = e(t, { collectionRef: { current: null }, itemMap: new Map }), o = y => { const { scope: E, children: A } = y, T = Yt.useRef(null), L = Yt.useRef(new Map).current; return N.jsx(r, { scope: E, itemMap: L, collectionRef: T, children: A }) }; o.displayName = t; const c = i + "CollectionSlot", u = rh(c), d = Yt.forwardRef((y, E) => { const { scope: A, children: T } = y, L = s(c, A), k = Vn(E, L.collectionRef); return N.jsx(u, { ref: k, children: T }) }); d.displayName = c; const f = i + "CollectionItemSlot", p = "data-radix-collection-item", m = rh(f), v = Yt.forwardRef((y, E) => { const { scope: A, children: T, ...L } = y, k = Yt.useRef(null), O = Vn(E, k), F = s(f, A); return Yt.useEffect(() => (F.itemMap.set(k, { ref: k, ...L }), () => void F.itemMap.delete(k))), N.jsx(m, { [p]: "", ref: O, children: T }) }); v.displayName = f; function x(y) { const E = s(i + "CollectionConsumer", y); return Yt.useCallback(() => { const T = E.collectionRef.current; if (!T) return []; const L = Array.from(T.querySelectorAll(`[${p}]`)); return Array.from(E.itemMap.values()).sort((F, D) => L.indexOf(F.ref.current) - L.indexOf(D.ref.current)) }, [E.collectionRef, E.itemMap]) } return [{ Provider: o, Slot: d, ItemSlot: v }, x, n] } var oP = M.createContext(void 0); function lP(i) { const t = M.useContext(oP); return i || t || "ltr" } function $c(i) { const t = M.useRef(i); return M.useEffect(() => { t.current = i }), M.useMemo(() => (...e) => t.current?.(...e), []) } function cP(i, t = globalThis?.document) { const e = $c(i); M.useEffect(() => { const n = r => { r.key === "Escape" && e(r) }; return t.addEventListener("keydown", n, { capture: !0 }), () => t.removeEventListener("keydown", n, { capture: !0 }) }, [e, t]) } var uP = "DismissableLayer", hb = "dismissableLayer.update", hP = "dismissableLayer.pointerDownOutside", dP = "dismissableLayer.focusOutside", bx, EE = M.createContext({ layers: new Set, layersWithOutsidePointerEventsDisabled: new Set, branches: new Set }), Bp = M.forwardRef((i, t) => { const { disableOutsidePointerEvents: e = !1, onEscapeKeyDown: n, onPointerDownOutside: r, onFocusOutside: s, onInteractOutside: o, onDismiss: c, ...u } = i, d = M.useContext(EE), [f, p] = M.useState(null), m = f?.ownerDocument ?? globalThis?.document, [, v] = M.useState({}), x = Vn(t, D => p(D)), y = Array.from(d.layers), [E] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1), A = y.indexOf(E), T = f ? y.indexOf(f) : -1, L = d.layersWithOutsidePointerEventsDisabled.size > 0, k = T >= A, O = gP(D => { const j = D.target, J = [...d.branches].some(ot => ot.contains(j)); !k || J || (r?.(D), o?.(D), D.defaultPrevented || c?.()) }, m), F = mP(D => { const j = D.target;[...d.branches].some(ot => ot.contains(j)) || (s?.(D), o?.(D), D.defaultPrevented || c?.()) }, m); return cP(D => { T === d.layers.size - 1 && (n?.(D), !D.defaultPrevented && c && (D.preventDefault(), c())) }, m), M.useEffect(() => { if (f) return e && (d.layersWithOutsidePointerEventsDisabled.size === 0 && (bx = m.body.style.pointerEvents, m.body.style.pointerEvents = "none"), d.layersWithOutsidePointerEventsDisabled.add(f)), d.layers.add(f), yx(), () => { e && d.layersWithOutsidePointerEventsDisabled.size === 1 && (m.body.style.pointerEvents = bx) } }, [f, m, e, d]), M.useEffect(() => () => { f && (d.layers.delete(f), d.layersWithOutsidePointerEventsDisabled.delete(f), yx()) }, [f, d]), M.useEffect(() => { const D = () => v({}); return document.addEventListener(hb, D), () => document.removeEventListener(hb, D) }, []), N.jsx(cn.div, { ...u, ref: x, style: { pointerEvents: L ? k ? "auto" : "none" : void 0, ...i.style }, onFocusCapture: Je(i.onFocusCapture, F.onFocusCapture), onBlurCapture: Je(i.onBlurCapture, F.onBlurCapture), onPointerDownCapture: Je(i.onPointerDownCapture, O.onPointerDownCapture) }) }); Bp.displayName = uP; var fP = "DismissableLayerBranch", pP = M.forwardRef((i, t) => { const e = M.useContext(EE), n = M.useRef(null), r = Vn(t, n); return M.useEffect(() => { const s = n.current; if (s) return e.branches.add(s), () => { e.branches.delete(s) } }, [e.branches]), N.jsx(cn.div, { ...i, ref: r }) }); pP.displayName = fP; function gP(i, t = globalThis?.document) { const e = $c(i), n = M.useRef(!1), r = M.useRef(() => { }); return M.useEffect(() => { const s = c => { if (c.target && !n.current) { let u = function () { _E(hP, e, d, { discrete: !0 }) }; const d = { originalEvent: c }; c.pointerType === "touch" ? (t.removeEventListener("click", r.current), r.current = u, t.addEventListener("click", r.current, { once: !0 })) : u() } else t.removeEventListener("click", r.current); n.current = !1 }, o = window.setTimeout(() => { t.addEventListener("pointerdown", s) }, 0); return () => { window.clearTimeout(o), t.removeEventListener("pointerdown", s), t.removeEventListener("click", r.current) } }, [t, e]), { onPointerDownCapture: () => n.current = !0 } } function mP(i, t = globalThis?.document) { const e = $c(i), n = M.useRef(!1); return M.useEffect(() => { const r = s => { s.target && !n.current && _E(dP, e, { originalEvent: s }, { discrete: !1 }) }; return t.addEventListener("focusin", r), () => t.removeEventListener("focusin", r) }, [t, e]), { onFocusCapture: () => n.current = !0, onBlurCapture: () => n.current = !1 } } function yx() { const i = new CustomEvent(hb); document.dispatchEvent(i) } function _E(i, t, e, { discrete: n }) { const r = e.originalEvent.target, s = new CustomEvent(i, { bubbles: !1, cancelable: !0, detail: e }); t && r.addEventListener(i, t, { once: !0 }), n ? eP(r, s) : r.dispatchEvent(s) } var p1 = 0; function yy() { M.useEffect(() => { const i = document.querySelectorAll("[data-radix-focus-guard]"); return document.body.insertAdjacentElement("afterbegin", i[0] ?? wx()), document.body.insertAdjacentElement("beforeend", i[1] ?? wx()), p1++, () => { p1 === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(t => t.remove()), p1-- } }, []) } function wx() { const i = document.createElement("span"); return i.setAttribute("data-radix-focus-guard", ""), i.tabIndex = 0, i.style.outline = "none", i.style.opacity = "0", i.style.position = "fixed", i.style.pointerEvents = "none", i } var g1 = "focusScope.autoFocusOnMount", m1 = "focusScope.autoFocusOnUnmount", xx = { bubbles: !1, cancelable: !0 }, vP = "FocusScope", v0 = M.forwardRef((i, t) => { const { loop: e = !1, trapped: n = !1, onMountAutoFocus: r, onUnmountAutoFocus: s, ...o } = i, [c, u] = M.useState(null), d = $c(r), f = $c(s), p = M.useRef(null), m = Vn(t, y => u(y)), v = M.useRef({ paused: !1, pause() { this.paused = !0 }, resume() { this.paused = !1 } }).current; M.useEffect(() => { if (n) { let y = function (L) { if (v.paused || !c) return; const k = L.target; c.contains(k) ? p.current = k : Ic(p.current, { select: !0 }) }, E = function (L) { if (v.paused || !c) return; const k = L.relatedTarget; k !== null && (c.contains(k) || Ic(p.current, { select: !0 })) }, A = function (L) { if (document.activeElement === document.body) for (const O of L) O.removedNodes.length > 0 && Ic(c) }; document.addEventListener("focusin", y), document.addEventListener("focusout", E); const T = new MutationObserver(A); return c && T.observe(c, { childList: !0, subtree: !0 }), () => { document.removeEventListener("focusin", y), document.removeEventListener("focusout", E), T.disconnect() } } }, [n, c, v.paused]), M.useEffect(() => { if (c) { Ax.add(v); const y = document.activeElement; if (!c.contains(y)) { const A = new CustomEvent(g1, xx); c.addEventListener(g1, d), c.dispatchEvent(A), A.defaultPrevented || (bP(AP(CE(c)), { select: !0 }), document.activeElement === y && Ic(c)) } return () => { c.removeEventListener(g1, d), setTimeout(() => { const A = new CustomEvent(m1, xx); c.addEventListener(m1, f), c.dispatchEvent(A), A.defaultPrevented || Ic(y ?? document.body, { select: !0 }), c.removeEventListener(m1, f), Ax.remove(v) }, 0) } } }, [c, d, f, v]); const x = M.useCallback(y => { if (!e && !n || v.paused) return; const E = y.key === "Tab" && !y.altKey && !y.ctrlKey && !y.metaKey, A = document.activeElement; if (E && A) { const T = y.currentTarget, [L, k] = yP(T); L && k ? !y.shiftKey && A === k ? (y.preventDefault(), e && Ic(L, { select: !0 })) : y.shiftKey && A === L && (y.preventDefault(), e && Ic(k, { select: !0 })) : A === T && y.preventDefault() } }, [e, n, v.paused]); return N.jsx(cn.div, { tabIndex: -1, ...o, ref: m, onKeyDown: x }) }); v0.displayName = vP; function bP(i, { select: t = !1 } = {}) { const e = document.activeElement; for (const n of i) if (Ic(n, { select: t }), document.activeElement !== e) return } function yP(i) { const t = CE(i), e = Sx(t, i), n = Sx(t.reverse(), i); return [e, n] } function CE(i) { const t = [], e = document.createTreeWalker(i, NodeFilter.SHOW_ELEMENT, { acceptNode: n => { const r = n.tagName === "INPUT" && n.type === "hidden"; return n.disabled || n.hidden || r ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; e.nextNode();)t.push(e.currentNode); return t } function Sx(i, t) { for (const e of i) if (!wP(e, { upTo: t })) return e } function wP(i, { upTo: t }) { if (getComputedStyle(i).visibility === "hidden") return !0; for (; i;) { if (t !== void 0 && i === t) return !1; if (getComputedStyle(i).display === "none") return !0; i = i.parentElement } return !1 } function xP(i) { return i instanceof HTMLInputElement && "select" in i } function Ic(i, { select: t = !1 } = {}) { if (i && i.focus) { const e = document.activeElement; i.focus({ preventScroll: !0 }), i !== e && xP(i) && t && i.select() } } var Ax = SP(); function SP() { let i = []; return { add(t) { const e = i[0]; t !== e && e?.pause(), i = Ex(i, t), i.unshift(t) }, remove(t) { i = Ex(i, t), i[0]?.resume() } } } function Ex(i, t) { const e = [...i], n = e.indexOf(t); return n !== -1 && e.splice(n, 1), e } function AP(i) { return i.filter(t => t.tagName !== "A") } var Zi = globalThis?.document ? M.useLayoutEffect : () => { }, EP = lA[" useId ".trim().toString()] || (() => { }), _P = 0; function Vc(i) { const [t, e] = M.useState(EP()); return Zi(() => { e(n => n ?? String(_P++)) }, [i]), i || (t ? `radix-${t}` : "") } const CP = ["top", "right", "bottom", "left"], Wc = Math.min, Fs = Math.max, Xm = Math.round, am = Math.floor, Go = i => ({ x: i, y: i }), NP = { left: "right", right: "left", bottom: "top", top: "bottom" }, RP = { start: "end", end: "start" }; function db(i, t, e) { return Fs(i, Wc(t, e)) } function Il(i, t) { return typeof i == "function" ? i(t) : i } function Fl(i) { return i.split("-")[0] } function Yd(i) { return i.split("-")[1] } function wy(i) { return i === "x" ? "y" : "x" } function xy(i) { return i === "y" ? "height" : "width" } const TP = new Set(["top", "bottom"]); function qo(i) { return TP.has(Fl(i)) ? "y" : "x" } function Sy(i) { return wy(qo(i)) } function LP(i, t, e) { e === void 0 && (e = !1); const n = Yd(i), r = Sy(i), s = xy(r); let o = r === "x" ? n === (e ? "end" : "start") ? "right" : "left" : n === "start" ? "bottom" : "top"; return t.reference[s] > t.floating[s] && (o = Km(o)), [o, Km(o)] } function MP(i) { const t = Km(i); return [fb(i), t, fb(t)] } function fb(i) { return i.replace(/start|end/g, t => RP[t]) } const _x = ["left", "right"], Cx = ["right", "left"], PP = ["top", "bottom"], OP = ["bottom", "top"]; function kP(i, t, e) { switch (i) { case "top": case "bottom": return e ? t ? Cx : _x : t ? _x : Cx; case "left": case "right": return t ? PP : OP; default: return [] } } function DP(i, t, e, n) { const r = Yd(i); let s = kP(Fl(i), e === "start", n); return r && (s = s.map(o => o + "-" + r), t && (s = s.concat(s.map(fb)))), s } function Km(i) { return i.replace(/left|right|bottom|top/g, t => NP[t]) } function jP(i) { return { top: 0, right: 0, bottom: 0, left: 0, ...i } } function NE(i) { return typeof i != "number" ? jP(i) : { top: i, right: i, bottom: i, left: i } } function Qm(i) { const { x: t, y: e, width: n, height: r } = i; return { width: n, height: r, top: e, left: t, right: t + n, bottom: e + r, x: t, y: e } } function Nx(i, t, e) { let { reference: n, floating: r } = i; const s = qo(t), o = Sy(t), c = xy(o), u = Fl(t), d = s === "y", f = n.x + n.width / 2 - r.width / 2, p = n.y + n.height / 2 - r.height / 2, m = n[c] / 2 - r[c] / 2; let v; switch (u) { case "top": v = { x: f, y: n.y - r.height }; break; case "bottom": v = { x: f, y: n.y + n.height }; break; case "right": v = { x: n.x + n.width, y: p }; break; case "left": v = { x: n.x - r.width, y: p }; break; default: v = { x: n.x, y: n.y } }switch (Yd(t)) { case "start": v[o] -= m * (e && d ? -1 : 1); break; case "end": v[o] += m * (e && d ? -1 : 1); break }return v } const IP = async (i, t, e) => { const { placement: n = "bottom", strategy: r = "absolute", middleware: s = [], platform: o } = e, c = s.filter(Boolean), u = await (o.isRTL == null ? void 0 : o.isRTL(t)); let d = await o.getElementRects({ reference: i, floating: t, strategy: r }), { x: f, y: p } = Nx(d, n, u), m = n, v = {}, x = 0; for (let y = 0; y < c.length; y++) { const { name: E, fn: A } = c[y], { x: T, y: L, data: k, reset: O } = await A({ x: f, y: p, initialPlacement: n, placement: m, strategy: r, middlewareData: v, rects: d, platform: o, elements: { reference: i, floating: t } }); f = T ?? f, p = L ?? p, v = { ...v, [E]: { ...v[E], ...k } }, O && x <= 50 && (x++, typeof O == "object" && (O.placement && (m = O.placement), O.rects && (d = O.rects === !0 ? await o.getElementRects({ reference: i, floating: t, strategy: r }) : O.rects), { x: f, y: p } = Nx(d, m, u)), y = -1) } return { x: f, y: p, placement: m, strategy: r, middlewareData: v } }; async function mp(i, t) { var e; t === void 0 && (t = {}); const { x: n, y: r, platform: s, rects: o, elements: c, strategy: u } = i, { boundary: d = "clippingAncestors", rootBoundary: f = "viewport", elementContext: p = "floating", altBoundary: m = !1, padding: v = 0 } = Il(t, i), x = NE(v), E = c[m ? p === "floating" ? "reference" : "floating" : p], A = Qm(await s.getClippingRect({ element: (e = await (s.isElement == null ? void 0 : s.isElement(E))) == null || e ? E : E.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(c.floating)), boundary: d, rootBoundary: f, strategy: u })), T = p === "floating" ? { x: n, y: r, width: o.floating.width, height: o.floating.height } : o.reference, L = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(c.floating)), k = await (s.isElement == null ? void 0 : s.isElement(L)) ? await (s.getScale == null ? void 0 : s.getScale(L)) || { x: 1, y: 1 } : { x: 1, y: 1 }, O = Qm(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({ elements: c, rect: T, offsetParent: L, strategy: u }) : T); return { top: (A.top - O.top + x.top) / k.y, bottom: (O.bottom - A.bottom + x.bottom) / k.y, left: (A.left - O.left + x.left) / k.x, right: (O.right - A.right + x.right) / k.x } } const FP = i => ({ name: "arrow", options: i, async fn(t) { const { x: e, y: n, placement: r, rects: s, platform: o, elements: c, middlewareData: u } = t, { element: d, padding: f = 0 } = Il(i, t) || {}; if (d == null) return {}; const p = NE(f), m = { x: e, y: n }, v = Sy(r), x = xy(v), y = await o.getDimensions(d), E = v === "y", A = E ? "top" : "left", T = E ? "bottom" : "right", L = E ? "clientHeight" : "clientWidth", k = s.reference[x] + s.reference[v] - m[v] - s.floating[x], O = m[v] - s.reference[v], F = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(d)); let D = F ? F[L] : 0; (!D || !await (o.isElement == null ? void 0 : o.isElement(F))) && (D = c.floating[L] || s.floating[x]); const j = k / 2 - O / 2, J = D / 2 - y[x] / 2 - 1, ot = Wc(p[A], J), z = Wc(p[T], J), G = ot, it = D - y[x] - z, nt = D / 2 - y[x] / 2 + j, ht = db(G, nt, it), U = !u.arrow && Yd(r) != null && nt !== ht && s.reference[x] / 2 - (nt < G ? ot : z) - y[x] / 2 < 0, tt = U ? nt < G ? nt - G : nt - it : 0; return { [v]: m[v] + tt, data: { [v]: ht, centerOffset: nt - ht - tt, ...U && { alignmentOffset: tt } }, reset: U } } }), BP = function (i) { return i === void 0 && (i = {}), { name: "flip", options: i, async fn(t) { var e, n; const { placement: r, middlewareData: s, rects: o, initialPlacement: c, platform: u, elements: d } = t, { mainAxis: f = !0, crossAxis: p = !0, fallbackPlacements: m, fallbackStrategy: v = "bestFit", fallbackAxisSideDirection: x = "none", flipAlignment: y = !0, ...E } = Il(i, t); if ((e = s.arrow) != null && e.alignmentOffset) return {}; const A = Fl(r), T = qo(c), L = Fl(c) === c, k = await (u.isRTL == null ? void 0 : u.isRTL(d.floating)), O = m || (L || !y ? [Km(c)] : MP(c)), F = x !== "none"; !m && F && O.push(...DP(c, y, x, k)); const D = [c, ...O], j = await mp(t, E), J = []; let ot = ((n = s.flip) == null ? void 0 : n.overflows) || []; if (f && J.push(j[A]), p) { const nt = LP(r, o, k); J.push(j[nt[0]], j[nt[1]]) } if (ot = [...ot, { placement: r, overflows: J }], !J.every(nt => nt <= 0)) { var z, G; const nt = (((z = s.flip) == null ? void 0 : z.index) || 0) + 1, ht = D[nt]; if (ht && (!(p === "alignment" ? T !== qo(ht) : !1) || ot.every(Q => Q.overflows[0] > 0 && qo(Q.placement) === T))) return { data: { index: nt, overflows: ot }, reset: { placement: ht } }; let U = (G = ot.filter(tt => tt.overflows[0] <= 0).sort((tt, Q) => tt.overflows[1] - Q.overflows[1])[0]) == null ? void 0 : G.placement; if (!U) switch (v) { case "bestFit": { var it; const tt = (it = ot.filter(Q => { if (F) { const pt = qo(Q.placement); return pt === T || pt === "y" } return !0 }).map(Q => [Q.placement, Q.overflows.filter(pt => pt > 0).reduce((pt, Y) => pt + Y, 0)]).sort((Q, pt) => Q[1] - pt[1])[0]) == null ? void 0 : it[0]; tt && (U = tt); break } case "initialPlacement": U = c; break }if (r !== U) return { reset: { placement: U } } } return {} } } }; function Rx(i, t) { return { top: i.top - t.height, right: i.right - t.width, bottom: i.bottom - t.height, left: i.left - t.width } } function Tx(i) { return CP.some(t => i[t] >= 0) } const zP = function (i) { return i === void 0 && (i = {}), { name: "hide", options: i, async fn(t) { const { rects: e } = t, { strategy: n = "referenceHidden", ...r } = Il(i, t); switch (n) { case "referenceHidden": { const s = await mp(t, { ...r, elementContext: "reference" }), o = Rx(s, e.reference); return { data: { referenceHiddenOffsets: o, referenceHidden: Tx(o) } } } case "escaped": { const s = await mp(t, { ...r, altBoundary: !0 }), o = Rx(s, e.floating); return { data: { escapedOffsets: o, escaped: Tx(o) } } } default: return {} } } } }, RE = new Set(["left", "top"]); async function UP(i, t) { const { placement: e, platform: n, elements: r } = i, s = await (n.isRTL == null ? void 0 : n.isRTL(r.floating)), o = Fl(e), c = Yd(e), u = qo(e) === "y", d = RE.has(o) ? -1 : 1, f = s && u ? -1 : 1, p = Il(t, i); let { mainAxis: m, crossAxis: v, alignmentAxis: x } = typeof p == "number" ? { mainAxis: p, crossAxis: 0, alignmentAxis: null } : { mainAxis: p.mainAxis || 0, crossAxis: p.crossAxis || 0, alignmentAxis: p.alignmentAxis }; return c && typeof x == "number" && (v = c === "end" ? x * -1 : x), u ? { x: v * f, y: m * d } : { x: m * d, y: v * f } } const HP = function (i) { return i === void 0 && (i = 0), { name: "offset", options: i, async fn(t) { var e, n; const { x: r, y: s, placement: o, middlewareData: c } = t, u = await UP(t, i); return o === ((e = c.offset) == null ? void 0 : e.placement) && (n = c.arrow) != null && n.alignmentOffset ? {} : { x: r + u.x, y: s + u.y, data: { ...u, placement: o } } } } }, qP = function (i) { return i === void 0 && (i = {}), { name: "shift", options: i, async fn(t) { const { x: e, y: n, placement: r } = t, { mainAxis: s = !0, crossAxis: o = !1, limiter: c = { fn: E => { let { x: A, y: T } = E; return { x: A, y: T } } }, ...u } = Il(i, t), d = { x: e, y: n }, f = await mp(t, u), p = qo(Fl(r)), m = wy(p); let v = d[m], x = d[p]; if (s) { const E = m === "y" ? "top" : "left", A = m === "y" ? "bottom" : "right", T = v + f[E], L = v - f[A]; v = db(T, v, L) } if (o) { const E = p === "y" ? "top" : "left", A = p === "y" ? "bottom" : "right", T = x + f[E], L = x - f[A]; x = db(T, x, L) } const y = c.fn({ ...t, [m]: v, [p]: x }); return { ...y, data: { x: y.x - e, y: y.y - n, enabled: { [m]: s, [p]: o } } } } } }, VP = function (i) { return i === void 0 && (i = {}), { options: i, fn(t) { const { x: e, y: n, placement: r, rects: s, middlewareData: o } = t, { offset: c = 0, mainAxis: u = !0, crossAxis: d = !0 } = Il(i, t), f = { x: e, y: n }, p = qo(r), m = wy(p); let v = f[m], x = f[p]; const y = Il(c, t), E = typeof y == "number" ? { mainAxis: y, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...y }; if (u) { const L = m === "y" ? "height" : "width", k = s.reference[m] - s.floating[L] + E.mainAxis, O = s.reference[m] + s.reference[L] - E.mainAxis; v < k ? v = k : v > O && (v = O) } if (d) { var A, T; const L = m === "y" ? "width" : "height", k = RE.has(Fl(r)), O = s.reference[p] - s.floating[L] + (k && ((A = o.offset) == null ? void 0 : A[p]) || 0) + (k ? 0 : E.crossAxis), F = s.reference[p] + s.reference[L] + (k ? 0 : ((T = o.offset) == null ? void 0 : T[p]) || 0) - (k ? E.crossAxis : 0); x < O ? x = O : x > F && (x = F) } return { [m]: v, [p]: x } } } }, GP = function (i) { return i === void 0 && (i = {}), { name: "size", options: i, async fn(t) { var e, n; const { placement: r, rects: s, platform: o, elements: c } = t, { apply: u = () => { }, ...d } = Il(i, t), f = await mp(t, d), p = Fl(r), m = Yd(r), v = qo(r) === "y", { width: x, height: y } = s.floating; let E, A; p === "top" || p === "bottom" ? (E = p, A = m === (await (o.isRTL == null ? void 0 : o.isRTL(c.floating)) ? "start" : "end") ? "left" : "right") : (A = p, E = m === "end" ? "top" : "bottom"); const T = y - f.top - f.bottom, L = x - f.left - f.right, k = Wc(y - f[E], T), O = Wc(x - f[A], L), F = !t.middlewareData.shift; let D = k, j = O; if ((e = t.middlewareData.shift) != null && e.enabled.x && (j = L), (n = t.middlewareData.shift) != null && n.enabled.y && (D = T), F && !m) { const ot = Fs(f.left, 0), z = Fs(f.right, 0), G = Fs(f.top, 0), it = Fs(f.bottom, 0); v ? j = x - 2 * (ot !== 0 || z !== 0 ? ot + z : Fs(f.left, f.right)) : D = y - 2 * (G !== 0 || it !== 0 ? G + it : Fs(f.top, f.bottom)) } await u({ ...t, availableWidth: j, availableHeight: D }); const J = await o.getDimensions(c.floating); return x !== J.width || y !== J.height ? { reset: { rects: !0 } } : {} } } }; function b0() { return typeof window < "u" } function Xd(i) { return TE(i) ? (i.nodeName || "").toLowerCase() : "#document" } function Hs(i) { var t; return (i == null || (t = i.ownerDocument) == null ? void 0 : t.defaultView) || window } function Zo(i) { var t; return (t = (TE(i) ? i.ownerDocument : i.document) || window.document) == null ? void 0 : t.documentElement } function TE(i) { return b0() ? i instanceof Node || i instanceof Hs(i).Node : !1 } function qa(i) { return b0() ? i instanceof Element || i instanceof Hs(i).Element : !1 } function Ko(i) { return b0() ? i instanceof HTMLElement || i instanceof Hs(i).HTMLElement : !1 } function Lx(i) { return !b0() || typeof ShadowRoot > "u" ? !1 : i instanceof ShadowRoot || i instanceof Hs(i).ShadowRoot } const $P = new Set(["inline", "contents"]); function zp(i) { const { overflow: t, overflowX: e, overflowY: n, display: r } = Va(i); return /auto|scroll|overlay|hidden|clip/.test(t + n + e) && !$P.has(r) } const WP = new Set(["table", "td", "th"]); function YP(i) { return WP.has(Xd(i)) } const XP = [":popover-open", ":modal"]; function y0(i) { return XP.some(t => { try { return i.matches(t) } catch { return !1 } }) } const KP = ["transform", "translate", "scale", "rotate", "perspective"], QP = ["transform", "translate", "scale", "rotate", "perspective", "filter"], ZP = ["paint", "layout", "strict", "content"]; function Ay(i) { const t = Ey(), e = qa(i) ? Va(i) : i; return KP.some(n => e[n] ? e[n] !== "none" : !1) || (e.containerType ? e.containerType !== "normal" : !1) || !t && (e.backdropFilter ? e.backdropFilter !== "none" : !1) || !t && (e.filter ? e.filter !== "none" : !1) || QP.some(n => (e.willChange || "").includes(n)) || ZP.some(n => (e.contain || "").includes(n)) } function JP(i) { let t = Yc(i); for (; Ko(t) && !Pd(t);) { if (Ay(t)) return t; if (y0(t)) return null; t = Yc(t) } return null } function Ey() { return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none") } const tO = new Set(["html", "body", "#document"]); function Pd(i) { return tO.has(Xd(i)) } function Va(i) { return Hs(i).getComputedStyle(i) } function w0(i) { return qa(i) ? { scrollLeft: i.scrollLeft, scrollTop: i.scrollTop } : { scrollLeft: i.scrollX, scrollTop: i.scrollY } } function Yc(i) { if (Xd(i) === "html") return i; const t = i.assignedSlot || i.parentNode || Lx(i) && i.host || Zo(i); return Lx(t) ? t.host : t } function LE(i) { const t = Yc(i); return Pd(t) ? i.ownerDocument ? i.ownerDocument.body : i.body : Ko(t) && zp(t) ? t : LE(t) } function vp(i, t, e) { var n; t === void 0 && (t = []), e === void 0 && (e = !0); const r = LE(i), s = r === ((n = i.ownerDocument) == null ? void 0 : n.body), o = Hs(r); if (s) { const c = pb(o); return t.concat(o, o.visualViewport || [], zp(r) ? r : [], c && e ? vp(c) : []) } return t.concat(r, vp(r, [], e)) } function pb(i) { return i.parent && Object.getPrototypeOf(i.parent) ? i.frameElement : null } function ME(i) { const t = Va(i); let e = parseFloat(t.width) || 0, n = parseFloat(t.height) || 0; const r = Ko(i), s = r ? i.offsetWidth : e, o = r ? i.offsetHeight : n, c = Xm(e) !== s || Xm(n) !== o; return c && (e = s, n = o), { width: e, height: n, $: c } } function _y(i) { return qa(i) ? i : i.contextElement } function yd(i) { const t = _y(i); if (!Ko(t)) return Go(1); const e = t.getBoundingClientRect(), { width: n, height: r, $: s } = ME(t); let o = (s ? Xm(e.width) : e.width) / n, c = (s ? Xm(e.height) : e.height) / r; return (!o || !Number.isFinite(o)) && (o = 1), (!c || !Number.isFinite(c)) && (c = 1), { x: o, y: c } } const eO = Go(0); function PE(i) { const t = Hs(i); return !Ey() || !t.visualViewport ? eO : { x: t.visualViewport.offsetLeft, y: t.visualViewport.offsetTop } } function nO(i, t, e) { return t === void 0 && (t = !1), !e || t && e !== Hs(i) ? !1 : t } function sh(i, t, e, n) { t === void 0 && (t = !1), e === void 0 && (e = !1); const r = i.getBoundingClientRect(), s = _y(i); let o = Go(1); t && (n ? qa(n) && (o = yd(n)) : o = yd(i)); const c = nO(s, e, n) ? PE(s) : Go(0); let u = (r.left + c.x) / o.x, d = (r.top + c.y) / o.y, f = r.width / o.x, p = r.height / o.y; if (s) { const m = Hs(s), v = n && qa(n) ? Hs(n) : n; let x = m, y = pb(x); for (; y && n && v !== x;) { const E = yd(y), A = y.getBoundingClientRect(), T = Va(y), L = A.left + (y.clientLeft + parseFloat(T.paddingLeft)) * E.x, k = A.top + (y.clientTop + parseFloat(T.paddingTop)) * E.y; u *= E.x, d *= E.y, f *= E.x, p *= E.y, u += L, d += k, x = Hs(y), y = pb(x) } } return Qm({ width: f, height: p, x: u, y: d }) } function Cy(i, t) { const e = w0(i).scrollLeft; return t ? t.left + e : sh(Zo(i)).left + e } function OE(i, t, e) { e === void 0 && (e = !1); const n = i.getBoundingClientRect(), r = n.left + t.scrollLeft - (e ? 0 : Cy(i, n)), s = n.top + t.scrollTop; return { x: r, y: s } } function iO(i) { let { elements: t, rect: e, offsetParent: n, strategy: r } = i; const s = r === "fixed", o = Zo(n), c = t ? y0(t.floating) : !1; if (n === o || c && s) return e; let u = { scrollLeft: 0, scrollTop: 0 }, d = Go(1); const f = Go(0), p = Ko(n); if ((p || !p && !s) && ((Xd(n) !== "body" || zp(o)) && (u = w0(n)), Ko(n))) { const v = sh(n); d = yd(n), f.x = v.x + n.clientLeft, f.y = v.y + n.clientTop } const m = o && !p && !s ? OE(o, u, !0) : Go(0); return { width: e.width * d.x, height: e.height * d.y, x: e.x * d.x - u.scrollLeft * d.x + f.x + m.x, y: e.y * d.y - u.scrollTop * d.y + f.y + m.y } } function rO(i) { return Array.from(i.getClientRects()) } function sO(i) { const t = Zo(i), e = w0(i), n = i.ownerDocument.body, r = Fs(t.scrollWidth, t.clientWidth, n.scrollWidth, n.clientWidth), s = Fs(t.scrollHeight, t.clientHeight, n.scrollHeight, n.clientHeight); let o = -e.scrollLeft + Cy(i); const c = -e.scrollTop; return Va(n).direction === "rtl" && (o += Fs(t.clientWidth, n.clientWidth) - r), { width: r, height: s, x: o, y: c } } function aO(i, t) { const e = Hs(i), n = Zo(i), r = e.visualViewport; let s = n.clientWidth, o = n.clientHeight, c = 0, u = 0; if (r) { s = r.width, o = r.height; const d = Ey(); (!d || d && t === "fixed") && (c = r.offsetLeft, u = r.offsetTop) } return { width: s, height: o, x: c, y: u } } const oO = new Set(["absolute", "fixed"]); function lO(i, t) { const e = sh(i, !0, t === "fixed"), n = e.top + i.clientTop, r = e.left + i.clientLeft, s = Ko(i) ? yd(i) : Go(1), o = i.clientWidth * s.x, c = i.clientHeight * s.y, u = r * s.x, d = n * s.y; return { width: o, height: c, x: u, y: d } } function Mx(i, t, e) { let n; if (t === "viewport") n = aO(i, e); else if (t === "document") n = sO(Zo(i)); else if (qa(t)) n = lO(t, e); else { const r = PE(i); n = { x: t.x - r.x, y: t.y - r.y, width: t.width, height: t.height } } return Qm(n) } function kE(i, t) { const e = Yc(i); return e === t || !qa(e) || Pd(e) ? !1 : Va(e).position === "fixed" || kE(e, t) } function cO(i, t) { const e = t.get(i); if (e) return e; let n = vp(i, [], !1).filter(c => qa(c) && Xd(c) !== "body"), r = null; const s = Va(i).position === "fixed"; let o = s ? Yc(i) : i; for (; qa(o) && !Pd(o);) { const c = Va(o), u = Ay(o); !u && c.position === "fixed" && (r = null), (s ? !u && !r : !u && c.position === "static" && !!r && oO.has(r.position) || zp(o) && !u && kE(i, o)) ? n = n.filter(f => f !== o) : r = c, o = Yc(o) } return t.set(i, n), n } function uO(i) { let { element: t, boundary: e, rootBoundary: n, strategy: r } = i; const o = [...e === "clippingAncestors" ? y0(t) ? [] : cO(t, this._c) : [].concat(e), n], c = o[0], u = o.reduce((d, f) => { const p = Mx(t, f, r); return d.top = Fs(p.top, d.top), d.right = Wc(p.right, d.right), d.bottom = Wc(p.bottom, d.bottom), d.left = Fs(p.left, d.left), d }, Mx(t, c, r)); return { width: u.right - u.left, height: u.bottom - u.top, x: u.left, y: u.top } } function hO(i) { const { width: t, height: e } = ME(i); return { width: t, height: e } } function dO(i, t, e) { const n = Ko(t), r = Zo(t), s = e === "fixed", o = sh(i, !0, s, t); let c = { scrollLeft: 0, scrollTop: 0 }; const u = Go(0); function d() { u.x = Cy(r) } if (n || !n && !s) if ((Xd(t) !== "body" || zp(r)) && (c = w0(t)), n) { const v = sh(t, !0, s, t); u.x = v.x + t.clientLeft, u.y = v.y + t.clientTop } else r && d(); s && !n && r && d(); const f = r && !n && !s ? OE(r, c) : Go(0), p = o.left + c.scrollLeft - u.x - f.x, m = o.top + c.scrollTop - u.y - f.y; return { x: p, y: m, width: o.width, height: o.height } } function v1(i) { return Va(i).position === "static" } function Px(i, t) { if (!Ko(i) || Va(i).position === "fixed") return null; if (t) return t(i); let e = i.offsetParent; return Zo(i) === e && (e = e.ownerDocument.body), e } function DE(i, t) { const e = Hs(i); if (y0(i)) return e; if (!Ko(i)) { let r = Yc(i); for (; r && !Pd(r);) { if (qa(r) && !v1(r)) return r; r = Yc(r) } return e } let n = Px(i, t); for (; n && YP(n) && v1(n);)n = Px(n, t); return n && Pd(n) && v1(n) && !Ay(n) ? e : n || JP(i) || e } const fO = async function (i) { const t = this.getOffsetParent || DE, e = this.getDimensions, n = await e(i.floating); return { reference: dO(i.reference, await t(i.floating), i.strategy), floating: { x: 0, y: 0, width: n.width, height: n.height } } }; function pO(i) { return Va(i).direction === "rtl" } const gO = { convertOffsetParentRelativeRectToViewportRelativeRect: iO, getDocumentElement: Zo, getClippingRect: uO, getOffsetParent: DE, getElementRects: fO, getClientRects: rO, getDimensions: hO, getScale: yd, isElement: qa, isRTL: pO }; function jE(i, t) { return i.x === t.x && i.y === t.y && i.width === t.width && i.height === t.height } function mO(i, t) { let e = null, n; const r = Zo(i); function s() { var c; clearTimeout(n), (c = e) == null || c.disconnect(), e = null } function o(c, u) { c === void 0 && (c = !1), u === void 0 && (u = 1), s(); const d = i.getBoundingClientRect(), { left: f, top: p, width: m, height: v } = d; if (c || t(), !m || !v) return; const x = am(p), y = am(r.clientWidth - (f + m)), E = am(r.clientHeight - (p + v)), A = am(f), L = { rootMargin: -x + "px " + -y + "px " + -E + "px " + -A + "px", threshold: Fs(0, Wc(1, u)) || 1 }; let k = !0; function O(F) { const D = F[0].intersectionRatio; if (D !== u) { if (!k) return o(); D ? o(!1, D) : n = setTimeout(() => { o(!1, 1e-7) }, 1e3) } D === 1 && !jE(d, i.getBoundingClientRect()) && o(), k = !1 } try { e = new IntersectionObserver(O, { ...L, root: r.ownerDocument }) } catch { e = new IntersectionObserver(O, L) } e.observe(i) } return o(!0), s } function vO(i, t, e, n) { n === void 0 && (n = {}); const { ancestorScroll: r = !0, ancestorResize: s = !0, elementResize: o = typeof ResizeObserver == "function", layoutShift: c = typeof IntersectionObserver == "function", animationFrame: u = !1 } = n, d = _y(i), f = r || s ? [...d ? vp(d) : [], ...vp(t)] : []; f.forEach(A => { r && A.addEventListener("scroll", e, { passive: !0 }), s && A.addEventListener("resize", e) }); const p = d && c ? mO(d, e) : null; let m = -1, v = null; o && (v = new ResizeObserver(A => { let [T] = A; T && T.target === d && v && (v.unobserve(t), cancelAnimationFrame(m), m = requestAnimationFrame(() => { var L; (L = v) == null || L.observe(t) })), e() }), d && !u && v.observe(d), v.observe(t)); let x, y = u ? sh(i) : null; u && E(); function E() { const A = sh(i); y && !jE(y, A) && e(), y = A, x = requestAnimationFrame(E) } return e(), () => { var A; f.forEach(T => { r && T.removeEventListener("scroll", e), s && T.removeEventListener("resize", e) }), p?.(), (A = v) == null || A.disconnect(), v = null, u && cancelAnimationFrame(x) } } const bO = HP, yO = qP, wO = BP, xO = GP, SO = zP, Ox = FP, AO = VP, EO = (i, t, e) => { const n = new Map, r = { platform: gO, ...e }, s = { ...r.platform, _c: n }; return IP(i, t, { ...r, platform: s }) }; var _O = typeof document < "u", CO = function () { }, Mm = _O ? M.useLayoutEffect : CO; function Zm(i, t) { if (i === t) return !0; if (typeof i != typeof t) return !1; if (typeof i == "function" && i.toString() === t.toString()) return !0; let e, n, r; if (i && t && typeof i == "object") { if (Array.isArray(i)) { if (e = i.length, e !== t.length) return !1; for (n = e; n-- !== 0;)if (!Zm(i[n], t[n])) return !1; return !0 } if (r = Object.keys(i), e = r.length, e !== Object.keys(t).length) return !1; for (n = e; n-- !== 0;)if (!{}.hasOwnProperty.call(t, r[n])) return !1; for (n = e; n-- !== 0;) { const s = r[n]; if (!(s === "_owner" && i.$$typeof) && !Zm(i[s], t[s])) return !1 } return !0 } return i !== i && t !== t } function IE(i) { return typeof window > "u" ? 1 : (i.ownerDocument.defaultView || window).devicePixelRatio || 1 } function kx(i, t) { const e = IE(i); return Math.round(t * e) / e } function b1(i) { const t = M.useRef(i); return Mm(() => { t.current = i }), t } function NO(i) { i === void 0 && (i = {}); const { placement: t = "bottom", strategy: e = "absolute", middleware: n = [], platform: r, elements: { reference: s, floating: o } = {}, transform: c = !0, whileElementsMounted: u, open: d } = i, [f, p] = M.useState({ x: 0, y: 0, strategy: e, placement: t, middlewareData: {}, isPositioned: !1 }), [m, v] = M.useState(n); Zm(m, n) || v(n); const [x, y] = M.useState(null), [E, A] = M.useState(null), T = M.useCallback(Q => { Q !== F.current && (F.current = Q, y(Q)) }, []), L = M.useCallback(Q => { Q !== D.current && (D.current = Q, A(Q)) }, []), k = s || x, O = o || E, F = M.useRef(null), D = M.useRef(null), j = M.useRef(f), J = u != null, ot = b1(u), z = b1(r), G = b1(d), it = M.useCallback(() => { if (!F.current || !D.current) return; const Q = { placement: t, strategy: e, middleware: m }; z.current && (Q.platform = z.current), EO(F.current, D.current, Q).then(pt => { const Y = { ...pt, isPositioned: G.current !== !1 }; nt.current && !Zm(j.current, Y) && (j.current = Y, Fp.flushSync(() => { p(Y) })) }) }, [m, t, e, z, G]); Mm(() => { d === !1 && j.current.isPositioned && (j.current.isPositioned = !1, p(Q => ({ ...Q, isPositioned: !1 }))) }, [d]); const nt = M.useRef(!1); Mm(() => (nt.current = !0, () => { nt.current = !1 }), []), Mm(() => { if (k && (F.current = k), O && (D.current = O), k && O) { if (ot.current) return ot.current(k, O, it); it() } }, [k, O, it, ot, J]); const ht = M.useMemo(() => ({ reference: F, floating: D, setReference: T, setFloating: L }), [T, L]), U = M.useMemo(() => ({ reference: k, floating: O }), [k, O]), tt = M.useMemo(() => { const Q = { position: e, left: 0, top: 0 }; if (!U.floating) return Q; const pt = kx(U.floating, f.x), Y = kx(U.floating, f.y); return c ? { ...Q, transform: "translate(" + pt + "px, " + Y + "px)", ...IE(U.floating) >= 1.5 && { willChange: "transform" } } : { position: e, left: pt, top: Y } }, [e, c, U.floating, f.x, f.y]); return M.useMemo(() => ({ ...f, update: it, refs: ht, elements: U, floatingStyles: tt }), [f, it, ht, U, tt]) } const RO = i => { function t(e) { return {}.hasOwnProperty.call(e, "current") } return { name: "arrow", options: i, fn(e) { const { element: n, padding: r } = typeof i == "function" ? i(e) : i; return n && t(n) ? n.current != null ? Ox({ element: n.current, padding: r }).fn(e) : {} : n ? Ox({ element: n, padding: r }).fn(e) : {} } } }, TO = (i, t) => ({ ...bO(i), options: [i, t] }), LO = (i, t) => ({ ...yO(i), options: [i, t] }), MO = (i, t) => ({ ...AO(i), options: [i, t] }), PO = (i, t) => ({ ...wO(i), options: [i, t] }), OO = (i, t) => ({ ...xO(i), options: [i, t] }), kO = (i, t) => ({ ...SO(i), options: [i, t] }), DO = (i, t) => ({ ...RO(i), options: [i, t] }); var jO = "Arrow", FE = M.forwardRef((i, t) => { const { children: e, width: n = 10, height: r = 5, ...s } = i; return N.jsx(cn.svg, { ...s, ref: t, width: n, height: r, viewBox: "0 0 30 10", preserveAspectRatio: "none", children: i.asChild ? e : N.jsx("polygon", { points: "0,0 30,0 15,10" }) }) }); FE.displayName = jO; var IO = FE; function BE(i) { const [t, e] = M.useState(void 0); return Zi(() => { if (i) { e({ width: i.offsetWidth, height: i.offsetHeight }); const n = new ResizeObserver(r => { if (!Array.isArray(r) || !r.length) return; const s = r[0]; let o, c; if ("borderBoxSize" in s) { const u = s.borderBoxSize, d = Array.isArray(u) ? u[0] : u; o = d.inlineSize, c = d.blockSize } else o = i.offsetWidth, c = i.offsetHeight; e({ width: o, height: c }) }); return n.observe(i, { box: "border-box" }), () => n.unobserve(i) } else e(void 0) }, [i]), t } var Ny = "Popper", [zE, Kd] = Jc(Ny), [FO, UE] = zE(Ny), HE = i => { const { __scopePopper: t, children: e } = i, [n, r] = M.useState(null); return N.jsx(FO, { scope: t, anchor: n, onAnchorChange: r, children: e }) }; HE.displayName = Ny; var qE = "PopperAnchor", VE = M.forwardRef((i, t) => { const { __scopePopper: e, virtualRef: n, ...r } = i, s = UE(qE, e), o = M.useRef(null), c = Vn(t, o); return M.useEffect(() => { s.onAnchorChange(n?.current || o.current) }), n ? null : N.jsx(cn.div, { ...r, ref: c }) }); VE.displayName = qE; var Ry = "PopperContent", [BO, zO] = zE(Ry), GE = M.forwardRef((i, t) => { const { __scopePopper: e, side: n = "bottom", sideOffset: r = 0, align: s = "center", alignOffset: o = 0, arrowPadding: c = 0, avoidCollisions: u = !0, collisionBoundary: d = [], collisionPadding: f = 0, sticky: p = "partial", hideWhenDetached: m = !1, updatePositionStrategy: v = "optimized", onPlaced: x, ...y } = i, E = UE(Ry, e), [A, T] = M.useState(null), L = Vn(t, ct => T(ct)), [k, O] = M.useState(null), F = BE(k), D = F?.width ?? 0, j = F?.height ?? 0, J = n + (s !== "center" ? "-" + s : ""), ot = typeof f == "number" ? f : { top: 0, right: 0, bottom: 0, left: 0, ...f }, z = Array.isArray(d) ? d : [d], G = z.length > 0, it = { padding: ot, boundary: z.filter(HO), altBoundary: G }, { refs: nt, floatingStyles: ht, placement: U, isPositioned: tt, middlewareData: Q } = NO({ strategy: "fixed", placement: J, whileElementsMounted: (...ct) => vO(...ct, { animationFrame: v === "always" }), elements: { reference: E.anchor }, middleware: [TO({ mainAxis: r + j, alignmentAxis: o }), u && LO({ mainAxis: !0, crossAxis: !1, limiter: p === "partial" ? MO() : void 0, ...it }), u && PO({ ...it }), OO({ ...it, apply: ({ elements: ct, rects: gt, availableWidth: xt, availableHeight: Tt }) => { const { width: kt, height: zt } = gt.reference, $t = ct.floating.style; $t.setProperty("--radix-popper-available-width", `${xt}px`), $t.setProperty("--radix-popper-available-height", `${Tt}px`), $t.setProperty("--radix-popper-anchor-width", `${kt}px`), $t.setProperty("--radix-popper-anchor-height", `${zt}px`) } }), k && DO({ element: k, padding: c }), qO({ arrowWidth: D, arrowHeight: j }), m && kO({ strategy: "referenceHidden", ...it })] }), [pt, Y] = YE(U), ft = $c(x); Zi(() => { tt && ft?.() }, [tt, ft]); const I = Q.arrow?.x, V = Q.arrow?.y, Z = Q.arrow?.centerOffset !== 0, [st, at] = M.useState(); return Zi(() => { A && at(window.getComputedStyle(A).zIndex) }, [A]), N.jsx("div", { ref: nt.setFloating, "data-radix-popper-content-wrapper": "", style: { ...ht, transform: tt ? ht.transform : "translate(0, -200%)", minWidth: "max-content", zIndex: st, "--radix-popper-transform-origin": [Q.transformOrigin?.x, Q.transformOrigin?.y].join(" "), ...Q.hide?.referenceHidden && { visibility: "hidden", pointerEvents: "none" } }, dir: i.dir, children: N.jsx(BO, { scope: e, placedSide: pt, onArrowChange: O, arrowX: I, arrowY: V, shouldHideArrow: Z, children: N.jsx(cn.div, { "data-side": pt, "data-align": Y, ...y, ref: L, style: { ...y.style, animation: tt ? void 0 : "none" } }) }) }) }); GE.displayName = Ry; var $E = "PopperArrow", UO = { top: "bottom", right: "left", bottom: "top", left: "right" }, WE = M.forwardRef(function (t, e) { const { __scopePopper: n, ...r } = t, s = zO($E, n), o = UO[s.placedSide]; return N.jsx("span", { ref: s.onArrowChange, style: { position: "absolute", left: s.arrowX, top: s.arrowY, [o]: 0, transformOrigin: { top: "", right: "0 0", bottom: "center 0", left: "100% 0" }[s.placedSide], transform: { top: "translateY(100%)", right: "translateY(50%) rotate(90deg) translateX(-50%)", bottom: "rotate(180deg)", left: "translateY(50%) rotate(-90deg) translateX(50%)" }[s.placedSide], visibility: s.shouldHideArrow ? "hidden" : void 0 }, children: N.jsx(IO, { ...r, ref: e, style: { ...r.style, display: "block" } }) }) }); WE.displayName = $E; function HO(i) { return i !== null } var qO = i => ({ name: "transformOrigin", options: i, fn(t) { const { placement: e, rects: n, middlewareData: r } = t, o = r.arrow?.centerOffset !== 0, c = o ? 0 : i.arrowWidth, u = o ? 0 : i.arrowHeight, [d, f] = YE(e), p = { start: "0%", center: "50%", end: "100%" }[f], m = (r.arrow?.x ?? 0) + c / 2, v = (r.arrow?.y ?? 0) + u / 2; let x = "", y = ""; return d === "bottom" ? (x = o ? p : `${m}px`, y = `${-u}px`) : d === "top" ? (x = o ? p : `${m}px`, y = `${n.floating.height + u}px`) : d === "right" ? (x = `${-u}px`, y = o ? p : `${v}px`) : d === "left" && (x = `${n.floating.width + u}px`, y = o ? p : `${v}px`), { data: { x, y } } } }); function YE(i) { const [t, e = "center"] = i.split("-"); return [t, e] } var Ty = HE, x0 = VE, Ly = GE, My = WE, VO = "Portal", Up = M.forwardRef((i, t) => { const { container: e, ...n } = i, [r, s] = M.useState(!1); Zi(() => s(!0), []); const o = e || r && globalThis?.document?.body; return o ? lE.createPortal(N.jsx(cn.div, { ...n, ref: t }), o) : null }); Up.displayName = VO; var GO = lA[" useInsertionEffect ".trim().toString()] || Zi; function Od({ prop: i, defaultProp: t, onChange: e = () => { }, caller: n }) { const [r, s, o] = $O({ defaultProp: t, onChange: e }), c = i !== void 0, u = c ? i : r; { const f = M.useRef(i !== void 0); M.useEffect(() => { const p = f.current; p !== c && console.warn(`${n} is changing from ${p ? "controlled" : "uncontrolled"} to ${c ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`), f.current = c }, [c, n]) } const d = M.useCallback(f => { if (c) { const p = WO(f) ? f(i) : f; p !== i && o.current?.(p) } else s(f) }, [c, i, s, o]); return [u, d] } function $O({ defaultProp: i, onChange: t }) { const [e, n] = M.useState(i), r = M.useRef(e), s = M.useRef(t); return GO(() => { s.current = t }, [t]), M.useEffect(() => { r.current !== e && (s.current?.(e), r.current = e) }, [e, r]), [e, n, s] } function WO(i) { return typeof i == "function" } function XE(i) { const t = M.useRef({ value: i, previous: i }); return M.useMemo(() => (t.current.value !== i && (t.current.previous = t.current.value, t.current.value = i), t.current.previous), [i]) } var KE = Object.freeze({ position: "absolute", border: 0, width: 1, height: 1, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", wordWrap: "normal" }), YO = "VisuallyHidden", QE = M.forwardRef((i, t) => N.jsx(cn.span, { ...i, ref: t, style: { ...KE, ...i.style } })); QE.displayName = YO; var XO = QE, KO = function (i) { if (typeof document > "u") return null; var t = Array.isArray(i) ? i[0] : i; return t.ownerDocument.body }, rd = new WeakMap, om = new WeakMap, lm = {}, y1 = 0, ZE = function (i) { return i && (i.host || ZE(i.parentNode)) }, QO = function (i, t) { return t.map(function (e) { if (i.contains(e)) return e; var n = ZE(e); return n && i.contains(n) ? n : (console.error("aria-hidden", e, "in not contained inside", i, ". Doing nothing"), null) }).filter(function (e) { return !!e }) }, ZO = function (i, t, e, n) { var r = QO(t, Array.isArray(i) ? i : [i]); lm[e] || (lm[e] = new WeakMap); var s = lm[e], o = [], c = new Set, u = new Set(r), d = function (p) { !p || c.has(p) || (c.add(p), d(p.parentNode)) }; r.forEach(d); var f = function (p) { !p || u.has(p) || Array.prototype.forEach.call(p.children, function (m) { if (c.has(m)) f(m); else try { var v = m.getAttribute(n), x = v !== null && v !== "false", y = (rd.get(m) || 0) + 1, E = (s.get(m) || 0) + 1; rd.set(m, y), s.set(m, E), o.push(m), y === 1 && x && om.set(m, !0), E === 1 && m.setAttribute(e, "true"), x || m.setAttribute(n, "true") } catch (A) { console.error("aria-hidden: cannot operate on ", m, A) } }) }; return f(t), c.clear(), y1++, function () { o.forEach(function (p) { var m = rd.get(p) - 1, v = s.get(p) - 1; rd.set(p, m), s.set(p, v), m || (om.has(p) || p.removeAttribute(n), om.delete(p)), v || p.removeAttribute(e) }), y1--, y1 || (rd = new WeakMap, rd = new WeakMap, om = new WeakMap, lm = {}) } }, Py = function (i, t, e) { e === void 0 && (e = "data-aria-hidden"); var n = Array.from(Array.isArray(i) ? i : [i]), r = KO(i); return r ? (n.push.apply(n, Array.from(r.querySelectorAll("[aria-live], script"))), ZO(n, r, e, "aria-hidden")) : function () { return null } }, Uo = function () { return Uo = Object.assign || function (t) { for (var e, n = 1, r = arguments.length; n < r; n++) { e = arguments[n]; for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]) } return t }, Uo.apply(this, arguments) }; function JE(i, t) { var e = {}; for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && t.indexOf(n) < 0 && (e[n] = i[n]); if (i != null && typeof Object.getOwnPropertySymbols == "function") for (var r = 0, n = Object.getOwnPropertySymbols(i); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(i, n[r]) && (e[n[r]] = i[n[r]]); return e } function JO(i, t, e) { if (e || arguments.length === 2) for (var n = 0, r = t.length, s; n < r; n++)(s || !(n in t)) && (s || (s = Array.prototype.slice.call(t, 0, n)), s[n] = t[n]); return i.concat(s || Array.prototype.slice.call(t)) } var Pm = "right-scroll-bar-position", Om = "width-before-scroll-bar", tk = "with-scroll-bars-hidden", ek = "--removed-body-scroll-bar-size"; function w1(i, t) { return typeof i == "function" ? i(t) : i && (i.current = t), i } function nk(i, t) { var e = M.useState(function () { return { value: i, callback: t, facade: { get current() { return e.value }, set current(n) { var r = e.value; r !== n && (e.value = n, e.callback(n, r)) } } } })[0]; return e.callback = t, e.facade } var ik = typeof window < "u" ? M.useLayoutEffect : M.useEffect, Dx = new WeakMap; function rk(i, t) { var e = nk(null, function (n) { return i.forEach(function (r) { return w1(r, n) }) }); return ik(function () { var n = Dx.get(e); if (n) { var r = new Set(n), s = new Set(i), o = e.current; r.forEach(function (c) { s.has(c) || w1(c, null) }), s.forEach(function (c) { r.has(c) || w1(c, o) }) } Dx.set(e, i) }, [i]), e } function sk(i) { return i } function ak(i, t) { t === void 0 && (t = sk); var e = [], n = !1, r = { read: function () { if (n) throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`."); return e.length ? e[e.length - 1] : i }, useMedium: function (s) { var o = t(s, n); return e.push(o), function () { e = e.filter(function (c) { return c !== o }) } }, assignSyncMedium: function (s) { for (n = !0; e.length;) { var o = e; e = [], o.forEach(s) } e = { push: function (c) { return s(c) }, filter: function () { return e } } }, assignMedium: function (s) { n = !0; var o = []; if (e.length) { var c = e; e = [], c.forEach(s), o = e } var u = function () { var f = o; o = [], f.forEach(s) }, d = function () { return Promise.resolve().then(u) }; d(), e = { push: function (f) { o.push(f), d() }, filter: function (f) { return o = o.filter(f), e } } } }; return r } function ok(i) { i === void 0 && (i = {}); var t = ak(null); return t.options = Uo({ async: !0, ssr: !1 }, i), t } var t_ = function (i) { var t = i.sideCar, e = JE(i, ["sideCar"]); if (!t) throw new Error("Sidecar: please provide `sideCar` property to import the right car"); var n = t.read(); if (!n) throw new Error("Sidecar medium not found"); return M.createElement(n, Uo({}, e)) }; t_.isSideCarExport = !0; function lk(i, t) { return i.useMedium(t), t_ } var e_ = ok(), x1 = function () { }, S0 = M.forwardRef(function (i, t) { var e = M.useRef(null), n = M.useState({ onScrollCapture: x1, onWheelCapture: x1, onTouchMoveCapture: x1 }), r = n[0], s = n[1], o = i.forwardProps, c = i.children, u = i.className, d = i.removeScrollBar, f = i.enabled, p = i.shards, m = i.sideCar, v = i.noRelative, x = i.noIsolation, y = i.inert, E = i.allowPinchZoom, A = i.as, T = A === void 0 ? "div" : A, L = i.gapMode, k = JE(i, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]), O = m, F = rk([e, t]), D = Uo(Uo({}, k), r); return M.createElement(M.Fragment, null, f && M.createElement(O, { sideCar: e_, removeScrollBar: d, shards: p, noRelative: v, noIsolation: x, inert: y, setCallbacks: s, allowPinchZoom: !!E, lockRef: e, gapMode: L }), o ? M.cloneElement(M.Children.only(c), Uo(Uo({}, D), { ref: F })) : M.createElement(T, Uo({}, D, { className: u, ref: F }), c)) }); S0.defaultProps = { enabled: !0, removeScrollBar: !0, inert: !1 }; S0.classNames = { fullWidth: Om, zeroRight: Pm }; var ck = function () { if (typeof __webpack_nonce__ < "u") return __webpack_nonce__ }; function uk() { if (!document) return null; var i = document.createElement("style"); i.type = "text/css"; var t = ck(); return t && i.setAttribute("nonce", t), i } function hk(i, t) { i.styleSheet ? i.styleSheet.cssText = t : i.appendChild(document.createTextNode(t)) } function dk(i) { var t = document.head || document.getElementsByTagName("head")[0]; t.appendChild(i) } var fk = function () { var i = 0, t = null; return { add: function (e) { i == 0 && (t = uk()) && (hk(t, e), dk(t)), i++ }, remove: function () { i--, !i && t && (t.parentNode && t.parentNode.removeChild(t), t = null) } } }, pk = function () { var i = fk(); return function (t, e) { M.useEffect(function () { return i.add(t), function () { i.remove() } }, [t && e]) } }, n_ = function () { var i = pk(), t = function (e) { var n = e.styles, r = e.dynamic; return i(n, r), null }; return t }, gk = { left: 0, top: 0, right: 0, gap: 0 }, S1 = function (i) { return parseInt(i || "", 10) || 0 }, mk = function (i) { var t = window.getComputedStyle(document.body), e = t[i === "padding" ? "paddingLeft" : "marginLeft"], n = t[i === "padding" ? "paddingTop" : "marginTop"], r = t[i === "padding" ? "paddingRight" : "marginRight"]; return [S1(e), S1(n), S1(r)] }, vk = function (i) { if (i === void 0 && (i = "margin"), typeof window > "u") return gk; var t = mk(i), e = document.documentElement.clientWidth, n = window.innerWidth; return { left: t[0], top: t[1], right: t[2], gap: Math.max(0, n - e + t[2] - t[0]) } }, bk = n_(), wd = "data-scroll-locked", yk = function (i, t, e, n) {
  var r = i.left, s = i.top, o = i.right, c = i.gap; return e === void 0 && (e = "margin"), `
  .`.concat(tk, ` {
   overflow: hidden `).concat(n, `;
   padding-right: `).concat(c, "px ").concat(n, `;
  }
  body[`).concat(wd, `] {
    overflow: hidden `).concat(n, `;
    overscroll-behavior: contain;
    `).concat([t && "position: relative ".concat(n, ";"), e === "margin" && `
    padding-left: `.concat(r, `px;
    padding-top: `).concat(s, `px;
    padding-right: `).concat(o, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c, "px ").concat(n, `;
    `), e === "padding" && "padding-right: ".concat(c, "px ").concat(n, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(Pm, ` {
    right: `).concat(c, "px ").concat(n, `;
  }
  
  .`).concat(Om, ` {
    margin-right: `).concat(c, "px ").concat(n, `;
  }
  
  .`).concat(Pm, " .").concat(Pm, ` {
    right: 0 `).concat(n, `;
  }
  
  .`).concat(Om, " .").concat(Om, ` {
    margin-right: 0 `).concat(n, `;
  }
  
  body[`).concat(wd, `] {
    `).concat(ek, ": ").concat(c, `px;
  }
`)
}, jx = function () { var i = parseInt(document.body.getAttribute(wd) || "0", 10); return isFinite(i) ? i : 0 }, wk = function () { M.useEffect(function () { return document.body.setAttribute(wd, (jx() + 1).toString()), function () { var i = jx() - 1; i <= 0 ? document.body.removeAttribute(wd) : document.body.setAttribute(wd, i.toString()) } }, []) }, xk = function (i) { var t = i.noRelative, e = i.noImportant, n = i.gapMode, r = n === void 0 ? "margin" : n; wk(); var s = M.useMemo(function () { return vk(r) }, [r]); return M.createElement(bk, { styles: yk(s, !t, r, e ? "" : "!important") }) }, gb = !1; if (typeof window < "u") try { var cm = Object.defineProperty({}, "passive", { get: function () { return gb = !0, !0 } }); window.addEventListener("test", cm, cm), window.removeEventListener("test", cm, cm) } catch { gb = !1 } var sd = gb ? { passive: !1 } : !1, Sk = function (i) { return i.tagName === "TEXTAREA" }, i_ = function (i, t) { if (!(i instanceof Element)) return !1; var e = window.getComputedStyle(i); return e[t] !== "hidden" && !(e.overflowY === e.overflowX && !Sk(i) && e[t] === "visible") }, Ak = function (i) { return i_(i, "overflowY") }, Ek = function (i) { return i_(i, "overflowX") }, Ix = function (i, t) { var e = t.ownerDocument, n = t; do { typeof ShadowRoot < "u" && n instanceof ShadowRoot && (n = n.host); var r = r_(i, n); if (r) { var s = s_(i, n), o = s[1], c = s[2]; if (o > c) return !0 } n = n.parentNode } while (n && n !== e.body); return !1 }, _k = function (i) { var t = i.scrollTop, e = i.scrollHeight, n = i.clientHeight; return [t, e, n] }, Ck = function (i) { var t = i.scrollLeft, e = i.scrollWidth, n = i.clientWidth; return [t, e, n] }, r_ = function (i, t) { return i === "v" ? Ak(t) : Ek(t) }, s_ = function (i, t) { return i === "v" ? _k(t) : Ck(t) }, Nk = function (i, t) { return i === "h" && t === "rtl" ? -1 : 1 }, Rk = function (i, t, e, n, r) { var s = Nk(i, window.getComputedStyle(t).direction), o = s * n, c = e.target, u = t.contains(c), d = !1, f = o > 0, p = 0, m = 0; do { if (!c) break; var v = s_(i, c), x = v[0], y = v[1], E = v[2], A = y - E - s * x; (x || A) && r_(i, c) && (p += A, m += x); var T = c.parentNode; c = T && T.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? T.host : T } while (!u && c !== document.body || u && (t.contains(c) || t === c)); return (f && Math.abs(p) < 1 || !f && Math.abs(m) < 1) && (d = !0), d }, um = function (i) { return "changedTouches" in i ? [i.changedTouches[0].clientX, i.changedTouches[0].clientY] : [0, 0] }, Fx = function (i) { return [i.deltaX, i.deltaY] }, Bx = function (i) { return i && "current" in i ? i.current : i }, Tk = function (i, t) { return i[0] === t[0] && i[1] === t[1] }, Lk = function (i) {
  return `
  .block-interactivity-`.concat(i, ` {pointer-events: none;}
  .allow-interactivity-`).concat(i, ` {pointer-events: all;}
`)
}, Mk = 0, ad = []; function Pk(i) { var t = M.useRef([]), e = M.useRef([0, 0]), n = M.useRef(), r = M.useState(Mk++)[0], s = M.useState(n_)[0], o = M.useRef(i); M.useEffect(function () { o.current = i }, [i]), M.useEffect(function () { if (i.inert) { document.body.classList.add("block-interactivity-".concat(r)); var y = JO([i.lockRef.current], (i.shards || []).map(Bx), !0).filter(Boolean); return y.forEach(function (E) { return E.classList.add("allow-interactivity-".concat(r)) }), function () { document.body.classList.remove("block-interactivity-".concat(r)), y.forEach(function (E) { return E.classList.remove("allow-interactivity-".concat(r)) }) } } }, [i.inert, i.lockRef.current, i.shards]); var c = M.useCallback(function (y, E) { if ("touches" in y && y.touches.length === 2 || y.type === "wheel" && y.ctrlKey) return !o.current.allowPinchZoom; var A = um(y), T = e.current, L = "deltaX" in y ? y.deltaX : T[0] - A[0], k = "deltaY" in y ? y.deltaY : T[1] - A[1], O, F = y.target, D = Math.abs(L) > Math.abs(k) ? "h" : "v"; if ("touches" in y && D === "h" && F.type === "range") return !1; var j = Ix(D, F); if (!j) return !0; if (j ? O = D : (O = D === "v" ? "h" : "v", j = Ix(D, F)), !j) return !1; if (!n.current && "changedTouches" in y && (L || k) && (n.current = O), !O) return !0; var J = n.current || O; return Rk(J, E, y, J === "h" ? L : k) }, []), u = M.useCallback(function (y) { var E = y; if (!(!ad.length || ad[ad.length - 1] !== s)) { var A = "deltaY" in E ? Fx(E) : um(E), T = t.current.filter(function (O) { return O.name === E.type && (O.target === E.target || E.target === O.shadowParent) && Tk(O.delta, A) })[0]; if (T && T.should) { E.cancelable && E.preventDefault(); return } if (!T) { var L = (o.current.shards || []).map(Bx).filter(Boolean).filter(function (O) { return O.contains(E.target) }), k = L.length > 0 ? c(E, L[0]) : !o.current.noIsolation; k && E.cancelable && E.preventDefault() } } }, []), d = M.useCallback(function (y, E, A, T) { var L = { name: y, delta: E, target: A, should: T, shadowParent: Ok(A) }; t.current.push(L), setTimeout(function () { t.current = t.current.filter(function (k) { return k !== L }) }, 1) }, []), f = M.useCallback(function (y) { e.current = um(y), n.current = void 0 }, []), p = M.useCallback(function (y) { d(y.type, Fx(y), y.target, c(y, i.lockRef.current)) }, []), m = M.useCallback(function (y) { d(y.type, um(y), y.target, c(y, i.lockRef.current)) }, []); M.useEffect(function () { return ad.push(s), i.setCallbacks({ onScrollCapture: p, onWheelCapture: p, onTouchMoveCapture: m }), document.addEventListener("wheel", u, sd), document.addEventListener("touchmove", u, sd), document.addEventListener("touchstart", f, sd), function () { ad = ad.filter(function (y) { return y !== s }), document.removeEventListener("wheel", u, sd), document.removeEventListener("touchmove", u, sd), document.removeEventListener("touchstart", f, sd) } }, []); var v = i.removeScrollBar, x = i.inert; return M.createElement(M.Fragment, null, x ? M.createElement(s, { styles: Lk(r) }) : null, v ? M.createElement(xk, { noRelative: i.noRelative, gapMode: i.gapMode }) : null) } function Ok(i) { for (var t = null; i !== null;)i instanceof ShadowRoot && (t = i.host, i = i.host), i = i.parentNode; return t } const kk = lk(e_, Pk); var A0 = M.forwardRef(function (i, t) { return M.createElement(S0, Uo({}, i, { ref: t, sideCar: kk })) }); A0.classNames = S0.classNames; var Dk = [" ", "Enter", "ArrowUp", "ArrowDown"], jk = [" ", "Enter"], ah = "Select", [E0, _0, Ik] = aP(ah), [Qd, gz] = Jc(ah, [Ik, Kd]), C0 = Kd(), [Fk, tu] = Qd(ah), [Bk, zk] = Qd(ah), a_ = i => { const { __scopeSelect: t, children: e, open: n, defaultOpen: r, onOpenChange: s, value: o, defaultValue: c, onValueChange: u, dir: d, name: f, autoComplete: p, disabled: m, required: v, form: x } = i, y = C0(t), [E, A] = M.useState(null), [T, L] = M.useState(null), [k, O] = M.useState(!1), F = lP(d), [D, j] = Od({ prop: n, defaultProp: r ?? !1, onChange: s, caller: ah }), [J, ot] = Od({ prop: o, defaultProp: c, onChange: u, caller: ah }), z = M.useRef(null), G = E ? x || !!E.closest("form") : !0, [it, nt] = M.useState(new Set), ht = Array.from(it).map(U => U.props.value).join(";"); return N.jsx(Ty, { ...y, children: N.jsxs(Fk, { required: v, scope: t, trigger: E, onTriggerChange: A, valueNode: T, onValueNodeChange: L, valueNodeHasChildren: k, onValueNodeHasChildrenChange: O, contentId: Vc(), value: J, onValueChange: ot, open: D, onOpenChange: j, dir: F, triggerPointerDownPosRef: z, disabled: m, children: [N.jsx(E0.Provider, { scope: t, children: N.jsx(Bk, { scope: i.__scopeSelect, onNativeOptionAdd: M.useCallback(U => { nt(tt => new Set(tt).add(U)) }, []), onNativeOptionRemove: M.useCallback(U => { nt(tt => { const Q = new Set(tt); return Q.delete(U), Q }) }, []), children: e }) }), G ? N.jsxs(R_, { "aria-hidden": !0, required: v, tabIndex: -1, name: f, autoComplete: p, value: J, onChange: U => ot(U.target.value), disabled: m, form: x, children: [J === void 0 ? N.jsx("option", { value: "" }) : null, Array.from(it)] }, ht) : null] }) }) }; a_.displayName = ah; var o_ = "SelectTrigger", l_ = M.forwardRef((i, t) => { const { __scopeSelect: e, disabled: n = !1, ...r } = i, s = C0(e), o = tu(o_, e), c = o.disabled || n, u = Vn(t, o.onTriggerChange), d = _0(e), f = M.useRef("touch"), [p, m, v] = L_(y => { const E = d().filter(L => !L.disabled), A = E.find(L => L.value === o.value), T = M_(E, y, A); T !== void 0 && o.onValueChange(T.value) }), x = y => { c || (o.onOpenChange(!0), v()), y && (o.triggerPointerDownPosRef.current = { x: Math.round(y.pageX), y: Math.round(y.pageY) }) }; return N.jsx(x0, { asChild: !0, ...s, children: N.jsx(cn.button, { type: "button", role: "combobox", "aria-controls": o.contentId, "aria-expanded": o.open, "aria-required": o.required, "aria-autocomplete": "none", dir: o.dir, "data-state": o.open ? "open" : "closed", disabled: c, "data-disabled": c ? "" : void 0, "data-placeholder": T_(o.value) ? "" : void 0, ...r, ref: u, onClick: Je(r.onClick, y => { y.currentTarget.focus(), f.current !== "mouse" && x(y) }), onPointerDown: Je(r.onPointerDown, y => { f.current = y.pointerType; const E = y.target; E.hasPointerCapture(y.pointerId) && E.releasePointerCapture(y.pointerId), y.button === 0 && y.ctrlKey === !1 && y.pointerType === "mouse" && (x(y), y.preventDefault()) }), onKeyDown: Je(r.onKeyDown, y => { const E = p.current !== ""; !(y.ctrlKey || y.altKey || y.metaKey) && y.key.length === 1 && m(y.key), !(E && y.key === " ") && Dk.includes(y.key) && (x(), y.preventDefault()) }) }) }) }); l_.displayName = o_; var c_ = "SelectValue", u_ = M.forwardRef((i, t) => { const { __scopeSelect: e, className: n, style: r, children: s, placeholder: o = "", ...c } = i, u = tu(c_, e), { onValueNodeHasChildrenChange: d } = u, f = s !== void 0, p = Vn(t, u.onValueNodeChange); return Zi(() => { d(f) }, [d, f]), N.jsx(cn.span, { ...c, ref: p, style: { pointerEvents: "none" }, children: T_(u.value) ? N.jsx(N.Fragment, { children: o }) : s }) }); u_.displayName = c_; var Uk = "SelectIcon", h_ = M.forwardRef((i, t) => { const { __scopeSelect: e, children: n, ...r } = i; return N.jsx(cn.span, { "aria-hidden": !0, ...r, ref: t, children: n || "▼" }) }); h_.displayName = Uk; var Hk = "SelectPortal", d_ = i => N.jsx(Up, { asChild: !0, ...i }); d_.displayName = Hk; var oh = "SelectContent", f_ = M.forwardRef((i, t) => { const e = tu(oh, i.__scopeSelect), [n, r] = M.useState(); if (Zi(() => { r(new DocumentFragment) }, []), !e.open) { const s = n; return s ? Fp.createPortal(N.jsx(p_, { scope: i.__scopeSelect, children: N.jsx(E0.Slot, { scope: i.__scopeSelect, children: N.jsx("div", { children: i.children }) }) }), s) : null } return N.jsx(g_, { ...i, ref: t }) }); f_.displayName = oh; var Fa = 10, [p_, eu] = Qd(oh), qk = "SelectContentImpl", Vk = rh("SelectContent.RemoveScroll"), g_ = M.forwardRef((i, t) => { const { __scopeSelect: e, position: n = "item-aligned", onCloseAutoFocus: r, onEscapeKeyDown: s, onPointerDownOutside: o, side: c, sideOffset: u, align: d, alignOffset: f, arrowPadding: p, collisionBoundary: m, collisionPadding: v, sticky: x, hideWhenDetached: y, avoidCollisions: E, ...A } = i, T = tu(oh, e), [L, k] = M.useState(null), [O, F] = M.useState(null), D = Vn(t, ct => k(ct)), [j, J] = M.useState(null), [ot, z] = M.useState(null), G = _0(e), [it, nt] = M.useState(!1), ht = M.useRef(!1); M.useEffect(() => { if (L) return Py(L) }, [L]), yy(); const U = M.useCallback(ct => { const [gt, ...xt] = G().map(zt => zt.ref.current), [Tt] = xt.slice(-1), kt = document.activeElement; for (const zt of ct) if (zt === kt || (zt?.scrollIntoView({ block: "nearest" }), zt === gt && O && (O.scrollTop = 0), zt === Tt && O && (O.scrollTop = O.scrollHeight), zt?.focus(), document.activeElement !== kt)) return }, [G, O]), tt = M.useCallback(() => U([j, L]), [U, j, L]); M.useEffect(() => { it && tt() }, [it, tt]); const { onOpenChange: Q, triggerPointerDownPosRef: pt } = T; M.useEffect(() => { if (L) { let ct = { x: 0, y: 0 }; const gt = Tt => { ct = { x: Math.abs(Math.round(Tt.pageX) - (pt.current?.x ?? 0)), y: Math.abs(Math.round(Tt.pageY) - (pt.current?.y ?? 0)) } }, xt = Tt => { ct.x <= 10 && ct.y <= 10 ? Tt.preventDefault() : L.contains(Tt.target) || Q(!1), document.removeEventListener("pointermove", gt), pt.current = null }; return pt.current !== null && (document.addEventListener("pointermove", gt), document.addEventListener("pointerup", xt, { capture: !0, once: !0 })), () => { document.removeEventListener("pointermove", gt), document.removeEventListener("pointerup", xt, { capture: !0 }) } } }, [L, Q, pt]), M.useEffect(() => { const ct = () => Q(!1); return window.addEventListener("blur", ct), window.addEventListener("resize", ct), () => { window.removeEventListener("blur", ct), window.removeEventListener("resize", ct) } }, [Q]); const [Y, ft] = L_(ct => { const gt = G().filter(kt => !kt.disabled), xt = gt.find(kt => kt.ref.current === document.activeElement), Tt = M_(gt, ct, xt); Tt && setTimeout(() => Tt.ref.current.focus()) }), I = M.useCallback((ct, gt, xt) => { const Tt = !ht.current && !xt; (T.value !== void 0 && T.value === gt || Tt) && (J(ct), Tt && (ht.current = !0)) }, [T.value]), V = M.useCallback(() => L?.focus(), [L]), Z = M.useCallback((ct, gt, xt) => { const Tt = !ht.current && !xt; (T.value !== void 0 && T.value === gt || Tt) && z(ct) }, [T.value]), st = n === "popper" ? mb : m_, at = st === mb ? { side: c, sideOffset: u, align: d, alignOffset: f, arrowPadding: p, collisionBoundary: m, collisionPadding: v, sticky: x, hideWhenDetached: y, avoidCollisions: E } : {}; return N.jsx(p_, { scope: e, content: L, viewport: O, onViewportChange: F, itemRefCallback: I, selectedItem: j, onItemLeave: V, itemTextRefCallback: Z, focusSelectedItem: tt, selectedItemText: ot, position: n, isPositioned: it, searchRef: Y, children: N.jsx(A0, { as: Vk, allowPinchZoom: !0, children: N.jsx(v0, { asChild: !0, trapped: T.open, onMountAutoFocus: ct => { ct.preventDefault() }, onUnmountAutoFocus: Je(r, ct => { T.trigger?.focus({ preventScroll: !0 }), ct.preventDefault() }), children: N.jsx(Bp, { asChild: !0, disableOutsidePointerEvents: !0, onEscapeKeyDown: s, onPointerDownOutside: o, onFocusOutside: ct => ct.preventDefault(), onDismiss: () => T.onOpenChange(!1), children: N.jsx(st, { role: "listbox", id: T.contentId, "data-state": T.open ? "open" : "closed", dir: T.dir, onContextMenu: ct => ct.preventDefault(), ...A, ...at, onPlaced: () => nt(!0), ref: D, style: { display: "flex", flexDirection: "column", outline: "none", ...A.style }, onKeyDown: Je(A.onKeyDown, ct => { const gt = ct.ctrlKey || ct.altKey || ct.metaKey; if (ct.key === "Tab" && ct.preventDefault(), !gt && ct.key.length === 1 && ft(ct.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(ct.key)) { let Tt = G().filter(kt => !kt.disabled).map(kt => kt.ref.current); if (["ArrowUp", "End"].includes(ct.key) && (Tt = Tt.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(ct.key)) { const kt = ct.target, zt = Tt.indexOf(kt); Tt = Tt.slice(zt + 1) } setTimeout(() => U(Tt)), ct.preventDefault() } }) }) }) }) }) }) }); g_.displayName = qk; var Gk = "SelectItemAlignedPosition", m_ = M.forwardRef((i, t) => { const { __scopeSelect: e, onPlaced: n, ...r } = i, s = tu(oh, e), o = eu(oh, e), [c, u] = M.useState(null), [d, f] = M.useState(null), p = Vn(t, D => f(D)), m = _0(e), v = M.useRef(!1), x = M.useRef(!0), { viewport: y, selectedItem: E, selectedItemText: A, focusSelectedItem: T } = o, L = M.useCallback(() => { if (s.trigger && s.valueNode && c && d && y && E && A) { const D = s.trigger.getBoundingClientRect(), j = d.getBoundingClientRect(), J = s.valueNode.getBoundingClientRect(), ot = A.getBoundingClientRect(); if (s.dir !== "rtl") { const kt = ot.left - j.left, zt = J.left - kt, $t = D.left - zt, Kt = D.width + $t, Lt = Math.max(Kt, j.width), lt = window.innerWidth - Fa, se = vx(zt, [Fa, Math.max(Fa, lt - Lt)]); c.style.minWidth = Kt + "px", c.style.left = se + "px" } else { const kt = j.right - ot.right, zt = window.innerWidth - J.right - kt, $t = window.innerWidth - D.right - zt, Kt = D.width + $t, Lt = Math.max(Kt, j.width), lt = window.innerWidth - Fa, se = vx(zt, [Fa, Math.max(Fa, lt - Lt)]); c.style.minWidth = Kt + "px", c.style.right = se + "px" } const z = m(), G = window.innerHeight - Fa * 2, it = y.scrollHeight, nt = window.getComputedStyle(d), ht = parseInt(nt.borderTopWidth, 10), U = parseInt(nt.paddingTop, 10), tt = parseInt(nt.borderBottomWidth, 10), Q = parseInt(nt.paddingBottom, 10), pt = ht + U + it + Q + tt, Y = Math.min(E.offsetHeight * 5, pt), ft = window.getComputedStyle(y), I = parseInt(ft.paddingTop, 10), V = parseInt(ft.paddingBottom, 10), Z = D.top + D.height / 2 - Fa, st = G - Z, at = E.offsetHeight / 2, ct = E.offsetTop + at, gt = ht + U + ct, xt = pt - gt; if (gt <= Z) { const kt = z.length > 0 && E === z[z.length - 1].ref.current; c.style.bottom = "0px"; const zt = d.clientHeight - y.offsetTop - y.offsetHeight, $t = Math.max(st, at + (kt ? V : 0) + zt + tt), Kt = gt + $t; c.style.height = Kt + "px" } else { const kt = z.length > 0 && E === z[0].ref.current; c.style.top = "0px"; const $t = Math.max(Z, ht + y.offsetTop + (kt ? I : 0) + at) + xt; c.style.height = $t + "px", y.scrollTop = gt - Z + y.offsetTop } c.style.margin = `${Fa}px 0`, c.style.minHeight = Y + "px", c.style.maxHeight = G + "px", n?.(), requestAnimationFrame(() => v.current = !0) } }, [m, s.trigger, s.valueNode, c, d, y, E, A, s.dir, n]); Zi(() => L(), [L]); const [k, O] = M.useState(); Zi(() => { d && O(window.getComputedStyle(d).zIndex) }, [d]); const F = M.useCallback(D => { D && x.current === !0 && (L(), T?.(), x.current = !1) }, [L, T]); return N.jsx(Wk, { scope: e, contentWrapper: c, shouldExpandOnScrollRef: v, onScrollButtonChange: F, children: N.jsx("div", { ref: u, style: { display: "flex", flexDirection: "column", position: "fixed", zIndex: k }, children: N.jsx(cn.div, { ...r, ref: p, style: { boxSizing: "border-box", maxHeight: "100%", ...r.style } }) }) }) }); m_.displayName = Gk; var $k = "SelectPopperPosition", mb = M.forwardRef((i, t) => { const { __scopeSelect: e, align: n = "start", collisionPadding: r = Fa, ...s } = i, o = C0(e); return N.jsx(Ly, { ...o, ...s, ref: t, align: n, collisionPadding: r, style: { boxSizing: "border-box", ...s.style, "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-select-content-available-width": "var(--radix-popper-available-width)", "--radix-select-content-available-height": "var(--radix-popper-available-height)", "--radix-select-trigger-width": "var(--radix-popper-anchor-width)", "--radix-select-trigger-height": "var(--radix-popper-anchor-height)" } }) }); mb.displayName = $k; var [Wk, Oy] = Qd(oh, {}), vb = "SelectViewport", v_ = M.forwardRef((i, t) => { const { __scopeSelect: e, nonce: n, ...r } = i, s = eu(vb, e), o = Oy(vb, e), c = Vn(t, s.onViewportChange), u = M.useRef(0); return N.jsxs(N.Fragment, { children: [N.jsx("style", { dangerouslySetInnerHTML: { __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}" }, nonce: n }), N.jsx(E0.Slot, { scope: e, children: N.jsx(cn.div, { "data-radix-select-viewport": "", role: "presentation", ...r, ref: c, style: { position: "relative", flex: 1, overflow: "hidden auto", ...r.style }, onScroll: Je(r.onScroll, d => { const f = d.currentTarget, { contentWrapper: p, shouldExpandOnScrollRef: m } = o; if (m?.current && p) { const v = Math.abs(u.current - f.scrollTop); if (v > 0) { const x = window.innerHeight - Fa * 2, y = parseFloat(p.style.minHeight), E = parseFloat(p.style.height), A = Math.max(y, E); if (A < x) { const T = A + v, L = Math.min(x, T), k = T - L; p.style.height = L + "px", p.style.bottom === "0px" && (f.scrollTop = k > 0 ? k : 0, p.style.justifyContent = "flex-end") } } } u.current = f.scrollTop }) }) })] }) }); v_.displayName = vb; var b_ = "SelectGroup", [Yk, Xk] = Qd(b_), Kk = M.forwardRef((i, t) => { const { __scopeSelect: e, ...n } = i, r = Vc(); return N.jsx(Yk, { scope: e, id: r, children: N.jsx(cn.div, { role: "group", "aria-labelledby": r, ...n, ref: t }) }) }); Kk.displayName = b_; var y_ = "SelectLabel", Qk = M.forwardRef((i, t) => { const { __scopeSelect: e, ...n } = i, r = Xk(y_, e); return N.jsx(cn.div, { id: r.id, ...n, ref: t }) }); Qk.displayName = y_; var Jm = "SelectItem", [Zk, w_] = Qd(Jm), x_ = M.forwardRef((i, t) => { const { __scopeSelect: e, value: n, disabled: r = !1, textValue: s, ...o } = i, c = tu(Jm, e), u = eu(Jm, e), d = c.value === n, [f, p] = M.useState(s ?? ""), [m, v] = M.useState(!1), x = Vn(t, T => u.itemRefCallback?.(T, n, r)), y = Vc(), E = M.useRef("touch"), A = () => { r || (c.onValueChange(n), c.onOpenChange(!1)) }; if (n === "") throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder."); return N.jsx(Zk, { scope: e, value: n, disabled: r, textId: y, isSelected: d, onItemTextChange: M.useCallback(T => { p(L => L || (T?.textContent ?? "").trim()) }, []), children: N.jsx(E0.ItemSlot, { scope: e, value: n, disabled: r, textValue: f, children: N.jsx(cn.div, { role: "option", "aria-labelledby": y, "data-highlighted": m ? "" : void 0, "aria-selected": d && m, "data-state": d ? "checked" : "unchecked", "aria-disabled": r || void 0, "data-disabled": r ? "" : void 0, tabIndex: r ? void 0 : -1, ...o, ref: x, onFocus: Je(o.onFocus, () => v(!0)), onBlur: Je(o.onBlur, () => v(!1)), onClick: Je(o.onClick, () => { E.current !== "mouse" && A() }), onPointerUp: Je(o.onPointerUp, () => { E.current === "mouse" && A() }), onPointerDown: Je(o.onPointerDown, T => { E.current = T.pointerType }), onPointerMove: Je(o.onPointerMove, T => { E.current = T.pointerType, r ? u.onItemLeave?.() : E.current === "mouse" && T.currentTarget.focus({ preventScroll: !0 }) }), onPointerLeave: Je(o.onPointerLeave, T => { T.currentTarget === document.activeElement && u.onItemLeave?.() }), onKeyDown: Je(o.onKeyDown, T => { u.searchRef?.current !== "" && T.key === " " || (jk.includes(T.key) && A(), T.key === " " && T.preventDefault()) }) }) }) }) }); x_.displayName = Jm; var sp = "SelectItemText", S_ = M.forwardRef((i, t) => { const { __scopeSelect: e, className: n, style: r, ...s } = i, o = tu(sp, e), c = eu(sp, e), u = w_(sp, e), d = zk(sp, e), [f, p] = M.useState(null), m = Vn(t, A => p(A), u.onItemTextChange, A => c.itemTextRefCallback?.(A, u.value, u.disabled)), v = f?.textContent, x = M.useMemo(() => N.jsx("option", { value: u.value, disabled: u.disabled, children: v }, u.value), [u.disabled, u.value, v]), { onNativeOptionAdd: y, onNativeOptionRemove: E } = d; return Zi(() => (y(x), () => E(x)), [y, E, x]), N.jsxs(N.Fragment, { children: [N.jsx(cn.span, { id: u.textId, ...s, ref: m }), u.isSelected && o.valueNode && !o.valueNodeHasChildren ? Fp.createPortal(s.children, o.valueNode) : null] }) }); S_.displayName = sp; var A_ = "SelectItemIndicator", E_ = M.forwardRef((i, t) => { const { __scopeSelect: e, ...n } = i; return w_(A_, e).isSelected ? N.jsx(cn.span, { "aria-hidden": !0, ...n, ref: t }) : null }); E_.displayName = A_; var bb = "SelectScrollUpButton", __ = M.forwardRef((i, t) => { const e = eu(bb, i.__scopeSelect), n = Oy(bb, i.__scopeSelect), [r, s] = M.useState(!1), o = Vn(t, n.onScrollButtonChange); return Zi(() => { if (e.viewport && e.isPositioned) { let c = function () { const d = u.scrollTop > 0; s(d) }; const u = e.viewport; return c(), u.addEventListener("scroll", c), () => u.removeEventListener("scroll", c) } }, [e.viewport, e.isPositioned]), r ? N.jsx(N_, { ...i, ref: o, onAutoScroll: () => { const { viewport: c, selectedItem: u } = e; c && u && (c.scrollTop = c.scrollTop - u.offsetHeight) } }) : null }); __.displayName = bb; var yb = "SelectScrollDownButton", C_ = M.forwardRef((i, t) => { const e = eu(yb, i.__scopeSelect), n = Oy(yb, i.__scopeSelect), [r, s] = M.useState(!1), o = Vn(t, n.onScrollButtonChange); return Zi(() => { if (e.viewport && e.isPositioned) { let c = function () { const d = u.scrollHeight - u.clientHeight, f = Math.ceil(u.scrollTop) < d; s(f) }; const u = e.viewport; return c(), u.addEventListener("scroll", c), () => u.removeEventListener("scroll", c) } }, [e.viewport, e.isPositioned]), r ? N.jsx(N_, { ...i, ref: o, onAutoScroll: () => { const { viewport: c, selectedItem: u } = e; c && u && (c.scrollTop = c.scrollTop + u.offsetHeight) } }) : null }); C_.displayName = yb; var N_ = M.forwardRef((i, t) => { const { __scopeSelect: e, onAutoScroll: n, ...r } = i, s = eu("SelectScrollButton", e), o = M.useRef(null), c = _0(e), u = M.useCallback(() => { o.current !== null && (window.clearInterval(o.current), o.current = null) }, []); return M.useEffect(() => () => u(), [u]), Zi(() => { c().find(f => f.ref.current === document.activeElement)?.ref.current?.scrollIntoView({ block: "nearest" }) }, [c]), N.jsx(cn.div, { "aria-hidden": !0, ...r, ref: t, style: { flexShrink: 0, ...r.style }, onPointerDown: Je(r.onPointerDown, () => { o.current === null && (o.current = window.setInterval(n, 50)) }), onPointerMove: Je(r.onPointerMove, () => { s.onItemLeave?.(), o.current === null && (o.current = window.setInterval(n, 50)) }), onPointerLeave: Je(r.onPointerLeave, () => { u() }) }) }), Jk = "SelectSeparator", tD = M.forwardRef((i, t) => { const { __scopeSelect: e, ...n } = i; return N.jsx(cn.div, { "aria-hidden": !0, ...n, ref: t }) }); tD.displayName = Jk; var wb = "SelectArrow", eD = M.forwardRef((i, t) => { const { __scopeSelect: e, ...n } = i, r = C0(e), s = tu(wb, e), o = eu(wb, e); return s.open && o.position === "popper" ? N.jsx(My, { ...r, ...n, ref: t }) : null }); eD.displayName = wb; var nD = "SelectBubbleInput", R_ = M.forwardRef(({ __scopeSelect: i, value: t, ...e }, n) => { const r = M.useRef(null), s = Vn(n, r), o = XE(t); return M.useEffect(() => { const c = r.current; if (!c) return; const u = window.HTMLSelectElement.prototype, f = Object.getOwnPropertyDescriptor(u, "value").set; if (o !== t && f) { const p = new Event("change", { bubbles: !0 }); f.call(c, t), c.dispatchEvent(p) } }, [o, t]), N.jsx(cn.select, { ...e, style: { ...KE, ...e.style }, ref: s, defaultValue: t }) }); R_.displayName = nD; function T_(i) { return i === "" || i === void 0 } function L_(i) { const t = $c(i), e = M.useRef(""), n = M.useRef(0), r = M.useCallback(o => { const c = e.current + o; t(c), function u(d) { e.current = d, window.clearTimeout(n.current), d !== "" && (n.current = window.setTimeout(() => u(""), 1e3)) }(c) }, [t]), s = M.useCallback(() => { e.current = "", window.clearTimeout(n.current) }, []); return M.useEffect(() => () => window.clearTimeout(n.current), []), [e, r, s] } function M_(i, t, e) { const r = t.length > 1 && Array.from(t).every(d => d === t[0]) ? t[0] : t, s = e ? i.indexOf(e) : -1; let o = iD(i, Math.max(s, 0)); r.length === 1 && (o = o.filter(d => d !== e)); const u = o.find(d => d.textValue.toLowerCase().startsWith(r.toLowerCase())); return u !== e ? u : void 0 } function iD(i, t) { return i.map((e, n) => i[(t + n) % i.length]) } var rD = a_, sD = l_, aD = u_, oD = h_, lD = d_, cD = f_, uD = v_, hD = x_, dD = S_, fD = E_, pD = __, gD = C_;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD = i => i.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), vD = i => i.replace(/^([A-Z])|[\s-_]+(\w)/g, (t, e, n) => n ? n.toUpperCase() : e.toLowerCase()), zx = i => { const t = vD(i); return t.charAt(0).toUpperCase() + t.slice(1) }, P_ = (...i) => i.filter((t, e, n) => !!t && t.trim() !== "" && n.indexOf(t) === e).join(" ").trim(), bD = i => { for (const t in i) if (t.startsWith("aria-") || t === "role" || t === "title") return !0 };/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yD = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round" };/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD = M.forwardRef(({ color: i = "currentColor", size: t = 24, strokeWidth: e = 2, absoluteStrokeWidth: n, className: r = "", children: s, iconNode: o, ...c }, u) => M.createElement("svg", { ref: u, ...yD, width: t, height: t, stroke: i, strokeWidth: n ? Number(e) * 24 / Number(t) : e, className: P_("lucide", r), ...!s && !bD(c) && { "aria-hidden": "true" }, ...c }, [...o.map(([d, f]) => M.createElement(d, f)), ...Array.isArray(s) ? s : [s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji = (i, t) => { const e = M.forwardRef(({ className: n, ...r }, s) => M.createElement(wD, { ref: s, iconNode: t, className: P_(`lucide-${mD(zx(i))}`, `lucide-${i}`, n), ...r })); return e.displayName = zx(i), e };/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD = [["path", { d: "M20 6 9 17l-5-5", key: "1gmf2c" }]], O_ = Ji("check", xD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD = [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]], k_ = Ji("chevron-down", SD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD = [["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]], ED = Ji("chevron-left", AD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D = [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]], CD = Ji("chevron-right", _D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND = [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]], RD = Ji("chevron-up", ND);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["line", { x1: "12", x2: "12", y1: "8", y2: "12", key: "1pkeuh" }], ["line", { x1: "12", x2: "12.01", y1: "16", y2: "16", key: "4dfq90" }]], LD = Ji("circle-alert", TD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD = [["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }], ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }], ["path", { d: "M10 9H8", key: "b1mrlr" }], ["path", { d: "M16 13H8", key: "t4e002" }], ["path", { d: "M16 17H8", key: "z1uh3a" }]], D_ = Ji("file-text", MD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD = [["path", { d: "M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8", key: "5wwlr5" }], ["path", { d: "M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z", key: "1d0kgt" }]], OD = Ji("house", PD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD = [["polyline", { points: "22 12 16 12 14 15 10 15 8 12 2 12", key: "o97t9d" }], ["path", { d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z", key: "oot6mr" }]], xb = Ji("inbox", kD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD = [["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]], jD = Ji("loader-circle", DD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID = [["path", { d: "m16 17 5-5-5-5", key: "1bji2h" }], ["path", { d: "M21 12H9", key: "dn1m92" }], ["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }]], Ux = Ji("log-out", ID);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD = [["path", { d: "M4 12h16", key: "1lakjw" }], ["path", { d: "M4 18h16", key: "19g7jn" }], ["path", { d: "M4 6h16", key: "1o0s65" }]], BD = Ji("menu", FD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD = [["rect", { width: "18", height: "18", x: "3", y: "3", rx: "2", key: "afitv7" }], ["path", { d: "M9 3v18", key: "fh3hqa" }]], UD = Ji("panel-left", zD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD = [["path", { d: "M3 7V5a2 2 0 0 1 2-2h2", key: "aa7l1z" }], ["path", { d: "M17 3h2a2 2 0 0 1 2 2v2", key: "4qcy5o" }], ["path", { d: "M21 17v2a2 2 0 0 1-2 2h-2", key: "6vwrx8" }], ["path", { d: "M7 21H5a2 2 0 0 1-2-2v-2", key: "ioqczr" }]], j_ = Ji("scan", HD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD = [["path", { d: "m21 21-4.34-4.34", key: "14j7rj" }], ["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }]], VD = Ji("search", qD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD = [["path", { d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z", key: "oel41y" }]], $D = Ji("shield", GD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD = [["path", { d: "M3 6h18", key: "d0wm0j" }], ["path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6", key: "4alrt4" }], ["path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2", key: "v07s0e" }], ["line", { x1: "10", x2: "10", y1: "11", y2: "17", key: "1uufr5" }], ["line", { x1: "14", x2: "14", y1: "11", y2: "17", key: "xtxkd" }]], YD = Ji("trash-2", WD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD = [["path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2", key: "975kel" }], ["circle", { cx: "12", cy: "7", r: "4", key: "17ys0d" }]], KD = Ji("user", XD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD = [["path", { d: "M18 6 6 18", key: "1bl5f8" }], ["path", { d: "m6 6 12 12", key: "d8bk6v" }]], N0 = Ji("x", QD); function ZD({ ...i }) { return N.jsx(rD, { "data-slot": "select", ...i }) } function JD({ ...i }) { return N.jsx(aD, { "data-slot": "select-value", ...i }) } function t8({ className: i, size: t = "default", children: e, ...n }) { return N.jsxs(sD, { "data-slot": "select-trigger", "data-size": t, className: je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4", i), ...n, children: [e, N.jsx(oD, { asChild: !0, children: N.jsx(k_, { className: "size-4 opacity-50" }) })] }) } function e8({ className: i, children: t, position: e = "popper", ...n }) { return N.jsx(lD, { children: N.jsxs(cD, { "data-slot": "select-content", className: je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md", e === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", i), position: e, ...n, children: [N.jsx(i8, {}), N.jsx(uD, { className: je("p-1", e === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"), children: t }), N.jsx(r8, {})] }) }) } function n8({ className: i, children: t, ...e }) { return N.jsxs(hD, { "data-slot": "select-item", className: je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2", i), ...e, children: [N.jsx("span", { className: "absolute right-2 flex size-3.5 items-center justify-center", children: N.jsx(fD, { children: N.jsx(O_, { className: "size-4" }) }) }), N.jsx(dD, { children: t })] }) } function i8({ className: i, ...t }) { return N.jsx(pD, { "data-slot": "select-scroll-up-button", className: je("flex cursor-default items-center justify-center py-1", i), ...t, children: N.jsx(RD, { className: "size-4" }) }) } function r8({ className: i, ...t }) { return N.jsx(gD, { "data-slot": "select-scroll-down-button", className: je("flex cursor-default items-center justify-center py-1", i), ...t, children: N.jsx(k_, { className: "size-4" }) }) } const Bs = ({ label: i, id: t, type: e = "text", name: n, value: r, onChange: s, required: o, accept: c, placeholder: u, options: d }) => N.jsxs("div", { className: "mb-4 flex-col space-y-2", children: [N.jsx(Ua, { htmlFor: t, children: i }), d ? N.jsxs(ZD, { name: n, value: r, onValueChange: f => s({ target: { name: n, value: f } }), required: o, children: [N.jsx(t8, { id: t, children: N.jsx(JD, { placeholder: u }) }), N.jsx(e8, { children: d.map(f => N.jsx(n8, { value: f.value, children: f.label }, f.value)) })] }) : N.jsx(by, { id: t, type: e, name: n, value: e !== "file" ? r : void 0, onChange: s, required: o, accept: c, placeholder: u })] }), s8 = () => { const { login: i, isLoading: t } = M.useContext(fh), { showError: e } = Zc(), n = jp(), { formData: r, handleChange: s } = Wd({ email: "", password: "" }), o = c => { c.preventDefault(), i(r, { onSuccess: () => n("/"), onError: u => e(u, "Login failed") }) }; return N.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100", children: N.jsxs("form", { onSubmit: o, className: "w-full max-w-md p-6 bg-white rounded shadow", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6", children: "Login" }), N.jsx(Bs, { label: "Email", id: "email", type: "email", name: "email", value: r.email, onChange: s, required: !0 }), N.jsx(Bs, { label: "Password", id: "password", type: "password", name: "password", value: r.password, onChange: s, required: !0 }), N.jsx(dn, { type: "submit", disabled: t, className: "w-full", children: t ? "Logging in..." : "Login" }), N.jsx("div", { className: "mt-4 text-center", children: N.jsx(fr, { to: "/reset-password", className: "text-blue-600", children: "Forgot Password?" }) }), N.jsx("div", { className: "mt-2 text-center", children: N.jsx(fr, { to: "/register", className: "text-blue-600", children: "Register" }) })] }) }) }, a8 = () => N.jsx("div", { children: N.jsx(s8, {}) }), o8 = () => { const { showError: i, showSuccess: t } = Zc(), { formData: e, handleChange: n } = Wd({ employeeId: "", fullName: "", department: "", email: "", education: "", profession: "", password: "" }), r = Us({ mutationFn: cL, onSuccess: () => t("Registration submitted, pending approval"), onError: c => i(c, "Registration failed") }), s = c => { c.preventDefault(), r.mutate(e) }, o = [{ id: "employeeId", label: "Employee ID", type: "text", placeholder: "Enter your employee ID" }, { id: "fullName", label: "Full Name", type: "text", placeholder: "Enter your full name" }, { id: "department", label: "Department", type: "select", placeholder: "Select your department", options: [{ value: "engineering", label: "Engineering" }, { value: "hr", label: "Human Resources" }, { value: "marketing", label: "Marketing" }, { value: "finance", label: "Finance" }, { value: "it", label: "Information Technology" }] }, { id: "email", label: "Email", type: "email", placeholder: "Enter your email" }, { id: "education", label: "Education", type: "select", placeholder: "Select your education level", options: [{ value: "highschool", label: "High School" }, { value: "bachelor", label: "Bachelor’s Degree" }, { value: "master", label: "Master’s Degree" }, { value: "phd", label: "PhD" }] }, { id: "profession", label: "Profession", type: "select", placeholder: "Select your profession", options: [{ value: "engineer", label: "Engineer" }, { value: "manager", label: "Manager" }, { value: "analyst", label: "Analyst" }, { value: "developer", label: "Developer" }, { value: "designer", label: "Designer" }] }, { id: "password", label: "Password", type: "password", placeholder: "Enter your password" }]; return N.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100", children: N.jsxs("form", { onSubmit: s, className: "w-full max-w-md p-6 bg-white rounded shadow", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6", children: "Register" }), o.map(c => N.jsx(Bs, { label: c.label, id: c.id, type: c.type, name: c.id, value: e[c.id], onChange: n, required: !0, placeholder: c.placeholder, options: c.options }, c.id)), N.jsx(dn, { type: "submit", disabled: r.isLoading, className: "w-full", children: r.isLoading ? "Submitting..." : "Submit" }), N.jsx("div", { className: "mt-4 text-center", children: N.jsx(fr, { to: "/login", className: "text-blue-600", children: "Already registered? Login" }) })] }) }) }, l8 = () => N.jsx("div", { children: N.jsx(o8, {}) }), c8 = () => { const { showError: i, showSuccess: t } = Zc(), { formData: e, handleChange: n } = Wd({ email: "" }), r = Us({ mutationFn: aL, onSuccess: () => t("Password reset link sent to email"), onError: o => i(o, "Request failed") }), s = o => { o.preventDefault(), r.mutate(e) }; return N.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100", children: N.jsxs("form", { onSubmit: s, className: "w-full max-w-md p-6 bg-white rounded shadow", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6", children: "Request Password Reset" }), N.jsx(Bs, { label: "Email", id: "email", type: "email", name: "email", value: e.email, onChange: n, required: !0 }), N.jsx(dn, { type: "submit", disabled: r.isLoading, className: "w-full", children: r.isLoading ? "Sending..." : "Send Reset Link" }), N.jsx("div", { className: "mt-4 text-center", children: N.jsx(fr, { to: "/login", className: "text-blue-600", children: "Back to Login" }) })] }) }) }, u8 = () => N.jsx("div", { children: N.jsx(c8, {}) }), h8 = () => { const { token: i } = YL(), { showError: t, showSuccess: e } = Zc(), { formData: n, handleChange: r } = Wd({ newPassword: "" }), s = Us({ mutationFn: c => oL(i, c), onSuccess: () => { e("Password reset successful"), window.location.href = "/login" }, onError: c => t(c, "Reset failed") }), o = c => { c.preventDefault(), s.mutate(n) }; return N.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100", children: N.jsxs("form", { onSubmit: o, className: "w-full max-w-md p-6 bg-white rounded shadow", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6", children: "Reset Password" }), N.jsx(Bs, { label: "New Password", id: "newPassword", type: "password", name: "newPassword", value: n.newPassword, onChange: r, required: !0 }), N.jsx(dn, { type: "submit", disabled: s.isLoading, className: "w-full", children: s.isLoading ? "Resetting..." : "Reset Password" }), N.jsx("div", { className: "mt-4 text-center", children: N.jsx(fr, { to: "/login", className: "text-blue-600", children: "Back to Login" }) })] }) }) }, d8 = () => N.jsx("div", { children: N.jsx(h8, {}) }), Bc = { ADMIN: "Admin", SCANNER_CLERK: "ScannerClerk", APPROVER: "Approver", UPLOADER: "Uploader" }; function f8(i, t) { return M.useReducer((e, n) => t[e][n] ?? e, i) } var Hl = i => { const { present: t, children: e } = i, n = p8(t), r = typeof e == "function" ? e({ present: n.isPresent }) : M.Children.only(e), s = Vn(n.ref, g8(r)); return typeof e == "function" || n.isPresent ? M.cloneElement(r, { ref: s }) : null }; Hl.displayName = "Presence"; function p8(i) { const [t, e] = M.useState(), n = M.useRef(null), r = M.useRef(i), s = M.useRef("none"), o = i ? "mounted" : "unmounted", [c, u] = f8(o, { mounted: { UNMOUNT: "unmounted", ANIMATION_OUT: "unmountSuspended" }, unmountSuspended: { MOUNT: "mounted", ANIMATION_END: "unmounted" }, unmounted: { MOUNT: "mounted" } }); return M.useEffect(() => { const d = hm(n.current); s.current = c === "mounted" ? d : "none" }, [c]), Zi(() => { const d = n.current, f = r.current; if (f !== i) { const m = s.current, v = hm(d); i ? u("MOUNT") : v === "none" || d?.display === "none" ? u("UNMOUNT") : u(f && m !== v ? "ANIMATION_OUT" : "UNMOUNT"), r.current = i } }, [i, u]), Zi(() => { if (t) { let d; const f = t.ownerDocument.defaultView ?? window, p = v => { const y = hm(n.current).includes(v.animationName); if (v.target === t && y && (u("ANIMATION_END"), !r.current)) { const E = t.style.animationFillMode; t.style.animationFillMode = "forwards", d = f.setTimeout(() => { t.style.animationFillMode === "forwards" && (t.style.animationFillMode = E) }) } }, m = v => { v.target === t && (s.current = hm(n.current)) }; return t.addEventListener("animationstart", m), t.addEventListener("animationcancel", p), t.addEventListener("animationend", p), () => { f.clearTimeout(d), t.removeEventListener("animationstart", m), t.removeEventListener("animationcancel", p), t.removeEventListener("animationend", p) } } else u("ANIMATION_END") }, [t, u]), { isPresent: ["mounted", "unmountSuspended"].includes(c), ref: M.useCallback(d => { n.current = d ? getComputedStyle(d) : null, e(d) }, []) } } function hm(i) { return i?.animationName || "none" } function g8(i) { let t = Object.getOwnPropertyDescriptor(i.props, "ref")?.get, e = t && "isReactWarning" in t && t.isReactWarning; return e ? i.ref : (t = Object.getOwnPropertyDescriptor(i, "ref")?.get, e = t && "isReactWarning" in t && t.isReactWarning, e ? i.props.ref : i.props.ref || i.ref) } var R0 = "Popover", [I_, mz] = Jc(R0, [Kd]), Hp = Kd(), [m8, nu] = I_(R0), F_ = i => { const { __scopePopover: t, children: e, open: n, defaultOpen: r, onOpenChange: s, modal: o = !1 } = i, c = Hp(t), u = M.useRef(null), [d, f] = M.useState(!1), [p, m] = Od({ prop: n, defaultProp: r ?? !1, onChange: s, caller: R0 }); return N.jsx(Ty, { ...c, children: N.jsx(m8, { scope: t, contentId: Vc(), triggerRef: u, open: p, onOpenChange: m, onOpenToggle: M.useCallback(() => m(v => !v), [m]), hasCustomAnchor: d, onCustomAnchorAdd: M.useCallback(() => f(!0), []), onCustomAnchorRemove: M.useCallback(() => f(!1), []), modal: o, children: e }) }) }; F_.displayName = R0; var B_ = "PopoverAnchor", v8 = M.forwardRef((i, t) => { const { __scopePopover: e, ...n } = i, r = nu(B_, e), s = Hp(e), { onCustomAnchorAdd: o, onCustomAnchorRemove: c } = r; return M.useEffect(() => (o(), () => c()), [o, c]), N.jsx(x0, { ...s, ...n, ref: t }) }); v8.displayName = B_; var z_ = "PopoverTrigger", U_ = M.forwardRef((i, t) => { const { __scopePopover: e, ...n } = i, r = nu(z_, e), s = Hp(e), o = Vn(t, r.triggerRef), c = N.jsx(cn.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": r.open, "aria-controls": r.contentId, "data-state": $_(r.open), ...n, ref: o, onClick: Je(i.onClick, r.onOpenToggle) }); return r.hasCustomAnchor ? c : N.jsx(x0, { asChild: !0, ...s, children: c }) }); U_.displayName = z_; var ky = "PopoverPortal", [b8, y8] = I_(ky, { forceMount: void 0 }), H_ = i => { const { __scopePopover: t, forceMount: e, children: n, container: r } = i, s = nu(ky, t); return N.jsx(b8, { scope: t, forceMount: e, children: N.jsx(Hl, { present: e || s.open, children: N.jsx(Up, { asChild: !0, container: r, children: n }) }) }) }; H_.displayName = ky; var kd = "PopoverContent", q_ = M.forwardRef((i, t) => { const e = y8(kd, i.__scopePopover), { forceMount: n = e.forceMount, ...r } = i, s = nu(kd, i.__scopePopover); return N.jsx(Hl, { present: n || s.open, children: s.modal ? N.jsx(x8, { ...r, ref: t }) : N.jsx(S8, { ...r, ref: t }) }) }); q_.displayName = kd; var w8 = rh("PopoverContent.RemoveScroll"), x8 = M.forwardRef((i, t) => { const e = nu(kd, i.__scopePopover), n = M.useRef(null), r = Vn(t, n), s = M.useRef(!1); return M.useEffect(() => { const o = n.current; if (o) return Py(o) }, []), N.jsx(A0, { as: w8, allowPinchZoom: !0, children: N.jsx(V_, { ...i, ref: r, trapFocus: e.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: Je(i.onCloseAutoFocus, o => { o.preventDefault(), s.current || e.triggerRef.current?.focus() }), onPointerDownOutside: Je(i.onPointerDownOutside, o => { const c = o.detail.originalEvent, u = c.button === 0 && c.ctrlKey === !0, d = c.button === 2 || u; s.current = d }, { checkForDefaultPrevented: !1 }), onFocusOutside: Je(i.onFocusOutside, o => o.preventDefault(), { checkForDefaultPrevented: !1 }) }) }) }), S8 = M.forwardRef((i, t) => { const e = nu(kd, i.__scopePopover), n = M.useRef(!1), r = M.useRef(!1); return N.jsx(V_, { ...i, ref: t, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: s => { i.onCloseAutoFocus?.(s), s.defaultPrevented || (n.current || e.triggerRef.current?.focus(), s.preventDefault()), n.current = !1, r.current = !1 }, onInteractOutside: s => { i.onInteractOutside?.(s), s.defaultPrevented || (n.current = !0, s.detail.originalEvent.type === "pointerdown" && (r.current = !0)); const o = s.target; e.triggerRef.current?.contains(o) && s.preventDefault(), s.detail.originalEvent.type === "focusin" && r.current && s.preventDefault() } }) }), V_ = M.forwardRef((i, t) => { const { __scopePopover: e, trapFocus: n, onOpenAutoFocus: r, onCloseAutoFocus: s, disableOutsidePointerEvents: o, onEscapeKeyDown: c, onPointerDownOutside: u, onFocusOutside: d, onInteractOutside: f, ...p } = i, m = nu(kd, e), v = Hp(e); return yy(), N.jsx(v0, { asChild: !0, loop: !0, trapped: n, onMountAutoFocus: r, onUnmountAutoFocus: s, children: N.jsx(Bp, { asChild: !0, disableOutsidePointerEvents: o, onInteractOutside: f, onEscapeKeyDown: c, onPointerDownOutside: u, onFocusOutside: d, onDismiss: () => m.onOpenChange(!1), children: N.jsx(Ly, { "data-state": $_(m.open), role: "dialog", id: m.contentId, ...v, ...p, ref: t, style: { ...p.style, "--radix-popover-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-popover-content-available-width": "var(--radix-popper-available-width)", "--radix-popover-content-available-height": "var(--radix-popper-available-height)", "--radix-popover-trigger-width": "var(--radix-popper-anchor-width)", "--radix-popover-trigger-height": "var(--radix-popper-anchor-height)" } }) }) }) }), G_ = "PopoverClose", A8 = M.forwardRef((i, t) => { const { __scopePopover: e, ...n } = i, r = nu(G_, e); return N.jsx(cn.button, { type: "button", ...n, ref: t, onClick: Je(i.onClick, () => r.onOpenChange(!1)) }) }); A8.displayName = G_; var E8 = "PopoverArrow", _8 = M.forwardRef((i, t) => { const { __scopePopover: e, ...n } = i, r = Hp(e); return N.jsx(My, { ...r, ...n, ref: t }) }); _8.displayName = E8; function $_(i) { return i ? "open" : "closed" } var C8 = F_, N8 = U_, R8 = H_, T8 = q_; function W_({ ...i }) { return N.jsx(C8, { "data-slot": "popover", ...i }) } function Y_({ ...i }) { return N.jsx(N8, { "data-slot": "popover-trigger", ...i }) } function X_({ className: i, align: t = "center", sideOffset: e = 4, ...n }) { return N.jsx(R8, { children: N.jsx(T8, { "data-slot": "popover-content", align: t, sideOffset: e, className: je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden", i), ...n }) }) } var A1 = { exports: {} }, E1 = {};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx; function L8() { if (Hx) return E1; Hx = 1; var i = Rp(); function t(p, m) { return p === m && (p !== 0 || 1 / p === 1 / m) || p !== p && m !== m } var e = typeof Object.is == "function" ? Object.is : t, n = i.useState, r = i.useEffect, s = i.useLayoutEffect, o = i.useDebugValue; function c(p, m) { var v = m(), x = n({ inst: { value: v, getSnapshot: m } }), y = x[0].inst, E = x[1]; return s(function () { y.value = v, y.getSnapshot = m, u(y) && E({ inst: y }) }, [p, v, m]), r(function () { return u(y) && E({ inst: y }), p(function () { u(y) && E({ inst: y }) }) }, [p]), o(v), v } function u(p) { var m = p.getSnapshot; p = p.value; try { var v = m(); return !e(p, v) } catch { return !0 } } function d(p, m) { return m() } var f = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? d : c; return E1.useSyncExternalStore = i.useSyncExternalStore !== void 0 ? i.useSyncExternalStore : f, E1 } var qx; function M8() { return qx || (qx = 1, A1.exports = L8()), A1.exports } var P8 = M8(); function O8() { return P8.useSyncExternalStore(k8, () => !0, () => !1) } function k8() { return () => { } } var Dy = "Avatar", [D8, vz] = Jc(Dy), [j8, K_] = D8(Dy), Q_ = M.forwardRef((i, t) => { const { __scopeAvatar: e, ...n } = i, [r, s] = M.useState("idle"); return N.jsx(j8, { scope: e, imageLoadingStatus: r, onImageLoadingStatusChange: s, children: N.jsx(cn.span, { ...n, ref: t }) }) }); Q_.displayName = Dy; var Z_ = "AvatarImage", J_ = M.forwardRef((i, t) => { const { __scopeAvatar: e, src: n, onLoadingStatusChange: r = () => { }, ...s } = i, o = K_(Z_, e), c = I8(n, s), u = $c(d => { r(d), o.onImageLoadingStatusChange(d) }); return Zi(() => { c !== "idle" && u(c) }, [c, u]), c === "loaded" ? N.jsx(cn.img, { ...s, ref: t, src: n }) : null }); J_.displayName = Z_; var tC = "AvatarFallback", eC = M.forwardRef((i, t) => { const { __scopeAvatar: e, delayMs: n, ...r } = i, s = K_(tC, e), [o, c] = M.useState(n === void 0); return M.useEffect(() => { if (n !== void 0) { const u = window.setTimeout(() => c(!0), n); return () => window.clearTimeout(u) } }, [n]), o && s.imageLoadingStatus !== "loaded" ? N.jsx(cn.span, { ...r, ref: t }) : null }); eC.displayName = tC; function Vx(i, t) { return i ? t ? (i.src !== t && (i.src = t), i.complete && i.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle" } function I8(i, { referrerPolicy: t, crossOrigin: e }) { const n = O8(), r = M.useRef(null), s = n ? (r.current || (r.current = new window.Image), r.current) : null, [o, c] = M.useState(() => Vx(s, i)); return Zi(() => { c(Vx(s, i)) }, [s, i]), Zi(() => { const u = p => () => { c(p) }; if (!s) return; const d = u("loaded"), f = u("error"); return s.addEventListener("load", d), s.addEventListener("error", f), t && (s.referrerPolicy = t), typeof e == "string" && (s.crossOrigin = e), () => { s.removeEventListener("load", d), s.removeEventListener("error", f) } }, [s, e, t]), o } var F8 = Q_, B8 = J_, z8 = eC; function km({ className: i, ...t }) { return N.jsx(F8, { "data-slot": "avatar", className: je("relative flex size-8 shrink-0 overflow-hidden rounded-full", i), ...t }) } function Dm({ className: i, ...t }) { return N.jsx(B8, { "data-slot": "avatar-image", className: je("aspect-square size-full", i), ...t }) } function jm({ className: i, ...t }) { return N.jsx(z8, { "data-slot": "avatar-fallback", className: je("bg-muted flex size-full items-center justify-center rounded-full", i), ...t }) } const U8 = my("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden", { variants: { variant: { default: "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90", secondary: "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90", destructive: "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60", outline: "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground" } }, defaultVariants: { variant: "default" } }); function t0({ className: i, variant: t, asChild: e = !1, ...n }) { const r = e ? m0 : "span"; return N.jsx(r, { "data-slot": "badge", className: je(U8({ variant: t }), i), ...n }) } const $o = i => { if (!i || typeof i != "string" || i.trim() === "") return ""; const t = "https://192.168.0.7:5555".replace(/\/api$/, ""); return i.startsWith("http") ? i : `${t}${i}` }, H8 = () => { const { user: i, logout: t } = M.useContext(fh), e = jp(), [n, r] = M.useState(!1), s = () => { t(null, { onSuccess: () => e("/login") }), r(!1) }; return N.jsxs("nav", { className: "bg-gray-800 text-white p-4 sticky top-0 z-50 shadow-md", children: [N.jsxs("div", { className: "container mx-auto flex justify-between items-center", children: [N.jsxs(fr, { to: "/", className: "text-xl font-bold flex items-center gap-2", children: [N.jsx(OD, { className: "h-5 w-5" }), "Bahmni"] }), N.jsx("div", { className: "hidden md:flex items-center gap-4", children: i ? N.jsx(N.Fragment, { children: N.jsxs(W_, { children: [N.jsx(Y_, { asChild: !0, children: N.jsxs(dn, { variant: "ghost", className: "text-white flex items-center gap-2", children: [N.jsxs(km, { className: "h-8 w-8", children: [N.jsx(Dm, { src: $o(i.photo), alt: i.fullName }), N.jsx(jm, { className: "bg-gray-600 text-white", children: i.fullName?.charAt(0).toUpperCase() || "?" })] }), i.fullName] }) }), N.jsxs(X_, { className: "w-72 bg-white rounded-lg shadow-lg p-4 border border-gray-200", children: [N.jsxs("div", { className: "flex items-center gap-3 mb-4", children: [N.jsxs(km, { className: "h-8 w-8", children: [N.jsx(Dm, { src: $o(i.photo), alt: i.fullName }), N.jsx(jm, { className: "bg-gray-600 text-white", children: i.fullName?.charAt(0).toUpperCase() || "?" })] }), N.jsxs("div", { children: [N.jsx("p", { className: "text-sm font-semibold text-gray-800", children: i.fullName }), N.jsx("p", { className: "text-xs text-gray-500", children: i.email })] })] }), N.jsxs("div", { className: "flex flex-wrap gap-1 mb-4", children: [i.roles.map(o => N.jsx(t0, { variant: "secondary", className: "text-xs", children: o }, o)), i.roles.length === 0 && N.jsx("span", { className: "text-xs text-gray-500", children: "No roles assigned" })] }), N.jsxs("div", { className: "grid gap-2", children: [N.jsx(fr, { to: "/profile", className: "text-sm text-gray-700 hover:text-blue-600 transition-colors", children: "Edit Profile" }), i.roles.includes(Bc.ADMIN) && N.jsx(fr, { to: "/admin", className: "text-sm text-gray-700 hover:text-blue-600 transition-colors", children: "Admin Dashboard" }), N.jsxs(dn, { variant: "ghost", className: "w-full text-left text-sm text-gray-700 bg-gray-100 hover:text-red-600 hover:bg-gray-200", onClick: s, children: [N.jsx(Ux, { className: "h-4 w-4 mr-2" }), "Logout"] })] })] })] }) }) : N.jsxs(N.Fragment, { children: [N.jsx(fr, { to: "/login", className: "text-sm hover:text-gray-300 transition-colors", children: "Login" }), N.jsx(fr, { to: "/register", className: "text-sm hover:text-gray-300 transition-colors", children: "Register" })] }) }), N.jsx(dn, { variant: "ghost", className: "md:hidden text-white", onClick: () => r(!n), children: n ? N.jsx(N0, { className: "h-6 w-6" }) : N.jsx(BD, { className: "h-6 w-6" }) })] }), n && N.jsx("div", { className: "md:hidden bg-gray-800 p-4 flex flex-col gap-3 transition-transform duration-300", children: i ? N.jsxs(N.Fragment, { children: [N.jsxs("div", { className: "flex items-center gap-3", children: [N.jsxs(km, { className: "h-8 w-8", children: [N.jsx(Dm, { src: $o(i.photo), alt: i.fullName }), N.jsx(jm, { className: "bg-gray-600 text-white", children: i.fullName?.charAt(0).toUpperCase() || "?" })] }), N.jsxs("div", { children: [N.jsx("p", { className: "text-sm font-semibold", children: i.fullName }), N.jsx("p", { className: "text-xs text-gray-300", children: i.email })] })] }), N.jsxs("div", { className: "flex flex-wrap gap-1", children: [i.roles.map(o => N.jsx(t0, { variant: "secondary", className: "text-xs bg-gray-700 text-white", children: o }, o)), i.roles.length === 0 && N.jsx("span", { className: "text-xs text-gray-300", children: "No roles assigned" })] }), N.jsxs(fr, { to: "/profile", className: "flex items-center gap-2 text-sm hover:text-gray-300 transition-colors", onClick: () => r(!1), children: [N.jsx(KD, { className: "h-4 w-4" }), "Profile"] }), i.roles.includes(Bc.ADMIN) && N.jsxs(fr, { to: "/admin", className: "flex items-center gap-2 text-sm hover:text-gray-300 transition-colors", onClick: () => r(!1), children: [N.jsx($D, { className: "h-4 w-4" }), "Admin Dashboard"] }), N.jsxs(dn, { onClick: s, variant: "outline", className: "text-white border-white hover:bg-gray-700 hover:text-white w-full", children: [N.jsx(Ux, { className: "h-4 w-4 mr-2" }), "Logout"] })] }) : N.jsxs(N.Fragment, { children: [N.jsx(fr, { to: "/login", className: "text-sm hover:text-gray-300 transition-colors", onClick: () => r(!1), children: "Login" }), N.jsx(fr, { to: "/register", className: "text-sm hover:text-gray-300 transition-colors", onClick: () => r(!1), children: "Register" })] }) })] }) }, dm = ({ title: i, description: t, link: e, disabled: n, onClick: r }) => N.jsxs("div", { className: "p-6 bg-white rounded-lg shadow-md", children: [N.jsx("h3", { className: "text-lg font-semibold mb-2", children: i }), N.jsx("p", { className: "text-gray-600 mb-4", children: t }), e ? N.jsx(fr, { to: e, children: N.jsxs(dn, { disabled: n, children: ["Go to ", i] }) }) : N.jsx(dn, { onClick: r, disabled: n, className: n === !0 ? "cursor-not-allowed" : "", children: i })] }), q8 = () => { const { user: i } = M.useContext(fh); return N.jsxs("div", { className: "container mx-auto p-6", children: [N.jsxs("h2", { className: "text-2xl font-bold mb-4", children: ["Welcome, ", i?.fullName || "User", "!"] }), N.jsxs("p", { className: "text-gray-600 mb-6 flex gap-2 justify-start items-center", children: ["Your roles:", N.jsx("div", { className: "flex gap-1", children: i.roles.length > 0 ? i.roles.map(t => N.jsx(t0, { variant: "secondary", className: "text-xs", children: t }, t)) : N.jsx("span", { className: "text-sm text-gray-500", children: "No roles assigned" }) })] }), N.jsxs("div", { className: "grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3", children: [i?.roles.includes(Bc.ADMIN) && N.jsx(dm, { title: "Admin Dashboard", description: "Manage users, approve registrations, and assign roles.", link: "/admin" }), i?.roles.includes(Bc.SCANNER_CLERK) && N.jsx(dm, { title: "Scan Documents", description: "Scan or upload documents for processing.", onClick: () => alert("Document scanning coming soon!"), link: "/scanner" }), i?.roles.includes(Bc.APPROVER) && N.jsx(dm, { title: "Review Documents", description: "Review and approve/reject scanned documents.", onClick: () => alert("Document review coming soon!"), link: "/approver" }), i?.roles.includes(Bc.UPLOADER) && N.jsx(dm, { title: "Upload to Bahmni", description: "Upload approved documents to Bahmni EMR.", onClick: () => alert("Bahmni upload coming soon!"), link: "/uploader" })] })] }) }, V8 = () => { const { user: i } = M.useContext(fh); return i ? N.jsx(q8, {}) : N.jsx(sb, { to: "/login" }) }; var T0 = "Dialog", [nC, bz] = Jc(T0), [G8, Ya] = nC(T0), iC = i => { const { __scopeDialog: t, children: e, open: n, defaultOpen: r, onOpenChange: s, modal: o = !0 } = i, c = M.useRef(null), u = M.useRef(null), [d, f] = Od({ prop: n, defaultProp: r ?? !1, onChange: s, caller: T0 }); return N.jsx(G8, { scope: t, triggerRef: c, contentRef: u, contentId: Vc(), titleId: Vc(), descriptionId: Vc(), open: d, onOpenChange: f, onOpenToggle: M.useCallback(() => f(p => !p), [f]), modal: o, children: e }) }; iC.displayName = T0; var rC = "DialogTrigger", sC = M.forwardRef((i, t) => { const { __scopeDialog: e, ...n } = i, r = Ya(rC, e), s = Vn(t, r.triggerRef); return N.jsx(cn.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": r.open, "aria-controls": r.contentId, "data-state": Fy(r.open), ...n, ref: s, onClick: Je(i.onClick, r.onOpenToggle) }) }); sC.displayName = rC; var jy = "DialogPortal", [$8, aC] = nC(jy, { forceMount: void 0 }), oC = i => { const { __scopeDialog: t, forceMount: e, children: n, container: r } = i, s = Ya(jy, t); return N.jsx($8, { scope: t, forceMount: e, children: M.Children.map(n, o => N.jsx(Hl, { present: e || s.open, children: N.jsx(Up, { asChild: !0, container: r, children: o }) })) }) }; oC.displayName = jy; var e0 = "DialogOverlay", lC = M.forwardRef((i, t) => { const e = aC(e0, i.__scopeDialog), { forceMount: n = e.forceMount, ...r } = i, s = Ya(e0, i.__scopeDialog); return s.modal ? N.jsx(Hl, { present: n || s.open, children: N.jsx(Y8, { ...r, ref: t }) }) : null }); lC.displayName = e0; var W8 = rh("DialogOverlay.RemoveScroll"), Y8 = M.forwardRef((i, t) => { const { __scopeDialog: e, ...n } = i, r = Ya(e0, e); return N.jsx(A0, { as: W8, allowPinchZoom: !0, shards: [r.contentRef], children: N.jsx(cn.div, { "data-state": Fy(r.open), ...n, ref: t, style: { pointerEvents: "auto", ...n.style } }) }) }), lh = "DialogContent", cC = M.forwardRef((i, t) => { const e = aC(lh, i.__scopeDialog), { forceMount: n = e.forceMount, ...r } = i, s = Ya(lh, i.__scopeDialog); return N.jsx(Hl, { present: n || s.open, children: s.modal ? N.jsx(X8, { ...r, ref: t }) : N.jsx(K8, { ...r, ref: t }) }) }); cC.displayName = lh; var X8 = M.forwardRef((i, t) => { const e = Ya(lh, i.__scopeDialog), n = M.useRef(null), r = Vn(t, e.contentRef, n); return M.useEffect(() => { const s = n.current; if (s) return Py(s) }, []), N.jsx(uC, { ...i, ref: r, trapFocus: e.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: Je(i.onCloseAutoFocus, s => { s.preventDefault(), e.triggerRef.current?.focus() }), onPointerDownOutside: Je(i.onPointerDownOutside, s => { const o = s.detail.originalEvent, c = o.button === 0 && o.ctrlKey === !0; (o.button === 2 || c) && s.preventDefault() }), onFocusOutside: Je(i.onFocusOutside, s => s.preventDefault()) }) }), K8 = M.forwardRef((i, t) => { const e = Ya(lh, i.__scopeDialog), n = M.useRef(!1), r = M.useRef(!1); return N.jsx(uC, { ...i, ref: t, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: s => { i.onCloseAutoFocus?.(s), s.defaultPrevented || (n.current || e.triggerRef.current?.focus(), s.preventDefault()), n.current = !1, r.current = !1 }, onInteractOutside: s => { i.onInteractOutside?.(s), s.defaultPrevented || (n.current = !0, s.detail.originalEvent.type === "pointerdown" && (r.current = !0)); const o = s.target; e.triggerRef.current?.contains(o) && s.preventDefault(), s.detail.originalEvent.type === "focusin" && r.current && s.preventDefault() } }) }), uC = M.forwardRef((i, t) => { const { __scopeDialog: e, trapFocus: n, onOpenAutoFocus: r, onCloseAutoFocus: s, ...o } = i, c = Ya(lh, e), u = M.useRef(null), d = Vn(t, u); return yy(), N.jsxs(N.Fragment, { children: [N.jsx(v0, { asChild: !0, loop: !0, trapped: n, onMountAutoFocus: r, onUnmountAutoFocus: s, children: N.jsx(Bp, { role: "dialog", id: c.contentId, "aria-describedby": c.descriptionId, "aria-labelledby": c.titleId, "data-state": Fy(c.open), ...o, ref: d, onDismiss: () => c.onOpenChange(!1) }) }), N.jsxs(N.Fragment, { children: [N.jsx(Q8, { titleId: c.titleId }), N.jsx(J8, { contentRef: u, descriptionId: c.descriptionId })] })] }) }), Iy = "DialogTitle", hC = M.forwardRef((i, t) => { const { __scopeDialog: e, ...n } = i, r = Ya(Iy, e); return N.jsx(cn.h2, { id: r.titleId, ...n, ref: t }) }); hC.displayName = Iy; var dC = "DialogDescription", fC = M.forwardRef((i, t) => { const { __scopeDialog: e, ...n } = i, r = Ya(dC, e); return N.jsx(cn.p, { id: r.descriptionId, ...n, ref: t }) }); fC.displayName = dC; var pC = "DialogClose", gC = M.forwardRef((i, t) => { const { __scopeDialog: e, ...n } = i, r = Ya(pC, e); return N.jsx(cn.button, { type: "button", ...n, ref: t, onClick: Je(i.onClick, () => r.onOpenChange(!1)) }) }); gC.displayName = pC; function Fy(i) { return i ? "open" : "closed" } var mC = "DialogTitleWarning", [yz, vC] = rP(mC, { contentName: lh, titleName: Iy, docsSlug: "dialog" }), Q8 = ({ titleId: i }) => {
  const t = vC(mC), e = `\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`; return M.useEffect(() => { i && (document.getElementById(i) || console.error(e)) }, [e, i]), null
}, Z8 = "DialogDescriptionWarning", J8 = ({ contentRef: i, descriptionId: t }) => { const n = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vC(Z8).contentName}}.`; return M.useEffect(() => { const r = i.current?.getAttribute("aria-describedby"); t && r && (document.getElementById(t) || console.warn(n)) }, [n, i, t]), null }, bC = iC, tj = sC, yC = oC, wC = lC, xC = cC, SC = hC, ej = fC, AC = gC; function qp({ ...i }) { return N.jsx(bC, { "data-slot": "dialog", ...i }) } function EC({ ...i }) { return N.jsx(tj, { "data-slot": "dialog-trigger", ...i }) } function nj({ ...i }) { return N.jsx(yC, { "data-slot": "dialog-portal", ...i }) } function ij({ className: i, ...t }) { return N.jsx(wC, { "data-slot": "dialog-overlay", className: je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50", i), ...t }) } function Vp({ className: i, children: t, showCloseButton: e = !0, ...n }) { return N.jsxs(nj, { "data-slot": "dialog-portal", children: [N.jsx(ij, {}), N.jsxs(xC, { "data-slot": "dialog-content", className: je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg", i), ...n, children: [t, e && N.jsxs(AC, { "data-slot": "dialog-close", className: "ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4", children: [N.jsx(N0, {}), N.jsx("span", { className: "sr-only", children: "Close" })] })] })] }) } function Gp({ className: i, ...t }) { return N.jsx("div", { "data-slot": "dialog-header", className: je("flex flex-col gap-2 text-center sm:text-left", i), ...t }) } function rj({ className: i, ...t }) { return N.jsx("div", { "data-slot": "dialog-footer", className: je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end", i), ...t }) } function $p({ className: i, ...t }) { return N.jsx(SC, { "data-slot": "dialog-title", className: je("text-lg leading-none font-semibold", i), ...t }) } var L0 = "Checkbox", [sj, wz] = Jc(L0), [aj, By] = sj(L0); function oj(i) { const { __scopeCheckbox: t, checked: e, children: n, defaultChecked: r, disabled: s, form: o, name: c, onCheckedChange: u, required: d, value: f = "on", internal_do_not_use_render: p } = i, [m, v] = Od({ prop: e, defaultProp: r ?? !1, onChange: u, caller: L0 }), [x, y] = M.useState(null), [E, A] = M.useState(null), T = M.useRef(!1), L = x ? !!o || !!x.closest("form") : !0, k = { checked: m, disabled: s, setChecked: v, control: x, setControl: y, name: c, form: o, value: f, hasConsumerStoppedPropagationRef: T, required: d, defaultChecked: Gc(r) ? !1 : r, isFormControl: L, bubbleInput: E, setBubbleInput: A }; return N.jsx(aj, { scope: t, ...k, children: lj(p) ? p(k) : n }) } var _C = "CheckboxTrigger", CC = M.forwardRef(({ __scopeCheckbox: i, onKeyDown: t, onClick: e, ...n }, r) => { const { control: s, value: o, disabled: c, checked: u, required: d, setControl: f, setChecked: p, hasConsumerStoppedPropagationRef: m, isFormControl: v, bubbleInput: x } = By(_C, i), y = Vn(r, f), E = M.useRef(u); return M.useEffect(() => { const A = s?.form; if (A) { const T = () => p(E.current); return A.addEventListener("reset", T), () => A.removeEventListener("reset", T) } }, [s, p]), N.jsx(cn.button, { type: "button", role: "checkbox", "aria-checked": Gc(u) ? "mixed" : u, "aria-required": d, "data-state": PC(u), "data-disabled": c ? "" : void 0, disabled: c, value: o, ...n, ref: y, onKeyDown: Je(t, A => { A.key === "Enter" && A.preventDefault() }), onClick: Je(e, A => { p(T => Gc(T) ? !0 : !T), x && v && (m.current = A.isPropagationStopped(), m.current || A.stopPropagation()) }) }) }); CC.displayName = _C; var NC = M.forwardRef((i, t) => { const { __scopeCheckbox: e, name: n, checked: r, defaultChecked: s, required: o, disabled: c, value: u, onCheckedChange: d, form: f, ...p } = i; return N.jsx(oj, { __scopeCheckbox: e, checked: r, defaultChecked: s, disabled: c, required: o, onCheckedChange: d, name: n, form: f, value: u, internal_do_not_use_render: ({ isFormControl: m }) => N.jsxs(N.Fragment, { children: [N.jsx(CC, { ...p, ref: t, __scopeCheckbox: e }), m && N.jsx(MC, { __scopeCheckbox: e })] }) }) }); NC.displayName = L0; var RC = "CheckboxIndicator", TC = M.forwardRef((i, t) => { const { __scopeCheckbox: e, forceMount: n, ...r } = i, s = By(RC, e); return N.jsx(Hl, { present: n || Gc(s.checked) || s.checked === !0, children: N.jsx(cn.span, { "data-state": PC(s.checked), "data-disabled": s.disabled ? "" : void 0, ...r, ref: t, style: { pointerEvents: "none", ...i.style } }) }) }); TC.displayName = RC; var LC = "CheckboxBubbleInput", MC = M.forwardRef(({ __scopeCheckbox: i, ...t }, e) => { const { control: n, hasConsumerStoppedPropagationRef: r, checked: s, defaultChecked: o, required: c, disabled: u, name: d, value: f, form: p, bubbleInput: m, setBubbleInput: v } = By(LC, i), x = Vn(e, v), y = XE(s), E = BE(n); M.useEffect(() => { const T = m; if (!T) return; const L = window.HTMLInputElement.prototype, O = Object.getOwnPropertyDescriptor(L, "checked").set, F = !r.current; if (y !== s && O) { const D = new Event("click", { bubbles: F }); T.indeterminate = Gc(s), O.call(T, Gc(s) ? !1 : s), T.dispatchEvent(D) } }, [m, y, s, r]); const A = M.useRef(Gc(s) ? !1 : s); return N.jsx(cn.input, { type: "checkbox", "aria-hidden": !0, defaultChecked: o ?? A.current, required: c, disabled: u, name: d, value: f, form: p, ...t, tabIndex: -1, ref: x, style: { ...t.style, ...E, position: "absolute", pointerEvents: "none", opacity: 0, margin: 0, transform: "translateX(-100%)" } }) }); MC.displayName = LC; function lj(i) { return typeof i == "function" } function Gc(i) { return i === "indeterminate" } function PC(i) { return Gc(i) ? "indeterminate" : i ? "checked" : "unchecked" } function OC({ className: i, ...t }) { return N.jsx(NC, { "data-slot": "checkbox", className: je("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50", i), ...t, children: N.jsx(TC, { "data-slot": "checkbox-indicator", className: "flex items-center justify-center text-current transition-none", children: N.jsx(O_, { className: "size-3.5" }) }) }) } const cj = ({ onClose: i }) => { const { showError: t, showSuccess: e } = Zc(), { formData: n, handleChange: r } = Wd({ employeeId: "", fullName: "", email: "", department: "", education: "", profession: "", password: "" }), [s, o] = M.useState([]), c = Us({ mutationFn: () => { const p = { ...n, roles: s }; return lL(p) }, onSuccess: () => { e("User registered successfully"), i() }, onError: p => t(p, "User registration failed") }), u = p => { if (p.preventDefault(), s.length === 0) { t(null, "At least one role is required"); return } c.mutate() }, d = (p, m) => { o(v => m ? [...v, p] : v.filter(x => x !== p)) }, f = [{ id: "employeeId", label: "Employee ID", type: "text", placeholder: "Enter your employee ID" }, { id: "fullName", label: "Full Name", type: "text", placeholder: "Enter your full name" }, { id: "department", label: "Department", type: "select", placeholder: "Select your department", options: [{ value: "engineering", label: "Engineering" }, { value: "hr", label: "Human Resources" }, { value: "marketing", label: "Marketing" }, { value: "finance", label: "Finance" }, { value: "it", label: "Information Technology" }] }, { id: "email", label: "Email", type: "email", placeholder: "Enter your email" }, { id: "education", label: "Education", type: "select", placeholder: "Select your education level", options: [{ value: "highschool", label: "High School" }, { value: "bachelor", label: "Bachelor’s Degree" }, { value: "master", label: "Master’s Degree" }, { value: "phd", label: "PhD" }] }, { id: "profession", label: "Profession", type: "select", placeholder: "Select your profession", options: [{ value: "engineer", label: "Engineer" }, { value: "manager", label: "Manager" }, { value: "analyst", label: "Analyst" }, { value: "developer", label: "Developer" }, { value: "designer", label: "Designer" }] }, { id: "password", label: "Password", type: "password", placeholder: "Enter your password" }]; return N.jsxs("form", { onSubmit: u, className: "w-full max-w-md p-6 bg-white rounded shadow", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6", children: "Register" }), f.map(p => N.jsx(Bs, { label: p.label, id: p.id, type: p.type, name: p.id, value: n[p.id], onChange: r, required: !0, placeholder: p.placeholder, options: p.options }, p.id)), N.jsxs("div", { children: [N.jsx(Ua, { children: "Roles" }), N.jsx("div", { className: "grid gap-2 m-2", children: Object.values(Bc).map(p => N.jsxs("div", { className: "flex items-center gap-2", children: [N.jsx(OC, { id: `role-${p}`, checked: s.includes(p), onCheckedChange: m => d(p, m) }), N.jsx(Ua, { htmlFor: `role-${p}`, children: p })] }, p)) })] }), N.jsx(dn, { type: "submit", disabled: c.isLoading, className: "w-full", children: c.isLoading ? "Submitting..." : "Submit" })] }) }, uj = ({ user: i, handleReview: t, handleStatusToggle: e, handleRoleUpdate: n, rejectionReason: r, setRejectionReason: s }) => N.jsx("div", { className: "p-4 bg-white rounded-lg shadow-md border border-gray-200", children: N.jsxs("div", { className: "flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4", children: [N.jsxs("div", { className: "space-y-1", children: [N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Name:" }), " ", i.fullName] }), N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Email:" }), " ", i.email] }), N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Status:" }), " ", i.isActive ? "Active" : "Inactive"] }), N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Registration:" }), " ", i.registrationStatus] }), N.jsxs("div", { className: "flex flex-wrap gap-1", children: [N.jsx("strong", { className: "text-sm", children: "Roles:" }), i.roles.length > 0 ? i.roles.map(o => N.jsx(t0, { variant: "secondary", className: "text-xs", children: o }, o)) : N.jsx("span", { className: "text-sm text-gray-500", children: "No roles assigned" })] })] }), N.jsxs("div", { className: "flex flex-col sm:flex-row gap-2 w-full sm:w-auto", children: [i.isSelfRegistered && i.registrationStatus === "Pending" && N.jsxs(qp, { children: [N.jsx(EC, { asChild: !0, children: N.jsx(dn, { size: "sm", className: "w-full sm:w-auto", children: "Review Registration" }) }), N.jsxs(Vp, { className: "max-h-[80vh] overflow-y-auto", children: [N.jsx(Gp, { children: N.jsx($p, { children: "Review Registration" }) }), N.jsxs("div", { className: "grid gap-4", children: [N.jsx(dn, { onClick: () => t(i.id, "Approved"), size: "sm", children: "Approve" }), N.jsxs("div", { children: [N.jsx(Ua, { htmlFor: "rejectionReason", children: "Rejection Reason" }), N.jsx(by, { id: "rejectionReason", value: r, onChange: o => s(o.target.value) }), N.jsx(dn, { onClick: () => t(i.id, "Rejected"), disabled: !r, className: "mt-2", size: "sm", children: "Reject" })] })] })] })] }), N.jsx(dn, { onClick: () => e(i.id, !i.isActive), children: i.isActive ? "Deactivate" : "Activate" }), N.jsxs(W_, { children: [N.jsx(Y_, { asChild: !0, children: N.jsx(dn, { variant: "outline", size: "sm", className: "w-full sm:w-auto", children: i.roles.length > 0 ? "Edit Roles" : "Assign Roles" }) }), N.jsx(X_, { className: "w-56", children: N.jsx("div", { className: "grid gap-4", children: Object.values(Bc).map(o => N.jsxs("div", { className: "flex items-center gap-2", children: [N.jsx(OC, { id: `${i.id}-${o}`, checked: i.roles.includes(o), onCheckedChange: c => { const u = c ? [...i.roles, o] : i.roles.filter(d => d !== o); n(i.id, u) } }), N.jsx(Ua, { htmlFor: `${i.id}-${o}`, children: o })] }, o)) }) })] })] })] }) }), hj = () => { const { showError: i, showSuccess: t } = Zc(), { data: e, isLoading: n, refetch: r } = Lp({ queryKey: ["users"], queryFn: fL }), [s, o] = M.useState(""), [c, u] = M.useState(!1), d = Us({ mutationFn: uL, onSuccess: () => { t("Registration reviewed"), r() }, onError: y => i(y, "Review failed") }), f = Us({ mutationFn: ({ userId: y, data: E }) => hL(y, E), onSuccess: () => { t("User status updated"), r() }, onError: y => i(y, "Status update failed") }), p = Us({ mutationFn: ({ userId: y, data: E }) => dL(y, E), onSuccess: () => { t("User roles updated"), r() }, onError: y => i(y, "Roles update failed") }), m = (y, E) => { const A = { userId: y, status: E }; console.log("Reviewing user:", A), E === "Rejected" && (A.rejectionReason = s), d.mutate(A), o("") }, v = (y, E) => { f.mutate({ userId: y, data: { isActive: E } }) }, x = (y, E) => { if (E.length === 0) { i(null, "At least one role is required"); return } p.mutate({ userId: y, data: { roles: E } }) }; return n ? N.jsx("div", { children: "Loading..." }) : N.jsxs("div", { className: "container mx-auto p-6", children: [N.jsxs("div", { className: "flex justify-between items-center mb-6", children: [N.jsx("h2", { className: "text-2xl font-bold", children: "Admin Dashboard" }), N.jsxs(qp, { open: c, onOpenChange: u, children: [N.jsx(EC, { asChild: !0, children: N.jsx(dn, { children: "Register New User" }) }), N.jsxs(Vp, { className: "max-h-[85vh] overflow-y-auto", children: [N.jsx(Gp, { children: N.jsx($p, { children: "Register New User" }) }), N.jsx(cj, { onClose: () => { u(!1), r() } })] })] })] }), N.jsx("div", { className: "grid gap-4", children: e?.data?.data?.users?.map(y => N.jsx(uj, { user: y, handleReview: m, handleRoleUpdate: x, handleStatusToggle: v, rejectionReason: s, setRejectionReason: o })) })] }) }, zy = ({ children: i, roles: t }) => { const { user: e } = M.useContext(fh); return e ? (console.log("User roles:", e.roles), t && !t.some(n => e.roles.includes(n)) ? N.jsx(sb, { to: "/unauthorized" }) : i) : N.jsx(sb, { to: "/login" }) }, dj = () => N.jsx(zy, { roles: ["Admin"], children: N.jsx(hj, {}) }), fj = () => { const { user: i, setUser: t } = M.useContext(fh), { showError: e, showSuccess: n } = Zc(), { formData: r, handleChange: s, handleFileChange: o } = Wd({ fullName: i?.fullName || "", email: i?.email || "", department: i?.department || "", employeeId: i?.employeeId || "", password: "", photo: null }), [c, u] = M.useState({}), [d, f] = M.useState(!1), p = Us({ mutationFn: y => pL(i.id, y), onSuccess: ({ data: y }) => { localStorage.setItem("user", JSON.stringify(y.data)), t(y.data), n("Profile updated successfully"), f(!1) }, onError: y => { console.log(y), e(y, "Profile update failed") } }), m = () => { const y = {}; return r.fullName || (y.fullName = "Full name is required"), r.email ? /\S+@\S+\.\S+/.test(r.email) || (y.email = "Invalid email") : y.email = "Email is required", r.department || (y.department = "Department is required"), r.employeeId || (y.employeeId = "Employee ID is required"), r.password && r.password.length < 6 && (y.password = "Password must be at least 6 characters"), r.photo && !["image/jpeg", "image/png"].includes(r.photo.type) && (y.photo = "Only JPEG or PNG images are allowed"), u(y), Object.keys(y).length === 0 }, v = y => { y.preventDefault(), m() && f(!0) }, x = () => { const y = new FormData; Object.entries(r).forEach(([E, A]) => { A && E !== "password" && y.append(E, A) }), r.password && y.append("password", r.password), p.mutate(y) }; return i ? N.jsxs("div", { className: "container mx-auto p-6 max-w-2xl", children: [N.jsx("h2", { className: "text-2xl font-bold mb-6 text-center", children: "User Profile" }), N.jsxs("form", { onSubmit: v, className: "grid gap-6 sm:grid-cols-1 md:grid-cols-2 bg-white p-6 rounded-lg shadow-md", children: [N.jsx("div", { className: "col-span-2 flex justify-center mb-4", children: N.jsxs(km, { className: "h-24 w-24", children: [N.jsx(Dm, { src: r.photo || $o(i.photo), alt: i.fullName }), N.jsx(jm, { className: "bg-gray-600 text-white text-2xl", children: i.fullName.charAt(0).toUpperCase() })] }) }), N.jsxs("div", { className: "col-span-1", children: [N.jsx(Ua, { htmlFor: "fullName", className: "text-sm font-medium", children: "Full Name" }), N.jsx(Bs, { id: "fullName", type: "text", name: "fullName", value: r.fullName, onChange: s, required: !0, className: "mt-1" }), c.fullName && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.fullName })] }), N.jsxs("div", { className: "col-span-1", children: [N.jsx(Ua, { htmlFor: "email", className: "text-sm font-medium", children: "Email" }), N.jsx(Bs, { id: "email", type: "email", name: "email", value: r.email, onChange: s, required: !0, className: "mt-1" }), c.email && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.email })] }), N.jsxs("div", { className: "col-span-1", children: [N.jsx(Ua, { htmlFor: "department", className: "text-sm font-medium", children: "Department" }), N.jsx(Bs, { id: "department", type: "text", name: "department", value: r.department, onChange: s, required: !0, className: "mt-1" }), c.department && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.department })] }), N.jsxs("div", { className: "col-span-1", children: [N.jsx(Ua, { htmlFor: "employeeId", className: "text-sm font-medium", children: "Employee ID" }), N.jsx(Bs, { id: "employeeId", type: "text", name: "employeeId", value: r.employeeId, onChange: s, required: !0, className: "mt-1" }), c.employeeId && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.employeeId })] }), N.jsxs("div", { className: "col-span-2", children: [N.jsx(Ua, { htmlFor: "password", className: "text-sm font-medium", children: "New Password (optional)" }), N.jsx(Bs, { id: "password", type: "password", name: "password", value: r.password, onChange: s, className: "mt-1" }), c.password && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.password })] }), N.jsxs("div", { className: "col-span-2", children: [N.jsx(Ua, { htmlFor: "photo", className: "text-sm font-medium", children: "Profile Photo (optional)" }), N.jsx(Bs, { id: "photo", type: "file", name: "photo", onChange: y => o(y, "photo"), accept: "image/jpeg,image/png", className: "mt-1" }), c.photo && N.jsx("p", { className: "text-red-600 text-sm mt-1", children: c.photo })] }), N.jsxs("div", { className: "col-span-2 space-y-2", children: [N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Roles:" }), " ", i.roles.join(", ") || "None"] }), N.jsxs("p", { className: "text-sm", children: [N.jsx("strong", { children: "Status:" }), " ", i.isActive ? "Active" : "Inactive"] }), N.jsx(dn, { type: "submit", disabled: p.isLoading, className: "w-full mt-4", children: p.isLoading ? "Updating..." : "Update Profile" })] })] }), N.jsx(qp, { open: d, onOpenChange: f, children: N.jsxs(Vp, { className: "sm:max-w-md", children: [N.jsx(Gp, { children: N.jsx($p, { children: "Confirm Profile Update" }) }), N.jsx("p", { className: "text-sm text-gray-600", children: "Are you sure you want to update your profile?" }), N.jsxs("div", { className: "flex gap-2 mt-4 justify-end", children: [N.jsx(dn, { variant: "outline", onClick: () => f(!1), disabled: p.isLoading, children: "Cancel" }), N.jsx(dn, { onClick: x, disabled: p.isLoading, children: "Confirm" })] })] }) })] }) : N.jsx("div", { className: "container mx-auto p-6 text-center", children: "Please log in to view your profile." }) }, _1 = 768; function pj() { const [i, t] = M.useState(void 0); return M.useEffect(() => { const e = window.matchMedia(`(max-width: ${_1 - 1}px)`), n = () => { t(window.innerWidth < _1) }; return e.addEventListener("change", n), t(window.innerWidth < _1), () => e.removeEventListener("change", n) }, []), !!i } function gj({ ...i }) { return N.jsx(bC, { "data-slot": "sheet", ...i }) } function mj({ ...i }) { return N.jsx(yC, { "data-slot": "sheet-portal", ...i }) } function vj({ className: i, ...t }) { return N.jsx(wC, { "data-slot": "sheet-overlay", className: je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50", i), ...t }) } function bj({ className: i, children: t, side: e = "right", ...n }) { return N.jsxs(mj, { children: [N.jsx(vj, {}), N.jsxs(xC, { "data-slot": "sheet-content", className: je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500", e === "right" && "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm", e === "left" && "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm", e === "top" && "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b", e === "bottom" && "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t", i), ...n, children: [t, N.jsxs(AC, { className: "ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none", children: [N.jsx(N0, { className: "size-4" }), N.jsx("span", { className: "sr-only", children: "Close" })] })] })] }) } function yj({ className: i, ...t }) { return N.jsx("div", { "data-slot": "sheet-header", className: je("flex flex-col gap-1.5 p-4", i), ...t }) } function wj({ className: i, ...t }) { return N.jsx(SC, { "data-slot": "sheet-title", className: je("text-foreground font-semibold", i), ...t }) } function xj({ className: i, ...t }) { return N.jsx(ej, { "data-slot": "sheet-description", className: je("text-muted-foreground text-sm", i), ...t }) } var [M0, xz] = Jc("Tooltip", [Kd]), P0 = Kd(), kC = "TooltipProvider", Sj = 700, Sb = "tooltip.open", [Aj, Uy] = M0(kC), DC = i => { const { __scopeTooltip: t, delayDuration: e = Sj, skipDelayDuration: n = 300, disableHoverableContent: r = !1, children: s } = i, o = M.useRef(!0), c = M.useRef(!1), u = M.useRef(0); return M.useEffect(() => { const d = u.current; return () => window.clearTimeout(d) }, []), N.jsx(Aj, { scope: t, isOpenDelayedRef: o, delayDuration: e, onOpen: M.useCallback(() => { window.clearTimeout(u.current), o.current = !1 }, []), onClose: M.useCallback(() => { window.clearTimeout(u.current), u.current = window.setTimeout(() => o.current = !0, n) }, [n]), isPointerInTransitRef: c, onPointerInTransitChange: M.useCallback(d => { c.current = d }, []), disableHoverableContent: r, children: s }) }; DC.displayName = kC; var bp = "Tooltip", [Ej, Wp] = M0(bp), jC = i => { const { __scopeTooltip: t, children: e, open: n, defaultOpen: r, onOpenChange: s, disableHoverableContent: o, delayDuration: c } = i, u = Uy(bp, i.__scopeTooltip), d = P0(t), [f, p] = M.useState(null), m = Vc(), v = M.useRef(0), x = o ?? u.disableHoverableContent, y = c ?? u.delayDuration, E = M.useRef(!1), [A, T] = Od({ prop: n, defaultProp: r ?? !1, onChange: D => { D ? (u.onOpen(), document.dispatchEvent(new CustomEvent(Sb))) : u.onClose(), s?.(D) }, caller: bp }), L = M.useMemo(() => A ? E.current ? "delayed-open" : "instant-open" : "closed", [A]), k = M.useCallback(() => { window.clearTimeout(v.current), v.current = 0, E.current = !1, T(!0) }, [T]), O = M.useCallback(() => { window.clearTimeout(v.current), v.current = 0, T(!1) }, [T]), F = M.useCallback(() => { window.clearTimeout(v.current), v.current = window.setTimeout(() => { E.current = !0, T(!0), v.current = 0 }, y) }, [y, T]); return M.useEffect(() => () => { v.current && (window.clearTimeout(v.current), v.current = 0) }, []), N.jsx(Ty, { ...d, children: N.jsx(Ej, { scope: t, contentId: m, open: A, stateAttribute: L, trigger: f, onTriggerChange: p, onTriggerEnter: M.useCallback(() => { u.isOpenDelayedRef.current ? F() : k() }, [u.isOpenDelayedRef, F, k]), onTriggerLeave: M.useCallback(() => { x ? O() : (window.clearTimeout(v.current), v.current = 0) }, [O, x]), onOpen: k, onClose: O, disableHoverableContent: x, children: e }) }) }; jC.displayName = bp; var Ab = "TooltipTrigger", IC = M.forwardRef((i, t) => { const { __scopeTooltip: e, ...n } = i, r = Wp(Ab, e), s = Uy(Ab, e), o = P0(e), c = M.useRef(null), u = Vn(t, c, r.onTriggerChange), d = M.useRef(!1), f = M.useRef(!1), p = M.useCallback(() => d.current = !1, []); return M.useEffect(() => () => document.removeEventListener("pointerup", p), [p]), N.jsx(x0, { asChild: !0, ...o, children: N.jsx(cn.button, { "aria-describedby": r.open ? r.contentId : void 0, "data-state": r.stateAttribute, ...n, ref: u, onPointerMove: Je(i.onPointerMove, m => { m.pointerType !== "touch" && !f.current && !s.isPointerInTransitRef.current && (r.onTriggerEnter(), f.current = !0) }), onPointerLeave: Je(i.onPointerLeave, () => { r.onTriggerLeave(), f.current = !1 }), onPointerDown: Je(i.onPointerDown, () => { r.open && r.onClose(), d.current = !0, document.addEventListener("pointerup", p, { once: !0 }) }), onFocus: Je(i.onFocus, () => { d.current || r.onOpen() }), onBlur: Je(i.onBlur, r.onClose), onClick: Je(i.onClick, r.onClose) }) }) }); IC.displayName = Ab; var Hy = "TooltipPortal", [_j, Cj] = M0(Hy, { forceMount: void 0 }), FC = i => { const { __scopeTooltip: t, forceMount: e, children: n, container: r } = i, s = Wp(Hy, t); return N.jsx(_j, { scope: t, forceMount: e, children: N.jsx(Hl, { present: e || s.open, children: N.jsx(Up, { asChild: !0, container: r, children: n }) }) }) }; FC.displayName = Hy; var Dd = "TooltipContent", BC = M.forwardRef((i, t) => { const e = Cj(Dd, i.__scopeTooltip), { forceMount: n = e.forceMount, side: r = "top", ...s } = i, o = Wp(Dd, i.__scopeTooltip); return N.jsx(Hl, { present: n || o.open, children: o.disableHoverableContent ? N.jsx(zC, { side: r, ...s, ref: t }) : N.jsx(Nj, { side: r, ...s, ref: t }) }) }), Nj = M.forwardRef((i, t) => { const e = Wp(Dd, i.__scopeTooltip), n = Uy(Dd, i.__scopeTooltip), r = M.useRef(null), s = Vn(t, r), [o, c] = M.useState(null), { trigger: u, onClose: d } = e, f = r.current, { onPointerInTransitChange: p } = n, m = M.useCallback(() => { c(null), p(!1) }, [p]), v = M.useCallback((x, y) => { const E = x.currentTarget, A = { x: x.clientX, y: x.clientY }, T = Mj(A, E.getBoundingClientRect()), L = Pj(A, T), k = Oj(y.getBoundingClientRect()), O = Dj([...L, ...k]); c(O), p(!0) }, [p]); return M.useEffect(() => () => m(), [m]), M.useEffect(() => { if (u && f) { const x = E => v(E, f), y = E => v(E, u); return u.addEventListener("pointerleave", x), f.addEventListener("pointerleave", y), () => { u.removeEventListener("pointerleave", x), f.removeEventListener("pointerleave", y) } } }, [u, f, v, m]), M.useEffect(() => { if (o) { const x = y => { const E = y.target, A = { x: y.clientX, y: y.clientY }, T = u?.contains(E) || f?.contains(E), L = !kj(A, o); T ? m() : L && (m(), d()) }; return document.addEventListener("pointermove", x), () => document.removeEventListener("pointermove", x) } }, [u, f, o, d, m]), N.jsx(zC, { ...i, ref: s }) }), [Rj, Tj] = M0(bp, { isInside: !1 }), Lj = q6("TooltipContent"), zC = M.forwardRef((i, t) => { const { __scopeTooltip: e, children: n, "aria-label": r, onEscapeKeyDown: s, onPointerDownOutside: o, ...c } = i, u = Wp(Dd, e), d = P0(e), { onClose: f } = u; return M.useEffect(() => (document.addEventListener(Sb, f), () => document.removeEventListener(Sb, f)), [f]), M.useEffect(() => { if (u.trigger) { const p = m => { m.target?.contains(u.trigger) && f() }; return window.addEventListener("scroll", p, { capture: !0 }), () => window.removeEventListener("scroll", p, { capture: !0 }) } }, [u.trigger, f]), N.jsx(Bp, { asChild: !0, disableOutsidePointerEvents: !1, onEscapeKeyDown: s, onPointerDownOutside: o, onFocusOutside: p => p.preventDefault(), onDismiss: f, children: N.jsxs(Ly, { "data-state": u.stateAttribute, ...d, ...c, ref: t, style: { ...c.style, "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)", "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)", "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)", "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)" }, children: [N.jsx(Lj, { children: n }), N.jsx(Rj, { scope: e, isInside: !0, children: N.jsx(XO, { id: u.contentId, role: "tooltip", children: r || n }) })] }) }) }); BC.displayName = Dd; var UC = "TooltipArrow", HC = M.forwardRef((i, t) => { const { __scopeTooltip: e, ...n } = i, r = P0(e); return Tj(UC, e).isInside ? null : N.jsx(My, { ...r, ...n, ref: t }) }); HC.displayName = UC; function Mj(i, t) { const e = Math.abs(t.top - i.y), n = Math.abs(t.bottom - i.y), r = Math.abs(t.right - i.x), s = Math.abs(t.left - i.x); switch (Math.min(e, n, r, s)) { case s: return "left"; case r: return "right"; case e: return "top"; case n: return "bottom"; default: throw new Error("unreachable") } } function Pj(i, t, e = 5) { const n = []; switch (t) { case "top": n.push({ x: i.x - e, y: i.y + e }, { x: i.x + e, y: i.y + e }); break; case "bottom": n.push({ x: i.x - e, y: i.y - e }, { x: i.x + e, y: i.y - e }); break; case "left": n.push({ x: i.x + e, y: i.y - e }, { x: i.x + e, y: i.y + e }); break; case "right": n.push({ x: i.x - e, y: i.y - e }, { x: i.x - e, y: i.y + e }); break }return n } function Oj(i) { const { top: t, right: e, bottom: n, left: r } = i; return [{ x: r, y: t }, { x: e, y: t }, { x: e, y: n }, { x: r, y: n }] } function kj(i, t) { const { x: e, y: n } = i; let r = !1; for (let s = 0, o = t.length - 1; s < t.length; o = s++) { const c = t[s], u = t[o], d = c.x, f = c.y, p = u.x, m = u.y; f > n != m > n && e < (p - d) * (n - f) / (m - f) + d && (r = !r) } return r } function Dj(i) { const t = i.slice(); return t.sort((e, n) => e.x < n.x ? -1 : e.x > n.x ? 1 : e.y < n.y ? -1 : e.y > n.y ? 1 : 0), jj(t) } function jj(i) { if (i.length <= 1) return i.slice(); const t = []; for (let n = 0; n < i.length; n++) { const r = i[n]; for (; t.length >= 2;) { const s = t[t.length - 1], o = t[t.length - 2]; if ((s.x - o.x) * (r.y - o.y) >= (s.y - o.y) * (r.x - o.x)) t.pop(); else break } t.push(r) } t.pop(); const e = []; for (let n = i.length - 1; n >= 0; n--) { const r = i[n]; for (; e.length >= 2;) { const s = e[e.length - 1], o = e[e.length - 2]; if ((s.x - o.x) * (r.y - o.y) >= (s.y - o.y) * (r.x - o.x)) e.pop(); else break } e.push(r) } return e.pop(), t.length === 1 && e.length === 1 && t[0].x === e[0].x && t[0].y === e[0].y ? t : t.concat(e) } var Ij = DC, Fj = jC, Bj = IC, zj = FC, Uj = BC, Hj = HC; function qC({ delayDuration: i = 0, ...t }) { return N.jsx(Ij, { "data-slot": "tooltip-provider", delayDuration: i, ...t }) } function qj({ ...i }) { return N.jsx(qC, { children: N.jsx(Fj, { "data-slot": "tooltip", ...i }) }) } function Vj({ ...i }) { return N.jsx(Bj, { "data-slot": "tooltip-trigger", ...i }) } function Gj({ className: i, sideOffset: t = 0, children: e, ...n }) { return N.jsx(zj, { children: N.jsxs(Uj, { "data-slot": "tooltip-content", sideOffset: t, className: je("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance", i), ...n, children: [e, N.jsx(Hj, { className: "bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" })] }) }) } const $j = "sidebar_state", Wj = 3600 * 24 * 7, Yj = "16rem", Xj = "18rem", Kj = "3rem", Qj = "b", VC = M.createContext(null); function qy() { const i = M.useContext(VC); if (!i) throw new Error("useSidebar must be used within a SidebarProvider."); return i } function GC({ defaultOpen: i = !0, open: t, onOpenChange: e, className: n, style: r, children: s, ...o }) { const c = pj(), [u, d] = M.useState(!1), [f, p] = M.useState(i), m = t ?? f, v = M.useCallback(A => { const T = typeof A == "function" ? A(m) : A; e ? e(T) : p(T), document.cookie = `${$j}=${T}; path=/; max-age=${Wj}` }, [e, m]), x = M.useCallback(() => c ? d(A => !A) : v(A => !A), [c, v, d]); M.useEffect(() => { const A = T => { T.key === Qj && (T.metaKey || T.ctrlKey) && (T.preventDefault(), x()) }; return window.addEventListener("keydown", A), () => window.removeEventListener("keydown", A) }, [x]); const y = m ? "expanded" : "collapsed", E = M.useMemo(() => ({ state: y, open: m, setOpen: v, isMobile: c, openMobile: u, setOpenMobile: d, toggleSidebar: x }), [y, m, v, c, u, d, x]); return N.jsx(VC.Provider, { value: E, children: N.jsx(qC, { delayDuration: 0, children: N.jsx("div", { "data-slot": "sidebar-wrapper", style: { "--sidebar-width": Yj, "--sidebar-width-icon": Kj, ...r }, className: je("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full", n), ...o, children: s }) }) }) } function $C({ side: i = "left", variant: t = "sidebar", collapsible: e = "offcanvas", className: n, children: r, ...s }) { const { isMobile: o, state: c, openMobile: u, setOpenMobile: d } = qy(); return e === "none" ? N.jsx("div", { "data-slot": "sidebar", className: je("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col", n), ...s, children: r }) : o ? N.jsx(gj, { open: u, onOpenChange: d, ...s, children: N.jsxs(bj, { "data-sidebar": "sidebar", "data-slot": "sidebar", "data-mobile": "true", className: "bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden", style: { "--sidebar-width": Xj }, side: i, children: [N.jsxs(yj, { className: "sr-only", children: [N.jsx(wj, { children: "Sidebar" }), N.jsx(xj, { children: "Displays the mobile sidebar." })] }), N.jsx("div", { className: "flex h-full w-full flex-col", children: r })] }) }) : N.jsxs("div", { className: "group peer text-sidebar-foreground hidden md:block", "data-state": c, "data-collapsible": c === "collapsed" ? e : "", "data-variant": t, "data-side": i, "data-slot": "sidebar", children: [N.jsx("div", { "data-slot": "sidebar-gap", className: je("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear", "group-data-[collapsible=offcanvas]:w-0", "group-data-[side=right]:rotate-180", t === "floating" || t === "inset" ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]" : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)") }), N.jsx("div", { "data-slot": "sidebar-container", className: je("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex", i === "left" ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]" : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]", t === "floating" || t === "inset" ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]" : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l", n), ...s, children: N.jsx("div", { "data-sidebar": "sidebar", "data-slot": "sidebar-inner", className: "bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm", children: r }) })] }) } function WC({ className: i, onClick: t, ...e }) { const { toggleSidebar: n } = qy(); return N.jsxs(dn, { "data-sidebar": "trigger", "data-slot": "sidebar-trigger", variant: "ghost", size: "icon", className: je("size-7", i), onClick: r => { t?.(r), n() }, ...e, children: [N.jsx(UD, {}), N.jsx("span", { className: "sr-only", children: "Toggle Sidebar" })] }) } function YC({ className: i, ...t }) { return N.jsx("div", { "data-slot": "sidebar-content", "data-sidebar": "content", className: je("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden", i), ...t }) } function XC({ className: i, ...t }) { return N.jsx("div", { "data-slot": "sidebar-group", "data-sidebar": "group", className: je("relative flex w-full min-w-0 flex-col p-2", i), ...t }) } function Zj({ className: i, asChild: t = !1, ...e }) { const n = t ? m0 : "div"; return N.jsx(n, { "data-slot": "sidebar-group-label", "data-sidebar": "group-label", className: je("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0", "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0", i), ...e }) } function KC({ className: i, ...t }) { return N.jsx("div", { "data-slot": "sidebar-group-content", "data-sidebar": "group-content", className: je("w-full text-sm", i), ...t }) } function QC({ className: i, ...t }) { return N.jsx("ul", { "data-slot": "sidebar-menu", "data-sidebar": "menu", className: je("flex w-full min-w-0 flex-col gap-1", i), ...t }) } function ZC({ className: i, ...t }) { return N.jsx("li", { "data-slot": "sidebar-menu-item", "data-sidebar": "menu-item", className: je("group/menu-item relative", i), ...t }) } const Jj = my("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0", { variants: { variant: { default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground", outline: "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]" }, size: { default: "h-8 text-sm", sm: "h-7 text-xs", lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!" } }, defaultVariants: { variant: "default", size: "default" } }); function JC({ asChild: i = !1, isActive: t = !1, variant: e = "default", size: n = "default", tooltip: r, className: s, ...o }) { const c = i ? m0 : "button", { isMobile: u, state: d } = qy(), f = N.jsx(c, { "data-slot": "sidebar-menu-button", "data-sidebar": "menu-button", "data-size": n, "data-active": t, className: je(Jj({ variant: e, size: n }), s), ...o }); return r ? (typeof r == "string" && (r = { children: r }), N.jsxs(qj, { children: [N.jsx(Vj, { asChild: !0, children: f }), N.jsx(Gj, { side: "right", align: "center", hidden: d !== "collapsed" || u, ...r })] })) : f } const t7 = [{ title: "Scan Document", url: "/scanner/scan", icon: j_ }, { title: "Scanned Documents", url: "/scanner/docs", icon: xb }]; function e7() { return N.jsx($C, { className: "mt-16", children: N.jsx(YC, { children: N.jsxs(XC, { children: [N.jsx(Zj, { children: "Application" }), N.jsx(KC, { children: N.jsx(QC, { children: t7.map(i => N.jsx(ZC, { children: N.jsx(JC, { asChild: !0, children: N.jsxs("a", { href: i.url, children: [N.jsx(i.icon, {}), N.jsx("span", { children: i.title })] }) }) }, i.title)) }) })] }) }) }) } const n7 = () => N.jsx("div", { className: "mt-8", children: N.jsxs(GC, { children: [N.jsx(e7, {}), N.jsx(WC, {}), N.jsx(nE, {})] }) }), i7 = () => N.jsx(zy, { roles: ["ScannerClerk"], children: N.jsx(n7, {}) }); function Vy({ className: i, ...t }) { return N.jsx("div", { "data-slot": "card", className: je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm", i), ...t }) } function Gy({ className: i, ...t }) { return N.jsx("div", { "data-slot": "card-header", className: je("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6", i), ...t }) } function $y({ className: i, ...t }) { return N.jsx("div", { "data-slot": "card-title", className: je("leading-none font-semibold", i), ...t }) } function Wy({ className: i, ...t }) { return N.jsx("div", { "data-slot": "card-content", className: je("px-6", i), ...t }) } function r7() { return N.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100", children: N.jsxs(Vy, { className: "w-full max-w-md", children: [N.jsx(Gy, { children: N.jsxs($y, { className: "text-2xl flex items-center gap-2", children: [N.jsx(LD, { className: "h-6 w-6 text-red-500" }), "Unauthorized Access"] }) }), N.jsxs(Wy, { children: [N.jsx("p", { className: "text-gray-600 mb-4", children: "You are not authorized to view this page." }), N.jsx(dn, { asChild: !0, children: N.jsx(fr, { to: "/", children: "Go to Homepage" }) })] })] }) }) } var Im = { exports: {} }, s7 = Im.exports, Gx; function a7() { return Gx || (Gx = 1, function (i, t) { (function (n, r) { i.exports = r(Rp()) })(s7, function (e) { return function (n) { var r = {}; function s(o) { if (r[o]) return r[o].exports; var c = r[o] = { i: o, l: !1, exports: {} }; return n[o].call(c.exports, c, c.exports, s), c.l = !0, c.exports } return s.m = n, s.c = r, s.d = function (o, c, u) { s.o(o, c) || Object.defineProperty(o, c, { enumerable: !0, get: u }) }, s.r = function (o) { typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(o, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(o, "__esModule", { value: !0 }) }, s.t = function (o, c) { if (c & 1 && (o = s(o)), c & 8 || c & 4 && typeof o == "object" && o && o.__esModule) return o; var u = Object.create(null); if (s.r(u), Object.defineProperty(u, "default", { enumerable: !0, value: o }), c & 2 && typeof o != "string") for (var d in o) s.d(u, d, (function (f) { return o[f] }).bind(null, d)); return u }, s.n = function (o) { var c = o && o.__esModule ? function () { return o.default } : function () { return o }; return s.d(c, "a", c), c }, s.o = function (o, c) { return Object.prototype.hasOwnProperty.call(o, c) }, s.p = "", s(s.s = "./src/react-webcam.tsx") }({ "./src/react-webcam.tsx": function (n, r, s) { s.r(r); var o = s("react"), c = function () { var m = function (v, x) { return m = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (y, E) { y.__proto__ = E } || function (y, E) { for (var A in E) E.hasOwnProperty(A) && (y[A] = E[A]) }, m(v, x) }; return function (v, x) { m(v, x); function y() { this.constructor = v } v.prototype = x === null ? Object.create(x) : (y.prototype = x.prototype, new y) } }(), u = function () { return u = Object.assign || function (m) { for (var v, x = 1, y = arguments.length; x < y; x++) { v = arguments[x]; for (var E in v) Object.prototype.hasOwnProperty.call(v, E) && (m[E] = v[E]) } return m }, u.apply(this, arguments) }, d = function (m, v) { var x = {}; for (var y in m) Object.prototype.hasOwnProperty.call(m, y) && v.indexOf(y) < 0 && (x[y] = m[y]); if (m != null && typeof Object.getOwnPropertySymbols == "function") for (var E = 0, y = Object.getOwnPropertySymbols(m); E < y.length; E++)v.indexOf(y[E]) < 0 && Object.prototype.propertyIsEnumerable.call(m, y[E]) && (x[y[E]] = m[y[E]]); return x }; (function () { typeof window > "u" || (navigator.mediaDevices === void 0 && (navigator.mediaDevices = {}), navigator.mediaDevices.getUserMedia === void 0 && (navigator.mediaDevices.getUserMedia = function (v) { var x = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia; return x ? new Promise(function (y, E) { x.call(navigator, v, y, E) }) : Promise.reject(new Error("getUserMedia is not implemented in this browser")) })) })(); function f() { return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) } var p = function (m) { c(v, m); function v(x) { var y = m.call(this, x) || this; return y.canvas = null, y.ctx = null, y.requestUserMediaId = 0, y.unmounted = !1, y.state = { hasUserMedia: !1 }, y } return v.prototype.componentDidMount = function () { var x = this, y = x.state, E = x.props; if (this.unmounted = !1, !f()) { E.onUserMediaError("getUserMedia not supported"); return } y.hasUserMedia || this.requestUserMedia(), E.children && typeof E.children != "function" && console.warn("children must be a function") }, v.prototype.componentDidUpdate = function (x) { var y = this.props; if (!f()) { y.onUserMediaError("getUserMedia not supported"); return } var E = JSON.stringify(x.audioConstraints) !== JSON.stringify(y.audioConstraints), A = JSON.stringify(x.videoConstraints) !== JSON.stringify(y.videoConstraints), T = x.minScreenshotWidth !== y.minScreenshotWidth, L = x.minScreenshotHeight !== y.minScreenshotHeight; (A || T || L) && (this.canvas = null, this.ctx = null), (E || A) && (this.stopAndCleanup(), this.requestUserMedia()) }, v.prototype.componentWillUnmount = function () { this.unmounted = !0, this.stopAndCleanup() }, v.stopMediaStream = function (x) { x && (x.getVideoTracks && x.getAudioTracks ? (x.getVideoTracks().map(function (y) { x.removeTrack(y), y.stop() }), x.getAudioTracks().map(function (y) { x.removeTrack(y), y.stop() })) : x.stop()) }, v.prototype.stopAndCleanup = function () { var x = this.state; x.hasUserMedia && (v.stopMediaStream(this.stream), x.src && window.URL.revokeObjectURL(x.src)) }, v.prototype.getScreenshot = function (x) { var y = this, E = y.state, A = y.props; if (!E.hasUserMedia) return null; var T = this.getCanvas(x); return T && T.toDataURL(A.screenshotFormat, A.screenshotQuality) }, v.prototype.getCanvas = function (x) { var y = this, E = y.state, A = y.props; if (!this.video || !E.hasUserMedia || !this.video.videoHeight) return null; if (!this.ctx) { var T = this.video.videoWidth, L = this.video.videoHeight; if (!this.props.forceScreenshotSourceSize) { var k = T / L; T = A.minScreenshotWidth || this.video.clientWidth, L = T / k, A.minScreenshotHeight && L < A.minScreenshotHeight && (L = A.minScreenshotHeight, T = L * k) } this.canvas = document.createElement("canvas"), this.canvas.width = x?.width || T, this.canvas.height = x?.height || L, this.ctx = this.canvas.getContext("2d") } var O = this, F = O.ctx, D = O.canvas; return F && D && (D.width = x?.width || D.width, D.height = x?.height || D.height, A.mirrored && (F.translate(D.width, 0), F.scale(-1, 1)), F.imageSmoothingEnabled = A.imageSmoothing, F.drawImage(this.video, 0, 0, x?.width || D.width, x?.height || D.height), A.mirrored && (F.scale(-1, 1), F.translate(-D.width, 0))), D }, v.prototype.requestUserMedia = function () { var x = this, y = this.props, E = function (L, k) { var O = { video: typeof k < "u" ? k : !0 }; y.audio && (O.audio = typeof L < "u" ? L : !0), x.requestUserMediaId++; var F = x.requestUserMediaId; navigator.mediaDevices.getUserMedia(O).then(function (D) { x.unmounted || F !== x.requestUserMediaId ? v.stopMediaStream(D) : x.handleUserMedia(null, D) }).catch(function (D) { x.handleUserMedia(D) }) }; if ("mediaDevices" in navigator) E(y.audioConstraints, y.videoConstraints); else { var A = function (L) { return { optional: [{ sourceId: L }] } }, T = function (L) { var k = L.deviceId; return typeof k == "string" ? k : Array.isArray(k) && k.length > 0 ? k[0] : typeof k == "object" && k.ideal ? k.ideal : null }; MediaStreamTrack.getSources(function (L) { var k = null, O = null; L.forEach(function (j) { j.kind === "audio" ? k = j.id : j.kind === "video" && (O = j.id) }); var F = T(y.audioConstraints); F && (k = F); var D = T(y.videoConstraints); D && (O = D), E(A(k), A(O)) }) } }, v.prototype.handleUserMedia = function (x, y) { var E = this.props; if (x || !y) { this.setState({ hasUserMedia: !1 }), E.onUserMediaError(x); return } this.stream = y; try { this.video && (this.video.srcObject = y), this.setState({ hasUserMedia: !0 }) } catch { this.setState({ hasUserMedia: !0, src: window.URL.createObjectURL(y) }) } E.onUserMedia(y) }, v.prototype.render = function () { var x = this, y = this, E = y.state, A = y.props, T = A.audio; A.forceScreenshotSourceSize; var L = A.disablePictureInPicture; A.onUserMedia, A.onUserMediaError, A.screenshotFormat, A.screenshotQuality, A.minScreenshotWidth, A.minScreenshotHeight, A.audioConstraints, A.videoConstraints, A.imageSmoothing; var k = A.mirrored, O = A.style, F = O === void 0 ? {} : O, D = A.children, j = d(A, ["audio", "forceScreenshotSourceSize", "disablePictureInPicture", "onUserMedia", "onUserMediaError", "screenshotFormat", "screenshotQuality", "minScreenshotWidth", "minScreenshotHeight", "audioConstraints", "videoConstraints", "imageSmoothing", "mirrored", "style", "children"]), J = k ? u(u({}, F), { transform: (F.transform || "") + " scaleX(-1)" }) : F, ot = { getScreenshot: this.getScreenshot.bind(this) }; return o.createElement(o.Fragment, null, o.createElement("video", u({ autoPlay: !0, disablePictureInPicture: L, src: E.src, muted: !T, playsInline: !0, ref: function (z) { x.video = z }, style: J }, j)), D && D(ot)) }, v.defaultProps = { audio: !1, disablePictureInPicture: !1, forceScreenshotSourceSize: !1, imageSmoothing: !0, mirrored: !1, onUserMedia: function () { }, onUserMediaError: function () { }, screenshotFormat: "image/webp", screenshotQuality: .92 }, v }(o.Component); r.default = p }, react: function (n, r) { n.exports = e } }).default }) }(Im)), Im.exports } var o7 = a7(); const t3 = Np(o7);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function $x(i, t) { var e = Object.keys(i); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(i); t && (n = n.filter(function (r) { return Object.getOwnPropertyDescriptor(i, r).enumerable })), e.push.apply(e, n) } return e } function e3(i) { for (var t = 1; t < arguments.length; t++) { var e = arguments[t] != null ? arguments[t] : {}; t % 2 ? $x(Object(e), !0).forEach(function (n) { h7(i, n, e[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(e)) : $x(Object(e)).forEach(function (n) { Object.defineProperty(i, n, Object.getOwnPropertyDescriptor(e, n)) }) } return i } function l7(i, t) { if (typeof i != "object" || !i) return i; var e = i[Symbol.toPrimitive]; if (e !== void 0) { var n = e.call(i, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(i) } function n3(i) { var t = l7(i, "string"); return typeof t == "symbol" ? t : t + "" } function Eb(i) { "@babel/helpers - typeof"; return Eb = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (t) { return typeof t } : function (t) { return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, Eb(i) } function c7(i, t) { if (!(i instanceof t)) throw new TypeError("Cannot call a class as a function") } function Wx(i, t) { for (var e = 0; e < t.length; e++) { var n = t[e]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(i, n3(n.key), n) } } function u7(i, t, e) { return t && Wx(i.prototype, t), e && Wx(i, e), Object.defineProperty(i, "prototype", { writable: !1 }), i } function h7(i, t, e) { return t = n3(t), t in i ? Object.defineProperty(i, t, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : i[t] = e, i } function i3(i) { return d7(i) || f7(i) || p7(i) || g7() } function d7(i) { if (Array.isArray(i)) return _b(i) } function f7(i) { if (typeof Symbol < "u" && i[Symbol.iterator] != null || i["@@iterator"] != null) return Array.from(i) } function p7(i, t) { if (i) { if (typeof i == "string") return _b(i, t); var e = Object.prototype.toString.call(i).slice(8, -1); if (e === "Object" && i.constructor && (e = i.constructor.name), e === "Map" || e === "Set") return Array.from(i); if (e === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return _b(i, t) } } function _b(i, t) { (t == null || t > i.length) && (t = i.length); for (var e = 0, n = new Array(t); e < t; e++)n[e] = i[e]; return n } function g7() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} var O0 = typeof window < "u" && typeof window.document < "u", Qo = O0 ? window : {}, Yy = O0 && Qo.document.documentElement ? "ontouchstart" in Qo.document.documentElement : !1, Xy = O0 ? "PointerEvent" in Qo : !1, ai = "cropper", Ky = "all", r3 = "crop", s3 = "move", a3 = "zoom", Uu = "e", Hu = "w", od = "s", kc = "n", Xf = "ne", Kf = "nw", Qf = "se", Zf = "sw", Cb = "".concat(ai, "-crop"), Yx = "".concat(ai, "-disabled"), ms = "".concat(ai, "-hidden"), Xx = "".concat(ai, "-hide"), m7 = "".concat(ai, "-invisible"), n0 = "".concat(ai, "-modal"), Nb = "".concat(ai, "-move"), yp = "".concat(ai, "Action"), fm = "".concat(ai, "Preview"), Qy = "crop", o3 = "move", l3 = "none", Rb = "crop", Tb = "cropend", Lb = "cropmove", Mb = "cropstart", Kx = "dblclick", v7 = Yy ? "touchstart" : "mousedown", b7 = Yy ? "touchmove" : "mousemove", y7 = Yy ? "touchend touchcancel" : "mouseup", Qx = Xy ? "pointerdown" : v7, Zx = Xy ? "pointermove" : b7, Jx = Xy ? "pointerup pointercancel" : y7, tS = "ready", eS = "resize", nS = "wheel", Pb = "zoom", iS = "image/jpeg", w7 = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/, x7 = /^data:/, S7 = /^data:image\/jpeg;base64,/, A7 = /^img|canvas$/i, c3 = 200, u3 = 100, rS = { viewMode: 0, dragMode: Qy, initialAspectRatio: NaN, aspectRatio: NaN, data: null, preview: "", responsive: !0, restore: !0, checkCrossOrigin: !0, checkOrientation: !0, modal: !0, guides: !0, center: !0, highlight: !0, background: !0, autoCrop: !0, autoCropArea: .8, movable: !0, rotatable: !0, scalable: !0, zoomable: !0, zoomOnTouch: !0, zoomOnWheel: !0, wheelZoomRatio: .1, cropBoxMovable: !0, cropBoxResizable: !0, toggleDragModeOnDblclick: !0, minCanvasWidth: 0, minCanvasHeight: 0, minCropBoxWidth: 0, minCropBoxHeight: 0, minContainerWidth: c3, minContainerHeight: u3, ready: null, cropstart: null, cropmove: null, cropend: null, crop: null, zoom: null }, E7 = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>', _7 = Number.isNaN || Qo.isNaN; function on(i) { return typeof i == "number" && !_7(i) } var sS = function (t) { return t > 0 && t < 1 / 0 }; function C1(i) { return typeof i > "u" } function ch(i) { return Eb(i) === "object" && i !== null } var C7 = Object.prototype.hasOwnProperty; function pd(i) { if (!ch(i)) return !1; try { var t = i.constructor, e = t.prototype; return t && e && C7.call(e, "isPrototypeOf") } catch { return !1 } } function fs(i) { return typeof i == "function" } var N7 = Array.prototype.slice; function h3(i) { return Array.from ? Array.from(i) : N7.call(i) } function Hi(i, t) { return i && fs(t) && (Array.isArray(i) || on(i.length) ? h3(i).forEach(function (e, n) { t.call(i, e, n, i) }) : ch(i) && Object.keys(i).forEach(function (e) { t.call(i, i[e], e, i) })), i } var oi = Object.assign || function (t) { for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)n[r - 1] = arguments[r]; return ch(t) && n.length > 0 && n.forEach(function (s) { ch(s) && Object.keys(s).forEach(function (o) { t[o] = s[o] }) }), t }, R7 = /\.\d*(?:0|9){12}\d*$/; function xd(i) { var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e11; return R7.test(i) ? Math.round(i * t) / t : i } var T7 = /^width|height|left|top|marginLeft|marginTop$/; function zc(i, t) { var e = i.style; Hi(t, function (n, r) { T7.test(r) && on(n) && (n = "".concat(n, "px")), e[r] = n }) } function L7(i, t) { return i.classList ? i.classList.contains(t) : i.className.indexOf(t) > -1 } function dr(i, t) { if (t) { if (on(i.length)) { Hi(i, function (n) { dr(n, t) }); return } if (i.classList) { i.classList.add(t); return } var e = i.className.trim(); e ? e.indexOf(t) < 0 && (i.className = "".concat(e, " ").concat(t)) : i.className = t } } function Wo(i, t) { if (t) { if (on(i.length)) { Hi(i, function (e) { Wo(e, t) }); return } if (i.classList) { i.classList.remove(t); return } i.className.indexOf(t) >= 0 && (i.className = i.className.replace(t, "")) } } function gd(i, t, e) { if (t) { if (on(i.length)) { Hi(i, function (n) { gd(n, t, e) }); return } e ? dr(i, t) : Wo(i, t) } } var M7 = /([a-z\d])([A-Z])/g; function Zy(i) { return i.replace(M7, "$1-$2").toLowerCase() } function Ob(i, t) { return ch(i[t]) ? i[t] : i.dataset ? i.dataset[t] : i.getAttribute("data-".concat(Zy(t))) } function wp(i, t, e) { ch(e) ? i[t] = e : i.dataset ? i.dataset[t] = e : i.setAttribute("data-".concat(Zy(t)), e) } function P7(i, t) { if (ch(i[t])) try { delete i[t] } catch { i[t] = void 0 } else if (i.dataset) try { delete i.dataset[t] } catch { i.dataset[t] = void 0 } else i.removeAttribute("data-".concat(Zy(t))) } var d3 = /\s\s*/, f3 = function () { var i = !1; if (O0) { var t = !1, e = function () { }, n = Object.defineProperty({}, "once", { get: function () { return i = !0, t }, set: function (s) { t = s } }); Qo.addEventListener("test", e, n), Qo.removeEventListener("test", e, n) } return i }(); function Da(i, t, e) { var n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, r = e; t.trim().split(d3).forEach(function (s) { if (!f3) { var o = i.listeners; o && o[s] && o[s][e] && (r = o[s][e], delete o[s][e], Object.keys(o[s]).length === 0 && delete o[s], Object.keys(o).length === 0 && delete i.listeners) } i.removeEventListener(s, r, n) }) } function sa(i, t, e) { var n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, r = e; t.trim().split(d3).forEach(function (s) { if (n.once && !f3) { var o = i.listeners, c = o === void 0 ? {} : o; r = function () { delete c[s][e], i.removeEventListener(s, r, n); for (var d = arguments.length, f = new Array(d), p = 0; p < d; p++)f[p] = arguments[p]; e.apply(i, f) }, c[s] || (c[s] = {}), c[s][e] && i.removeEventListener(s, c[s][e], n), c[s][e] = r, i.listeners = c } i.addEventListener(s, r, n) }) } function Sd(i, t, e) { var n; return fs(Event) && fs(CustomEvent) ? n = new CustomEvent(t, { detail: e, bubbles: !0, cancelable: !0 }) : (n = document.createEvent("CustomEvent"), n.initCustomEvent(t, !0, !0, e)), i.dispatchEvent(n) } function p3(i) { var t = i.getBoundingClientRect(); return { left: t.left + (window.pageXOffset - document.documentElement.clientLeft), top: t.top + (window.pageYOffset - document.documentElement.clientTop) } } var N1 = Qo.location, O7 = /^(\w+:)\/\/([^:/?#]*):?(\d*)/i; function aS(i) { var t = i.match(O7); return t !== null && (t[1] !== N1.protocol || t[2] !== N1.hostname || t[3] !== N1.port) } function oS(i) { var t = "timestamp=".concat(new Date().getTime()); return i + (i.indexOf("?") === -1 ? "?" : "&") + t } function cp(i) { var t = i.rotate, e = i.scaleX, n = i.scaleY, r = i.translateX, s = i.translateY, o = []; on(r) && r !== 0 && o.push("translateX(".concat(r, "px)")), on(s) && s !== 0 && o.push("translateY(".concat(s, "px)")), on(t) && t !== 0 && o.push("rotate(".concat(t, "deg)")), on(e) && e !== 1 && o.push("scaleX(".concat(e, ")")), on(n) && n !== 1 && o.push("scaleY(".concat(n, ")")); var c = o.length ? o.join(" ") : "none"; return { WebkitTransform: c, msTransform: c, transform: c } } function k7(i) { var t = e3({}, i), e = 0; return Hi(i, function (n, r) { delete t[r], Hi(t, function (s) { var o = Math.abs(n.startX - s.startX), c = Math.abs(n.startY - s.startY), u = Math.abs(n.endX - s.endX), d = Math.abs(n.endY - s.endY), f = Math.sqrt(o * o + c * c), p = Math.sqrt(u * u + d * d), m = (p - f) / f; Math.abs(m) > Math.abs(e) && (e = m) }) }), e } function pm(i, t) { var e = i.pageX, n = i.pageY, r = { endX: e, endY: n }; return t ? r : e3({ startX: e, startY: n }, r) } function D7(i) { var t = 0, e = 0, n = 0; return Hi(i, function (r) { var s = r.startX, o = r.startY; t += s, e += o, n += 1 }), t /= n, e /= n, { pageX: t, pageY: e } } function Uc(i) { var t = i.aspectRatio, e = i.height, n = i.width, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "contain", s = sS(n), o = sS(e); if (s && o) { var c = e * t; r === "contain" && c > n || r === "cover" && c < n ? e = n / t : n = e * t } else s ? e = n / t : o && (n = e * t); return { width: n, height: e } } function j7(i) { var t = i.width, e = i.height, n = i.degree; if (n = Math.abs(n) % 180, n === 90) return { width: e, height: t }; var r = n % 90 * Math.PI / 180, s = Math.sin(r), o = Math.cos(r), c = t * o + e * s, u = t * s + e * o; return n > 90 ? { width: u, height: c } : { width: c, height: u } } function I7(i, t, e, n) { var r = t.aspectRatio, s = t.naturalWidth, o = t.naturalHeight, c = t.rotate, u = c === void 0 ? 0 : c, d = t.scaleX, f = d === void 0 ? 1 : d, p = t.scaleY, m = p === void 0 ? 1 : p, v = e.aspectRatio, x = e.naturalWidth, y = e.naturalHeight, E = n.fillColor, A = E === void 0 ? "transparent" : E, T = n.imageSmoothingEnabled, L = T === void 0 ? !0 : T, k = n.imageSmoothingQuality, O = k === void 0 ? "low" : k, F = n.maxWidth, D = F === void 0 ? 1 / 0 : F, j = n.maxHeight, J = j === void 0 ? 1 / 0 : j, ot = n.minWidth, z = ot === void 0 ? 0 : ot, G = n.minHeight, it = G === void 0 ? 0 : G, nt = document.createElement("canvas"), ht = nt.getContext("2d"), U = Uc({ aspectRatio: v, width: D, height: J }), tt = Uc({ aspectRatio: v, width: z, height: it }, "cover"), Q = Math.min(U.width, Math.max(tt.width, x)), pt = Math.min(U.height, Math.max(tt.height, y)), Y = Uc({ aspectRatio: r, width: D, height: J }), ft = Uc({ aspectRatio: r, width: z, height: it }, "cover"), I = Math.min(Y.width, Math.max(ft.width, s)), V = Math.min(Y.height, Math.max(ft.height, o)), Z = [-I / 2, -V / 2, I, V]; return nt.width = xd(Q), nt.height = xd(pt), ht.fillStyle = A, ht.fillRect(0, 0, Q, pt), ht.save(), ht.translate(Q / 2, pt / 2), ht.rotate(u * Math.PI / 180), ht.scale(f, m), ht.imageSmoothingEnabled = L, ht.imageSmoothingQuality = O, ht.drawImage.apply(ht, [i].concat(i3(Z.map(function (st) { return Math.floor(xd(st)) })))), ht.restore(), nt } var g3 = String.fromCharCode; function F7(i, t, e) { var n = ""; e += t; for (var r = t; r < e; r += 1)n += g3(i.getUint8(r)); return n } var B7 = /^data:.*,/; function z7(i) { var t = i.replace(B7, ""), e = atob(t), n = new ArrayBuffer(e.length), r = new Uint8Array(n); return Hi(r, function (s, o) { r[o] = e.charCodeAt(o) }), n } function U7(i, t) { for (var e = [], n = 8192, r = new Uint8Array(i); r.length > 0;)e.push(g3.apply(null, h3(r.subarray(0, n)))), r = r.subarray(n); return "data:".concat(t, ";base64,").concat(btoa(e.join(""))) } function H7(i) { var t = new DataView(i), e; try { var n, r, s; if (t.getUint8(0) === 255 && t.getUint8(1) === 216) for (var o = t.byteLength, c = 2; c + 1 < o;) { if (t.getUint8(c) === 255 && t.getUint8(c + 1) === 225) { r = c; break } c += 1 } if (r) { var u = r + 4, d = r + 10; if (F7(t, u, 4) === "Exif") { var f = t.getUint16(d); if (n = f === 18761, (n || f === 19789) && t.getUint16(d + 2, n) === 42) { var p = t.getUint32(d + 4, n); p >= 8 && (s = d + p) } } } if (s) { var m = t.getUint16(s, n), v, x; for (x = 0; x < m; x += 1)if (v = s + x * 12 + 2, t.getUint16(v, n) === 274) { v += 8, e = t.getUint16(v, n), t.setUint16(v, 1, n); break } } } catch { e = 1 } return e } function q7(i) { var t = 0, e = 1, n = 1; switch (i) { case 2: e = -1; break; case 3: t = -180; break; case 4: n = -1; break; case 5: t = 90, n = -1; break; case 6: t = 90; break; case 7: t = 90, e = -1; break; case 8: t = -90; break }return { rotate: t, scaleX: e, scaleY: n } } var V7 = { render: function () { this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this.cropped && this.renderCropBox() }, initContainer: function () { var t = this.element, e = this.options, n = this.container, r = this.cropper, s = Number(e.minContainerWidth), o = Number(e.minContainerHeight); dr(r, ms), Wo(t, ms); var c = { width: Math.max(n.offsetWidth, s >= 0 ? s : c3), height: Math.max(n.offsetHeight, o >= 0 ? o : u3) }; this.containerData = c, zc(r, { width: c.width, height: c.height }), dr(t, ms), Wo(r, ms) }, initCanvas: function () { var t = this.containerData, e = this.imageData, n = this.options.viewMode, r = Math.abs(e.rotate) % 180 === 90, s = r ? e.naturalHeight : e.naturalWidth, o = r ? e.naturalWidth : e.naturalHeight, c = s / o, u = t.width, d = t.height; t.height * c > t.width ? n === 3 ? u = t.height * c : d = t.width / c : n === 3 ? d = t.width / c : u = t.height * c; var f = { aspectRatio: c, naturalWidth: s, naturalHeight: o, width: u, height: d }; this.canvasData = f, this.limited = n === 1 || n === 2, this.limitCanvas(!0, !0), f.width = Math.min(Math.max(f.width, f.minWidth), f.maxWidth), f.height = Math.min(Math.max(f.height, f.minHeight), f.maxHeight), f.left = (t.width - f.width) / 2, f.top = (t.height - f.height) / 2, f.oldLeft = f.left, f.oldTop = f.top, this.initialCanvasData = oi({}, f) }, limitCanvas: function (t, e) { var n = this.options, r = this.containerData, s = this.canvasData, o = this.cropBoxData, c = n.viewMode, u = s.aspectRatio, d = this.cropped && o; if (t) { var f = Number(n.minCanvasWidth) || 0, p = Number(n.minCanvasHeight) || 0; c > 1 ? (f = Math.max(f, r.width), p = Math.max(p, r.height), c === 3 && (p * u > f ? f = p * u : p = f / u)) : c > 0 && (f ? f = Math.max(f, d ? o.width : 0) : p ? p = Math.max(p, d ? o.height : 0) : d && (f = o.width, p = o.height, p * u > f ? f = p * u : p = f / u)); var m = Uc({ aspectRatio: u, width: f, height: p }); f = m.width, p = m.height, s.minWidth = f, s.minHeight = p, s.maxWidth = 1 / 0, s.maxHeight = 1 / 0 } if (e) if (c > (d ? 0 : 1)) { var v = r.width - s.width, x = r.height - s.height; s.minLeft = Math.min(0, v), s.minTop = Math.min(0, x), s.maxLeft = Math.max(0, v), s.maxTop = Math.max(0, x), d && this.limited && (s.minLeft = Math.min(o.left, o.left + (o.width - s.width)), s.minTop = Math.min(o.top, o.top + (o.height - s.height)), s.maxLeft = o.left, s.maxTop = o.top, c === 2 && (s.width >= r.width && (s.minLeft = Math.min(0, v), s.maxLeft = Math.max(0, v)), s.height >= r.height && (s.minTop = Math.min(0, x), s.maxTop = Math.max(0, x)))) } else s.minLeft = -s.width, s.minTop = -s.height, s.maxLeft = r.width, s.maxTop = r.height }, renderCanvas: function (t, e) { var n = this.canvasData, r = this.imageData; if (e) { var s = j7({ width: r.naturalWidth * Math.abs(r.scaleX || 1), height: r.naturalHeight * Math.abs(r.scaleY || 1), degree: r.rotate || 0 }), o = s.width, c = s.height, u = n.width * (o / n.naturalWidth), d = n.height * (c / n.naturalHeight); n.left -= (u - n.width) / 2, n.top -= (d - n.height) / 2, n.width = u, n.height = d, n.aspectRatio = o / c, n.naturalWidth = o, n.naturalHeight = c, this.limitCanvas(!0, !1) } (n.width > n.maxWidth || n.width < n.minWidth) && (n.left = n.oldLeft), (n.height > n.maxHeight || n.height < n.minHeight) && (n.top = n.oldTop), n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth), n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight), this.limitCanvas(!1, !0), n.left = Math.min(Math.max(n.left, n.minLeft), n.maxLeft), n.top = Math.min(Math.max(n.top, n.minTop), n.maxTop), n.oldLeft = n.left, n.oldTop = n.top, zc(this.canvas, oi({ width: n.width, height: n.height }, cp({ translateX: n.left, translateY: n.top }))), this.renderImage(t), this.cropped && this.limited && this.limitCropBox(!0, !0) }, renderImage: function (t) { var e = this.canvasData, n = this.imageData, r = n.naturalWidth * (e.width / e.naturalWidth), s = n.naturalHeight * (e.height / e.naturalHeight); oi(n, { width: r, height: s, left: (e.width - r) / 2, top: (e.height - s) / 2 }), zc(this.image, oi({ width: n.width, height: n.height }, cp(oi({ translateX: n.left, translateY: n.top }, n)))), t && this.output() }, initCropBox: function () { var t = this.options, e = this.canvasData, n = t.aspectRatio || t.initialAspectRatio, r = Number(t.autoCropArea) || .8, s = { width: e.width, height: e.height }; n && (e.height * n > e.width ? s.height = s.width / n : s.width = s.height * n), this.cropBoxData = s, this.limitCropBox(!0, !0), s.width = Math.min(Math.max(s.width, s.minWidth), s.maxWidth), s.height = Math.min(Math.max(s.height, s.minHeight), s.maxHeight), s.width = Math.max(s.minWidth, s.width * r), s.height = Math.max(s.minHeight, s.height * r), s.left = e.left + (e.width - s.width) / 2, s.top = e.top + (e.height - s.height) / 2, s.oldLeft = s.left, s.oldTop = s.top, this.initialCropBoxData = oi({}, s) }, limitCropBox: function (t, e) { var n = this.options, r = this.containerData, s = this.canvasData, o = this.cropBoxData, c = this.limited, u = n.aspectRatio; if (t) { var d = Number(n.minCropBoxWidth) || 0, f = Number(n.minCropBoxHeight) || 0, p = c ? Math.min(r.width, s.width, s.width + s.left, r.width - s.left) : r.width, m = c ? Math.min(r.height, s.height, s.height + s.top, r.height - s.top) : r.height; d = Math.min(d, r.width), f = Math.min(f, r.height), u && (d && f ? f * u > d ? f = d / u : d = f * u : d ? f = d / u : f && (d = f * u), m * u > p ? m = p / u : p = m * u), o.minWidth = Math.min(d, p), o.minHeight = Math.min(f, m), o.maxWidth = p, o.maxHeight = m } e && (c ? (o.minLeft = Math.max(0, s.left), o.minTop = Math.max(0, s.top), o.maxLeft = Math.min(r.width, s.left + s.width) - o.width, o.maxTop = Math.min(r.height, s.top + s.height) - o.height) : (o.minLeft = 0, o.minTop = 0, o.maxLeft = r.width - o.width, o.maxTop = r.height - o.height)) }, renderCropBox: function () { var t = this.options, e = this.containerData, n = this.cropBoxData; (n.width > n.maxWidth || n.width < n.minWidth) && (n.left = n.oldLeft), (n.height > n.maxHeight || n.height < n.minHeight) && (n.top = n.oldTop), n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth), n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight), this.limitCropBox(!1, !0), n.left = Math.min(Math.max(n.left, n.minLeft), n.maxLeft), n.top = Math.min(Math.max(n.top, n.minTop), n.maxTop), n.oldLeft = n.left, n.oldTop = n.top, t.movable && t.cropBoxMovable && wp(this.face, yp, n.width >= e.width && n.height >= e.height ? s3 : Ky), zc(this.cropBox, oi({ width: n.width, height: n.height }, cp({ translateX: n.left, translateY: n.top }))), this.cropped && this.limited && this.limitCanvas(!0, !0), this.disabled || this.output() }, output: function () { this.preview(), Sd(this.element, Rb, this.getData()) } }, G7 = { initPreview: function () { var t = this.element, e = this.crossOrigin, n = this.options.preview, r = e ? this.crossOriginUrl : this.url, s = t.alt || "The image to preview", o = document.createElement("img"); if (e && (o.crossOrigin = e), o.src = r, o.alt = s, this.viewBox.appendChild(o), this.viewBoxImage = o, !!n) { var c = n; typeof n == "string" ? c = t.ownerDocument.querySelectorAll(n) : n.querySelector && (c = [n]), this.previews = c, Hi(c, function (u) { var d = document.createElement("img"); wp(u, fm, { width: u.offsetWidth, height: u.offsetHeight, html: u.innerHTML }), e && (d.crossOrigin = e), d.src = r, d.alt = s, d.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"', u.innerHTML = "", u.appendChild(d) }) } }, resetPreview: function () { Hi(this.previews, function (t) { var e = Ob(t, fm); zc(t, { width: e.width, height: e.height }), t.innerHTML = e.html, P7(t, fm) }) }, preview: function () { var t = this.imageData, e = this.canvasData, n = this.cropBoxData, r = n.width, s = n.height, o = t.width, c = t.height, u = n.left - e.left - t.left, d = n.top - e.top - t.top; !this.cropped || this.disabled || (zc(this.viewBoxImage, oi({ width: o, height: c }, cp(oi({ translateX: -u, translateY: -d }, t)))), Hi(this.previews, function (f) { var p = Ob(f, fm), m = p.width, v = p.height, x = m, y = v, E = 1; r && (E = m / r, y = s * E), s && y > v && (E = v / s, x = r * E, y = v), zc(f, { width: x, height: y }), zc(f.getElementsByTagName("img")[0], oi({ width: o * E, height: c * E }, cp(oi({ translateX: -u * E, translateY: -d * E }, t)))) })) } }, $7 = { bind: function () { var t = this.element, e = this.options, n = this.cropper; fs(e.cropstart) && sa(t, Mb, e.cropstart), fs(e.cropmove) && sa(t, Lb, e.cropmove), fs(e.cropend) && sa(t, Tb, e.cropend), fs(e.crop) && sa(t, Rb, e.crop), fs(e.zoom) && sa(t, Pb, e.zoom), sa(n, Qx, this.onCropStart = this.cropStart.bind(this)), e.zoomable && e.zoomOnWheel && sa(n, nS, this.onWheel = this.wheel.bind(this), { passive: !1, capture: !0 }), e.toggleDragModeOnDblclick && sa(n, Kx, this.onDblclick = this.dblclick.bind(this)), sa(t.ownerDocument, Zx, this.onCropMove = this.cropMove.bind(this)), sa(t.ownerDocument, Jx, this.onCropEnd = this.cropEnd.bind(this)), e.responsive && sa(window, eS, this.onResize = this.resize.bind(this)) }, unbind: function () { var t = this.element, e = this.options, n = this.cropper; fs(e.cropstart) && Da(t, Mb, e.cropstart), fs(e.cropmove) && Da(t, Lb, e.cropmove), fs(e.cropend) && Da(t, Tb, e.cropend), fs(e.crop) && Da(t, Rb, e.crop), fs(e.zoom) && Da(t, Pb, e.zoom), Da(n, Qx, this.onCropStart), e.zoomable && e.zoomOnWheel && Da(n, nS, this.onWheel, { passive: !1, capture: !0 }), e.toggleDragModeOnDblclick && Da(n, Kx, this.onDblclick), Da(t.ownerDocument, Zx, this.onCropMove), Da(t.ownerDocument, Jx, this.onCropEnd), e.responsive && Da(window, eS, this.onResize) } }, W7 = { resize: function () { if (!this.disabled) { var t = this.options, e = this.container, n = this.containerData, r = e.offsetWidth / n.width, s = e.offsetHeight / n.height, o = Math.abs(r - 1) > Math.abs(s - 1) ? r : s; if (o !== 1) { var c, u; t.restore && (c = this.getCanvasData(), u = this.getCropBoxData()), this.render(), t.restore && (this.setCanvasData(Hi(c, function (d, f) { c[f] = d * o })), this.setCropBoxData(Hi(u, function (d, f) { u[f] = d * o }))) } } }, dblclick: function () { this.disabled || this.options.dragMode === l3 || this.setDragMode(L7(this.dragBox, Cb) ? o3 : Qy) }, wheel: function (t) { var e = this, n = Number(this.options.wheelZoomRatio) || .1, r = 1; this.disabled || (t.preventDefault(), !this.wheeling && (this.wheeling = !0, setTimeout(function () { e.wheeling = !1 }, 50), t.deltaY ? r = t.deltaY > 0 ? 1 : -1 : t.wheelDelta ? r = -t.wheelDelta / 120 : t.detail && (r = t.detail > 0 ? 1 : -1), this.zoom(-r * n, t))) }, cropStart: function (t) { var e = t.buttons, n = t.button; if (!(this.disabled || (t.type === "mousedown" || t.type === "pointerdown" && t.pointerType === "mouse") && (on(e) && e !== 1 || on(n) && n !== 0 || t.ctrlKey))) { var r = this.options, s = this.pointers, o; t.changedTouches ? Hi(t.changedTouches, function (c) { s[c.identifier] = pm(c) }) : s[t.pointerId || 0] = pm(t), Object.keys(s).length > 1 && r.zoomable && r.zoomOnTouch ? o = a3 : o = Ob(t.target, yp), w7.test(o) && Sd(this.element, Mb, { originalEvent: t, action: o }) !== !1 && (t.preventDefault(), this.action = o, this.cropping = !1, o === r3 && (this.cropping = !0, dr(this.dragBox, n0))) } }, cropMove: function (t) { var e = this.action; if (!(this.disabled || !e)) { var n = this.pointers; t.preventDefault(), Sd(this.element, Lb, { originalEvent: t, action: e }) !== !1 && (t.changedTouches ? Hi(t.changedTouches, function (r) { oi(n[r.identifier] || {}, pm(r, !0)) }) : oi(n[t.pointerId || 0] || {}, pm(t, !0)), this.change(t)) } }, cropEnd: function (t) { if (!this.disabled) { var e = this.action, n = this.pointers; t.changedTouches ? Hi(t.changedTouches, function (r) { delete n[r.identifier] }) : delete n[t.pointerId || 0], e && (t.preventDefault(), Object.keys(n).length || (this.action = ""), this.cropping && (this.cropping = !1, gd(this.dragBox, n0, this.cropped && this.options.modal)), Sd(this.element, Tb, { originalEvent: t, action: e })) } } }, Y7 = { change: function (t) { var e = this.options, n = this.canvasData, r = this.containerData, s = this.cropBoxData, o = this.pointers, c = this.action, u = e.aspectRatio, d = s.left, f = s.top, p = s.width, m = s.height, v = d + p, x = f + m, y = 0, E = 0, A = r.width, T = r.height, L = !0, k; !u && t.shiftKey && (u = p && m ? p / m : 1), this.limited && (y = s.minLeft, E = s.minTop, A = y + Math.min(r.width, n.width, n.left + n.width), T = E + Math.min(r.height, n.height, n.top + n.height)); var O = o[Object.keys(o)[0]], F = { x: O.endX - O.startX, y: O.endY - O.startY }, D = function (J) { switch (J) { case Uu: v + F.x > A && (F.x = A - v); break; case Hu: d + F.x < y && (F.x = y - d); break; case kc: f + F.y < E && (F.y = E - f); break; case od: x + F.y > T && (F.y = T - x); break } }; switch (c) { case Ky: d += F.x, f += F.y; break; case Uu: if (F.x >= 0 && (v >= A || u && (f <= E || x >= T))) { L = !1; break } D(Uu), p += F.x, p < 0 && (c = Hu, p = -p, d -= p), u && (m = p / u, f += (s.height - m) / 2); break; case kc: if (F.y <= 0 && (f <= E || u && (d <= y || v >= A))) { L = !1; break } D(kc), m -= F.y, f += F.y, m < 0 && (c = od, m = -m, f -= m), u && (p = m * u, d += (s.width - p) / 2); break; case Hu: if (F.x <= 0 && (d <= y || u && (f <= E || x >= T))) { L = !1; break } D(Hu), p -= F.x, d += F.x, p < 0 && (c = Uu, p = -p, d -= p), u && (m = p / u, f += (s.height - m) / 2); break; case od: if (F.y >= 0 && (x >= T || u && (d <= y || v >= A))) { L = !1; break } D(od), m += F.y, m < 0 && (c = kc, m = -m, f -= m), u && (p = m * u, d += (s.width - p) / 2); break; case Xf: if (u) { if (F.y <= 0 && (f <= E || v >= A)) { L = !1; break } D(kc), m -= F.y, f += F.y, p = m * u } else D(kc), D(Uu), F.x >= 0 ? v < A ? p += F.x : F.y <= 0 && f <= E && (L = !1) : p += F.x, F.y <= 0 ? f > E && (m -= F.y, f += F.y) : (m -= F.y, f += F.y); p < 0 && m < 0 ? (c = Zf, m = -m, p = -p, f -= m, d -= p) : p < 0 ? (c = Kf, p = -p, d -= p) : m < 0 && (c = Qf, m = -m, f -= m); break; case Kf: if (u) { if (F.y <= 0 && (f <= E || d <= y)) { L = !1; break } D(kc), m -= F.y, f += F.y, p = m * u, d += s.width - p } else D(kc), D(Hu), F.x <= 0 ? d > y ? (p -= F.x, d += F.x) : F.y <= 0 && f <= E && (L = !1) : (p -= F.x, d += F.x), F.y <= 0 ? f > E && (m -= F.y, f += F.y) : (m -= F.y, f += F.y); p < 0 && m < 0 ? (c = Qf, m = -m, p = -p, f -= m, d -= p) : p < 0 ? (c = Xf, p = -p, d -= p) : m < 0 && (c = Zf, m = -m, f -= m); break; case Zf: if (u) { if (F.x <= 0 && (d <= y || x >= T)) { L = !1; break } D(Hu), p -= F.x, d += F.x, m = p / u } else D(od), D(Hu), F.x <= 0 ? d > y ? (p -= F.x, d += F.x) : F.y >= 0 && x >= T && (L = !1) : (p -= F.x, d += F.x), F.y >= 0 ? x < T && (m += F.y) : m += F.y; p < 0 && m < 0 ? (c = Xf, m = -m, p = -p, f -= m, d -= p) : p < 0 ? (c = Qf, p = -p, d -= p) : m < 0 && (c = Kf, m = -m, f -= m); break; case Qf: if (u) { if (F.x >= 0 && (v >= A || x >= T)) { L = !1; break } D(Uu), p += F.x, m = p / u } else D(od), D(Uu), F.x >= 0 ? v < A ? p += F.x : F.y >= 0 && x >= T && (L = !1) : p += F.x, F.y >= 0 ? x < T && (m += F.y) : m += F.y; p < 0 && m < 0 ? (c = Kf, m = -m, p = -p, f -= m, d -= p) : p < 0 ? (c = Zf, p = -p, d -= p) : m < 0 && (c = Xf, m = -m, f -= m); break; case s3: this.move(F.x, F.y), L = !1; break; case a3: this.zoom(k7(o), t), L = !1; break; case r3: if (!F.x || !F.y) { L = !1; break } k = p3(this.cropper), d = O.startX - k.left, f = O.startY - k.top, p = s.minWidth, m = s.minHeight, F.x > 0 ? c = F.y > 0 ? Qf : Xf : F.x < 0 && (d -= p, c = F.y > 0 ? Zf : Kf), F.y < 0 && (f -= m), this.cropped || (Wo(this.cropBox, ms), this.cropped = !0, this.limited && this.limitCropBox(!0, !0)); break }L && (s.width = p, s.height = m, s.left = d, s.top = f, this.action = c, this.renderCropBox()), Hi(o, function (j) { j.startX = j.endX, j.startY = j.endY }) } }, X7 = { crop: function () { return this.ready && !this.cropped && !this.disabled && (this.cropped = !0, this.limitCropBox(!0, !0), this.options.modal && dr(this.dragBox, n0), Wo(this.cropBox, ms), this.setCropBoxData(this.initialCropBoxData)), this }, reset: function () { return this.ready && !this.disabled && (this.imageData = oi({}, this.initialImageData), this.canvasData = oi({}, this.initialCanvasData), this.cropBoxData = oi({}, this.initialCropBoxData), this.renderCanvas(), this.cropped && this.renderCropBox()), this }, clear: function () { return this.cropped && !this.disabled && (oi(this.cropBoxData, { left: 0, top: 0, width: 0, height: 0 }), this.cropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this.renderCanvas(), Wo(this.dragBox, n0), dr(this.cropBox, ms)), this }, replace: function (t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1; return !this.disabled && t && (this.isImg && (this.element.src = t), e ? (this.url = t, this.image.src = t, this.ready && (this.viewBoxImage.src = t, Hi(this.previews, function (n) { n.getElementsByTagName("img")[0].src = t }))) : (this.isImg && (this.replaced = !0), this.options.data = null, this.uncreate(), this.load(t))), this }, enable: function () { return this.ready && this.disabled && (this.disabled = !1, Wo(this.cropper, Yx)), this }, disable: function () { return this.ready && !this.disabled && (this.disabled = !0, dr(this.cropper, Yx)), this }, destroy: function () { var t = this.element; return t[ai] ? (t[ai] = void 0, this.isImg && this.replaced && (t.src = this.originalUrl), this.uncreate(), this) : this }, move: function (t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t, n = this.canvasData, r = n.left, s = n.top; return this.moveTo(C1(t) ? t : r + Number(t), C1(e) ? e : s + Number(e)) }, moveTo: function (t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t, n = this.canvasData, r = !1; return t = Number(t), e = Number(e), this.ready && !this.disabled && this.options.movable && (on(t) && (n.left = t, r = !0), on(e) && (n.top = e, r = !0), r && this.renderCanvas(!0)), this }, zoom: function (t, e) { var n = this.canvasData; return t = Number(t), t < 0 ? t = 1 / (1 - t) : t = 1 + t, this.zoomTo(n.width * t / n.naturalWidth, null, e) }, zoomTo: function (t, e, n) { var r = this.options, s = this.canvasData, o = s.width, c = s.height, u = s.naturalWidth, d = s.naturalHeight; if (t = Number(t), t >= 0 && this.ready && !this.disabled && r.zoomable) { var f = u * t, p = d * t; if (Sd(this.element, Pb, { ratio: t, oldRatio: o / u, originalEvent: n }) === !1) return this; if (n) { var m = this.pointers, v = p3(this.cropper), x = m && Object.keys(m).length ? D7(m) : { pageX: n.pageX, pageY: n.pageY }; s.left -= (f - o) * ((x.pageX - v.left - s.left) / o), s.top -= (p - c) * ((x.pageY - v.top - s.top) / c) } else pd(e) && on(e.x) && on(e.y) ? (s.left -= (f - o) * ((e.x - s.left) / o), s.top -= (p - c) * ((e.y - s.top) / c)) : (s.left -= (f - o) / 2, s.top -= (p - c) / 2); s.width = f, s.height = p, this.renderCanvas(!0) } return this }, rotate: function (t) { return this.rotateTo((this.imageData.rotate || 0) + Number(t)) }, rotateTo: function (t) { return t = Number(t), on(t) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = t % 360, this.renderCanvas(!0, !0)), this }, scaleX: function (t) { var e = this.imageData.scaleY; return this.scale(t, on(e) ? e : 1) }, scaleY: function (t) { var e = this.imageData.scaleX; return this.scale(on(e) ? e : 1, t) }, scale: function (t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : t, n = this.imageData, r = !1; return t = Number(t), e = Number(e), this.ready && !this.disabled && this.options.scalable && (on(t) && (n.scaleX = t, r = !0), on(e) && (n.scaleY = e, r = !0), r && this.renderCanvas(!0, !0)), this }, getData: function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1, e = this.options, n = this.imageData, r = this.canvasData, s = this.cropBoxData, o; if (this.ready && this.cropped) { o = { x: s.left - r.left, y: s.top - r.top, width: s.width, height: s.height }; var c = n.width / n.naturalWidth; if (Hi(o, function (f, p) { o[p] = f / c }), t) { var u = Math.round(o.y + o.height), d = Math.round(o.x + o.width); o.x = Math.round(o.x), o.y = Math.round(o.y), o.width = d - o.x, o.height = u - o.y } } else o = { x: 0, y: 0, width: 0, height: 0 }; return e.rotatable && (o.rotate = n.rotate || 0), e.scalable && (o.scaleX = n.scaleX || 1, o.scaleY = n.scaleY || 1), o }, setData: function (t) { var e = this.options, n = this.imageData, r = this.canvasData, s = {}; if (this.ready && !this.disabled && pd(t)) { var o = !1; e.rotatable && on(t.rotate) && t.rotate !== n.rotate && (n.rotate = t.rotate, o = !0), e.scalable && (on(t.scaleX) && t.scaleX !== n.scaleX && (n.scaleX = t.scaleX, o = !0), on(t.scaleY) && t.scaleY !== n.scaleY && (n.scaleY = t.scaleY, o = !0)), o && this.renderCanvas(!0, !0); var c = n.width / n.naturalWidth; on(t.x) && (s.left = t.x * c + r.left), on(t.y) && (s.top = t.y * c + r.top), on(t.width) && (s.width = t.width * c), on(t.height) && (s.height = t.height * c), this.setCropBoxData(s) } return this }, getContainerData: function () { return this.ready ? oi({}, this.containerData) : {} }, getImageData: function () { return this.sized ? oi({}, this.imageData) : {} }, getCanvasData: function () { var t = this.canvasData, e = {}; return this.ready && Hi(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function (n) { e[n] = t[n] }), e }, setCanvasData: function (t) { var e = this.canvasData, n = e.aspectRatio; return this.ready && !this.disabled && pd(t) && (on(t.left) && (e.left = t.left), on(t.top) && (e.top = t.top), on(t.width) ? (e.width = t.width, e.height = t.width / n) : on(t.height) && (e.height = t.height, e.width = t.height * n), this.renderCanvas(!0)), this }, getCropBoxData: function () { var t = this.cropBoxData, e; return this.ready && this.cropped && (e = { left: t.left, top: t.top, width: t.width, height: t.height }), e || {} }, setCropBoxData: function (t) { var e = this.cropBoxData, n = this.options.aspectRatio, r, s; return this.ready && this.cropped && !this.disabled && pd(t) && (on(t.left) && (e.left = t.left), on(t.top) && (e.top = t.top), on(t.width) && t.width !== e.width && (r = !0, e.width = t.width), on(t.height) && t.height !== e.height && (s = !0, e.height = t.height), n && (r ? e.height = e.width / n : s && (e.width = e.height * n)), this.renderCropBox()), this }, getCroppedCanvas: function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; if (!this.ready || !window.HTMLCanvasElement) return null; var e = this.canvasData, n = I7(this.image, this.imageData, e, t); if (!this.cropped) return n; var r = this.getData(t.rounded), s = r.x, o = r.y, c = r.width, u = r.height, d = n.width / Math.floor(e.naturalWidth); d !== 1 && (s *= d, o *= d, c *= d, u *= d); var f = c / u, p = Uc({ aspectRatio: f, width: t.maxWidth || 1 / 0, height: t.maxHeight || 1 / 0 }), m = Uc({ aspectRatio: f, width: t.minWidth || 0, height: t.minHeight || 0 }, "cover"), v = Uc({ aspectRatio: f, width: t.width || (d !== 1 ? n.width : c), height: t.height || (d !== 1 ? n.height : u) }), x = v.width, y = v.height; x = Math.min(p.width, Math.max(m.width, x)), y = Math.min(p.height, Math.max(m.height, y)); var E = document.createElement("canvas"), A = E.getContext("2d"); E.width = xd(x), E.height = xd(y), A.fillStyle = t.fillColor || "transparent", A.fillRect(0, 0, x, y); var T = t.imageSmoothingEnabled, L = T === void 0 ? !0 : T, k = t.imageSmoothingQuality; A.imageSmoothingEnabled = L, k && (A.imageSmoothingQuality = k); var O = n.width, F = n.height, D = s, j = o, J, ot, z, G, it, nt; D <= -c || D > O ? (D = 0, J = 0, z = 0, it = 0) : D <= 0 ? (z = -D, D = 0, J = Math.min(O, c + D), it = J) : D <= O && (z = 0, J = Math.min(c, O - D), it = J), J <= 0 || j <= -u || j > F ? (j = 0, ot = 0, G = 0, nt = 0) : j <= 0 ? (G = -j, j = 0, ot = Math.min(F, u + j), nt = ot) : j <= F && (G = 0, ot = Math.min(u, F - j), nt = ot); var ht = [D, j, J, ot]; if (it > 0 && nt > 0) { var U = x / c; ht.push(z * U, G * U, it * U, nt * U) } return A.drawImage.apply(A, [n].concat(i3(ht.map(function (tt) { return Math.floor(xd(tt)) })))), E }, setAspectRatio: function (t) { var e = this.options; return !this.disabled && !C1(t) && (e.aspectRatio = Math.max(0, t) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox())), this }, setDragMode: function (t) { var e = this.options, n = this.dragBox, r = this.face; if (this.ready && !this.disabled) { var s = t === Qy, o = e.movable && t === o3; t = s || o ? t : l3, e.dragMode = t, wp(n, yp, t), gd(n, Cb, s), gd(n, Nb, o), e.cropBoxMovable || (wp(r, yp, t), gd(r, Cb, s), gd(r, Nb, o)) } return this } }, K7 = Qo.Cropper, m3 = function () { function i(t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}; if (c7(this, i), !t || !A7.test(t.tagName)) throw new Error("The first argument is required and must be an <img> or <canvas> element."); this.element = t, this.options = oi({}, rS, pd(e) && e), this.cropped = !1, this.disabled = !1, this.pointers = {}, this.ready = !1, this.reloading = !1, this.replaced = !1, this.sized = !1, this.sizing = !1, this.init() } return u7(i, [{ key: "init", value: function () { var e = this.element, n = e.tagName.toLowerCase(), r; if (!e[ai]) { if (e[ai] = this, n === "img") { if (this.isImg = !0, r = e.getAttribute("src") || "", this.originalUrl = r, !r) return; r = e.src } else n === "canvas" && window.HTMLCanvasElement && (r = e.toDataURL()); this.load(r) } } }, { key: "load", value: function (e) { var n = this; if (e) { this.url = e, this.imageData = {}; var r = this.element, s = this.options; if (!s.rotatable && !s.scalable && (s.checkOrientation = !1), !s.checkOrientation || !window.ArrayBuffer) { this.clone(); return } if (x7.test(e)) { S7.test(e) ? this.read(z7(e)) : this.clone(); return } var o = new XMLHttpRequest, c = this.clone.bind(this); this.reloading = !0, this.xhr = o, o.onabort = c, o.onerror = c, o.ontimeout = c, o.onprogress = function () { o.getResponseHeader("content-type") !== iS && o.abort() }, o.onload = function () { n.read(o.response) }, o.onloadend = function () { n.reloading = !1, n.xhr = null }, s.checkCrossOrigin && aS(e) && r.crossOrigin && (e = oS(e)), o.open("GET", e, !0), o.responseType = "arraybuffer", o.withCredentials = r.crossOrigin === "use-credentials", o.send() } } }, { key: "read", value: function (e) { var n = this.options, r = this.imageData, s = H7(e), o = 0, c = 1, u = 1; if (s > 1) { this.url = U7(e, iS); var d = q7(s); o = d.rotate, c = d.scaleX, u = d.scaleY } n.rotatable && (r.rotate = o), n.scalable && (r.scaleX = c, r.scaleY = u), this.clone() } }, { key: "clone", value: function () { var e = this.element, n = this.url, r = e.crossOrigin, s = n; this.options.checkCrossOrigin && aS(n) && (r || (r = "anonymous"), s = oS(n)), this.crossOrigin = r, this.crossOriginUrl = s; var o = document.createElement("img"); r && (o.crossOrigin = r), o.src = s || n, o.alt = e.alt || "The image to crop", this.image = o, o.onload = this.start.bind(this), o.onerror = this.stop.bind(this), dr(o, Xx), e.parentNode.insertBefore(o, e.nextSibling) } }, { key: "start", value: function () { var e = this, n = this.image; n.onload = null, n.onerror = null, this.sizing = !0; var r = Qo.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Qo.navigator.userAgent), s = function (d, f) { oi(e.imageData, { naturalWidth: d, naturalHeight: f, aspectRatio: d / f }), e.initialImageData = oi({}, e.imageData), e.sizing = !1, e.sized = !0, e.build() }; if (n.naturalWidth && !r) { s(n.naturalWidth, n.naturalHeight); return } var o = document.createElement("img"), c = document.body || document.documentElement; this.sizingImage = o, o.onload = function () { s(o.width, o.height), r || c.removeChild(o) }, o.src = n.src, r || (o.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;", c.appendChild(o)) } }, { key: "stop", value: function () { var e = this.image; e.onload = null, e.onerror = null, e.parentNode.removeChild(e), this.image = null } }, { key: "build", value: function () { if (!(!this.sized || this.ready)) { var e = this.element, n = this.options, r = this.image, s = e.parentNode, o = document.createElement("div"); o.innerHTML = E7; var c = o.querySelector(".".concat(ai, "-container")), u = c.querySelector(".".concat(ai, "-canvas")), d = c.querySelector(".".concat(ai, "-drag-box")), f = c.querySelector(".".concat(ai, "-crop-box")), p = f.querySelector(".".concat(ai, "-face")); this.container = s, this.cropper = c, this.canvas = u, this.dragBox = d, this.cropBox = f, this.viewBox = c.querySelector(".".concat(ai, "-view-box")), this.face = p, u.appendChild(r), dr(e, ms), s.insertBefore(c, e.nextSibling), Wo(r, Xx), this.initPreview(), this.bind(), n.initialAspectRatio = Math.max(0, n.initialAspectRatio) || NaN, n.aspectRatio = Math.max(0, n.aspectRatio) || NaN, n.viewMode = Math.max(0, Math.min(3, Math.round(n.viewMode))) || 0, dr(f, ms), n.guides || dr(f.getElementsByClassName("".concat(ai, "-dashed")), ms), n.center || dr(f.getElementsByClassName("".concat(ai, "-center")), ms), n.background && dr(c, "".concat(ai, "-bg")), n.highlight || dr(p, m7), n.cropBoxMovable && (dr(p, Nb), wp(p, yp, Ky)), n.cropBoxResizable || (dr(f.getElementsByClassName("".concat(ai, "-line")), ms), dr(f.getElementsByClassName("".concat(ai, "-point")), ms)), this.render(), this.ready = !0, this.setDragMode(n.dragMode), n.autoCrop && this.crop(), this.setData(n.data), fs(n.ready) && sa(e, tS, n.ready, { once: !0 }), Sd(e, tS) } } }, { key: "unbuild", value: function () { if (this.ready) { this.ready = !1, this.unbind(), this.resetPreview(); var e = this.cropper.parentNode; e && e.removeChild(this.cropper), Wo(this.element, ms) } } }, { key: "uncreate", value: function () { this.ready ? (this.unbuild(), this.ready = !1, this.cropped = !1) : this.sizing ? (this.sizingImage.onload = null, this.sizing = !1, this.sized = !1) : this.reloading ? (this.xhr.onabort = null, this.xhr.abort()) : this.image && this.stop() } }], [{ key: "noConflict", value: function () { return window.Cropper = K7, i } }, { key: "setDefaults", value: function (e) { oi(rS, pd(e) && e) } }]) }(); oi(m3.prototype, V7, G7, $7, W7, Y7, X7); var Gu = function () { return Gu = Object.assign || function (i) { for (var t, e = 1, n = arguments.length; e < n; e++)for (var r in t = arguments[e]) Object.prototype.hasOwnProperty.call(t, r) && (i[r] = t[r]); return i }, Gu.apply(this, arguments) }; function R1(i, t) { var e = {}; for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && t.indexOf(n) < 0 && (e[n] = i[n]); if (i != null && typeof Object.getOwnPropertySymbols == "function") { var r = 0; for (n = Object.getOwnPropertySymbols(i); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(i, n[r]) && (e[n[r]] = i[n[r]]) } return e } var Q7 = ["aspectRatio", "autoCrop", "autoCropArea", "background", "center", "checkCrossOrigin", "checkOrientation", "cropBoxMovable", "cropBoxResizable", "data", "dragMode", "guides", "highlight", "initialAspectRatio", "minCanvasHeight", "minCanvasWidth", "minContainerHeight", "minContainerWidth", "minCropBoxHeight", "minCropBoxWidth", "modal", "movable", "preview", "responsive", "restore", "rotatable", "scalable", "toggleDragModeOnDblclick", "viewMode", "wheelZoomRatio", "zoomOnTouch", "zoomOnWheel", "zoomable", "cropstart", "cropmove", "cropend", "crop", "zoom", "ready"], Z7 = { opacity: 0, maxWidth: "100%" }, J7 = Yt.forwardRef(function (i, t) { var e = R1(i, []), n = e.dragMode, r = n === void 0 ? "crop" : n, s = e.src, o = e.style, c = e.className, u = e.crossOrigin, d = e.scaleX, f = e.scaleY, p = e.enable, m = e.zoomTo, v = e.rotateTo, x = e.alt, y = x === void 0 ? "picture" : x, E = e.ready, A = e.onInitialized, T = R1(e, ["dragMode", "src", "style", "className", "crossOrigin", "scaleX", "scaleY", "enable", "zoomTo", "rotateTo", "alt", "ready", "onInitialized"]), L = { scaleY: f, scaleX: d, enable: p, zoomTo: m, rotateTo: v }, k = function () { for (var F = [], D = 0; D < arguments.length; D++)F[D] = arguments[D]; var j = M.useRef(null); return Yt.useEffect(function () { F.forEach(function (J) { J && (typeof J == "function" ? J(j.current) : J.current = j.current) }) }, [F]), j }(t, M.useRef(null)); M.useEffect(function () { var F; !((F = k.current) === null || F === void 0) && F.cropper && typeof m == "number" && k.current.cropper.zoomTo(m) }, [e.zoomTo]), M.useEffect(function () { var F; !((F = k.current) === null || F === void 0) && F.cropper && s !== void 0 && k.current.cropper.reset().clear().replace(s) }, [s]), M.useEffect(function () { if (k.current !== null) { var F = new m3(k.current, Gu(Gu({ dragMode: r }, T), { ready: function (D) { D.currentTarget !== null && function (j, J) { J === void 0 && (J = {}); var ot = J.enable, z = ot === void 0 || ot, G = J.scaleX, it = G === void 0 ? 1 : G, nt = J.scaleY, ht = nt === void 0 ? 1 : nt, U = J.zoomTo, tt = U === void 0 ? 0 : U, Q = J.rotateTo; z ? j.enable() : j.disable(), j.scaleX(it), j.scaleY(ht), Q !== void 0 && j.rotateTo(Q), tt > 0 && j.zoomTo(tt) }(D.currentTarget.cropper, L), E && E(D) } })); A && A(F) } return function () { var D, j; (j = (D = k.current) === null || D === void 0 ? void 0 : D.cropper) === null || j === void 0 || j.destroy() } }, [k]); var O = function (F) { return Q7.reduce(function (D, j) { var J = D, ot = j; return J[ot], R1(J, [typeof ot == "symbol" ? ot : ot + ""]) }, F) }(Gu(Gu({}, T), { crossOrigin: u, src: s, alt: y })); return Yt.createElement("div", { style: o, className: c }, Yt.createElement("img", Gu({}, O, { style: Z7, ref: k }))) }); const Zr = typeof process == "object" && process + "" == "[object process]" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== "browser"), kb = [.001, 0, 0, .001, 0, 0], T1 = 1.35, Ds = { ANY: 1, DISPLAY: 2, PRINT: 4, ANNOTATIONS_FORMS: 16, ANNOTATIONS_STORAGE: 32, ANNOTATIONS_DISABLE: 64, IS_EDITING: 128, OPLIST: 256 }, Ho = { DISABLE: 0, ENABLE: 1, ENABLE_FORMS: 2, ENABLE_STORAGE: 3 }, tI = "pdfjs_internal_editor_", ze = { DISABLE: -1, NONE: 0, FREETEXT: 3, HIGHLIGHT: 9, STAMP: 13, INK: 15, SIGNATURE: 101 }, ln = { RESIZE: 1, CREATE: 2, FREETEXT_SIZE: 11, FREETEXT_COLOR: 12, FREETEXT_OPACITY: 13, INK_COLOR: 21, INK_THICKNESS: 22, INK_OPACITY: 23, HIGHLIGHT_COLOR: 31, HIGHLIGHT_DEFAULT_COLOR: 32, HIGHLIGHT_THICKNESS: 33, HIGHLIGHT_FREE: 34, HIGHLIGHT_SHOW_ALL: 35, DRAW_STEP: 41 }, v3 = { PRINT: 4, MODIFY_CONTENTS: 8, COPY: 16, MODIFY_ANNOTATIONS: 32, FILL_INTERACTIVE_FORMS: 256, COPY_FOR_ACCESSIBILITY: 512, ASSEMBLE: 1024, PRINT_HIGH_QUALITY: 2048 }, Br = { FILL: 0, STROKE: 1, FILL_STROKE: 2, INVISIBLE: 3, FILL_STROKE_MASK: 3, ADD_TO_PATH_FLAG: 4 }, up = { GRAYSCALE_1BPP: 1, RGB_24BPP: 2, RGBA_32BPP: 3 }, Ni = { TEXT: 1, LINK: 2, FREETEXT: 3, LINE: 4, SQUARE: 5, CIRCLE: 6, POLYGON: 7, POLYLINE: 8, HIGHLIGHT: 9, UNDERLINE: 10, SQUIGGLY: 11, STRIKEOUT: 12, STAMP: 13, CARET: 14, INK: 15, POPUP: 16, FILEATTACHMENT: 17, SOUND: 18, MOVIE: 19, WIDGET: 20, SCREEN: 21, PRINTERMARK: 22, TRAPNET: 23, WATERMARK: 24, THREED: 25, REDACT: 26 }, ud = { SOLID: 1, DASHED: 2, BEVELED: 3, INSET: 4, UNDERLINE: 5 }, Yp = { ERRORS: 0, WARNINGS: 1, INFOS: 5 }, xp = { dependency: 1, setLineWidth: 2, setLineCap: 3, setLineJoin: 4, setMiterLimit: 5, setDash: 6, setRenderingIntent: 7, setFlatness: 8, setGState: 9, save: 10, restore: 11, transform: 12, moveTo: 13, lineTo: 14, curveTo: 15, curveTo2: 16, curveTo3: 17, closePath: 18, rectangle: 19, stroke: 20, closeStroke: 21, fill: 22, eoFill: 23, fillStroke: 24, eoFillStroke: 25, closeFillStroke: 26, closeEOFillStroke: 27, endPath: 28, clip: 29, eoClip: 30, beginText: 31, endText: 32, setCharSpacing: 33, setWordSpacing: 34, setHScale: 35, setLeading: 36, setFont: 37, setTextRenderingMode: 38, setTextRise: 39, moveText: 40, setLeadingMoveText: 41, setTextMatrix: 42, nextLine: 43, showText: 44, showSpacedText: 45, nextLineShowText: 46, nextLineSetSpacingShowText: 47, setCharWidth: 48, setCharWidthAndBounds: 49, setStrokeColorSpace: 50, setFillColorSpace: 51, setStrokeColor: 52, setStrokeColorN: 53, setFillColor: 54, setFillColorN: 55, setStrokeGray: 56, setFillGray: 57, setStrokeRGBColor: 58, setFillRGBColor: 59, setStrokeCMYKColor: 60, setFillCMYKColor: 61, shadingFill: 62, beginInlineImage: 63, beginImageData: 64, endInlineImage: 65, paintXObject: 66, markPoint: 67, markPointProps: 68, beginMarkedContent: 69, beginMarkedContentProps: 70, endMarkedContent: 71, beginCompat: 72, endCompat: 73, paintFormXObjectBegin: 74, paintFormXObjectEnd: 75, beginGroup: 76, endGroup: 77, beginAnnotation: 80, endAnnotation: 81, paintImageMaskXObject: 83, paintImageMaskXObjectGroup: 84, paintImageXObject: 85, paintInlineImageXObject: 86, paintInlineImageXObjectGroup: 87, paintImageXObjectRepeat: 88, paintImageMaskXObjectRepeat: 89, paintSolidColorImageMask: 90, constructPath: 91, setStrokeTransparent: 92, setFillTransparent: 93, rawFillPath: 94 }, gm = { moveTo: 0, lineTo: 1, curveTo: 2, closePath: 3 }, b3 = { NEED_PASSWORD: 1, INCORRECT_PASSWORD: 2 }; let k0 = Yp.WARNINGS; function eI(i) { Number.isInteger(i) && (k0 = i) } function nI() { return k0 } function D0(i) { k0 >= Yp.INFOS && console.log(`Info: ${i}`) } function He(i) { k0 >= Yp.WARNINGS && console.log(`Warning: ${i}`) } function jn(i) { throw new Error(i) } function qi(i, t) { i || jn(t) } function iI(i) { switch (i?.protocol) { case "http:": case "https:": case "ftp:": case "mailto:": case "tel:": return !0; default: return !1 } } function Jy(i, t = null, e = null) { if (!i) return null; if (e && typeof i == "string" && (e.addDefaultProtocol && i.startsWith("www.") && i.match(/\./g)?.length >= 2 && (i = `http://${i}`), e.tryConvertEncoding)) try { i = lI(i) } catch { } const n = t ? URL.parse(i, t) : URL.parse(i); return iI(n) ? n : null } function t2(i, t, e = !1) { const n = URL.parse(i); return n ? (n.hash = t, n.href) : e && Jy(i, "http://example.com") ? i.split("#", 1)[0] + `${t ? `#${t}` : ""}` : "" } function sn(i, t, e, n = !1) { return Object.defineProperty(i, t, { value: e, enumerable: !n, configurable: !0, writable: !1 }), e } const ph = function () { function t(e, n) { this.message = e, this.name = n } return t.prototype = new Error, t.constructor = t, t }(); class lS extends ph { constructor(t, e) { super(t, "PasswordException"), this.code = e } } class L1 extends ph { constructor(t, e) { super(t, "UnknownErrorException"), this.details = e } } class i0 extends ph { constructor(t) { super(t, "InvalidPDFException") } } class Sp extends ph { constructor(t, e, n) { super(t, "ResponseException"), this.status = e, this.missing = n } } class rI extends ph { constructor(t) { super(t, "FormatError") } } class Bl extends ph { constructor(t) { super(t, "AbortException") } } function y3(i) { (typeof i != "object" || i?.length === void 0) && jn("Invalid argument for bytesToString"); const t = i.length, e = 8192; if (t < e) return String.fromCharCode.apply(null, i); const n = []; for (let r = 0; r < t; r += e) { const s = Math.min(r + e, t), o = i.subarray(r, s); n.push(String.fromCharCode.apply(null, o)) } return n.join("") } function Xp(i) { typeof i != "string" && jn("Invalid argument for stringToBytes"); const t = i.length, e = new Uint8Array(t); for (let n = 0; n < t; ++n)e[n] = i.charCodeAt(n) & 255; return e } function sI(i) { return String.fromCharCode(i >> 24 & 255, i >> 16 & 255, i >> 8 & 255, i & 255) } function aI() { const i = new Uint8Array(4); return i[0] = 1, new Uint32Array(i.buffer, 0, 1)[0] === 1 } function oI() { try { return new Function(""), !0 } catch { return !1 } } class gr { static get isLittleEndian() { return sn(this, "isLittleEndian", aI()) } static get isEvalSupported() { return sn(this, "isEvalSupported", oI()) } static get isOffscreenCanvasSupported() { return sn(this, "isOffscreenCanvasSupported", typeof OffscreenCanvas < "u") } static get isImageDecoderSupported() { return sn(this, "isImageDecoderSupported", typeof ImageDecoder < "u") } static get platform() { const { platform: t, userAgent: e } = navigator; return sn(this, "platform", { isAndroid: e.includes("Android"), isLinux: t.includes("Linux"), isMac: t.includes("Mac"), isWindows: t.includes("Win"), isFirefox: e.includes("Firefox") }) } static get isCSSRoundSupported() { return sn(this, "isCSSRoundSupported", globalThis.CSS?.supports?.("width: round(1.5px, 1px)")) } } const M1 = Array.from(Array(256).keys(), i => i.toString(16).padStart(2, "0")); class ye { static makeHexColor(t, e, n) { return `#${M1[t]}${M1[e]}${M1[n]}` } static scaleMinMax(t, e) { let n; t[0] ? (t[0] < 0 && (n = e[0], e[0] = e[2], e[2] = n), e[0] *= t[0], e[2] *= t[0], t[3] < 0 && (n = e[1], e[1] = e[3], e[3] = n), e[1] *= t[3], e[3] *= t[3]) : (n = e[0], e[0] = e[1], e[1] = n, n = e[2], e[2] = e[3], e[3] = n, t[1] < 0 && (n = e[1], e[1] = e[3], e[3] = n), e[1] *= t[1], e[3] *= t[1], t[2] < 0 && (n = e[0], e[0] = e[2], e[2] = n), e[0] *= t[2], e[2] *= t[2]), e[0] += t[4], e[1] += t[5], e[2] += t[4], e[3] += t[5] } static transform(t, e) { return [t[0] * e[0] + t[2] * e[1], t[1] * e[0] + t[3] * e[1], t[0] * e[2] + t[2] * e[3], t[1] * e[2] + t[3] * e[3], t[0] * e[4] + t[2] * e[5] + t[4], t[1] * e[4] + t[3] * e[5] + t[5]] } static applyTransform(t, e, n = 0) { const r = t[n], s = t[n + 1]; t[n] = r * e[0] + s * e[2] + e[4], t[n + 1] = r * e[1] + s * e[3] + e[5] } static applyTransformToBezier(t, e, n = 0) { const r = e[0], s = e[1], o = e[2], c = e[3], u = e[4], d = e[5]; for (let f = 0; f < 6; f += 2) { const p = t[n + f], m = t[n + f + 1]; t[n + f] = p * r + m * o + u, t[n + f + 1] = p * s + m * c + d } } static applyInverseTransform(t, e) { const n = t[0], r = t[1], s = e[0] * e[3] - e[1] * e[2]; t[0] = (n * e[3] - r * e[2] + e[2] * e[5] - e[4] * e[3]) / s, t[1] = (-n * e[1] + r * e[0] + e[4] * e[1] - e[5] * e[0]) / s } static axialAlignedBoundingBox(t, e, n) { const r = e[0], s = e[1], o = e[2], c = e[3], u = e[4], d = e[5], f = t[0], p = t[1], m = t[2], v = t[3]; let x = r * f + u, y = x, E = r * m + u, A = E, T = c * p + d, L = T, k = c * v + d, O = k; if (s !== 0 || o !== 0) { const F = s * f, D = s * m, j = o * p, J = o * v; x += j, A += j, E += J, y += J, T += F, O += F, k += D, L += D } n[0] = Math.min(n[0], x, E, y, A), n[1] = Math.min(n[1], T, k, L, O), n[2] = Math.max(n[2], x, E, y, A), n[3] = Math.max(n[3], T, k, L, O) } static inverseTransform(t) { const e = t[0] * t[3] - t[1] * t[2]; return [t[3] / e, -t[1] / e, -t[2] / e, t[0] / e, (t[2] * t[5] - t[4] * t[3]) / e, (t[4] * t[1] - t[5] * t[0]) / e] } static singularValueDecompose2dScale(t, e) { const n = t[0], r = t[1], s = t[2], o = t[3], c = n ** 2 + r ** 2, u = n * s + r * o, d = s ** 2 + o ** 2, f = (c + d) / 2, p = Math.sqrt(f ** 2 - (c * d - u ** 2)); e[0] = Math.sqrt(f + p || 1), e[1] = Math.sqrt(f - p || 1) } static normalizeRect(t) { const e = t.slice(0); return t[0] > t[2] && (e[0] = t[2], e[2] = t[0]), t[1] > t[3] && (e[1] = t[3], e[3] = t[1]), e } static intersect(t, e) { const n = Math.max(Math.min(t[0], t[2]), Math.min(e[0], e[2])), r = Math.min(Math.max(t[0], t[2]), Math.max(e[0], e[2])); if (n > r) return null; const s = Math.max(Math.min(t[1], t[3]), Math.min(e[1], e[3])), o = Math.min(Math.max(t[1], t[3]), Math.max(e[1], e[3])); return s > o ? null : [n, s, r, o] } static pointBoundingBox(t, e, n) { n[0] = Math.min(n[0], t), n[1] = Math.min(n[1], e), n[2] = Math.max(n[2], t), n[3] = Math.max(n[3], e) } static rectBoundingBox(t, e, n, r, s) { s[0] = Math.min(s[0], t, n), s[1] = Math.min(s[1], e, r), s[2] = Math.max(s[2], t, n), s[3] = Math.max(s[3], e, r) } static #t(t, e, n, r, s, o, c, u, d, f) { if (d <= 0 || d >= 1) return; const p = 1 - d, m = d * d, v = m * d, x = p * (p * (p * t + 3 * d * e) + 3 * m * n) + v * r, y = p * (p * (p * s + 3 * d * o) + 3 * m * c) + v * u; f[0] = Math.min(f[0], x), f[1] = Math.min(f[1], y), f[2] = Math.max(f[2], x), f[3] = Math.max(f[3], y) } static #e(t, e, n, r, s, o, c, u, d, f, p, m) { if (Math.abs(d) < 1e-12) { Math.abs(f) >= 1e-12 && this.#t(t, e, n, r, s, o, c, u, -p / f, m); return } const v = f ** 2 - 4 * p * d; if (v < 0) return; const x = Math.sqrt(v), y = 2 * d; this.#t(t, e, n, r, s, o, c, u, (-f + x) / y, m), this.#t(t, e, n, r, s, o, c, u, (-f - x) / y, m) } static bezierBoundingBox(t, e, n, r, s, o, c, u, d) { d[0] = Math.min(d[0], t, c), d[1] = Math.min(d[1], e, u), d[2] = Math.max(d[2], t, c), d[3] = Math.max(d[3], e, u), this.#e(t, n, s, c, e, r, o, u, 3 * (-t + 3 * (n - s) + c), 6 * (t - 2 * n + s), 3 * (n - t), d), this.#e(t, n, s, c, e, r, o, u, 3 * (-e + 3 * (r - o) + u), 6 * (e - 2 * r + o), 3 * (r - e), d) } } function lI(i) { return decodeURIComponent(escape(i)) } let P1 = null, cS = null; function w3(i) { return P1 || (P1 = /([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu, cS = new Map([["ﬅ", "ſt"]])), i.replaceAll(P1, (t, e, n) => e ? e.normalize("NFKC") : cS.get(n)) } function e2() { if (typeof crypto.randomUUID == "function") return crypto.randomUUID(); const i = new Uint8Array(32); return crypto.getRandomValues(i), y3(i) } const n2 = "pdfjs_internal_id_"; function cI(i, t, e) { if (!Array.isArray(e) || e.length < 2) return !1; const [n, r, ...s] = e; if (!i(n) && !Number.isInteger(n) || !t(r)) return !1; const o = s.length; let c = !0; switch (r.name) { case "XYZ": if (o < 2 || o > 3) return !1; break; case "Fit": case "FitB": return o === 0; case "FitH": case "FitBH": case "FitV": case "FitBV": if (o > 1) return !1; break; case "FitR": if (o !== 4) return !1; c = !1; break; default: return !1 }for (const u of s) if (!(typeof u == "number" || c && u === null)) return !1; return !0 } function zr(i, t, e) { return Math.min(Math.max(i, t), e) } function x3(i) { return Uint8Array.prototype.toBase64 ? i.toBase64() : btoa(y3(i)) } function uI(i) { return Uint8Array.fromBase64 ? Uint8Array.fromBase64(i) : Xp(atob(i)) } typeof Promise.try != "function" && (Promise.try = function (i, ...t) { return new Promise(e => { e(i(...t)) }) }); typeof Math.sumPrecise != "function" && (Math.sumPrecise = function (i) { return i.reduce((t, e) => t + e, 0) }); const Ol = "http://www.w3.org/2000/svg"; class uh { static CSS = 96; static PDF = 72; static PDF_TO_CSS_UNITS = this.CSS / this.PDF } async function Zd(i, t = "text") { if (ap(i, document.baseURI)) { const e = await fetch(i); if (!e.ok) throw new Error(e.statusText); switch (t) { case "arraybuffer": return e.arrayBuffer(); case "blob": return e.blob(); case "json": return e.json() }return e.text() } return new Promise((e, n) => { const r = new XMLHttpRequest; r.open("GET", i, !0), r.responseType = t, r.onreadystatechange = () => { if (r.readyState === XMLHttpRequest.DONE) { if (r.status === 200 || r.status === 0) { switch (t) { case "arraybuffer": case "blob": case "json": e(r.response); return }e(r.responseText); return } n(new Error(r.statusText)) } }, r.send(null) }) } class Kp { constructor({ viewBox: t, userUnit: e, scale: n, rotation: r, offsetX: s = 0, offsetY: o = 0, dontFlip: c = !1 }) { this.viewBox = t, this.userUnit = e, this.scale = n, this.rotation = r, this.offsetX = s, this.offsetY = o, n *= e; const u = (t[2] + t[0]) / 2, d = (t[3] + t[1]) / 2; let f, p, m, v; switch (r %= 360, r < 0 && (r += 360), r) { case 180: f = -1, p = 0, m = 0, v = 1; break; case 90: f = 0, p = 1, m = 1, v = 0; break; case 270: f = 0, p = -1, m = -1, v = 0; break; case 0: f = 1, p = 0, m = 0, v = -1; break; default: throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.") }c && (m = -m, v = -v); let x, y, E, A; f === 0 ? (x = Math.abs(d - t[1]) * n + s, y = Math.abs(u - t[0]) * n + o, E = (t[3] - t[1]) * n, A = (t[2] - t[0]) * n) : (x = Math.abs(u - t[0]) * n + s, y = Math.abs(d - t[1]) * n + o, E = (t[2] - t[0]) * n, A = (t[3] - t[1]) * n), this.transform = [f * n, p * n, m * n, v * n, x - f * n * u - m * n * d, y - p * n * u - v * n * d], this.width = E, this.height = A } get rawDims() { const t = this.viewBox; return sn(this, "rawDims", { pageWidth: t[2] - t[0], pageHeight: t[3] - t[1], pageX: t[0], pageY: t[1] }) } clone({ scale: t = this.scale, rotation: e = this.rotation, offsetX: n = this.offsetX, offsetY: r = this.offsetY, dontFlip: s = !1 } = {}) { return new Kp({ viewBox: this.viewBox.slice(), userUnit: this.userUnit, scale: t, rotation: e, offsetX: n, offsetY: r, dontFlip: s }) } convertToViewportPoint(t, e) { const n = [t, e]; return ye.applyTransform(n, this.transform), n } convertToViewportRectangle(t) { const e = [t[0], t[1]]; ye.applyTransform(e, this.transform); const n = [t[2], t[3]]; return ye.applyTransform(n, this.transform), [e[0], e[1], n[0], n[1]] } convertToPdfPoint(t, e) { const n = [t, e]; return ye.applyInverseTransform(n, this.transform), n } } class j0 extends ph { constructor(t, e = 0) { super(t, "RenderingCancelledException"), this.extraDelay = e } } function Qp(i) { const t = i.length; let e = 0; for (; e < t && i[e].trim() === "";)e++; return i.substring(e, e + 5).toLowerCase() === "data:" } function I0(i) { return typeof i == "string" && /\.pdf$/i.test(i) } function S3(i) { return [i] = i.split(/[#?]/, 1), i.substring(i.lastIndexOf("/") + 1) } function A3(i, t = "document.pdf") { if (typeof i != "string") return t; if (Qp(i)) return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'), t; const e = /^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/, n = /[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i, r = e.exec(i); let s = n.exec(r[1]) || n.exec(r[2]) || n.exec(r[3]); if (s && (s = s[0], s.includes("%"))) try { s = n.exec(decodeURIComponent(s))[0] } catch { } return s || t } class uS {
  started = Object.create(null); times = []; time(t) { t in this.started && He(`Timer is already running for ${t}`), this.started[t] = Date.now() } timeEnd(t) { t in this.started || He(`Timer has not been started for ${t}`), this.times.push({ name: t, start: this.started[t], end: Date.now() }), delete this.started[t] } toString() {
    const t = []; let e = 0; for (const { name: n } of this.times) e = Math.max(n.length, e); for (const { name: n, start: r, end: s } of this.times) t.push(`${n.padEnd(e)} ${s - r}ms
`); return t.join("")
  }
} function ap(i, t) { const e = t ? URL.parse(i, t) : URL.parse(i); return e?.protocol === "http:" || e?.protocol === "https:" } function la(i) { i.preventDefault() } function Ti(i) { i.preventDefault(), i.stopPropagation() } function hI(i) { console.log("Deprecated API usage: " + i) } class i2 { static #t; static toDateObject(t) { if (!t || typeof t != "string") return null; this.#t ||= new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"); const e = this.#t.exec(t); if (!e) return null; const n = parseInt(e[1], 10); let r = parseInt(e[2], 10); r = r >= 1 && r <= 12 ? r - 1 : 0; let s = parseInt(e[3], 10); s = s >= 1 && s <= 31 ? s : 1; let o = parseInt(e[4], 10); o = o >= 0 && o <= 23 ? o : 0; let c = parseInt(e[5], 10); c = c >= 0 && c <= 59 ? c : 0; let u = parseInt(e[6], 10); u = u >= 0 && u <= 59 ? u : 0; const d = e[7] || "Z"; let f = parseInt(e[8], 10); f = f >= 0 && f <= 23 ? f : 0; let p = parseInt(e[9], 10) || 0; return p = p >= 0 && p <= 59 ? p : 0, d === "-" ? (o += f, c += p) : d === "+" && (o -= f, c -= p), new Date(Date.UTC(n, r, s, o, c, u)) } } function E3(i, { scale: t = 1, rotation: e = 0 }) { const { width: n, height: r } = i.attributes.style, s = [0, 0, parseInt(n), parseInt(r)]; return new Kp({ viewBox: s, userUnit: 1, scale: t, rotation: e }) } function r2(i) { if (i.startsWith("#")) { const t = parseInt(i.slice(1), 16); return [(t & 16711680) >> 16, (t & 65280) >> 8, t & 255] } return i.startsWith("rgb(") ? i.slice(4, -1).split(",").map(t => parseInt(t)) : i.startsWith("rgba(") ? i.slice(5, -1).split(",").map(t => parseInt(t)).slice(0, 3) : (He(`Not a valid color format: "${i}"`), [0, 0, 0]) } function dI(i) { const t = document.createElement("span"); t.style.visibility = "hidden", t.style.colorScheme = "only light", document.body.append(t); for (const e of i.keys()) { t.style.color = e; const n = window.getComputedStyle(t).color; i.set(e, r2(n)) } t.remove() } function gi(i) { const { a: t, b: e, c: n, d: r, e: s, f: o } = i.getTransform(); return [t, e, n, r, s, o] } function Do(i) { const { a: t, b: e, c: n, d: r, e: s, f: o } = i.getTransform().invertSelf(); return [t, e, n, r, s, o] } function Xc(i, t, e = !1, n = !0) { if (t instanceof Kp) { const { pageWidth: r, pageHeight: s } = t.rawDims, { style: o } = i, c = gr.isCSSRoundSupported, u = `var(--total-scale-factor) * ${r}px`, d = `var(--total-scale-factor) * ${s}px`, f = c ? `round(down, ${u}, var(--scale-round-x))` : `calc(${u})`, p = c ? `round(down, ${d}, var(--scale-round-y))` : `calc(${d})`; !e || t.rotation % 180 === 0 ? (o.width = f, o.height = p) : (o.width = p, o.height = f) } n && i.setAttribute("data-main-rotation", t.rotation) } class Ga { constructor() { const { pixelRatio: t } = Ga; this.sx = t, this.sy = t } get scaled() { return this.sx !== 1 || this.sy !== 1 } get symmetric() { return this.sx === this.sy } limitCanvas(t, e, n, r, s = -1) { let o = 1 / 0, c = 1 / 0, u = 1 / 0; n = Ga.capPixels(n, s), n > 0 && (o = Math.sqrt(n / (t * e))), r !== -1 && (c = r / t, u = r / e); const d = Math.min(o, c, u); return this.sx > d || this.sy > d ? (this.sx = d, this.sy = d, !0) : !1 } static get pixelRatio() { return globalThis.devicePixelRatio || 1 } static capPixels(t, e) { if (e >= 0) { const n = Math.ceil(window.screen.availWidth * window.screen.availHeight * this.pixelRatio ** 2 * (1 + e / 100)); return t > 0 ? Math.min(t, n) : n } return t } } const r0 = ["image/apng", "image/avif", "image/bmp", "image/gif", "image/jpeg", "image/png", "image/svg+xml", "image/webp", "image/x-icon"]; class hp { #t = null; #e = null; #n; #i = null; #s = null; #r = null; static #o = null; constructor(t) { this.#n = t, hp.#o ||= Object.freeze({ freetext: "pdfjs-editor-remove-freetext-button", highlight: "pdfjs-editor-remove-highlight-button", ink: "pdfjs-editor-remove-ink-button", stamp: "pdfjs-editor-remove-stamp-button", signature: "pdfjs-editor-remove-signature-button" }) } render() { const t = this.#t = document.createElement("div"); t.classList.add("editToolbar", "hidden"), t.setAttribute("role", "toolbar"); const e = this.#n._uiManager._signal; t.addEventListener("contextmenu", la, { signal: e }), t.addEventListener("pointerdown", hp.#a, { signal: e }); const n = this.#i = document.createElement("div"); n.className = "buttons", t.append(n); const r = this.#n.toolbarPosition; if (r) { const { style: s } = t, o = this.#n._uiManager.direction === "ltr" ? 1 - r[0] : r[0]; s.insetInlineEnd = `${100 * o}%`, s.top = `calc(${100 * r[1]}% + var(--editor-toolbar-vert-offset))` } return this.#u(), t } get div() { return this.#t } static #a(t) { t.stopPropagation() } #h(t) { this.#n._focusEventsAllowed = !1, Ti(t) } #c(t) { this.#n._focusEventsAllowed = !0, Ti(t) } #d(t) { const e = this.#n._uiManager._signal; t.addEventListener("focusin", this.#h.bind(this), { capture: !0, signal: e }), t.addEventListener("focusout", this.#c.bind(this), { capture: !0, signal: e }), t.addEventListener("contextmenu", la, { signal: e }) } hide() { this.#t.classList.add("hidden"), this.#e?.hideDropdown() } show() { this.#t.classList.remove("hidden"), this.#s?.shown() } #u() { const { editorType: t, _uiManager: e } = this.#n, n = document.createElement("button"); n.className = "delete", n.tabIndex = 0, n.setAttribute("data-l10n-id", hp.#o[t]), this.#d(n), n.addEventListener("click", r => { e.delete() }, { signal: e._signal }), this.#i.append(n) } get #f() { const t = document.createElement("div"); return t.className = "divider", t } async addAltText(t) { const e = await t.render(); this.#d(e), this.#i.prepend(e, this.#f), this.#s = t } addColorPicker(t) { this.#e = t; const e = t.renderButton(); this.#d(e), this.#i.prepend(e, this.#f) } async addEditSignatureButton(t) { const e = this.#r = await t.renderEditButton(this.#n); this.#d(e), this.#i.prepend(e, this.#f) } updateEditSignatureButton(t) { this.#r && (this.#r.title = t) } remove() { this.#t.remove(), this.#e?.destroy(), this.#e = null } } class fI { #t = null; #e = null; #n; constructor(t) { this.#n = t } #i() { const t = this.#e = document.createElement("div"); t.className = "editToolbar", t.setAttribute("role", "toolbar"), t.addEventListener("contextmenu", la, { signal: this.#n._signal }); const e = this.#t = document.createElement("div"); return e.className = "buttons", t.append(e), this.#r(), t } #s(t, e) { let n = 0, r = 0; for (const s of t) { const o = s.y + s.height; if (o < n) continue; const c = s.x + (e ? s.width : 0); if (o > n) { r = c, n = o; continue } e ? c > r && (r = c) : c < r && (r = c) } return [e ? 1 - r : r, n] } show(t, e, n) { const [r, s] = this.#s(e, n), { style: o } = this.#e ||= this.#i(); t.append(this.#e), o.insetInlineEnd = `${100 * r}%`, o.top = `calc(${100 * s}% + var(--editor-toolbar-vert-offset))` } hide() { this.#e.remove() } #r() { const t = document.createElement("button"); t.className = "highlightButton", t.tabIndex = 0, t.setAttribute("data-l10n-id", "pdfjs-highlight-floating-button1"); const e = document.createElement("span"); t.append(e), e.className = "visuallyHidden", e.setAttribute("data-l10n-id", "pdfjs-highlight-floating-button-label"); const n = this.#n._signal; t.addEventListener("contextmenu", la, { signal: n }), t.addEventListener("click", () => { this.#n.highlightSelection("floating_button") }, { signal: n }), this.#t.append(t) } } function _3(i, t, e) { for (const n of e) t.addEventListener(n, i[n].bind(i)) } class pI { #t = 0; get id() { return `${tI}${this.#t++}` } } class s2 { #t = e2(); #e = 0; #n = null; static get _isSVGFittingCanvas() { const t = 'data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>', n = new OffscreenCanvas(1, 3).getContext("2d", { willReadFrequently: !0 }), r = new Image; r.src = t; const s = r.decode().then(() => (n.drawImage(r, 0, 0, 1, 1, 0, 0, 1, 3), new Uint32Array(n.getImageData(0, 0, 1, 1).data.buffer)[0] === 0)); return sn(this, "_isSVGFittingCanvas", s) } async#i(t, e) { this.#n ||= new Map; let n = this.#n.get(t); if (n === null) return null; if (n?.bitmap) return n.refCounter += 1, n; try { n ||= { bitmap: null, id: `image_${this.#t}_${this.#e++}`, refCounter: 0, isSvg: !1 }; let r; if (typeof e == "string" ? (n.url = e, r = await Zd(e, "blob")) : e instanceof File ? r = n.file = e : e instanceof Blob && (r = e), r.type === "image/svg+xml") { const s = s2._isSVGFittingCanvas, o = new FileReader, c = new Image, u = new Promise((d, f) => { c.onload = () => { n.bitmap = c, n.isSvg = !0, d() }, o.onload = async () => { const p = n.svgUrl = o.result; c.src = await s ? `${p}#svgView(preserveAspectRatio(none))` : p }, c.onerror = o.onerror = f }); o.readAsDataURL(r), await u } else n.bitmap = await createImageBitmap(r); n.refCounter = 1 } catch (r) { He(r), n = null } return this.#n.set(t, n), n && this.#n.set(n.id, n), n } async getFromFile(t) { const { lastModified: e, name: n, size: r, type: s } = t; return this.#i(`${e}_${n}_${r}_${s}`, t) } async getFromUrl(t) { return this.#i(t, t) } async getFromBlob(t, e) { const n = await e; return this.#i(t, n) } async getFromId(t) { this.#n ||= new Map; const e = this.#n.get(t); if (!e) return null; if (e.bitmap) return e.refCounter += 1, e; if (e.file) return this.getFromFile(e.file); if (e.blobPromise) { const { blobPromise: n } = e; return delete e.blobPromise, this.getFromBlob(e.id, n) } return this.getFromUrl(e.url) } getFromCanvas(t, e) { this.#n ||= new Map; let n = this.#n.get(t); if (n?.bitmap) return n.refCounter += 1, n; const r = new OffscreenCanvas(e.width, e.height); return r.getContext("2d").drawImage(e, 0, 0), n = { bitmap: r.transferToImageBitmap(), id: `image_${this.#t}_${this.#e++}`, refCounter: 1, isSvg: !1 }, this.#n.set(t, n), this.#n.set(n.id, n), n } getSvgUrl(t) { const e = this.#n.get(t); return e?.isSvg ? e.svgUrl : null } deleteId(t) { this.#n ||= new Map; const e = this.#n.get(t); if (!e || (e.refCounter -= 1, e.refCounter !== 0)) return; const { bitmap: n } = e; if (!e.url && !e.file) { const r = new OffscreenCanvas(n.width, n.height); r.getContext("bitmaprenderer").transferFromImageBitmap(n), e.blobPromise = r.convertToBlob() } n.close?.(), e.bitmap = null } isValidId(t) { return t.startsWith(`image_${this.#t}_`) } } class gI { #t = []; #e = !1; #n; #i = -1; constructor(t = 128) { this.#n = t } add({ cmd: t, undo: e, post: n, mustExec: r, type: s = NaN, overwriteIfSameType: o = !1, keepUndo: c = !1 }) { if (r && t(), this.#e) return; const u = { cmd: t, undo: e, post: n, type: s }; if (this.#i === -1) { this.#t.length > 0 && (this.#t.length = 0), this.#i = 0, this.#t.push(u); return } if (o && this.#t[this.#i].type === s) { c && (u.undo = this.#t[this.#i].undo), this.#t[this.#i] = u; return } const d = this.#i + 1; d === this.#n ? this.#t.splice(0, 1) : (this.#i = d, d < this.#t.length && this.#t.splice(d)), this.#t.push(u) } undo() { if (this.#i === -1) return; this.#e = !0; const { undo: t, post: e } = this.#t[this.#i]; t(), e?.(), this.#e = !1, this.#i -= 1 } redo() { if (this.#i < this.#t.length - 1) { this.#i += 1, this.#e = !0; const { cmd: t, post: e } = this.#t[this.#i]; t(), e?.(), this.#e = !1 } } hasSomethingToUndo() { return this.#i !== -1 } hasSomethingToRedo() { return this.#i < this.#t.length - 1 } cleanType(t) { if (this.#i !== -1) { for (let e = this.#i; e >= 0; e--)if (this.#t[e].type !== t) { this.#t.splice(e + 1, this.#i - e), this.#i = e; return } this.#t.length = 0, this.#i = -1 } } destroy() { this.#t = null } } class Zp { constructor(t) { this.buffer = [], this.callbacks = new Map, this.allKeys = new Set; const { isMac: e } = gr.platform; for (const [n, r, s = {}] of t) for (const o of n) { const c = o.startsWith("mac+"); e && c ? (this.callbacks.set(o.slice(4), { callback: r, options: s }), this.allKeys.add(o.split("+").at(-1))) : !e && !c && (this.callbacks.set(o, { callback: r, options: s }), this.allKeys.add(o.split("+").at(-1))) } } #t(t) { t.altKey && this.buffer.push("alt"), t.ctrlKey && this.buffer.push("ctrl"), t.metaKey && this.buffer.push("meta"), t.shiftKey && this.buffer.push("shift"), this.buffer.push(t.key); const e = this.buffer.join("+"); return this.buffer.length = 0, e } exec(t, e) { if (!this.allKeys.has(e.key)) return; const n = this.callbacks.get(this.#t(e)); if (!n) return; const { callback: r, options: { bubbles: s = !1, args: o = [], checker: c = null } } = n; c && !c(t, e) || (r.bind(t, ...o, e)(), s || Ti(e)) } } class a2 { static _colorsMapping = new Map([["CanvasText", [0, 0, 0]], ["Canvas", [255, 255, 255]]]); get _colors() { const t = new Map([["CanvasText", null], ["Canvas", null]]); return dI(t), sn(this, "_colors", t) } convert(t) { const e = r2(t); if (!window.matchMedia("(forced-colors: active)").matches) return e; for (const [n, r] of this._colors) if (r.every((s, o) => s === e[o])) return a2._colorsMapping.get(n); return e } getHexCode(t) { const e = this._colors.get(t); return e ? ye.makeHexColor(...e) : t } } class zl { #t = new AbortController; #e = null; #n = new Map; #i = new Map; #s = null; #r = null; #o = null; #a = new gI; #h = null; #c = null; #d = 0; #u = new Set; #f = null; #l = null; #p = new Set; _editorUndoBar = null; #m = !1; #g = !1; #v = !1; #b = null; #y = null; #x = null; #S = null; #A = !1; #C = null; #T = new pI; #E = !1; #R = !1; #N = null; #M = null; #P = null; #O = null; #z = null; #_ = ze.NONE; #w = new Set; #I = null; #F = null; #q = null; #V = null; #G = { isEditing: !1, isEmpty: !0, hasSomethingToUndo: !1, hasSomethingToRedo: !1, hasSelectedEditor: !1, hasSelectedText: !1 }; #U = [0, 0]; #k = null; #D = null; #H = null; #j = null; static TRANSLATE_SMALL = 1; static TRANSLATE_BIG = 10; static get _keyboardManager() { const t = zl.prototype, e = o => o.#D.contains(document.activeElement) && document.activeElement.tagName !== "BUTTON" && o.hasSomethingToControl(), n = (o, { target: c }) => { if (c instanceof HTMLInputElement) { const { type: u } = c; return u !== "text" && u !== "number" } return !0 }, r = this.TRANSLATE_SMALL, s = this.TRANSLATE_BIG; return sn(this, "_keyboardManager", new Zp([[["ctrl+a", "mac+meta+a"], t.selectAll, { checker: n }], [["ctrl+z", "mac+meta+z"], t.undo, { checker: n }], [["ctrl+y", "ctrl+shift+z", "mac+meta+shift+z", "ctrl+shift+Z", "mac+meta+shift+Z"], t.redo, { checker: n }], [["Backspace", "alt+Backspace", "ctrl+Backspace", "shift+Backspace", "mac+Backspace", "mac+alt+Backspace", "mac+ctrl+Backspace", "Delete", "ctrl+Delete", "shift+Delete", "mac+Delete"], t.delete, { checker: n }], [["Enter", "mac+Enter"], t.addNewEditorFromKeyboard, { checker: (o, { target: c }) => !(c instanceof HTMLButtonElement) && o.#D.contains(c) && !o.isEnterHandled }], [[" ", "mac+ "], t.addNewEditorFromKeyboard, { checker: (o, { target: c }) => !(c instanceof HTMLButtonElement) && o.#D.contains(document.activeElement) }], [["Escape", "mac+Escape"], t.unselectAll], [["ArrowLeft", "mac+ArrowLeft"], t.translateSelectedEditors, { args: [-r, 0], checker: e }], [["ctrl+ArrowLeft", "mac+shift+ArrowLeft"], t.translateSelectedEditors, { args: [-s, 0], checker: e }], [["ArrowRight", "mac+ArrowRight"], t.translateSelectedEditors, { args: [r, 0], checker: e }], [["ctrl+ArrowRight", "mac+shift+ArrowRight"], t.translateSelectedEditors, { args: [s, 0], checker: e }], [["ArrowUp", "mac+ArrowUp"], t.translateSelectedEditors, { args: [0, -r], checker: e }], [["ctrl+ArrowUp", "mac+shift+ArrowUp"], t.translateSelectedEditors, { args: [0, -s], checker: e }], [["ArrowDown", "mac+ArrowDown"], t.translateSelectedEditors, { args: [0, r], checker: e }], [["ctrl+ArrowDown", "mac+shift+ArrowDown"], t.translateSelectedEditors, { args: [0, s], checker: e }]])) } constructor(t, e, n, r, s, o, c, u, d, f, p, m, v, x) { const y = this._signal = this.#t.signal; this.#D = t, this.#H = e, this.#s = n, this.#F = r, this._eventBus = s, s._on("editingaction", this.onEditingAction.bind(this), { signal: y }), s._on("pagechanging", this.onPageChanging.bind(this), { signal: y }), s._on("scalechanging", this.onScaleChanging.bind(this), { signal: y }), s._on("rotationchanging", this.onRotationChanging.bind(this), { signal: y }), s._on("setpreference", this.onSetPreference.bind(this), { signal: y }), s._on("switchannotationeditorparams", E => this.updateParams(E.type, E.value), { signal: y }), this.#it(), this.#ot(), this.#K(), this.#r = o.annotationStorage, this.#b = o.filterFactory, this.#q = c, this.#S = u || null, this.#m = d, this.#g = f, this.#v = p, this.#z = m || null, this.viewParameters = { realScale: uh.PDF_TO_CSS_UNITS, rotation: 0 }, this.isShiftKeyDown = !1, this._editorUndoBar = v || null, this._supportsPinchToZoom = x !== !1 } destroy() { this.#j?.resolve(), this.#j = null, this.#t?.abort(), this.#t = null, this._signal = null; for (const t of this.#i.values()) t.destroy(); this.#i.clear(), this.#n.clear(), this.#p.clear(), this.#O?.clear(), this.#e = null, this.#w.clear(), this.#a.destroy(), this.#s?.destroy(), this.#F?.destroy(), this.#C?.hide(), this.#C = null, this.#P?.destroy(), this.#P = null, this.#y && (clearTimeout(this.#y), this.#y = null), this.#k && (clearTimeout(this.#k), this.#k = null), this._editorUndoBar?.destroy() } combinedSignal(t) { return AbortSignal.any([this._signal, t.signal]) } get mlManager() { return this.#z } get useNewAltTextFlow() { return this.#g } get useNewAltTextWhenAddingImage() { return this.#v } get hcmFilter() { return sn(this, "hcmFilter", this.#q ? this.#b.addHCMFilter(this.#q.foreground, this.#q.background) : "none") } get direction() { return sn(this, "direction", getComputedStyle(this.#D).direction) } get highlightColors() { return sn(this, "highlightColors", this.#S ? new Map(this.#S.split(",").map(t => t.split("=").map(e => e.trim()))) : null) } get highlightColorNames() { return sn(this, "highlightColorNames", this.highlightColors ? new Map(Array.from(this.highlightColors, t => t.reverse())) : null) } setCurrentDrawingSession(t) { t ? (this.unselectAll(), this.disableUserSelect(!0)) : this.disableUserSelect(!1), this.#c = t } setMainHighlightColorPicker(t) { this.#P = t } editAltText(t, e = !1) { this.#s?.editAltText(this, t, e) } getSignature(t) { this.#F?.getSignature({ uiManager: this, editor: t }) } get signatureManager() { return this.#F } switchToMode(t, e) { this._eventBus.on("annotationeditormodechanged", e, { once: !0, signal: this._signal }), this._eventBus.dispatch("showannotationeditorui", { source: this, mode: t }) } setPreference(t, e) { this._eventBus.dispatch("setpreference", { source: this, name: t, value: e }) } onSetPreference({ name: t, value: e }) { switch (t) { case "enableNewAltTextWhenAddingImage": this.#v = e; break } } onPageChanging({ pageNumber: t }) { this.#d = t - 1 } focusMainContainer() { this.#D.focus() } findParent(t, e) { for (const n of this.#i.values()) { const { x: r, y: s, width: o, height: c } = n.div.getBoundingClientRect(); if (t >= r && t <= r + o && e >= s && e <= s + c) return n } return null } disableUserSelect(t = !1) { this.#H.classList.toggle("noUserSelect", t) } addShouldRescale(t) { this.#p.add(t) } removeShouldRescale(t) { this.#p.delete(t) } onScaleChanging({ scale: t }) { this.commitOrRemove(), this.viewParameters.realScale = t * uh.PDF_TO_CSS_UNITS; for (const e of this.#p) e.onScaleChanging(); this.#c?.onScaleChanging() } onRotationChanging({ pagesRotation: t }) { this.commitOrRemove(), this.viewParameters.rotation = t } #W({ anchorNode: t }) { return t.nodeType === Node.TEXT_NODE ? t.parentElement : t } #X(t) { const { currentLayer: e } = this; if (e.hasTextLayer(t)) return e; for (const n of this.#i.values()) if (n.hasTextLayer(t)) return n; return null } highlightSelection(t = "") { const e = document.getSelection(); if (!e || e.isCollapsed) return; const { anchorNode: n, anchorOffset: r, focusNode: s, focusOffset: o } = e, c = e.toString(), d = this.#W(e).closest(".textLayer"), f = this.getSelectionBoxes(d); if (!f) return; e.empty(); const p = this.#X(d), m = this.#_ === ze.NONE, v = () => { p?.createAndAddNewEditor({ x: 0, y: 0 }, !1, { methodOfCreation: t, boxes: f, anchorNode: n, anchorOffset: r, focusNode: s, focusOffset: o, text: c }), m && this.showAllEditors("highlight", !0, !0) }; if (m) { this.switchToMode(ze.HIGHLIGHT, v); return } v() } #et() { const t = document.getSelection(); if (!t || t.isCollapsed) return; const n = this.#W(t).closest(".textLayer"), r = this.getSelectionBoxes(n); r && (this.#C ||= new fI(this), this.#C.show(n, r, this.direction === "ltr")) } addToAnnotationStorage(t) { !t.isEmpty() && this.#r && !this.#r.has(t.id) && this.#r.setValue(t.id, t) } #nt() { const t = document.getSelection(); if (!t || t.isCollapsed) { this.#I && (this.#C?.hide(), this.#I = null, this.#L({ hasSelectedText: !1 })); return } const { anchorNode: e } = t; if (e === this.#I) return; const r = this.#W(t).closest(".textLayer"); if (!r) { this.#I && (this.#C?.hide(), this.#I = null, this.#L({ hasSelectedText: !1 })); return } if (this.#C?.hide(), this.#I = e, this.#L({ hasSelectedText: !0 }), !(this.#_ !== ze.HIGHLIGHT && this.#_ !== ze.NONE) && (this.#_ === ze.HIGHLIGHT && this.showAllEditors("highlight", !0, !0), this.#A = this.isShiftKeyDown, !this.isShiftKeyDown)) { const s = this.#_ === ze.HIGHLIGHT ? this.#X(r) : null; s?.toggleDrawing(); const o = new AbortController, c = this.combinedSignal(o), u = d => { d.type === "pointerup" && d.button !== 0 || (o.abort(), s?.toggleDrawing(!0), d.type === "pointerup" && this.#Y("main_toolbar")) }; window.addEventListener("pointerup", u, { signal: c }), window.addEventListener("blur", u, { signal: c }) } } #Y(t = "") { this.#_ === ze.HIGHLIGHT ? this.highlightSelection(t) : this.#m && this.#et() } #it() { document.addEventListener("selectionchange", this.#nt.bind(this), { signal: this._signal }) } #rt() { if (this.#x) return; this.#x = new AbortController; const t = this.combinedSignal(this.#x); window.addEventListener("focus", this.focus.bind(this), { signal: t }), window.addEventListener("blur", this.blur.bind(this), { signal: t }) } #st() { this.#x?.abort(), this.#x = null } blur() { if (this.isShiftKeyDown = !1, this.#A && (this.#A = !1, this.#Y("main_toolbar")), !this.hasSelection) return; const { activeElement: t } = document; for (const e of this.#w) if (e.div.contains(t)) { this.#M = [e, t], e._focusEventsAllowed = !1; break } } focus() { if (!this.#M) return; const [t, e] = this.#M; this.#M = null, e.addEventListener("focusin", () => { t._focusEventsAllowed = !0 }, { once: !0, signal: this._signal }), e.focus() } #K() { if (this.#N) return; this.#N = new AbortController; const t = this.combinedSignal(this.#N); window.addEventListener("keydown", this.keydown.bind(this), { signal: t }), window.addEventListener("keyup", this.keyup.bind(this), { signal: t }) } #at() { this.#N?.abort(), this.#N = null } #Q() { if (this.#h) return; this.#h = new AbortController; const t = this.combinedSignal(this.#h); document.addEventListener("copy", this.copy.bind(this), { signal: t }), document.addEventListener("cut", this.cut.bind(this), { signal: t }), document.addEventListener("paste", this.paste.bind(this), { signal: t }) } #Z() { this.#h?.abort(), this.#h = null } #ot() { const t = this._signal; document.addEventListener("dragover", this.dragOver.bind(this), { signal: t }), document.addEventListener("drop", this.drop.bind(this), { signal: t }) } addEditListeners() { this.#K(), this.#Q() } removeEditListeners() { this.#at(), this.#Z() } dragOver(t) { for (const { type: e } of t.dataTransfer.items) for (const n of this.#l) if (n.isHandlingMimeForPasting(e)) { t.dataTransfer.dropEffect = "copy", t.preventDefault(); return } } drop(t) { for (const e of t.dataTransfer.items) for (const n of this.#l) if (n.isHandlingMimeForPasting(e.type)) { n.paste(e, this.currentLayer), t.preventDefault(); return } } copy(t) { if (t.preventDefault(), this.#e?.commitOrRemove(), !this.hasSelection) return; const e = []; for (const n of this.#w) { const r = n.serialize(!0); r && e.push(r) } e.length !== 0 && t.clipboardData.setData("application/pdfjs", JSON.stringify(e)) } cut(t) { this.copy(t), this.delete() } async paste(t) { t.preventDefault(); const { clipboardData: e } = t; for (const s of e.items) for (const o of this.#l) if (o.isHandlingMimeForPasting(s.type)) { o.paste(s, this.currentLayer); return } let n = e.getData("application/pdfjs"); if (!n) return; try { n = JSON.parse(n) } catch (s) { He(`paste: "${s.message}".`); return } if (!Array.isArray(n)) return; this.unselectAll(); const r = this.currentLayer; try { const s = []; for (const u of n) { const d = await r.deserialize(u); if (!d) return; s.push(d) } const o = () => { for (const u of s) this.#J(u); this.#tt(s) }, c = () => { for (const u of s) u.remove() }; this.addCommands({ cmd: o, undo: c, mustExec: !0 }) } catch (s) { He(`paste: "${s.message}".`) } } keydown(t) { !this.isShiftKeyDown && t.key === "Shift" && (this.isShiftKeyDown = !0), this.#_ !== ze.NONE && !this.isEditorHandlingKeyboard && zl._keyboardManager.exec(this, t) } keyup(t) { this.isShiftKeyDown && t.key === "Shift" && (this.isShiftKeyDown = !1, this.#A && (this.#A = !1, this.#Y("main_toolbar"))) } onEditingAction({ name: t }) { switch (t) { case "undo": case "redo": case "delete": case "selectAll": this[t](); break; case "highlightSelection": this.highlightSelection("context_menu"); break } } #L(t) { Object.entries(t).some(([n, r]) => this.#G[n] !== r) && (this._eventBus.dispatch("annotationeditorstateschanged", { source: this, details: Object.assign(this.#G, t) }), this.#_ === ze.HIGHLIGHT && t.hasSelectedEditor === !1 && this.#B([[ln.HIGHLIGHT_FREE, !0]])) } #B(t) { this._eventBus.dispatch("annotationeditorparamschanged", { source: this, details: t }) } setEditingState(t) { t ? (this.#rt(), this.#Q(), this.#L({ isEditing: this.#_ !== ze.NONE, isEmpty: this.#$(), hasSomethingToUndo: this.#a.hasSomethingToUndo(), hasSomethingToRedo: this.#a.hasSomethingToRedo(), hasSelectedEditor: !1 })) : (this.#st(), this.#Z(), this.#L({ isEditing: !1 }), this.disableUserSelect(!1)) } registerEditorTypes(t) { if (!this.#l) { this.#l = t; for (const e of this.#l) this.#B(e.defaultPropertiesToUpdate) } } getId() { return this.#T.id } get currentLayer() { return this.#i.get(this.#d) } getLayer(t) { return this.#i.get(t) } get currentPageIndex() { return this.#d } addLayer(t) { this.#i.set(t.pageIndex, t), this.#E ? t.enable() : t.disable() } removeLayer(t) { this.#i.delete(t.pageIndex) } async updateMode(t, e = null, n = !1) { if (this.#_ !== t && !(this.#j && (await this.#j.promise, !this.#j))) { if (this.#j = Promise.withResolvers(), this.#c?.commitOrRemove(), this.#_ = t, t === ze.NONE) { this.setEditingState(!1), this.#ct(), this._editorUndoBar?.hide(), this.#j.resolve(); return } t === ze.SIGNATURE && await this.#F?.loadSignatures(), this.setEditingState(!0), await this.#lt(), this.unselectAll(); for (const r of this.#i.values()) r.updateMode(t); if (!e) { n && this.addNewEditorFromKeyboard(), this.#j.resolve(); return } for (const r of this.#n.values()) r.annotationElementId === e || r.id === e ? (this.setSelected(r), r.enterInEditMode()) : r.unselect(); this.#j.resolve() } } addNewEditorFromKeyboard() { this.currentLayer.canCreateNewEmptyEditor() && this.currentLayer.addNewEditor() } updateToolbar(t) { t.mode !== this.#_ && this._eventBus.dispatch("switchannotationeditormode", { source: this, ...t }) } updateParams(t, e) { if (this.#l) { switch (t) { case ln.CREATE: this.currentLayer.addNewEditor(e); return; case ln.HIGHLIGHT_DEFAULT_COLOR: this.#P?.updateColor(e); break; case ln.HIGHLIGHT_SHOW_ALL: this._eventBus.dispatch("reporttelemetry", { source: this, details: { type: "editing", data: { type: "highlight", action: "toggle_visibility" } } }), (this.#V ||= new Map).set(t, e), this.showAllEditors("highlight", e); break }for (const n of this.#w) n.updateParams(t, e); for (const n of this.#l) n.updateDefaultParams(t, e) } } showAllEditors(t, e, n = !1) { for (const s of this.#n.values()) s.editorType === t && s.show(e); (this.#V?.get(ln.HIGHLIGHT_SHOW_ALL) ?? !0) !== e && this.#B([[ln.HIGHLIGHT_SHOW_ALL, e]]) } enableWaiting(t = !1) { if (this.#R !== t) { this.#R = t; for (const e of this.#i.values()) t ? e.disableClick() : e.enableClick(), e.div.classList.toggle("waiting", t) } } async#lt() { if (!this.#E) { this.#E = !0; const t = []; for (const e of this.#i.values()) t.push(e.enable()); await Promise.all(t); for (const e of this.#n.values()) e.enable() } } #ct() { if (this.unselectAll(), this.#E) { this.#E = !1; for (const t of this.#i.values()) t.disable(); for (const t of this.#n.values()) t.disable() } } getEditors(t) { const e = []; for (const n of this.#n.values()) n.pageIndex === t && e.push(n); return e } getEditor(t) { return this.#n.get(t) } addEditor(t) { this.#n.set(t.id, t) } removeEditor(t) { t.div.contains(document.activeElement) && (this.#y && clearTimeout(this.#y), this.#y = setTimeout(() => { this.focusMainContainer(), this.#y = null }, 0)), this.#n.delete(t.id), t.annotationElementId && this.#O?.delete(t.annotationElementId), this.unselect(t), (!t.annotationElementId || !this.#u.has(t.annotationElementId)) && this.#r?.remove(t.id) } addDeletedAnnotationElement(t) { this.#u.add(t.annotationElementId), this.addChangedExistingAnnotation(t), t.deleted = !0 } isDeletedAnnotationElement(t) { return this.#u.has(t) } removeDeletedAnnotationElement(t) { this.#u.delete(t.annotationElementId), this.removeChangedExistingAnnotation(t), t.deleted = !1 } #J(t) { const e = this.#i.get(t.pageIndex); e ? e.addOrRebuild(t) : (this.addEditor(t), this.addToAnnotationStorage(t)) } setActiveEditor(t) { this.#e !== t && (this.#e = t, t && this.#B(t.propertiesToUpdate)) } get #ut() { let t = null; for (t of this.#w); return t } updateUI(t) { this.#ut === t && this.#B(t.propertiesToUpdate) } updateUIForDefaultProperties(t) { this.#B(t.defaultPropertiesToUpdate) } toggleSelected(t) { if (this.#w.has(t)) { this.#w.delete(t), t.unselect(), this.#L({ hasSelectedEditor: this.hasSelection }); return } this.#w.add(t), t.select(), this.#B(t.propertiesToUpdate), this.#L({ hasSelectedEditor: !0 }) } setSelected(t) { this.#c?.commitOrRemove(); for (const e of this.#w) e !== t && e.unselect(); this.#w.clear(), this.#w.add(t), t.select(), this.#B(t.propertiesToUpdate), this.#L({ hasSelectedEditor: !0 }) } isSelected(t) { return this.#w.has(t) } get firstSelectedEditor() { return this.#w.values().next().value } unselect(t) { t.unselect(), this.#w.delete(t), this.#L({ hasSelectedEditor: this.hasSelection }) } get hasSelection() { return this.#w.size !== 0 } get isEnterHandled() { return this.#w.size === 1 && this.firstSelectedEditor.isEnterHandled } undo() { this.#a.undo(), this.#L({ hasSomethingToUndo: this.#a.hasSomethingToUndo(), hasSomethingToRedo: !0, isEmpty: this.#$() }), this._editorUndoBar?.hide() } redo() { this.#a.redo(), this.#L({ hasSomethingToUndo: !0, hasSomethingToRedo: this.#a.hasSomethingToRedo(), isEmpty: this.#$() }) } addCommands(t) { this.#a.add(t), this.#L({ hasSomethingToUndo: !0, hasSomethingToRedo: !1, isEmpty: this.#$() }) } cleanUndoStack(t) { this.#a.cleanType(t) } #$() { if (this.#n.size === 0) return !0; if (this.#n.size === 1) for (const t of this.#n.values()) return t.isEmpty(); return !1 } delete() { this.commitOrRemove(); const t = this.currentLayer?.endDrawingSession(!0); if (!this.hasSelection && !t) return; const e = t ? [t] : [...this.#w], n = () => { this._editorUndoBar?.show(r, e.length === 1 ? e[0].editorType : e.length); for (const s of e) s.remove() }, r = () => { for (const s of e) this.#J(s) }; this.addCommands({ cmd: n, undo: r, mustExec: !0 }) } commitOrRemove() { this.#e?.commitOrRemove() } hasSomethingToControl() { return this.#e || this.hasSelection } #tt(t) { for (const e of this.#w) e.unselect(); this.#w.clear(); for (const e of t) e.isEmpty() || (this.#w.add(e), e.select()); this.#L({ hasSelectedEditor: this.hasSelection }) } selectAll() { for (const t of this.#w) t.commit(); this.#tt(this.#n.values()) } unselectAll() { if (!(this.#e && (this.#e.commitOrRemove(), this.#_ !== ze.NONE)) && !this.#c?.commitOrRemove() && this.hasSelection) { for (const t of this.#w) t.unselect(); this.#w.clear(), this.#L({ hasSelectedEditor: !1 }) } } translateSelectedEditors(t, e, n = !1) { if (n || this.commitOrRemove(), !this.hasSelection) return; this.#U[0] += t, this.#U[1] += e; const [r, s] = this.#U, o = [...this.#w], c = 1e3; this.#k && clearTimeout(this.#k), this.#k = setTimeout(() => { this.#k = null, this.#U[0] = this.#U[1] = 0, this.addCommands({ cmd: () => { for (const u of o) this.#n.has(u.id) && (u.translateInPage(r, s), u.translationDone()) }, undo: () => { for (const u of o) this.#n.has(u.id) && (u.translateInPage(-r, -s), u.translationDone()) }, mustExec: !1 }) }, c); for (const u of o) u.translateInPage(t, e), u.translationDone() } setUpDragSession() { if (this.hasSelection) { this.disableUserSelect(!0), this.#f = new Map; for (const t of this.#w) this.#f.set(t, { savedX: t.x, savedY: t.y, savedPageIndex: t.pageIndex, newX: 0, newY: 0, newPageIndex: -1 }) } } endDragSession() { if (!this.#f) return !1; this.disableUserSelect(!1); const t = this.#f; this.#f = null; let e = !1; for (const [{ x: r, y: s, pageIndex: o }, c] of t) c.newX = r, c.newY = s, c.newPageIndex = o, e ||= r !== c.savedX || s !== c.savedY || o !== c.savedPageIndex; if (!e) return !1; const n = (r, s, o, c) => { if (this.#n.has(r.id)) { const u = this.#i.get(c); u ? r._setParentAndPosition(u, s, o) : (r.pageIndex = c, r.x = s, r.y = o) } }; return this.addCommands({ cmd: () => { for (const [r, { newX: s, newY: o, newPageIndex: c }] of t) n(r, s, o, c) }, undo: () => { for (const [r, { savedX: s, savedY: o, savedPageIndex: c }] of t) n(r, s, o, c) }, mustExec: !0 }), !0 } dragSelectedEditors(t, e) { if (this.#f) for (const n of this.#f.keys()) n.drag(t, e) } rebuild(t) { if (t.parent === null) { const e = this.getLayer(t.pageIndex); e ? (e.changeParent(t), e.addOrRebuild(t)) : (this.addEditor(t), this.addToAnnotationStorage(t), t.rebuild()) } else t.parent.addOrRebuild(t) } get isEditorHandlingKeyboard() { return this.getActive()?.shouldGetKeyboardEvents() || this.#w.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents() } isActive(t) { return this.#e === t } getActive() { return this.#e } getMode() { return this.#_ } get imageManager() { return sn(this, "imageManager", new s2) } getSelectionBoxes(t) { if (!t) return null; const e = document.getSelection(); for (let d = 0, f = e.rangeCount; d < f; d++)if (!t.contains(e.getRangeAt(d).commonAncestorContainer)) return null; const { x: n, y: r, width: s, height: o } = t.getBoundingClientRect(); let c; switch (t.getAttribute("data-main-rotation")) { case "90": c = (d, f, p, m) => ({ x: (f - r) / o, y: 1 - (d + p - n) / s, width: m / o, height: p / s }); break; case "180": c = (d, f, p, m) => ({ x: 1 - (d + p - n) / s, y: 1 - (f + m - r) / o, width: p / s, height: m / o }); break; case "270": c = (d, f, p, m) => ({ x: 1 - (f + m - r) / o, y: (d - n) / s, width: m / o, height: p / s }); break; default: c = (d, f, p, m) => ({ x: (d - n) / s, y: (f - r) / o, width: p / s, height: m / o }); break }const u = []; for (let d = 0, f = e.rangeCount; d < f; d++) { const p = e.getRangeAt(d); if (!p.collapsed) for (const { x: m, y: v, width: x, height: y } of p.getClientRects()) x === 0 || y === 0 || u.push(c(m, v, x, y)) } return u.length === 0 ? null : u } addChangedExistingAnnotation({ annotationElementId: t, id: e }) { (this.#o ||= new Map).set(t, e) } removeChangedExistingAnnotation({ annotationElementId: t }) { this.#o?.delete(t) } renderAnnotationElement(t) { const e = this.#o?.get(t.data.id); if (!e) return; const n = this.#r.getRawValue(e); n && (this.#_ === ze.NONE && !n.hasBeenModified || n.renderAnnotationElement(t)) } setMissingCanvas(t, e, n) { const r = this.#O?.get(t); r && (r.setCanvas(e, n), this.#O.delete(t)) } addMissingCanvas(t, e) { (this.#O ||= new Map).set(t, e) } } class Bo { #t = null; #e = !1; #n = null; #i = null; #s = null; #r = null; #o = !1; #a = null; #h = null; #c = null; #d = null; #u = !1; static #f = null; static _l10n = null; constructor(t) { this.#h = t, this.#u = t._uiManager.useNewAltTextFlow, Bo.#f ||= Object.freeze({ added: "pdfjs-editor-new-alt-text-added-button", "added-label": "pdfjs-editor-new-alt-text-added-button-label", missing: "pdfjs-editor-new-alt-text-missing-button", "missing-label": "pdfjs-editor-new-alt-text-missing-button-label", review: "pdfjs-editor-new-alt-text-to-review-button", "review-label": "pdfjs-editor-new-alt-text-to-review-button-label" }) } static initialize(t) { Bo._l10n ??= t } async render() { const t = this.#n = document.createElement("button"); t.className = "altText", t.tabIndex = "0"; const e = this.#i = document.createElement("span"); t.append(e), this.#u ? (t.classList.add("new"), t.setAttribute("data-l10n-id", Bo.#f.missing), e.setAttribute("data-l10n-id", Bo.#f["missing-label"])) : (t.setAttribute("data-l10n-id", "pdfjs-editor-alt-text-button"), e.setAttribute("data-l10n-id", "pdfjs-editor-alt-text-button-label")); const n = this.#h._uiManager._signal; t.addEventListener("contextmenu", la, { signal: n }), t.addEventListener("pointerdown", s => s.stopPropagation(), { signal: n }); const r = s => { s.preventDefault(), this.#h._uiManager.editAltText(this.#h), this.#u && this.#h._reportTelemetry({ action: "pdfjs.image.alt_text.image_status_label_clicked", data: { label: this.#l } }) }; return t.addEventListener("click", r, { capture: !0, signal: n }), t.addEventListener("keydown", s => { s.target === t && s.key === "Enter" && (this.#o = !0, r(s)) }, { signal: n }), await this.#p(), t } get #l() { return this.#t && "added" || this.#t === null && this.guessedText && "review" || "missing" } finish() { this.#n && (this.#n.focus({ focusVisible: this.#o }), this.#o = !1) } isEmpty() { return this.#u ? this.#t === null : !this.#t && !this.#e } hasData() { return this.#u ? this.#t !== null || !!this.#c : this.isEmpty() } get guessedText() { return this.#c } async setGuessedText(t) { this.#t === null && (this.#c = t, this.#d = await Bo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer", { generatedAltText: t }), this.#p()) } toggleAltTextBadge(t = !1) { if (!this.#u || this.#t) { this.#a?.remove(), this.#a = null; return } if (!this.#a) { const e = this.#a = document.createElement("div"); e.className = "noAltTextBadge", this.#h.div.append(e) } this.#a.classList.toggle("hidden", !t) } serialize(t) { let e = this.#t; return !t && this.#c === e && (e = this.#d), { altText: e, decorative: this.#e, guessedText: this.#c, textWithDisclaimer: this.#d } } get data() { return { altText: this.#t, decorative: this.#e } } set data({ altText: t, decorative: e, guessedText: n, textWithDisclaimer: r, cancel: s = !1 }) { n && (this.#c = n, this.#d = r), !(this.#t === t && this.#e === e) && (s || (this.#t = t, this.#e = e), this.#p()) } toggle(t = !1) { this.#n && (!t && this.#r && (clearTimeout(this.#r), this.#r = null), this.#n.disabled = !t) } shown() { this.#h._reportTelemetry({ action: "pdfjs.image.alt_text.image_status_label_displayed", data: { label: this.#l } }) } destroy() { this.#n?.remove(), this.#n = null, this.#i = null, this.#s = null, this.#a?.remove(), this.#a = null } async#p() { const t = this.#n; if (!t) return; if (this.#u) { if (t.classList.toggle("done", !!this.#t), t.setAttribute("data-l10n-id", Bo.#f[this.#l]), this.#i?.setAttribute("data-l10n-id", Bo.#f[`${this.#l}-label`]), !this.#t) { this.#s?.remove(); return } } else { if (!this.#t && !this.#e) { t.classList.remove("done"), this.#s?.remove(); return } t.classList.add("done"), t.setAttribute("data-l10n-id", "pdfjs-editor-alt-text-edit-button") } let e = this.#s; if (!e) { this.#s = e = document.createElement("span"), e.className = "tooltip", e.setAttribute("role", "tooltip"), e.id = `alt-text-tooltip-${this.#h.id}`; const r = 100, s = this.#h._uiManager._signal; s.addEventListener("abort", () => { clearTimeout(this.#r), this.#r = null }, { once: !0 }), t.addEventListener("mouseenter", () => { this.#r = setTimeout(() => { this.#r = null, this.#s.classList.add("show"), this.#h._reportTelemetry({ action: "alt_text_tooltip" }) }, r) }, { signal: s }), t.addEventListener("mouseleave", () => { this.#r && (clearTimeout(this.#r), this.#r = null), this.#s?.classList.remove("show") }, { signal: s }) } this.#e ? e.setAttribute("data-l10n-id", "pdfjs-editor-alt-text-decorative-tooltip") : (e.removeAttribute("data-l10n-id"), e.textContent = this.#t), e.parentNode || t.append(e), this.#h.getElementForAltText()?.setAttribute("aria-describedby", e.id) } } class Jp { #t; #e = !1; #n = null; #i; #s; #r; #o; #a = null; #h; #c = null; #d; #u = null; constructor({ container: t, isPinchingDisabled: e = null, isPinchingStopped: n = null, onPinchStart: r = null, onPinching: s = null, onPinchEnd: o = null, signal: c }) { this.#t = t, this.#n = n, this.#i = e, this.#s = r, this.#r = s, this.#o = o, this.#d = new AbortController, this.#h = AbortSignal.any([c, this.#d.signal]), t.addEventListener("touchstart", this.#f.bind(this), { passive: !1, signal: this.#h }) } get MIN_TOUCH_DISTANCE_TO_PINCH() { return 35 / Ga.pixelRatio } #f(t) { if (this.#i?.()) return; if (t.touches.length === 1) { if (this.#a) return; const r = this.#a = new AbortController, s = AbortSignal.any([this.#h, r.signal]), o = this.#t, c = { capture: !0, signal: s, passive: !1 }, u = d => { d.pointerType === "touch" && (this.#a?.abort(), this.#a = null) }; o.addEventListener("pointerdown", d => { d.pointerType === "touch" && (Ti(d), u(d)) }, c), o.addEventListener("pointerup", u, c), o.addEventListener("pointercancel", u, c); return } if (!this.#u) { this.#u = new AbortController; const r = AbortSignal.any([this.#h, this.#u.signal]), s = this.#t, o = { signal: r, capture: !1, passive: !1 }; s.addEventListener("touchmove", this.#l.bind(this), o); const c = this.#p.bind(this); s.addEventListener("touchend", c, o), s.addEventListener("touchcancel", c, o), o.capture = !0, s.addEventListener("pointerdown", Ti, o), s.addEventListener("pointermove", Ti, o), s.addEventListener("pointercancel", Ti, o), s.addEventListener("pointerup", Ti, o), this.#s?.() } if (Ti(t), t.touches.length !== 2 || this.#n?.()) { this.#c = null; return } let [e, n] = t.touches; e.identifier > n.identifier && ([e, n] = [n, e]), this.#c = { touch0X: e.screenX, touch0Y: e.screenY, touch1X: n.screenX, touch1Y: n.screenY } } #l(t) { if (!this.#c || t.touches.length !== 2) return; Ti(t); let [e, n] = t.touches; e.identifier > n.identifier && ([e, n] = [n, e]); const { screenX: r, screenY: s } = e, { screenX: o, screenY: c } = n, u = this.#c, { touch0X: d, touch0Y: f, touch1X: p, touch1Y: m } = u, v = p - d, x = m - f, y = o - r, E = c - s, A = Math.hypot(y, E) || 1, T = Math.hypot(v, x) || 1; if (!this.#e && Math.abs(T - A) <= Jp.MIN_TOUCH_DISTANCE_TO_PINCH) return; if (u.touch0X = r, u.touch0Y = s, u.touch1X = o, u.touch1Y = c, !this.#e) { this.#e = !0; return } const L = [(r + o) / 2, (s + c) / 2]; this.#r?.(L, T, A) } #p(t) { t.touches.length >= 2 || (this.#u && (this.#u.abort(), this.#u = null, this.#o?.()), this.#c && (Ti(t), this.#c = null, this.#e = !1)) } destroy() { this.#d?.abort(), this.#d = null, this.#a?.abort(), this.#a = null } } class Se { #t = null; #e = null; #n = null; #i = !1; #s = null; #r = ""; #o = !1; #a = null; #h = null; #c = null; #d = null; #u = ""; #f = !1; #l = null; #p = !1; #m = !1; #g = !1; #v = null; #b = 0; #y = 0; #x = null; #S = null; isSelected = !1; _isCopy = !1; _editToolbar = null; _initialOptions = Object.create(null); _initialData = null; _isVisible = !0; _uiManager = null; _focusEventsAllowed = !0; static _l10n = null; static _l10nResizer = null; #A = !1; #C = Se._zIndex++; static _borderLineWidth = -1; static _colorManager = new a2; static _zIndex = 1; static _telemetryTimeout = 1e3; static get _resizerKeyboardManager() { const t = Se.prototype._resizeWithKeyboard, e = zl.TRANSLATE_SMALL, n = zl.TRANSLATE_BIG; return sn(this, "_resizerKeyboardManager", new Zp([[["ArrowLeft", "mac+ArrowLeft"], t, { args: [-e, 0] }], [["ctrl+ArrowLeft", "mac+shift+ArrowLeft"], t, { args: [-n, 0] }], [["ArrowRight", "mac+ArrowRight"], t, { args: [e, 0] }], [["ctrl+ArrowRight", "mac+shift+ArrowRight"], t, { args: [n, 0] }], [["ArrowUp", "mac+ArrowUp"], t, { args: [0, -e] }], [["ctrl+ArrowUp", "mac+shift+ArrowUp"], t, { args: [0, -n] }], [["ArrowDown", "mac+ArrowDown"], t, { args: [0, e] }], [["ctrl+ArrowDown", "mac+shift+ArrowDown"], t, { args: [0, n] }], [["Escape", "mac+Escape"], Se.prototype._stopResizingWithKeyboard]])) } constructor(t) { this.parent = t.parent, this.id = t.id, this.width = this.height = null, this.pageIndex = t.parent.pageIndex, this.name = t.name, this.div = null, this._uiManager = t.uiManager, this.annotationElementId = null, this._willKeepAspectRatio = !1, this._initialOptions.isCentered = t.isCentered, this._structTreeParentId = null; const { rotation: e, rawDims: { pageWidth: n, pageHeight: r, pageX: s, pageY: o } } = this.parent.viewport; this.rotation = e, this.pageRotation = (360 + e - this._uiManager.viewParameters.rotation) % 360, this.pageDimensions = [n, r], this.pageTranslation = [s, o]; const [c, u] = this.parentDimensions; this.x = t.x / c, this.y = t.y / u, this.isAttachedToDOM = !1, this.deleted = !1 } get editorType() { return Object.getPrototypeOf(this).constructor._type } static get isDrawer() { return !1 } static get _defaultLineColor() { return sn(this, "_defaultLineColor", this._colorManager.getHexCode("CanvasText")) } static deleteAnnotationElement(t) { const e = new mI({ id: t.parent.getNextId(), parent: t.parent, uiManager: t._uiManager }); e.annotationElementId = t.annotationElementId, e.deleted = !0, e._uiManager.addToAnnotationStorage(e) } static initialize(t, e) { if (Se._l10n ??= t, Se._l10nResizer ||= Object.freeze({ topLeft: "pdfjs-editor-resizer-top-left", topMiddle: "pdfjs-editor-resizer-top-middle", topRight: "pdfjs-editor-resizer-top-right", middleRight: "pdfjs-editor-resizer-middle-right", bottomRight: "pdfjs-editor-resizer-bottom-right", bottomMiddle: "pdfjs-editor-resizer-bottom-middle", bottomLeft: "pdfjs-editor-resizer-bottom-left", middleLeft: "pdfjs-editor-resizer-middle-left" }), Se._borderLineWidth !== -1) return; const n = getComputedStyle(document.documentElement); Se._borderLineWidth = parseFloat(n.getPropertyValue("--outline-width")) || 0 } static updateDefaultParams(t, e) { } static get defaultPropertiesToUpdate() { return [] } static isHandlingMimeForPasting(t) { return !1 } static paste(t, e) { jn("Not implemented") } get propertiesToUpdate() { return [] } get _isDraggable() { return this.#A } set _isDraggable(t) { this.#A = t, this.div?.classList.toggle("draggable", t) } get isEnterHandled() { return !0 } center() { const [t, e] = this.pageDimensions; switch (this.parentRotation) { case 90: this.x -= this.height * e / (t * 2), this.y += this.width * t / (e * 2); break; case 180: this.x += this.width / 2, this.y += this.height / 2; break; case 270: this.x += this.height * e / (t * 2), this.y -= this.width * t / (e * 2); break; default: this.x -= this.width / 2, this.y -= this.height / 2; break }this.fixAndSetPosition() } addCommands(t) { this._uiManager.addCommands(t) } get currentLayer() { return this._uiManager.currentLayer } setInBackground() { this.div.style.zIndex = 0 } setInForeground() { this.div.style.zIndex = this.#C } setParent(t) { t !== null ? (this.pageIndex = t.pageIndex, this.pageDimensions = t.pageDimensions) : this.#H(), this.parent = t } focusin(t) { this._focusEventsAllowed && (this.#f ? this.#f = !1 : this.parent.setSelected(this)) } focusout(t) { !this._focusEventsAllowed || !this.isAttachedToDOM || t.relatedTarget?.closest(`#${this.id}`) || (t.preventDefault(), this.parent?.isMultipleSelection || this.commitOrRemove()) } commitOrRemove() { this.isEmpty() ? this.remove() : this.commit() } commit() { this.addToAnnotationStorage() } addToAnnotationStorage() { this._uiManager.addToAnnotationStorage(this) } setAt(t, e, n, r) { const [s, o] = this.parentDimensions;[n, r] = this.screenToPageTranslation(n, r), this.x = (t + n) / s, this.y = (e + r) / o, this.fixAndSetPosition() } _moveAfterPaste(t, e) { const [n, r] = this.parentDimensions; this.setAt(t * n, e * r, this.width * n, this.height * r), this._onTranslated() } #T([t, e], n, r) { [n, r] = this.screenToPageTranslation(n, r), this.x += n / t, this.y += r / e, this._onTranslating(this.x, this.y), this.fixAndSetPosition() } translate(t, e) { this.#T(this.parentDimensions, t, e) } translateInPage(t, e) { this.#l ||= [this.x, this.y, this.width, this.height], this.#T(this.pageDimensions, t, e), this.div.scrollIntoView({ block: "nearest" }) } translationDone() { this._onTranslated(this.x, this.y) } drag(t, e) { this.#l ||= [this.x, this.y, this.width, this.height]; const { div: n, parentDimensions: [r, s] } = this; if (this.x += t / r, this.y += e / s, this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) { const { x: p, y: m } = this.div.getBoundingClientRect(); this.parent.findNewParent(this, p, m) && (this.x -= Math.floor(this.x), this.y -= Math.floor(this.y)) } let { x: o, y: c } = this; const [u, d] = this.getBaseTranslation(); o += u, c += d; const { style: f } = n; f.left = `${(100 * o).toFixed(2)}%`, f.top = `${(100 * c).toFixed(2)}%`, this._onTranslating(o, c), n.scrollIntoView({ block: "nearest" }) } _onTranslating(t, e) { } _onTranslated(t, e) { } get _hasBeenMoved() { return !!this.#l && (this.#l[0] !== this.x || this.#l[1] !== this.y) } get _hasBeenResized() { return !!this.#l && (this.#l[2] !== this.width || this.#l[3] !== this.height) } getBaseTranslation() { const [t, e] = this.parentDimensions, { _borderLineWidth: n } = Se, r = n / t, s = n / e; switch (this.rotation) { case 90: return [-r, s]; case 180: return [r, s]; case 270: return [r, -s]; default: return [-r, -s] } } get _mustFixPosition() { return !0 } fixAndSetPosition(t = this.rotation) { const { div: { style: e }, pageDimensions: [n, r] } = this; let { x: s, y: o, width: c, height: u } = this; if (c *= n, u *= r, s *= n, o *= r, this._mustFixPosition) switch (t) { case 0: s = zr(s, 0, n - c), o = zr(o, 0, r - u); break; case 90: s = zr(s, 0, n - u), o = zr(o, c, r); break; case 180: s = zr(s, c, n), o = zr(o, u, r); break; case 270: s = zr(s, u, n), o = zr(o, 0, r - c); break }this.x = s /= n, this.y = o /= r; const [d, f] = this.getBaseTranslation(); s += d, o += f, e.left = `${(100 * s).toFixed(2)}%`, e.top = `${(100 * o).toFixed(2)}%`, this.moveInDOM() } static #E(t, e, n) { switch (n) { case 90: return [e, -t]; case 180: return [-t, -e]; case 270: return [-e, t]; default: return [t, e] } } screenToPageTranslation(t, e) { return Se.#E(t, e, this.parentRotation) } pageTranslationToScreen(t, e) { return Se.#E(t, e, 360 - this.parentRotation) } #R(t) { switch (t) { case 90: { const [e, n] = this.pageDimensions; return [0, -e / n, n / e, 0] } case 180: return [-1, 0, 0, -1]; case 270: { const [e, n] = this.pageDimensions; return [0, e / n, -n / e, 0] } default: return [1, 0, 0, 1] } } get parentScale() { return this._uiManager.viewParameters.realScale } get parentRotation() { return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360 } get parentDimensions() { const { parentScale: t, pageDimensions: [e, n] } = this; return [e * t, n * t] } setDims(t, e) { const [n, r] = this.parentDimensions, { style: s } = this.div; s.width = `${(100 * t / n).toFixed(2)}%`, this.#o || (s.height = `${(100 * e / r).toFixed(2)}%`) } fixDims() { const { style: t } = this.div, { height: e, width: n } = t, r = n.endsWith("%"), s = !this.#o && e.endsWith("%"); if (r && s) return; const [o, c] = this.parentDimensions; r || (t.width = `${(100 * parseFloat(n) / o).toFixed(2)}%`), !this.#o && !s && (t.height = `${(100 * parseFloat(e) / c).toFixed(2)}%`) } getInitialTranslation() { return [0, 0] } #N() { if (this.#a) return; this.#a = document.createElement("div"), this.#a.classList.add("resizers"); const t = this._willKeepAspectRatio ? ["topLeft", "topRight", "bottomRight", "bottomLeft"] : ["topLeft", "topMiddle", "topRight", "middleRight", "bottomRight", "bottomMiddle", "bottomLeft", "middleLeft"], e = this._uiManager._signal; for (const n of t) { const r = document.createElement("div"); this.#a.append(r), r.classList.add("resizer", n), r.setAttribute("data-resizer-name", n), r.addEventListener("pointerdown", this.#M.bind(this, n), { signal: e }), r.addEventListener("contextmenu", la, { signal: e }), r.tabIndex = -1 } this.div.prepend(this.#a) } #M(t, e) { e.preventDefault(); const { isMac: n } = gr.platform; if (e.button !== 0 || e.ctrlKey && n) return; this.#n?.toggle(!1); const r = this._isDraggable; this._isDraggable = !1, this.#h = [e.screenX, e.screenY]; const s = new AbortController, o = this._uiManager.combinedSignal(s); this.parent.togglePointerEvents(!1), window.addEventListener("pointermove", this.#z.bind(this, t), { passive: !0, capture: !0, signal: o }), window.addEventListener("touchmove", Ti, { passive: !1, signal: o }), window.addEventListener("contextmenu", la, { signal: o }), this.#c = { savedX: this.x, savedY: this.y, savedWidth: this.width, savedHeight: this.height }; const c = this.parent.div.style.cursor, u = this.div.style.cursor; this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(e.target).cursor; const d = () => { s.abort(), this.parent.togglePointerEvents(!0), this.#n?.toggle(!0), this._isDraggable = r, this.parent.div.style.cursor = c, this.div.style.cursor = u, this.#O() }; window.addEventListener("pointerup", d, { signal: o }), window.addEventListener("blur", d, { signal: o }) } #P(t, e, n, r) { this.width = n, this.height = r, this.x = t, this.y = e; const [s, o] = this.parentDimensions; this.setDims(s * n, o * r), this.fixAndSetPosition(), this._onResized() } _onResized() { } #O() { if (!this.#c) return; const { savedX: t, savedY: e, savedWidth: n, savedHeight: r } = this.#c; this.#c = null; const s = this.x, o = this.y, c = this.width, u = this.height; s === t && o === e && c === n && u === r || this.addCommands({ cmd: this.#P.bind(this, s, o, c, u), undo: this.#P.bind(this, t, e, n, r), mustExec: !0 }) } static _round(t) { return Math.round(t * 1e4) / 1e4 } #z(t, e) { const [n, r] = this.parentDimensions, s = this.x, o = this.y, c = this.width, u = this.height, d = Se.MIN_SIZE / n, f = Se.MIN_SIZE / r, p = this.#R(this.rotation), m = (U, tt) => [p[0] * U + p[2] * tt, p[1] * U + p[3] * tt], v = this.#R(360 - this.rotation), x = (U, tt) => [v[0] * U + v[2] * tt, v[1] * U + v[3] * tt]; let y, E, A = !1, T = !1; switch (t) { case "topLeft": A = !0, y = (U, tt) => [0, 0], E = (U, tt) => [U, tt]; break; case "topMiddle": y = (U, tt) => [U / 2, 0], E = (U, tt) => [U / 2, tt]; break; case "topRight": A = !0, y = (U, tt) => [U, 0], E = (U, tt) => [0, tt]; break; case "middleRight": T = !0, y = (U, tt) => [U, tt / 2], E = (U, tt) => [0, tt / 2]; break; case "bottomRight": A = !0, y = (U, tt) => [U, tt], E = (U, tt) => [0, 0]; break; case "bottomMiddle": y = (U, tt) => [U / 2, tt], E = (U, tt) => [U / 2, 0]; break; case "bottomLeft": A = !0, y = (U, tt) => [0, tt], E = (U, tt) => [U, 0]; break; case "middleLeft": T = !0, y = (U, tt) => [0, tt / 2], E = (U, tt) => [U, tt / 2]; break }const L = y(c, u), k = E(c, u); let O = m(...k); const F = Se._round(s + O[0]), D = Se._round(o + O[1]); let j = 1, J = 1, ot, z; if (e.fromKeyboard) ({ deltaX: ot, deltaY: z } = e); else { const { screenX: U, screenY: tt } = e, [Q, pt] = this.#h;[ot, z] = this.screenToPageTranslation(U - Q, tt - pt), this.#h[0] = U, this.#h[1] = tt } if ([ot, z] = x(ot / n, z / r), A) { const U = Math.hypot(c, u); j = J = Math.max(Math.min(Math.hypot(k[0] - L[0] - ot, k[1] - L[1] - z) / U, 1 / c, 1 / u), d / c, f / u) } else T ? j = zr(Math.abs(k[0] - L[0] - ot), d, 1) / c : J = zr(Math.abs(k[1] - L[1] - z), f, 1) / u; const G = Se._round(c * j), it = Se._round(u * J); O = m(...E(G, it)); const nt = F - O[0], ht = D - O[1]; this.#l ||= [this.x, this.y, this.width, this.height], this.width = G, this.height = it, this.x = nt, this.y = ht, this.setDims(n * G, r * it), this.fixAndSetPosition(), this._onResizing() } _onResizing() { } altTextFinish() { this.#n?.finish() } async addEditToolbar() { return this._editToolbar || this.#m ? this._editToolbar : (this._editToolbar = new hp(this), this.div.append(this._editToolbar.render()), this.#n && await this._editToolbar.addAltText(this.#n), this._editToolbar) } removeEditToolbar() { this._editToolbar && (this._editToolbar.remove(), this._editToolbar = null, this.#n?.destroy()) } addContainer(t) { const e = this._editToolbar?.div; e ? e.before(t) : this.div.append(t) } getClientDimensions() { return this.div.getBoundingClientRect() } async addAltTextButton() { this.#n || (Bo.initialize(Se._l10n), this.#n = new Bo(this), this.#t && (this.#n.data = this.#t, this.#t = null), await this.addEditToolbar()) } get altTextData() { return this.#n?.data } set altTextData(t) { this.#n && (this.#n.data = t) } get guessedAltText() { return this.#n?.guessedText } async setGuessedAltText(t) { await this.#n?.setGuessedText(t) } serializeAltText(t) { return this.#n?.serialize(t) } hasAltText() { return !!this.#n && !this.#n.isEmpty() } hasAltTextData() { return this.#n?.hasData() ?? !1 } render() { const t = this.div = document.createElement("div"); t.setAttribute("data-editor-rotation", (360 - this.rotation) % 360), t.className = this.name, t.setAttribute("id", this.id), t.tabIndex = this.#i ? -1 : 0, t.setAttribute("role", "application"), this.defaultL10nId && t.setAttribute("data-l10n-id", this.defaultL10nId), this._isVisible || t.classList.add("hidden"), this.setInForeground(), this.#V(); const [e, n] = this.parentDimensions; this.parentRotation % 180 !== 0 && (t.style.maxWidth = `${(100 * n / e).toFixed(2)}%`, t.style.maxHeight = `${(100 * e / n).toFixed(2)}%`); const [r, s] = this.getInitialTranslation(); return this.translate(r, s), _3(this, t, ["keydown", "pointerdown", "dblclick"]), this.isResizable && this._uiManager._supportsPinchToZoom && (this.#S ||= new Jp({ container: t, isPinchingDisabled: () => !this.isSelected, onPinchStart: this.#_.bind(this), onPinching: this.#w.bind(this), onPinchEnd: this.#I.bind(this), signal: this._uiManager._signal })), this._uiManager._editorUndoBar?.hide(), t } #_() { this.#c = { savedX: this.x, savedY: this.y, savedWidth: this.width, savedHeight: this.height }, this.#n?.toggle(!1), this.parent.togglePointerEvents(!1) } #w(t, e, n) { let s = .7 * (n / e) + 1 - .7; if (s === 1) return; const o = this.#R(this.rotation), c = (F, D) => [o[0] * F + o[2] * D, o[1] * F + o[3] * D], [u, d] = this.parentDimensions, f = this.x, p = this.y, m = this.width, v = this.height, x = Se.MIN_SIZE / u, y = Se.MIN_SIZE / d; s = Math.max(Math.min(s, 1 / m, 1 / v), x / m, y / v); const E = Se._round(m * s), A = Se._round(v * s); if (E === m && A === v) return; this.#l ||= [f, p, m, v]; const T = c(m / 2, v / 2), L = Se._round(f + T[0]), k = Se._round(p + T[1]), O = c(E / 2, A / 2); this.x = L - O[0], this.y = k - O[1], this.width = E, this.height = A, this.setDims(u * E, d * A), this.fixAndSetPosition(), this._onResizing() } #I() { this.#n?.toggle(!0), this.parent.togglePointerEvents(!0), this.#O() } pointerdown(t) { const { isMac: e } = gr.platform; if (t.button !== 0 || t.ctrlKey && e) { t.preventDefault(); return } if (this.#f = !0, this._isDraggable) { this.#q(t); return } this.#F(t) } #F(t) { const { isMac: e } = gr.platform; t.ctrlKey && !e || t.shiftKey || t.metaKey && e ? this.parent.toggleSelected(this) : this.parent.setSelected(this) } #q(t) { const { isSelected: e } = this; this._uiManager.setUpDragSession(); let n = !1; const r = new AbortController, s = this._uiManager.combinedSignal(r), o = { capture: !0, passive: !1, signal: s }, c = d => { r.abort(), this.#s = null, this.#f = !1, this._uiManager.endDragSession() || this.#F(d), n && this._onStopDragging() }; e && (this.#b = t.clientX, this.#y = t.clientY, this.#s = t.pointerId, this.#r = t.pointerType, window.addEventListener("pointermove", d => { n || (n = !0, this._onStartDragging()); const { clientX: f, clientY: p, pointerId: m } = d; if (m !== this.#s) { Ti(d); return } const [v, x] = this.screenToPageTranslation(f - this.#b, p - this.#y); this.#b = f, this.#y = p, this._uiManager.dragSelectedEditors(v, x) }, o), window.addEventListener("touchmove", Ti, o), window.addEventListener("pointerdown", d => { d.pointerType === this.#r && (this.#S || d.isPrimary) && c(d), Ti(d) }, o)); const u = d => { if (!this.#s || this.#s === d.pointerId) { c(d); return } Ti(d) }; window.addEventListener("pointerup", u, { signal: s }), window.addEventListener("blur", u, { signal: s }) } _onStartDragging() { } _onStopDragging() { } moveInDOM() { this.#v && clearTimeout(this.#v), this.#v = setTimeout(() => { this.#v = null, this.parent?.moveEditorInDOM(this) }, 0) } _setParentAndPosition(t, e, n) { t.changeParent(this), this.x = e, this.y = n, this.fixAndSetPosition(), this._onTranslated() } getRect(t, e, n = this.rotation) { const r = this.parentScale, [s, o] = this.pageDimensions, [c, u] = this.pageTranslation, d = t / r, f = e / r, p = this.x * s, m = this.y * o, v = this.width * s, x = this.height * o; switch (n) { case 0: return [p + d + c, o - m - f - x + u, p + d + v + c, o - m - f + u]; case 90: return [p + f + c, o - m + d + u, p + f + x + c, o - m + d + v + u]; case 180: return [p - d - v + c, o - m + f + u, p - d + c, o - m + f + x + u]; case 270: return [p - f - x + c, o - m - d - v + u, p - f + c, o - m - d + u]; default: throw new Error("Invalid rotation") } } getRectInCurrentCoords(t, e) { const [n, r, s, o] = t, c = s - n, u = o - r; switch (this.rotation) { case 0: return [n, e - o, c, u]; case 90: return [n, e - r, u, c]; case 180: return [s, e - r, c, u]; case 270: return [s, e - o, u, c]; default: throw new Error("Invalid rotation") } } onceAdded(t) { } isEmpty() { return !1 } enableEditMode() { return this.isInEditMode() ? !1 : (this.parent.setEditingState(!1), this.#m = !0, !0) } disableEditMode() { return this.isInEditMode() ? (this.parent.setEditingState(!0), this.#m = !1, !0) : !1 } isInEditMode() { return this.#m } shouldGetKeyboardEvents() { return this.#g } needsToBeRebuilt() { return this.div && !this.isAttachedToDOM } get isOnScreen() { const { top: t, left: e, bottom: n, right: r } = this.getClientDimensions(), { innerHeight: s, innerWidth: o } = window; return e < o && r > 0 && t < s && n > 0 } #V() { if (this.#d || !this.div) return; this.#d = new AbortController; const t = this._uiManager.combinedSignal(this.#d); this.div.addEventListener("focusin", this.focusin.bind(this), { signal: t }), this.div.addEventListener("focusout", this.focusout.bind(this), { signal: t }) } rebuild() { this.#V() } rotate(t) { } resize() { } serializeDeleted() { return { id: this.annotationElementId, deleted: !0, pageIndex: this.pageIndex, popupRef: this._initialData?.popupRef || "" } } serialize(t = !1, e = null) { jn("An editor must be serializable") } static async deserialize(t, e, n) { const r = new this.prototype.constructor({ parent: e, id: e.getNextId(), uiManager: n }); r.rotation = t.rotation, r.#t = t.accessibilityData, r._isCopy = t.isCopy || !1; const [s, o] = r.pageDimensions, [c, u, d, f] = r.getRectInCurrentCoords(t.rect, o); return r.x = c / s, r.y = u / o, r.width = d / s, r.height = f / o, r } get hasBeenModified() { return !!this.annotationElementId && (this.deleted || this.serialize() !== null) } remove() { if (this.#d?.abort(), this.#d = null, this.isEmpty() || this.commit(), this.parent ? this.parent.remove(this) : this._uiManager.removeEditor(this), this.#v && (clearTimeout(this.#v), this.#v = null), this.#H(), this.removeEditToolbar(), this.#x) { for (const t of this.#x.values()) clearTimeout(t); this.#x = null } this.parent = null, this.#S?.destroy(), this.#S = null } get isResizable() { return !1 } makeResizable() { this.isResizable && (this.#N(), this.#a.classList.remove("hidden")) } get toolbarPosition() { return null } keydown(t) { if (!this.isResizable || t.target !== this.div || t.key !== "Enter") return; this._uiManager.setSelected(this), this.#c = { savedX: this.x, savedY: this.y, savedWidth: this.width, savedHeight: this.height }; const e = this.#a.children; if (!this.#e) { this.#e = Array.from(e); const o = this.#G.bind(this), c = this.#U.bind(this), u = this._uiManager._signal; for (const d of this.#e) { const f = d.getAttribute("data-resizer-name"); d.setAttribute("role", "spinbutton"), d.addEventListener("keydown", o, { signal: u }), d.addEventListener("blur", c, { signal: u }), d.addEventListener("focus", this.#k.bind(this, f), { signal: u }), d.setAttribute("data-l10n-id", Se._l10nResizer[f]) } } const n = this.#e[0]; let r = 0; for (const o of e) { if (o === n) break; r++ } const s = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#e.length / 4); if (s !== r) { if (s < r) for (let c = 0; c < r - s; c++)this.#a.append(this.#a.firstChild); else if (s > r) for (let c = 0; c < s - r; c++)this.#a.firstChild.before(this.#a.lastChild); let o = 0; for (const c of e) { const d = this.#e[o++].getAttribute("data-resizer-name"); c.setAttribute("data-l10n-id", Se._l10nResizer[d]) } } this.#D(0), this.#g = !0, this.#a.firstChild.focus({ focusVisible: !0 }), t.preventDefault(), t.stopImmediatePropagation() } #G(t) { Se._resizerKeyboardManager.exec(this, t) } #U(t) { this.#g && t.relatedTarget?.parentNode !== this.#a && this.#H() } #k(t) { this.#u = this.#g ? t : "" } #D(t) { if (this.#e) for (const e of this.#e) e.tabIndex = t } _resizeWithKeyboard(t, e) { this.#g && this.#z(this.#u, { deltaX: t, deltaY: e, fromKeyboard: !0 }) } #H() { this.#g = !1, this.#D(-1), this.#O() } _stopResizingWithKeyboard() { this.#H(), this.div.focus() } select() { if (!(this.isSelected && this._editToolbar)) { if (this.isSelected = !0, this.makeResizable(), this.div?.classList.add("selectedEditor"), !this._editToolbar) { this.addEditToolbar().then(() => { this.div?.classList.contains("selectedEditor") && this._editToolbar?.show() }); return } this._editToolbar?.show(), this.#n?.toggleAltTextBadge(!1) } } unselect() { this.isSelected && (this.isSelected = !1, this.#a?.classList.add("hidden"), this.div?.classList.remove("selectedEditor"), this.div?.contains(document.activeElement) && this._uiManager.currentLayer.div.focus({ preventScroll: !0 }), this._editToolbar?.hide(), this.#n?.toggleAltTextBadge(!0)) } updateParams(t, e) { } disableEditing() { } enableEditing() { } get canChangeContent() { return !1 } enterInEditMode() { this.canChangeContent && (this.enableEditMode(), this.div.focus()) } dblclick(t) { this.enterInEditMode(), this.parent.updateToolbar({ mode: this.constructor._editorType, editId: this.id }) } getElementForAltText() { return this.div } get contentDiv() { return this.div } get isEditing() { return this.#p } set isEditing(t) { this.#p = t, this.parent && (t ? (this.parent.setSelected(this), this.parent.setActiveEditor(this)) : this.parent.setActiveEditor(null)) } setAspectRatio(t, e) { this.#o = !0; const n = t / e, { style: r } = this.div; r.aspectRatio = n, r.height = "auto" } static get MIN_SIZE() { return 16 } static canCreateNewEmptyEditor() { return !0 } get telemetryInitialData() { return { action: "added" } } get telemetryFinalData() { return null } _reportTelemetry(t, e = !1) { if (e) { this.#x ||= new Map; const { action: n } = t; let r = this.#x.get(n); r && clearTimeout(r), r = setTimeout(() => { this._reportTelemetry(t), this.#x.delete(n), this.#x.size === 0 && (this.#x = null) }, Se._telemetryTimeout), this.#x.set(n, r); return } t.type ||= this.editorType, this._uiManager._eventBus.dispatch("reporttelemetry", { source: this, details: { type: "editing", data: t } }) } show(t = this._isVisible) { this.div.classList.toggle("hidden", !t), this._isVisible = t } enable() { this.div && (this.div.tabIndex = 0), this.#i = !1 } disable() { this.div && (this.div.tabIndex = -1), this.#i = !0 } renderAnnotationElement(t) { let e = t.container.querySelector(".annotationContent"); if (!e) e = document.createElement("div"), e.classList.add("annotationContent", this.editorType), t.container.prepend(e); else if (e.nodeName === "CANVAS") { const n = e; e = document.createElement("div"), e.classList.add("annotationContent", this.editorType), n.before(e) } return e } resetAnnotationElement(t) { const { firstChild: e } = t.container; e?.nodeName === "DIV" && e.classList.contains("annotationContent") && e.remove() } } class mI extends Se { constructor(t) { super(t), this.annotationElementId = t.annotationElementId, this.deleted = !0 } serialize() { return this.serializeDeleted() } } const hS = 3285377520, ra = 4294901760, jo = 65535; class C3 { constructor(t) { this.h1 = t ? t & 4294967295 : hS, this.h2 = t ? t & 4294967295 : hS } update(t) { let e, n; if (typeof t == "string") { e = new Uint8Array(t.length * 2), n = 0; for (let y = 0, E = t.length; y < E; y++) { const A = t.charCodeAt(y); A <= 255 ? e[n++] = A : (e[n++] = A >>> 8, e[n++] = A & 255) } } else if (ArrayBuffer.isView(t)) e = t.slice(), n = e.byteLength; else throw new Error("Invalid data format, must be a string or TypedArray."); const r = n >> 2, s = n - r * 4, o = new Uint32Array(e.buffer, 0, r); let c = 0, u = 0, d = this.h1, f = this.h2; const p = 3432918353, m = 461845907, v = p & jo, x = m & jo; for (let y = 0; y < r; y++)y & 1 ? (c = o[y], c = c * p & ra | c * v & jo, c = c << 15 | c >>> 17, c = c * m & ra | c * x & jo, d ^= c, d = d << 13 | d >>> 19, d = d * 5 + 3864292196) : (u = o[y], u = u * p & ra | u * v & jo, u = u << 15 | u >>> 17, u = u * m & ra | u * x & jo, f ^= u, f = f << 13 | f >>> 19, f = f * 5 + 3864292196); switch (c = 0, s) { case 3: c ^= e[r * 4 + 2] << 16; case 2: c ^= e[r * 4 + 1] << 8; case 1: c ^= e[r * 4], c = c * p & ra | c * v & jo, c = c << 15 | c >>> 17, c = c * m & ra | c * x & jo, r & 1 ? d ^= c : f ^= c }this.h1 = d, this.h2 = f } hexdigest() { let t = this.h1, e = this.h2; return t ^= e >>> 1, t = t * 3981806797 & ra | t * 36045 & jo, e = e * 4283543511 & ra | ((e << 16 | t >>> 16) * 2950163797 & ra) >>> 16, t ^= e >>> 1, t = t * 444984403 & ra | t * 60499 & jo, e = e * 3301882366 & ra | ((e << 16 | t >>> 16) * 3120437893 & ra) >>> 16, t ^= e >>> 1, (t >>> 0).toString(16).padStart(8, "0") + (e >>> 0).toString(16).padStart(8, "0") } } const Db = Object.freeze({ map: null, hash: "", transfer: void 0 }); class o2 { #t = !1; #e = null; #n = new Map; constructor() { this.onSetModified = null, this.onResetModified = null, this.onAnnotationEditor = null } getValue(t, e) { const n = this.#n.get(t); return n === void 0 ? e : Object.assign(e, n) } getRawValue(t) { return this.#n.get(t) } remove(t) { if (this.#n.delete(t), this.#n.size === 0 && this.resetModified(), typeof this.onAnnotationEditor == "function") { for (const e of this.#n.values()) if (e instanceof Se) return; this.onAnnotationEditor(null) } } setValue(t, e) { const n = this.#n.get(t); let r = !1; if (n !== void 0) for (const [s, o] of Object.entries(e)) n[s] !== o && (r = !0, n[s] = o); else r = !0, this.#n.set(t, e); r && this.#i(), e instanceof Se && typeof this.onAnnotationEditor == "function" && this.onAnnotationEditor(e.constructor._type) } has(t) { return this.#n.has(t) } get size() { return this.#n.size } #i() { this.#t || (this.#t = !0, typeof this.onSetModified == "function" && this.onSetModified()) } resetModified() { this.#t && (this.#t = !1, typeof this.onResetModified == "function" && this.onResetModified()) } get print() { return new N3(this) } get serializable() { if (this.#n.size === 0) return Db; const t = new Map, e = new C3, n = [], r = Object.create(null); let s = !1; for (const [o, c] of this.#n) { const u = c instanceof Se ? c.serialize(!1, r) : c; u && (t.set(o, u), e.update(`${o}:${JSON.stringify(u)}`), s ||= !!u.bitmap) } if (s) for (const o of t.values()) o.bitmap && n.push(o.bitmap); return t.size > 0 ? { map: t, hash: e.hexdigest(), transfer: n } : Db } get editorStats() { let t = null; const e = new Map; for (const n of this.#n.values()) { if (!(n instanceof Se)) continue; const r = n.telemetryFinalData; if (!r) continue; const { type: s } = r; e.has(s) || e.set(s, Object.getPrototypeOf(n).constructor), t ||= Object.create(null); const o = t[s] ||= new Map; for (const [c, u] of Object.entries(r)) { if (c === "type") continue; let d = o.get(c); d || (d = new Map, o.set(c, d)); const f = d.get(u) ?? 0; d.set(u, f + 1) } } for (const [n, r] of e) t[n] = r.computeTelemetryFinalData(t[n]); return t } resetModifiedIds() { this.#e = null } get modifiedIds() { if (this.#e) return this.#e; const t = []; for (const e of this.#n.values()) !(e instanceof Se) || !e.annotationElementId || !e.serialize() || t.push(e.annotationElementId); return this.#e = { ids: new Set(t), hash: t.join(",") } } [Symbol.iterator]() { return this.#n.entries() } } class N3 extends o2 { #t; constructor(t) { super(); const { map: e, hash: n, transfer: r } = t.serializable, s = structuredClone(e, r ? { transfer: r } : null); this.#t = { map: s, hash: n, transfer: r } } get print() { jn("Should not call PrintAnnotationStorage.print") } get serializable() { return this.#t } get modifiedIds() { return sn(this, "modifiedIds", { ids: new Set, hash: "" }) } } class vI { #t = new Set; constructor({ ownerDocument: t = globalThis.document, styleElement: e = null }) { this._document = t, this.nativeFontFaces = new Set, this.styleElement = null, this.loadingRequests = [], this.loadTestFontId = 0 } addNativeFontFace(t) { this.nativeFontFaces.add(t), this._document.fonts.add(t) } removeNativeFontFace(t) { this.nativeFontFaces.delete(t), this._document.fonts.delete(t) } insertRule(t) { this.styleElement || (this.styleElement = this._document.createElement("style"), this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement)); const e = this.styleElement.sheet; e.insertRule(t, e.cssRules.length) } clear() { for (const t of this.nativeFontFaces) this._document.fonts.delete(t); this.nativeFontFaces.clear(), this.#t.clear(), this.styleElement && (this.styleElement.remove(), this.styleElement = null) } async loadSystemFont({ systemFontInfo: t, disableFontFace: e, _inspectFont: n }) { if (!(!t || this.#t.has(t.loadedName))) { if (qi(!e, "loadSystemFont shouldn't be called when `disableFontFace` is set."), this.isFontLoadingAPISupported) { const { loadedName: r, src: s, style: o } = t, c = new FontFace(r, s, o); this.addNativeFontFace(c); try { await c.load(), this.#t.add(r), n?.(t) } catch { He(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`), this.removeNativeFontFace(c) } return } jn("Not implemented: loadSystemFont without the Font Loading API.") } } async bind(t) { if (t.attached || t.missingFile && !t.systemFontInfo) return; if (t.attached = !0, t.systemFontInfo) { await this.loadSystemFont(t); return } if (this.isFontLoadingAPISupported) { const n = t.createNativeFontFace(); if (n) { this.addNativeFontFace(n); try { await n.loaded } catch (r) { throw He(`Failed to load font '${n.family}': '${r}'.`), t.disableFontFace = !0, r } } return } const e = t.createFontFaceRule(); if (e) { if (this.insertRule(e), this.isSyncFontLoadingSupported) return; await new Promise(n => { const r = this._queueLoadingCallback(n); this._prepareFontLoadEvent(t, r) }) } } get isFontLoadingAPISupported() { const t = !!this._document?.fonts; return sn(this, "isFontLoadingAPISupported", t) } get isSyncFontLoadingSupported() { return sn(this, "isSyncFontLoadingSupported", Zr || gr.platform.isFirefox) } _queueLoadingCallback(t) { function e() { for (qi(!r.done, "completeRequest() cannot be called twice."), r.done = !0; n.length > 0 && n[0].done;) { const s = n.shift(); setTimeout(s.callback, 0) } } const { loadingRequests: n } = this, r = { done: !1, complete: e, callback: t }; return n.push(r), r } get _loadTestFont() { const t = atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="); return sn(this, "_loadTestFont", t) } _prepareFontLoadEvent(t, e) { function n(k, O) { return k.charCodeAt(O) << 24 | k.charCodeAt(O + 1) << 16 | k.charCodeAt(O + 2) << 8 | k.charCodeAt(O + 3) & 255 } function r(k, O, F, D) { const j = k.substring(0, O), J = k.substring(O + F); return j + D + J } let s, o; const c = this._document.createElement("canvas"); c.width = 1, c.height = 1; const u = c.getContext("2d"); let d = 0; function f(k, O) { if (++d > 30) { He("Load test font never loaded."), O(); return } if (u.font = "30px " + k, u.fillText(".", 0, 20), u.getImageData(0, 0, 1, 1).data[3] > 0) { O(); return } setTimeout(f.bind(null, k, O)) } const p = `lt${Date.now()}${this.loadTestFontId++}`; let m = this._loadTestFont; m = r(m, 976, p.length, p); const x = 16, y = 1482184792; let E = n(m, x); for (s = 0, o = p.length - 3; s < o; s += 4)E = E - y + n(p, s) | 0; s < p.length && (E = E - y + n(p + "XXX", s) | 0), m = r(m, x, 4, sI(E)); const A = `url(data:font/opentype;base64,${btoa(m)});`, T = `@font-face {font-family:"${p}";src:${A}}`; this.insertRule(T); const L = this._document.createElement("div"); L.style.visibility = "hidden", L.style.width = L.style.height = "10px", L.style.position = "absolute", L.style.top = L.style.left = "0px"; for (const k of [t.loadedName, p]) { const O = this._document.createElement("span"); O.textContent = "Hi", O.style.fontFamily = k, L.append(O) } this._document.body.append(L), f(p, () => { L.remove(), e.complete() }) } } class bI { constructor(t, e = null) { this.compiledGlyphs = Object.create(null); for (const n in t) this[n] = t[n]; this._inspectFont = e } createNativeFontFace() { if (!this.data || this.disableFontFace) return null; let t; if (!this.cssFontInfo) t = new FontFace(this.loadedName, this.data, {}); else { const e = { weight: this.cssFontInfo.fontWeight }; this.cssFontInfo.italicAngle && (e.style = `oblique ${this.cssFontInfo.italicAngle}deg`), t = new FontFace(this.cssFontInfo.fontFamily, this.data, e) } return this._inspectFont?.(this), t } createFontFaceRule() { if (!this.data || this.disableFontFace) return null; const t = `url(data:${this.mimetype};base64,${x3(this.data)});`; let e; if (!this.cssFontInfo) e = `@font-face {font-family:"${this.loadedName}";src:${t}}`; else { let n = `font-weight: ${this.cssFontInfo.fontWeight};`; this.cssFontInfo.italicAngle && (n += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`), e = `@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}` } return this._inspectFont?.(this, t), e } getPathGenerator(t, e) { if (this.compiledGlyphs[e] !== void 0) return this.compiledGlyphs[e]; const n = this.loadedName + "_path_" + e; let r; try { r = t.get(n) } catch (o) { He(`getPathGenerator - ignoring character: "${o}".`) } const s = new Path2D(r || ""); return this.fontExtraProperties || t.delete(n), this.compiledGlyphs[e] = s } } function yI(i) { if (i instanceof URL) return i.href; if (typeof i == "string") { if (Zr) return i; const t = URL.parse(i, window.location); if (t) return t.href } throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.") } function wI(i) { if (Zr && typeof Buffer < "u" && i instanceof Buffer) throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`."); if (i instanceof Uint8Array && i.byteLength === i.buffer.byteLength) return i; if (typeof i == "string") return Xp(i); if (i instanceof ArrayBuffer || ArrayBuffer.isView(i) || typeof i == "object" && !isNaN(i?.length)) return new Uint8Array(i); throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.") } function mm(i) { if (typeof i != "string") return null; if (i.endsWith("/")) return i; throw new Error(`Invalid factory url: "${i}" must include trailing slash.`) } const jb = i => typeof i == "object" && Number.isInteger(i?.num) && i.num >= 0 && Number.isInteger(i?.gen) && i.gen >= 0, xI = i => typeof i == "object" && typeof i?.name == "string", R3 = cI.bind(null, jb, xI); class SI { #t = new Map; #e = Promise.resolve(); postMessage(t, e) { const n = { data: structuredClone(t, e ? { transfer: e } : null) }; this.#e.then(() => { for (const [r] of this.#t) r.call(this, n) }) } addEventListener(t, e, n = null) { let r = null; if (n?.signal instanceof AbortSignal) { const { signal: s } = n; if (s.aborted) { He("LoopbackPort - cannot use an `aborted` signal."); return } const o = () => this.removeEventListener(t, e); r = () => s.removeEventListener("abort", o), s.addEventListener("abort", o) } this.#t.set(e, r) } removeEventListener(t, e) { this.#t.get(e)?.(), this.#t.delete(e) } terminate() { for (const [, t] of this.#t) t?.(); this.#t.clear() } } const vm = { DATA: 1, ERROR: 2 }, Ui = { CANCEL: 1, CANCEL_COMPLETE: 2, CLOSE: 3, ENQUEUE: 4, ERROR: 5, PULL: 6, PULL_COMPLETE: 7, START_COMPLETE: 8 }; function dS() { } function ds(i) { if (i instanceof Bl || i instanceof i0 || i instanceof lS || i instanceof Sp || i instanceof L1) return i; switch (i instanceof Error || typeof i == "object" && i !== null || jn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'), i.name) { case "AbortException": return new Bl(i.message); case "InvalidPDFException": return new i0(i.message); case "PasswordException": return new lS(i.message, i.code); case "ResponseException": return new Sp(i.message, i.status, i.missing); case "UnknownErrorException": return new L1(i.message, i.details) }return new L1(i.message, i.toString()) } class op { #t = new AbortController; constructor(t, e, n) { this.sourceName = t, this.targetName = e, this.comObj = n, this.callbackId = 1, this.streamId = 1, this.streamSinks = Object.create(null), this.streamControllers = Object.create(null), this.callbackCapabilities = Object.create(null), this.actionHandler = Object.create(null), n.addEventListener("message", this.#e.bind(this), { signal: this.#t.signal }) } #e({ data: t }) { if (t.targetName !== this.sourceName) return; if (t.stream) { this.#i(t); return } if (t.callback) { const n = t.callbackId, r = this.callbackCapabilities[n]; if (!r) throw new Error(`Cannot resolve callback ${n}`); if (delete this.callbackCapabilities[n], t.callback === vm.DATA) r.resolve(t.data); else if (t.callback === vm.ERROR) r.reject(ds(t.reason)); else throw new Error("Unexpected callback case"); return } const e = this.actionHandler[t.action]; if (!e) throw new Error(`Unknown action from worker: ${t.action}`); if (t.callbackId) { const n = this.sourceName, r = t.sourceName, s = this.comObj; Promise.try(e, t.data).then(function (o) { s.postMessage({ sourceName: n, targetName: r, callback: vm.DATA, callbackId: t.callbackId, data: o }) }, function (o) { s.postMessage({ sourceName: n, targetName: r, callback: vm.ERROR, callbackId: t.callbackId, reason: ds(o) }) }); return } if (t.streamId) { this.#n(t); return } e(t.data) } on(t, e) { const n = this.actionHandler; if (n[t]) throw new Error(`There is already an actionName called "${t}"`); n[t] = e } send(t, e, n) { this.comObj.postMessage({ sourceName: this.sourceName, targetName: this.targetName, action: t, data: e }, n) } sendWithPromise(t, e, n) { const r = this.callbackId++, s = Promise.withResolvers(); this.callbackCapabilities[r] = s; try { this.comObj.postMessage({ sourceName: this.sourceName, targetName: this.targetName, action: t, callbackId: r, data: e }, n) } catch (o) { s.reject(o) } return s.promise } sendWithStream(t, e, n, r) { const s = this.streamId++, o = this.sourceName, c = this.targetName, u = this.comObj; return new ReadableStream({ start: d => { const f = Promise.withResolvers(); return this.streamControllers[s] = { controller: d, startCall: f, pullCall: null, cancelCall: null, isClosed: !1 }, u.postMessage({ sourceName: o, targetName: c, action: t, streamId: s, data: e, desiredSize: d.desiredSize }, r), f.promise }, pull: d => { const f = Promise.withResolvers(); return this.streamControllers[s].pullCall = f, u.postMessage({ sourceName: o, targetName: c, stream: Ui.PULL, streamId: s, desiredSize: d.desiredSize }), f.promise }, cancel: d => { qi(d instanceof Error, "cancel must have a valid reason"); const f = Promise.withResolvers(); return this.streamControllers[s].cancelCall = f, this.streamControllers[s].isClosed = !0, u.postMessage({ sourceName: o, targetName: c, stream: Ui.CANCEL, streamId: s, reason: ds(d) }), f.promise } }, n) } #n(t) { const e = t.streamId, n = this.sourceName, r = t.sourceName, s = this.comObj, o = this, c = this.actionHandler[t.action], u = { enqueue(d, f = 1, p) { if (this.isCancelled) return; const m = this.desiredSize; this.desiredSize -= f, m > 0 && this.desiredSize <= 0 && (this.sinkCapability = Promise.withResolvers(), this.ready = this.sinkCapability.promise), s.postMessage({ sourceName: n, targetName: r, stream: Ui.ENQUEUE, streamId: e, chunk: d }, p) }, close() { this.isCancelled || (this.isCancelled = !0, s.postMessage({ sourceName: n, targetName: r, stream: Ui.CLOSE, streamId: e }), delete o.streamSinks[e]) }, error(d) { qi(d instanceof Error, "error must have a valid reason"), !this.isCancelled && (this.isCancelled = !0, s.postMessage({ sourceName: n, targetName: r, stream: Ui.ERROR, streamId: e, reason: ds(d) })) }, sinkCapability: Promise.withResolvers(), onPull: null, onCancel: null, isCancelled: !1, desiredSize: t.desiredSize, ready: null }; u.sinkCapability.resolve(), u.ready = u.sinkCapability.promise, this.streamSinks[e] = u, Promise.try(c, t.data, u).then(function () { s.postMessage({ sourceName: n, targetName: r, stream: Ui.START_COMPLETE, streamId: e, success: !0 }) }, function (d) { s.postMessage({ sourceName: n, targetName: r, stream: Ui.START_COMPLETE, streamId: e, reason: ds(d) }) }) } #i(t) { const e = t.streamId, n = this.sourceName, r = t.sourceName, s = this.comObj, o = this.streamControllers[e], c = this.streamSinks[e]; switch (t.stream) { case Ui.START_COMPLETE: t.success ? o.startCall.resolve() : o.startCall.reject(ds(t.reason)); break; case Ui.PULL_COMPLETE: t.success ? o.pullCall.resolve() : o.pullCall.reject(ds(t.reason)); break; case Ui.PULL: if (!c) { s.postMessage({ sourceName: n, targetName: r, stream: Ui.PULL_COMPLETE, streamId: e, success: !0 }); break } c.desiredSize <= 0 && t.desiredSize > 0 && c.sinkCapability.resolve(), c.desiredSize = t.desiredSize, Promise.try(c.onPull || dS).then(function () { s.postMessage({ sourceName: n, targetName: r, stream: Ui.PULL_COMPLETE, streamId: e, success: !0 }) }, function (d) { s.postMessage({ sourceName: n, targetName: r, stream: Ui.PULL_COMPLETE, streamId: e, reason: ds(d) }) }); break; case Ui.ENQUEUE: if (qi(o, "enqueue should have stream controller"), o.isClosed) break; o.controller.enqueue(t.chunk); break; case Ui.CLOSE: if (qi(o, "close should have stream controller"), o.isClosed) break; o.isClosed = !0, o.controller.close(), this.#s(o, e); break; case Ui.ERROR: qi(o, "error should have stream controller"), o.controller.error(ds(t.reason)), this.#s(o, e); break; case Ui.CANCEL_COMPLETE: t.success ? o.cancelCall.resolve() : o.cancelCall.reject(ds(t.reason)), this.#s(o, e); break; case Ui.CANCEL: if (!c) break; const u = ds(t.reason); Promise.try(c.onCancel || dS, u).then(function () { s.postMessage({ sourceName: n, targetName: r, stream: Ui.CANCEL_COMPLETE, streamId: e, success: !0 }) }, function (d) { s.postMessage({ sourceName: n, targetName: r, stream: Ui.CANCEL_COMPLETE, streamId: e, reason: ds(d) }) }), c.sinkCapability.reject(u), c.isCancelled = !0, delete this.streamSinks[e]; break; default: throw new Error("Unexpected stream case") } } async#s(t, e) { await Promise.allSettled([t.startCall?.promise, t.pullCall?.promise, t.cancelCall?.promise]), delete this.streamControllers[e] } destroy() { this.#t?.abort(), this.#t = null } } class T3 { #t = !1; constructor({ enableHWA: t = !1 }) { this.#t = t } create(t, e) { if (t <= 0 || e <= 0) throw new Error("Invalid canvas size"); const n = this._createCanvas(t, e); return { canvas: n, context: n.getContext("2d", { willReadFrequently: !this.#t }) } } reset(t, e, n) { if (!t.canvas) throw new Error("Canvas is not specified"); if (e <= 0 || n <= 0) throw new Error("Invalid canvas size"); t.canvas.width = e, t.canvas.height = n } destroy(t) { if (!t.canvas) throw new Error("Canvas is not specified"); t.canvas.width = 0, t.canvas.height = 0, t.canvas = null, t.context = null } _createCanvas(t, e) { jn("Abstract method `_createCanvas` called.") } } class AI extends T3 { constructor({ ownerDocument: t = globalThis.document, enableHWA: e = !1 }) { super({ enableHWA: e }), this._document = t } _createCanvas(t, e) { const n = this._document.createElement("canvas"); return n.width = t, n.height = e, n } } class L3 { constructor({ baseUrl: t = null, isCompressed: e = !0 }) { this.baseUrl = t, this.isCompressed = e } async fetch({ name: t }) { if (!this.baseUrl) throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided."); if (!t) throw new Error("CMap name must be specified."); const e = this.baseUrl + t + (this.isCompressed ? ".bcmap" : ""); return this._fetch(e).then(n => ({ cMapData: n, isCompressed: this.isCompressed })).catch(n => { throw new Error(`Unable to load ${this.isCompressed ? "binary " : ""}CMap at: ${e}`) }) } async _fetch(t) { jn("Abstract method `_fetch` called.") } } class fS extends L3 { async _fetch(t) { const e = await Zd(t, this.isCompressed ? "arraybuffer" : "text"); return e instanceof ArrayBuffer ? new Uint8Array(e) : Xp(e) } } class M3 { addFilter(t) { return "none" } addHCMFilter(t, e) { return "none" } addAlphaFilter(t) { return "none" } addLuminosityFilter(t) { return "none" } addHighlightHCMFilter(t, e, n, r, s) { return "none" } destroy(t = !1) { } } class EI extends M3 { #t; #e; #n; #i; #s; #r; #o = 0; constructor({ docId: t, ownerDocument: e = globalThis.document }) { super(), this.#i = t, this.#s = e } get #a() { return this.#e ||= new Map } get #h() { return this.#r ||= new Map } get #c() { if (!this.#n) { const t = this.#s.createElement("div"), { style: e } = t; e.visibility = "hidden", e.contain = "strict", e.width = e.height = 0, e.position = "absolute", e.top = e.left = 0, e.zIndex = -1; const n = this.#s.createElementNS(Ol, "svg"); n.setAttribute("width", 0), n.setAttribute("height", 0), this.#n = this.#s.createElementNS(Ol, "defs"), t.append(n), n.append(this.#n), this.#s.body.append(t) } return this.#n } #d(t) { if (t.length === 1) { const u = t[0], d = new Array(256); for (let p = 0; p < 256; p++)d[p] = u[p] / 255; const f = d.join(","); return [f, f, f] } const [e, n, r] = t, s = new Array(256), o = new Array(256), c = new Array(256); for (let u = 0; u < 256; u++)s[u] = e[u] / 255, o[u] = n[u] / 255, c[u] = r[u] / 255; return [s.join(","), o.join(","), c.join(",")] } #u(t) { if (this.#t === void 0) { this.#t = ""; const e = this.#s.URL; e !== this.#s.baseURI && (Qp(e) ? He('#createUrl: ignore "data:"-URL for performance reasons.') : this.#t = t2(e, "")) } return `url(${this.#t}#${t})` } addFilter(t) { if (!t) return "none"; let e = this.#a.get(t); if (e) return e; const [n, r, s] = this.#d(t), o = t.length === 1 ? n : `${n}${r}${s}`; if (e = this.#a.get(o), e) return this.#a.set(t, e), e; const c = `g_${this.#i}_transfer_map_${this.#o++}`, u = this.#u(c); this.#a.set(t, u), this.#a.set(o, u); const d = this.#p(c); return this.#g(n, r, s, d), u } addHCMFilter(t, e) { const n = `${t}-${e}`, r = "base"; let s = this.#h.get(r); if (s?.key === n || (s ? (s.filter?.remove(), s.key = n, s.url = "none", s.filter = null) : (s = { key: n, url: "none", filter: null }, this.#h.set(r, s)), !t || !e)) return s.url; const o = this.#b(t); t = ye.makeHexColor(...o); const c = this.#b(e); if (e = ye.makeHexColor(...c), this.#c.style.color = "", t === "#000000" && e === "#ffffff" || t === e) return s.url; const u = new Array(256); for (let v = 0; v <= 255; v++) { const x = v / 255; u[v] = x <= .03928 ? x / 12.92 : ((x + .055) / 1.055) ** 2.4 } const d = u.join(","), f = `g_${this.#i}_hcm_filter`, p = s.filter = this.#p(f); this.#g(d, d, d, p), this.#l(p); const m = (v, x) => { const y = o[v] / 255, E = c[v] / 255, A = new Array(x + 1); for (let T = 0; T <= x; T++)A[T] = y + T / x * (E - y); return A.join(",") }; return this.#g(m(0, 5), m(1, 5), m(2, 5), p), s.url = this.#u(f), s.url } addAlphaFilter(t) { let e = this.#a.get(t); if (e) return e; const [n] = this.#d([t]), r = `alpha_${n}`; if (e = this.#a.get(r), e) return this.#a.set(t, e), e; const s = `g_${this.#i}_alpha_map_${this.#o++}`, o = this.#u(s); this.#a.set(t, o), this.#a.set(r, o); const c = this.#p(s); return this.#v(n, c), o } addLuminosityFilter(t) { let e = this.#a.get(t || "luminosity"); if (e) return e; let n, r; if (t ? ([n] = this.#d([t]), r = `luminosity_${n}`) : r = "luminosity", e = this.#a.get(r), e) return this.#a.set(t, e), e; const s = `g_${this.#i}_luminosity_map_${this.#o++}`, o = this.#u(s); this.#a.set(t, o), this.#a.set(r, o); const c = this.#p(s); return this.#f(c), t && this.#v(n, c), o } addHighlightHCMFilter(t, e, n, r, s) { const o = `${e}-${n}-${r}-${s}`; let c = this.#h.get(t); if (c?.key === o || (c ? (c.filter?.remove(), c.key = o, c.url = "none", c.filter = null) : (c = { key: o, url: "none", filter: null }, this.#h.set(t, c)), !e || !n)) return c.url; const [u, d] = [e, n].map(this.#b.bind(this)); let f = Math.round(.2126 * u[0] + .7152 * u[1] + .0722 * u[2]), p = Math.round(.2126 * d[0] + .7152 * d[1] + .0722 * d[2]), [m, v] = [r, s].map(this.#b.bind(this)); p < f && ([f, p, m, v] = [p, f, v, m]), this.#c.style.color = ""; const x = (A, T, L) => { const k = new Array(256), O = (p - f) / L, F = A / 255, D = (T - A) / (255 * L); let j = 0; for (let J = 0; J <= L; J++) { const ot = Math.round(f + J * O), z = F + J * D; for (let G = j; G <= ot; G++)k[G] = z; j = ot + 1 } for (let J = j; J < 256; J++)k[J] = k[j - 1]; return k.join(",") }, y = `g_${this.#i}_hcm_${t}_filter`, E = c.filter = this.#p(y); return this.#l(E), this.#g(x(m[0], v[0], 5), x(m[1], v[1], 5), x(m[2], v[2], 5), E), c.url = this.#u(y), c.url } destroy(t = !1) { t && this.#r?.size || (this.#n?.parentNode.parentNode.remove(), this.#n = null, this.#e?.clear(), this.#e = null, this.#r?.clear(), this.#r = null, this.#o = 0) } #f(t) { const e = this.#s.createElementNS(Ol, "feColorMatrix"); e.setAttribute("type", "matrix"), e.setAttribute("values", "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"), t.append(e) } #l(t) { const e = this.#s.createElementNS(Ol, "feColorMatrix"); e.setAttribute("type", "matrix"), e.setAttribute("values", "0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"), t.append(e) } #p(t) { const e = this.#s.createElementNS(Ol, "filter"); return e.setAttribute("color-interpolation-filters", "sRGB"), e.setAttribute("id", t), this.#c.append(e), e } #m(t, e, n) { const r = this.#s.createElementNS(Ol, e); r.setAttribute("type", "discrete"), r.setAttribute("tableValues", n), t.append(r) } #g(t, e, n, r) { const s = this.#s.createElementNS(Ol, "feComponentTransfer"); r.append(s), this.#m(s, "feFuncR", t), this.#m(s, "feFuncG", e), this.#m(s, "feFuncB", n) } #v(t, e) { const n = this.#s.createElementNS(Ol, "feComponentTransfer"); e.append(n), this.#m(n, "feFuncA", t) } #b(t) { return this.#c.style.color = t, r2(getComputedStyle(this.#c).getPropertyValue("color")) } } class P3 { constructor({ baseUrl: t = null }) { this.baseUrl = t } async fetch({ filename: t }) { if (!this.baseUrl) throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided."); if (!t) throw new Error("Font filename must be specified."); const e = `${this.baseUrl}${t}`; return this._fetch(e).catch(n => { throw new Error(`Unable to load font data at: ${e}`) }) } async _fetch(t) { jn("Abstract method `_fetch` called.") } } class pS extends P3 { async _fetch(t) { const e = await Zd(t, "arraybuffer"); return new Uint8Array(e) } } class O3 { constructor({ baseUrl: t = null }) { this.baseUrl = t } async fetch({ filename: t }) { if (!this.baseUrl) throw new Error("Ensure that the `wasmUrl` API parameter is provided."); if (!t) throw new Error("Wasm filename must be specified."); const e = `${this.baseUrl}${t}`; return this._fetch(e).catch(n => { throw new Error(`Unable to load wasm data at: ${e}`) }) } async _fetch(t) { jn("Abstract method `_fetch` called.") } } class gS extends O3 { async _fetch(t) { const e = await Zd(t, "arraybuffer"); return new Uint8Array(e) } } Zr && He("Please use the `legacy` build in Node.js environments."); async function l2(i) { const e = await process.getBuiltinModule("fs").promises.readFile(i); return new Uint8Array(e) } class _I extends M3 { } class CI extends T3 { _createCanvas(t, e) { return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t, e) } } class NI extends L3 { async _fetch(t) { return l2(t) } } class RI extends P3 { async _fetch(t) { return l2(t) } } class TI extends O3 { async _fetch(t) { return l2(t) } } const Er = { FILL: "Fill", STROKE: "Stroke", SHADING: "Shading" }; function Ib(i, t) { if (!t) return; const e = t[2] - t[0], n = t[3] - t[1], r = new Path2D; r.rect(t[0], t[1], e, n), i.clip(r) } class c2 { isModifyingCurrentTransform() { return !1 } getPattern() { jn("Abstract method `getPattern` called.") } } class LI extends c2 { constructor(t) { super(), this._type = t[1], this._bbox = t[2], this._colorStops = t[3], this._p0 = t[4], this._p1 = t[5], this._r0 = t[6], this._r1 = t[7], this.matrix = null } _createGradient(t) { let e; this._type === "axial" ? e = t.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]) : this._type === "radial" && (e = t.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1)); for (const n of this._colorStops) e.addColorStop(n[0], n[1]); return e } getPattern(t, e, n, r) { let s; if (r === Er.STROKE || r === Er.FILL) { const o = e.current.getClippedPathBoundingBox(r, gi(t)) || [0, 0, 0, 0], c = Math.ceil(o[2] - o[0]) || 1, u = Math.ceil(o[3] - o[1]) || 1, d = e.cachedCanvases.getCanvas("pattern", c, u), f = d.context; f.clearRect(0, 0, f.canvas.width, f.canvas.height), f.beginPath(), f.rect(0, 0, f.canvas.width, f.canvas.height), f.translate(-o[0], -o[1]), n = ye.transform(n, [1, 0, 0, 1, o[0], o[1]]), f.transform(...e.baseTransform), this.matrix && f.transform(...this.matrix), Ib(f, this._bbox), f.fillStyle = this._createGradient(f), f.fill(), s = t.createPattern(d.canvas, "no-repeat"); const p = new DOMMatrix(n); s.setTransform(p) } else Ib(t, this._bbox), s = this._createGradient(t); return s } } function O1(i, t, e, n, r, s, o, c) { const u = t.coords, d = t.colors, f = i.data, p = i.width * 4; let m; u[e + 1] > u[n + 1] && (m = e, e = n, n = m, m = s, s = o, o = m), u[n + 1] > u[r + 1] && (m = n, n = r, r = m, m = o, o = c, c = m), u[e + 1] > u[n + 1] && (m = e, e = n, n = m, m = s, s = o, o = m); const v = (u[e] + t.offsetX) * t.scaleX, x = (u[e + 1] + t.offsetY) * t.scaleY, y = (u[n] + t.offsetX) * t.scaleX, E = (u[n + 1] + t.offsetY) * t.scaleY, A = (u[r] + t.offsetX) * t.scaleX, T = (u[r + 1] + t.offsetY) * t.scaleY; if (x >= T) return; const L = d[s], k = d[s + 1], O = d[s + 2], F = d[o], D = d[o + 1], j = d[o + 2], J = d[c], ot = d[c + 1], z = d[c + 2], G = Math.round(x), it = Math.round(T); let nt, ht, U, tt, Q, pt, Y, ft; for (let I = G; I <= it; I++) { if (I < E) { const ct = I < x ? 0 : (x - I) / (x - E); nt = v - (v - y) * ct, ht = L - (L - F) * ct, U = k - (k - D) * ct, tt = O - (O - j) * ct } else { let ct; I > T ? ct = 1 : E === T ? ct = 0 : ct = (E - I) / (E - T), nt = y - (y - A) * ct, ht = F - (F - J) * ct, U = D - (D - ot) * ct, tt = j - (j - z) * ct } let V; I < x ? V = 0 : I > T ? V = 1 : V = (x - I) / (x - T), Q = v - (v - A) * V, pt = L - (L - J) * V, Y = k - (k - ot) * V, ft = O - (O - z) * V; const Z = Math.round(Math.min(nt, Q)), st = Math.round(Math.max(nt, Q)); let at = p * I + Z * 4; for (let ct = Z; ct <= st; ct++)V = (nt - ct) / (nt - Q), V < 0 ? V = 0 : V > 1 && (V = 1), f[at++] = ht - (ht - pt) * V | 0, f[at++] = U - (U - Y) * V | 0, f[at++] = tt - (tt - ft) * V | 0, f[at++] = 255 } } function MI(i, t, e) { const n = t.coords, r = t.colors; let s, o; switch (t.type) { case "lattice": const c = t.verticesPerRow, u = Math.floor(n.length / c) - 1, d = c - 1; for (s = 0; s < u; s++) { let f = s * c; for (let p = 0; p < d; p++, f++)O1(i, e, n[f], n[f + 1], n[f + c], r[f], r[f + 1], r[f + c]), O1(i, e, n[f + c + 1], n[f + 1], n[f + c], r[f + c + 1], r[f + 1], r[f + c]) } break; case "triangles": for (s = 0, o = n.length; s < o; s += 3)O1(i, e, n[s], n[s + 1], n[s + 2], r[s], r[s + 1], r[s + 2]); break; default: throw new Error("illegal figure") } } class PI extends c2 { constructor(t) { super(), this._coords = t[2], this._colors = t[3], this._figures = t[4], this._bounds = t[5], this._bbox = t[6], this._background = t[7], this.matrix = null } _createMeshCanvas(t, e, n) { const c = Math.floor(this._bounds[0]), u = Math.floor(this._bounds[1]), d = Math.ceil(this._bounds[2]) - c, f = Math.ceil(this._bounds[3]) - u, p = Math.min(Math.ceil(Math.abs(d * t[0] * 1.1)), 3e3), m = Math.min(Math.ceil(Math.abs(f * t[1] * 1.1)), 3e3), v = d / p, x = f / m, y = { coords: this._coords, colors: this._colors, offsetX: -c, offsetY: -u, scaleX: 1 / v, scaleY: 1 / x }, E = p + 4, A = m + 4, T = n.getCanvas("mesh", E, A), L = T.context, k = L.createImageData(p, m); if (e) { const F = k.data; for (let D = 0, j = F.length; D < j; D += 4)F[D] = e[0], F[D + 1] = e[1], F[D + 2] = e[2], F[D + 3] = 255 } for (const F of this._figures) MI(k, F, y); return L.putImageData(k, 2, 2), { canvas: T.canvas, offsetX: c - 2 * v, offsetY: u - 2 * x, scaleX: v, scaleY: x } } isModifyingCurrentTransform() { return !0 } getPattern(t, e, n, r) { Ib(t, this._bbox); const s = new Float32Array(2); if (r === Er.SHADING) ye.singularValueDecompose2dScale(gi(t), s); else if (this.matrix) { ye.singularValueDecompose2dScale(this.matrix, s); const [c, u] = s; ye.singularValueDecompose2dScale(e.baseTransform, s), s[0] *= c, s[1] *= u } else ye.singularValueDecompose2dScale(e.baseTransform, s); const o = this._createMeshCanvas(s, r === Er.SHADING ? null : this._background, e.cachedCanvases); return r !== Er.SHADING && (t.setTransform(...e.baseTransform), this.matrix && t.transform(...this.matrix)), t.translate(o.offsetX, o.offsetY), t.scale(o.scaleX, o.scaleY), t.createPattern(o.canvas, "no-repeat") } } class OI extends c2 { getPattern() { return "hotpink" } } function kI(i) { switch (i[0]) { case "RadialAxial": return new LI(i); case "Mesh": return new PI(i); case "Dummy": return new OI }throw new Error(`Unknown IR type: ${i[0]}`) } const mS = { COLORED: 1, UNCOLORED: 2 }; class u2 { static MAX_PATTERN_SIZE = 3e3; constructor(t, e, n, r) { this.color = t[1], this.operatorList = t[2], this.matrix = t[3], this.bbox = t[4], this.xstep = t[5], this.ystep = t[6], this.paintType = t[7], this.tilingType = t[8], this.ctx = e, this.canvasGraphicsFactory = n, this.baseTransform = r } createPatternCanvas(t) { const { bbox: e, operatorList: n, paintType: r, tilingType: s, color: o, canvasGraphicsFactory: c } = this; let { xstep: u, ystep: d } = this; u = Math.abs(u), d = Math.abs(d), D0("TilingType: " + s); const f = e[0], p = e[1], m = e[2], v = e[3], x = m - f, y = v - p, E = new Float32Array(2); ye.singularValueDecompose2dScale(this.matrix, E); const [A, T] = E; ye.singularValueDecompose2dScale(this.baseTransform, E); const L = A * E[0], k = T * E[1]; let O = x, F = y, D = !1, j = !1; const J = Math.ceil(u * L), ot = Math.ceil(d * k), z = Math.ceil(x * L), G = Math.ceil(y * k); J >= z ? O = u : D = !0, ot >= G ? F = d : j = !0; const it = this.getSizeAndScale(O, this.ctx.canvas.width, L), nt = this.getSizeAndScale(F, this.ctx.canvas.height, k), ht = t.cachedCanvases.getCanvas("pattern", it.size, nt.size), U = ht.context, tt = c.createCanvasGraphics(U); if (tt.groupLevel = t.groupLevel, this.setFillAndStrokeStyleToContext(tt, r, o), U.translate(-it.scale * f, -nt.scale * p), tt.transform(it.scale, 0, 0, nt.scale, 0, 0), U.save(), this.clipBbox(tt, f, p, m, v), tt.baseTransform = gi(tt.ctx), tt.executeOperatorList(n), tt.endDrawing(), U.restore(), D || j) { const Q = ht.canvas; D && (O = u), j && (F = d); const pt = this.getSizeAndScale(O, this.ctx.canvas.width, L), Y = this.getSizeAndScale(F, this.ctx.canvas.height, k), ft = pt.size, I = Y.size, V = t.cachedCanvases.getCanvas("pattern-workaround", ft, I), Z = V.context, st = D ? Math.floor(x / u) : 0, at = j ? Math.floor(y / d) : 0; for (let ct = 0; ct <= st; ct++)for (let gt = 0; gt <= at; gt++)Z.drawImage(Q, ft * ct, I * gt, ft, I, 0, 0, ft, I); return { canvas: V.canvas, scaleX: pt.scale, scaleY: Y.scale, offsetX: f, offsetY: p } } return { canvas: ht.canvas, scaleX: it.scale, scaleY: nt.scale, offsetX: f, offsetY: p } } getSizeAndScale(t, e, n) { const r = Math.max(u2.MAX_PATTERN_SIZE, e); let s = Math.ceil(t * n); return s >= r ? s = r : n = s / t, { scale: n, size: s } } clipBbox(t, e, n, r, s) { const o = r - e, c = s - n; t.ctx.rect(e, n, o, c), ye.axialAlignedBoundingBox([e, n, r, s], gi(t.ctx), t.current.minMax), t.clip(), t.endPath() } setFillAndStrokeStyleToContext(t, e, n) { const r = t.ctx, s = t.current; switch (e) { case mS.COLORED: const { fillStyle: o, strokeStyle: c } = this.ctx; r.fillStyle = s.fillColor = o, r.strokeStyle = s.strokeColor = c; break; case mS.UNCOLORED: r.fillStyle = r.strokeStyle = n, s.fillColor = s.strokeColor = n; break; default: throw new rI(`Unsupported paint type: ${e}`) } } isModifyingCurrentTransform() { return !1 } getPattern(t, e, n, r) { let s = n; r !== Er.SHADING && (s = ye.transform(s, e.baseTransform), this.matrix && (s = ye.transform(s, this.matrix))); const o = this.createPatternCanvas(e); let c = new DOMMatrix(s); c = c.translate(o.offsetX, o.offsetY), c = c.scale(1 / o.scaleX, 1 / o.scaleY); const u = t.createPattern(o.canvas, "repeat"); return u.setTransform(c), u } } function DI({ src: i, srcPos: t = 0, dest: e, width: n, height: r, nonBlackColor: s = 4294967295, inverseDecode: o = !1 }) { const c = gr.isLittleEndian ? 4278190080 : 255, [u, d] = o ? [s, c] : [c, s], f = n >> 3, p = n & 7, m = i.length; e = new Uint32Array(e.buffer); let v = 0; for (let x = 0; x < r; x++) { for (const E = t + f; t < E; t++) { const A = t < m ? i[t] : 255; e[v++] = A & 128 ? d : u, e[v++] = A & 64 ? d : u, e[v++] = A & 32 ? d : u, e[v++] = A & 16 ? d : u, e[v++] = A & 8 ? d : u, e[v++] = A & 4 ? d : u, e[v++] = A & 2 ? d : u, e[v++] = A & 1 ? d : u } if (p === 0) continue; const y = t < m ? i[t++] : 255; for (let E = 0; E < p; E++)e[v++] = y & 1 << 7 - E ? d : u } return { srcPos: t, destPos: v } } const vS = 16, bS = 100, jI = 15, yS = 10, gs = 16, k1 = new DOMMatrix, Is = new Float32Array(2), md = new Float32Array([1 / 0, 1 / 0, -1 / 0, -1 / 0]); function II(i, t) { if (i._removeMirroring) throw new Error("Context is already forwarding operations."); i.__originalSave = i.save, i.__originalRestore = i.restore, i.__originalRotate = i.rotate, i.__originalScale = i.scale, i.__originalTranslate = i.translate, i.__originalTransform = i.transform, i.__originalSetTransform = i.setTransform, i.__originalResetTransform = i.resetTransform, i.__originalClip = i.clip, i.__originalMoveTo = i.moveTo, i.__originalLineTo = i.lineTo, i.__originalBezierCurveTo = i.bezierCurveTo, i.__originalRect = i.rect, i.__originalClosePath = i.closePath, i.__originalBeginPath = i.beginPath, i._removeMirroring = () => { i.save = i.__originalSave, i.restore = i.__originalRestore, i.rotate = i.__originalRotate, i.scale = i.__originalScale, i.translate = i.__originalTranslate, i.transform = i.__originalTransform, i.setTransform = i.__originalSetTransform, i.resetTransform = i.__originalResetTransform, i.clip = i.__originalClip, i.moveTo = i.__originalMoveTo, i.lineTo = i.__originalLineTo, i.bezierCurveTo = i.__originalBezierCurveTo, i.rect = i.__originalRect, i.closePath = i.__originalClosePath, i.beginPath = i.__originalBeginPath, delete i._removeMirroring }, i.save = function () { t.save(), this.__originalSave() }, i.restore = function () { t.restore(), this.__originalRestore() }, i.translate = function (e, n) { t.translate(e, n), this.__originalTranslate(e, n) }, i.scale = function (e, n) { t.scale(e, n), this.__originalScale(e, n) }, i.transform = function (e, n, r, s, o, c) { t.transform(e, n, r, s, o, c), this.__originalTransform(e, n, r, s, o, c) }, i.setTransform = function (e, n, r, s, o, c) { t.setTransform(e, n, r, s, o, c), this.__originalSetTransform(e, n, r, s, o, c) }, i.resetTransform = function () { t.resetTransform(), this.__originalResetTransform() }, i.rotate = function (e) { t.rotate(e), this.__originalRotate(e) }, i.clip = function (e) { t.clip(e), this.__originalClip(e) }, i.moveTo = function (e, n) { t.moveTo(e, n), this.__originalMoveTo(e, n) }, i.lineTo = function (e, n) { t.lineTo(e, n), this.__originalLineTo(e, n) }, i.bezierCurveTo = function (e, n, r, s, o, c) { t.bezierCurveTo(e, n, r, s, o, c), this.__originalBezierCurveTo(e, n, r, s, o, c) }, i.rect = function (e, n, r, s) { t.rect(e, n, r, s), this.__originalRect(e, n, r, s) }, i.closePath = function () { t.closePath(), this.__originalClosePath() }, i.beginPath = function () { t.beginPath(), this.__originalBeginPath() } } class FI { constructor(t) { this.canvasFactory = t, this.cache = Object.create(null) } getCanvas(t, e, n) { let r; return this.cache[t] !== void 0 ? (r = this.cache[t], this.canvasFactory.reset(r, e, n)) : (r = this.canvasFactory.create(e, n), this.cache[t] = r), r } delete(t) { delete this.cache[t] } clear() { for (const t in this.cache) { const e = this.cache[t]; this.canvasFactory.destroy(e), delete this.cache[t] } } } function bm(i, t, e, n, r, s, o, c, u, d) { const [f, p, m, v, x, y] = gi(i); if (p === 0 && m === 0) { const T = o * f + x, L = Math.round(T), k = c * v + y, O = Math.round(k), F = (o + u) * f + x, D = Math.abs(Math.round(F) - L) || 1, j = (c + d) * v + y, J = Math.abs(Math.round(j) - O) || 1; return i.setTransform(Math.sign(f), 0, 0, Math.sign(v), L, O), i.drawImage(t, e, n, r, s, 0, 0, D, J), i.setTransform(f, p, m, v, x, y), [D, J] } if (f === 0 && v === 0) { const T = c * m + x, L = Math.round(T), k = o * p + y, O = Math.round(k), F = (c + d) * m + x, D = Math.abs(Math.round(F) - L) || 1, j = (o + u) * p + y, J = Math.abs(Math.round(j) - O) || 1; return i.setTransform(0, Math.sign(p), Math.sign(m), 0, L, O), i.drawImage(t, e, n, r, s, 0, 0, J, D), i.setTransform(f, p, m, v, x, y), [J, D] } i.drawImage(t, e, n, r, s, o, c, u, d); const E = Math.hypot(f, p), A = Math.hypot(m, v); return [E * u, A * d] } class wS { alphaIsShape = !1; fontSize = 0; fontSizeScale = 1; textMatrix = null; textMatrixScale = 1; fontMatrix = kb; leading = 0; x = 0; y = 0; lineX = 0; lineY = 0; charSpacing = 0; wordSpacing = 0; textHScale = 1; textRenderingMode = Br.FILL; textRise = 0; fillColor = "#000000"; strokeColor = "#000000"; patternFill = !1; patternStroke = !1; fillAlpha = 1; strokeAlpha = 1; lineWidth = 1; activeSMask = null; transferMaps = "none"; constructor(t, e) { this.clipBox = new Float32Array([0, 0, t, e]), this.minMax = md.slice() } clone() { const t = Object.create(this); return t.clipBox = this.clipBox.slice(), t.minMax = this.minMax.slice(), t } getPathBoundingBox(t = Er.FILL, e = null) { const n = this.minMax.slice(); if (t === Er.STROKE) { e || jn("Stroke bounding box must include transform."), ye.singularValueDecompose2dScale(e, Is); const r = Is[0] * this.lineWidth / 2, s = Is[1] * this.lineWidth / 2; n[0] -= r, n[1] -= s, n[2] += r, n[3] += s } return n } updateClipFromPath() { const t = ye.intersect(this.clipBox, this.getPathBoundingBox()); this.startNewPathAndClipBox(t || [0, 0, 0, 0]) } isEmptyClip() { return this.minMax[0] === 1 / 0 } startNewPathAndClipBox(t) { this.clipBox.set(t, 0), this.minMax.set(md, 0) } getClippedPathBoundingBox(t = Er.FILL, e = null) { return ye.intersect(this.clipBox, this.getPathBoundingBox(t, e)) } } function xS(i, t) { if (t instanceof ImageData) { i.putImageData(t, 0, 0); return } const e = t.height, n = t.width, r = e % gs, s = (e - r) / gs, o = r === 0 ? s : s + 1, c = i.createImageData(n, gs); let u = 0, d; const f = t.data, p = c.data; let m, v, x, y; if (t.kind === up.GRAYSCALE_1BPP) { const E = f.byteLength, A = new Uint32Array(p.buffer, 0, p.byteLength >> 2), T = A.length, L = n + 7 >> 3, k = 4294967295, O = gr.isLittleEndian ? 4278190080 : 255; for (m = 0; m < o; m++) { for (x = m < s ? gs : r, d = 0, v = 0; v < x; v++) { const F = E - u; let D = 0; const j = F > L ? n : F * 8 - 7, J = j & -8; let ot = 0, z = 0; for (; D < J; D += 8)z = f[u++], A[d++] = z & 128 ? k : O, A[d++] = z & 64 ? k : O, A[d++] = z & 32 ? k : O, A[d++] = z & 16 ? k : O, A[d++] = z & 8 ? k : O, A[d++] = z & 4 ? k : O, A[d++] = z & 2 ? k : O, A[d++] = z & 1 ? k : O; for (; D < j; D++)ot === 0 && (z = f[u++], ot = 128), A[d++] = z & ot ? k : O, ot >>= 1 } for (; d < T;)A[d++] = 0; i.putImageData(c, 0, m * gs) } } else if (t.kind === up.RGBA_32BPP) { for (v = 0, y = n * gs * 4, m = 0; m < s; m++)p.set(f.subarray(u, u + y)), u += y, i.putImageData(c, 0, v), v += gs; m < o && (y = n * r * 4, p.set(f.subarray(u, u + y)), i.putImageData(c, 0, v)) } else if (t.kind === up.RGB_24BPP) for (x = gs, y = n * x, m = 0; m < o; m++) { for (m >= s && (x = r, y = n * x), d = 0, v = y; v--;)p[d++] = f[u++], p[d++] = f[u++], p[d++] = f[u++], p[d++] = 255; i.putImageData(c, 0, m * gs) } else throw new Error(`bad image kind: ${t.kind}`) } function SS(i, t) { if (t.bitmap) { i.drawImage(t.bitmap, 0, 0); return } const e = t.height, n = t.width, r = e % gs, s = (e - r) / gs, o = r === 0 ? s : s + 1, c = i.createImageData(n, gs); let u = 0; const d = t.data, f = c.data; for (let p = 0; p < o; p++) { const m = p < s ? gs : r; ({ srcPos: u } = DI({ src: d, srcPos: u, dest: f, width: n, height: m, nonBlackColor: 0 })), i.putImageData(c, 0, p * gs) } } function Jf(i, t) { const e = ["strokeStyle", "fillStyle", "fillRule", "globalAlpha", "lineWidth", "lineCap", "lineJoin", "miterLimit", "globalCompositeOperation", "font", "filter"]; for (const n of e) i[n] !== void 0 && (t[n] = i[n]); i.setLineDash !== void 0 && (t.setLineDash(i.getLineDash()), t.lineDashOffset = i.lineDashOffset) } function ym(i) { i.strokeStyle = i.fillStyle = "#000000", i.fillRule = "nonzero", i.globalAlpha = 1, i.lineWidth = 1, i.lineCap = "butt", i.lineJoin = "miter", i.miterLimit = 10, i.globalCompositeOperation = "source-over", i.font = "10px sans-serif", i.setLineDash !== void 0 && (i.setLineDash([]), i.lineDashOffset = 0); const { filter: t } = i; t !== "none" && t !== "" && (i.filter = "none") } function AS(i, t) { if (t) return !0; ye.singularValueDecompose2dScale(i, Is); const e = Math.fround(Ga.pixelRatio * uh.PDF_TO_CSS_UNITS); return Is[0] <= e && Is[1] <= e } const BI = ["butt", "round", "square"], zI = ["miter", "round", "bevel"], UI = {}, ES = {}; class Ad { constructor(t, e, n, r, s, { optionalContentConfig: o, markedContentStack: c = null }, u, d) { this.ctx = t, this.current = new wS(this.ctx.canvas.width, this.ctx.canvas.height), this.stateStack = [], this.pendingClip = null, this.pendingEOFill = !1, this.res = null, this.xobjs = null, this.commonObjs = e, this.objs = n, this.canvasFactory = r, this.filterFactory = s, this.groupStack = [], this.baseTransform = null, this.baseTransformStack = [], this.groupLevel = 0, this.smaskStack = [], this.smaskCounter = 0, this.tempSMask = null, this.suspendedCtx = null, this.contentVisible = !0, this.markedContentStack = c || [], this.optionalContentConfig = o, this.cachedCanvases = new FI(this.canvasFactory), this.cachedPatterns = new Map, this.annotationCanvasMap = u, this.viewportScale = 1, this.outputScaleX = 1, this.outputScaleY = 1, this.pageColors = d, this._cachedScaleForStroking = [-1, 0], this._cachedGetSinglePixelWidth = null, this._cachedBitmapsMap = new Map } getObject(t, e = null) { return typeof t == "string" ? t.startsWith("g_") ? this.commonObjs.get(t) : this.objs.get(t) : e } beginDrawing({ transform: t, viewport: e, transparency: n = !1, background: r = null }) { const s = this.ctx.canvas.width, o = this.ctx.canvas.height, c = this.ctx.fillStyle; if (this.ctx.fillStyle = r || "#ffffff", this.ctx.fillRect(0, 0, s, o), this.ctx.fillStyle = c, n) { const u = this.cachedCanvases.getCanvas("transparent", s, o); this.compositeCtx = this.ctx, this.transparentCanvas = u.canvas, this.ctx = u.context, this.ctx.save(), this.ctx.transform(...gi(this.compositeCtx)) } this.ctx.save(), ym(this.ctx), t && (this.ctx.transform(...t), this.outputScaleX = t[0], this.outputScaleY = t[0]), this.ctx.transform(...e.transform), this.viewportScale = e.scale, this.baseTransform = gi(this.ctx) } executeOperatorList(t, e, n, r) { const s = t.argsArray, o = t.fnArray; let c = e || 0; const u = s.length; if (u === c) return c; const d = u - c > yS && typeof n == "function", f = d ? Date.now() + jI : 0; let p = 0; const m = this.commonObjs, v = this.objs; let x; for (; ;) { if (r !== void 0 && c === r.nextBreakPoint) return r.breakIt(c, n), c; if (x = o[c], x !== xp.dependency) this[x].apply(this, s[c]); else for (const y of s[c]) { const E = y.startsWith("g_") ? m : v; if (!E.has(y)) return E.get(y, n), c } if (c++, c === u) return c; if (d && ++p > yS) { if (Date.now() > f) return n(), c; p = 0 } } } #t() { for (; this.stateStack.length || this.inSMaskMode;)this.restore(); this.current.activeSMask = null, this.ctx.restore(), this.transparentCanvas && (this.ctx = this.compositeCtx, this.ctx.save(), this.ctx.setTransform(1, 0, 0, 1, 0, 0), this.ctx.drawImage(this.transparentCanvas, 0, 0), this.ctx.restore(), this.transparentCanvas = null) } endDrawing() { this.#t(), this.cachedCanvases.clear(), this.cachedPatterns.clear(); for (const t of this._cachedBitmapsMap.values()) { for (const e of t.values()) typeof HTMLCanvasElement < "u" && e instanceof HTMLCanvasElement && (e.width = e.height = 0); t.clear() } this._cachedBitmapsMap.clear(), this.#e() } #e() { if (this.pageColors) { const t = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background); if (t !== "none") { const e = this.ctx.filter; this.ctx.filter = t, this.ctx.drawImage(this.ctx.canvas, 0, 0), this.ctx.filter = e } } } _scaleImage(t, e) { const n = t.width ?? t.displayWidth, r = t.height ?? t.displayHeight; let s = Math.max(Math.hypot(e[0], e[1]), 1), o = Math.max(Math.hypot(e[2], e[3]), 1), c = n, u = r, d = "prescale1", f, p; for (; s > 2 && c > 1 || o > 2 && u > 1;) { let m = c, v = u; s > 2 && c > 1 && (m = c >= 16384 ? Math.floor(c / 2) - 1 || 1 : Math.ceil(c / 2), s /= c / m), o > 2 && u > 1 && (v = u >= 16384 ? Math.floor(u / 2) - 1 || 1 : Math.ceil(u) / 2, o /= u / v), f = this.cachedCanvases.getCanvas(d, m, v), p = f.context, p.clearRect(0, 0, m, v), p.drawImage(t, 0, 0, c, u, 0, 0, m, v), t = f.canvas, c = m, u = v, d = d === "prescale1" ? "prescale2" : "prescale1" } return { img: t, paintWidth: c, paintHeight: u } } _createMaskCanvas(t) { const e = this.ctx, { width: n, height: r } = t, s = this.current.fillColor, o = this.current.patternFill, c = gi(e); let u, d, f, p; if ((t.bitmap || t.data) && t.count > 1) { const J = t.bitmap || t.data.buffer; d = JSON.stringify(o ? c : [c.slice(0, 4), s]), u = this._cachedBitmapsMap.get(J), u || (u = new Map, this._cachedBitmapsMap.set(J, u)); const ot = u.get(d); if (ot && !o) { const z = Math.round(Math.min(c[0], c[2]) + c[4]), G = Math.round(Math.min(c[1], c[3]) + c[5]); return { canvas: ot, offsetX: z, offsetY: G } } f = ot } f || (p = this.cachedCanvases.getCanvas("maskCanvas", n, r), SS(p.context, t)); let m = ye.transform(c, [1 / n, 0, 0, -1 / r, 0, 0]); m = ye.transform(m, [1, 0, 0, 1, 0, -r]); const v = md.slice(); ye.axialAlignedBoundingBox([0, 0, n, r], m, v); const [x, y, E, A] = v, T = Math.round(E - x) || 1, L = Math.round(A - y) || 1, k = this.cachedCanvases.getCanvas("fillCanvas", T, L), O = k.context, F = x, D = y; O.translate(-F, -D), O.transform(...m), f || (f = this._scaleImage(p.canvas, Do(O)), f = f.img, u && o && u.set(d, f)), O.imageSmoothingEnabled = AS(gi(O), t.interpolate), bm(O, f, 0, 0, f.width, f.height, 0, 0, n, r), O.globalCompositeOperation = "source-in"; const j = ye.transform(Do(O), [1, 0, 0, 1, -F, -D]); return O.fillStyle = o ? s.getPattern(e, this, j, Er.FILL) : s, O.fillRect(0, 0, n, r), u && !o && (this.cachedCanvases.delete("fillCanvas"), u.set(d, k.canvas)), { canvas: k.canvas, offsetX: Math.round(F), offsetY: Math.round(D) } } setLineWidth(t) { t !== this.current.lineWidth && (this._cachedScaleForStroking[0] = -1), this.current.lineWidth = t, this.ctx.lineWidth = t } setLineCap(t) { this.ctx.lineCap = BI[t] } setLineJoin(t) { this.ctx.lineJoin = zI[t] } setMiterLimit(t) { this.ctx.miterLimit = t } setDash(t, e) { const n = this.ctx; n.setLineDash !== void 0 && (n.setLineDash(t), n.lineDashOffset = e) } setRenderingIntent(t) { } setFlatness(t) { } setGState(t) { for (const [e, n] of t) switch (e) { case "LW": this.setLineWidth(n); break; case "LC": this.setLineCap(n); break; case "LJ": this.setLineJoin(n); break; case "ML": this.setMiterLimit(n); break; case "D": this.setDash(n[0], n[1]); break; case "RI": this.setRenderingIntent(n); break; case "FL": this.setFlatness(n); break; case "Font": this.setFont(n[0], n[1]); break; case "CA": this.current.strokeAlpha = n; break; case "ca": this.ctx.globalAlpha = this.current.fillAlpha = n; break; case "BM": this.ctx.globalCompositeOperation = n; break; case "SMask": this.current.activeSMask = n ? this.tempSMask : null, this.tempSMask = null, this.checkSMaskState(); break; case "TR": this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(n); break } } get inSMaskMode() { return !!this.suspendedCtx } checkSMaskState() { const t = this.inSMaskMode; this.current.activeSMask && !t ? this.beginSMaskMode() : !this.current.activeSMask && t && this.endSMaskMode() } beginSMaskMode() { if (this.inSMaskMode) throw new Error("beginSMaskMode called while already in smask mode"); const t = this.ctx.canvas.width, e = this.ctx.canvas.height, n = "smaskGroupAt" + this.groupLevel, r = this.cachedCanvases.getCanvas(n, t, e); this.suspendedCtx = this.ctx; const s = this.ctx = r.context; s.setTransform(this.suspendedCtx.getTransform()), Jf(this.suspendedCtx, s), II(s, this.suspendedCtx), this.setGState([["BM", "source-over"]]) } endSMaskMode() { if (!this.inSMaskMode) throw new Error("endSMaskMode called while not in smask mode"); this.ctx._removeMirroring(), Jf(this.ctx, this.suspendedCtx), this.ctx = this.suspendedCtx, this.suspendedCtx = null } compose(t) { if (!this.current.activeSMask) return; t ? (t[0] = Math.floor(t[0]), t[1] = Math.floor(t[1]), t[2] = Math.ceil(t[2]), t[3] = Math.ceil(t[3])) : t = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height]; const e = this.current.activeSMask, n = this.suspendedCtx; this.composeSMask(n, e, this.ctx, t), this.ctx.save(), this.ctx.setTransform(1, 0, 0, 1, 0, 0), this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height), this.ctx.restore() } composeSMask(t, e, n, r) { const s = r[0], o = r[1], c = r[2] - s, u = r[3] - o; c === 0 || u === 0 || (this.genericComposeSMask(e.context, n, c, u, e.subtype, e.backdrop, e.transferMap, s, o, e.offsetX, e.offsetY), t.save(), t.globalAlpha = 1, t.globalCompositeOperation = "source-over", t.setTransform(1, 0, 0, 1, 0, 0), t.drawImage(n.canvas, 0, 0), t.restore()) } genericComposeSMask(t, e, n, r, s, o, c, u, d, f, p) { let m = t.canvas, v = u - f, x = d - p; if (o) if (v < 0 || x < 0 || v + n > m.width || x + r > m.height) { const E = this.cachedCanvases.getCanvas("maskExtension", n, r), A = E.context; A.drawImage(m, -v, -x), A.globalCompositeOperation = "destination-atop", A.fillStyle = o, A.fillRect(0, 0, n, r), A.globalCompositeOperation = "source-over", m = E.canvas, v = x = 0 } else { t.save(), t.globalAlpha = 1, t.setTransform(1, 0, 0, 1, 0, 0); const E = new Path2D; E.rect(v, x, n, r), t.clip(E), t.globalCompositeOperation = "destination-atop", t.fillStyle = o, t.fillRect(v, x, n, r), t.restore() } e.save(), e.globalAlpha = 1, e.setTransform(1, 0, 0, 1, 0, 0), s === "Alpha" && c ? e.filter = this.filterFactory.addAlphaFilter(c) : s === "Luminosity" && (e.filter = this.filterFactory.addLuminosityFilter(c)); const y = new Path2D; y.rect(u, d, n, r), e.clip(y), e.globalCompositeOperation = "destination-in", e.drawImage(m, v, x, n, r, u, d, n, r), e.restore() } save() { this.inSMaskMode && Jf(this.ctx, this.suspendedCtx), this.ctx.save(); const t = this.current; this.stateStack.push(t), this.current = t.clone() } restore() { if (this.stateStack.length === 0) { this.inSMaskMode && this.endSMaskMode(); return } this.current = this.stateStack.pop(), this.ctx.restore(), this.inSMaskMode && Jf(this.suspendedCtx, this.ctx), this.checkSMaskState(), this.pendingClip = null, this._cachedScaleForStroking[0] = -1, this._cachedGetSinglePixelWidth = null } transform(t, e, n, r, s, o) { this.ctx.transform(t, e, n, r, s, o), this._cachedScaleForStroking[0] = -1, this._cachedGetSinglePixelWidth = null } constructPath(t, e, n) { let [r] = e; if (!n) { r ||= e[0] = new Path2D, this[t](r); return } if (!(r instanceof Path2D)) { const s = e[0] = new Path2D; for (let o = 0, c = r.length; o < c;)switch (r[o++]) { case gm.moveTo: s.moveTo(r[o++], r[o++]); break; case gm.lineTo: s.lineTo(r[o++], r[o++]); break; case gm.curveTo: s.bezierCurveTo(r[o++], r[o++], r[o++], r[o++], r[o++], r[o++]); break; case gm.closePath: s.closePath(); break; default: He(`Unrecognized drawing path operator: ${r[o - 1]}`); break }r = s } ye.axialAlignedBoundingBox(n, gi(this.ctx), this.current.minMax), this[t](r) } closePath() { this.ctx.closePath() } stroke(t, e = !0) { const n = this.ctx, r = this.current.strokeColor; if (n.globalAlpha = this.current.strokeAlpha, this.contentVisible) if (typeof r == "object" && r?.getPattern) { const s = r.isModifyingCurrentTransform() ? n.getTransform() : null; if (n.save(), n.strokeStyle = r.getPattern(n, this, Do(n), Er.STROKE), s) { const o = new Path2D; o.addPath(t, n.getTransform().invertSelf().multiplySelf(s)), t = o } this.rescaleAndStroke(t, !1), n.restore() } else this.rescaleAndStroke(t, !0); e && this.consumePath(t, this.current.getClippedPathBoundingBox(Er.STROKE, gi(this.ctx))), n.globalAlpha = this.current.fillAlpha } closeStroke(t) { this.stroke(t) } fill(t, e = !0) { const n = this.ctx, r = this.current.fillColor, s = this.current.patternFill; let o = !1; if (s) { const u = r.isModifyingCurrentTransform() ? n.getTransform() : null; if (n.save(), n.fillStyle = r.getPattern(n, this, Do(n), Er.FILL), u) { const d = new Path2D; d.addPath(t, n.getTransform().invertSelf().multiplySelf(u)), t = d } o = !0 } const c = this.current.getClippedPathBoundingBox(); this.contentVisible && c !== null && (this.pendingEOFill ? (n.fill(t, "evenodd"), this.pendingEOFill = !1) : n.fill(t)), o && n.restore(), e && this.consumePath(t, c) } eoFill(t) { this.pendingEOFill = !0, this.fill(t) } fillStroke(t) { this.fill(t, !1), this.stroke(t, !1), this.consumePath(t) } eoFillStroke(t) { this.pendingEOFill = !0, this.fillStroke(t) } closeFillStroke(t) { this.fillStroke(t) } closeEOFillStroke(t) { this.pendingEOFill = !0, this.fillStroke(t) } endPath(t) { this.consumePath(t) } rawFillPath(t) { this.ctx.fill(t) } clip() { this.pendingClip = UI } eoClip() { this.pendingClip = ES } beginText() { this.current.textMatrix = null, this.current.textMatrixScale = 1, this.current.x = this.current.lineX = 0, this.current.y = this.current.lineY = 0 } endText() { const t = this.pendingTextPaths, e = this.ctx; if (t === void 0) return; const n = new Path2D, r = e.getTransform().invertSelf(); for (const { transform: s, x: o, y: c, fontSize: u, path: d } of t) n.addPath(d, new DOMMatrix(s).preMultiplySelf(r).translate(o, c).scale(u, -u)); e.clip(n), delete this.pendingTextPaths } setCharSpacing(t) { this.current.charSpacing = t } setWordSpacing(t) { this.current.wordSpacing = t } setHScale(t) { this.current.textHScale = t / 100 } setLeading(t) { this.current.leading = -t } setFont(t, e) { const n = this.commonObjs.get(t), r = this.current; if (!n) throw new Error(`Can't find font for ${t}`); if (r.fontMatrix = n.fontMatrix || kb, (r.fontMatrix[0] === 0 || r.fontMatrix[3] === 0) && He("Invalid font matrix for font " + t), e < 0 ? (e = -e, r.fontDirection = -1) : r.fontDirection = 1, this.current.font = n, this.current.fontSize = e, n.isType3Font) return; const s = n.loadedName || "sans-serif", o = n.systemFontInfo?.css || `"${s}", ${n.fallbackName}`; let c = "normal"; n.black ? c = "900" : n.bold && (c = "bold"); const u = n.italic ? "italic" : "normal"; let d = e; e < vS ? d = vS : e > bS && (d = bS), this.current.fontSizeScale = e / d, this.ctx.font = `${u} ${c} ${d}px ${o}` } setTextRenderingMode(t) { this.current.textRenderingMode = t } setTextRise(t) { this.current.textRise = t } moveText(t, e) { this.current.x = this.current.lineX += t, this.current.y = this.current.lineY += e } setLeadingMoveText(t, e) { this.setLeading(-e), this.moveText(t, e) } setTextMatrix(t) { const { current: e } = this; e.textMatrix = t, e.textMatrixScale = Math.hypot(t[0], t[1]), e.x = e.lineX = 0, e.y = e.lineY = 0 } nextLine() { this.moveText(0, this.current.leading) } #n(t, e, n) { const r = new Path2D; return r.addPath(t, new DOMMatrix(n).invertSelf().multiplySelf(e)), r } paintChar(t, e, n, r, s) { const o = this.ctx, c = this.current, u = c.font, d = c.textRenderingMode, f = c.fontSize / c.fontSizeScale, p = d & Br.FILL_STROKE_MASK, m = !!(d & Br.ADD_TO_PATH_FLAG), v = c.patternFill && !u.missingFile, x = c.patternStroke && !u.missingFile; let y; if ((u.disableFontFace || m || v || x) && (y = u.getPathGenerator(this.commonObjs, t)), u.disableFontFace || v || x) { o.save(), o.translate(e, n), o.scale(f, -f); let E; if ((p === Br.FILL || p === Br.FILL_STROKE) && (r ? (E = o.getTransform(), o.setTransform(...r), o.fill(this.#n(y, E, r))) : o.fill(y)), p === Br.STROKE || p === Br.FILL_STROKE) if (s) { E ||= o.getTransform(), o.setTransform(...s); const { a: A, b: T, c: L, d: k } = E, O = ye.inverseTransform(s), F = ye.transform([A, T, L, k, 0, 0], O); ye.singularValueDecompose2dScale(F, Is), o.lineWidth *= Math.max(Is[0], Is[1]) / f, o.stroke(this.#n(y, E, s)) } else o.lineWidth /= f, o.stroke(y); o.restore() } else (p === Br.FILL || p === Br.FILL_STROKE) && o.fillText(t, e, n), (p === Br.STROKE || p === Br.FILL_STROKE) && o.strokeText(t, e, n); m && (this.pendingTextPaths ||= []).push({ transform: gi(o), x: e, y: n, fontSize: f, path: y }) } get isFontSubpixelAAEnabled() { const { context: t } = this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled", 10, 10); t.scale(1.5, 1), t.fillText("I", 0, 10); const e = t.getImageData(0, 0, 10, 10).data; let n = !1; for (let r = 3; r < e.length; r += 4)if (e[r] > 0 && e[r] < 255) { n = !0; break } return sn(this, "isFontSubpixelAAEnabled", n) } showText(t) { const e = this.current, n = e.font; if (n.isType3Font) return this.showType3Text(t); const r = e.fontSize; if (r === 0) return; const s = this.ctx, o = e.fontSizeScale, c = e.charSpacing, u = e.wordSpacing, d = e.fontDirection, f = e.textHScale * d, p = t.length, m = n.vertical, v = m ? 1 : -1, x = n.defaultVMetrics, y = r * e.fontMatrix[0], E = e.textRenderingMode === Br.FILL && !n.disableFontFace && !e.patternFill; s.save(), e.textMatrix && s.transform(...e.textMatrix), s.translate(e.x, e.y + e.textRise), d > 0 ? s.scale(f, -1) : s.scale(f, 1); let A, T; if (e.patternFill) { s.save(); const D = e.fillColor.getPattern(s, this, Do(s), Er.FILL); A = gi(s), s.restore(), s.fillStyle = D } if (e.patternStroke) { s.save(); const D = e.strokeColor.getPattern(s, this, Do(s), Er.STROKE); T = gi(s), s.restore(), s.strokeStyle = D } let L = e.lineWidth; const k = e.textMatrixScale; if (k === 0 || L === 0) { const D = e.textRenderingMode & Br.FILL_STROKE_MASK; (D === Br.STROKE || D === Br.FILL_STROKE) && (L = this.getSinglePixelWidth()) } else L /= k; if (o !== 1 && (s.scale(o, o), L /= o), s.lineWidth = L, n.isInvalidPDFjsFont) { const D = []; let j = 0; for (const J of t) D.push(J.unicode), j += J.width; s.fillText(D.join(""), 0, 0), e.x += j * y * f, s.restore(), this.compose(); return } let O = 0, F; for (F = 0; F < p; ++F) { const D = t[F]; if (typeof D == "number") { O += v * D * r / 1e3; continue } let j = !1; const J = (D.isSpace ? u : 0) + c, ot = D.fontChar, z = D.accent; let G, it, nt = D.width; if (m) { const U = D.vmetric || x, tt = -(D.vmetric ? U[1] : nt * .5) * y, Q = U[2] * y; nt = U ? -U[0] : nt, G = tt / o, it = (O + Q) / o } else G = O / o, it = 0; if (n.remeasure && nt > 0) { const U = s.measureText(ot).width * 1e3 / r * o; if (nt < U && this.isFontSubpixelAAEnabled) { const tt = nt / U; j = !0, s.save(), s.scale(tt, 1), G /= tt } else nt !== U && (G += (nt - U) / 2e3 * r / o) } if (this.contentVisible && (D.isInFont || n.missingFile)) { if (E && !z) s.fillText(ot, G, it); else if (this.paintChar(ot, G, it, A, T), z) { const U = G + r * z.offset.x / o, tt = it - r * z.offset.y / o; this.paintChar(z.fontChar, U, tt, A, T) } } const ht = m ? nt * y - J * d : nt * y + J * d; O += ht, j && s.restore() } m ? e.y -= O : e.x += O * f, s.restore(), this.compose() } showType3Text(t) { const e = this.ctx, n = this.current, r = n.font, s = n.fontSize, o = n.fontDirection, c = r.vertical ? 1 : -1, u = n.charSpacing, d = n.wordSpacing, f = n.textHScale * o, p = n.fontMatrix || kb, m = t.length, v = n.textRenderingMode === Br.INVISIBLE; let x, y, E, A; if (!(v || s === 0)) { for (this._cachedScaleForStroking[0] = -1, this._cachedGetSinglePixelWidth = null, e.save(), n.textMatrix && e.transform(...n.textMatrix), e.translate(n.x, n.y + n.textRise), e.scale(f, o), x = 0; x < m; ++x) { if (y = t[x], typeof y == "number") { A = c * y * s / 1e3, this.ctx.translate(A, 0), n.x += A * f; continue } const T = (y.isSpace ? d : 0) + u, L = r.charProcOperatorList[y.operatorListId]; L ? this.contentVisible && (this.save(), e.scale(s, s), e.transform(...p), this.executeOperatorList(L), this.restore()) : He(`Type3 character "${y.operatorListId}" is not available.`); const k = [y.width, 0]; ye.applyTransform(k, p), E = k[0] * s + T, e.translate(E, 0), n.x += E * f } e.restore() } } setCharWidth(t, e) { } setCharWidthAndBounds(t, e, n, r, s, o) { const c = new Path2D; c.rect(n, r, s - n, o - r), this.ctx.clip(c), this.endPath() } getColorN_Pattern(t) { let e; if (t[0] === "TilingPattern") { const n = this.baseTransform || gi(this.ctx), r = { createCanvasGraphics: s => new Ad(s, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, { optionalContentConfig: this.optionalContentConfig, markedContentStack: this.markedContentStack }) }; e = new u2(t, this.ctx, r, n) } else e = this._getPattern(t[1], t[2]); return e } setStrokeColorN() { this.current.strokeColor = this.getColorN_Pattern(arguments), this.current.patternStroke = !0 } setFillColorN() { this.current.fillColor = this.getColorN_Pattern(arguments), this.current.patternFill = !0 } setStrokeRGBColor(t) { this.ctx.strokeStyle = this.current.strokeColor = t, this.current.patternStroke = !1 } setStrokeTransparent() { this.ctx.strokeStyle = this.current.strokeColor = "transparent", this.current.patternStroke = !1 } setFillRGBColor(t) { this.ctx.fillStyle = this.current.fillColor = t, this.current.patternFill = !1 } setFillTransparent() { this.ctx.fillStyle = this.current.fillColor = "transparent", this.current.patternFill = !1 } _getPattern(t, e = null) { let n; return this.cachedPatterns.has(t) ? n = this.cachedPatterns.get(t) : (n = kI(this.getObject(t)), this.cachedPatterns.set(t, n)), e && (n.matrix = e), n } shadingFill(t) { if (!this.contentVisible) return; const e = this.ctx; this.save(); const n = this._getPattern(t); e.fillStyle = n.getPattern(e, this, Do(e), Er.SHADING); const r = Do(e); if (r) { const { width: s, height: o } = e.canvas, c = md.slice(); ye.axialAlignedBoundingBox([0, 0, s, o], r, c); const [u, d, f, p] = c; this.ctx.fillRect(u, d, f - u, p - d) } else this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10); this.compose(this.current.getClippedPathBoundingBox()), this.restore() } beginInlineImage() { jn("Should not call beginInlineImage") } beginImageData() { jn("Should not call beginImageData") } paintFormXObjectBegin(t, e) { if (this.contentVisible && (this.save(), this.baseTransformStack.push(this.baseTransform), t && this.transform(...t), this.baseTransform = gi(this.ctx), e)) { ye.axialAlignedBoundingBox(e, this.baseTransform, this.current.minMax); const [n, r, s, o] = e, c = new Path2D; c.rect(n, r, s - n, o - r), this.ctx.clip(c), this.endPath() } } paintFormXObjectEnd() { this.contentVisible && (this.restore(), this.baseTransform = this.baseTransformStack.pop()) } beginGroup(t) { if (!this.contentVisible) return; this.save(), this.inSMaskMode && (this.endSMaskMode(), this.current.activeSMask = null); const e = this.ctx; t.isolated || D0("TODO: Support non-isolated groups."), t.knockout && He("Knockout groups not supported."); const n = gi(e); if (t.matrix && e.transform(...t.matrix), !t.bbox) throw new Error("Bounding box is required."); let r = md.slice(); ye.axialAlignedBoundingBox(t.bbox, gi(e), r); const s = [0, 0, e.canvas.width, e.canvas.height]; r = ye.intersect(r, s) || [0, 0, 0, 0]; const o = Math.floor(r[0]), c = Math.floor(r[1]), u = Math.max(Math.ceil(r[2]) - o, 1), d = Math.max(Math.ceil(r[3]) - c, 1); this.current.startNewPathAndClipBox([0, 0, u, d]); let f = "groupAt" + this.groupLevel; t.smask && (f += "_smask_" + this.smaskCounter++ % 2); const p = this.cachedCanvases.getCanvas(f, u, d), m = p.context; m.translate(-o, -c), m.transform(...n); let v = new Path2D; const [x, y, E, A] = t.bbox; if (v.rect(x, y, E - x, A - y), t.matrix) { const T = new Path2D; T.addPath(v, new DOMMatrix(t.matrix)), v = T } m.clip(v), t.smask ? this.smaskStack.push({ canvas: p.canvas, context: m, offsetX: o, offsetY: c, subtype: t.smask.subtype, backdrop: t.smask.backdrop, transferMap: t.smask.transferMap || null, startTransformInverse: null }) : (e.setTransform(1, 0, 0, 1, 0, 0), e.translate(o, c), e.save()), Jf(e, m), this.ctx = m, this.setGState([["BM", "source-over"], ["ca", 1], ["CA", 1]]), this.groupStack.push(e), this.groupLevel++ } endGroup(t) { if (!this.contentVisible) return; this.groupLevel--; const e = this.ctx, n = this.groupStack.pop(); if (this.ctx = n, this.ctx.imageSmoothingEnabled = !1, t.smask) this.tempSMask = this.smaskStack.pop(), this.restore(); else { this.ctx.restore(); const r = gi(this.ctx); this.restore(), this.ctx.save(), this.ctx.setTransform(...r); const s = md.slice(); ye.axialAlignedBoundingBox([0, 0, e.canvas.width, e.canvas.height], r, s), this.ctx.drawImage(e.canvas, 0, 0), this.ctx.restore(), this.compose(s) } } beginAnnotation(t, e, n, r, s) { if (this.#t(), ym(this.ctx), this.ctx.save(), this.save(), this.baseTransform && this.ctx.setTransform(...this.baseTransform), e) { const o = e[2] - e[0], c = e[3] - e[1]; if (s && this.annotationCanvasMap) { n = n.slice(), n[4] -= e[0], n[5] -= e[1], e = e.slice(), e[0] = e[1] = 0, e[2] = o, e[3] = c, ye.singularValueDecompose2dScale(gi(this.ctx), Is); const { viewportScale: u } = this, d = Math.ceil(o * this.outputScaleX * u), f = Math.ceil(c * this.outputScaleY * u); this.annotationCanvas = this.canvasFactory.create(d, f); const { canvas: p, context: m } = this.annotationCanvas; this.annotationCanvasMap.set(t, p), this.annotationCanvas.savedCtx = this.ctx, this.ctx = m, this.ctx.save(), this.ctx.setTransform(Is[0], 0, 0, -Is[1], 0, c * Is[1]), ym(this.ctx) } else { ym(this.ctx), this.endPath(); const u = new Path2D; u.rect(e[0], e[1], o, c), this.ctx.clip(u) } } this.current = new wS(this.ctx.canvas.width, this.ctx.canvas.height), this.transform(...n), this.transform(...r) } endAnnotation() { this.annotationCanvas && (this.ctx.restore(), this.#e(), this.ctx = this.annotationCanvas.savedCtx, delete this.annotationCanvas.savedCtx, delete this.annotationCanvas) } paintImageMaskXObject(t) { if (!this.contentVisible) return; const e = t.count; t = this.getObject(t.data, t), t.count = e; const n = this.ctx, r = this._createMaskCanvas(t), s = r.canvas; n.save(), n.setTransform(1, 0, 0, 1, 0, 0), n.drawImage(s, r.offsetX, r.offsetY), n.restore(), this.compose() } paintImageMaskXObjectRepeat(t, e, n = 0, r = 0, s, o) { if (!this.contentVisible) return; t = this.getObject(t.data, t); const c = this.ctx; c.save(); const u = gi(c); c.transform(e, n, r, s, 0, 0); const d = this._createMaskCanvas(t); c.setTransform(1, 0, 0, 1, d.offsetX - u[4], d.offsetY - u[5]); for (let f = 0, p = o.length; f < p; f += 2) { const m = ye.transform(u, [e, n, r, s, o[f], o[f + 1]]); c.drawImage(d.canvas, m[4], m[5]) } c.restore(), this.compose() } paintImageMaskXObjectGroup(t) { if (!this.contentVisible) return; const e = this.ctx, n = this.current.fillColor, r = this.current.patternFill; for (const s of t) { const { data: o, width: c, height: u, transform: d } = s, f = this.cachedCanvases.getCanvas("maskCanvas", c, u), p = f.context; p.save(); const m = this.getObject(o, s); SS(p, m), p.globalCompositeOperation = "source-in", p.fillStyle = r ? n.getPattern(p, this, Do(e), Er.FILL) : n, p.fillRect(0, 0, c, u), p.restore(), e.save(), e.transform(...d), e.scale(1, -1), bm(e, f.canvas, 0, 0, c, u, 0, -1, 1, 1), e.restore() } this.compose() } paintImageXObject(t) { if (!this.contentVisible) return; const e = this.getObject(t); if (!e) { He("Dependent image isn't ready yet"); return } this.paintInlineImageXObject(e) } paintImageXObjectRepeat(t, e, n, r) { if (!this.contentVisible) return; const s = this.getObject(t); if (!s) { He("Dependent image isn't ready yet"); return } const o = s.width, c = s.height, u = []; for (let d = 0, f = r.length; d < f; d += 2)u.push({ transform: [e, 0, 0, n, r[d], r[d + 1]], x: 0, y: 0, w: o, h: c }); this.paintInlineImageXObjectGroup(s, u) } applyTransferMapsToCanvas(t) { return this.current.transferMaps !== "none" && (t.filter = this.current.transferMaps, t.drawImage(t.canvas, 0, 0), t.filter = "none"), t.canvas } applyTransferMapsToBitmap(t) { if (this.current.transferMaps === "none") return t.bitmap; const { bitmap: e, width: n, height: r } = t, s = this.cachedCanvases.getCanvas("inlineImage", n, r), o = s.context; return o.filter = this.current.transferMaps, o.drawImage(e, 0, 0), o.filter = "none", s.canvas } paintInlineImageXObject(t) { if (!this.contentVisible) return; const e = t.width, n = t.height, r = this.ctx; this.save(); const { filter: s } = r; s !== "none" && s !== "" && (r.filter = "none"), r.scale(1 / e, -1 / n); let o; if (t.bitmap) o = this.applyTransferMapsToBitmap(t); else if (typeof HTMLElement == "function" && t instanceof HTMLElement || !t.data) o = t; else { const d = this.cachedCanvases.getCanvas("inlineImage", e, n).context; xS(d, t), o = this.applyTransferMapsToCanvas(d) } const c = this._scaleImage(o, Do(r)); r.imageSmoothingEnabled = AS(gi(r), t.interpolate), bm(r, c.img, 0, 0, c.paintWidth, c.paintHeight, 0, -n, e, n), this.compose(), this.restore() } paintInlineImageXObjectGroup(t, e) { if (!this.contentVisible) return; const n = this.ctx; let r; if (t.bitmap) r = t.bitmap; else { const s = t.width, o = t.height, u = this.cachedCanvases.getCanvas("inlineImage", s, o).context; xS(u, t), r = this.applyTransferMapsToCanvas(u) } for (const s of e) n.save(), n.transform(...s.transform), n.scale(1, -1), bm(n, r, s.x, s.y, s.w, s.h, 0, -1, 1, 1), n.restore(); this.compose() } paintSolidColorImageMask() { this.contentVisible && (this.ctx.fillRect(0, 0, 1, 1), this.compose()) } markPoint(t) { } markPointProps(t, e) { } beginMarkedContent(t) { this.markedContentStack.push({ visible: !0 }) } beginMarkedContentProps(t, e) { t === "OC" ? this.markedContentStack.push({ visible: this.optionalContentConfig.isVisible(e) }) : this.markedContentStack.push({ visible: !0 }), this.contentVisible = this.isContentVisible() } endMarkedContent() { this.markedContentStack.pop(), this.contentVisible = this.isContentVisible() } beginCompat() { } endCompat() { } consumePath(t, e) { const n = this.current.isEmptyClip(); this.pendingClip && this.current.updateClipFromPath(), this.pendingClip || this.compose(e); const r = this.ctx; this.pendingClip && (n || (this.pendingClip === ES ? r.clip(t, "evenodd") : r.clip(t)), this.pendingClip = null), this.current.startNewPathAndClipBox(this.current.clipBox) } getSinglePixelWidth() { if (!this._cachedGetSinglePixelWidth) { const t = gi(this.ctx); if (t[1] === 0 && t[2] === 0) this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(t[0]), Math.abs(t[3])); else { const e = Math.abs(t[0] * t[3] - t[2] * t[1]), n = Math.hypot(t[0], t[2]), r = Math.hypot(t[1], t[3]); this._cachedGetSinglePixelWidth = Math.max(n, r) / e } } return this._cachedGetSinglePixelWidth } getScaleForStroking() { if (this._cachedScaleForStroking[0] === -1) { const { lineWidth: t } = this.current, { a: e, b: n, c: r, d: s } = this.ctx.getTransform(); let o, c; if (n === 0 && r === 0) { const u = Math.abs(e), d = Math.abs(s); if (u === d) if (t === 0) o = c = 1 / u; else { const f = u * t; o = c = f < 1 ? 1 / f : 1 } else if (t === 0) o = 1 / u, c = 1 / d; else { const f = u * t, p = d * t; o = f < 1 ? 1 / f : 1, c = p < 1 ? 1 / p : 1 } } else { const u = Math.abs(e * s - n * r), d = Math.hypot(e, n), f = Math.hypot(r, s); if (t === 0) o = f / u, c = d / u; else { const p = t * u; o = f > p ? f / p : 1, c = d > p ? d / p : 1 } } this._cachedScaleForStroking[0] = o, this._cachedScaleForStroking[1] = c } return this._cachedScaleForStroking } rescaleAndStroke(t, e) { const { ctx: n, current: { lineWidth: r } } = this, [s, o] = this.getScaleForStroking(); if (s === o) { n.lineWidth = (r || 1) * s, n.stroke(t); return } const c = n.getLineDash(); e && n.save(), n.scale(s, o), k1.a = 1 / s, k1.d = 1 / o; const u = new Path2D; if (u.addPath(t, k1), c.length > 0) { const d = Math.max(s, o); n.setLineDash(c.map(f => f / d)), n.lineDashOffset /= d } n.lineWidth = r || 1, n.stroke(u), e && n.restore() } isContentVisible() { for (let t = this.markedContentStack.length - 1; t >= 0; t--)if (!this.markedContentStack[t].visible) return !1; return !0 } } for (const i in xp) Ad.prototype[i] !== void 0 && (Ad.prototype[xp[i]] = Ad.prototype[i]); class Yo { static #t = null; static #e = ""; static get workerPort() { return this.#t } static set workerPort(t) { if (!(typeof Worker < "u" && t instanceof Worker) && t !== null) throw new Error("Invalid `workerPort` type."); this.#t = t } static get workerSrc() { return this.#e } static set workerSrc(t) { if (typeof t != "string") throw new Error("Invalid `workerSrc` type."); this.#e = t } } class HI { #t; #e; constructor({ parsedData: t, rawData: e }) { this.#t = t, this.#e = e } getRaw() { return this.#e } get(t) { return this.#t.get(t) ?? null } [Symbol.iterator]() { return this.#t.entries() } } const hd = Symbol("INTERNAL"); class qI { #t = !1; #e = !1; #n = !1; #i = !0; constructor(t, { name: e, intent: n, usage: r, rbGroups: s }) { this.#t = !!(t & Ds.DISPLAY), this.#e = !!(t & Ds.PRINT), this.name = e, this.intent = n, this.usage = r, this.rbGroups = s } get visible() { if (this.#n) return this.#i; if (!this.#i) return !1; const { print: t, view: e } = this.usage; return this.#t ? e?.viewState !== "OFF" : this.#e ? t?.printState !== "OFF" : !0 } _setVisible(t, e, n = !1) { t !== hd && jn("Internal method `_setVisible` called."), this.#n = n, this.#i = e } } class VI { #t = null; #e = new Map; #n = null; #i = null; constructor(t, e = Ds.DISPLAY) { if (this.renderingIntent = e, this.name = null, this.creator = null, t !== null) { this.name = t.name, this.creator = t.creator, this.#i = t.order; for (const n of t.groups) this.#e.set(n.id, new qI(e, n)); if (t.baseState === "OFF") for (const n of this.#e.values()) n._setVisible(hd, !1); for (const n of t.on) this.#e.get(n)._setVisible(hd, !0); for (const n of t.off) this.#e.get(n)._setVisible(hd, !1); this.#n = this.getHash() } } #s(t) { const e = t.length; if (e < 2) return !0; const n = t[0]; for (let r = 1; r < e; r++) { const s = t[r]; let o; if (Array.isArray(s)) o = this.#s(s); else if (this.#e.has(s)) o = this.#e.get(s).visible; else return He(`Optional content group not found: ${s}`), !0; switch (n) { case "And": if (!o) return !1; break; case "Or": if (o) return !0; break; case "Not": return !o; default: return !0 } } return n === "And" } isVisible(t) { if (this.#e.size === 0) return !0; if (!t) return D0("Optional content group not defined."), !0; if (t.type === "OCG") return this.#e.has(t.id) ? this.#e.get(t.id).visible : (He(`Optional content group not found: ${t.id}`), !0); if (t.type === "OCMD") { if (t.expression) return this.#s(t.expression); if (!t.policy || t.policy === "AnyOn") { for (const e of t.ids) { if (!this.#e.has(e)) return He(`Optional content group not found: ${e}`), !0; if (this.#e.get(e).visible) return !0 } return !1 } else if (t.policy === "AllOn") { for (const e of t.ids) { if (!this.#e.has(e)) return He(`Optional content group not found: ${e}`), !0; if (!this.#e.get(e).visible) return !1 } return !0 } else if (t.policy === "AnyOff") { for (const e of t.ids) { if (!this.#e.has(e)) return He(`Optional content group not found: ${e}`), !0; if (!this.#e.get(e).visible) return !0 } return !1 } else if (t.policy === "AllOff") { for (const e of t.ids) { if (!this.#e.has(e)) return He(`Optional content group not found: ${e}`), !0; if (this.#e.get(e).visible) return !1 } return !0 } return He(`Unknown optional content policy ${t.policy}.`), !0 } return He(`Unknown group type ${t.type}.`), !0 } setVisibility(t, e = !0, n = !0) { const r = this.#e.get(t); if (!r) { He(`Optional content group not found: ${t}`); return } if (n && e && r.rbGroups.length) for (const s of r.rbGroups) for (const o of s) o !== t && this.#e.get(o)?._setVisible(hd, !1, !0); r._setVisible(hd, !!e, !0), this.#t = null } setOCGState({ state: t, preserveRB: e }) { let n; for (const r of t) { switch (r) { case "ON": case "OFF": case "Toggle": n = r; continue }const s = this.#e.get(r); if (s) switch (n) { case "ON": this.setVisibility(r, !0, e); break; case "OFF": this.setVisibility(r, !1, e); break; case "Toggle": this.setVisibility(r, !s.visible, e); break } } this.#t = null } get hasInitialVisibility() { return this.#n === null || this.getHash() === this.#n } getOrder() { return this.#e.size ? this.#i ? this.#i.slice() : [...this.#e.keys()] : null } getGroup(t) { return this.#e.get(t) || null } getHash() { if (this.#t !== null) return this.#t; const t = new C3; for (const [e, n] of this.#e) t.update(`${e}:${n.visible}`); return this.#t = t.hexdigest() } [Symbol.iterator]() { return this.#e.entries() } } class GI { constructor(t, { disableRange: e = !1, disableStream: n = !1 }) { qi(t, 'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'); const { length: r, initialData: s, progressiveDone: o, contentDispositionFilename: c } = t; if (this._queuedChunks = [], this._progressiveDone = o, this._contentDispositionFilename = c, s?.length > 0) { const u = s instanceof Uint8Array && s.byteLength === s.buffer.byteLength ? s.buffer : new Uint8Array(s).buffer; this._queuedChunks.push(u) } this._pdfDataRangeTransport = t, this._isStreamingSupported = !n, this._isRangeSupported = !e, this._contentLength = r, this._fullRequestReader = null, this._rangeReaders = [], t.addRangeListener((u, d) => { this._onReceiveData({ begin: u, chunk: d }) }), t.addProgressListener((u, d) => { this._onProgress({ loaded: u, total: d }) }), t.addProgressiveReadListener(u => { this._onReceiveData({ chunk: u }) }), t.addProgressiveDoneListener(() => { this._onProgressiveDone() }), t.transportReady() } _onReceiveData({ begin: t, chunk: e }) { const n = e instanceof Uint8Array && e.byteLength === e.buffer.byteLength ? e.buffer : new Uint8Array(e).buffer; if (t === void 0) this._fullRequestReader ? this._fullRequestReader._enqueue(n) : this._queuedChunks.push(n); else { const r = this._rangeReaders.some(function (s) { return s._begin !== t ? !1 : (s._enqueue(n), !0) }); qi(r, "_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.") } } get _progressiveDataLength() { return this._fullRequestReader?._loaded ?? 0 } _onProgress(t) { t.total === void 0 ? this._rangeReaders[0]?.onProgress?.({ loaded: t.loaded }) : this._fullRequestReader?.onProgress?.({ loaded: t.loaded, total: t.total }) } _onProgressiveDone() { this._fullRequestReader?.progressiveDone(), this._progressiveDone = !0 } _removeRangeReader(t) { const e = this._rangeReaders.indexOf(t); e >= 0 && this._rangeReaders.splice(e, 1) } getFullReader() { qi(!this._fullRequestReader, "PDFDataTransportStream.getFullReader can only be called once."); const t = this._queuedChunks; return this._queuedChunks = null, new $I(this, t, this._progressiveDone, this._contentDispositionFilename) } getRangeReader(t, e) { if (e <= this._progressiveDataLength) return null; const n = new WI(this, t, e); return this._pdfDataRangeTransport.requestDataRange(t, e), this._rangeReaders.push(n), n } cancelAllRequests(t) { this._fullRequestReader?.cancel(t); for (const e of this._rangeReaders.slice(0)) e.cancel(t); this._pdfDataRangeTransport.abort() } } class $I { constructor(t, e, n = !1, r = null) { this._stream = t, this._done = n || !1, this._filename = I0(r) ? r : null, this._queuedChunks = e || [], this._loaded = 0; for (const s of this._queuedChunks) this._loaded += s.byteLength; this._requests = [], this._headersReady = Promise.resolve(), t._fullRequestReader = this, this.onProgress = null } _enqueue(t) { this._done || (this._requests.length > 0 ? this._requests.shift().resolve({ value: t, done: !1 }) : this._queuedChunks.push(t), this._loaded += t.byteLength) } get headersReady() { return this._headersReady } get filename() { return this._filename } get isRangeSupported() { return this._stream._isRangeSupported } get isStreamingSupported() { return this._stream._isStreamingSupported } get contentLength() { return this._stream._contentLength } async read() { if (this._queuedChunks.length > 0) return { value: this._queuedChunks.shift(), done: !1 }; if (this._done) return { value: void 0, done: !0 }; const t = Promise.withResolvers(); return this._requests.push(t), t.promise } cancel(t) { this._done = !0; for (const e of this._requests) e.resolve({ value: void 0, done: !0 }); this._requests.length = 0 } progressiveDone() { this._done || (this._done = !0) } } class WI { constructor(t, e, n) { this._stream = t, this._begin = e, this._end = n, this._queuedChunk = null, this._requests = [], this._done = !1, this.onProgress = null } _enqueue(t) { if (!this._done) { if (this._requests.length === 0) this._queuedChunk = t; else { this._requests.shift().resolve({ value: t, done: !1 }); for (const n of this._requests) n.resolve({ value: void 0, done: !0 }); this._requests.length = 0 } this._done = !0, this._stream._removeRangeReader(this) } } get isStreamingSupported() { return !1 } async read() { if (this._queuedChunk) { const e = this._queuedChunk; return this._queuedChunk = null, { value: e, done: !1 } } if (this._done) return { value: void 0, done: !0 }; const t = Promise.withResolvers(); return this._requests.push(t), t.promise } cancel(t) { this._done = !0; for (const e of this._requests) e.resolve({ value: void 0, done: !0 }); this._requests.length = 0, this._stream._removeRangeReader(this) } } function YI(i) { let t = !0, e = n("filename\\*", "i").exec(i); if (e) { e = e[1]; let f = c(e); return f = unescape(f), f = u(f), f = d(f), s(f) } if (e = o(i), e) { const f = d(e); return s(f) } if (e = n("filename", "i").exec(i), e) { e = e[1]; let f = c(e); return f = d(f), s(f) } function n(f, p) { return new RegExp("(?:^|;)\\s*" + f + '\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)', p) } function r(f, p) { if (f) { if (!/^[\x00-\xFF]+$/.test(p)) return p; try { const m = new TextDecoder(f, { fatal: !0 }), v = Xp(p); p = m.decode(v), t = !1 } catch { } } return p } function s(f) { return t && /[\x80-\xff]/.test(f) && (f = r("utf-8", f), t && (f = r("iso-8859-1", f))), f } function o(f) { const p = []; let m; const v = n("filename\\*((?!0\\d)\\d+)(\\*?)", "ig"); for (; (m = v.exec(f)) !== null;) { let [, y, E, A] = m; if (y = parseInt(y, 10), y in p) { if (y === 0) break; continue } p[y] = [E, A] } const x = []; for (let y = 0; y < p.length && y in p; ++y) { let [E, A] = p[y]; A = c(A), E && (A = unescape(A), y === 0 && (A = u(A))), x.push(A) } return x.join("") } function c(f) { if (f.startsWith('"')) { const p = f.slice(1).split('\\"'); for (let m = 0; m < p.length; ++m) { const v = p[m].indexOf('"'); v !== -1 && (p[m] = p[m].slice(0, v), p.length = m + 1), p[m] = p[m].replaceAll(/\\(.)/g, "$1") } f = p.join('"') } return f } function u(f) { const p = f.indexOf("'"); if (p === -1) return f; const m = f.slice(0, p), x = f.slice(p + 1).replace(/^[^']*'/, ""); return r(m, x) } function d(f) { return !f.startsWith("=?") || /[\x00-\x19\x80-\xff]/.test(f) ? f : f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g, function (p, m, v, x) { if (v === "q" || v === "Q") return x = x.replaceAll("_", " "), x = x.replaceAll(/=([0-9a-fA-F]{2})/g, function (y, E) { return String.fromCharCode(parseInt(E, 16)) }), r(m, x); try { x = atob(x) } catch { } return r(m, x) }) } return "" } function k3(i, t) { const e = new Headers; if (!i || !t || typeof t != "object") return e; for (const n in t) { const r = t[n]; r !== void 0 && e.append(n, r) } return e } function F0(i) { return URL.parse(i)?.origin ?? null } function D3({ responseHeaders: i, isHttp: t, rangeChunkSize: e, disableRange: n }) { const r = { allowRangeRequests: !1, suggestedLength: void 0 }, s = parseInt(i.get("Content-Length"), 10); return !Number.isInteger(s) || (r.suggestedLength = s, s <= 2 * e) || n || !t || i.get("Accept-Ranges") !== "bytes" || (i.get("Content-Encoding") || "identity") !== "identity" || (r.allowRangeRequests = !0), r } function j3(i) { const t = i.get("Content-Disposition"); if (t) { let e = YI(t); if (e.includes("%")) try { e = decodeURIComponent(e) } catch { } if (I0(e)) return e } return null } function tg(i, t) { return new Sp(`Unexpected server response (${i}) while retrieving PDF "${t}".`, i, i === 404 || i === 0 && t.startsWith("file:")) } function I3(i) { return i === 200 || i === 206 } function F3(i, t, e) { return { method: "GET", headers: i, signal: e.signal, mode: "cors", credentials: t ? "include" : "same-origin", redirect: "follow" } } function B3(i) { return i instanceof Uint8Array ? i.buffer : i instanceof ArrayBuffer ? i : (He(`getArrayBuffer - unexpected data format: ${i}`), new Uint8Array(i).buffer) } class XI { _responseOrigin = null; constructor(t) { this.source = t, this.isHttp = /^https?:/i.test(t.url), this.headers = k3(this.isHttp, t.httpHeaders), this._fullRequestReader = null, this._rangeRequestReaders = [] } get _progressiveDataLength() { return this._fullRequestReader?._loaded ?? 0 } getFullReader() { return qi(!this._fullRequestReader, "PDFFetchStream.getFullReader can only be called once."), this._fullRequestReader = new KI(this), this._fullRequestReader } getRangeReader(t, e) { if (e <= this._progressiveDataLength) return null; const n = new QI(this, t, e); return this._rangeRequestReaders.push(n), n } cancelAllRequests(t) { this._fullRequestReader?.cancel(t); for (const e of this._rangeRequestReaders.slice(0)) e.cancel(t) } } class KI { constructor(t) { this._stream = t, this._reader = null, this._loaded = 0, this._filename = null; const e = t.source; this._withCredentials = e.withCredentials || !1, this._contentLength = e.length, this._headersCapability = Promise.withResolvers(), this._disableRange = e.disableRange || !1, this._rangeChunkSize = e.rangeChunkSize, !this._rangeChunkSize && !this._disableRange && (this._disableRange = !0), this._abortController = new AbortController, this._isStreamingSupported = !e.disableStream, this._isRangeSupported = !e.disableRange; const n = new Headers(t.headers), r = e.url; fetch(r, F3(n, this._withCredentials, this._abortController)).then(s => { if (t._responseOrigin = F0(s.url), !I3(s.status)) throw tg(s.status, r); this._reader = s.body.getReader(), this._headersCapability.resolve(); const o = s.headers, { allowRangeRequests: c, suggestedLength: u } = D3({ responseHeaders: o, isHttp: t.isHttp, rangeChunkSize: this._rangeChunkSize, disableRange: this._disableRange }); this._isRangeSupported = c, this._contentLength = u || this._contentLength, this._filename = j3(o), !this._isStreamingSupported && this._isRangeSupported && this.cancel(new Bl("Streaming is disabled.")) }).catch(this._headersCapability.reject), this.onProgress = null } get headersReady() { return this._headersCapability.promise } get filename() { return this._filename } get contentLength() { return this._contentLength } get isRangeSupported() { return this._isRangeSupported } get isStreamingSupported() { return this._isStreamingSupported } async read() { await this._headersCapability.promise; const { value: t, done: e } = await this._reader.read(); return e ? { value: t, done: e } : (this._loaded += t.byteLength, this.onProgress?.({ loaded: this._loaded, total: this._contentLength }), { value: B3(t), done: !1 }) } cancel(t) { this._reader?.cancel(t), this._abortController.abort() } } class QI { constructor(t, e, n) { this._stream = t, this._reader = null, this._loaded = 0; const r = t.source; this._withCredentials = r.withCredentials || !1, this._readCapability = Promise.withResolvers(), this._isStreamingSupported = !r.disableStream, this._abortController = new AbortController; const s = new Headers(t.headers); s.append("Range", `bytes=${e}-${n - 1}`); const o = r.url; fetch(o, F3(s, this._withCredentials, this._abortController)).then(c => { const u = F0(c.url); if (u !== t._responseOrigin) throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`); if (!I3(c.status)) throw tg(c.status, o); this._readCapability.resolve(), this._reader = c.body.getReader() }).catch(this._readCapability.reject), this.onProgress = null } get isStreamingSupported() { return this._isStreamingSupported } async read() { await this._readCapability.promise; const { value: t, done: e } = await this._reader.read(); return e ? { value: t, done: e } : (this._loaded += t.byteLength, this.onProgress?.({ loaded: this._loaded }), { value: B3(t), done: !1 }) } cancel(t) { this._reader?.cancel(t), this._abortController.abort() } } const D1 = 200, j1 = 206; function ZI(i) { const t = i.response; return typeof t != "string" ? t : Xp(t).buffer } class JI { _responseOrigin = null; constructor({ url: t, httpHeaders: e, withCredentials: n }) { this.url = t, this.isHttp = /^https?:/i.test(t), this.headers = k3(this.isHttp, e), this.withCredentials = n || !1, this.currXhrId = 0, this.pendingRequests = Object.create(null) } request(t) { const e = new XMLHttpRequest, n = this.currXhrId++, r = this.pendingRequests[n] = { xhr: e }; e.open("GET", this.url), e.withCredentials = this.withCredentials; for (const [s, o] of this.headers) e.setRequestHeader(s, o); return this.isHttp && "begin" in t && "end" in t ? (e.setRequestHeader("Range", `bytes=${t.begin}-${t.end - 1}`), r.expectedStatus = j1) : r.expectedStatus = D1, e.responseType = "arraybuffer", qi(t.onError, "Expected `onError` callback to be provided."), e.onerror = () => { t.onError(e.status) }, e.onreadystatechange = this.onStateChange.bind(this, n), e.onprogress = this.onProgress.bind(this, n), r.onHeadersReceived = t.onHeadersReceived, r.onDone = t.onDone, r.onError = t.onError, r.onProgress = t.onProgress, e.send(null), n } onProgress(t, e) { const n = this.pendingRequests[t]; n && n.onProgress?.(e) } onStateChange(t, e) { const n = this.pendingRequests[t]; if (!n) return; const r = n.xhr; if (r.readyState >= 2 && n.onHeadersReceived && (n.onHeadersReceived(), delete n.onHeadersReceived), r.readyState !== 4 || !(t in this.pendingRequests)) return; if (delete this.pendingRequests[t], r.status === 0 && this.isHttp) { n.onError(r.status); return } const s = r.status || D1; if (!(s === D1 && n.expectedStatus === j1) && s !== n.expectedStatus) { n.onError(r.status); return } const c = ZI(r); if (s === j1) { const u = r.getResponseHeader("Content-Range"), d = /bytes (\d+)-(\d+)\/(\d+)/.exec(u); d ? n.onDone({ begin: parseInt(d[1], 10), chunk: c }) : (He('Missing or invalid "Content-Range" header.'), n.onError(0)) } else c ? n.onDone({ begin: 0, chunk: c }) : n.onError(r.status) } getRequestXhr(t) { return this.pendingRequests[t].xhr } isPendingRequest(t) { return t in this.pendingRequests } abortRequest(t) { const e = this.pendingRequests[t].xhr; delete this.pendingRequests[t], e.abort() } } class tF { constructor(t) { this._source = t, this._manager = new JI(t), this._rangeChunkSize = t.rangeChunkSize, this._fullRequestReader = null, this._rangeRequestReaders = [] } _onRangeRequestReaderClosed(t) { const e = this._rangeRequestReaders.indexOf(t); e >= 0 && this._rangeRequestReaders.splice(e, 1) } getFullReader() { return qi(!this._fullRequestReader, "PDFNetworkStream.getFullReader can only be called once."), this._fullRequestReader = new eF(this._manager, this._source), this._fullRequestReader } getRangeReader(t, e) { const n = new nF(this._manager, t, e); return n.onClosed = this._onRangeRequestReaderClosed.bind(this), this._rangeRequestReaders.push(n), n } cancelAllRequests(t) { this._fullRequestReader?.cancel(t); for (const e of this._rangeRequestReaders.slice(0)) e.cancel(t) } } class eF { constructor(t, e) { this._manager = t, this._url = e.url, this._fullRequestId = t.request({ onHeadersReceived: this._onHeadersReceived.bind(this), onDone: this._onDone.bind(this), onError: this._onError.bind(this), onProgress: this._onProgress.bind(this) }), this._headersCapability = Promise.withResolvers(), this._disableRange = e.disableRange || !1, this._contentLength = e.length, this._rangeChunkSize = e.rangeChunkSize, !this._rangeChunkSize && !this._disableRange && (this._disableRange = !0), this._isStreamingSupported = !1, this._isRangeSupported = !1, this._cachedChunks = [], this._requests = [], this._done = !1, this._storedError = void 0, this._filename = null, this.onProgress = null } _onHeadersReceived() { const t = this._fullRequestId, e = this._manager.getRequestXhr(t); this._manager._responseOrigin = F0(e.responseURL); const n = e.getAllResponseHeaders(), r = new Headers(n ? n.trimStart().replace(/[^\S ]+$/, "").split(/[\r\n]+/).map(c => { const [u, ...d] = c.split(": "); return [u, d.join(": ")] }) : []), { allowRangeRequests: s, suggestedLength: o } = D3({ responseHeaders: r, isHttp: this._manager.isHttp, rangeChunkSize: this._rangeChunkSize, disableRange: this._disableRange }); s && (this._isRangeSupported = !0), this._contentLength = o || this._contentLength, this._filename = j3(r), this._isRangeSupported && this._manager.abortRequest(t), this._headersCapability.resolve() } _onDone(t) { if (t && (this._requests.length > 0 ? this._requests.shift().resolve({ value: t.chunk, done: !1 }) : this._cachedChunks.push(t.chunk)), this._done = !0, !(this._cachedChunks.length > 0)) { for (const e of this._requests) e.resolve({ value: void 0, done: !0 }); this._requests.length = 0 } } _onError(t) { this._storedError = tg(t, this._url), this._headersCapability.reject(this._storedError); for (const e of this._requests) e.reject(this._storedError); this._requests.length = 0, this._cachedChunks.length = 0 } _onProgress(t) { this.onProgress?.({ loaded: t.loaded, total: t.lengthComputable ? t.total : this._contentLength }) } get filename() { return this._filename } get isRangeSupported() { return this._isRangeSupported } get isStreamingSupported() { return this._isStreamingSupported } get contentLength() { return this._contentLength } get headersReady() { return this._headersCapability.promise } async read() { if (await this._headersCapability.promise, this._storedError) throw this._storedError; if (this._cachedChunks.length > 0) return { value: this._cachedChunks.shift(), done: !1 }; if (this._done) return { value: void 0, done: !0 }; const t = Promise.withResolvers(); return this._requests.push(t), t.promise } cancel(t) { this._done = !0, this._headersCapability.reject(t); for (const e of this._requests) e.resolve({ value: void 0, done: !0 }); this._requests.length = 0, this._manager.isPendingRequest(this._fullRequestId) && this._manager.abortRequest(this._fullRequestId), this._fullRequestReader = null } } class nF { constructor(t, e, n) { this._manager = t, this._url = t.url, this._requestId = t.request({ begin: e, end: n, onHeadersReceived: this._onHeadersReceived.bind(this), onDone: this._onDone.bind(this), onError: this._onError.bind(this), onProgress: this._onProgress.bind(this) }), this._requests = [], this._queuedChunk = null, this._done = !1, this._storedError = void 0, this.onProgress = null, this.onClosed = null } _onHeadersReceived() { const t = F0(this._manager.getRequestXhr(this._requestId)?.responseURL); t !== this._manager._responseOrigin && (this._storedError = new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`), this._onError(0)) } _close() { this.onClosed?.(this) } _onDone(t) { const e = t.chunk; this._requests.length > 0 ? this._requests.shift().resolve({ value: e, done: !1 }) : this._queuedChunk = e, this._done = !0; for (const n of this._requests) n.resolve({ value: void 0, done: !0 }); this._requests.length = 0, this._close() } _onError(t) { this._storedError ??= tg(t, this._url); for (const e of this._requests) e.reject(this._storedError); this._requests.length = 0, this._queuedChunk = null } _onProgress(t) { this.isStreamingSupported || this.onProgress?.({ loaded: t.loaded }) } get isStreamingSupported() { return !1 } async read() { if (this._storedError) throw this._storedError; if (this._queuedChunk !== null) { const e = this._queuedChunk; return this._queuedChunk = null, { value: e, done: !1 } } if (this._done) return { value: void 0, done: !0 }; const t = Promise.withResolvers(); return this._requests.push(t), t.promise } cancel(t) { this._done = !0; for (const e of this._requests) e.resolve({ value: void 0, done: !0 }); this._requests.length = 0, this._manager.isPendingRequest(this._requestId) && this._manager.abortRequest(this._requestId), this._close() } } const iF = /^[a-z][a-z0-9\-+.]+:/i; function rF(i) { if (iF.test(i)) return new URL(i); const t = process.getBuiltinModule("url"); return new URL(t.pathToFileURL(i)) } class sF { constructor(t) { this.source = t, this.url = rF(t.url), qi(this.url.protocol === "file:", "PDFNodeStream only supports file:// URLs."), this._fullRequestReader = null, this._rangeRequestReaders = [] } get _progressiveDataLength() { return this._fullRequestReader?._loaded ?? 0 } getFullReader() { return qi(!this._fullRequestReader, "PDFNodeStream.getFullReader can only be called once."), this._fullRequestReader = new aF(this), this._fullRequestReader } getRangeReader(t, e) { if (e <= this._progressiveDataLength) return null; const n = new oF(this, t, e); return this._rangeRequestReaders.push(n), n } cancelAllRequests(t) { this._fullRequestReader?.cancel(t); for (const e of this._rangeRequestReaders.slice(0)) e.cancel(t) } } class aF { constructor(t) { this._url = t.url, this._done = !1, this._storedError = null, this.onProgress = null; const e = t.source; this._contentLength = e.length, this._loaded = 0, this._filename = null, this._disableRange = e.disableRange || !1, this._rangeChunkSize = e.rangeChunkSize, !this._rangeChunkSize && !this._disableRange && (this._disableRange = !0), this._isStreamingSupported = !e.disableStream, this._isRangeSupported = !e.disableRange, this._readableStream = null, this._readCapability = Promise.withResolvers(), this._headersCapability = Promise.withResolvers(); const n = process.getBuiltinModule("fs"); n.promises.lstat(this._url).then(r => { this._contentLength = r.size, this._setReadableStream(n.createReadStream(this._url)), this._headersCapability.resolve() }, r => { r.code === "ENOENT" && (r = tg(0, this._url.href)), this._storedError = r, this._headersCapability.reject(r) }) } get headersReady() { return this._headersCapability.promise } get filename() { return this._filename } get contentLength() { return this._contentLength } get isRangeSupported() { return this._isRangeSupported } get isStreamingSupported() { return this._isStreamingSupported } async read() { if (await this._readCapability.promise, this._done) return { value: void 0, done: !0 }; if (this._storedError) throw this._storedError; const t = this._readableStream.read(); return t === null ? (this._readCapability = Promise.withResolvers(), this.read()) : (this._loaded += t.length, this.onProgress?.({ loaded: this._loaded, total: this._contentLength }), { value: new Uint8Array(t).buffer, done: !1 }) } cancel(t) { if (!this._readableStream) { this._error(t); return } this._readableStream.destroy(t) } _error(t) { this._storedError = t, this._readCapability.resolve() } _setReadableStream(t) { this._readableStream = t, t.on("readable", () => { this._readCapability.resolve() }), t.on("end", () => { t.destroy(), this._done = !0, this._readCapability.resolve() }), t.on("error", e => { this._error(e) }), !this._isStreamingSupported && this._isRangeSupported && this._error(new Bl("streaming is disabled")), this._storedError && this._readableStream.destroy(this._storedError) } } class oF { constructor(t, e, n) { this._url = t.url, this._done = !1, this._storedError = null, this.onProgress = null, this._loaded = 0, this._readableStream = null, this._readCapability = Promise.withResolvers(); const r = t.source; this._isStreamingSupported = !r.disableStream; const s = process.getBuiltinModule("fs"); this._setReadableStream(s.createReadStream(this._url, { start: e, end: n - 1 })) } get isStreamingSupported() { return this._isStreamingSupported } async read() { if (await this._readCapability.promise, this._done) return { value: void 0, done: !0 }; if (this._storedError) throw this._storedError; const t = this._readableStream.read(); return t === null ? (this._readCapability = Promise.withResolvers(), this.read()) : (this._loaded += t.length, this.onProgress?.({ loaded: this._loaded }), { value: new Uint8Array(t).buffer, done: !1 }) } cancel(t) { if (!this._readableStream) { this._error(t); return } this._readableStream.destroy(t) } _error(t) { this._storedError = t, this._readCapability.resolve() } _setReadableStream(t) { this._readableStream = t, t.on("readable", () => { this._readCapability.resolve() }), t.on("end", () => { t.destroy(), this._done = !0, this._readCapability.resolve() }), t.on("error", e => { this._error(e) }), this._storedError && this._readableStream.destroy(this._storedError) } } const tp = Symbol("INITIAL_DATA"); class z3 { #t = Object.create(null); #e(t) { return this.#t[t] ||= { ...Promise.withResolvers(), data: tp } } get(t, e = null) { if (e) { const r = this.#e(t); return r.promise.then(() => e(r.data)), null } const n = this.#t[t]; if (!n || n.data === tp) throw new Error(`Requesting object that isn't resolved yet ${t}.`); return n.data } has(t) { const e = this.#t[t]; return !!e && e.data !== tp } delete(t) { const e = this.#t[t]; return !e || e.data === tp ? !1 : (delete this.#t[t], !0) } resolve(t, e = null) { const n = this.#e(t); n.data = e, n.resolve() } clear() { for (const t in this.#t) { const { data: e } = this.#t[t]; e?.bitmap?.close() } this.#t = Object.create(null) } *[Symbol.iterator]() { for (const t in this.#t) { const { data: e } = this.#t[t]; e !== tp && (yield [t, e]) } } } const lF = 1e5, _S = 30; let Ap = class aa { #t = Promise.withResolvers(); #e = null; #n = !1; #i = !!globalThis.FontInspector?.enabled; #s = null; #r = null; #o = 0; #a = 0; #h = null; #c = null; #d = 0; #u = 0; #f = Object.create(null); #l = []; #p = null; #m = []; #g = new WeakMap; #v = null; static #b = new Map; static #y = new Map; static #x = new WeakMap; static #S = null; static #A = new Set; constructor({ textContentSource: t, container: e, viewport: n }) { if (t instanceof ReadableStream) this.#p = t; else if (typeof t == "object") this.#p = new ReadableStream({ start(u) { u.enqueue(t), u.close() } }); else throw new Error('No "textContentSource" parameter specified.'); this.#e = this.#c = e, this.#u = n.scale * Ga.pixelRatio, this.#d = n.rotation, this.#r = { div: null, properties: null, ctx: null }; const { pageWidth: r, pageHeight: s, pageX: o, pageY: c } = n.rawDims; this.#v = [1, 0, 0, -1, -o, c + s], this.#a = r, this.#o = s, aa.#M(), Xc(e, n), this.#t.promise.finally(() => { aa.#A.delete(this), this.#r = null, this.#f = null }).catch(() => { }) } static get fontFamilyMap() { const { isWindows: t, isFirefox: e } = gr.platform; return sn(this, "fontFamilyMap", new Map([["sans-serif", `${t && e ? "Calibri, " : ""}sans-serif`], ["monospace", `${t && e ? "Lucida Console, " : ""}monospace`]])) } render() { const t = () => { this.#h.read().then(({ value: e, done: n }) => { if (n) { this.#t.resolve(); return } this.#s ??= e.lang, Object.assign(this.#f, e.styles), this.#C(e.items), t() }, this.#t.reject) }; return this.#h = this.#p.getReader(), aa.#A.add(this), t(), this.#t.promise } update({ viewport: t, onBefore: e = null }) { const n = t.scale * Ga.pixelRatio, r = t.rotation; if (r !== this.#d && (e?.(), this.#d = r, Xc(this.#c, { rotation: r })), n !== this.#u) { e?.(), this.#u = n; const s = { div: null, properties: null, ctx: aa.#R(this.#s) }; for (const o of this.#m) s.properties = this.#g.get(o), s.div = o, this.#E(s) } } cancel() { const t = new Bl("TextLayer task cancelled."); this.#h?.cancel(t).catch(() => { }), this.#h = null, this.#t.reject(t) } get textDivs() { return this.#m } get textContentItemsStr() { return this.#l } #C(t) { if (this.#n) return; this.#r.ctx ??= aa.#R(this.#s); const e = this.#m, n = this.#l; for (const r of t) { if (e.length > lF) { He("Ignoring additional textDivs for performance reasons."), this.#n = !0; return } if (r.str === void 0) { if (r.type === "beginMarkedContentProps" || r.type === "beginMarkedContent") { const s = this.#e; this.#e = document.createElement("span"), this.#e.classList.add("markedContent"), r.id !== null && this.#e.setAttribute("id", `${r.id}`), s.append(this.#e) } else r.type === "endMarkedContent" && (this.#e = this.#e.parentNode); continue } n.push(r.str), this.#T(r) } } #T(t) { const e = document.createElement("span"), n = { angle: 0, canvasWidth: 0, hasText: t.str !== "", hasEOL: t.hasEOL, fontSize: 0 }; this.#m.push(e); const r = ye.transform(this.#v, t.transform); let s = Math.atan2(r[1], r[0]); const o = this.#f[t.fontName]; o.vertical && (s += Math.PI / 2); let c = this.#i && o.fontSubstitution || o.fontFamily; c = aa.fontFamilyMap.get(c) || c; const u = Math.hypot(r[2], r[3]), d = u * aa.#P(c, o, this.#s); let f, p; s === 0 ? (f = r[4], p = r[5] - d) : (f = r[4] + d * Math.sin(s), p = r[5] - d * Math.cos(s)); const m = "calc(var(--total-scale-factor) *", v = e.style; this.#e === this.#c ? (v.left = `${(100 * f / this.#a).toFixed(2)}%`, v.top = `${(100 * p / this.#o).toFixed(2)}%`) : (v.left = `${m}${f.toFixed(2)}px)`, v.top = `${m}${p.toFixed(2)}px)`), v.fontSize = `${m}${(aa.#S * u).toFixed(2)}px)`, v.fontFamily = c, n.fontSize = u, e.setAttribute("role", "presentation"), e.textContent = t.str, e.dir = t.dir, this.#i && (e.dataset.fontName = o.fontSubstitutionLoadedName || t.fontName), s !== 0 && (n.angle = s * (180 / Math.PI)); let x = !1; if (t.str.length > 1) x = !0; else if (t.str !== " " && t.transform[0] !== t.transform[3]) { const y = Math.abs(t.transform[0]), E = Math.abs(t.transform[3]); y !== E && Math.max(y, E) / Math.min(y, E) > 1.5 && (x = !0) } if (x && (n.canvasWidth = o.vertical ? t.height : t.width), this.#g.set(e, n), this.#r.div = e, this.#r.properties = n, this.#E(this.#r), n.hasText && this.#e.append(e), n.hasEOL) { const y = document.createElement("br"); y.setAttribute("role", "presentation"), this.#e.append(y) } } #E(t) { const { div: e, properties: n, ctx: r } = t, { style: s } = e; let o = ""; if (aa.#S > 1 && (o = `scale(${1 / aa.#S})`), n.canvasWidth !== 0 && n.hasText) { const { fontFamily: c } = s, { canvasWidth: u, fontSize: d } = n; aa.#N(r, d * this.#u, c); const { width: f } = r.measureText(e.textContent); f > 0 && (o = `scaleX(${u * this.#u / f}) ${o}`) } n.angle !== 0 && (o = `rotate(${n.angle}deg) ${o}`), o.length > 0 && (s.transform = o) } static cleanup() { if (!(this.#A.size > 0)) { this.#b.clear(); for (const { canvas: t } of this.#y.values()) t.remove(); this.#y.clear() } } static #R(t = null) { let e = this.#y.get(t ||= ""); if (!e) { const n = document.createElement("canvas"); n.className = "hiddenCanvasElement", n.lang = t, document.body.append(n), e = n.getContext("2d", { alpha: !1, willReadFrequently: !0 }), this.#y.set(t, e), this.#x.set(e, { size: 0, family: "" }) } return e } static #N(t, e, n) { const r = this.#x.get(t); e === r.size && n === r.family || (t.font = `${e}px ${n}`, r.size = e, r.family = n) } static #M() { if (this.#S !== null) return; const t = document.createElement("div"); t.style.opacity = 0, t.style.lineHeight = 1, t.style.fontSize = "1px", t.style.position = "absolute", t.textContent = "X", document.body.append(t), this.#S = t.getBoundingClientRect().height, t.remove() } static #P(t, e, n) { const r = this.#b.get(t); if (r) return r; const s = this.#R(n); s.canvas.width = s.canvas.height = _S, this.#N(s, _S, t); const o = s.measureText(""), c = o.fontBoundingBoxAscent, u = Math.abs(o.fontBoundingBoxDescent); s.canvas.width = s.canvas.height = 0; let d = .8; return c ? d = c / (c + u) : (gr.platform.isFirefox && He("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."), e.ascent ? d = e.ascent : e.descent && (d = 1 + e.descent)), this.#b.set(t, d), d } }; class Ep { static textContent(t) { const e = [], n = { items: e, styles: Object.create(null) }; function r(s) { if (!s) return; let o = null; const c = s.name; if (c === "#text") o = s.value; else if (Ep.shouldBuildText(c)) s?.attributes?.textContent ? o = s.attributes.textContent : s.value && (o = s.value); else return; if (o !== null && e.push({ str: o }), !!s.children) for (const u of s.children) r(u) } return r(t), n } static shouldBuildText(t) { return !(t === "textarea" || t === "input" || t === "option" || t === "select") } } const cF = 100; function h2(i = {}) { typeof i == "string" || i instanceof URL ? i = { url: i } : (i instanceof ArrayBuffer || ArrayBuffer.isView(i)) && (i = { data: i }); const t = new d2, { docId: e } = t, n = i.url ? yI(i.url) : null, r = i.data ? wI(i.data) : null, s = i.httpHeaders || null, o = i.withCredentials === !0, c = i.password ?? null, u = i.range instanceof f2 ? i.range : null, d = Number.isInteger(i.rangeChunkSize) && i.rangeChunkSize > 0 ? i.rangeChunkSize : 2 ** 16; let f = i.worker instanceof jd ? i.worker : null; const p = i.verbosity, m = typeof i.docBaseUrl == "string" && !Qp(i.docBaseUrl) ? i.docBaseUrl : null, v = mm(i.cMapUrl), x = i.cMapPacked !== !1, y = i.CMapReaderFactory || (Zr ? NI : fS), E = mm(i.iccUrl), A = mm(i.standardFontDataUrl), T = i.StandardFontDataFactory || (Zr ? RI : pS), L = mm(i.wasmUrl), k = i.WasmFactory || (Zr ? TI : gS), O = i.stopAtErrors !== !0, F = Number.isInteger(i.maxImageSize) && i.maxImageSize > -1 ? i.maxImageSize : -1, D = i.isEvalSupported !== !1, j = typeof i.isOffscreenCanvasSupported == "boolean" ? i.isOffscreenCanvasSupported : !Zr, J = typeof i.isImageDecoderSupported == "boolean" ? i.isImageDecoderSupported : !Zr && (gr.platform.isFirefox || !globalThis.chrome), ot = Number.isInteger(i.canvasMaxAreaInBytes) ? i.canvasMaxAreaInBytes : -1, z = typeof i.disableFontFace == "boolean" ? i.disableFontFace : Zr, G = i.fontExtraProperties === !0, it = i.enableXfa === !0, nt = i.ownerDocument || globalThis.document, ht = i.disableRange === !0, U = i.disableStream === !0, tt = i.disableAutoFetch === !0, Q = i.pdfBug === !0, pt = i.CanvasFactory || (Zr ? CI : AI), Y = i.FilterFactory || (Zr ? _I : EI), ft = i.enableHWA === !0, I = i.useWasm !== !1, V = u ? u.length : i.length ?? NaN, Z = typeof i.useSystemFonts == "boolean" ? i.useSystemFonts : !Zr && !z, st = typeof i.useWorkerFetch == "boolean" ? i.useWorkerFetch : !!(y === fS && T === pS && k === gS && v && A && L && ap(v, document.baseURI) && ap(A, document.baseURI) && ap(L, document.baseURI)), at = null; eI(p); const ct = { canvasFactory: new pt({ ownerDocument: nt, enableHWA: ft }), filterFactory: new Y({ docId: e, ownerDocument: nt }), cMapReaderFactory: st ? null : new y({ baseUrl: v, isCompressed: x }), standardFontDataFactory: st ? null : new T({ baseUrl: A }), wasmFactory: st ? null : new k({ baseUrl: L }) }; f || (f = jd.create({ verbosity: p, port: Yo.workerPort }), t._worker = f); const gt = { docId: e, apiVersion: "5.3.31", data: r, password: c, disableAutoFetch: tt, rangeChunkSize: d, length: V, docBaseUrl: m, enableXfa: it, evaluatorOptions: { maxImageSize: F, disableFontFace: z, ignoreErrors: O, isEvalSupported: D, isOffscreenCanvasSupported: j, isImageDecoderSupported: J, canvasMaxAreaInBytes: ot, fontExtraProperties: G, useSystemFonts: Z, useWasm: I, useWorkerFetch: st, cMapUrl: v, iccUrl: E, standardFontDataUrl: A, wasmUrl: L } }, xt = { ownerDocument: nt, pdfBug: Q, styleElement: at, loadingParams: { disableAutoFetch: tt, enableXfa: it } }; return f.promise.then(function () { if (t.destroyed) throw new Error("Loading aborted"); if (f.destroyed) throw new Error("Worker was destroyed"); const Tt = f.messageHandler.sendWithPromise("GetDocRequest", gt, r ? [r.buffer] : null); let kt; if (u) kt = new GI(u, { disableRange: ht, disableStream: U }); else if (!r) { if (!n) throw new Error("getDocument - no `url` parameter provided."); const zt = ap(n) ? XI : Zr ? sF : tF; kt = new zt({ url: n, length: V, httpHeaders: s, withCredentials: o, rangeChunkSize: d, disableRange: ht, disableStream: U }) } return Tt.then(zt => { if (t.destroyed) throw new Error("Loading aborted"); if (f.destroyed) throw new Error("Worker was destroyed"); const $t = new op(e, zt, f.port), Kt = new dF($t, t, kt, xt, ct); t._transport = Kt, $t.send("Ready", null) }) }).catch(t._capability.reject), t } class d2 { static #t = 0; _capability = Promise.withResolvers(); _transport = null; _worker = null; docId = `d${d2.#t++}`; destroyed = !1; onPassword = null; onProgress = null; get promise() { return this._capability.promise } async destroy() { this.destroyed = !0; try { this._worker?.port && (this._worker._pendingDestroy = !0), await this._transport?.destroy() } catch (t) { throw this._worker?.port && delete this._worker._pendingDestroy, t } this._transport = null, this._worker?.destroy(), this._worker = null } async getData() { return this._transport.getData() } } let f2 = class { #t = Promise.withResolvers(); #e = []; #n = []; #i = []; #s = []; constructor(t, e, n = !1, r = null) { this.length = t, this.initialData = e, this.progressiveDone = n, this.contentDispositionFilename = r } addRangeListener(t) { this.#s.push(t) } addProgressListener(t) { this.#i.push(t) } addProgressiveReadListener(t) { this.#n.push(t) } addProgressiveDoneListener(t) { this.#e.push(t) } onDataRange(t, e) { for (const n of this.#s) n(t, e) } onDataProgress(t, e) { this.#t.promise.then(() => { for (const n of this.#i) n(t, e) }) } onDataProgressiveRead(t) { this.#t.promise.then(() => { for (const e of this.#n) e(t) }) } onDataProgressiveDone() { this.#t.promise.then(() => { for (const t of this.#e) t() }) } transportReady() { this.#t.resolve() } requestDataRange(t, e) { jn("Abstract method PDFDataRangeTransport.requestDataRange") } abort() { } }; class uF { constructor(t, e) { this._pdfInfo = t, this._transport = e } get annotationStorage() { return this._transport.annotationStorage } get canvasFactory() { return this._transport.canvasFactory } get filterFactory() { return this._transport.filterFactory } get numPages() { return this._pdfInfo.numPages } get fingerprints() { return this._pdfInfo.fingerprints } get isPureXfa() { return sn(this, "isPureXfa", !!this._transport._htmlForXfa) } get allXfaHtml() { return this._transport._htmlForXfa } getPage(t) { return this._transport.getPage(t) } getPageIndex(t) { return this._transport.getPageIndex(t) } getDestinations() { return this._transport.getDestinations() } getDestination(t) { return this._transport.getDestination(t) } getPageLabels() { return this._transport.getPageLabels() } getPageLayout() { return this._transport.getPageLayout() } getPageMode() { return this._transport.getPageMode() } getViewerPreferences() { return this._transport.getViewerPreferences() } getOpenAction() { return this._transport.getOpenAction() } getAttachments() { return this._transport.getAttachments() } getJSActions() { return this._transport.getDocJSActions() } getOutline() { return this._transport.getOutline() } getOptionalContentConfig({ intent: t = "display" } = {}) { const { renderingIntent: e } = this._transport.getRenderingIntent(t); return this._transport.getOptionalContentConfig(e) } getPermissions() { return this._transport.getPermissions() } getMetadata() { return this._transport.getMetadata() } getMarkInfo() { return this._transport.getMarkInfo() } getData() { return this._transport.getData() } saveDocument() { return this._transport.saveDocument() } getDownloadInfo() { return this._transport.downloadInfoCapability.promise } cleanup(t = !1) { return this._transport.startCleanup(t || this.isPureXfa) } destroy() { return this.loadingTask.destroy() } cachedPageNumber(t) { return this._transport.cachedPageNumber(t) } get loadingParams() { return this._transport.loadingParams } get loadingTask() { return this._transport.loadingTask } getFieldObjects() { return this._transport.getFieldObjects() } hasJSActions() { return this._transport.hasJSActions() } getCalculationOrderIds() { return this._transport.getCalculationOrderIds() } } class hF { #t = !1; constructor(t, e, n, r = !1) { this._pageIndex = t, this._pageInfo = e, this._transport = n, this._stats = r ? new uS : null, this._pdfBug = r, this.commonObjs = n.commonObjs, this.objs = new z3, this._intentStates = new Map, this.destroyed = !1 } get pageNumber() { return this._pageIndex + 1 } get rotate() { return this._pageInfo.rotate } get ref() { return this._pageInfo.ref } get userUnit() { return this._pageInfo.userUnit } get view() { return this._pageInfo.view } getViewport({ scale: t, rotation: e = this.rotate, offsetX: n = 0, offsetY: r = 0, dontFlip: s = !1 } = {}) { return new Kp({ viewBox: this.view, userUnit: this.userUnit, scale: t, rotation: e, offsetX: n, offsetY: r, dontFlip: s }) } getAnnotations({ intent: t = "display" } = {}) { const { renderingIntent: e } = this._transport.getRenderingIntent(t); return this._transport.getAnnotations(this._pageIndex, e) } getJSActions() { return this._transport.getPageJSActions(this._pageIndex) } get filterFactory() { return this._transport.filterFactory } get isPureXfa() { return sn(this, "isPureXfa", !!this._transport._htmlForXfa) } async getXfa() { return this._transport._htmlForXfa?.children[this._pageIndex] || null } render({ canvasContext: t, viewport: e, intent: n = "display", annotationMode: r = Ho.ENABLE, transform: s = null, background: o = null, optionalContentConfigPromise: c = null, annotationCanvasMap: u = null, pageColors: d = null, printAnnotationStorage: f = null, isEditing: p = !1 }) { this._stats?.time("Overall"); const m = this._transport.getRenderingIntent(n, r, f, p), { renderingIntent: v, cacheKey: x } = m; this.#t = !1, c ||= this._transport.getOptionalContentConfig(v); let y = this._intentStates.get(x); y || (y = Object.create(null), this._intentStates.set(x, y)), y.streamReaderCancelTimeout && (clearTimeout(y.streamReaderCancelTimeout), y.streamReaderCancelTimeout = null); const E = !!(v & Ds.PRINT); y.displayReadyCapability || (y.displayReadyCapability = Promise.withResolvers(), y.operatorList = { fnArray: [], argsArray: [], lastChunk: !1, separateAnnots: null }, this._stats?.time("Page Request"), this._pumpOperatorList(m)); const A = k => { y.renderTasks.delete(T), E && (this.#t = !0), this.#e(), k ? (T.capability.reject(k), this._abortOperatorList({ intentState: y, reason: k instanceof Error ? k : new Error(k) })) : T.capability.resolve(), this._stats && (this._stats.timeEnd("Rendering"), this._stats.timeEnd("Overall"), globalThis.Stats?.enabled && globalThis.Stats.add(this.pageNumber, this._stats)) }, T = new vd({ callback: A, params: { canvasContext: t, viewport: e, transform: s, background: o }, objs: this.objs, commonObjs: this.commonObjs, annotationCanvasMap: u, operatorList: y.operatorList, pageIndex: this._pageIndex, canvasFactory: this._transport.canvasFactory, filterFactory: this._transport.filterFactory, useRequestAnimationFrame: !E, pdfBug: this._pdfBug, pageColors: d }); (y.renderTasks ||= new Set).add(T); const L = T.task; return Promise.all([y.displayReadyCapability.promise, c]).then(([k, O]) => { if (this.destroyed) { A(); return } if (this._stats?.time("Rendering"), !(O.renderingIntent & v)) throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods."); T.initializeGraphics({ transparency: k, optionalContentConfig: O }), T.operatorListChanged() }).catch(A), L } getOperatorList({ intent: t = "display", annotationMode: e = Ho.ENABLE, printAnnotationStorage: n = null, isEditing: r = !1 } = {}) { function s() { c.operatorList.lastChunk && (c.opListReadCapability.resolve(c.operatorList), c.renderTasks.delete(u)) } const o = this._transport.getRenderingIntent(t, e, n, r, !0); let c = this._intentStates.get(o.cacheKey); c || (c = Object.create(null), this._intentStates.set(o.cacheKey, c)); let u; return c.opListReadCapability || (u = Object.create(null), u.operatorListChanged = s, c.opListReadCapability = Promise.withResolvers(), (c.renderTasks ||= new Set).add(u), c.operatorList = { fnArray: [], argsArray: [], lastChunk: !1, separateAnnots: null }, this._stats?.time("Page Request"), this._pumpOperatorList(o)), c.opListReadCapability.promise } streamTextContent({ includeMarkedContent: t = !1, disableNormalization: e = !1 } = {}) { return this._transport.messageHandler.sendWithStream("GetTextContent", { pageIndex: this._pageIndex, includeMarkedContent: t === !0, disableNormalization: e === !0 }, { highWaterMark: 100, size(r) { return r.items.length } }) } getTextContent(t = {}) { if (this._transport._htmlForXfa) return this.getXfa().then(n => Ep.textContent(n)); const e = this.streamTextContent(t); return new Promise(function (n, r) { function s() { o.read().then(function ({ value: u, done: d }) { if (d) { n(c); return } c.lang ??= u.lang, Object.assign(c.styles, u.styles), c.items.push(...u.items), s() }, r) } const o = e.getReader(), c = { items: [], styles: Object.create(null), lang: null }; s() }) } getStructTree() { return this._transport.getStructTree(this._pageIndex) } _destroy() { this.destroyed = !0; const t = []; for (const e of this._intentStates.values()) if (this._abortOperatorList({ intentState: e, reason: new Error("Page was destroyed."), force: !0 }), !e.opListReadCapability) for (const n of e.renderTasks) t.push(n.completed), n.cancel(); return this.objs.clear(), this.#t = !1, Promise.all(t) } cleanup(t = !1) { this.#t = !0; const e = this.#e(); return t && e && (this._stats &&= new uS), e } #e() { if (!this.#t || this.destroyed) return !1; for (const { renderTasks: t, operatorList: e } of this._intentStates.values()) if (t.size > 0 || !e.lastChunk) return !1; return this._intentStates.clear(), this.objs.clear(), this.#t = !1, !0 } _startRenderPage(t, e) { const n = this._intentStates.get(e); n && (this._stats?.timeEnd("Page Request"), n.displayReadyCapability?.resolve(t)) } _renderPageChunk(t, e) { for (let n = 0, r = t.length; n < r; n++)e.operatorList.fnArray.push(t.fnArray[n]), e.operatorList.argsArray.push(t.argsArray[n]); e.operatorList.lastChunk = t.lastChunk, e.operatorList.separateAnnots = t.separateAnnots; for (const n of e.renderTasks) n.operatorListChanged(); t.lastChunk && this.#e() } _pumpOperatorList({ renderingIntent: t, cacheKey: e, annotationStorageSerializable: n, modifiedIds: r }) { const { map: s, transfer: o } = n, u = this._transport.messageHandler.sendWithStream("GetOperatorList", { pageIndex: this._pageIndex, intent: t, cacheKey: e, annotationStorage: s, modifiedIds: r }, o).getReader(), d = this._intentStates.get(e); d.streamReader = u; const f = () => { u.read().then(({ value: p, done: m }) => { if (m) { d.streamReader = null; return } this._transport.destroyed || (this._renderPageChunk(p, d), f()) }, p => { if (d.streamReader = null, !this._transport.destroyed) { if (d.operatorList) { d.operatorList.lastChunk = !0; for (const m of d.renderTasks) m.operatorListChanged(); this.#e() } if (d.displayReadyCapability) d.displayReadyCapability.reject(p); else if (d.opListReadCapability) d.opListReadCapability.reject(p); else throw p } }) }; f() } _abortOperatorList({ intentState: t, reason: e, force: n = !1 }) { if (t.streamReader) { if (t.streamReaderCancelTimeout && (clearTimeout(t.streamReaderCancelTimeout), t.streamReaderCancelTimeout = null), !n) { if (t.renderTasks.size > 0) return; if (e instanceof j0) { let r = cF; e.extraDelay > 0 && e.extraDelay < 1e3 && (r += e.extraDelay), t.streamReaderCancelTimeout = setTimeout(() => { t.streamReaderCancelTimeout = null, this._abortOperatorList({ intentState: t, reason: e, force: !0 }) }, r); return } } if (t.streamReader.cancel(new Bl(e.message)).catch(() => { }), t.streamReader = null, !this._transport.destroyed) { for (const [r, s] of this._intentStates) if (s === t) { this._intentStates.delete(r); break } this.cleanup() } } } get stats() { return this._stats } } var Fc, za, kl, Ku, o0, Qu, Zu, ts, Fm, U3, H3, lp, Md, Bm; const si = class si { constructor({ name: t = null, port: e = null, verbosity: n = nI() } = {}) { Mo(this, ts); Mo(this, Fc, Promise.withResolvers()); Mo(this, za, null); Mo(this, kl, null); Mo(this, Ku, null); if (this.name = t, this.destroyed = !1, this.verbosity = n, e) { if (ri(si, Zu).has(e)) throw new Error("Cannot use more than one PDFWorker per port."); ri(si, Zu).set(e, this), Po(this, ts, U3).call(this, e) } else Po(this, ts, H3).call(this) } get promise() { return ri(this, Fc).promise } get port() { return ri(this, kl) } get messageHandler() { return ri(this, za) } destroy() { this.destroyed = !0, ri(this, Ku)?.terminate(), hs(this, Ku, null), ri(si, Zu).delete(ri(this, kl)), hs(this, kl, null), ri(this, za)?.destroy(), hs(this, za, null) } static create(t) { const e = ri(this, Zu).get(t?.port); if (e) { if (e._pendingDestroy) throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls."); return e } return new si(t) } static get workerSrc() { if (Yo.workerSrc) return Yo.workerSrc; throw new Error('No "GlobalWorkerOptions.workerSrc" specified.') } static get _setupFakeWorkerGlobal() { return sn(this, "_setupFakeWorkerGlobal", (async () => ri(this, Md, Bm) ? ri(this, Md, Bm) : (await import(this.workerSrc)).WorkerMessageHandler)()) } }; Fc = new WeakMap, za = new WeakMap, kl = new WeakMap, Ku = new WeakMap, o0 = new WeakMap, Qu = new WeakMap, Zu = new WeakMap, ts = new WeakSet, Fm = function () { ri(this, Fc).resolve(), ri(this, za).send("configure", { verbosity: this.verbosity }) }, U3 = function (t) { hs(this, kl, t), hs(this, za, new op("main", "worker", t)), ri(this, za).on("ready", () => { }), Po(this, ts, Fm).call(this) }, H3 = function () { if (ri(si, Qu) || ri(si, Md, Bm)) { Po(this, ts, lp).call(this); return } let { workerSrc: t } = si; try { si._isSameOrigin(window.location, t) || (t = si._createCDNWrapper(new URL(t, window.location).href)); const e = new Worker(t, { type: "module" }), n = new op("main", "worker", e), r = () => { s.abort(), n.destroy(), e.terminate(), this.destroyed ? ri(this, Fc).reject(new Error("Worker was destroyed")) : Po(this, ts, lp).call(this) }, s = new AbortController; e.addEventListener("error", () => { ri(this, Ku) || r() }, { signal: s.signal }), n.on("test", c => { if (s.abort(), this.destroyed || !c) { r(); return } hs(this, za, n), hs(this, kl, e), hs(this, Ku, e), Po(this, ts, Fm).call(this) }), n.on("ready", c => { if (s.abort(), this.destroyed) { r(); return } try { o() } catch { Po(this, ts, lp).call(this) } }); const o = () => { const c = new Uint8Array; n.send("test", c, [c.buffer]) }; o(); return } catch { D0("The worker has been disabled.") } Po(this, ts, lp).call(this) }, lp = function () { ri(si, Qu) || (He("Setting up fake worker."), hs(si, Qu, !0)), si._setupFakeWorkerGlobal.then(t => { if (this.destroyed) { ri(this, Fc).reject(new Error("Worker was destroyed")); return } const e = new SI; hs(this, kl, e); const n = `fake${A5(si, o0)._++}`, r = new op(n + "_worker", n, e); t.setup(r, e), hs(this, za, new op(n, n + "_worker", e)), Po(this, ts, Fm).call(this) }).catch(t => { ri(this, Fc).reject(new Error(`Setting up fake worker failed: "${t.message}".`)) }) }, Md = new WeakSet, Bm = function () { try { return globalThis.pdfjsWorker?.WorkerMessageHandler || null } catch { return null } }, Mo(si, Md), Mo(si, o0, 0), Mo(si, Qu, !1), Mo(si, Zu, new WeakMap), Zr && (hs(si, Qu, !0), Yo.workerSrc ||= "./pdf.worker.mjs"), si._isSameOrigin = (t, e) => { const n = URL.parse(t); if (!n?.origin || n.origin === "null") return !1; const r = new URL(e, n); return n.origin === r.origin }, si._createCDNWrapper = t => { const e = `await import("${t}");`; return URL.createObjectURL(new Blob([e], { type: "text/javascript" })) }, si.fromPort = t => { if (hI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."), !t?.port) throw new Error("PDFWorker.fromPort - invalid method signature."); return si.create(t) }; let jd = si; class dF { #t = new Map; #e = new Map; #n = new Map; #i = new Map; #s = null; constructor(t, e, n, r, s) { this.messageHandler = t, this.loadingTask = e, this.commonObjs = new z3, this.fontLoader = new vI({ ownerDocument: r.ownerDocument, styleElement: r.styleElement }), this.loadingParams = r.loadingParams, this._params = r, this.canvasFactory = s.canvasFactory, this.filterFactory = s.filterFactory, this.cMapReaderFactory = s.cMapReaderFactory, this.standardFontDataFactory = s.standardFontDataFactory, this.wasmFactory = s.wasmFactory, this.destroyed = !1, this.destroyCapability = null, this._networkStream = n, this._fullReader = null, this._lastProgress = null, this.downloadInfoCapability = Promise.withResolvers(), this.setupMessageHandler() } #r(t, e = null) { const n = this.#t.get(t); if (n) return n; const r = this.messageHandler.sendWithPromise(t, e); return this.#t.set(t, r), r } get annotationStorage() { return sn(this, "annotationStorage", new o2) } getRenderingIntent(t, e = Ho.ENABLE, n = null, r = !1, s = !1) { let o = Ds.DISPLAY, c = Db; switch (t) { case "any": o = Ds.ANY; break; case "display": break; case "print": o = Ds.PRINT; break; default: He(`getRenderingIntent - invalid intent: ${t}`) }const u = o & Ds.PRINT && n instanceof N3 ? n : this.annotationStorage; switch (e) { case Ho.DISABLE: o += Ds.ANNOTATIONS_DISABLE; break; case Ho.ENABLE: break; case Ho.ENABLE_FORMS: o += Ds.ANNOTATIONS_FORMS; break; case Ho.ENABLE_STORAGE: o += Ds.ANNOTATIONS_STORAGE, c = u.serializable; break; default: He(`getRenderingIntent - invalid annotationMode: ${e}`) }r && (o += Ds.IS_EDITING), s && (o += Ds.OPLIST); const { ids: d, hash: f } = u.modifiedIds, p = [o, c.hash, f]; return { renderingIntent: o, cacheKey: p.join("_"), annotationStorageSerializable: c, modifiedIds: d } } destroy() { if (this.destroyCapability) return this.destroyCapability.promise; this.destroyed = !0, this.destroyCapability = Promise.withResolvers(), this.#s?.reject(new Error("Worker was destroyed during onPassword callback")); const t = []; for (const n of this.#e.values()) t.push(n._destroy()); this.#e.clear(), this.#n.clear(), this.#i.clear(), this.hasOwnProperty("annotationStorage") && this.annotationStorage.resetModified(); const e = this.messageHandler.sendWithPromise("Terminate", null); return t.push(e), Promise.all(t).then(() => { this.commonObjs.clear(), this.fontLoader.clear(), this.#t.clear(), this.filterFactory.destroy(), Ap.cleanup(), this._networkStream?.cancelAllRequests(new Bl("Worker was terminated.")), this.messageHandler?.destroy(), this.messageHandler = null, this.destroyCapability.resolve() }, this.destroyCapability.reject), this.destroyCapability.promise } setupMessageHandler() { const { messageHandler: t, loadingTask: e } = this; t.on("GetReader", (n, r) => { qi(this._networkStream, "GetReader - no `IPDFStream` instance available."), this._fullReader = this._networkStream.getFullReader(), this._fullReader.onProgress = s => { this._lastProgress = { loaded: s.loaded, total: s.total } }, r.onPull = () => { this._fullReader.read().then(function ({ value: s, done: o }) { if (o) { r.close(); return } qi(s instanceof ArrayBuffer, "GetReader - expected an ArrayBuffer."), r.enqueue(new Uint8Array(s), 1, [s]) }).catch(s => { r.error(s) }) }, r.onCancel = s => { this._fullReader.cancel(s), r.ready.catch(o => { if (!this.destroyed) throw o }) } }), t.on("ReaderHeadersReady", async n => { await this._fullReader.headersReady; const { isStreamingSupported: r, isRangeSupported: s, contentLength: o } = this._fullReader; return (!r || !s) && (this._lastProgress && e.onProgress?.(this._lastProgress), this._fullReader.onProgress = c => { e.onProgress?.({ loaded: c.loaded, total: c.total }) }), { isStreamingSupported: r, isRangeSupported: s, contentLength: o } }), t.on("GetRangeReader", (n, r) => { qi(this._networkStream, "GetRangeReader - no `IPDFStream` instance available."); const s = this._networkStream.getRangeReader(n.begin, n.end); if (!s) { r.close(); return } r.onPull = () => { s.read().then(function ({ value: o, done: c }) { if (c) { r.close(); return } qi(o instanceof ArrayBuffer, "GetRangeReader - expected an ArrayBuffer."), r.enqueue(new Uint8Array(o), 1, [o]) }).catch(o => { r.error(o) }) }, r.onCancel = o => { s.cancel(o), r.ready.catch(c => { if (!this.destroyed) throw c }) } }), t.on("GetDoc", ({ pdfInfo: n }) => { this._numPages = n.numPages, this._htmlForXfa = n.htmlForXfa, delete n.htmlForXfa, e._capability.resolve(new uF(n, this)) }), t.on("DocException", n => { e._capability.reject(ds(n)) }), t.on("PasswordRequest", n => { this.#s = Promise.withResolvers(); try { if (!e.onPassword) throw ds(n); const r = s => { s instanceof Error ? this.#s.reject(s) : this.#s.resolve({ password: s }) }; e.onPassword(r, n.code) } catch (r) { this.#s.reject(r) } return this.#s.promise }), t.on("DataLoaded", n => { e.onProgress?.({ loaded: n.length, total: n.length }), this.downloadInfoCapability.resolve(n) }), t.on("StartRenderPage", n => { if (this.destroyed) return; this.#e.get(n.pageIndex)._startRenderPage(n.transparency, n.cacheKey) }), t.on("commonobj", ([n, r, s]) => { if (this.destroyed || this.commonObjs.has(n)) return null; switch (r) { case "Font": if ("error" in s) { const d = s.error; He(`Error during font loading: ${d}`), this.commonObjs.resolve(n, d); break } const o = this._params.pdfBug && globalThis.FontInspector?.enabled ? (d, f) => globalThis.FontInspector.fontAdded(d, f) : null, c = new bI(s, o); this.fontLoader.bind(c).catch(() => t.sendWithPromise("FontFallback", { id: n })).finally(() => { !c.fontExtraProperties && c.data && (c.data = null), this.commonObjs.resolve(n, c) }); break; case "CopyLocalImage": const { imageRef: u } = s; qi(u, "The imageRef must be defined."); for (const d of this.#e.values()) for (const [, f] of d.objs) if (f?.ref === u) return f.dataLen ? (this.commonObjs.resolve(n, structuredClone(f)), f.dataLen) : null; break; case "FontPath": case "Image": case "Pattern": this.commonObjs.resolve(n, s); break; default: throw new Error(`Got unknown common object type ${r}`) }return null }), t.on("obj", ([n, r, s, o]) => { if (this.destroyed) return; const c = this.#e.get(r); if (!c.objs.has(n)) { if (c._intentStates.size === 0) { o?.bitmap?.close(); return } switch (s) { case "Image": case "Pattern": c.objs.resolve(n, o); break; default: throw new Error(`Got unknown object type ${s}`) } } }), t.on("DocProgress", n => { this.destroyed || e.onProgress?.({ loaded: n.loaded, total: n.total }) }), t.on("FetchBinaryData", async n => { if (this.destroyed) throw new Error("Worker was destroyed."); const r = this[n.type]; if (!r) throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`); return r.fetch(n) }) } getData() { return this.messageHandler.sendWithPromise("GetData", null) } saveDocument() { this.annotationStorage.size <= 0 && He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."); const { map: t, transfer: e } = this.annotationStorage.serializable; return this.messageHandler.sendWithPromise("SaveDocument", { isPureXfa: !!this._htmlForXfa, numPages: this._numPages, annotationStorage: t, filename: this._fullReader?.filename ?? null }, e).finally(() => { this.annotationStorage.resetModified() }) } getPage(t) { if (!Number.isInteger(t) || t <= 0 || t > this._numPages) return Promise.reject(new Error("Invalid page request.")); const e = t - 1, n = this.#n.get(e); if (n) return n; const r = this.messageHandler.sendWithPromise("GetPage", { pageIndex: e }).then(s => { if (this.destroyed) throw new Error("Transport destroyed"); s.refStr && this.#i.set(s.refStr, t); const o = new hF(e, s, this, this._params.pdfBug); return this.#e.set(e, o), o }); return this.#n.set(e, r), r } getPageIndex(t) { return jb(t) ? this.messageHandler.sendWithPromise("GetPageIndex", { num: t.num, gen: t.gen }) : Promise.reject(new Error("Invalid pageIndex request.")) } getAnnotations(t, e) { return this.messageHandler.sendWithPromise("GetAnnotations", { pageIndex: t, intent: e }) } getFieldObjects() { return this.#r("GetFieldObjects") } hasJSActions() { return this.#r("HasJSActions") } getCalculationOrderIds() { return this.messageHandler.sendWithPromise("GetCalculationOrderIds", null) } getDestinations() { return this.messageHandler.sendWithPromise("GetDestinations", null) } getDestination(t) { return typeof t != "string" ? Promise.reject(new Error("Invalid destination request.")) : this.messageHandler.sendWithPromise("GetDestination", { id: t }) } getPageLabels() { return this.messageHandler.sendWithPromise("GetPageLabels", null) } getPageLayout() { return this.messageHandler.sendWithPromise("GetPageLayout", null) } getPageMode() { return this.messageHandler.sendWithPromise("GetPageMode", null) } getViewerPreferences() { return this.messageHandler.sendWithPromise("GetViewerPreferences", null) } getOpenAction() { return this.messageHandler.sendWithPromise("GetOpenAction", null) } getAttachments() { return this.messageHandler.sendWithPromise("GetAttachments", null) } getDocJSActions() { return this.#r("GetDocJSActions") } getPageJSActions(t) { return this.messageHandler.sendWithPromise("GetPageJSActions", { pageIndex: t }) } getStructTree(t) { return this.messageHandler.sendWithPromise("GetStructTree", { pageIndex: t }) } getOutline() { return this.messageHandler.sendWithPromise("GetOutline", null) } getOptionalContentConfig(t) { return this.#r("GetOptionalContentConfig").then(e => new VI(e, t)) } getPermissions() { return this.messageHandler.sendWithPromise("GetPermissions", null) } getMetadata() { const t = "GetMetadata", e = this.#t.get(t); if (e) return e; const n = this.messageHandler.sendWithPromise(t, null).then(r => ({ info: r[0], metadata: r[1] ? new HI(r[1]) : null, contentDispositionFilename: this._fullReader?.filename ?? null, contentLength: this._fullReader?.contentLength ?? null })); return this.#t.set(t, n), n } getMarkInfo() { return this.messageHandler.sendWithPromise("GetMarkInfo", null) } async startCleanup(t = !1) { if (!this.destroyed) { await this.messageHandler.sendWithPromise("Cleanup", null); for (const e of this.#e.values()) if (!e.cleanup()) throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`); this.commonObjs.clear(), t || this.fontLoader.clear(), this.#t.clear(), this.filterFactory.destroy(!0), Ap.cleanup() } } cachedPageNumber(t) { if (!jb(t)) return null; const e = t.gen === 0 ? `${t.num}R` : `${t.num}R${t.gen}`; return this.#i.get(e) ?? null } } class fF { #t = null; onContinue = null; onError = null; constructor(t) { this.#t = t } get promise() { return this.#t.capability.promise } cancel(t = 0) { this.#t.cancel(null, t) } get separateAnnots() { const { separateAnnots: t } = this.#t.operatorList; if (!t) return !1; const { annotationCanvasMap: e } = this.#t; return t.form || t.canvas && e?.size > 0 } } class vd { #t = null; static #e = new WeakSet; constructor({ callback: t, params: e, objs: n, commonObjs: r, annotationCanvasMap: s, operatorList: o, pageIndex: c, canvasFactory: u, filterFactory: d, useRequestAnimationFrame: f = !1, pdfBug: p = !1, pageColors: m = null }) { this.callback = t, this.params = e, this.objs = n, this.commonObjs = r, this.annotationCanvasMap = s, this.operatorListIdx = null, this.operatorList = o, this._pageIndex = c, this.canvasFactory = u, this.filterFactory = d, this._pdfBug = p, this.pageColors = m, this.running = !1, this.graphicsReadyCallback = null, this.graphicsReady = !1, this._useRequestAnimationFrame = f === !0 && typeof window < "u", this.cancelled = !1, this.capability = Promise.withResolvers(), this.task = new fF(this), this._cancelBound = this.cancel.bind(this), this._continueBound = this._continue.bind(this), this._scheduleNextBound = this._scheduleNext.bind(this), this._nextBound = this._next.bind(this), this._canvas = e.canvasContext.canvas } get completed() { return this.capability.promise.catch(function () { }) } initializeGraphics({ transparency: t = !1, optionalContentConfig: e }) { if (this.cancelled) return; if (this._canvas) { if (vd.#e.has(this._canvas)) throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed."); vd.#e.add(this._canvas) } this._pdfBug && globalThis.StepperManager?.enabled && (this.stepper = globalThis.StepperManager.create(this._pageIndex), this.stepper.init(this.operatorList), this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint()); const { canvasContext: n, viewport: r, transform: s, background: o } = this.params; this.gfx = new Ad(n, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, { optionalContentConfig: e }, this.annotationCanvasMap, this.pageColors), this.gfx.beginDrawing({ transform: s, viewport: r, transparency: t, background: o }), this.operatorListIdx = 0, this.graphicsReady = !0, this.graphicsReadyCallback?.() } cancel(t = null, e = 0) { this.running = !1, this.cancelled = !0, this.gfx?.endDrawing(), this.#t && (window.cancelAnimationFrame(this.#t), this.#t = null), vd.#e.delete(this._canvas), t ||= new j0(`Rendering cancelled, page ${this._pageIndex + 1}`, e), this.callback(t), this.task.onError?.(t) } operatorListChanged() { if (!this.graphicsReady) { this.graphicsReadyCallback ||= this._continueBound; return } this.stepper?.updateOperatorList(this.operatorList), !this.running && this._continue() } _continue() { this.running = !0, !this.cancelled && (this.task.onContinue ? this.task.onContinue(this._scheduleNextBound) : this._scheduleNext()) } _scheduleNext() { this._useRequestAnimationFrame ? this.#t = window.requestAnimationFrame(() => { this.#t = null, this._nextBound().catch(this._cancelBound) }) : Promise.resolve().then(this._nextBound).catch(this._cancelBound) } async _next() { this.cancelled || (this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper), this.operatorListIdx === this.operatorList.argsArray.length && (this.running = !1, this.operatorList.lastChunk && (this.gfx.endDrawing(), vd.#e.delete(this._canvas), this.callback()))) } } const B0 = "5.3.31", q3 = "47ad820d9"; function CS(i) { return Math.floor(Math.max(0, Math.min(1, i)) * 255).toString(16).padStart(2, "0") } function ep(i) { return Math.max(0, Math.min(255, 255 * i)) } class NS { static CMYK_G([t, e, n, r]) { return ["G", 1 - Math.min(1, .3 * t + .59 * n + .11 * e + r)] } static G_CMYK([t]) { return ["CMYK", 0, 0, 0, 1 - t] } static G_RGB([t]) { return ["RGB", t, t, t] } static G_rgb([t]) { return t = ep(t), [t, t, t] } static G_HTML([t]) { const e = CS(t); return `#${e}${e}${e}` } static RGB_G([t, e, n]) { return ["G", .3 * t + .59 * e + .11 * n] } static RGB_rgb(t) { return t.map(ep) } static RGB_HTML(t) { return `#${t.map(CS).join("")}` } static T_HTML() { return "#00000000" } static T_rgb() { return [null] } static CMYK_RGB([t, e, n, r]) { return ["RGB", 1 - Math.min(1, t + r), 1 - Math.min(1, n + r), 1 - Math.min(1, e + r)] } static CMYK_rgb([t, e, n, r]) { return [ep(1 - Math.min(1, t + r)), ep(1 - Math.min(1, n + r)), ep(1 - Math.min(1, e + r))] } static CMYK_HTML(t) { const e = this.CMYK_RGB(t).slice(1); return this.RGB_HTML(e) } static RGB_CMYK([t, e, n]) { const r = 1 - t, s = 1 - e, o = 1 - n, c = Math.min(r, s, o); return ["CMYK", r, s, o, c] } } class pF { create(t, e, n = !1) { if (t <= 0 || e <= 0) throw new Error("Invalid SVG dimensions"); const r = this._createSVG("svg:svg"); return r.setAttribute("version", "1.1"), n || (r.setAttribute("width", `${t}px`), r.setAttribute("height", `${e}px`)), r.setAttribute("preserveAspectRatio", "none"), r.setAttribute("viewBox", `0 0 ${t} ${e}`), r } createElement(t) { if (typeof t != "string") throw new Error("Invalid SVG element type"); return this._createSVG(t) } _createSVG(t) { jn("Abstract method `_createSVG` called.") } } class _p extends pF { _createSVG(t) { return document.createElementNS(Ol, t) } } class p2 { static setupStorage(t, e, n, r, s) { const o = r.getValue(e, { value: null }); switch (n.name) { case "textarea": if (o.value !== null && (t.textContent = o.value), s === "print") break; t.addEventListener("input", c => { r.setValue(e, { value: c.target.value }) }); break; case "input": if (n.attributes.type === "radio" || n.attributes.type === "checkbox") { if (o.value === n.attributes.xfaOn ? t.setAttribute("checked", !0) : o.value === n.attributes.xfaOff && t.removeAttribute("checked"), s === "print") break; t.addEventListener("change", c => { r.setValue(e, { value: c.target.checked ? c.target.getAttribute("xfaOn") : c.target.getAttribute("xfaOff") }) }) } else { if (o.value !== null && t.setAttribute("value", o.value), s === "print") break; t.addEventListener("input", c => { r.setValue(e, { value: c.target.value }) }) } break; case "select": if (o.value !== null) { t.setAttribute("value", o.value); for (const c of n.children) c.attributes.value === o.value ? c.attributes.selected = !0 : c.attributes.hasOwnProperty("selected") && delete c.attributes.selected } t.addEventListener("input", c => { const u = c.target.options, d = u.selectedIndex === -1 ? "" : u[u.selectedIndex].value; r.setValue(e, { value: d }) }); break } } static setAttributes({ html: t, element: e, storage: n = null, intent: r, linkService: s }) { const { attributes: o } = e, c = t instanceof HTMLAnchorElement; o.type === "radio" && (o.name = `${o.name}-${r}`); for (const [u, d] of Object.entries(o)) if (d != null) switch (u) { case "class": d.length && t.setAttribute(u, d.join(" ")); break; case "dataId": break; case "id": t.setAttribute("data-element-id", d); break; case "style": Object.assign(t.style, d); break; case "textContent": t.textContent = d; break; default: (!c || u !== "href" && u !== "newWindow") && t.setAttribute(u, d) }c && s.addLinkAttributes(t, o.href, o.newWindow), n && o.dataId && this.setupStorage(t, o.dataId, e, n) } static render(t) { const e = t.annotationStorage, n = t.linkService, r = t.xfaHtml, s = t.intent || "display", o = document.createElement(r.name); r.attributes && this.setAttributes({ html: o, element: r, intent: s, linkService: n }); const c = s !== "richText", u = t.div; if (u.append(o), t.viewport) { const p = `matrix(${t.viewport.transform.join(",")})`; u.style.transform = p } c && u.setAttribute("class", "xfaLayer xfaFont"); const d = []; if (r.children.length === 0) { if (r.value) { const p = document.createTextNode(r.value); o.append(p), c && Ep.shouldBuildText(r.name) && d.push(p) } return { textDivs: d } } const f = [[r, -1, o]]; for (; f.length > 0;) { const [p, m, v] = f.at(-1); if (m + 1 === p.children.length) { f.pop(); continue } const x = p.children[++f.at(-1)[1]]; if (x === null) continue; const { name: y } = x; if (y === "#text") { const A = document.createTextNode(x.value); d.push(A), v.append(A); continue } const E = x?.attributes?.xmlns ? document.createElementNS(x.attributes.xmlns, y) : document.createElement(y); if (v.append(E), x.attributes && this.setAttributes({ html: E, element: x, storage: e, intent: s, linkService: n }), x.children?.length > 0) f.push([x, -1, E]); else if (x.value) { const A = document.createTextNode(x.value); c && Ep.shouldBuildText(y) && d.push(A), E.append(A) } } for (const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")) p.setAttribute("readOnly", !0); return { textDivs: d } } static update(t) { const e = `matrix(${t.viewport.transform.join(",")})`; t.div.style.transform = e, t.div.hidden = !1 } } const eg = 1e3, gF = 9, hh = new WeakSet; class RS { static create(t) { switch (t.data.annotationType) { case Ni.LINK: return new V3(t); case Ni.TEXT: return new mF(t); case Ni.WIDGET: switch (t.data.fieldType) { case "Tx": return new vF(t); case "Btn": return t.data.radioButton ? new G3(t) : t.data.checkBox ? new yF(t) : new wF(t); case "Ch": return new xF(t); case "Sig": return new bF(t) }return new gh(t); case Ni.POPUP: return new Fb(t); case Ni.FREETEXT: return new $3(t); case Ni.LINE: return new AF(t); case Ni.SQUARE: return new EF(t); case Ni.CIRCLE: return new _F(t); case Ni.POLYLINE: return new W3(t); case Ni.CARET: return new NF(t); case Ni.INK: return new g2(t); case Ni.POLYGON: return new CF(t); case Ni.HIGHLIGHT: return new Y3(t); case Ni.UNDERLINE: return new RF(t); case Ni.SQUIGGLY: return new TF(t); case Ni.STRIKEOUT: return new LF(t); case Ni.STAMP: return new X3(t); case Ni.FILEATTACHMENT: return new MF(t); default: return new ki(t) } } } class ki { #t = null; #e = !1; #n = null; constructor(t, { isRenderable: e = !1, ignoreBorder: n = !1, createQuadrilaterals: r = !1 } = {}) { this.isRenderable = e, this.data = t.data, this.layer = t.layer, this.linkService = t.linkService, this.downloadManager = t.downloadManager, this.imageResourcesPath = t.imageResourcesPath, this.renderForms = t.renderForms, this.svgFactory = t.svgFactory, this.annotationStorage = t.annotationStorage, this.enableScripting = t.enableScripting, this.hasJSActions = t.hasJSActions, this._fieldObjects = t.fieldObjects, this.parent = t.parent, e && (this.container = this._createContainer(n)), r && this._createQuadrilaterals() } static _hasPopupData({ titleObj: t, contentsObj: e, richText: n }) { return !!(t?.str || e?.str || n?.str) } get _isEditable() { return this.data.isEditable } get hasPopupData() { return ki._hasPopupData(this.data) } updateEdited(t) { if (!this.container) return; this.#t ||= { rect: this.data.rect.slice(0) }; const { rect: e } = t; e && this.#i(e), this.#n?.popup.updateEdited(t) } resetEdited() { this.#t && (this.#i(this.#t.rect), this.#n?.popup.resetEdited(), this.#t = null) } #i(t) { const { container: { style: e }, data: { rect: n, rotation: r }, parent: { viewport: { rawDims: { pageWidth: s, pageHeight: o, pageX: c, pageY: u } } } } = this; n?.splice(0, 4, ...t), e.left = `${100 * (t[0] - c) / s}%`, e.top = `${100 * (o - t[3] + u) / o}%`, r === 0 ? (e.width = `${100 * (t[2] - t[0]) / s}%`, e.height = `${100 * (t[3] - t[1]) / o}%`) : this.setRotation(r) } _createContainer(t) { const { data: e, parent: { page: n, viewport: r } } = this, s = document.createElement("section"); s.setAttribute("data-annotation-id", e.id), this instanceof gh || (s.tabIndex = eg); const { style: o } = s; if (o.zIndex = this.parent.zIndex++, e.alternativeText && (s.title = e.alternativeText), e.noRotate && s.classList.add("norotate"), !e.rect || this instanceof Fb) { const { rotation: y } = e; return !e.hasOwnCanvas && y !== 0 && this.setRotation(y, s), s } const { width: c, height: u } = this; if (!t && e.borderStyle.width > 0) { o.borderWidth = `${e.borderStyle.width}px`; const y = e.borderStyle.horizontalCornerRadius, E = e.borderStyle.verticalCornerRadius; if (y > 0 || E > 0) { const T = `calc(${y}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`; o.borderRadius = T } else if (this instanceof G3) { const T = `calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`; o.borderRadius = T } switch (e.borderStyle.style) { case ud.SOLID: o.borderStyle = "solid"; break; case ud.DASHED: o.borderStyle = "dashed"; break; case ud.BEVELED: He("Unimplemented border style: beveled"); break; case ud.INSET: He("Unimplemented border style: inset"); break; case ud.UNDERLINE: o.borderBottomStyle = "solid"; break }const A = e.borderColor || null; A ? (this.#e = !0, o.borderColor = ye.makeHexColor(A[0] | 0, A[1] | 0, A[2] | 0)) : o.borderWidth = 0 } const d = ye.normalizeRect([e.rect[0], n.view[3] - e.rect[1] + n.view[1], e.rect[2], n.view[3] - e.rect[3] + n.view[1]]), { pageWidth: f, pageHeight: p, pageX: m, pageY: v } = r.rawDims; o.left = `${100 * (d[0] - m) / f}%`, o.top = `${100 * (d[1] - v) / p}%`; const { rotation: x } = e; return e.hasOwnCanvas || x === 0 ? (o.width = `${100 * c / f}%`, o.height = `${100 * u / p}%`) : this.setRotation(x, s), s } setRotation(t, e = this.container) { if (!this.data.rect) return; const { pageWidth: n, pageHeight: r } = this.parent.viewport.rawDims; let { width: s, height: o } = this; t % 180 !== 0 && ([s, o] = [o, s]), e.style.width = `${100 * s / n}%`, e.style.height = `${100 * o / r}%`, e.setAttribute("data-main-rotation", (360 - t) % 360) } get _commonActions() { const t = (e, n, r) => { const s = r.detail[e], o = s[0], c = s.slice(1); r.target.style[n] = NS[`${o}_HTML`](c), this.annotationStorage.setValue(this.data.id, { [n]: NS[`${o}_rgb`](c) }) }; return sn(this, "_commonActions", { display: e => { const { display: n } = e.detail, r = n % 2 === 1; this.container.style.visibility = r ? "hidden" : "visible", this.annotationStorage.setValue(this.data.id, { noView: r, noPrint: n === 1 || n === 2 }) }, print: e => { this.annotationStorage.setValue(this.data.id, { noPrint: !e.detail.print }) }, hidden: e => { const { hidden: n } = e.detail; this.container.style.visibility = n ? "hidden" : "visible", this.annotationStorage.setValue(this.data.id, { noPrint: n, noView: n }) }, focus: e => { setTimeout(() => e.target.focus({ preventScroll: !1 }), 0) }, userName: e => { e.target.title = e.detail.userName }, readonly: e => { e.target.disabled = e.detail.readonly }, required: e => { this._setRequired(e.target, e.detail.required) }, bgColor: e => { t("bgColor", "backgroundColor", e) }, fillColor: e => { t("fillColor", "backgroundColor", e) }, fgColor: e => { t("fgColor", "color", e) }, textColor: e => { t("textColor", "color", e) }, borderColor: e => { t("borderColor", "borderColor", e) }, strokeColor: e => { t("strokeColor", "borderColor", e) }, rotation: e => { const n = e.detail.rotation; this.setRotation(n), this.annotationStorage.setValue(this.data.id, { rotation: n }) } }) } _dispatchEventFromSandbox(t, e) { const n = this._commonActions; for (const r of Object.keys(e.detail)) (t[r] || n[r])?.(e) } _setDefaultPropertiesFromJS(t) { if (!this.enableScripting) return; const e = this.annotationStorage.getRawValue(this.data.id); if (!e) return; const n = this._commonActions; for (const [r, s] of Object.entries(e)) { const o = n[r]; if (o) { const c = { detail: { [r]: s }, target: t }; o(c), delete e[r] } } } _createQuadrilaterals() { if (!this.container) return; const { quadPoints: t } = this.data; if (!t) return; const [e, n, r, s] = this.data.rect.map(y => Math.fround(y)); if (t.length === 8) { const [y, E, A, T] = t.subarray(2, 6); if (r === y && s === E && e === A && n === T) return } const { style: o } = this.container; let c; if (this.#e) { const { borderColor: y, borderWidth: E } = o; o.borderWidth = 0, c = ["url('data:image/svg+xml;utf8,", '<svg xmlns="http://www.w3.org/2000/svg"', ' preserveAspectRatio="none" viewBox="0 0 1 1">', `<g fill="transparent" stroke="${y}" stroke-width="${E}">`], this.container.classList.add("hasBorder") } const u = r - e, d = s - n, { svgFactory: f } = this, p = f.createElement("svg"); p.classList.add("quadrilateralsContainer"), p.setAttribute("width", 0), p.setAttribute("height", 0); const m = f.createElement("defs"); p.append(m); const v = f.createElement("clipPath"), x = `clippath_${this.data.id}`; v.setAttribute("id", x), v.setAttribute("clipPathUnits", "objectBoundingBox"), m.append(v); for (let y = 2, E = t.length; y < E; y += 8) { const A = t[y], T = t[y + 1], L = t[y + 2], k = t[y + 3], O = f.createElement("rect"), F = (L - e) / u, D = (s - T) / d, j = (A - L) / u, J = (T - k) / d; O.setAttribute("x", F), O.setAttribute("y", D), O.setAttribute("width", j), O.setAttribute("height", J), v.append(O), c?.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${D}" width="${j}" height="${J}"/>`) } this.#e && (c.push("</g></svg>')"), o.backgroundImage = c.join("")), this.container.append(p), this.container.style.clipPath = `url(#${x})` } _createPopup() { const { data: t } = this, e = this.#n = new Fb({ data: { color: t.color, titleObj: t.titleObj, modificationDate: t.modificationDate, contentsObj: t.contentsObj, richText: t.richText, parentRect: t.rect, borderStyle: 0, id: `popup_${t.id}`, rotation: t.rotation }, parent: this.parent, elements: [this] }); this.parent.div.append(e.render()) } render() { jn("Abstract method `AnnotationElement.render` called") } _getElementsByName(t, e = null) { const n = []; if (this._fieldObjects) { const r = this._fieldObjects[t]; if (r) for (const { page: s, id: o, exportValues: c } of r) { if (s === -1 || o === e) continue; const u = typeof c == "string" ? c : null, d = document.querySelector(`[data-element-id="${o}"]`); if (d && !hh.has(d)) { He(`_getElementsByName - element not allowed: ${o}`); continue } n.push({ id: o, exportValue: u, domElement: d }) } return n } for (const r of document.getElementsByName(t)) { const { exportValue: s } = r, o = r.getAttribute("data-element-id"); o !== e && hh.has(r) && n.push({ id: o, exportValue: s, domElement: r }) } return n } show() { this.container && (this.container.hidden = !1), this.popup?.maybeShow() } hide() { this.container && (this.container.hidden = !0), this.popup?.forceHide() } getElementsToTriggerPopup() { return this.container } addHighlightArea() { const t = this.getElementsToTriggerPopup(); if (Array.isArray(t)) for (const e of t) e.classList.add("highlightArea"); else t.classList.add("highlightArea") } _editOnDoubleClick() { if (!this._isEditable) return; const { annotationEditorType: t, data: { id: e } } = this; this.container.addEventListener("dblclick", () => { this.linkService.eventBus?.dispatch("switchannotationeditormode", { source: this, mode: t, editId: e }) }) } get width() { return this.data.rect[2] - this.data.rect[0] } get height() { return this.data.rect[3] - this.data.rect[1] } } class V3 extends ki { constructor(t, e = null) { super(t, { isRenderable: !0, ignoreBorder: !!e?.ignoreBorder, createQuadrilaterals: !0 }), this.isTooltipOnly = t.data.isTooltipOnly } render() { const { data: t, linkService: e } = this, n = document.createElement("a"); n.setAttribute("data-element-id", t.id); let r = !1; return t.url ? (e.addLinkAttributes(n, t.url, t.newWindow), r = !0) : t.action ? (this._bindNamedAction(n, t.action), r = !0) : t.attachment ? (this.#e(n, t.attachment, t.attachmentDest), r = !0) : t.setOCGState ? (this.#n(n, t.setOCGState), r = !0) : t.dest ? (this._bindLink(n, t.dest), r = !0) : (t.actions && (t.actions.Action || t.actions["Mouse Up"] || t.actions["Mouse Down"]) && this.enableScripting && this.hasJSActions && (this._bindJSAction(n, t), r = !0), t.resetForm ? (this._bindResetFormAction(n, t.resetForm), r = !0) : this.isTooltipOnly && !r && (this._bindLink(n, ""), r = !0)), this.container.classList.add("linkAnnotation"), r && this.container.append(n), this.container } #t() { this.container.setAttribute("data-internal-link", "") } _bindLink(t, e) { t.href = this.linkService.getDestinationHash(e), t.onclick = () => (e && this.linkService.goToDestination(e), !1), (e || e === "") && this.#t() } _bindNamedAction(t, e) { t.href = this.linkService.getAnchorUrl(""), t.onclick = () => (this.linkService.executeNamedAction(e), !1), this.#t() } #e(t, e, n = null) { t.href = this.linkService.getAnchorUrl(""), e.description && (t.title = e.description), t.onclick = () => (this.downloadManager?.openOrDownloadData(e.content, e.filename, n), !1), this.#t() } #n(t, e) { t.href = this.linkService.getAnchorUrl(""), t.onclick = () => (this.linkService.executeSetOCGState(e), !1), this.#t() } _bindJSAction(t, e) { t.href = this.linkService.getAnchorUrl(""); const n = new Map([["Action", "onclick"], ["Mouse Up", "onmouseup"], ["Mouse Down", "onmousedown"]]); for (const r of Object.keys(e.actions)) { const s = n.get(r); s && (t[s] = () => (this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e.id, name: r } }), !1)) } t.onclick || (t.onclick = () => !1), this.#t() } _bindResetFormAction(t, e) { const n = t.onclick; if (n || (t.href = this.linkService.getAnchorUrl("")), this.#t(), !this._fieldObjects) { He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'), n || (t.onclick = () => !1); return } t.onclick = () => { n?.(); const { fields: r, refs: s, include: o } = e, c = []; if (r.length !== 0 || s.length !== 0) { const f = new Set(s); for (const p of r) { const m = this._fieldObjects[p] || []; for (const { id: v } of m) f.add(v) } for (const p of Object.values(this._fieldObjects)) for (const m of p) f.has(m.id) === o && c.push(m) } else for (const f of Object.values(this._fieldObjects)) c.push(...f); const u = this.annotationStorage, d = []; for (const f of c) { const { id: p } = f; switch (d.push(p), f.type) { case "text": { const v = f.defaultValue || ""; u.setValue(p, { value: v }); break } case "checkbox": case "radiobutton": { const v = f.defaultValue === f.exportValues; u.setValue(p, { value: v }); break } case "combobox": case "listbox": { const v = f.defaultValue || ""; u.setValue(p, { value: v }); break } default: continue }const m = document.querySelector(`[data-element-id="${p}"]`); if (m) { if (!hh.has(m)) { He(`_bindResetFormAction - element not allowed: ${p}`); continue } } else continue; m.dispatchEvent(new Event("resetform")) } return this.enableScripting && this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: "app", ids: d, name: "ResetForm" } }), !1 } } } class mF extends ki { constructor(t) { super(t, { isRenderable: !0 }) } render() { this.container.classList.add("textAnnotation"); const t = document.createElement("img"); return t.src = this.imageResourcesPath + "annotation-" + this.data.name.toLowerCase() + ".svg", t.setAttribute("data-l10n-id", "pdfjs-text-annotation-type"), t.setAttribute("data-l10n-args", JSON.stringify({ type: this.data.name })), !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container.append(t), this.container } } class gh extends ki { render() { return this.container } showElementAndHideCanvas(t) { this.data.hasOwnCanvas && (t.previousSibling?.nodeName === "CANVAS" && (t.previousSibling.hidden = !0), t.hidden = !1) } _getKeyModifier(t) { return gr.platform.isMac ? t.metaKey : t.ctrlKey } _setEventListener(t, e, n, r, s) { n.includes("mouse") ? t.addEventListener(n, o => { this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: this.data.id, name: r, value: s(o), shift: o.shiftKey, modifier: this._getKeyModifier(o) } }) }) : t.addEventListener(n, o => { if (n === "blur") { if (!e.focused || !o.relatedTarget) return; e.focused = !1 } else if (n === "focus") { if (e.focused) return; e.focused = !0 } s && this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: this.data.id, name: r, value: s(o) } }) }) } _setEventListeners(t, e, n, r) { for (const [s, o] of n) (o === "Action" || this.data.actions?.[o]) && ((o === "Focus" || o === "Blur") && (e ||= { focused: !1 }), this._setEventListener(t, e, s, o, r), o === "Focus" && !this.data.actions?.Blur ? this._setEventListener(t, e, "blur", "Blur", null) : o === "Blur" && !this.data.actions?.Focus && this._setEventListener(t, e, "focus", "Focus", null)) } _setBackgroundColor(t) { const e = this.data.backgroundColor || null; t.style.backgroundColor = e === null ? "transparent" : ye.makeHexColor(e[0], e[1], e[2]) } _setTextStyle(t) { const e = ["left", "center", "right"], { fontColor: n } = this.data.defaultAppearanceData, r = this.data.defaultAppearanceData.fontSize || gF, s = t.style; let o; const c = 2, u = d => Math.round(10 * d) / 10; if (this.data.multiLine) { const d = Math.abs(this.data.rect[3] - this.data.rect[1] - c), f = Math.round(d / (T1 * r)) || 1, p = d / f; o = Math.min(r, u(p / T1)) } else { const d = Math.abs(this.data.rect[3] - this.data.rect[1] - c); o = Math.min(r, u(d / T1)) } s.fontSize = `calc(${o}px * var(--total-scale-factor))`, s.color = ye.makeHexColor(n[0], n[1], n[2]), this.data.textAlignment !== null && (s.textAlign = e[this.data.textAlignment]) } _setRequired(t, e) { e ? t.setAttribute("required", !0) : t.removeAttribute("required"), t.setAttribute("aria-required", e) } } class vF extends gh {
  constructor(t) { const e = t.renderForms || t.data.hasOwnCanvas || !t.data.hasAppearance && !!t.data.fieldValue; super(t, { isRenderable: e }) } setPropertyOnSiblings(t, e, n, r) { const s = this.annotationStorage; for (const o of this._getElementsByName(t.name, t.id)) o.domElement && (o.domElement[e] = n), s.setValue(o.id, { [r]: n }) } render() {
    const t = this.annotationStorage, e = this.data.id; this.container.classList.add("textWidgetAnnotation"); let n = null; if (this.renderForms) {
      const r = t.getValue(e, { value: this.data.fieldValue }); let s = r.value || ""; const o = t.getValue(e, { charLimit: this.data.maxLen }).charLimit; o && s.length > o && (s = s.slice(0, o)); let c = r.formattedValue || this.data.textContent?.join(`
`) || null; c && this.data.comb && (c = c.replaceAll(/\s+/g, "")); const u = { userValue: s, formattedValue: c, lastCommittedValue: null, commitKey: 1, focused: !1 }; this.data.multiLine ? (n = document.createElement("textarea"), n.textContent = c ?? s, this.data.doNotScroll && (n.style.overflowY = "hidden")) : (n = document.createElement("input"), n.type = this.data.password ? "password" : "text", n.setAttribute("value", c ?? s), this.data.doNotScroll && (n.style.overflowX = "hidden")), this.data.hasOwnCanvas && (n.hidden = !0), hh.add(n), n.setAttribute("data-element-id", e), n.disabled = this.data.readOnly, n.name = this.data.fieldName, n.tabIndex = eg, this._setRequired(n, this.data.required), o && (n.maxLength = o), n.addEventListener("input", f => { t.setValue(e, { value: f.target.value }), this.setPropertyOnSiblings(n, "value", f.target.value, "value"), u.formattedValue = null }), n.addEventListener("resetform", f => { const p = this.data.defaultFieldValue ?? ""; n.value = u.userValue = p, u.formattedValue = null }); let d = f => { const { formattedValue: p } = u; p != null && (f.target.value = p), f.target.scrollLeft = 0 }; if (this.enableScripting && this.hasJSActions) { n.addEventListener("focus", p => { if (u.focused) return; const { target: m } = p; u.userValue && (m.value = u.userValue), u.lastCommittedValue = m.value, u.commitKey = 1, this.data.actions?.Focus || (u.focused = !0) }), n.addEventListener("updatefromsandbox", p => { this.showElementAndHideCanvas(p.target); const m = { value(v) { u.userValue = v.detail.value ?? "", t.setValue(e, { value: u.userValue.toString() }), v.target.value = u.userValue }, formattedValue(v) { const { formattedValue: x } = v.detail; u.formattedValue = x, x != null && v.target !== document.activeElement && (v.target.value = x), t.setValue(e, { formattedValue: x }) }, selRange(v) { v.target.setSelectionRange(...v.detail.selRange) }, charLimit: v => { const { charLimit: x } = v.detail, { target: y } = v; if (x === 0) { y.removeAttribute("maxLength"); return } y.setAttribute("maxLength", x); let E = u.userValue; !E || E.length <= x || (E = E.slice(0, x), y.value = u.userValue = E, t.setValue(e, { value: E }), this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e, name: "Keystroke", value: E, willCommit: !0, commitKey: 1, selStart: y.selectionStart, selEnd: y.selectionEnd } })) } }; this._dispatchEventFromSandbox(m, p) }), n.addEventListener("keydown", p => { u.commitKey = 1; let m = -1; if (p.key === "Escape" ? m = 0 : p.key === "Enter" && !this.data.multiLine ? m = 2 : p.key === "Tab" && (u.commitKey = 3), m === -1) return; const { value: v } = p.target; u.lastCommittedValue !== v && (u.lastCommittedValue = v, u.userValue = v, this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e, name: "Keystroke", value: v, willCommit: !0, commitKey: m, selStart: p.target.selectionStart, selEnd: p.target.selectionEnd } })) }); const f = d; d = null, n.addEventListener("blur", p => { if (!u.focused || !p.relatedTarget) return; this.data.actions?.Blur || (u.focused = !1); const { value: m } = p.target; u.userValue = m, u.lastCommittedValue !== m && this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e, name: "Keystroke", value: m, willCommit: !0, commitKey: u.commitKey, selStart: p.target.selectionStart, selEnd: p.target.selectionEnd } }), f(p) }), this.data.actions?.Keystroke && n.addEventListener("beforeinput", p => { u.lastCommittedValue = null; const { data: m, target: v } = p, { value: x, selectionStart: y, selectionEnd: E } = v; let A = y, T = E; switch (p.inputType) { case "deleteWordBackward": { const L = x.substring(0, y).match(/\w*[^\w]*$/); L && (A -= L[0].length); break } case "deleteWordForward": { const L = x.substring(y).match(/^[^\w]*\w*/); L && (T += L[0].length); break } case "deleteContentBackward": y === E && (A -= 1); break; case "deleteContentForward": y === E && (T += 1); break }p.preventDefault(), this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e, name: "Keystroke", value: x, change: m || "", willCommit: !1, selStart: A, selEnd: T } }) }), this._setEventListeners(n, u, [["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], p => p.target.value) } if (d && n.addEventListener("blur", d), this.data.comb) { const p = (this.data.rect[2] - this.data.rect[0]) / o; n.classList.add("comb"), n.style.letterSpacing = `calc(${p}px * var(--total-scale-factor) - 1ch)` }
    } else n = document.createElement("div"), n.textContent = this.data.fieldValue, n.style.verticalAlign = "middle", n.style.display = "table-cell", this.data.hasOwnCanvas && (n.hidden = !0); return this._setTextStyle(n), this._setBackgroundColor(n), this._setDefaultPropertiesFromJS(n), this.container.append(n), this.container
  }
} class bF extends gh { constructor(t) { super(t, { isRenderable: !!t.data.hasOwnCanvas }) } } class yF extends gh { constructor(t) { super(t, { isRenderable: t.renderForms }) } render() { const t = this.annotationStorage, e = this.data, n = e.id; let r = t.getValue(n, { value: e.exportValue === e.fieldValue }).value; typeof r == "string" && (r = r !== "Off", t.setValue(n, { value: r })), this.container.classList.add("buttonWidgetAnnotation", "checkBox"); const s = document.createElement("input"); return hh.add(s), s.setAttribute("data-element-id", n), s.disabled = e.readOnly, this._setRequired(s, this.data.required), s.type = "checkbox", s.name = e.fieldName, r && s.setAttribute("checked", !0), s.setAttribute("exportValue", e.exportValue), s.tabIndex = eg, s.addEventListener("change", o => { const { name: c, checked: u } = o.target; for (const d of this._getElementsByName(c, n)) { const f = u && d.exportValue === e.exportValue; d.domElement && (d.domElement.checked = f), t.setValue(d.id, { value: f }) } t.setValue(n, { value: u }) }), s.addEventListener("resetform", o => { const c = e.defaultFieldValue || "Off"; o.target.checked = c === e.exportValue }), this.enableScripting && this.hasJSActions && (s.addEventListener("updatefromsandbox", o => { const c = { value(u) { u.target.checked = u.detail.value !== "Off", t.setValue(n, { value: u.target.checked }) } }; this._dispatchEventFromSandbox(c, o) }), this._setEventListeners(s, null, [["change", "Validate"], ["change", "Action"], ["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], o => o.target.checked)), this._setBackgroundColor(s), this._setDefaultPropertiesFromJS(s), this.container.append(s), this.container } } class G3 extends gh { constructor(t) { super(t, { isRenderable: t.renderForms }) } render() { this.container.classList.add("buttonWidgetAnnotation", "radioButton"); const t = this.annotationStorage, e = this.data, n = e.id; let r = t.getValue(n, { value: e.fieldValue === e.buttonValue }).value; if (typeof r == "string" && (r = r !== e.buttonValue, t.setValue(n, { value: r })), r) for (const o of this._getElementsByName(e.fieldName, n)) t.setValue(o.id, { value: !1 }); const s = document.createElement("input"); if (hh.add(s), s.setAttribute("data-element-id", n), s.disabled = e.readOnly, this._setRequired(s, this.data.required), s.type = "radio", s.name = e.fieldName, r && s.setAttribute("checked", !0), s.tabIndex = eg, s.addEventListener("change", o => { const { name: c, checked: u } = o.target; for (const d of this._getElementsByName(c, n)) t.setValue(d.id, { value: !1 }); t.setValue(n, { value: u }) }), s.addEventListener("resetform", o => { const c = e.defaultFieldValue; o.target.checked = c != null && c === e.buttonValue }), this.enableScripting && this.hasJSActions) { const o = e.buttonValue; s.addEventListener("updatefromsandbox", c => { const u = { value: d => { const f = o === d.detail.value; for (const p of this._getElementsByName(d.target.name)) { const m = f && p.id === n; p.domElement && (p.domElement.checked = m), t.setValue(p.id, { value: m }) } } }; this._dispatchEventFromSandbox(u, c) }), this._setEventListeners(s, null, [["change", "Validate"], ["change", "Action"], ["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], c => c.target.checked) } return this._setBackgroundColor(s), this._setDefaultPropertiesFromJS(s), this.container.append(s), this.container } } class wF extends V3 { constructor(t) { super(t, { ignoreBorder: t.data.hasAppearance }) } render() { const t = super.render(); t.classList.add("buttonWidgetAnnotation", "pushButton"); const e = t.lastChild; return this.enableScripting && this.hasJSActions && e && (this._setDefaultPropertiesFromJS(e), e.addEventListener("updatefromsandbox", n => { this._dispatchEventFromSandbox({}, n) })), t } } class xF extends gh { constructor(t) { super(t, { isRenderable: t.renderForms }) } render() { this.container.classList.add("choiceWidgetAnnotation"); const t = this.annotationStorage, e = this.data.id, n = t.getValue(e, { value: this.data.fieldValue }), r = document.createElement("select"); hh.add(r), r.setAttribute("data-element-id", e), r.disabled = this.data.readOnly, this._setRequired(r, this.data.required), r.name = this.data.fieldName, r.tabIndex = eg; let s = this.data.combo && this.data.options.length > 0; this.data.combo || (r.size = this.data.options.length, this.data.multiSelect && (r.multiple = !0)), r.addEventListener("resetform", f => { const p = this.data.defaultFieldValue; for (const m of r.options) m.selected = m.value === p }); for (const f of this.data.options) { const p = document.createElement("option"); p.textContent = f.displayValue, p.value = f.exportValue, n.value.includes(f.exportValue) && (p.setAttribute("selected", !0), s = !1), r.append(p) } let o = null; if (s) { const f = document.createElement("option"); f.value = " ", f.setAttribute("hidden", !0), f.setAttribute("selected", !0), r.prepend(f), o = () => { f.remove(), r.removeEventListener("input", o), o = null }, r.addEventListener("input", o) } const c = f => { const p = f ? "value" : "textContent", { options: m, multiple: v } = r; return v ? Array.prototype.filter.call(m, x => x.selected).map(x => x[p]) : m.selectedIndex === -1 ? null : m[m.selectedIndex][p] }; let u = c(!1); const d = f => { const p = f.target.options; return Array.prototype.map.call(p, m => ({ displayValue: m.textContent, exportValue: m.value })) }; return this.enableScripting && this.hasJSActions ? (r.addEventListener("updatefromsandbox", f => { const p = { value(m) { o?.(); const v = m.detail.value, x = new Set(Array.isArray(v) ? v : [v]); for (const y of r.options) y.selected = x.has(y.value); t.setValue(e, { value: c(!0) }), u = c(!1) }, multipleSelection(m) { r.multiple = !0 }, remove(m) { const v = r.options, x = m.detail.remove; v[x].selected = !1, r.remove(x), v.length > 0 && Array.prototype.findIndex.call(v, E => E.selected) === -1 && (v[0].selected = !0), t.setValue(e, { value: c(!0), items: d(m) }), u = c(!1) }, clear(m) { for (; r.length !== 0;)r.remove(0); t.setValue(e, { value: null, items: [] }), u = c(!1) }, insert(m) { const { index: v, displayValue: x, exportValue: y } = m.detail.insert, E = r.children[v], A = document.createElement("option"); A.textContent = x, A.value = y, E ? E.before(A) : r.append(A), t.setValue(e, { value: c(!0), items: d(m) }), u = c(!1) }, items(m) { const { items: v } = m.detail; for (; r.length !== 0;)r.remove(0); for (const x of v) { const { displayValue: y, exportValue: E } = x, A = document.createElement("option"); A.textContent = y, A.value = E, r.append(A) } r.options.length > 0 && (r.options[0].selected = !0), t.setValue(e, { value: c(!0), items: d(m) }), u = c(!1) }, indices(m) { const v = new Set(m.detail.indices); for (const x of m.target.options) x.selected = v.has(x.index); t.setValue(e, { value: c(!0) }), u = c(!1) }, editable(m) { m.target.disabled = !m.detail.editable } }; this._dispatchEventFromSandbox(p, f) }), r.addEventListener("input", f => { const p = c(!0), m = c(!1); t.setValue(e, { value: p }), f.preventDefault(), this.linkService.eventBus?.dispatch("dispatcheventinsandbox", { source: this, detail: { id: e, name: "Keystroke", value: u, change: m, changeEx: p, willCommit: !1, commitKey: 1, keyDown: !1 } }) }), this._setEventListeners(r, null, [["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"], ["input", "Action"], ["input", "Validate"]], f => f.target.value)) : r.addEventListener("input", function (f) { t.setValue(e, { value: c(!0) }) }), this.data.combo && this._setTextStyle(r), this._setBackgroundColor(r), this._setDefaultPropertiesFromJS(r), this.container.append(r), this.container } } class Fb extends ki { constructor(t) { const { data: e, elements: n } = t; super(t, { isRenderable: ki._hasPopupData(e) }), this.elements = n, this.popup = null } render() { this.container.classList.add("popupAnnotation"); const t = this.popup = new SF({ container: this.container, color: this.data.color, titleObj: this.data.titleObj, modificationDate: this.data.modificationDate, contentsObj: this.data.contentsObj, richText: this.data.richText, rect: this.data.rect, parentRect: this.data.parentRect || null, parent: this.parent, elements: this.elements, open: this.data.open }), e = []; for (const n of this.elements) n.popup = t, n.container.ariaHasPopup = "dialog", e.push(n.data.id), n.addHighlightArea(); return this.container.setAttribute("aria-controls", e.map(n => `${n2}${n}`).join(",")), this.container } } class SF {
  #t = this.#C.bind(this); #e = this.#N.bind(this); #n = this.#R.bind(this); #i = this.#E.bind(this); #s = null; #r = null; #o = null; #a = null; #h = null; #c = null; #d = null; #u = !1; #f = null; #l = null; #p = null; #m = null; #g = null; #v = null; #b = !1; constructor({ container: t, color: e, elements: n, titleObj: r, modificationDate: s, contentsObj: o, richText: c, parent: u, rect: d, parentRect: f, open: p }) { this.#r = t, this.#g = r, this.#o = o, this.#m = c, this.#c = u, this.#s = e, this.#p = d, this.#d = f, this.#h = n, this.#a = i2.toDateObject(s), this.trigger = n.flatMap(m => m.getElementsToTriggerPopup()); for (const m of this.trigger) m.addEventListener("click", this.#i), m.addEventListener("mouseenter", this.#n), m.addEventListener("mouseleave", this.#e), m.classList.add("popupTriggerArea"); for (const m of n) m.container?.addEventListener("keydown", this.#t); this.#r.hidden = !0, p && this.#E() } render() { if (this.#f) return; const t = this.#f = document.createElement("div"); if (t.className = "popup", this.#s) { const s = t.style.outlineColor = ye.makeHexColor(...this.#s); t.style.backgroundColor = `color-mix(in srgb, ${s} 30%, white)` } const e = document.createElement("span"); e.className = "header"; const n = document.createElement("h1"); if (e.append(n), { dir: n.dir, str: n.textContent } = this.#g, t.append(e), this.#a) { const s = document.createElement("span"); s.classList.add("popupDate"), s.setAttribute("data-l10n-id", "pdfjs-annotation-date-time-string"), s.setAttribute("data-l10n-args", JSON.stringify({ dateObj: this.#a.valueOf() })), e.append(s) } const r = this.#y; if (r) p2.render({ xfaHtml: r, intent: "richText", div: t }), t.lastChild.classList.add("richText", "popupContent"); else { const s = this._formatContents(this.#o); t.append(s) } this.#r.append(t) } get #y() { const t = this.#m, e = this.#o; return t?.str && (!e?.str || e.str === t.str) && this.#m.html || null } get #x() { return this.#y?.attributes?.style?.fontSize || 0 } get #S() { return this.#y?.attributes?.style?.color || null } #A(t) {
    const e = [], n = { str: t, html: { name: "div", attributes: { dir: "auto" }, children: [{ name: "p", children: e }] } }, r = { style: { color: this.#S, fontSize: this.#x ? `calc(${this.#x}px * var(--total-scale-factor))` : "" } }; for (const s of t.split(`
`)) e.push({ name: "span", value: s, attributes: r }); return n
  } _formatContents({ str: t, dir: e }) { const n = document.createElement("p"); n.classList.add("popupContent"), n.dir = e; const r = t.split(/(?:\r\n?|\n)/); for (let s = 0, o = r.length; s < o; ++s) { const c = r[s]; n.append(document.createTextNode(c)), s < o - 1 && n.append(document.createElement("br")) } return n } #C(t) { t.altKey || t.shiftKey || t.ctrlKey || t.metaKey || (t.key === "Enter" || t.key === "Escape" && this.#u) && this.#E() } updateEdited({ rect: t, popupContent: e }) { this.#v ||= { contentsObj: this.#o, richText: this.#m }, t && (this.#l = null), e && (this.#m = this.#A(e), this.#o = null), this.#f?.remove(), this.#f = null } resetEdited() { this.#v && ({ contentsObj: this.#o, richText: this.#m } = this.#v, this.#v = null, this.#f?.remove(), this.#f = null, this.#l = null) } #T() { if (this.#l !== null) return; const { page: { view: t }, viewport: { rawDims: { pageWidth: e, pageHeight: n, pageX: r, pageY: s } } } = this.#c; let o = !!this.#d, c = o ? this.#d : this.#p; for (const x of this.#h) if (!c || ye.intersect(x.data.rect, c) !== null) { c = x.data.rect, o = !0; break } const u = ye.normalizeRect([c[0], t[3] - c[1] + t[1], c[2], t[3] - c[3] + t[1]]), f = o ? c[2] - c[0] + 5 : 0, p = u[0] + f, m = u[1]; this.#l = [100 * (p - r) / e, 100 * (m - s) / n]; const { style: v } = this.#r; v.left = `${this.#l[0]}%`, v.top = `${this.#l[1]}%` } #E() { this.#u = !this.#u, this.#u ? (this.#R(), this.#r.addEventListener("click", this.#i), this.#r.addEventListener("keydown", this.#t)) : (this.#N(), this.#r.removeEventListener("click", this.#i), this.#r.removeEventListener("keydown", this.#t)) } #R() { this.#f || this.render(), this.isVisible ? this.#u && this.#r.classList.add("focused") : (this.#T(), this.#r.hidden = !1, this.#r.style.zIndex = parseInt(this.#r.style.zIndex) + 1e3) } #N() { this.#r.classList.remove("focused"), !(this.#u || !this.isVisible) && (this.#r.hidden = !0, this.#r.style.zIndex = parseInt(this.#r.style.zIndex) - 1e3) } forceHide() { this.#b = this.isVisible, this.#b && (this.#r.hidden = !0) } maybeShow() { this.#b && (this.#f || this.#R(), this.#b = !1, this.#r.hidden = !1) } get isVisible() { return this.#r.hidden === !1 }
} class $3 extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }), this.textContent = t.data.textContent, this.textPosition = t.data.textPosition, this.annotationEditorType = ze.FREETEXT } render() { if (this.container.classList.add("freeTextAnnotation"), this.textContent) { const t = document.createElement("div"); t.classList.add("annotationTextContent"), t.setAttribute("role", "comment"); for (const e of this.textContent) { const n = document.createElement("span"); n.textContent = e, t.append(n) } this.container.append(t) } return !this.data.popupRef && this.hasPopupData && this._createPopup(), this._editOnDoubleClick(), this.container } } class AF extends ki { #t = null; constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }) } render() { this.container.classList.add("lineAnnotation"); const { data: t, width: e, height: n } = this, r = this.svgFactory.create(e, n, !0), s = this.#t = this.svgFactory.createElement("svg:line"); return s.setAttribute("x1", t.rect[2] - t.lineCoordinates[0]), s.setAttribute("y1", t.rect[3] - t.lineCoordinates[1]), s.setAttribute("x2", t.rect[2] - t.lineCoordinates[2]), s.setAttribute("y2", t.rect[3] - t.lineCoordinates[3]), s.setAttribute("stroke-width", t.borderStyle.width || 1), s.setAttribute("stroke", "transparent"), s.setAttribute("fill", "transparent"), r.append(s), this.container.append(r), !t.popupRef && this.hasPopupData && this._createPopup(), this.container } getElementsToTriggerPopup() { return this.#t } addHighlightArea() { this.container.classList.add("highlightArea") } } class EF extends ki { #t = null; constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }) } render() { this.container.classList.add("squareAnnotation"); const { data: t, width: e, height: n } = this, r = this.svgFactory.create(e, n, !0), s = t.borderStyle.width, o = this.#t = this.svgFactory.createElement("svg:rect"); return o.setAttribute("x", s / 2), o.setAttribute("y", s / 2), o.setAttribute("width", e - s), o.setAttribute("height", n - s), o.setAttribute("stroke-width", s || 1), o.setAttribute("stroke", "transparent"), o.setAttribute("fill", "transparent"), r.append(o), this.container.append(r), !t.popupRef && this.hasPopupData && this._createPopup(), this.container } getElementsToTriggerPopup() { return this.#t } addHighlightArea() { this.container.classList.add("highlightArea") } } class _F extends ki { #t = null; constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }) } render() { this.container.classList.add("circleAnnotation"); const { data: t, width: e, height: n } = this, r = this.svgFactory.create(e, n, !0), s = t.borderStyle.width, o = this.#t = this.svgFactory.createElement("svg:ellipse"); return o.setAttribute("cx", e / 2), o.setAttribute("cy", n / 2), o.setAttribute("rx", e / 2 - s / 2), o.setAttribute("ry", n / 2 - s / 2), o.setAttribute("stroke-width", s || 1), o.setAttribute("stroke", "transparent"), o.setAttribute("fill", "transparent"), r.append(o), this.container.append(r), !t.popupRef && this.hasPopupData && this._createPopup(), this.container } getElementsToTriggerPopup() { return this.#t } addHighlightArea() { this.container.classList.add("highlightArea") } } class W3 extends ki { #t = null; constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }), this.containerClassName = "polylineAnnotation", this.svgElementName = "svg:polyline" } render() { this.container.classList.add(this.containerClassName); const { data: { rect: t, vertices: e, borderStyle: n, popupRef: r }, width: s, height: o } = this; if (!e) return this.container; const c = this.svgFactory.create(s, o, !0); let u = []; for (let f = 0, p = e.length; f < p; f += 2) { const m = e[f] - t[0], v = t[3] - e[f + 1]; u.push(`${m},${v}`) } u = u.join(" "); const d = this.#t = this.svgFactory.createElement(this.svgElementName); return d.setAttribute("points", u), d.setAttribute("stroke-width", n.width || 1), d.setAttribute("stroke", "transparent"), d.setAttribute("fill", "transparent"), c.append(d), this.container.append(c), !r && this.hasPopupData && this._createPopup(), this.container } getElementsToTriggerPopup() { return this.#t } addHighlightArea() { this.container.classList.add("highlightArea") } } class CF extends W3 { constructor(t) { super(t), this.containerClassName = "polygonAnnotation", this.svgElementName = "svg:polygon" } } class NF extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }) } render() { return this.container.classList.add("caretAnnotation"), !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container } } class g2 extends ki { #t = null; #e = []; constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }), this.containerClassName = "inkAnnotation", this.svgElementName = "svg:polyline", this.annotationEditorType = this.data.it === "InkHighlight" ? ze.HIGHLIGHT : ze.INK } #n(t, e) { switch (t) { case 90: return { transform: `rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`, width: e[3] - e[1], height: e[2] - e[0] }; case 180: return { transform: `rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`, width: e[2] - e[0], height: e[3] - e[1] }; case 270: return { transform: `rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`, width: e[3] - e[1], height: e[2] - e[0] }; default: return { transform: `translate(${-e[0]},${e[3]}) scale(1,-1)`, width: e[2] - e[0], height: e[3] - e[1] } } } render() { this.container.classList.add(this.containerClassName); const { data: { rect: t, rotation: e, inkLists: n, borderStyle: r, popupRef: s } } = this, { transform: o, width: c, height: u } = this.#n(e, t), d = this.svgFactory.create(c, u, !0), f = this.#t = this.svgFactory.createElement("svg:g"); d.append(f), f.setAttribute("stroke-width", r.width || 1), f.setAttribute("stroke-linecap", "round"), f.setAttribute("stroke-linejoin", "round"), f.setAttribute("stroke-miterlimit", 10), f.setAttribute("stroke", "transparent"), f.setAttribute("fill", "transparent"), f.setAttribute("transform", o); for (let p = 0, m = n.length; p < m; p++) { const v = this.svgFactory.createElement(this.svgElementName); this.#e.push(v), v.setAttribute("points", n[p].join(",")), f.append(v) } return !s && this.hasPopupData && this._createPopup(), this.container.append(d), this._editOnDoubleClick(), this.container } updateEdited(t) { super.updateEdited(t); const { thickness: e, points: n, rect: r } = t, s = this.#t; if (e >= 0 && s.setAttribute("stroke-width", e || 1), n) for (let o = 0, c = this.#e.length; o < c; o++)this.#e[o].setAttribute("points", n[o].join(",")); if (r) { const { transform: o, width: c, height: u } = this.#n(this.data.rotation, r); s.parentElement.setAttribute("viewBox", `0 0 ${c} ${u}`), s.setAttribute("transform", o) } } getElementsToTriggerPopup() { return this.#e } addHighlightArea() { this.container.classList.add("highlightArea") } } class Y3 extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0, createQuadrilaterals: !0 }), this.annotationEditorType = ze.HIGHLIGHT } render() { return !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container.classList.add("highlightAnnotation"), this._editOnDoubleClick(), this.container } } class RF extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0, createQuadrilaterals: !0 }) } render() { return !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container.classList.add("underlineAnnotation"), this.container } } class TF extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0, createQuadrilaterals: !0 }) } render() { return !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container.classList.add("squigglyAnnotation"), this.container } } class LF extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0, createQuadrilaterals: !0 }) } render() { return !this.data.popupRef && this.hasPopupData && this._createPopup(), this.container.classList.add("strikeoutAnnotation"), this.container } } class X3 extends ki { constructor(t) { super(t, { isRenderable: !0, ignoreBorder: !0 }), this.annotationEditorType = ze.STAMP } render() { return this.container.classList.add("stampAnnotation"), this.container.setAttribute("role", "img"), !this.data.popupRef && this.hasPopupData && this._createPopup(), this._editOnDoubleClick(), this.container } } class MF extends ki { #t = null; constructor(t) { super(t, { isRenderable: !0 }); const { file: e } = this.data; this.filename = e.filename, this.content = e.content, this.linkService.eventBus?.dispatch("fileattachmentannotation", { source: this, ...e }) } render() { this.container.classList.add("fileAttachmentAnnotation"); const { container: t, data: e } = this; let n; e.hasAppearance || e.fillAlpha === 0 ? n = document.createElement("div") : (n = document.createElement("img"), n.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name) ? "paperclip" : "pushpin"}.svg`, e.fillAlpha && e.fillAlpha < 1 && (n.style = `filter: opacity(${Math.round(e.fillAlpha * 100)}%);`)), n.addEventListener("dblclick", this.#e.bind(this)), this.#t = n; const { isMac: r } = gr.platform; return t.addEventListener("keydown", s => { s.key === "Enter" && (r ? s.metaKey : s.ctrlKey) && this.#e() }), !e.popupRef && this.hasPopupData ? this._createPopup() : n.classList.add("popupTriggerArea"), t.append(n), t } getElementsToTriggerPopup() { return this.#t } addHighlightArea() { this.container.classList.add("highlightArea") } #e() { this.downloadManager?.openOrDownloadData(this.content, this.filename) } } let m2 = class K3 { #t = null; #e = null; #n = new Map; #i = null; constructor({ div: t, accessibilityManager: e, annotationCanvasMap: n, annotationEditorUIManager: r, page: s, viewport: o, structTreeLayer: c }) { this.div = t, this.#t = e, this.#e = n, this.#i = c || null, this.page = s, this.viewport = o, this.zIndex = 0, this._annotationEditorUIManager = r } hasEditableAnnotations() { return this.#n.size > 0 } async#s(t, e) { const n = t.firstChild || t, r = n.id = `${n2}${e}`, s = await this.#i?.getAriaAttributes(r); if (s) for (const [o, c] of s) n.setAttribute(o, c); this.div.append(t), this.#t?.moveElementInDOM(this.div, t, n, !1) } async render(t) { const { annotations: e } = t, n = this.div; Xc(n, this.viewport); const r = new Map, s = { data: null, layer: n, linkService: t.linkService, downloadManager: t.downloadManager, imageResourcesPath: t.imageResourcesPath || "", renderForms: t.renderForms !== !1, svgFactory: new _p, annotationStorage: t.annotationStorage || new o2, enableScripting: t.enableScripting === !0, hasJSActions: t.hasJSActions, fieldObjects: t.fieldObjects, parent: this, elements: null }; for (const o of e) { if (o.noHTML) continue; const c = o.annotationType === Ni.POPUP; if (c) { const f = r.get(o.id); if (!f) continue; s.elements = f } else if (o.rect[2] === o.rect[0] || o.rect[3] === o.rect[1]) continue; s.data = o; const u = RS.create(s); if (!u.isRenderable) continue; if (!c && o.popupRef) { const f = r.get(o.popupRef); f ? f.push(u) : r.set(o.popupRef, [u]) } const d = u.render(); o.hidden && (d.style.visibility = "hidden"), await this.#s(d, o.id), u._isEditable && (this.#n.set(u.data.id, u), this._annotationEditorUIManager?.renderAnnotationElement(u)) } this.#r() } async addLinkAnnotations(t, e) { const n = { data: null, layer: this.div, linkService: e, svgFactory: new _p, parent: this }; for (const r of t) { r.borderStyle ||= K3._defaultBorderStyle, n.data = r; const s = RS.create(n); if (!s.isRenderable) continue; const o = s.render(); await this.#s(o, r.id) } } update({ viewport: t }) { const e = this.div; this.viewport = t, Xc(e, { rotation: t.rotation }), this.#r(), e.hidden = !1 } #r() { if (!this.#e) return; const t = this.div; for (const [e, n] of this.#e) { const r = t.querySelector(`[data-annotation-id="${e}"]`); if (!r) continue; n.className = "annotationContent"; const { firstChild: s } = r; s ? s.nodeName === "CANVAS" ? s.replaceWith(n) : s.classList.contains("annotationContent") ? s.after(n) : s.before(n) : r.append(n); const o = this.#n.get(e); o && (o._hasNoCanvas ? (this._annotationEditorUIManager?.setMissingCanvas(e, r.id, n), o._hasNoCanvas = !1) : o.canvas = n) } this.#e.clear() } getEditableAnnotations() { return Array.from(this.#n.values()) } getEditableAnnotation(t) { return this.#n.get(t) } static get _defaultBorderStyle() { return sn(this, "_defaultBorderStyle", Object.freeze({ width: 1, rawWidth: 1, style: ud.SOLID, dashArray: [3], horizontalCornerRadius: 0, verticalCornerRadius: 0 })) } }; const wm = /\r\n?|\n/g; class Ki extends Se {
  #t; #e = ""; #n = `${this.id}-editor`; #i = null; #s; static _freeTextDefaultContent = ""; static _internalPadding = 0; static _defaultColor = null; static _defaultFontSize = 10; static get _keyboardManager() { const t = Ki.prototype, e = s => s.isEmpty(), n = zl.TRANSLATE_SMALL, r = zl.TRANSLATE_BIG; return sn(this, "_keyboardManager", new Zp([[["ctrl+s", "mac+meta+s", "ctrl+p", "mac+meta+p"], t.commitOrRemove, { bubbles: !0 }], [["ctrl+Enter", "mac+meta+Enter", "Escape", "mac+Escape"], t.commitOrRemove], [["ArrowLeft", "mac+ArrowLeft"], t._translateEmpty, { args: [-n, 0], checker: e }], [["ctrl+ArrowLeft", "mac+shift+ArrowLeft"], t._translateEmpty, { args: [-r, 0], checker: e }], [["ArrowRight", "mac+ArrowRight"], t._translateEmpty, { args: [n, 0], checker: e }], [["ctrl+ArrowRight", "mac+shift+ArrowRight"], t._translateEmpty, { args: [r, 0], checker: e }], [["ArrowUp", "mac+ArrowUp"], t._translateEmpty, { args: [0, -n], checker: e }], [["ctrl+ArrowUp", "mac+shift+ArrowUp"], t._translateEmpty, { args: [0, -r], checker: e }], [["ArrowDown", "mac+ArrowDown"], t._translateEmpty, { args: [0, n], checker: e }], [["ctrl+ArrowDown", "mac+shift+ArrowDown"], t._translateEmpty, { args: [0, r], checker: e }]])) } static _type = "freetext"; static _editorType = ze.FREETEXT; constructor(t) { super({ ...t, name: "freeTextEditor" }), this.#t = t.color || Ki._defaultColor || Se._defaultLineColor, this.#s = t.fontSize || Ki._defaultFontSize } static initialize(t, e) { Se.initialize(t, e); const n = getComputedStyle(document.documentElement); this._internalPadding = parseFloat(n.getPropertyValue("--freetext-padding")) } static updateDefaultParams(t, e) { switch (t) { case ln.FREETEXT_SIZE: Ki._defaultFontSize = e; break; case ln.FREETEXT_COLOR: Ki._defaultColor = e; break } } updateParams(t, e) { switch (t) { case ln.FREETEXT_SIZE: this.#r(e); break; case ln.FREETEXT_COLOR: this.#o(e); break } } static get defaultPropertiesToUpdate() { return [[ln.FREETEXT_SIZE, Ki._defaultFontSize], [ln.FREETEXT_COLOR, Ki._defaultColor || Se._defaultLineColor]] } get propertiesToUpdate() { return [[ln.FREETEXT_SIZE, this.#s], [ln.FREETEXT_COLOR, this.#t]] } #r(t) { const e = r => { this.editorDiv.style.fontSize = `calc(${r}px * var(--total-scale-factor))`, this.translate(0, -(r - this.#s) * this.parentScale), this.#s = r, this.#h() }, n = this.#s; this.addCommands({ cmd: e.bind(this, t), undo: e.bind(this, n), post: this._uiManager.updateUI.bind(this._uiManager, this), mustExec: !0, type: ln.FREETEXT_SIZE, overwriteIfSameType: !0, keepUndo: !0 }) } #o(t) { const e = r => { this.#t = this.editorDiv.style.color = r }, n = this.#t; this.addCommands({ cmd: e.bind(this, t), undo: e.bind(this, n), post: this._uiManager.updateUI.bind(this._uiManager, this), mustExec: !0, type: ln.FREETEXT_COLOR, overwriteIfSameType: !0, keepUndo: !0 }) } _translateEmpty(t, e) { this._uiManager.translateSelectedEditors(t, e, !0) } getInitialTranslation() { const t = this.parentScale; return [-Ki._internalPadding * t, -(Ki._internalPadding + this.#s) * t] } rebuild() { this.parent && (super.rebuild(), this.div !== null && (this.isAttachedToDOM || this.parent.add(this))) } enableEditMode() { if (!super.enableEditMode()) return !1; this.overlayDiv.classList.remove("enabled"), this.editorDiv.contentEditable = !0, this._isDraggable = !1, this.div.removeAttribute("aria-activedescendant"), this.#i = new AbortController; const t = this._uiManager.combinedSignal(this.#i); return this.editorDiv.addEventListener("keydown", this.editorDivKeydown.bind(this), { signal: t }), this.editorDiv.addEventListener("focus", this.editorDivFocus.bind(this), { signal: t }), this.editorDiv.addEventListener("blur", this.editorDivBlur.bind(this), { signal: t }), this.editorDiv.addEventListener("input", this.editorDivInput.bind(this), { signal: t }), this.editorDiv.addEventListener("paste", this.editorDivPaste.bind(this), { signal: t }), !0 } disableEditMode() { return super.disableEditMode() ? (this.overlayDiv.classList.add("enabled"), this.editorDiv.contentEditable = !1, this.div.setAttribute("aria-activedescendant", this.#n), this._isDraggable = !0, this.#i?.abort(), this.#i = null, this.div.focus({ preventScroll: !0 }), this.isEditing = !1, this.parent.div.classList.add("freetextEditing"), !0) : !1 } focusin(t) { this._focusEventsAllowed && (super.focusin(t), t.target !== this.editorDiv && this.editorDiv.focus()) } onceAdded(t) { this.width || (this.enableEditMode(), t && this.editorDiv.focus(), this._initialOptions?.isCentered && this.center(), this._initialOptions = null) } isEmpty() { return !this.editorDiv || this.editorDiv.innerText.trim() === "" } remove() { this.isEditing = !1, this.parent && (this.parent.setEditingState(!0), this.parent.div.classList.add("freetextEditing")), super.remove() } #a() {
    const t = []; this.editorDiv.normalize(); let e = null; for (const n of this.editorDiv.childNodes) e?.nodeType === Node.TEXT_NODE && n.nodeName === "BR" || (t.push(Ki.#c(n)), e = n); return t.join(`
`)
  } #h() { const [t, e] = this.parentDimensions; let n; if (this.isAttachedToDOM) n = this.div.getBoundingClientRect(); else { const { currentLayer: r, div: s } = this, o = s.style.display, c = s.classList.contains("hidden"); s.classList.remove("hidden"), s.style.display = "hidden", r.div.append(this.div), n = s.getBoundingClientRect(), s.remove(), s.style.display = o, s.classList.toggle("hidden", c) } this.rotation % 180 === this.parentRotation % 180 ? (this.width = n.width / t, this.height = n.height / e) : (this.width = n.height / t, this.height = n.width / e), this.fixAndSetPosition() } commit() { if (!this.isInEditMode()) return; super.commit(), this.disableEditMode(); const t = this.#e, e = this.#e = this.#a().trimEnd(); if (t === e) return; const n = r => { if (this.#e = r, !r) { this.remove(); return } this.#d(), this._uiManager.rebuild(this), this.#h() }; this.addCommands({ cmd: () => { n(e) }, undo: () => { n(t) }, mustExec: !1 }), this.#h() } shouldGetKeyboardEvents() { return this.isInEditMode() } enterInEditMode() { this.enableEditMode(), this.editorDiv.focus() } keydown(t) { t.target === this.div && t.key === "Enter" && (this.enterInEditMode(), t.preventDefault()) } editorDivKeydown(t) { Ki._keyboardManager.exec(this, t) } editorDivFocus(t) { this.isEditing = !0 } editorDivBlur(t) { this.isEditing = !1 } editorDivInput(t) { this.parent.div.classList.toggle("freetextEditing", this.isEmpty()) } disableEditing() { this.editorDiv.setAttribute("role", "comment"), this.editorDiv.removeAttribute("aria-multiline") } enableEditing() { this.editorDiv.setAttribute("role", "textbox"), this.editorDiv.setAttribute("aria-multiline", !0) } get canChangeContent() { return !0 } render() { if (this.div) return this.div; let t, e; (this._isCopy || this.annotationElementId) && (t = this.x, e = this.y), super.render(), this.editorDiv = document.createElement("div"), this.editorDiv.className = "internal", this.editorDiv.setAttribute("id", this.#n), this.editorDiv.setAttribute("data-l10n-id", "pdfjs-free-text2"), this.editorDiv.setAttribute("data-l10n-attrs", "default-content"), this.enableEditing(), this.editorDiv.contentEditable = !0; const { style: n } = this.editorDiv; if (n.fontSize = `calc(${this.#s}px * var(--total-scale-factor))`, n.color = this.#t, this.div.append(this.editorDiv), this.overlayDiv = document.createElement("div"), this.overlayDiv.classList.add("overlay", "enabled"), this.div.append(this.overlayDiv), this._isCopy || this.annotationElementId) { const [r, s] = this.parentDimensions; if (this.annotationElementId) { const { position: o } = this._initialData; let [c, u] = this.getInitialTranslation();[c, u] = this.pageTranslationToScreen(c, u); const [d, f] = this.pageDimensions, [p, m] = this.pageTranslation; let v, x; switch (this.rotation) { case 0: v = t + (o[0] - p) / d, x = e + this.height - (o[1] - m) / f; break; case 90: v = t + (o[0] - p) / d, x = e - (o[1] - m) / f, [c, u] = [u, -c]; break; case 180: v = t - this.width + (o[0] - p) / d, x = e - (o[1] - m) / f, [c, u] = [-c, -u]; break; case 270: v = t + (o[0] - p - this.height * f) / d, x = e + (o[1] - m - this.width * d) / f, [c, u] = [-u, c]; break }this.setAt(v * r, x * s, c, u) } else this._moveAfterPaste(t, e); this.#d(), this._isDraggable = !0, this.editorDiv.contentEditable = !1 } else this._isDraggable = !1, this.editorDiv.contentEditable = !0; return this.div } static #c(t) { return (t.nodeType === Node.TEXT_NODE ? t.nodeValue : t.innerText).replaceAll(wm, "") } editorDivPaste(t) {
    const e = t.clipboardData || window.clipboardData, { types: n } = e; if (n.length === 1 && n[0] === "text/plain") return; t.preventDefault(); const r = Ki.#f(e.getData("text") || "").replaceAll(wm, `
`); if (!r) return; const s = window.getSelection(); if (!s.rangeCount) return; this.editorDiv.normalize(), s.deleteFromDocument(); const o = s.getRangeAt(0); if (!r.includes(`
`)) { o.insertNode(document.createTextNode(r)), this.editorDiv.normalize(), s.collapseToStart(); return } const { startContainer: c, startOffset: u } = o, d = [], f = []; if (c.nodeType === Node.TEXT_NODE) { const v = c.parentElement; if (f.push(c.nodeValue.slice(u).replaceAll(wm, "")), v !== this.editorDiv) { let x = d; for (const y of this.editorDiv.childNodes) { if (y === v) { x = f; continue } x.push(Ki.#c(y)) } } d.push(c.nodeValue.slice(0, u).replaceAll(wm, "")) } else if (c === this.editorDiv) { let v = d, x = 0; for (const y of this.editorDiv.childNodes) x++ === u && (v = f), v.push(Ki.#c(y)) } this.#e = `${d.join(`
`)}${r}${f.join(`
`)}`, this.#d(); const p = new Range; let m = Math.sumPrecise(d.map(v => v.length)); for (const { firstChild: v } of this.editorDiv.childNodes) if (v.nodeType === Node.TEXT_NODE) { const x = v.nodeValue.length; if (m <= x) { p.setStart(v, m), p.setEnd(v, m); break } m -= x } s.removeAllRanges(), s.addRange(p)
  } #d() {
    if (this.editorDiv.replaceChildren(), !!this.#e) for (const t of this.#e.split(`
`)) { const e = document.createElement("div"); e.append(t ? document.createTextNode(t) : document.createElement("br")), this.editorDiv.append(e) }
  } #u() { return this.#e.replaceAll(" ", " ") } static #f(t) { return t.replaceAll(" ", " ") } get contentDiv() { return this.editorDiv } static async deserialize(t, e, n) {
    let r = null; if (t instanceof $3) {
      const { data: { defaultAppearanceData: { fontSize: o, fontColor: c }, rect: u, rotation: d, id: f, popupRef: p }, textContent: m, textPosition: v, parent: { page: { pageNumber: x } } } = t; if (!m || m.length === 0) return null; r = t = {
        annotationType: ze.FREETEXT, color: Array.from(c), fontSize: o, value: m.join(`
`), position: v, pageIndex: x - 1, rect: u.slice(0), rotation: d, id: f, deleted: !1, popupRef: p
      }
    } const s = await super.deserialize(t, e, n); return s.#s = t.fontSize, s.#t = ye.makeHexColor(...t.color), s.#e = Ki.#f(t.value), s.annotationElementId = t.id || null, s._initialData = r, s
  } serialize(t = !1) { if (this.isEmpty()) return null; if (this.deleted) return this.serializeDeleted(); const e = Ki._internalPadding * this.parentScale, n = this.getRect(e, e), r = Se._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#t), s = { annotationType: ze.FREETEXT, color: r, fontSize: this.#s, value: this.#u(), pageIndex: this.pageIndex, rect: n, rotation: this.rotation, structTreeParentId: this._structTreeParentId }; return t ? (s.isCopy = !0, s) : this.annotationElementId && !this.#l(s) ? null : (s.id = this.annotationElementId, s) } #l(t) { const { value: e, fontSize: n, color: r, pageIndex: s } = this._initialData; return this._hasBeenMoved || t.value !== e || t.fontSize !== n || t.color.some((o, c) => o !== r[c]) || t.pageIndex !== s } renderAnnotationElement(t) {
    const e = super.renderAnnotationElement(t); if (this.deleted) return e; const { style: n } = e; n.fontSize = `calc(${this.#s}px * var(--total-scale-factor))`, n.color = this.#t, e.replaceChildren(); for (const s of this.#e.split(`
`)) { const o = document.createElement("div"); o.append(s ? document.createTextNode(s) : document.createElement("br")), e.append(o) } const r = Ki._internalPadding * this.parentScale; return t.updateEdited({ rect: this.getRect(r, r), popupContent: this.#e }), e
  } resetAnnotationElement(t) { super.resetAnnotationElement(t), t.resetEdited() }
} class ue { static PRECISION = 1e-4; toSVGPath() { jn("Abstract method `toSVGPath` must be implemented.") } get box() { jn("Abstract getter `box` must be implemented.") } serialize(t, e) { jn("Abstract method `serialize` must be implemented.") } static _rescale(t, e, n, r, s, o) { o ||= new Float32Array(t.length); for (let c = 0, u = t.length; c < u; c += 2)o[c] = e + t[c] * r, o[c + 1] = n + t[c + 1] * s; return o } static _rescaleAndSwap(t, e, n, r, s, o) { o ||= new Float32Array(t.length); for (let c = 0, u = t.length; c < u; c += 2)o[c] = e + t[c + 1] * r, o[c + 1] = n + t[c] * s; return o } static _translate(t, e, n, r) { r ||= new Float32Array(t.length); for (let s = 0, o = t.length; s < o; s += 2)r[s] = e + t[s], r[s + 1] = n + t[s + 1]; return r } static svgRound(t) { return Math.round(t * 1e4) } static _normalizePoint(t, e, n, r, s) { switch (s) { case 90: return [1 - e / n, t / r]; case 180: return [1 - t / n, 1 - e / r]; case 270: return [e / n, 1 - t / r]; default: return [t / n, e / r] } } static _normalizePagePoint(t, e, n) { switch (n) { case 90: return [1 - e, t]; case 180: return [1 - t, 1 - e]; case 270: return [e, 1 - t]; default: return [t, e] } } static createBezierPoints(t, e, n, r, s, o) { return [(t + 5 * n) / 6, (e + 5 * r) / 6, (5 * n + s) / 6, (5 * r + o) / 6, (n + s) / 2, (r + o) / 2] } } class Xu { #t; #e = []; #n; #i; #s = []; #r = new Float32Array(18); #o; #a; #h; #c; #d; #u; #f = []; static #l = 8; static #p = 2; static #m = Xu.#l + Xu.#p; constructor({ x: t, y: e }, n, r, s, o, c = 0) { this.#t = n, this.#u = s * r, this.#i = o, this.#r.set([NaN, NaN, NaN, NaN, t, e], 6), this.#n = c, this.#c = Xu.#l * r, this.#h = Xu.#m * r, this.#d = r, this.#f.push(t, e) } isEmpty() { return isNaN(this.#r[8]) } #g() { const t = this.#r.subarray(4, 6), e = this.#r.subarray(16, 18), [n, r, s, o] = this.#t; return [(this.#o + (t[0] - e[0]) / 2 - n) / s, (this.#a + (t[1] - e[1]) / 2 - r) / o, (this.#o + (e[0] - t[0]) / 2 - n) / s, (this.#a + (e[1] - t[1]) / 2 - r) / o] } add({ x: t, y: e }) { this.#o = t, this.#a = e; const [n, r, s, o] = this.#t; let [c, u, d, f] = this.#r.subarray(8, 12); const p = t - d, m = e - f, v = Math.hypot(p, m); if (v < this.#h) return !1; const x = v - this.#c, y = x / v, E = y * p, A = y * m; let T = c, L = u; c = d, u = f, d += E, f += A, this.#f?.push(t, e); const k = -A / x, O = E / x, F = k * this.#u, D = O * this.#u; return this.#r.set(this.#r.subarray(2, 8), 0), this.#r.set([d + F, f + D], 4), this.#r.set(this.#r.subarray(14, 18), 12), this.#r.set([d - F, f - D], 16), isNaN(this.#r[6]) ? (this.#s.length === 0 && (this.#r.set([c + F, u + D], 2), this.#s.push(NaN, NaN, NaN, NaN, (c + F - n) / s, (u + D - r) / o), this.#r.set([c - F, u - D], 14), this.#e.push(NaN, NaN, NaN, NaN, (c - F - n) / s, (u - D - r) / o)), this.#r.set([T, L, c, u, d, f], 6), !this.isEmpty()) : (this.#r.set([T, L, c, u, d, f], 6), Math.abs(Math.atan2(L - u, T - c) - Math.atan2(A, E)) < Math.PI / 2 ? ([c, u, d, f] = this.#r.subarray(2, 6), this.#s.push(NaN, NaN, NaN, NaN, ((c + d) / 2 - n) / s, ((u + f) / 2 - r) / o), [c, u, T, L] = this.#r.subarray(14, 18), this.#e.push(NaN, NaN, NaN, NaN, ((T + c) / 2 - n) / s, ((L + u) / 2 - r) / o), !0) : ([T, L, c, u, d, f] = this.#r.subarray(0, 6), this.#s.push(((T + 5 * c) / 6 - n) / s, ((L + 5 * u) / 6 - r) / o, ((5 * c + d) / 6 - n) / s, ((5 * u + f) / 6 - r) / o, ((c + d) / 2 - n) / s, ((u + f) / 2 - r) / o), [d, f, c, u, T, L] = this.#r.subarray(12, 18), this.#e.push(((T + 5 * c) / 6 - n) / s, ((L + 5 * u) / 6 - r) / o, ((5 * c + d) / 6 - n) / s, ((5 * u + f) / 6 - r) / o, ((c + d) / 2 - n) / s, ((u + f) / 2 - r) / o), !0)) } toSVGPath() { if (this.isEmpty()) return ""; const t = this.#s, e = this.#e; if (isNaN(this.#r[6]) && !this.isEmpty()) return this.#v(); const n = []; n.push(`M${t[4]} ${t[5]}`); for (let r = 6; r < t.length; r += 6)isNaN(t[r]) ? n.push(`L${t[r + 4]} ${t[r + 5]}`) : n.push(`C${t[r]} ${t[r + 1]} ${t[r + 2]} ${t[r + 3]} ${t[r + 4]} ${t[r + 5]}`); this.#y(n); for (let r = e.length - 6; r >= 6; r -= 6)isNaN(e[r]) ? n.push(`L${e[r + 4]} ${e[r + 5]}`) : n.push(`C${e[r]} ${e[r + 1]} ${e[r + 2]} ${e[r + 3]} ${e[r + 4]} ${e[r + 5]}`); return this.#b(n), n.join(" ") } #v() { const [t, e, n, r] = this.#t, [s, o, c, u] = this.#g(); return `M${(this.#r[2] - t) / n} ${(this.#r[3] - e) / r} L${(this.#r[4] - t) / n} ${(this.#r[5] - e) / r} L${s} ${o} L${c} ${u} L${(this.#r[16] - t) / n} ${(this.#r[17] - e) / r} L${(this.#r[14] - t) / n} ${(this.#r[15] - e) / r} Z` } #b(t) { const e = this.#e; t.push(`L${e[4]} ${e[5]} Z`) } #y(t) { const [e, n, r, s] = this.#t, o = this.#r.subarray(4, 6), c = this.#r.subarray(16, 18), [u, d, f, p] = this.#g(); t.push(`L${(o[0] - e) / r} ${(o[1] - n) / s} L${u} ${d} L${f} ${p} L${(c[0] - e) / r} ${(c[1] - n) / s}`) } newFreeDrawOutline(t, e, n, r, s, o) { return new Q3(t, e, n, r, s, o) } getOutlines() { const t = this.#s, e = this.#e, n = this.#r, [r, s, o, c] = this.#t, u = new Float32Array((this.#f?.length ?? 0) + 2); for (let p = 0, m = u.length - 2; p < m; p += 2)u[p] = (this.#f[p] - r) / o, u[p + 1] = (this.#f[p + 1] - s) / c; if (u[u.length - 2] = (this.#o - r) / o, u[u.length - 1] = (this.#a - s) / c, isNaN(n[6]) && !this.isEmpty()) return this.#x(u); const d = new Float32Array(this.#s.length + 24 + this.#e.length); let f = t.length; for (let p = 0; p < f; p += 2) { if (isNaN(t[p])) { d[p] = d[p + 1] = NaN; continue } d[p] = t[p], d[p + 1] = t[p + 1] } f = this.#A(d, f); for (let p = e.length - 6; p >= 6; p -= 6)for (let m = 0; m < 6; m += 2) { if (isNaN(e[p + m])) { d[f] = d[f + 1] = NaN, f += 2; continue } d[f] = e[p + m], d[f + 1] = e[p + m + 1], f += 2 } return this.#S(d, f), this.newFreeDrawOutline(d, u, this.#t, this.#d, this.#n, this.#i) } #x(t) { const e = this.#r, [n, r, s, o] = this.#t, [c, u, d, f] = this.#g(), p = new Float32Array(36); return p.set([NaN, NaN, NaN, NaN, (e[2] - n) / s, (e[3] - r) / o, NaN, NaN, NaN, NaN, (e[4] - n) / s, (e[5] - r) / o, NaN, NaN, NaN, NaN, c, u, NaN, NaN, NaN, NaN, d, f, NaN, NaN, NaN, NaN, (e[16] - n) / s, (e[17] - r) / o, NaN, NaN, NaN, NaN, (e[14] - n) / s, (e[15] - r) / o], 0), this.newFreeDrawOutline(p, t, this.#t, this.#d, this.#n, this.#i) } #S(t, e) { const n = this.#e; return t.set([NaN, NaN, NaN, NaN, n[4], n[5]], e), e += 6 } #A(t, e) { const n = this.#r.subarray(4, 6), r = this.#r.subarray(16, 18), [s, o, c, u] = this.#t, [d, f, p, m] = this.#g(); return t.set([NaN, NaN, NaN, NaN, (n[0] - s) / c, (n[1] - o) / u, NaN, NaN, NaN, NaN, d, f, NaN, NaN, NaN, NaN, p, m, NaN, NaN, NaN, NaN, (r[0] - s) / c, (r[1] - o) / u], e), e += 24 } } class Q3 extends ue { #t; #e = new Float32Array(4); #n; #i; #s; #r; #o; constructor(t, e, n, r, s, o) { super(), this.#o = t, this.#s = e, this.#t = n, this.#r = r, this.#n = s, this.#i = o, this.lastPoint = [NaN, NaN], this.#a(o); const [c, u, d, f] = this.#e; for (let p = 0, m = t.length; p < m; p += 2)t[p] = (t[p] - c) / d, t[p + 1] = (t[p + 1] - u) / f; for (let p = 0, m = e.length; p < m; p += 2)e[p] = (e[p] - c) / d, e[p + 1] = (e[p + 1] - u) / f } toSVGPath() { const t = [`M${this.#o[4]} ${this.#o[5]}`]; for (let e = 6, n = this.#o.length; e < n; e += 6) { if (isNaN(this.#o[e])) { t.push(`L${this.#o[e + 4]} ${this.#o[e + 5]}`); continue } t.push(`C${this.#o[e]} ${this.#o[e + 1]} ${this.#o[e + 2]} ${this.#o[e + 3]} ${this.#o[e + 4]} ${this.#o[e + 5]}`) } return t.push("Z"), t.join(" ") } serialize([t, e, n, r], s) { const o = n - t, c = r - e; let u, d; switch (s) { case 0: u = ue._rescale(this.#o, t, r, o, -c), d = ue._rescale(this.#s, t, r, o, -c); break; case 90: u = ue._rescaleAndSwap(this.#o, t, e, o, c), d = ue._rescaleAndSwap(this.#s, t, e, o, c); break; case 180: u = ue._rescale(this.#o, n, e, -o, c), d = ue._rescale(this.#s, n, e, -o, c); break; case 270: u = ue._rescaleAndSwap(this.#o, n, r, -o, -c), d = ue._rescaleAndSwap(this.#s, n, r, -o, -c); break }return { outline: Array.from(u), points: [Array.from(d)] } } #a(t) { const e = this.#o; let n = e[4], r = e[5]; const s = [n, r, n, r]; let o = n, c = r; const u = t ? Math.max : Math.min; for (let f = 6, p = e.length; f < p; f += 6) { const m = e[f + 4], v = e[f + 5]; if (isNaN(e[f])) ye.pointBoundingBox(m, v, s), c < v ? (o = m, c = v) : c === v && (o = u(o, m)); else { const x = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; ye.bezierBoundingBox(n, r, ...e.slice(f, f + 6), x), ye.rectBoundingBox(...x, s), c < x[3] ? (o = x[2], c = x[3]) : c === x[3] && (o = u(o, x[2])) } n = m, r = v } const d = this.#e; d[0] = s[0] - this.#n, d[1] = s[1] - this.#n, d[2] = s[2] - s[0] + 2 * this.#n, d[3] = s[3] - s[1] + 2 * this.#n, this.lastPoint = [o, c] } get box() { return this.#e } newOutliner(t, e, n, r, s, o = 0) { return new Xu(t, e, n, r, s, o) } getNewOutline(t, e) { const [n, r, s, o] = this.#e, [c, u, d, f] = this.#t, p = s * d, m = o * f, v = n * d + c, x = r * f + u, y = this.newOutliner({ x: this.#s[0] * p + v, y: this.#s[1] * m + x }, this.#t, this.#r, t, this.#i, e ?? this.#n); for (let E = 2; E < this.#s.length; E += 2)y.add({ x: this.#s[E] * p + v, y: this.#s[E + 1] * m + x }); return y.getOutlines() } } class Bb { #t; #e; #n = []; #i = []; constructor(t, e = 0, n = 0, r = !0) { const s = [1 / 0, 1 / 0, -1 / 0, -1 / 0], o = 10 ** -4; for (const { x: v, y: x, width: y, height: E } of t) { const A = Math.floor((v - e) / o) * o, T = Math.ceil((v + y + e) / o) * o, L = Math.floor((x - e) / o) * o, k = Math.ceil((x + E + e) / o) * o, O = [A, L, k, !0], F = [T, L, k, !1]; this.#n.push(O, F), ye.rectBoundingBox(A, L, T, k, s) } const c = s[2] - s[0] + 2 * n, u = s[3] - s[1] + 2 * n, d = s[0] - n, f = s[1] - n, p = this.#n.at(r ? -1 : -2), m = [p[0], p[2]]; for (const v of this.#n) { const [x, y, E] = v; v[0] = (x - d) / c, v[1] = (y - f) / u, v[2] = (E - f) / u } this.#t = new Float32Array([d, f, c, u]), this.#e = m } getOutlines() { this.#n.sort((e, n) => e[0] - n[0] || e[1] - n[1] || e[2] - n[2]); const t = []; for (const e of this.#n) e[3] ? (t.push(...this.#h(e)), this.#o(e)) : (this.#a(e), t.push(...this.#h(e))); return this.#s(t) } #s(t) { const e = [], n = new Set; for (const o of t) { const [c, u, d] = o; e.push([c, u, o], [c, d, o]) } e.sort((o, c) => o[1] - c[1] || o[0] - c[0]); for (let o = 0, c = e.length; o < c; o += 2) { const u = e[o][2], d = e[o + 1][2]; u.push(d), d.push(u), n.add(u), n.add(d) } const r = []; let s; for (; n.size > 0;) { const o = n.values().next().value; let [c, u, d, f, p] = o; n.delete(o); let m = c, v = u; for (s = [c, d], r.push(s); ;) { let x; if (n.has(f)) x = f; else if (n.has(p)) x = p; else break; n.delete(x), [c, u, d, f, p] = x, m !== c && (s.push(m, v, c, v === u ? u : d), m = c), v = v === u ? d : u } s.push(m, v) } return new PF(r, this.#t, this.#e) } #r(t) { const e = this.#i; let n = 0, r = e.length - 1; for (; n <= r;) { const s = n + r >> 1, o = e[s][0]; if (o === t) return s; o < t ? n = s + 1 : r = s - 1 } return r + 1 } #o([, t, e]) { const n = this.#r(t); this.#i.splice(n, 0, [t, e]) } #a([, t, e]) { const n = this.#r(t); for (let r = n; r < this.#i.length; r++) { const [s, o] = this.#i[r]; if (s !== t) break; if (s === t && o === e) { this.#i.splice(r, 1); return } } for (let r = n - 1; r >= 0; r--) { const [s, o] = this.#i[r]; if (s !== t) break; if (s === t && o === e) { this.#i.splice(r, 1); return } } } #h(t) { const [e, n, r] = t, s = [[e, n, r]], o = this.#r(r); for (let c = 0; c < o; c++) { const [u, d] = this.#i[c]; for (let f = 0, p = s.length; f < p; f++) { const [, m, v] = s[f]; if (!(d <= m || v <= u)) { if (m >= u) { if (v > d) s[f][1] = d; else { if (p === 1) return []; s.splice(f, 1), f--, p-- } continue } s[f][2] = u, v > d && s.push([e, d, v]) } } } return s } } class PF extends ue { #t; #e; constructor(t, e, n) { super(), this.#e = t, this.#t = e, this.lastPoint = n } toSVGPath() { const t = []; for (const e of this.#e) { let [n, r] = e; t.push(`M${n} ${r}`); for (let s = 2; s < e.length; s += 2) { const o = e[s], c = e[s + 1]; o === n ? (t.push(`V${c}`), r = c) : c === r && (t.push(`H${o}`), n = o) } t.push("Z") } return t.join(" ") } serialize([t, e, n, r], s) { const o = [], c = n - t, u = r - e; for (const d of this.#e) { const f = new Array(d.length); for (let p = 0; p < d.length; p += 2)f[p] = t + d[p] * c, f[p + 1] = r - d[p + 1] * u; o.push(f) } return o } get box() { return this.#t } get classNamesForOutlining() { return ["highlightOutline"] } } class zb extends Xu { newFreeDrawOutline(t, e, n, r, s, o) { return new OF(t, e, n, r, s, o) } } class OF extends Q3 { newOutliner(t, e, n, r, s, o = 0) { return new zb(t, e, n, r, s, o) } } class js { #t = null; #e = null; #n; #i = null; #s = !1; #r = !1; #o = null; #a; #h = null; #c = null; #d; static #u = null; static get _keyboardManager() { return sn(this, "_keyboardManager", new Zp([[["Escape", "mac+Escape"], js.prototype._hideDropdownFromKeyboard], [[" ", "mac+ "], js.prototype._colorSelectFromKeyboard], [["ArrowDown", "ArrowRight", "mac+ArrowDown", "mac+ArrowRight"], js.prototype._moveToNext], [["ArrowUp", "ArrowLeft", "mac+ArrowUp", "mac+ArrowLeft"], js.prototype._moveToPrevious], [["Home", "mac+Home"], js.prototype._moveToBeginning], [["End", "mac+End"], js.prototype._moveToEnd]])) } constructor({ editor: t = null, uiManager: e = null }) { t ? (this.#r = !1, this.#d = ln.HIGHLIGHT_COLOR, this.#o = t) : (this.#r = !0, this.#d = ln.HIGHLIGHT_DEFAULT_COLOR), this.#c = t?._uiManager || e, this.#a = this.#c._eventBus, this.#n = t?.color || this.#c?.highlightColors.values().next().value || "#FFFF98", js.#u ||= Object.freeze({ blue: "pdfjs-editor-colorpicker-blue", green: "pdfjs-editor-colorpicker-green", pink: "pdfjs-editor-colorpicker-pink", red: "pdfjs-editor-colorpicker-red", yellow: "pdfjs-editor-colorpicker-yellow" }) } renderButton() { const t = this.#t = document.createElement("button"); t.className = "colorPicker", t.tabIndex = "0", t.setAttribute("data-l10n-id", "pdfjs-editor-colorpicker-button"), t.setAttribute("aria-haspopup", !0); const e = this.#c._signal; t.addEventListener("click", this.#m.bind(this), { signal: e }), t.addEventListener("keydown", this.#p.bind(this), { signal: e }); const n = this.#e = document.createElement("span"); return n.className = "swatch", n.setAttribute("aria-hidden", !0), n.style.backgroundColor = this.#n, t.append(n), t } renderMainDropdown() { const t = this.#i = this.#f(); return t.setAttribute("aria-orientation", "horizontal"), t.setAttribute("aria-labelledby", "highlightColorPickerLabel"), t } #f() { const t = document.createElement("div"), e = this.#c._signal; t.addEventListener("contextmenu", la, { signal: e }), t.className = "dropdown", t.role = "listbox", t.setAttribute("aria-multiselectable", !1), t.setAttribute("aria-orientation", "vertical"), t.setAttribute("data-l10n-id", "pdfjs-editor-colorpicker-dropdown"); for (const [n, r] of this.#c.highlightColors) { const s = document.createElement("button"); s.tabIndex = "0", s.role = "option", s.setAttribute("data-color", r), s.title = n, s.setAttribute("data-l10n-id", js.#u[n]); const o = document.createElement("span"); s.append(o), o.className = "swatch", o.style.backgroundColor = r, s.setAttribute("aria-selected", r === this.#n), s.addEventListener("click", this.#l.bind(this, r), { signal: e }), t.append(s) } return t.addEventListener("keydown", this.#p.bind(this), { signal: e }), t } #l(t, e) { e.stopPropagation(), this.#a.dispatch("switchannotationeditorparams", { source: this, type: this.#d, value: t }) } _colorSelectFromKeyboard(t) { if (t.target === this.#t) { this.#m(t); return } const e = t.target.getAttribute("data-color"); e && this.#l(e, t) } _moveToNext(t) { if (!this.#v) { this.#m(t); return } if (t.target === this.#t) { this.#i.firstChild?.focus(); return } t.target.nextSibling?.focus() } _moveToPrevious(t) { if (t.target === this.#i?.firstChild || t.target === this.#t) { this.#v && this._hideDropdownFromKeyboard(); return } this.#v || this.#m(t), t.target.previousSibling?.focus() } _moveToBeginning(t) { if (!this.#v) { this.#m(t); return } this.#i.firstChild?.focus() } _moveToEnd(t) { if (!this.#v) { this.#m(t); return } this.#i.lastChild?.focus() } #p(t) { js._keyboardManager.exec(this, t) } #m(t) { if (this.#v) { this.hideDropdown(); return } if (this.#s = t.detail === 0, this.#h || (this.#h = new AbortController, window.addEventListener("pointerdown", this.#g.bind(this), { signal: this.#c.combinedSignal(this.#h) })), this.#i) { this.#i.classList.remove("hidden"); return } const e = this.#i = this.#f(); this.#t.append(e) } #g(t) { this.#i?.contains(t.target) || this.hideDropdown() } hideDropdown() { this.#i?.classList.add("hidden"), this.#h?.abort(), this.#h = null } get #v() { return this.#i && !this.#i.classList.contains("hidden") } _hideDropdownFromKeyboard() { if (!this.#r) { if (!this.#v) { this.#o?.unselect(); return } this.hideDropdown(), this.#t.focus({ preventScroll: !0, focusVisible: this.#s }) } } updateColor(t) { if (this.#e && (this.#e.style.backgroundColor = t), !this.#i) return; const e = this.#c.highlightColors.values(); for (const n of this.#i.children) n.setAttribute("aria-selected", e.next().value === t) } destroy() { this.#t?.remove(), this.#t = null, this.#e = null, this.#i?.remove(), this.#i = null } } class Ri extends Se { #t = null; #e = 0; #n; #i = null; #s = null; #r = null; #o = null; #a = 0; #h = null; #c = null; #d = null; #u = !1; #f = null; #l; #p = null; #m = ""; #g; #v = ""; static _defaultColor = null; static _defaultOpacity = 1; static _defaultThickness = 12; static _type = "highlight"; static _editorType = ze.HIGHLIGHT; static _freeHighlightId = -1; static _freeHighlight = null; static _freeHighlightClipId = ""; static get _keyboardManager() { const t = Ri.prototype; return sn(this, "_keyboardManager", new Zp([[["ArrowLeft", "mac+ArrowLeft"], t._moveCaret, { args: [0] }], [["ArrowRight", "mac+ArrowRight"], t._moveCaret, { args: [1] }], [["ArrowUp", "mac+ArrowUp"], t._moveCaret, { args: [2] }], [["ArrowDown", "mac+ArrowDown"], t._moveCaret, { args: [3] }]])) } constructor(t) { super({ ...t, name: "highlightEditor" }), this.color = t.color || Ri._defaultColor, this.#g = t.thickness || Ri._defaultThickness, this.#l = t.opacity || Ri._defaultOpacity, this.#n = t.boxes || null, this.#v = t.methodOfCreation || "", this.#m = t.text || "", this._isDraggable = !1, this.defaultL10nId = "pdfjs-editor-highlight-editor", t.highlightId > -1 ? (this.#u = !0, this.#y(t), this.#T()) : this.#n && (this.#t = t.anchorNode, this.#e = t.anchorOffset, this.#o = t.focusNode, this.#a = t.focusOffset, this.#b(), this.#T(), this.rotate(this.rotation)) } get telemetryInitialData() { return { action: "added", type: this.#u ? "free_highlight" : "highlight", color: this._uiManager.highlightColorNames.get(this.color), thickness: this.#g, methodOfCreation: this.#v } } get telemetryFinalData() { return { type: "highlight", color: this._uiManager.highlightColorNames.get(this.color) } } static computeTelemetryFinalData(t) { return { numberOfColors: t.get("color").size } } #b() { const t = new Bb(this.#n, .001); this.#c = t.getOutlines(), [this.x, this.y, this.width, this.height] = this.#c.box; const e = new Bb(this.#n, .0025, .001, this._uiManager.direction === "ltr"); this.#r = e.getOutlines(); const { lastPoint: n } = this.#r; this.#f = [(n[0] - this.x) / this.width, (n[1] - this.y) / this.height] } #y({ highlightOutlines: t, highlightId: e, clipPathId: n }) { this.#c = t; const r = 1.5; if (this.#r = t.getNewOutline(this.#g / 2 + r, .0025), e >= 0) this.#d = e, this.#i = n, this.parent.drawLayer.finalizeDraw(e, { bbox: t.box, path: { d: t.toSVGPath() } }), this.#p = this.parent.drawLayer.drawOutline({ rootClass: { highlightOutline: !0, free: !0 }, bbox: this.#r.box, path: { d: this.#r.toSVGPath() } }, !0); else if (this.parent) { const f = this.parent.viewport.rotation; this.parent.drawLayer.updateProperties(this.#d, { bbox: Ri.#E(this.#c.box, (f - this.rotation + 360) % 360), path: { d: t.toSVGPath() } }), this.parent.drawLayer.updateProperties(this.#p, { bbox: Ri.#E(this.#r.box, f), path: { d: this.#r.toSVGPath() } }) } const [s, o, c, u] = t.box; switch (this.rotation) { case 0: this.x = s, this.y = o, this.width = c, this.height = u; break; case 90: { const [f, p] = this.parentDimensions; this.x = o, this.y = 1 - s, this.width = c * p / f, this.height = u * f / p; break } case 180: this.x = 1 - s, this.y = 1 - o, this.width = c, this.height = u; break; case 270: { const [f, p] = this.parentDimensions; this.x = 1 - o, this.y = s, this.width = c * p / f, this.height = u * f / p; break } }const { lastPoint: d } = this.#r; this.#f = [(d[0] - s) / c, (d[1] - o) / u] } static initialize(t, e) { Se.initialize(t, e), Ri._defaultColor ||= e.highlightColors?.values().next().value || "#fff066" } static updateDefaultParams(t, e) { switch (t) { case ln.HIGHLIGHT_DEFAULT_COLOR: Ri._defaultColor = e; break; case ln.HIGHLIGHT_THICKNESS: Ri._defaultThickness = e; break } } translateInPage(t, e) { } get toolbarPosition() { return this.#f } updateParams(t, e) { switch (t) { case ln.HIGHLIGHT_COLOR: this.#x(e); break; case ln.HIGHLIGHT_THICKNESS: this.#S(e); break } } static get defaultPropertiesToUpdate() { return [[ln.HIGHLIGHT_DEFAULT_COLOR, Ri._defaultColor], [ln.HIGHLIGHT_THICKNESS, Ri._defaultThickness]] } get propertiesToUpdate() { return [[ln.HIGHLIGHT_COLOR, this.color || Ri._defaultColor], [ln.HIGHLIGHT_THICKNESS, this.#g || Ri._defaultThickness], [ln.HIGHLIGHT_FREE, this.#u]] } #x(t) { const e = (s, o) => { this.color = s, this.#l = o, this.parent?.drawLayer.updateProperties(this.#d, { root: { fill: s, "fill-opacity": o } }), this.#s?.updateColor(s) }, n = this.color, r = this.#l; this.addCommands({ cmd: e.bind(this, t, Ri._defaultOpacity), undo: e.bind(this, n, r), post: this._uiManager.updateUI.bind(this._uiManager, this), mustExec: !0, type: ln.HIGHLIGHT_COLOR, overwriteIfSameType: !0, keepUndo: !0 }), this._reportTelemetry({ action: "color_changed", color: this._uiManager.highlightColorNames.get(t) }, !0) } #S(t) { const e = this.#g, n = r => { this.#g = r, this.#A(r) }; this.addCommands({ cmd: n.bind(this, t), undo: n.bind(this, e), post: this._uiManager.updateUI.bind(this._uiManager, this), mustExec: !0, type: ln.INK_THICKNESS, overwriteIfSameType: !0, keepUndo: !0 }), this._reportTelemetry({ action: "thickness_changed", thickness: t }, !0) } async addEditToolbar() { const t = await super.addEditToolbar(); return t ? (this._uiManager.highlightColors && (this.#s = new js({ editor: this }), t.addColorPicker(this.#s)), t) : null } disableEditing() { super.disableEditing(), this.div.classList.toggle("disabled", !0) } enableEditing() { super.enableEditing(), this.div.classList.toggle("disabled", !1) } fixAndSetPosition() { return super.fixAndSetPosition(this.#M()) } getBaseTranslation() { return [0, 0] } getRect(t, e) { return super.getRect(t, e, this.#M()) } onceAdded(t) { this.annotationElementId || this.parent.addUndoableEditor(this), t && this.div.focus() } remove() { this.#C(), this._reportTelemetry({ action: "deleted" }), super.remove() } rebuild() { this.parent && (super.rebuild(), this.div !== null && (this.#T(), this.isAttachedToDOM || this.parent.add(this))) } setParent(t) { let e = !1; this.parent && !t ? this.#C() : t && (this.#T(t), e = !this.parent && this.div?.classList.contains("selectedEditor")), super.setParent(t), this.show(this._isVisible), e && this.select() } #A(t) { if (!this.#u) return; this.#y({ highlightOutlines: this.#c.getNewOutline(t / 2) }), this.fixAndSetPosition(); const [e, n] = this.parentDimensions; this.setDims(this.width * e, this.height * n) } #C() { this.#d === null || !this.parent || (this.parent.drawLayer.remove(this.#d), this.#d = null, this.parent.drawLayer.remove(this.#p), this.#p = null) } #T(t = this.parent) { this.#d === null && ({ id: this.#d, clipPathId: this.#i } = t.drawLayer.draw({ bbox: this.#c.box, root: { viewBox: "0 0 1 1", fill: this.color, "fill-opacity": this.#l }, rootClass: { highlight: !0, free: this.#u }, path: { d: this.#c.toSVGPath() } }, !1, !0), this.#p = t.drawLayer.drawOutline({ rootClass: { highlightOutline: !0, free: this.#u }, bbox: this.#r.box, path: { d: this.#r.toSVGPath() } }, this.#u), this.#h && (this.#h.style.clipPath = this.#i)) } static #E([t, e, n, r], s) { switch (s) { case 90: return [1 - e - r, t, r, n]; case 180: return [1 - t - n, 1 - e - r, n, r]; case 270: return [e, 1 - t - n, r, n] }return [t, e, n, r] } rotate(t) { const { drawLayer: e } = this.parent; let n; this.#u ? (t = (t - this.rotation + 360) % 360, n = Ri.#E(this.#c.box, t)) : n = Ri.#E([this.x, this.y, this.width, this.height], t), e.updateProperties(this.#d, { bbox: n, root: { "data-main-rotation": t } }), e.updateProperties(this.#p, { bbox: Ri.#E(this.#r.box, t), root: { "data-main-rotation": t } }) } render() { if (this.div) return this.div; const t = super.render(); this.#m && (t.setAttribute("aria-label", this.#m), t.setAttribute("role", "mark")), this.#u ? t.classList.add("free") : this.div.addEventListener("keydown", this.#R.bind(this), { signal: this._uiManager._signal }); const e = this.#h = document.createElement("div"); t.append(e), e.setAttribute("aria-hidden", "true"), e.className = "internal", e.style.clipPath = this.#i; const [n, r] = this.parentDimensions; return this.setDims(this.width * n, this.height * r), _3(this, this.#h, ["pointerover", "pointerleave"]), this.enableEditing(), t } pointerover() { this.isSelected || this.parent?.drawLayer.updateProperties(this.#p, { rootClass: { hovered: !0 } }) } pointerleave() { this.isSelected || this.parent?.drawLayer.updateProperties(this.#p, { rootClass: { hovered: !1 } }) } #R(t) { Ri._keyboardManager.exec(this, t) } _moveCaret(t) { switch (this.parent.unselect(this), t) { case 0: case 2: this.#N(!0); break; case 1: case 3: this.#N(!1); break } } #N(t) { if (!this.#t) return; const e = window.getSelection(); t ? e.setPosition(this.#t, this.#e) : e.setPosition(this.#o, this.#a) } select() { super.select(), this.#p && this.parent?.drawLayer.updateProperties(this.#p, { rootClass: { hovered: !1, selected: !0 } }) } unselect() { super.unselect(), this.#p && (this.parent?.drawLayer.updateProperties(this.#p, { rootClass: { selected: !1 } }), this.#u || this.#N(!1)) } get _mustFixPosition() { return !this.#u } show(t = this._isVisible) { super.show(t), this.parent && (this.parent.drawLayer.updateProperties(this.#d, { rootClass: { hidden: !t } }), this.parent.drawLayer.updateProperties(this.#p, { rootClass: { hidden: !t } })) } #M() { return this.#u ? this.rotation : 0 } #P() { if (this.#u) return null; const [t, e] = this.pageDimensions, [n, r] = this.pageTranslation, s = this.#n, o = new Float32Array(s.length * 8); let c = 0; for (const { x: u, y: d, width: f, height: p } of s) { const m = u * t + n, v = (1 - d) * e + r; o[c] = o[c + 4] = m, o[c + 1] = o[c + 3] = v, o[c + 2] = o[c + 6] = m + f * t, o[c + 5] = o[c + 7] = v - p * e, c += 8 } return o } #O(t) { return this.#c.serialize(t, this.#M()) } static startHighlighting(t, e, { target: n, x: r, y: s }) { const { x: o, y: c, width: u, height: d } = n.getBoundingClientRect(), f = new AbortController, p = t.combinedSignal(f), m = v => { f.abort(), this.#_(t, v) }; window.addEventListener("blur", m, { signal: p }), window.addEventListener("pointerup", m, { signal: p }), window.addEventListener("pointerdown", Ti, { capture: !0, passive: !1, signal: p }), window.addEventListener("contextmenu", la, { signal: p }), n.addEventListener("pointermove", this.#z.bind(this, t), { signal: p }), this._freeHighlight = new zb({ x: r, y: s }, [o, c, u, d], t.scale, this._defaultThickness / 2, e, .001), { id: this._freeHighlightId, clipPathId: this._freeHighlightClipId } = t.drawLayer.draw({ bbox: [0, 0, 1, 1], root: { viewBox: "0 0 1 1", fill: this._defaultColor, "fill-opacity": this._defaultOpacity }, rootClass: { highlight: !0, free: !0 }, path: { d: this._freeHighlight.toSVGPath() } }, !0, !0) } static #z(t, e) { this._freeHighlight.add(e) && t.drawLayer.updateProperties(this._freeHighlightId, { path: { d: this._freeHighlight.toSVGPath() } }) } static #_(t, e) { this._freeHighlight.isEmpty() ? t.drawLayer.remove(this._freeHighlightId) : t.createAndAddNewEditor(e, !1, { highlightId: this._freeHighlightId, highlightOutlines: this._freeHighlight.getOutlines(), clipPathId: this._freeHighlightClipId, methodOfCreation: "main_toolbar" }), this._freeHighlightId = -1, this._freeHighlight = null, this._freeHighlightClipId = "" } static async deserialize(t, e, n) { let r = null; if (t instanceof Y3) { const { data: { quadPoints: x, rect: y, rotation: E, id: A, color: T, opacity: L, popupRef: k }, parent: { page: { pageNumber: O } } } = t; r = t = { annotationType: ze.HIGHLIGHT, color: Array.from(T), opacity: L, quadPoints: x, boxes: null, pageIndex: O - 1, rect: y.slice(0), rotation: E, id: A, deleted: !1, popupRef: k } } else if (t instanceof g2) { const { data: { inkLists: x, rect: y, rotation: E, id: A, color: T, borderStyle: { rawWidth: L }, popupRef: k }, parent: { page: { pageNumber: O } } } = t; r = t = { annotationType: ze.HIGHLIGHT, color: Array.from(T), thickness: L, inkLists: x, boxes: null, pageIndex: O - 1, rect: y.slice(0), rotation: E, id: A, deleted: !1, popupRef: k } } const { color: s, quadPoints: o, inkLists: c, opacity: u } = t, d = await super.deserialize(t, e, n); d.color = ye.makeHexColor(...s), d.#l = u || 1, c && (d.#g = t.thickness), d.annotationElementId = t.id || null, d._initialData = r; const [f, p] = d.pageDimensions, [m, v] = d.pageTranslation; if (o) { const x = d.#n = []; for (let y = 0; y < o.length; y += 8)x.push({ x: (o[y] - m) / f, y: 1 - (o[y + 1] - v) / p, width: (o[y + 2] - o[y]) / f, height: (o[y + 1] - o[y + 5]) / p }); d.#b(), d.#T(), d.rotate(d.rotation) } else if (c) { d.#u = !0; const x = c[0], y = { x: x[0] - m, y: p - (x[1] - v) }, E = new zb(y, [0, 0, f, p], 1, d.#g / 2, !0, .001); for (let L = 0, k = x.length; L < k; L += 2)y.x = x[L] - m, y.y = p - (x[L + 1] - v), E.add(y); const { id: A, clipPathId: T } = e.drawLayer.draw({ bbox: [0, 0, 1, 1], root: { viewBox: "0 0 1 1", fill: d.color, "fill-opacity": d._defaultOpacity }, rootClass: { highlight: !0, free: !0 }, path: { d: E.toSVGPath() } }, !0, !0); d.#y({ highlightOutlines: E.getOutlines(), highlightId: A, clipPathId: T }), d.#T(), d.rotate(d.parentRotation) } return d } serialize(t = !1) { if (this.isEmpty() || t) return null; if (this.deleted) return this.serializeDeleted(); const e = this.getRect(0, 0), n = Se._colorManager.convert(this.color), r = { annotationType: ze.HIGHLIGHT, color: n, opacity: this.#l, thickness: this.#g, quadPoints: this.#P(), outlines: this.#O(e), pageIndex: this.pageIndex, rect: e, rotation: this.#M(), structTreeParentId: this._structTreeParentId }; return this.annotationElementId && !this.#w(r) ? null : (r.id = this.annotationElementId, r) } #w(t) { const { color: e } = this._initialData; return t.color.some((n, r) => n !== e[r]) } renderAnnotationElement(t) { return t.updateEdited({ rect: this.getRect(0, 0) }), null } static canCreateNewEmptyEditor() { return !1 } } class Z3 { #t = Object.create(null); updateProperty(t, e) { this[t] = e, this.updateSVGProperty(t, e) } updateProperties(t) { if (t) for (const [e, n] of Object.entries(t)) e.startsWith("_") || this.updateProperty(e, n) } updateSVGProperty(t, e) { this.#t[t] = e } toSVGProperties() { const t = this.#t; return this.#t = Object.create(null), { root: t } } reset() { this.#t = Object.create(null) } updateAll(t = this) { this.updateProperties(t) } clone() { jn("Not implemented") } } class Te extends Se { #t = null; #e; _drawId = null; static _currentDrawId = -1; static _currentParent = null; static #n = null; static #i = null; static #s = null; static #r = NaN; static #o = null; static #a = null; static #h = NaN; static _INNER_MARGIN = 3; constructor(t) { super(t), this.#e = t.mustBeCommitted || !1, this._addOutlines(t) } _addOutlines(t) { t.drawOutlines && (this.#c(t), this.#f()) } #c({ drawOutlines: t, drawId: e, drawingOptions: n }) { this.#t = t, this._drawingOptions ||= n, e >= 0 ? (this._drawId = e, this.parent.drawLayer.finalizeDraw(e, t.defaultProperties)) : this._drawId = this.#d(t, this.parent), this.#m(t.box) } #d(t, e) { const { id: n } = e.drawLayer.draw(Te._mergeSVGProperties(this._drawingOptions.toSVGProperties(), t.defaultSVGProperties), !1, !1); return n } static _mergeSVGProperties(t, e) { const n = new Set(Object.keys(t)); for (const [r, s] of Object.entries(e)) n.has(r) ? Object.assign(t[r], s) : t[r] = s; return t } static getDefaultDrawingOptions(t) { jn("Not implemented") } static get typesMap() { jn("Not implemented") } static get isDrawer() { return !0 } static get supportMultipleDrawings() { return !1 } static updateDefaultParams(t, e) { const n = this.typesMap.get(t); n && this._defaultDrawingOptions.updateProperty(n, e), this._currentParent && (Te.#n.updateProperty(n, e), this._currentParent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties())) } updateParams(t, e) { const n = this.constructor.typesMap.get(t); n && this._updateProperty(t, n, e) } static get defaultPropertiesToUpdate() { const t = [], e = this._defaultDrawingOptions; for (const [n, r] of this.typesMap) t.push([n, e[r]]); return t } get propertiesToUpdate() { const t = [], { _drawingOptions: e } = this; for (const [n, r] of this.constructor.typesMap) t.push([n, e[r]]); return t } _updateProperty(t, e, n) { const r = this._drawingOptions, s = r[e], o = c => { r.updateProperty(e, c); const u = this.#t.updateProperty(e, c); u && this.#m(u), this.parent?.drawLayer.updateProperties(this._drawId, r.toSVGProperties()) }; this.addCommands({ cmd: o.bind(this, n), undo: o.bind(this, s), post: this._uiManager.updateUI.bind(this._uiManager, this), mustExec: !0, type: t, overwriteIfSameType: !0, keepUndo: !0 }) } _onResizing() { this.parent?.drawLayer.updateProperties(this._drawId, Te._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()), { bbox: this.#g() })) } _onResized() { this.parent?.drawLayer.updateProperties(this._drawId, Te._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()), { bbox: this.#g() })) } _onTranslating(t, e) { this.parent?.drawLayer.updateProperties(this._drawId, { bbox: this.#g() }) } _onTranslated() { this.parent?.drawLayer.updateProperties(this._drawId, Te._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(), this.parentDimensions), { bbox: this.#g() })) } _onStartDragging() { this.parent?.drawLayer.updateProperties(this._drawId, { rootClass: { moving: !0 } }) } _onStopDragging() { this.parent?.drawLayer.updateProperties(this._drawId, { rootClass: { moving: !1 } }) } commit() { super.commit(), this.disableEditMode(), this.disableEditing() } disableEditing() { super.disableEditing(), this.div.classList.toggle("disabled", !0) } enableEditing() { super.enableEditing(), this.div.classList.toggle("disabled", !1) } getBaseTranslation() { return [0, 0] } get isResizable() { return !0 } onceAdded(t) { this.annotationElementId || this.parent.addUndoableEditor(this), this._isDraggable = !0, this.#e && (this.#e = !1, this.commit(), this.parent.setSelected(this), t && this.isOnScreen && this.div.focus()) } remove() { this.#u(), super.remove() } rebuild() { this.parent && (super.rebuild(), this.div !== null && (this.#f(), this.#m(this.#t.box), this.isAttachedToDOM || this.parent.add(this))) } setParent(t) { let e = !1; this.parent && !t ? (this._uiManager.removeShouldRescale(this), this.#u()) : t && (this._uiManager.addShouldRescale(this), this.#f(t), e = !this.parent && this.div?.classList.contains("selectedEditor")), super.setParent(t), e && this.select() } #u() { this._drawId === null || !this.parent || (this.parent.drawLayer.remove(this._drawId), this._drawId = null, this._drawingOptions.reset()) } #f(t = this.parent) { if (!(this._drawId !== null && this.parent === t)) { if (this._drawId !== null) { this.parent.drawLayer.updateParent(this._drawId, t.drawLayer); return } this._drawingOptions.updateAll(), this._drawId = this.#d(this.#t, t) } } #l([t, e, n, r]) { const { parentDimensions: [s, o], rotation: c } = this; switch (c) { case 90: return [e, 1 - t, n * (o / s), r * (s / o)]; case 180: return [1 - t, 1 - e, n, r]; case 270: return [1 - e, t, n * (o / s), r * (s / o)]; default: return [t, e, n, r] } } #p() { const { x: t, y: e, width: n, height: r, parentDimensions: [s, o], rotation: c } = this; switch (c) { case 90: return [1 - e, t, n * (s / o), r * (o / s)]; case 180: return [1 - t, 1 - e, n, r]; case 270: return [e, 1 - t, n * (s / o), r * (o / s)]; default: return [t, e, n, r] } } #m(t) { if ([this.x, this.y, this.width, this.height] = this.#l(t), this.div) { this.fixAndSetPosition(); const [e, n] = this.parentDimensions; this.setDims(this.width * e, this.height * n) } this._onResized() } #g() { const { x: t, y: e, width: n, height: r, rotation: s, parentRotation: o, parentDimensions: [c, u] } = this; switch ((s * 4 + o) / 90) { case 1: return [1 - e - r, t, r, n]; case 2: return [1 - t - n, 1 - e - r, n, r]; case 3: return [e, 1 - t - n, r, n]; case 4: return [t, e - n * (c / u), r * (u / c), n * (c / u)]; case 5: return [1 - e, t, n * (c / u), r * (u / c)]; case 6: return [1 - t - r * (u / c), 1 - e, r * (u / c), n * (c / u)]; case 7: return [e - n * (c / u), 1 - t - r * (u / c), n * (c / u), r * (u / c)]; case 8: return [t - n, e - r, n, r]; case 9: return [1 - e, t - n, r, n]; case 10: return [1 - t, 1 - e, n, r]; case 11: return [e - r, 1 - t, r, n]; case 12: return [t - r * (u / c), e, r * (u / c), n * (c / u)]; case 13: return [1 - e - n * (c / u), t - r * (u / c), n * (c / u), r * (u / c)]; case 14: return [1 - t, 1 - e - n * (c / u), r * (u / c), n * (c / u)]; case 15: return [e, 1 - t, n * (c / u), r * (u / c)]; default: return [t, e, n, r] } } rotate() { this.parent && this.parent.drawLayer.updateProperties(this._drawId, Te._mergeSVGProperties({ bbox: this.#g() }, this.#t.updateRotation((this.parentRotation - this.rotation + 360) % 360))) } onScaleChanging() { this.parent && this.#m(this.#t.updateParentDimensions(this.parentDimensions, this.parent.scale)) } static onScaleChangingWhenDrawing() { } render() { if (this.div) return this.div; let t, e; this._isCopy && (t = this.x, e = this.y); const n = super.render(); n.classList.add("draw"); const r = document.createElement("div"); n.append(r), r.setAttribute("aria-hidden", "true"), r.className = "internal"; const [s, o] = this.parentDimensions; return this.setDims(this.width * s, this.height * o), this._uiManager.addShouldRescale(this), this.disableEditing(), this._isCopy && this._moveAfterPaste(t, e), n } static createDrawerInstance(t, e, n, r, s) { jn("Not implemented") } static startDrawing(t, e, n, r) { const { target: s, offsetX: o, offsetY: c, pointerId: u, pointerType: d } = r; if (Te.#o && Te.#o !== d) return; const { viewport: { rotation: f } } = t, { width: p, height: m } = s.getBoundingClientRect(), v = Te.#i = new AbortController, x = t.combinedSignal(v); if (Te.#r ||= u, Te.#o ??= d, window.addEventListener("pointerup", y => { Te.#r === y.pointerId ? this._endDraw(y) : Te.#a?.delete(y.pointerId) }, { signal: x }), window.addEventListener("pointercancel", y => { Te.#r === y.pointerId ? this._currentParent.endDrawingSession() : Te.#a?.delete(y.pointerId) }, { signal: x }), window.addEventListener("pointerdown", y => { Te.#o === y.pointerType && ((Te.#a ||= new Set).add(y.pointerId), Te.#n.isCancellable() && (Te.#n.removeLastElement(), Te.#n.isEmpty() ? this._currentParent.endDrawingSession(!0) : this._endDraw(null))) }, { capture: !0, passive: !1, signal: x }), window.addEventListener("contextmenu", la, { signal: x }), s.addEventListener("pointermove", this._drawMove.bind(this), { signal: x }), s.addEventListener("touchmove", y => { y.timeStamp === Te.#h && Ti(y) }, { signal: x }), t.toggleDrawing(), e._editorUndoBar?.hide(), Te.#n) { t.drawLayer.updateProperties(this._currentDrawId, Te.#n.startNew(o, c, p, m, f)); return } e.updateUIForDefaultProperties(this), Te.#n = this.createDrawerInstance(o, c, p, m, f), Te.#s = this.getDefaultDrawingOptions(), this._currentParent = t, { id: this._currentDrawId } = t.drawLayer.draw(this._mergeSVGProperties(Te.#s.toSVGProperties(), Te.#n.defaultSVGProperties), !0, !1) } static _drawMove(t) { if (Te.#h = -1, !Te.#n) return; const { offsetX: e, offsetY: n, pointerId: r } = t; if (Te.#r === r) { if (Te.#a?.size >= 1) { this._endDraw(t); return } this._currentParent.drawLayer.updateProperties(this._currentDrawId, Te.#n.add(e, n)), Te.#h = t.timeStamp, Ti(t) } } static _cleanup(t) { t && (this._currentDrawId = -1, this._currentParent = null, Te.#n = null, Te.#s = null, Te.#o = null, Te.#h = NaN), Te.#i && (Te.#i.abort(), Te.#i = null, Te.#r = NaN, Te.#a = null) } static _endDraw(t) { const e = this._currentParent; if (e) { if (e.toggleDrawing(!0), this._cleanup(!1), t?.target === e.div && e.drawLayer.updateProperties(this._currentDrawId, Te.#n.end(t.offsetX, t.offsetY)), this.supportMultipleDrawings) { const n = Te.#n, r = this._currentDrawId, s = n.getLastElement(); e.addCommands({ cmd: () => { e.drawLayer.updateProperties(r, n.setLastElement(s)) }, undo: () => { e.drawLayer.updateProperties(r, n.removeLastElement()) }, mustExec: !1, type: ln.DRAW_STEP }); return } this.endDrawing(!1) } } static endDrawing(t) { const e = this._currentParent; if (!e) return null; if (e.toggleDrawing(!0), e.cleanUndoStack(ln.DRAW_STEP), !Te.#n.isEmpty()) { const { pageDimensions: [n, r], scale: s } = e, o = e.createAndAddNewEditor({ offsetX: 0, offsetY: 0 }, !1, { drawId: this._currentDrawId, drawOutlines: Te.#n.getOutlines(n * s, r * s, s, this._INNER_MARGIN), drawingOptions: Te.#s, mustBeCommitted: !t }); return this._cleanup(!0), o } return e.drawLayer.remove(this._currentDrawId), this._cleanup(!0), null } createDrawingOptions(t) { } static deserializeDraw(t, e, n, r, s, o) { jn("Not implemented") } static async deserialize(t, e, n) { const { rawDims: { pageWidth: r, pageHeight: s, pageX: o, pageY: c } } = e.viewport, u = this.deserializeDraw(o, c, r, s, this._INNER_MARGIN, t), d = await super.deserialize(t, e, n); return d.createDrawingOptions(t), d.#c({ drawOutlines: u }), d.#f(), d.onScaleChanging(), d.rotate(), d } serializeDraw(t) { const [e, n] = this.pageTranslation, [r, s] = this.pageDimensions; return this.#t.serialize([e, n, r, s], t) } renderAnnotationElement(t) { return t.updateEdited({ rect: this.getRect(0, 0) }), null } static canCreateNewEmptyEditor() { return !1 } } class kF { #t = new Float64Array(6); #e; #n; #i; #s; #r; #o = ""; #a = 0; #h = new ng; #c; #d; constructor(t, e, n, r, s, o) { this.#c = n, this.#d = r, this.#i = s, this.#s = o, [t, e] = this.#u(t, e); const c = this.#e = [NaN, NaN, NaN, NaN, t, e]; this.#r = [t, e], this.#n = [{ line: c, points: this.#r }], this.#t.set(c, 0) } updateProperty(t, e) { t === "stroke-width" && (this.#s = e) } #u(t, e) { return ue._normalizePoint(t, e, this.#c, this.#d, this.#i) } isEmpty() { return !this.#n || this.#n.length === 0 } isCancellable() { return this.#r.length <= 10 } add(t, e) { [t, e] = this.#u(t, e); const [n, r, s, o] = this.#t.subarray(2, 6), c = t - s, u = e - o; return Math.hypot(this.#c * c, this.#d * u) <= 2 ? null : (this.#r.push(t, e), isNaN(n) ? (this.#t.set([s, o, t, e], 2), this.#e.push(NaN, NaN, NaN, NaN, t, e), { path: { d: this.toSVGPath() } }) : (isNaN(this.#t[0]) && this.#e.splice(6, 6), this.#t.set([n, r, s, o, t, e], 0), this.#e.push(...ue.createBezierPoints(n, r, s, o, t, e)), { path: { d: this.toSVGPath() } })) } end(t, e) { const n = this.add(t, e); return n || (this.#r.length === 2 ? { path: { d: this.toSVGPath() } } : null) } startNew(t, e, n, r, s) { this.#c = n, this.#d = r, this.#i = s, [t, e] = this.#u(t, e); const o = this.#e = [NaN, NaN, NaN, NaN, t, e]; this.#r = [t, e]; const c = this.#n.at(-1); return c && (c.line = new Float32Array(c.line), c.points = new Float32Array(c.points)), this.#n.push({ line: o, points: this.#r }), this.#t.set(o, 0), this.#a = 0, this.toSVGPath(), null } getLastElement() { return this.#n.at(-1) } setLastElement(t) { return this.#n ? (this.#n.push(t), this.#e = t.line, this.#r = t.points, this.#a = 0, { path: { d: this.toSVGPath() } }) : this.#h.setLastElement(t) } removeLastElement() { if (!this.#n) return this.#h.removeLastElement(); this.#n.pop(), this.#o = ""; for (let t = 0, e = this.#n.length; t < e; t++) { const { line: n, points: r } = this.#n[t]; this.#e = n, this.#r = r, this.#a = 0, this.toSVGPath() } return { path: { d: this.#o } } } toSVGPath() { const t = ue.svgRound(this.#e[4]), e = ue.svgRound(this.#e[5]); if (this.#r.length === 2) return this.#o = `${this.#o} M ${t} ${e} Z`, this.#o; if (this.#r.length <= 6) { const r = this.#o.lastIndexOf("M"); this.#o = `${this.#o.slice(0, r)} M ${t} ${e}`, this.#a = 6 } if (this.#r.length === 4) { const r = ue.svgRound(this.#e[10]), s = ue.svgRound(this.#e[11]); return this.#o = `${this.#o} L ${r} ${s}`, this.#a = 12, this.#o } const n = []; this.#a === 0 && (n.push(`M ${t} ${e}`), this.#a = 6); for (let r = this.#a, s = this.#e.length; r < s; r += 6) { const [o, c, u, d, f, p] = this.#e.slice(r, r + 6).map(ue.svgRound); n.push(`C${o} ${c} ${u} ${d} ${f} ${p}`) } return this.#o += n.join(" "), this.#a = this.#e.length, this.#o } getOutlines(t, e, n, r) { const s = this.#n.at(-1); return s.line = new Float32Array(s.line), s.points = new Float32Array(s.points), this.#h.build(this.#n, t, e, n, this.#i, this.#s, r), this.#t = null, this.#e = null, this.#n = null, this.#o = null, this.#h } get defaultSVGProperties() { return { root: { viewBox: "0 0 10000 10000" }, rootClass: { draw: !0 }, bbox: [0, 0, 1, 1] } } } class ng extends ue { #t; #e = 0; #n; #i; #s; #r; #o; #a; #h; build(t, e, n, r, s, o, c) { this.#s = e, this.#r = n, this.#o = r, this.#a = s, this.#h = o, this.#n = c ?? 0, this.#i = t, this.#u() } get thickness() { return this.#h } setLastElement(t) { return this.#i.push(t), { path: { d: this.toSVGPath() } } } removeLastElement() { return this.#i.pop(), { path: { d: this.toSVGPath() } } } toSVGPath() { const t = []; for (const { line: e } of this.#i) { if (t.push(`M${ue.svgRound(e[4])} ${ue.svgRound(e[5])}`), e.length === 6) { t.push("Z"); continue } if (e.length === 12 && isNaN(e[6])) { t.push(`L${ue.svgRound(e[10])} ${ue.svgRound(e[11])}`); continue } for (let n = 6, r = e.length; n < r; n += 6) { const [s, o, c, u, d, f] = e.subarray(n, n + 6).map(ue.svgRound); t.push(`C${s} ${o} ${c} ${u} ${d} ${f}`) } } return t.join("") } serialize([t, e, n, r], s) { const o = [], c = [], [u, d, f, p] = this.#d(); let m, v, x, y, E, A, T, L, k; switch (this.#a) { case 0: k = ue._rescale, m = t, v = e + r, x = n, y = -r, E = t + u * n, A = e + (1 - d - p) * r, T = t + (u + f) * n, L = e + (1 - d) * r; break; case 90: k = ue._rescaleAndSwap, m = t, v = e, x = n, y = r, E = t + d * n, A = e + u * r, T = t + (d + p) * n, L = e + (u + f) * r; break; case 180: k = ue._rescale, m = t + n, v = e, x = -n, y = r, E = t + (1 - u - f) * n, A = e + d * r, T = t + (1 - u) * n, L = e + (d + p) * r; break; case 270: k = ue._rescaleAndSwap, m = t + n, v = e + r, x = -n, y = -r, E = t + (1 - d - p) * n, A = e + (1 - u - f) * r, T = t + (1 - d) * n, L = e + (1 - u) * r; break }for (const { line: O, points: F } of this.#i) o.push(k(O, m, v, x, y, s ? new Array(O.length) : null)), c.push(k(F, m, v, x, y, s ? new Array(F.length) : null)); return { lines: o, points: c, rect: [E, A, T, L] } } static deserialize(t, e, n, r, s, { paths: { lines: o, points: c }, rotation: u, thickness: d }) { const f = []; let p, m, v, x, y; switch (u) { case 0: y = ue._rescale, p = -t / n, m = e / r + 1, v = 1 / n, x = -1 / r; break; case 90: y = ue._rescaleAndSwap, p = -e / r, m = -t / n, v = 1 / r, x = 1 / n; break; case 180: y = ue._rescale, p = t / n + 1, m = -e / r, v = -1 / n, x = 1 / r; break; case 270: y = ue._rescaleAndSwap, p = e / r + 1, m = t / n + 1, v = -1 / r, x = -1 / n; break }if (!o) { o = []; for (const A of c) { const T = A.length; if (T === 2) { o.push(new Float32Array([NaN, NaN, NaN, NaN, A[0], A[1]])); continue } if (T === 4) { o.push(new Float32Array([NaN, NaN, NaN, NaN, A[0], A[1], NaN, NaN, NaN, NaN, A[2], A[3]])); continue } const L = new Float32Array(3 * (T - 2)); o.push(L); let [k, O, F, D] = A.subarray(0, 4); L.set([NaN, NaN, NaN, NaN, k, O], 0); for (let j = 4; j < T; j += 2) { const J = A[j], ot = A[j + 1]; L.set(ue.createBezierPoints(k, O, F, D, J, ot), (j - 2) * 3), [k, O, F, D] = [F, D, J, ot] } } } for (let A = 0, T = o.length; A < T; A++)f.push({ line: y(o[A].map(L => L ?? NaN), p, m, v, x), points: y(c[A].map(L => L ?? NaN), p, m, v, x) }); const E = new this.prototype.constructor; return E.build(f, n, r, 1, u, d, s), E } #c(t = this.#h) { const e = this.#n + t / 2 * this.#o; return this.#a % 180 === 0 ? [e / this.#s, e / this.#r] : [e / this.#r, e / this.#s] } #d() { const [t, e, n, r] = this.#t, [s, o] = this.#c(0); return [t + s, e + o, n - 2 * s, r - 2 * o] } #u() { const t = this.#t = new Float32Array([1 / 0, 1 / 0, -1 / 0, -1 / 0]); for (const { line: r } of this.#i) { if (r.length <= 12) { for (let c = 4, u = r.length; c < u; c += 6)ye.pointBoundingBox(r[c], r[c + 1], t); continue } let s = r[4], o = r[5]; for (let c = 6, u = r.length; c < u; c += 6) { const [d, f, p, m, v, x] = r.subarray(c, c + 6); ye.bezierBoundingBox(s, o, d, f, p, m, v, x, t), s = v, o = x } } const [e, n] = this.#c(); t[0] = zr(t[0] - e, 0, 1), t[1] = zr(t[1] - n, 0, 1), t[2] = zr(t[2] + e, 0, 1), t[3] = zr(t[3] + n, 0, 1), t[2] -= t[0], t[3] -= t[1] } get box() { return this.#t } updateProperty(t, e) { return t === "stroke-width" ? this.#f(e) : null } #f(t) { const [e, n] = this.#c(); this.#h = t; const [r, s] = this.#c(), [o, c] = [r - e, s - n], u = this.#t; return u[0] -= o, u[1] -= c, u[2] += 2 * o, u[3] += 2 * c, u } updateParentDimensions([t, e], n) { const [r, s] = this.#c(); this.#s = t, this.#r = e, this.#o = n; const [o, c] = this.#c(), u = o - r, d = c - s, f = this.#t; return f[0] -= u, f[1] -= d, f[2] += 2 * u, f[3] += 2 * d, f } updateRotation(t) { return this.#e = t, { path: { transform: this.rotationTransform } } } get viewBox() { return this.#t.map(ue.svgRound).join(" ") } get defaultProperties() { const [t, e] = this.#t; return { root: { viewBox: this.viewBox }, path: { "transform-origin": `${ue.svgRound(t)} ${ue.svgRound(e)}` } } } get rotationTransform() { const [, , t, e] = this.#t; let n = 0, r = 0, s = 0, o = 0, c = 0, u = 0; switch (this.#e) { case 90: r = e / t, s = -t / e, c = t; break; case 180: n = -1, o = -1, c = t, u = e; break; case 270: r = -e / t, s = t / e, u = e; break; default: return "" }return `matrix(${n} ${r} ${s} ${o} ${ue.svgRound(c)} ${ue.svgRound(u)})` } getPathResizingSVGProperties([t, e, n, r]) { const [s, o] = this.#c(), [c, u, d, f] = this.#t; if (Math.abs(d - s) <= ue.PRECISION || Math.abs(f - o) <= ue.PRECISION) { const y = t + n / 2 - (c + d / 2), E = e + r / 2 - (u + f / 2); return { path: { "transform-origin": `${ue.svgRound(t)} ${ue.svgRound(e)}`, transform: `${this.rotationTransform} translate(${y} ${E})` } } } const p = (n - 2 * s) / (d - 2 * s), m = (r - 2 * o) / (f - 2 * o), v = d / n, x = f / r; return { path: { "transform-origin": `${ue.svgRound(c)} ${ue.svgRound(u)}`, transform: `${this.rotationTransform} scale(${v} ${x}) translate(${ue.svgRound(s)} ${ue.svgRound(o)}) scale(${p} ${m}) translate(${ue.svgRound(-s)} ${ue.svgRound(-o)})` } } } getPathResizedSVGProperties([t, e, n, r]) { const [s, o] = this.#c(), c = this.#t, [u, d, f, p] = c; if (c[0] = t, c[1] = e, c[2] = n, c[3] = r, Math.abs(f - s) <= ue.PRECISION || Math.abs(p - o) <= ue.PRECISION) { const E = t + n / 2 - (u + f / 2), A = e + r / 2 - (d + p / 2); for (const { line: T, points: L } of this.#i) ue._translate(T, E, A, T), ue._translate(L, E, A, L); return { root: { viewBox: this.viewBox }, path: { "transform-origin": `${ue.svgRound(t)} ${ue.svgRound(e)}`, transform: this.rotationTransform || null, d: this.toSVGPath() } } } const m = (n - 2 * s) / (f - 2 * s), v = (r - 2 * o) / (p - 2 * o), x = -m * (u + s) + t + s, y = -v * (d + o) + e + o; if (m !== 1 || v !== 1 || x !== 0 || y !== 0) for (const { line: E, points: A } of this.#i) ue._rescale(E, x, y, m, v, E), ue._rescale(A, x, y, m, v, A); return { root: { viewBox: this.viewBox }, path: { "transform-origin": `${ue.svgRound(t)} ${ue.svgRound(e)}`, transform: this.rotationTransform || null, d: this.toSVGPath() } } } getPathTranslatedSVGProperties([t, e], n) { const [r, s] = n, o = this.#t, c = t - o[0], u = e - o[1]; if (this.#s === r && this.#r === s) for (const { line: d, points: f } of this.#i) ue._translate(d, c, u, d), ue._translate(f, c, u, f); else { const d = this.#s / r, f = this.#r / s; this.#s = r, this.#r = s; for (const { line: p, points: m } of this.#i) ue._rescale(p, c, u, d, f, p), ue._rescale(m, c, u, d, f, m); o[2] *= d, o[3] *= f } return o[0] = t, o[1] = e, { root: { viewBox: this.viewBox }, path: { d: this.toSVGPath(), "transform-origin": `${ue.svgRound(t)} ${ue.svgRound(e)}` } } } get defaultSVGProperties() { const t = this.#t; return { root: { viewBox: this.viewBox }, rootClass: { draw: !0 }, path: { d: this.toSVGPath(), "transform-origin": `${ue.svgRound(t[0])} ${ue.svgRound(t[1])}`, transform: this.rotationTransform || null }, bbox: t } } } class z0 extends Z3 { constructor(t) { super(), this._viewParameters = t, super.updateProperties({ fill: "none", stroke: Se._defaultLineColor, "stroke-opacity": 1, "stroke-width": 1, "stroke-linecap": "round", "stroke-linejoin": "round", "stroke-miterlimit": 10 }) } updateSVGProperty(t, e) { t === "stroke-width" && (e ??= this["stroke-width"], e *= this._viewParameters.realScale), super.updateSVGProperty(t, e) } clone() { const t = new z0(this._viewParameters); return t.updateAll(this), t } } class v2 extends Te { static _type = "ink"; static _editorType = ze.INK; static _defaultDrawingOptions = null; constructor(t) { super({ ...t, name: "inkEditor" }), this._willKeepAspectRatio = !0, this.defaultL10nId = "pdfjs-editor-ink-editor" } static initialize(t, e) { Se.initialize(t, e), this._defaultDrawingOptions = new z0(e.viewParameters) } static getDefaultDrawingOptions(t) { const e = this._defaultDrawingOptions.clone(); return e.updateProperties(t), e } static get supportMultipleDrawings() { return !0 } static get typesMap() { return sn(this, "typesMap", new Map([[ln.INK_THICKNESS, "stroke-width"], [ln.INK_COLOR, "stroke"], [ln.INK_OPACITY, "stroke-opacity"]])) } static createDrawerInstance(t, e, n, r, s) { return new kF(t, e, n, r, s, this._defaultDrawingOptions["stroke-width"]) } static deserializeDraw(t, e, n, r, s, o) { return ng.deserialize(t, e, n, r, s, o) } static async deserialize(t, e, n) { let r = null; if (t instanceof g2) { const { data: { inkLists: o, rect: c, rotation: u, id: d, color: f, opacity: p, borderStyle: { rawWidth: m }, popupRef: v }, parent: { page: { pageNumber: x } } } = t; r = t = { annotationType: ze.INK, color: Array.from(f), thickness: m, opacity: p, paths: { points: o }, boxes: null, pageIndex: x - 1, rect: c.slice(0), rotation: u, id: d, deleted: !1, popupRef: v } } const s = await super.deserialize(t, e, n); return s.annotationElementId = t.id || null, s._initialData = r, s } onScaleChanging() { if (!this.parent) return; super.onScaleChanging(); const { _drawId: t, _drawingOptions: e, parent: n } = this; e.updateSVGProperty("stroke-width"), n.drawLayer.updateProperties(t, e.toSVGProperties()) } static onScaleChangingWhenDrawing() { const t = this._currentParent; t && (super.onScaleChangingWhenDrawing(), this._defaultDrawingOptions.updateSVGProperty("stroke-width"), t.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties())) } createDrawingOptions({ color: t, thickness: e, opacity: n }) { this._drawingOptions = v2.getDefaultDrawingOptions({ stroke: ye.makeHexColor(...t), "stroke-width": e, "stroke-opacity": n }) } serialize(t = !1) { if (this.isEmpty()) return null; if (this.deleted) return this.serializeDeleted(); const { lines: e, points: n, rect: r } = this.serializeDraw(t), { _drawingOptions: { stroke: s, "stroke-opacity": o, "stroke-width": c } } = this, u = { annotationType: ze.INK, color: Se._colorManager.convert(s), opacity: o, thickness: c, paths: { lines: e, points: n }, pageIndex: this.pageIndex, rect: r, rotation: this.rotation, structTreeParentId: this._structTreeParentId }; return t ? (u.isCopy = !0, u) : this.annotationElementId && !this.#t(u) ? null : (u.id = this.annotationElementId, u) } #t(t) { const { color: e, thickness: n, opacity: r, pageIndex: s } = this._initialData; return this._hasBeenMoved || this._hasBeenResized || t.color.some((o, c) => o !== e[c]) || t.thickness !== n || t.opacity !== r || t.pageIndex !== s } renderAnnotationElement(t) { const { points: e, rect: n } = this.serializeDraw(!1); return t.updateEdited({ rect: n, thickness: this._drawingOptions["stroke-width"], points: e }), null } } class Ub extends ng { toSVGPath() { let t = super.toSVGPath(); return t.endsWith("Z") || (t += "Z"), t } } const xm = 8, np = 3; class $u { static #t = { maxDim: 512, sigmaSFactor: .02, sigmaR: 25, kernelSize: 16 }; static #e(t, e, n, r) { return n -= t, r -= e, n === 0 ? r > 0 ? 0 : 4 : n === 1 ? r + 6 : 2 - r } static #n = new Int32Array([0, 1, -1, 1, -1, 0, -1, -1, 0, -1, 1, -1, 1, 0, 1, 1]); static #i(t, e, n, r, s, o, c) { const u = this.#e(n, r, s, o); for (let d = 0; d < 8; d++) { const f = (-d + u - c + 16) % 8, p = this.#n[2 * f], m = this.#n[2 * f + 1]; if (t[(n + p) * e + (r + m)] !== 0) return f } return -1 } static #s(t, e, n, r, s, o, c) { const u = this.#e(n, r, s, o); for (let d = 0; d < 8; d++) { const f = (d + u + c + 16) % 8, p = this.#n[2 * f], m = this.#n[2 * f + 1]; if (t[(n + p) * e + (r + m)] !== 0) return f } return -1 } static #r(t, e, n, r) { const s = t.length, o = new Int32Array(s); for (let f = 0; f < s; f++)o[f] = t[f] <= r ? 1 : 0; for (let f = 1; f < n - 1; f++)o[f * e] = o[f * e + e - 1] = 0; for (let f = 0; f < e; f++)o[f] = o[e * n - 1 - f] = 0; let c = 1, u; const d = []; for (let f = 1; f < n - 1; f++) { u = 1; for (let p = 1; p < e - 1; p++) { const m = f * e + p, v = o[m]; if (v === 0) continue; let x = f, y = p; if (v === 1 && o[m - 1] === 0) c += 1, y -= 1; else if (v >= 1 && o[m + 1] === 0) c += 1, y += 1, v > 1 && (u = v); else { v !== 1 && (u = Math.abs(v)); continue } const E = [p, f], A = y === p + 1, T = { isHole: A, points: E, id: c, parent: 0 }; d.push(T); let L; for (const z of d) if (z.id === u) { L = z; break } L ? L.isHole ? T.parent = A ? L.parent : u : T.parent = A ? u : L.parent : T.parent = A ? u : 0; const k = this.#i(o, e, f, p, x, y, 0); if (k === -1) { o[m] = -c, o[m] !== 1 && (u = Math.abs(o[m])); continue } let O = this.#n[2 * k], F = this.#n[2 * k + 1]; const D = f + O, j = p + F; x = D, y = j; let J = f, ot = p; for (; ;) { const z = this.#s(o, e, J, ot, x, y, 1); O = this.#n[2 * z], F = this.#n[2 * z + 1]; const G = J + O, it = ot + F; E.push(it, G); const nt = J * e + ot; if (o[nt + 1] === 0 ? o[nt] = -c : o[nt] === 1 && (o[nt] = c), G === f && it === p && J === D && ot === j) { o[m] !== 1 && (u = Math.abs(o[m])); break } else x = J, y = ot, J = G, ot = it } } } return d } static #o(t, e, n, r) { if (n - e <= 4) { for (let D = e; D < n - 2; D += 2)r.push(t[D], t[D + 1]); return } const s = t[e], o = t[e + 1], c = t[n - 4] - s, u = t[n - 3] - o, d = Math.hypot(c, u), f = c / d, p = u / d, m = f * o - p * s, v = u / c, x = 1 / d, y = Math.atan(v), E = Math.cos(y), A = Math.sin(y), T = x * (Math.abs(E) + Math.abs(A)), L = x * (1 - T + T ** 2), k = Math.max(Math.atan(Math.abs(A + E) * L), Math.atan(Math.abs(A - E) * L)); let O = 0, F = e; for (let D = e + 2; D < n - 2; D += 2) { const j = Math.abs(m - f * t[D + 1] + p * t[D]); j > O && (F = D, O = j) } O > (d * k) ** 2 ? (this.#o(t, e, F + 2, r), this.#o(t, F, n, r)) : r.push(s, o) } static #a(t) { const e = [], n = t.length; return this.#o(t, 0, n, e), e.push(t[n - 2], t[n - 1]), e.length <= 4 ? null : e } static #h(t, e, n, r, s, o) { const c = new Float32Array(o ** 2), u = -2 * r ** 2, d = o >> 1; for (let y = 0; y < o; y++) { const E = (y - d) ** 2; for (let A = 0; A < o; A++)c[y * o + A] = Math.exp((E + (A - d) ** 2) / u) } const f = new Float32Array(256), p = -2 * s ** 2; for (let y = 0; y < 256; y++)f[y] = Math.exp(y ** 2 / p); const m = t.length, v = new Uint8Array(m), x = new Uint32Array(256); for (let y = 0; y < n; y++)for (let E = 0; E < e; E++) { const A = y * e + E, T = t[A]; let L = 0, k = 0; for (let F = 0; F < o; F++) { const D = y + F - d; if (!(D < 0 || D >= n)) for (let j = 0; j < o; j++) { const J = E + j - d; if (J < 0 || J >= e) continue; const ot = t[D * e + J], z = c[F * o + j] * f[Math.abs(ot - T)]; L += ot * z, k += z } } const O = v[A] = Math.round(L / k); x[O]++ } return [v, x] } static #c(t) { const e = new Uint32Array(256); for (const n of t) e[n]++; return e } static #d(t) { const e = t.length, n = new Uint8ClampedArray(e >> 2); let r = -1 / 0, s = 1 / 0; for (let c = 0, u = n.length; c < u; c++) { if (t[(c << 2) + 3] === 0) { r = n[c] = 255; continue } const f = n[c] = t[c << 2]; f > r && (r = f), f < s && (s = f) } const o = 255 / (r - s); for (let c = 0; c < e; c++)n[c] = (n[c] - s) * o; return n } static #u(t) { let e, n = -1 / 0, r = -1 / 0; const s = t.findIndex(u => u !== 0); let o = s, c = s; for (e = s; e < 256; e++) { const u = t[e]; u > n && (e - o > r && (r = e - o, c = e - 1), n = u, o = e) } for (e = c - 1; e >= 0 && !(t[e] > t[e + 1]); e--); return e } static #f(t) { const e = t, { width: n, height: r } = t, { maxDim: s } = this.#t; let o = n, c = r; if (n > s || r > s) { let m = n, v = r, x = Math.log2(Math.max(n, r) / s); const y = Math.floor(x); x = x === y ? y - 1 : y; for (let A = 0; A < x; A++) { o = Math.ceil(m / 2), c = Math.ceil(v / 2); const T = new OffscreenCanvas(o, c); T.getContext("2d").drawImage(t, 0, 0, m, v, 0, 0, o, c), m = o, v = c, t !== e && t.close(), t = T.transferToImageBitmap() } const E = Math.min(s / o, s / c); o = Math.round(o * E), c = Math.round(c * E) } const d = new OffscreenCanvas(o, c).getContext("2d", { willReadFrequently: !0 }); d.filter = "grayscale(1)", d.drawImage(t, 0, 0, t.width, t.height, 0, 0, o, c); const f = d.getImageData(0, 0, o, c).data; return [this.#d(f), o, c] } static extractContoursFromText(t, { fontFamily: e, fontStyle: n, fontWeight: r }, s, o, c, u) { let d = new OffscreenCanvas(1, 1), f = d.getContext("2d", { alpha: !1 }); const p = 200, m = f.font = `${n} ${r} ${p}px ${e}`, { actualBoundingBoxLeft: v, actualBoundingBoxRight: x, actualBoundingBoxAscent: y, actualBoundingBoxDescent: E, fontBoundingBoxAscent: A, fontBoundingBoxDescent: T, width: L } = f.measureText(t), k = 1.5, O = Math.ceil(Math.max(Math.abs(v) + Math.abs(x) || 0, L) * k), F = Math.ceil(Math.max(Math.abs(y) + Math.abs(E) || p, Math.abs(A) + Math.abs(T) || p) * k); d = new OffscreenCanvas(O, F), f = d.getContext("2d", { alpha: !0, willReadFrequently: !0 }), f.font = m, f.filter = "grayscale(1)", f.fillStyle = "white", f.fillRect(0, 0, O, F), f.fillStyle = "black", f.fillText(t, O * (k - 1) / 2, F * (3 - k) / 2); const D = this.#d(f.getImageData(0, 0, O, F).data), j = this.#c(D), J = this.#u(j), ot = this.#r(D, O, F, J); return this.processDrawnLines({ lines: { curves: ot, width: O, height: F }, pageWidth: s, pageHeight: o, rotation: c, innerMargin: u, mustSmooth: !0, areContours: !0 }) } static process(t, e, n, r, s) { const [o, c, u] = this.#f(t), [d, f] = this.#h(o, c, u, Math.hypot(c, u) * this.#t.sigmaSFactor, this.#t.sigmaR, this.#t.kernelSize), p = this.#u(f), m = this.#r(d, c, u, p); return this.processDrawnLines({ lines: { curves: m, width: c, height: u }, pageWidth: e, pageHeight: n, rotation: r, innerMargin: s, mustSmooth: !0, areContours: !0 }) } static processDrawnLines({ lines: t, pageWidth: e, pageHeight: n, rotation: r, innerMargin: s, mustSmooth: o, areContours: c }) { r % 180 !== 0 && ([e, n] = [n, e]); const { curves: u, width: d, height: f } = t, p = t.thickness ?? 0, m = [], v = Math.min(e / d, n / f), x = v / e, y = v / n, E = []; for (const { points: T } of u) { const L = o ? this.#a(T) : T; if (!L) continue; E.push(L); const k = L.length, O = new Float32Array(k), F = new Float32Array(3 * (k === 2 ? 2 : k - 2)); if (m.push({ line: F, points: O }), k === 2) { O[0] = L[0] * x, O[1] = L[1] * y, F.set([NaN, NaN, NaN, NaN, O[0], O[1]], 0); continue } let [D, j, J, ot] = L; D *= x, j *= y, J *= x, ot *= y, O.set([D, j, J, ot], 0), F.set([NaN, NaN, NaN, NaN, D, j], 0); for (let z = 4; z < k; z += 2) { const G = O[z] = L[z] * x, it = O[z + 1] = L[z + 1] * y; F.set(ue.createBezierPoints(D, j, J, ot, G, it), (z - 2) * 3), [D, j, J, ot] = [J, ot, G, it] } } if (m.length === 0) return null; const A = c ? new Ub : new ng; return A.build(m, e, n, 1, r, c ? 0 : p, s), { outline: A, newCurves: E, areContours: c, thickness: p, width: d, height: f } } static async compressSignature({ outlines: t, areContours: e, thickness: n, width: r, height: s }) { let o = 1 / 0, c = -1 / 0, u = 0; for (const L of t) { u += L.length; for (let k = 2, O = L.length; k < O; k++) { const F = L[k] - L[k - 2]; o = Math.min(o, F), c = Math.max(c, F) } } let d; o >= -128 && c <= 127 ? d = Int8Array : o >= -32768 && c <= 32767 ? d = Int16Array : d = Int32Array; const f = t.length, p = xm + np * f, m = new Uint32Array(p); let v = 0; m[v++] = p * Uint32Array.BYTES_PER_ELEMENT + (u - 2 * f) * d.BYTES_PER_ELEMENT, m[v++] = 0, m[v++] = r, m[v++] = s, m[v++] = e ? 0 : 1, m[v++] = Math.max(0, Math.floor(n ?? 0)), m[v++] = f, m[v++] = d.BYTES_PER_ELEMENT; for (const L of t) m[v++] = L.length - 2, m[v++] = L[0], m[v++] = L[1]; const x = new CompressionStream("deflate-raw"), y = x.writable.getWriter(); await y.ready, y.write(m); const E = d.prototype.constructor; for (const L of t) { const k = new E(L.length - 2); for (let O = 2, F = L.length; O < F; O++)k[O - 2] = L[O] - L[O - 2]; y.write(k) } y.close(); const A = await new Response(x.readable).arrayBuffer(), T = new Uint8Array(A); return x3(T) } static async decompressSignature(t) { try { const e = uI(t), { readable: n, writable: r } = new DecompressionStream("deflate-raw"), s = r.getWriter(); await s.ready, s.write(e).then(async () => { await s.ready, await s.close() }).catch(() => { }); let o = null, c = 0; for await (const L of n) o ||= new Uint8Array(new Uint32Array(L.buffer, 0, 4)[0]), o.set(L, c), c += L.length; const u = new Uint32Array(o.buffer, 0, o.length >> 2), d = u[1]; if (d !== 0) throw new Error(`Invalid version: ${d}`); const f = u[2], p = u[3], m = u[4] === 0, v = u[5], x = u[6], y = u[7], E = [], A = (xm + np * x) * Uint32Array.BYTES_PER_ELEMENT; let T; switch (y) { case Int8Array.BYTES_PER_ELEMENT: T = new Int8Array(o.buffer, A); break; case Int16Array.BYTES_PER_ELEMENT: T = new Int16Array(o.buffer, A); break; case Int32Array.BYTES_PER_ELEMENT: T = new Int32Array(o.buffer, A); break }c = 0; for (let L = 0; L < x; L++) { const k = u[np * L + xm], O = new Float32Array(k + 2); E.push(O); for (let F = 0; F < np - 1; F++)O[F] = u[np * L + xm + F + 1]; for (let F = 0; F < k; F++)O[F + 2] = O[F] + T[c++] } return { areContours: m, thickness: v, outlines: E, width: f, height: p } } catch (e) { return He(`decompressSignature: ${e}`), null } } } class b2 extends Z3 { constructor() { super(), super.updateProperties({ fill: Se._defaultLineColor, "stroke-width": 0 }) } clone() { const t = new b2; return t.updateAll(this), t } } class y2 extends z0 { constructor(t) { super(t), super.updateProperties({ stroke: Se._defaultLineColor, "stroke-width": 1 }) } clone() { const t = new y2(this._viewParameters); return t.updateAll(this), t } } class Fo extends Te { #t = !1; #e = null; #n = null; #i = null; static _type = "signature"; static _editorType = ze.SIGNATURE; static _defaultDrawingOptions = null; constructor(t) { super({ ...t, mustBeCommitted: !0, name: "signatureEditor" }), this._willKeepAspectRatio = !0, this.#n = t.signatureData || null, this.#e = null, this.defaultL10nId = "pdfjs-editor-signature-editor1" } static initialize(t, e) { Se.initialize(t, e), this._defaultDrawingOptions = new b2, this._defaultDrawnSignatureOptions = new y2(e.viewParameters) } static getDefaultDrawingOptions(t) { const e = this._defaultDrawingOptions.clone(); return e.updateProperties(t), e } static get supportMultipleDrawings() { return !1 } static get typesMap() { return sn(this, "typesMap", new Map) } static get isDrawer() { return !1 } get telemetryFinalData() { return { type: "signature", hasDescription: !!this.#e } } static computeTelemetryFinalData(t) { const e = t.get("hasDescription"); return { hasAltText: e.get(!0) ?? 0, hasNoAltText: e.get(!1) ?? 0 } } get isResizable() { return !0 } onScaleChanging() { this._drawId !== null && super.onScaleChanging() } render() { if (this.div) return this.div; let t, e; const { _isCopy: n } = this; if (n && (this._isCopy = !1, t = this.x, e = this.y), super.render(), this._drawId === null) if (this.#n) { const { lines: r, mustSmooth: s, areContours: o, description: c, uuid: u, heightInPage: d } = this.#n, { rawDims: { pageWidth: f, pageHeight: p }, rotation: m } = this.parent.viewport, v = $u.processDrawnLines({ lines: r, pageWidth: f, pageHeight: p, rotation: m, innerMargin: Fo._INNER_MARGIN, mustSmooth: s, areContours: o }); this.addSignature(v, d, c, u) } else this.div.setAttribute("data-l10n-args", JSON.stringify({ description: "" })), this.div.hidden = !0, this._uiManager.getSignature(this); return n && (this._isCopy = !0, this._moveAfterPaste(t, e)), this.div } setUuid(t) { this.#i = t, this.addEditToolbar() } getUuid() { return this.#i } get description() { return this.#e } set description(t) { this.#e = t, super.addEditToolbar().then(e => { e?.updateEditSignatureButton(t) }) } getSignaturePreview() { const { newCurves: t, areContours: e, thickness: n, width: r, height: s } = this.#n, o = Math.max(r, s), c = $u.processDrawnLines({ lines: { curves: t.map(u => ({ points: u })), thickness: n, width: r, height: s }, pageWidth: o, pageHeight: o, rotation: 0, innerMargin: 0, mustSmooth: !1, areContours: e }); return { areContours: e, outline: c.outline } } async addEditToolbar() { const t = await super.addEditToolbar(); return t ? (this._uiManager.signatureManager && this.#e !== null && (await t.addEditSignatureButton(this._uiManager.signatureManager, this.#i, this.#e), t.show()), t) : null } addSignature(t, e, n, r) { const { x: s, y: o } = this, { outline: c } = this.#n = t; this.#t = c instanceof Ub, this.#e = n, this.div.setAttribute("data-l10n-args", JSON.stringify({ description: n })); let u; this.#t ? u = Fo.getDefaultDrawingOptions() : (u = Fo._defaultDrawnSignatureOptions.clone(), u.updateProperties({ "stroke-width": c.thickness })), this._addOutlines({ drawOutlines: c, drawingOptions: u }); const [d, f] = this.parentDimensions, [, p] = this.pageDimensions; let m = e / p; m = m >= 1 ? .5 : m, this.width *= m / this.height, this.width >= 1 && (m *= .9 / this.width, this.width = .9), this.height = m, this.setDims(d * this.width, f * this.height), this.x = s, this.y = o, this.center(), this._onResized(), this.onScaleChanging(), this.rotate(), this._uiManager.addToAnnotationStorage(this), this.setUuid(r), this._reportTelemetry({ action: "pdfjs.signature.inserted", data: { hasBeenSaved: !!r, hasDescription: !!n } }), this.div.hidden = !1 } getFromImage(t) { const { rawDims: { pageWidth: e, pageHeight: n }, rotation: r } = this.parent.viewport; return $u.process(t, e, n, r, Fo._INNER_MARGIN) } getFromText(t, e) { const { rawDims: { pageWidth: n, pageHeight: r }, rotation: s } = this.parent.viewport; return $u.extractContoursFromText(t, e, n, r, s, Fo._INNER_MARGIN) } getDrawnSignature(t) { const { rawDims: { pageWidth: e, pageHeight: n }, rotation: r } = this.parent.viewport; return $u.processDrawnLines({ lines: t, pageWidth: e, pageHeight: n, rotation: r, innerMargin: Fo._INNER_MARGIN, mustSmooth: !1, areContours: !1 }) } createDrawingOptions({ areContours: t, thickness: e }) { t ? this._drawingOptions = Fo.getDefaultDrawingOptions() : (this._drawingOptions = Fo._defaultDrawnSignatureOptions.clone(), this._drawingOptions.updateProperties({ "stroke-width": e })) } serialize(t = !1) { if (this.isEmpty()) return null; const { lines: e, points: n, rect: r } = this.serializeDraw(t), { _drawingOptions: { "stroke-width": s } } = this, o = { annotationType: ze.SIGNATURE, isSignature: !0, areContours: this.#t, color: [0, 0, 0], thickness: this.#t ? 0 : s, pageIndex: this.pageIndex, rect: r, rotation: this.rotation, structTreeParentId: this._structTreeParentId }; return t ? (o.paths = { lines: e, points: n }, o.uuid = this.#i, o.isCopy = !0) : o.lines = e, this.#e && (o.accessibilityData = { type: "Figure", alt: this.#e }), o } static deserializeDraw(t, e, n, r, s, o) { return o.areContours ? Ub.deserialize(t, e, n, r, s, o) : ng.deserialize(t, e, n, r, s, o) } static async deserialize(t, e, n) { const r = await super.deserialize(t, e, n); return r.#t = t.areContours, r.#e = t.accessibilityData?.alt || "", r.#i = t.uuid, r } } class DF extends Se { #t = null; #e = null; #n = null; #i = null; #s = null; #r = ""; #o = null; #a = !1; #h = null; #c = !1; #d = !1; static _type = "stamp"; static _editorType = ze.STAMP; constructor(t) { super({ ...t, name: "stampEditor" }), this.#i = t.bitmapUrl, this.#s = t.bitmapFile, this.defaultL10nId = "pdfjs-editor-stamp-editor" } static initialize(t, e) { Se.initialize(t, e) } static isHandlingMimeForPasting(t) { return r0.includes(t) } static paste(t, e) { e.pasteEditor({ mode: ze.STAMP }, { bitmapFile: t.getAsFile() }) } altTextFinish() { this._uiManager.useNewAltTextFlow && (this.div.hidden = !1), super.altTextFinish() } get telemetryFinalData() { return { type: "stamp", hasAltText: !!this.altTextData?.altText } } static computeTelemetryFinalData(t) { const e = t.get("hasAltText"); return { hasAltText: e.get(!0) ?? 0, hasNoAltText: e.get(!1) ?? 0 } } #u(t, e = !1) { if (!t) { this.remove(); return } this.#t = t.bitmap, e || (this.#e = t.id, this.#c = t.isSvg), t.file && (this.#r = t.file.name), this.#p() } #f() { if (this.#n = null, this._uiManager.enableWaiting(!1), !!this.#o) { if (this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#t) { this._editToolbar.hide(), this._uiManager.editAltText(this, !0); return } if (!this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#t) { this._reportTelemetry({ action: "pdfjs.image.image_added", data: { alt_text_modal: !1, alt_text_type: "empty" } }); try { this.mlGuessAltText() } catch { } } this.div.focus() } } async mlGuessAltText(t = null, e = !0) { if (this.hasAltTextData()) return null; const { mlManager: n } = this._uiManager; if (!n) throw new Error("No ML."); if (!await n.isEnabledFor("altText")) throw new Error("ML isn't enabled for alt text."); const { data: r, width: s, height: o } = t || this.copyCanvas(null, null, !0).imageData, c = await n.guess({ name: "altText", request: { data: r, width: s, height: o, channels: r.length / (s * o) } }); if (!c) throw new Error("No response from the AI service."); if (c.error) throw new Error("Error from the AI service."); if (c.cancel) return null; if (!c.output) throw new Error("No valid response from the AI service."); const u = c.output; return await this.setGuessedAltText(u), e && !this.hasAltTextData() && (this.altTextData = { alt: u, decorative: !1 }), u } #l() { if (this.#e) { this._uiManager.enableWaiting(!0), this._uiManager.imageManager.getFromId(this.#e).then(n => this.#u(n, !0)).finally(() => this.#f()); return } if (this.#i) { const n = this.#i; this.#i = null, this._uiManager.enableWaiting(!0), this.#n = this._uiManager.imageManager.getFromUrl(n).then(r => this.#u(r)).finally(() => this.#f()); return } if (this.#s) { const n = this.#s; this.#s = null, this._uiManager.enableWaiting(!0), this.#n = this._uiManager.imageManager.getFromFile(n).then(r => this.#u(r)).finally(() => this.#f()); return } const t = document.createElement("input"); t.type = "file", t.accept = r0.join(","); const e = this._uiManager._signal; this.#n = new Promise(n => { t.addEventListener("change", async () => { if (!t.files || t.files.length === 0) this.remove(); else { this._uiManager.enableWaiting(!0); const r = await this._uiManager.imageManager.getFromFile(t.files[0]); this._reportTelemetry({ action: "pdfjs.image.image_selected", data: { alt_text_modal: this._uiManager.useNewAltTextFlow } }), this.#u(r) } n() }, { signal: e }), t.addEventListener("cancel", () => { this.remove(), n() }, { signal: e }) }).finally(() => this.#f()), t.click() } remove() { this.#e && (this.#t = null, this._uiManager.imageManager.deleteId(this.#e), this.#o?.remove(), this.#o = null, this.#h && (clearTimeout(this.#h), this.#h = null)), super.remove() } rebuild() { if (!this.parent) { this.#e && this.#l(); return } super.rebuild(), this.div !== null && (this.#e && this.#o === null && this.#l(), this.isAttachedToDOM || this.parent.add(this)) } onceAdded(t) { this._isDraggable = !0, t && this.div.focus() } isEmpty() { return !(this.#n || this.#t || this.#i || this.#s || this.#e || this.#a) } get isResizable() { return !0 } render() { if (this.div) return this.div; let t, e; return this._isCopy && (t = this.x, e = this.y), super.render(), this.div.hidden = !0, this.addAltTextButton(), this.#a || (this.#t ? this.#p() : this.#l()), this._isCopy && this._moveAfterPaste(t, e), this._uiManager.addShouldRescale(this), this.div } setCanvas(t, e) { const { id: n, bitmap: r } = this._uiManager.imageManager.getFromCanvas(t, e); e.remove(), n && this._uiManager.imageManager.isValidId(n) && (this.#e = n, r && (this.#t = r), this.#a = !1, this.#p()) } _onResized() { this.onScaleChanging() } onScaleChanging() { if (!this.parent) return; this.#h !== null && clearTimeout(this.#h); const t = 200; this.#h = setTimeout(() => { this.#h = null, this.#g() }, t) } #p() { const { div: t } = this; let { width: e, height: n } = this.#t; const [r, s] = this.pageDimensions, o = .75; if (this.width) e = this.width * r, n = this.height * s; else if (e > o * r || n > o * s) { const f = Math.min(o * r / e, o * s / n); e *= f, n *= f } const [c, u] = this.parentDimensions; this.setDims(e * c / r, n * u / s), this._uiManager.enableWaiting(!1); const d = this.#o = document.createElement("canvas"); d.setAttribute("role", "img"), this.addContainer(d), this.width = e / r, this.height = n / s, this._initialOptions?.isCentered ? this.center() : this.fixAndSetPosition(), this._initialOptions = null, (!this._uiManager.useNewAltTextWhenAddingImage || !this._uiManager.useNewAltTextFlow || this.annotationElementId) && (t.hidden = !1), this.#g(), this.#d || (this.parent.addUndoableEditor(this), this.#d = !0), this._reportTelemetry({ action: "inserted_image" }), this.#r && this.div.setAttribute("aria-description", this.#r) } copyCanvas(t, e, n = !1) { t || (t = 224); const { width: r, height: s } = this.#t, o = new Ga; let c = this.#t, u = r, d = s, f = null; if (e) { if (r > e || s > e) { const F = Math.min(e / r, e / s); u = Math.floor(r * F), d = Math.floor(s * F) } f = document.createElement("canvas"); const m = f.width = Math.ceil(u * o.sx), v = f.height = Math.ceil(d * o.sy); this.#c || (c = this.#m(m, v)); const x = f.getContext("2d"); x.filter = this._uiManager.hcmFilter; let y = "white", E = "#cfcfd8"; this._uiManager.hcmFilter !== "none" ? E = "black" : window.matchMedia?.("(prefers-color-scheme: dark)").matches && (y = "#8f8f9d", E = "#42414d"); const A = 15, T = A * o.sx, L = A * o.sy, k = new OffscreenCanvas(T * 2, L * 2), O = k.getContext("2d"); O.fillStyle = y, O.fillRect(0, 0, T * 2, L * 2), O.fillStyle = E, O.fillRect(0, 0, T, L), O.fillRect(T, L, T, L), x.fillStyle = x.createPattern(k, "repeat"), x.fillRect(0, 0, m, v), x.drawImage(c, 0, 0, c.width, c.height, 0, 0, m, v) } let p = null; if (n) { let m, v; if (o.symmetric && c.width < t && c.height < t) m = c.width, v = c.height; else if (c = this.#t, r > t || s > t) { const E = Math.min(t / r, t / s); m = Math.floor(r * E), v = Math.floor(s * E), this.#c || (c = this.#m(m, v)) } const y = new OffscreenCanvas(m, v).getContext("2d", { willReadFrequently: !0 }); y.drawImage(c, 0, 0, c.width, c.height, 0, 0, m, v), p = { width: m, height: v, data: y.getImageData(0, 0, m, v).data } } return { canvas: f, width: u, height: d, imageData: p } } #m(t, e) { const { width: n, height: r } = this.#t; let s = n, o = r, c = this.#t; for (; s > 2 * t || o > 2 * e;) { const u = s, d = o; s > 2 * t && (s = s >= 16384 ? Math.floor(s / 2) - 1 : Math.ceil(s / 2)), o > 2 * e && (o = o >= 16384 ? Math.floor(o / 2) - 1 : Math.ceil(o / 2)); const f = new OffscreenCanvas(s, o); f.getContext("2d").drawImage(c, 0, 0, u, d, 0, 0, s, o), c = f.transferToImageBitmap() } return c } #g() { const [t, e] = this.parentDimensions, { width: n, height: r } = this, s = new Ga, o = Math.ceil(n * t * s.sx), c = Math.ceil(r * e * s.sy), u = this.#o; if (!u || u.width === o && u.height === c) return; u.width = o, u.height = c; const d = this.#c ? this.#t : this.#m(o, c), f = u.getContext("2d"); f.filter = this._uiManager.hcmFilter, f.drawImage(d, 0, 0, d.width, d.height, 0, 0, o, c) } #v(t) { if (t) { if (this.#c) { const r = this._uiManager.imageManager.getSvgUrl(this.#e); if (r) return r } const e = document.createElement("canvas"); return { width: e.width, height: e.height } = this.#t, e.getContext("2d").drawImage(this.#t, 0, 0), e.toDataURL() } if (this.#c) { const [e, n] = this.pageDimensions, r = Math.round(this.width * e * uh.PDF_TO_CSS_UNITS), s = Math.round(this.height * n * uh.PDF_TO_CSS_UNITS), o = new OffscreenCanvas(r, s); return o.getContext("2d").drawImage(this.#t, 0, 0, this.#t.width, this.#t.height, 0, 0, r, s), o.transferToImageBitmap() } return structuredClone(this.#t) } static async deserialize(t, e, n) { let r = null, s = !1; if (t instanceof X3) { const { data: { rect: y, rotation: E, id: A, structParent: T, popupRef: L }, container: k, parent: { page: { pageNumber: O } }, canvas: F } = t; let D, j; F ? (delete t.canvas, { id: D, bitmap: j } = n.imageManager.getFromCanvas(k.id, F), F.remove()) : (s = !0, t._hasNoCanvas = !0); const J = (await e._structTree.getAriaAttributes(`${n2}${A}`))?.get("aria-label") || ""; r = t = { annotationType: ze.STAMP, bitmapId: D, bitmap: j, pageIndex: O - 1, rect: y.slice(0), rotation: E, id: A, deleted: !1, accessibilityData: { decorative: !1, altText: J }, isSvg: !1, structParent: T, popupRef: L } } const o = await super.deserialize(t, e, n), { rect: c, bitmap: u, bitmapUrl: d, bitmapId: f, isSvg: p, accessibilityData: m } = t; s ? (n.addMissingCanvas(t.id, o), o.#a = !0) : f && n.imageManager.isValidId(f) ? (o.#e = f, u && (o.#t = u)) : o.#i = d, o.#c = p; const [v, x] = o.pageDimensions; return o.width = (c[2] - c[0]) / v, o.height = (c[3] - c[1]) / x, o.annotationElementId = t.id || null, m && (o.altTextData = m), o._initialData = r, o.#d = !!r, o } serialize(t = !1, e = null) { if (this.isEmpty()) return null; if (this.deleted) return this.serializeDeleted(); const n = { annotationType: ze.STAMP, bitmapId: this.#e, pageIndex: this.pageIndex, rect: this.getRect(0, 0), rotation: this.rotation, isSvg: this.#c, structTreeParentId: this._structTreeParentId }; if (t) return n.bitmapUrl = this.#v(!0), n.accessibilityData = this.serializeAltText(!0), n.isCopy = !0, n; const { decorative: r, altText: s } = this.serializeAltText(!1); if (!r && s && (n.accessibilityData = { type: "Figure", alt: s }), this.annotationElementId) { const c = this.#b(n); if (c.isSame) return null; c.isSameAltText ? delete n.accessibilityData : n.accessibilityData.structParent = this._initialData.structParent ?? -1 } if (n.id = this.annotationElementId, e === null) return n; e.stamps ||= new Map; const o = this.#c ? (n.rect[2] - n.rect[0]) * (n.rect[3] - n.rect[1]) : null; if (!e.stamps.has(this.#e)) e.stamps.set(this.#e, { area: o, serialized: n }), n.bitmap = this.#v(!1); else if (this.#c) { const c = e.stamps.get(this.#e); o > c.area && (c.area = o, c.serialized.bitmap.close(), c.serialized.bitmap = this.#v(!1)) } return n } #b(t) { const { pageIndex: e, accessibilityData: { altText: n } } = this._initialData, r = t.pageIndex === e, s = (t.accessibilityData?.alt || "") === n; return { isSame: !this._hasBeenMoved && !this._hasBeenResized && r && s, isSameAltText: s } } renderAnnotationElement(t) { return t.updateEdited({ rect: this.getRect(0, 0) }), null } } class zo { #t; #e = !1; #n = null; #i = null; #s = null; #r = new Map; #o = !1; #a = !1; #h = !1; #c = null; #d = null; #u = null; #f = null; #l; static _initialized = !1; static #p = new Map([Ki, v2, DF, Ri, Fo].map(t => [t._editorType, t])); constructor({ uiManager: t, pageIndex: e, div: n, structTreeLayer: r, accessibilityManager: s, annotationLayer: o, drawLayer: c, textLayer: u, viewport: d, l10n: f }) { const p = [...zo.#p.values()]; if (!zo._initialized) { zo._initialized = !0; for (const m of p) m.initialize(f, t) } t.registerEditorTypes(p), this.#l = t, this.pageIndex = e, this.div = n, this.#t = s, this.#n = o, this.viewport = d, this.#u = u, this.drawLayer = c, this._structTree = r, this.#l.addLayer(this) } get isEmpty() { return this.#r.size === 0 } get isInvisible() { return this.isEmpty && this.#l.getMode() === ze.NONE } updateToolbar(t) { this.#l.updateToolbar(t) } updateMode(t = this.#l.getMode()) { switch (this.#y(), t) { case ze.NONE: this.disableTextSelection(), this.togglePointerEvents(!1), this.toggleAnnotationLayerPointerEvents(!0), this.disableClick(); return; case ze.INK: this.disableTextSelection(), this.togglePointerEvents(!0), this.enableClick(); break; case ze.HIGHLIGHT: this.enableTextSelection(), this.togglePointerEvents(!1), this.disableClick(); break; default: this.disableTextSelection(), this.togglePointerEvents(!0), this.enableClick() }this.toggleAnnotationLayerPointerEvents(!1); const { classList: e } = this.div; for (const n of zo.#p.values()) e.toggle(`${n._type}Editing`, t === n._editorType); this.div.hidden = !1 } hasTextLayer(t) { return t === this.#u?.div } setEditingState(t) { this.#l.setEditingState(t) } addCommands(t) { this.#l.addCommands(t) } cleanUndoStack(t) { this.#l.cleanUndoStack(t) } toggleDrawing(t = !1) { this.div.classList.toggle("drawing", !t) } togglePointerEvents(t = !1) { this.div.classList.toggle("disabled", !t) } toggleAnnotationLayerPointerEvents(t = !1) { this.#n?.div.classList.toggle("disabled", !t) } async enable() { this.#h = !0, this.div.tabIndex = 0, this.togglePointerEvents(!0); const t = new Set; for (const n of this.#r.values()) n.enableEditing(), n.show(!0), n.annotationElementId && (this.#l.removeChangedExistingAnnotation(n), t.add(n.annotationElementId)); if (!this.#n) { this.#h = !1; return } const e = this.#n.getEditableAnnotations(); for (const n of e) { if (n.hide(), this.#l.isDeletedAnnotationElement(n.data.id) || t.has(n.data.id)) continue; const r = await this.deserialize(n); r && (this.addOrRebuild(r), r.enableEditing()) } this.#h = !1 } disable() { this.#a = !0, this.div.tabIndex = -1, this.togglePointerEvents(!1); const t = new Map, e = new Map; for (const r of this.#r.values()) if (r.disableEditing(), !!r.annotationElementId) { if (r.serialize() !== null) { t.set(r.annotationElementId, r); continue } else e.set(r.annotationElementId, r); this.getEditableAnnotation(r.annotationElementId)?.show(), r.remove() } if (this.#n) { const r = this.#n.getEditableAnnotations(); for (const s of r) { const { id: o } = s.data; if (this.#l.isDeletedAnnotationElement(o)) continue; let c = e.get(o); if (c) { c.resetAnnotationElement(s), c.show(!1), s.show(); continue } c = t.get(o), c && (this.#l.addChangedExistingAnnotation(c), c.renderAnnotationElement(s) && c.show(!1)), s.show() } } this.#y(), this.isEmpty && (this.div.hidden = !0); const { classList: n } = this.div; for (const r of zo.#p.values()) n.remove(`${r._type}Editing`); this.disableTextSelection(), this.toggleAnnotationLayerPointerEvents(!0), this.#a = !1 } getEditableAnnotation(t) { return this.#n?.getEditableAnnotation(t) || null } setActiveEditor(t) { this.#l.getActive() !== t && this.#l.setActiveEditor(t) } enableTextSelection() { if (this.div.tabIndex = -1, this.#u?.div && !this.#f) { this.#f = new AbortController; const t = this.#l.combinedSignal(this.#f); this.#u.div.addEventListener("pointerdown", this.#m.bind(this), { signal: t }), this.#u.div.classList.add("highlighting") } } disableTextSelection() { this.div.tabIndex = 0, this.#u?.div && this.#f && (this.#f.abort(), this.#f = null, this.#u.div.classList.remove("highlighting")) } #m(t) { this.#l.unselectAll(); const { target: e } = t; if (e === this.#u.div || (e.getAttribute("role") === "img" || e.classList.contains("endOfContent")) && this.#u.div.contains(e)) { const { isMac: n } = gr.platform; if (t.button !== 0 || t.ctrlKey && n) return; this.#l.showAllEditors("highlight", !0, !0), this.#u.div.classList.add("free"), this.toggleDrawing(), Ri.startHighlighting(this, this.#l.direction === "ltr", { target: this.#u.div, x: t.x, y: t.y }), this.#u.div.addEventListener("pointerup", () => { this.#u.div.classList.remove("free"), this.toggleDrawing(!0) }, { once: !0, signal: this.#l._signal }), t.preventDefault() } } enableClick() { if (this.#i) return; this.#i = new AbortController; const t = this.#l.combinedSignal(this.#i); this.div.addEventListener("pointerdown", this.pointerdown.bind(this), { signal: t }); const e = this.pointerup.bind(this); this.div.addEventListener("pointerup", e, { signal: t }), this.div.addEventListener("pointercancel", e, { signal: t }) } disableClick() { this.#i?.abort(), this.#i = null } attach(t) { this.#r.set(t.id, t); const { annotationElementId: e } = t; e && this.#l.isDeletedAnnotationElement(e) && this.#l.removeDeletedAnnotationElement(t) } detach(t) { this.#r.delete(t.id), this.#t?.removePointerInTextLayer(t.contentDiv), !this.#a && t.annotationElementId && this.#l.addDeletedAnnotationElement(t) } remove(t) { this.detach(t), this.#l.removeEditor(t), t.div.remove(), t.isAttachedToDOM = !1 } changeParent(t) { t.parent !== this && (t.parent && t.annotationElementId && (this.#l.addDeletedAnnotationElement(t.annotationElementId), Se.deleteAnnotationElement(t), t.annotationElementId = null), this.attach(t), t.parent?.detach(t), t.setParent(this), t.div && t.isAttachedToDOM && (t.div.remove(), this.div.append(t.div))) } add(t) { if (!(t.parent === this && t.isAttachedToDOM)) { if (this.changeParent(t), this.#l.addEditor(t), this.attach(t), !t.isAttachedToDOM) { const e = t.render(); this.div.append(e), t.isAttachedToDOM = !0 } t.fixAndSetPosition(), t.onceAdded(!this.#h), this.#l.addToAnnotationStorage(t), t._reportTelemetry(t.telemetryInitialData) } } moveEditorInDOM(t) { if (!t.isAttachedToDOM) return; const { activeElement: e } = document; t.div.contains(e) && !this.#s && (t._focusEventsAllowed = !1, this.#s = setTimeout(() => { this.#s = null, t.div.contains(document.activeElement) ? t._focusEventsAllowed = !0 : (t.div.addEventListener("focusin", () => { t._focusEventsAllowed = !0 }, { once: !0, signal: this.#l._signal }), e.focus()) }, 0)), t._structTreeParentId = this.#t?.moveElementInDOM(this.div, t.div, t.contentDiv, !0) } addOrRebuild(t) { t.needsToBeRebuilt() ? (t.parent ||= this, t.rebuild(), t.show()) : this.add(t) } addUndoableEditor(t) { const e = () => t._uiManager.rebuild(t), n = () => { t.remove() }; this.addCommands({ cmd: e, undo: n, mustExec: !1 }) } getNextId() { return this.#l.getId() } get #g() { return zo.#p.get(this.#l.getMode()) } combinedSignal(t) { return this.#l.combinedSignal(t) } #v(t) { const e = this.#g; return e ? new e.prototype.constructor(t) : null } canCreateNewEmptyEditor() { return this.#g?.canCreateNewEmptyEditor() } async pasteEditor(t, e) { this.updateToolbar(t), await this.#l.updateMode(t.mode); const { offsetX: n, offsetY: r } = this.#b(), s = this.getNextId(), o = this.#v({ parent: this, id: s, x: n, y: r, uiManager: this.#l, isCentered: !0, ...e }); o && this.add(o) } async deserialize(t) { return await zo.#p.get(t.annotationType ?? t.annotationEditorType)?.deserialize(t, this, this.#l) || null } createAndAddNewEditor(t, e, n = {}) { const r = this.getNextId(), s = this.#v({ parent: this, id: r, x: t.offsetX, y: t.offsetY, uiManager: this.#l, isCentered: e, ...n }); return s && this.add(s), s } #b() { const { x: t, y: e, width: n, height: r } = this.div.getBoundingClientRect(), s = Math.max(0, t), o = Math.max(0, e), c = Math.min(window.innerWidth, t + n), u = Math.min(window.innerHeight, e + r), d = (s + c) / 2 - t, f = (o + u) / 2 - e, [p, m] = this.viewport.rotation % 180 === 0 ? [d, f] : [f, d]; return { offsetX: p, offsetY: m } } addNewEditor(t = {}) { this.createAndAddNewEditor(this.#b(), !0, t) } setSelected(t) { this.#l.setSelected(t) } toggleSelected(t) { this.#l.toggleSelected(t) } unselect(t) { this.#l.unselect(t) } pointerup(t) { const { isMac: e } = gr.platform; if (t.button !== 0 || t.ctrlKey && e || t.target !== this.div || !this.#o || (this.#o = !1, this.#g?.isDrawer && this.#g.supportMultipleDrawings)) return; if (!this.#e) { this.#e = !0; return } const n = this.#l.getMode(); if (n === ze.STAMP || n === ze.SIGNATURE) { this.#l.unselectAll(); return } this.createAndAddNewEditor(t, !1) } pointerdown(t) { if (this.#l.getMode() === ze.HIGHLIGHT && this.enableTextSelection(), this.#o) { this.#o = !1; return } const { isMac: e } = gr.platform; if (t.button !== 0 || t.ctrlKey && e || t.target !== this.div) return; if (this.#o = !0, this.#g?.isDrawer) { this.startDrawingSession(t); return } const n = this.#l.getActive(); this.#e = !n || n.isEmpty() } startDrawingSession(t) { if (this.div.focus({ preventScroll: !0 }), this.#c) { this.#g.startDrawing(this, this.#l, !1, t); return } this.#l.setCurrentDrawingSession(this), this.#c = new AbortController; const e = this.#l.combinedSignal(this.#c); this.div.addEventListener("blur", ({ relatedTarget: n }) => { n && !this.div.contains(n) && (this.#d = null, this.commitOrRemove()) }, { signal: e }), this.#g.startDrawing(this, this.#l, !1, t) } pause(t) { if (t) { const { activeElement: e } = document; this.div.contains(e) && (this.#d = e); return } this.#d && setTimeout(() => { this.#d?.focus(), this.#d = null }, 0) } endDrawingSession(t = !1) { return this.#c ? (this.#l.setCurrentDrawingSession(null), this.#c.abort(), this.#c = null, this.#d = null, this.#g.endDrawing(t)) : null } findNewParent(t, e, n) { const r = this.#l.findParent(e, n); return r === null || r === this ? !1 : (r.changeParent(t), !0) } commitOrRemove() { return this.#c ? (this.endDrawingSession(), !0) : !1 } onScaleChanging() { this.#c && this.#g.onScaleChangingWhenDrawing(this) } destroy() { this.commitOrRemove(), this.#l.getActive()?.parent === this && (this.#l.commitOrRemove(), this.#l.setActiveEditor(null)), this.#s && (clearTimeout(this.#s), this.#s = null); for (const t of this.#r.values()) this.#t?.removePointerInTextLayer(t.contentDiv), t.setParent(null), t.isAttachedToDOM = !1, t.div.remove(); this.div = null, this.#r.clear(), this.#l.removeLayer(this) } #y() { for (const t of this.#r.values()) t.isEmpty() && t.remove() } render({ viewport: t }) { this.viewport = t, Xc(this.div, t); for (const e of this.#l.getEditors(this.pageIndex)) this.add(e), e.rebuild(); this.updateMode() } update({ viewport: t }) { this.#l.commitOrRemove(), this.#y(); const e = this.viewport.rotation, n = t.rotation; if (this.viewport = t, Xc(this.div, { rotation: n }), e !== n) for (const r of this.#r.values()) r.rotate(n) } get pageDimensions() { const { pageWidth: t, pageHeight: e } = this.viewport.rawDims; return [t, e] } get scale() { return this.#l.viewParameters.realScale } } class hr { #t = null; #e = new Map; #n = new Map; static #i = 0; constructor({ pageIndex: t }) { this.pageIndex = t } setParent(t) { if (!this.#t) { this.#t = t; return } if (this.#t !== t) { if (this.#e.size > 0) for (const e of this.#e.values()) e.remove(), t.append(e); this.#t = t } } static get _svgFactory() { return sn(this, "_svgFactory", new _p) } static #s(t, [e, n, r, s]) { const { style: o } = t; o.top = `${100 * n}%`, o.left = `${100 * e}%`, o.width = `${100 * r}%`, o.height = `${100 * s}%` } #r() { const t = hr._svgFactory.create(1, 1, !0); return this.#t.append(t), t.setAttribute("aria-hidden", !0), t } #o(t, e) { const n = hr._svgFactory.createElement("clipPath"); t.append(n); const r = `clip_${e}`; n.setAttribute("id", r), n.setAttribute("clipPathUnits", "objectBoundingBox"); const s = hr._svgFactory.createElement("use"); return n.append(s), s.setAttribute("href", `#${e}`), s.classList.add("clip"), r } #a(t, e) { for (const [n, r] of Object.entries(e)) r === null ? t.removeAttribute(n) : t.setAttribute(n, r) } draw(t, e = !1, n = !1) { const r = hr.#i++, s = this.#r(), o = hr._svgFactory.createElement("defs"); s.append(o); const c = hr._svgFactory.createElement("path"); o.append(c); const u = `path_p${this.pageIndex}_${r}`; c.setAttribute("id", u), c.setAttribute("vector-effect", "non-scaling-stroke"), e && this.#n.set(r, c); const d = n ? this.#o(o, u) : null, f = hr._svgFactory.createElement("use"); return s.append(f), f.setAttribute("href", `#${u}`), this.updateProperties(s, t), this.#e.set(r, s), { id: r, clipPathId: `url(#${d})` } } drawOutline(t, e) { const n = hr.#i++, r = this.#r(), s = hr._svgFactory.createElement("defs"); r.append(s); const o = hr._svgFactory.createElement("path"); s.append(o); const c = `path_p${this.pageIndex}_${n}`; o.setAttribute("id", c), o.setAttribute("vector-effect", "non-scaling-stroke"); let u; if (e) { const p = hr._svgFactory.createElement("mask"); s.append(p), u = `mask_p${this.pageIndex}_${n}`, p.setAttribute("id", u), p.setAttribute("maskUnits", "objectBoundingBox"); const m = hr._svgFactory.createElement("rect"); p.append(m), m.setAttribute("width", "1"), m.setAttribute("height", "1"), m.setAttribute("fill", "white"); const v = hr._svgFactory.createElement("use"); p.append(v), v.setAttribute("href", `#${c}`), v.setAttribute("stroke", "none"), v.setAttribute("fill", "black"), v.setAttribute("fill-rule", "nonzero"), v.classList.add("mask") } const d = hr._svgFactory.createElement("use"); r.append(d), d.setAttribute("href", `#${c}`), u && d.setAttribute("mask", `url(#${u})`); const f = d.cloneNode(); return r.append(f), d.classList.add("mainOutline"), f.classList.add("secondaryOutline"), this.updateProperties(r, t), this.#e.set(n, r), n } finalizeDraw(t, e) { this.#n.delete(t), this.updateProperties(t, e) } updateProperties(t, e) { if (!e) return; const { root: n, bbox: r, rootClass: s, path: o } = e, c = typeof t == "number" ? this.#e.get(t) : t; if (c) { if (n && this.#a(c, n), r && hr.#s(c, r), s) { const { classList: u } = c; for (const [d, f] of Object.entries(s)) u.toggle(d, f) } if (o) { const d = c.firstChild.firstChild; this.#a(d, o) } } } updateParent(t, e) { if (e === this) return; const n = this.#e.get(t); n && (e.#t.append(n), this.#e.delete(t), e.#e.set(t, n)) } remove(t) { this.#n.delete(t), this.#t !== null && (this.#e.get(t).remove(), this.#e.delete(t)) } destroy() { this.#t = null; for (const t of this.#e.values()) t.remove(); this.#e.clear(), this.#n.clear() } } globalThis._pdfjsTestingUtils = { HighlightOutliner: Bb }; globalThis.pdfjsLib = { AbortException: Bl, AnnotationEditorLayer: zo, AnnotationEditorParamsType: ln, AnnotationEditorType: ze, AnnotationEditorUIManager: zl, AnnotationLayer: m2, AnnotationMode: Ho, AnnotationType: Ni, build: q3, ColorPicker: js, createValidAbsoluteUrl: Jy, DOMSVGFactory: _p, DrawLayer: hr, FeatureTest: gr, fetchData: Zd, getDocument: h2, getFilenameFromUrl: S3, getPdfFilenameFromUrl: A3, getUuid: e2, getXfaPageViewport: E3, GlobalWorkerOptions: Yo, ImageKind: up, InvalidPDFException: i0, isDataScheme: Qp, isPdfFile: I0, isValidExplicitDest: R3, MathClamp: zr, noContextMenu: la, normalizeUnicode: w3, OPS: xp, OutputScale: Ga, PasswordResponses: b3, PDFDataRangeTransport: f2, PDFDateString: i2, PDFWorker: jd, PermissionFlag: v3, PixelsPerInch: uh, RenderingCancelledException: j0, ResponseException: Sp, setLayerDimensions: Xc, shadow: sn, SignatureExtractor: $u, stopEvent: Ti, SupportedImageMimeTypes: r0, TextLayer: Ap, TouchManager: Jp, updateUrlHash: t2, Util: ye, VerbosityLevel: Yp, version: B0, XfaLayer: p2 }; const jF = Object.freeze(Object.defineProperty({ __proto__: null, AbortException: Bl, AnnotationEditorLayer: zo, AnnotationEditorParamsType: ln, AnnotationEditorType: ze, AnnotationEditorUIManager: zl, AnnotationLayer: m2, AnnotationMode: Ho, AnnotationType: Ni, ColorPicker: js, DOMSVGFactory: _p, DrawLayer: hr, FeatureTest: gr, GlobalWorkerOptions: Yo, ImageKind: up, InvalidPDFException: i0, MathClamp: zr, OPS: xp, OutputScale: Ga, PDFDataRangeTransport: f2, PDFDateString: i2, PDFWorker: jd, PasswordResponses: b3, PermissionFlag: v3, PixelsPerInch: uh, RenderingCancelledException: j0, ResponseException: Sp, SignatureExtractor: $u, SupportedImageMimeTypes: r0, TextLayer: Ap, TouchManager: Jp, Util: ye, VerbosityLevel: Yp, XfaLayer: p2, build: q3, createValidAbsoluteUrl: Jy, fetchData: Zd, getDocument: h2, getFilenameFromUrl: S3, getPdfFilenameFromUrl: A3, getUuid: e2, getXfaPageViewport: E3, isDataScheme: Qp, isPdfFile: I0, isValidExplicitDest: R3, noContextMenu: la, normalizeUnicode: w3, setLayerDimensions: Xc, shadow: sn, stopEvent: Ti, updateUrlHash: t2, version: B0 }, Symbol.toStringTag, { value: "Module" })), IF = ["onCopy", "onCut", "onPaste"], FF = ["onCompositionEnd", "onCompositionStart", "onCompositionUpdate"], BF = ["onFocus", "onBlur"], zF = ["onInput", "onInvalid", "onReset", "onSubmit"], UF = ["onLoad", "onError"], HF = ["onKeyDown", "onKeyPress", "onKeyUp"], qF = ["onAbort", "onCanPlay", "onCanPlayThrough", "onDurationChange", "onEmptied", "onEncrypted", "onEnded", "onError", "onLoadedData", "onLoadedMetadata", "onLoadStart", "onPause", "onPlay", "onPlaying", "onProgress", "onRateChange", "onSeeked", "onSeeking", "onStalled", "onSuspend", "onTimeUpdate", "onVolumeChange", "onWaiting"], VF = ["onClick", "onContextMenu", "onDoubleClick", "onMouseDown", "onMouseEnter", "onMouseLeave", "onMouseMove", "onMouseOut", "onMouseOver", "onMouseUp"], GF = ["onDrag", "onDragEnd", "onDragEnter", "onDragExit", "onDragLeave", "onDragOver", "onDragStart", "onDrop"], $F = ["onSelect"], WF = ["onTouchCancel", "onTouchEnd", "onTouchMove", "onTouchStart"], YF = ["onPointerDown", "onPointerMove", "onPointerUp", "onPointerCancel", "onGotPointerCapture", "onLostPointerCapture", "onPointerEnter", "onPointerLeave", "onPointerOver", "onPointerOut"], XF = ["onScroll"], KF = ["onWheel"], QF = ["onAnimationStart", "onAnimationEnd", "onAnimationIteration"], ZF = ["onTransitionEnd"], JF = ["onToggle"], tB = ["onChange"], eB = [...IF, ...FF, ...BF, ...zF, ...UF, ...HF, ...qF, ...VF, ...GF, ...$F, ...WF, ...YF, ...XF, ...KF, ...QF, ...ZF, ...tB, ...JF]; function J3(i, t) { const e = {}; for (const n of eB) { const r = i[n]; r && (t ? e[n] = s => r(s, t(n)) : e[n] = r) } return e } function ig(i) { let t = !1; return { promise: new Promise((n, r) => { i.then(s => !t && n(s)).catch(s => !t && r(s)) }), cancel() { t = !0 } } } var nB = "Invariant failed"; function Hn(i, t) { if (!i) throw new Error(nB) } var I1, TS; function iB() { if (TS) return I1; TS = 1; var i = function () { }; return I1 = i, I1 } var rB = iB(); const Hr = Np(rB); var LS = Object.prototype.hasOwnProperty; function MS(i, t, e) { for (e of i.keys()) if (Ed(e, t)) return e } function Ed(i, t) { var e, n, r; if (i === t) return !0; if (i && t && (e = i.constructor) === t.constructor) { if (e === Date) return i.getTime() === t.getTime(); if (e === RegExp) return i.toString() === t.toString(); if (e === Array) { if ((n = i.length) === t.length) for (; n-- && Ed(i[n], t[n]);); return n === -1 } if (e === Set) { if (i.size !== t.size) return !1; for (n of i) if (r = n, r && typeof r == "object" && (r = MS(t, r), !r) || !t.has(r)) return !1; return !0 } if (e === Map) { if (i.size !== t.size) return !1; for (n of i) if (r = n[0], r && typeof r == "object" && (r = MS(t, r), !r) || !Ed(n[1], t.get(r))) return !1; return !0 } if (e === ArrayBuffer) i = new Uint8Array(i), t = new Uint8Array(t); else if (e === DataView) { if ((n = i.byteLength) === t.byteLength) for (; n-- && i.getInt8(n) === t.getInt8(n);); return n === -1 } if (ArrayBuffer.isView(i)) { if ((n = i.byteLength) === t.byteLength) for (; n-- && i[n] === t[n];); return n === -1 } if (!e || typeof i == "object") { n = 0; for (e in i) if (LS.call(i, e) && ++n && !LS.call(t, e) || !(e in t) || !Ed(i[e], t[e])) return !1; return Object.keys(t).length === n } } return i !== i && t !== t } const tN = M.createContext(null); function _d({ children: i, type: t }) { return N.jsx("div", { className: `react-pdf__message react-pdf__message--${t}`, children: i }) } const sB = "noopener noreferrer nofollow"; class aB { constructor() { this.externalLinkEnabled = !0, this.externalLinkRel = void 0, this.externalLinkTarget = void 0, this.isInPresentationMode = !1, this.pdfDocument = void 0, this.pdfViewer = void 0 } setDocument(t) { this.pdfDocument = t } setViewer(t) { this.pdfViewer = t } setExternalLinkRel(t) { this.externalLinkRel = t } setExternalLinkTarget(t) { this.externalLinkTarget = t } setHistory() { } get pagesCount() { return this.pdfDocument ? this.pdfDocument.numPages : 0 } get page() { return Hn(this.pdfViewer), this.pdfViewer.currentPageNumber || 0 } set page(t) { Hn(this.pdfViewer), this.pdfViewer.currentPageNumber = t } get rotation() { return 0 } set rotation(t) { } goToDestination(t) { return new Promise(e => { Hn(this.pdfDocument), Hn(t), typeof t == "string" ? this.pdfDocument.getDestination(t).then(e) : Array.isArray(t) ? e(t) : t.then(e) }).then(e => { Hn(Array.isArray(e)); const n = e[0]; new Promise(r => { Hn(this.pdfDocument), n instanceof Object ? this.pdfDocument.getPageIndex(n).then(s => { r(s) }).catch(() => { Hn(!1) }) : typeof n == "number" ? r(n) : Hn(!1) }).then(r => { const s = r + 1; Hn(this.pdfViewer), Hn(s >= 1 && s <= this.pagesCount), this.pdfViewer.scrollPageIntoView({ dest: e, pageIndex: r, pageNumber: s }) }) }) } navigateTo(t) { this.goToDestination(t) } goToPage(t) { const e = t - 1; Hn(this.pdfViewer), Hn(t >= 1 && t <= this.pagesCount), this.pdfViewer.scrollPageIntoView({ pageIndex: e, pageNumber: t }) } addLinkAttributes(t, e, n) { t.href = e, t.rel = this.externalLinkRel || sB, t.target = n ? "_blank" : this.externalLinkTarget || "" } getDestinationHash() { return "#" } getAnchorUrl() { return "#" } setHash() { } executeNamedAction() { } cachePageRef() { } isPageVisible() { return !0 } isPageCached() { return !0 } executeSetOCGState() { } } const PS = { NEED_PASSWORD: 1, INCORRECT_PASSWORD: 2 }, U0 = typeof window < "u", eN = U0 && window.location.protocol === "file:"; function oB(i) { return typeof i < "u" } function qu(i) { return oB(i) && i !== null } function lB(i) { return typeof i == "string" } function cB(i) { return i instanceof ArrayBuffer } function uB(i) { return Hn(U0), i instanceof Blob } function Hb(i) { return lB(i) && /^data:/.test(i) } function OS(i) { Hn(Hb(i)); const [t = "", e = ""] = i.split(","); return t.split(";").indexOf("base64") !== -1 ? atob(e) : unescape(e) } function hB() { return U0 && window.devicePixelRatio || 1 } const nN = "On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes."; function kS() { Hr(!eN, `Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nN}`) } function dB() { Hr(!eN, `Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nN}`) } function dh(i) { i?.cancel && i.cancel() } function qb(i, t) { return Object.defineProperty(i, "width", { get() { return this.view[2] * t }, configurable: !0 }), Object.defineProperty(i, "height", { get() { return this.view[3] * t }, configurable: !0 }), Object.defineProperty(i, "originalWidth", { get() { return this.view[2] }, configurable: !0 }), Object.defineProperty(i, "originalHeight", { get() { return this.view[3] }, configurable: !0 }), i } function fB(i) { return i.name === "RenderingCancelledException" } function pB(i) { return new Promise((t, e) => { const n = new FileReader; n.onload = () => { if (!n.result) return e(new Error("Error while reading a file.")); t(n.result) }, n.onerror = r => { if (!r.target) return e(new Error("Error while reading a file.")); const { error: s } = r.target; if (!s) return e(new Error("Error while reading a file.")); switch (s.code) { case s.NOT_FOUND_ERR: return e(new Error("Error while reading a file: File not found.")); case s.SECURITY_ERR: return e(new Error("Error while reading a file: Security error.")); case s.ABORT_ERR: return e(new Error("Error while reading a file: Aborted.")); default: return e(new Error("Error while reading a file.")) } }, n.readAsArrayBuffer(i) }) } function gB(i, t) { switch (t.type) { case "RESOLVE": return { value: t.value, error: void 0 }; case "REJECT": return { value: !1, error: t.error }; case "RESET": return { value: void 0, error: void 0 }; default: return i } } function Id() { return M.useReducer(gB, { value: void 0, error: void 0 }) } var DS = function (i, t) { var e = {}; for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && t.indexOf(n) < 0 && (e[n] = i[n]); if (i != null && typeof Object.getOwnPropertySymbols == "function") for (var r = 0, n = Object.getOwnPropertySymbols(i); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(i, n[r]) && (e[n[r]] = i[n[r]]); return e }; const { PDFDataRangeTransport: mB } = jF, vB = (i, t) => { switch (t) { case PS.NEED_PASSWORD: { const e = prompt("Enter the password to open this PDF file."); i(e); break } case PS.INCORRECT_PASSWORD: { const e = prompt("Invalid password. Please try again."); i(e); break } } }; function jS(i) { return typeof i == "object" && i !== null && ("data" in i || "range" in i || "url" in i) } const w2 = M.forwardRef(function (t, e) { var { children: n, className: r, error: s = "Failed to load PDF file.", externalLinkRel: o, externalLinkTarget: c, file: u, inputRef: d, imageResourcesPath: f, loading: p = "Loading PDF…", noData: m = "No PDF file specified.", onItemClick: v, onLoadError: x, onLoadProgress: y, onLoadSuccess: E, onPassword: A = vB, onSourceError: T, onSourceSuccess: L, options: k, renderMode: O, rotate: F, scale: D } = t, j = DS(t, ["children", "className", "error", "externalLinkRel", "externalLinkTarget", "file", "inputRef", "imageResourcesPath", "loading", "noData", "onItemClick", "onLoadError", "onLoadProgress", "onLoadSuccess", "onPassword", "onSourceError", "onSourceSuccess", "options", "renderMode", "rotate", "scale"]); const [J, ot] = Id(), { value: z, error: G } = J, [it, nt] = Id(), { value: ht, error: U } = it, tt = M.useRef(new aB), Q = M.useRef([]), pt = M.useRef(void 0), Y = M.useRef(void 0); u && u !== pt.current && jS(u) && (Hr(!Ed(u, pt.current), `File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`), pt.current = u), k && k !== Y.current && (Hr(!Ed(k, Y.current), `Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`), Y.current = k); const ft = M.useRef({ scrollPageIntoView: Kt => { const { dest: Lt, pageNumber: lt, pageIndex: se = lt - 1 } = Kt; if (v) { v({ dest: Lt, pageIndex: se, pageNumber: lt }); return } const ae = Q.current[se]; if (ae) { ae.scrollIntoView(); return } Hr(!1, `An internal link leading to page ${lt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`) } }); M.useImperativeHandle(e, () => ({ linkService: tt, pages: Q, viewer: ft }), []); function I() { L && L() } function V() { G && (Hr(!1, G.toString()), T && T(G)) } function Z() { ot({ type: "RESET" }) } M.useEffect(Z, [u, ot]); const st = M.useCallback(async () => { if (!u) return null; if (typeof u == "string") return Hb(u) ? { data: OS(u) } : (kS(), { url: u }); if (u instanceof mB) return { range: u }; if (cB(u)) return { data: u }; if (U0 && uB(u)) return { data: await pB(u) }; if (Hn(typeof u == "object"), Hn(jS(u)), "url" in u && typeof u.url == "string") { if (Hb(u.url)) { const { url: Kt } = u, Lt = DS(u, ["url"]), lt = OS(Kt); return Object.assign({ data: lt }, Lt) } kS() } return u }, [u]); M.useEffect(() => { const Kt = ig(st()); return Kt.promise.then(Lt => { ot({ type: "RESOLVE", value: Lt }) }).catch(Lt => { ot({ type: "REJECT", error: Lt }) }), () => { dh(Kt) } }, [st, ot]), M.useEffect(() => { if (!(typeof z > "u")) { if (z === !1) { V(); return } I() } }, [z]); function at() { ht && (E && E(ht), Q.current = new Array(ht.numPages), tt.current.setDocument(ht)) } function ct() { U && (Hr(!1, U.toString()), x && x(U)) } M.useEffect(function () { nt({ type: "RESET" }) }, [nt, z]), M.useEffect(function () { if (!z) return; const Lt = k ? Object.assign(Object.assign({}, z), k) : z, lt = h2(Lt); y && (lt.onProgress = y), A && (lt.onPassword = A); const se = lt, ae = se.promise.then(Vt => { nt({ type: "RESOLVE", value: Vt }) }).catch(Vt => { se.destroyed || nt({ type: "REJECT", error: Vt }) }); return () => { ae.finally(() => se.destroy()) } }, [k, nt, z]), M.useEffect(() => { if (!(typeof ht > "u")) { if (ht === !1) { ct(); return } at() } }, [ht]), M.useEffect(function () { tt.current.setViewer(ft.current), tt.current.setExternalLinkRel(o), tt.current.setExternalLinkTarget(c) }, [o, c]); const gt = M.useCallback((Kt, Lt) => { Q.current[Kt] = Lt }, []), xt = M.useCallback(Kt => { delete Q.current[Kt] }, []), Tt = M.useMemo(() => ({ imageResourcesPath: f, linkService: tt.current, onItemClick: v, pdf: ht, registerPage: gt, renderMode: O, rotate: F, scale: D, unregisterPage: xt }), [f, v, ht, gt, O, F, D, xt]), kt = M.useMemo(() => J3(j, () => ht), [j, ht]); function zt() { return N.jsx(tN.Provider, { value: Tt, children: n }) } function $t() { return u ? ht == null ? N.jsx(_d, { type: "loading", children: typeof p == "function" ? p() : p }) : ht === !1 ? N.jsx(_d, { type: "error", children: typeof s == "function" ? s() : s }) : zt() : N.jsx(_d, { type: "no-data", children: typeof m == "function" ? m() : m }) } return N.jsx("div", Object.assign({ className: Vd("react-pdf__Document", r), ref: d }, kt, { children: $t() })) }); function iN() { return M.useContext(tN) } function rN() { for (var i = [], t = 0; t < arguments.length; t++)i[t] = arguments[t]; var e = i.filter(Boolean); if (e.length <= 1) { var n = e[0]; return n || null } return function (s) { for (var o = 0, c = e; o < c.length; o++) { var u = c[o]; typeof u == "function" ? u(s) : u && (u.current = s) } } } const sN = M.createContext(null), aN = { Document: null, DocumentFragment: null, Part: "group", Sect: "group", Div: "group", Aside: "note", NonStruct: "none", P: null, H: "heading", Title: null, FENote: "note", Sub: "group", Lbl: null, Span: null, Em: null, Strong: null, Link: "link", Annot: "note", Form: "form", Ruby: null, RB: null, RT: null, RP: null, Warichu: null, WT: null, WP: null, L: "list", LI: "listitem", LBody: null, Table: "table", TR: "row", TH: "columnheader", TD: "cell", THead: "columnheader", TBody: null, TFoot: null, Caption: null, Figure: "figure", Formula: null, Artifact: null }, bB = /^H(\d+)$/; function yB(i) { return i in aN } function H0(i) { return "children" in i } function oN(i) { return H0(i) ? i.children.length === 1 && 0 in i.children && "id" in i.children[0] : !1 } function wB(i) { const t = {}; if (H0(i)) { const { role: e } = i, n = e.match(bB); if (n) t.role = "heading", t["aria-level"] = Number(n[1]); else if (yB(e)) { const r = aN[e]; r && (t.role = r) } } return t } function lN(i) { const t = {}; if (H0(i)) { if (i.alt !== void 0 && (t["aria-label"] = i.alt), i.lang !== void 0 && (t.lang = i.lang), oN(i)) { const [e] = i.children; if (e) { const n = lN(e); return Object.assign(Object.assign({}, t), n) } } } else "id" in i && (t["aria-owns"] = i.id); return t } function xB(i) { return i ? Object.assign(Object.assign({}, wB(i)), lN(i)) : null } function cN({ className: i, node: t }) { const e = M.useMemo(() => xB(t), [t]), n = M.useMemo(() => !H0(t) || oN(t) ? null : t.children.map((r, s) => N.jsx(cN, { node: r }, s)), [t]); return N.jsx("span", Object.assign({ className: i }, e, { children: n })) } function q0() { return M.useContext(sN) } function SB() { const i = q0(); Hn(i); const { onGetStructTreeError: t, onGetStructTreeSuccess: e } = i, [n, r] = Id(), { value: s, error: o } = n, { customTextRenderer: c, page: u } = i; function d() { s && e && e(s) } function f() { o && (Hr(!1, o.toString()), t && t(o)) } return M.useEffect(function () { r({ type: "RESET" }) }, [r, u]), M.useEffect(function () { if (c || !u) return; const m = ig(u.getStructTree()), v = m; return m.promise.then(x => { r({ type: "RESOLVE", value: x }) }).catch(x => { r({ type: "REJECT", error: x }) }), () => dh(v) }, [c, u, r]), M.useEffect(() => { if (s !== void 0) { if (s === !1) { f(); return } d() } }, [s]), s ? N.jsx(cN, { className: "react-pdf__Page__structTree structTree", node: s }) : null } const IS = Ho; function AB(i) { const t = q0(); Hn(t); const e = Object.assign(Object.assign({}, t), i), { _className: n, canvasBackground: r, devicePixelRatio: s = hB(), onRenderError: o, onRenderSuccess: c, page: u, renderForms: d, renderTextLayer: f, rotate: p, scale: m } = e, { canvasRef: v } = i; Hn(u); const x = M.useRef(null); function y() { u && c && c(qb(u, m)) } function E(k) { fB(k) || (Hr(!1, k.toString()), o && o(k)) } const A = M.useMemo(() => u.getViewport({ scale: m * s, rotation: p }), [s, u, p, m]), T = M.useMemo(() => u.getViewport({ scale: m, rotation: p }), [u, p, m]); M.useEffect(function () { if (!u) return; u.cleanup(); const { current: O } = x; if (!O) return; O.width = A.width, O.height = A.height, O.style.width = `${Math.floor(T.width)}px`, O.style.height = `${Math.floor(T.height)}px`, O.style.visibility = "hidden"; const F = { annotationMode: d ? IS.ENABLE_FORMS : IS.ENABLE, canvasContext: O.getContext("2d", { alpha: !1 }), viewport: A }; r && (F.background = r); const D = u.render(F), j = D; return D.promise.then(() => { O.style.visibility = "", y() }).catch(E), () => dh(j) }, [r, u, d, A, T]); const L = M.useCallback(() => { const { current: k } = x; k && (k.width = 0, k.height = 0) }, []); return M.useEffect(() => L, [L]), N.jsx("canvas", { className: `${n}__canvas`, dir: "ltr", ref: rN(v, x), style: { display: "block", userSelect: "none" }, children: f ? N.jsx(SB, {}) : null }) } function EB(i) { return "str" in i } function _B() { const i = q0(); Hn(i); const { customTextRenderer: t, onGetTextError: e, onGetTextSuccess: n, onRenderTextLayerError: r, onRenderTextLayerSuccess: s, page: o, pageIndex: c, pageNumber: u, rotate: d, scale: f } = i; Hn(o); const [p, m] = Id(), { value: v, error: x } = p, y = M.useRef(null); Hr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"), 10) === 1, "TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"); function E() { v && n && n(v) } function A() { x && (Hr(!1, x.toString()), e && e(x)) } M.useEffect(function () { m({ type: "RESET" }) }, [o, m]), M.useEffect(function () { if (!o) return; const j = ig(o.getTextContent()), J = j; return j.promise.then(ot => { m({ type: "RESOLVE", value: ot }) }).catch(ot => { m({ type: "REJECT", error: ot }) }), () => dh(J) }, [o, m]), M.useEffect(() => { if (v !== void 0) { if (v === !1) { A(); return } E() } }, [v]); const T = M.useCallback(() => { s && s() }, [s]), L = M.useCallback(D => { Hr(!1, D.toString()), r && r(D) }, [r]); function k() { const D = y.current; D && D.classList.add("selecting") } function O() { const D = y.current; D && D.classList.remove("selecting") } const F = M.useMemo(() => o.getViewport({ scale: f, rotation: d }), [o, d, f]); return M.useLayoutEffect(function () { if (!o || !v) return; const { current: j } = y; if (!j) return; j.innerHTML = ""; const J = o.streamTextContent({ includeMarkedContent: !0 }), ot = { container: j, textContentSource: J, viewport: F }, z = new Ap(ot), G = z; return z.render().then(() => { const it = document.createElement("div"); it.className = "endOfContent", j.append(it); const nt = j.querySelectorAll('[role="presentation"]'); if (t) { let ht = 0; v.items.forEach((U, tt) => { if (!EB(U)) return; const Q = nt[ht]; if (!Q) return; const pt = t(Object.assign({ pageIndex: c, pageNumber: u, itemIndex: tt }, U)); Q.innerHTML = pt, ht += U.str && U.hasEOL ? 2 : 1 }) } T() }).catch(L), () => dh(G) }, [t, L, T, o, c, u, v, F]), N.jsx("div", { className: Vd("react-pdf__Page__textContent", "textLayer"), onMouseUp: O, onMouseDown: k, ref: y }) } function CB() { const i = iN(), t = q0(); Hn(t); const e = Object.assign(Object.assign({}, i), t), { imageResourcesPath: n, linkService: r, onGetAnnotationsError: s, onGetAnnotationsSuccess: o, onRenderAnnotationLayerError: c, onRenderAnnotationLayerSuccess: u, page: d, pdf: f, renderForms: p, rotate: m, scale: v = 1 } = e; Hn(f), Hn(d), Hn(r); const [x, y] = Id(), { value: E, error: A } = x, T = M.useRef(null); Hr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"), 10) === 1, "AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"); function L() { E && o && o(E) } function k() { A && (Hr(!1, A.toString()), s && s(A)) } M.useEffect(function () { y({ type: "RESET" }) }, [y, d]), M.useEffect(function () { if (!d) return; const J = ig(d.getAnnotations()), ot = J; return J.promise.then(z => { y({ type: "RESOLVE", value: z }) }).catch(z => { y({ type: "REJECT", error: z }) }), () => { dh(ot) } }, [y, d]), M.useEffect(() => { if (E !== void 0) { if (E === !1) { k(); return } L() } }, [E]); function O() { u && u() } function F(j) { Hr(!1, `${j}`), c && c(j) } const D = M.useMemo(() => d.getViewport({ scale: v, rotation: m }), [d, m, v]); return M.useEffect(function () { if (!f || !d || !r || !E) return; const { current: J } = T; if (!J) return; const ot = D.clone({ dontFlip: !0 }), z = { accessibilityManager: null, annotationCanvasMap: null, annotationEditorUIManager: null, div: J, l10n: null, page: d, structTreeLayer: null, viewport: ot }, G = { annotations: E, annotationStorage: f.annotationStorage, div: J, imageResourcesPath: n, linkService: r, page: d, renderForms: p, viewport: ot }; J.innerHTML = ""; try { new m2(z).render(G), O() } catch (it) { F(it) } return () => { } }, [E, n, r, d, f, p, D]), N.jsx("div", { className: Vd("react-pdf__Page__annotations", "annotationLayer"), ref: T }) } var NB = function (i, t) { var e = {}; for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && t.indexOf(n) < 0 && (e[n] = i[n]); if (i != null && typeof Object.getOwnPropertySymbols == "function") for (var r = 0, n = Object.getOwnPropertySymbols(i); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(i, n[r]) && (e[n[r]] = i[n[r]]); return e }; const FS = 1; function x2(i) { const t = iN(), e = Object.assign(Object.assign({}, t), i), { _className: n = "react-pdf__Page", _enableRegisterUnregisterPage: r = !0, canvasBackground: s, canvasRef: o, children: c, className: u, customRenderer: d, customTextRenderer: f, devicePixelRatio: p, error: m = "Failed to load the page.", height: v, inputRef: x, loading: y = "Loading page…", noData: E = "No page specified.", onGetAnnotationsError: A, onGetAnnotationsSuccess: T, onGetStructTreeError: L, onGetStructTreeSuccess: k, onGetTextError: O, onGetTextSuccess: F, onLoadError: D, onLoadSuccess: j, onRenderAnnotationLayerError: J, onRenderAnnotationLayerSuccess: ot, onRenderError: z, onRenderSuccess: G, onRenderTextLayerError: it, onRenderTextLayerSuccess: nt, pageIndex: ht, pageNumber: U, pdf: tt, registerPage: Q, renderAnnotationLayer: pt = !0, renderForms: Y = !1, renderMode: ft = "canvas", renderTextLayer: I = !0, rotate: V, scale: Z = FS, unregisterPage: st, width: at } = e, ct = NB(e, ["_className", "_enableRegisterUnregisterPage", "canvasBackground", "canvasRef", "children", "className", "customRenderer", "customTextRenderer", "devicePixelRatio", "error", "height", "inputRef", "loading", "noData", "onGetAnnotationsError", "onGetAnnotationsSuccess", "onGetStructTreeError", "onGetStructTreeSuccess", "onGetTextError", "onGetTextSuccess", "onLoadError", "onLoadSuccess", "onRenderAnnotationLayerError", "onRenderAnnotationLayerSuccess", "onRenderError", "onRenderSuccess", "onRenderTextLayerError", "onRenderTextLayerSuccess", "pageIndex", "pageNumber", "pdf", "registerPage", "renderAnnotationLayer", "renderForms", "renderMode", "renderTextLayer", "rotate", "scale", "unregisterPage", "width"]), [gt, xt] = Id(), { value: Tt, error: kt } = gt, zt = M.useRef(null); Hn(tt); const $t = qu(U) ? U - 1 : ht ?? null, Kt = U ?? (qu(ht) ? ht + 1 : null), Lt = V ?? (Tt ? Tt.rotate : null), lt = M.useMemo(() => { if (!Tt) return null; let be = 1; const Fe = Z ?? FS; if (at || v) { const le = Tt.getViewport({ scale: 1, rotation: Lt }); at ? be = at / le.width : v && (be = v / le.height) } return Fe * be }, [v, Tt, Lt, Z, at]); M.useEffect(function () { return () => { qu($t) && r && st && st($t) } }, [r, tt, $t, st]); function se() { if (j) { if (!Tt || !lt) return; j(qb(Tt, lt)) } if (r && Q) { if (!qu($t) || !zt.current) return; Q($t, zt.current) } } function ae() { kt && (Hr(!1, kt.toString()), D && D(kt)) } M.useEffect(function () { xt({ type: "RESET" }) }, [xt, tt, $t]), M.useEffect(function () { if (!tt || !Kt) return; const Fe = ig(tt.getPage(Kt)), le = Fe; return Fe.promise.then(Ne => { xt({ type: "RESOLVE", value: Ne }) }).catch(Ne => { xt({ type: "REJECT", error: Ne }) }), () => dh(le) }, [xt, tt, Kt]), M.useEffect(() => { if (Tt !== void 0) { if (Tt === !1) { ae(); return } se() } }, [Tt, lt]); const Vt = M.useMemo(() => Tt && qu($t) && Kt && qu(Lt) && qu(lt) ? { _className: n, canvasBackground: s, customTextRenderer: f, devicePixelRatio: p, onGetAnnotationsError: A, onGetAnnotationsSuccess: T, onGetStructTreeError: L, onGetStructTreeSuccess: k, onGetTextError: O, onGetTextSuccess: F, onRenderAnnotationLayerError: J, onRenderAnnotationLayerSuccess: ot, onRenderError: z, onRenderSuccess: G, onRenderTextLayerError: it, onRenderTextLayerSuccess: nt, page: Tt, pageIndex: $t, pageNumber: Kt, renderForms: Y, renderTextLayer: I, rotate: Lt, scale: lt } : null, [n, s, f, p, A, T, L, k, O, F, J, ot, z, G, it, nt, Tt, $t, Kt, Y, I, Lt, lt]), Zt = M.useMemo(() => J3(ct, () => Tt && (lt ? qb(Tt, lt) : void 0)), [ct, Tt, lt]), Jt = `${$t}@${lt}/${Lt}`; function Xt() { switch (ft) { case "custom": return Hn(d), N.jsx(d, {}, `${Jt}_custom`); case "none": return null; case "canvas": default: return N.jsx(AB, { canvasRef: o }, `${Jt}_canvas`) } } function ce() { return I ? N.jsx(_B, {}, `${Jt}_text`) : null } function Ce() { return pt ? N.jsx(CB, {}, `${Jt}_annotations`) : null } function ke() { return N.jsxs(sN.Provider, { value: Vt, children: [Xt(), ce(), Ce(), c] }) } function Ae() { return Kt ? tt === null || Tt === void 0 || Tt === null ? N.jsx(_d, { type: "loading", children: typeof y == "function" ? y() : y }) : tt === !1 || Tt === !1 ? N.jsx(_d, { type: "error", children: typeof m == "function" ? m() : m }) : ke() : N.jsx(_d, { type: "no-data", children: typeof E == "function" ? E() : E }) } return N.jsx("div", Object.assign({ className: Vd(n, u), "data-page-number": Kt, ref: rN(x, zt), style: { "--scale-round-x": "1px", "--scale-round-y": "1px", "--scale-factor": "1", "--user-unit": `${lt}`, "--total-scale-factor": "calc(var(--scale-factor) * var(--user-unit))", backgroundColor: s || "white", position: "relative", minWidth: "min-content", minHeight: "min-content" } }, Zt, { children: Ae() })) } dB(); Yo.workerSrc = "pdf.worker.mjs"; const RB = "modulepreload", TB = function (i) { return "/" + i }, BS = {}, Vb = function (t, e, n) { let r = Promise.resolve(); if (e && e.length > 0) { let u = function (d) { return Promise.all(d.map(f => Promise.resolve(f).then(p => ({ status: "fulfilled", value: p }), p => ({ status: "rejected", reason: p })))) }; document.getElementsByTagName("link"); const o = document.querySelector("meta[property=csp-nonce]"), c = o?.nonce || o?.getAttribute("nonce"); r = u(e.map(d => { if (d = TB(d), d in BS) return; BS[d] = !0; const f = d.endsWith(".css"), p = f ? '[rel="stylesheet"]' : ""; if (document.querySelector(`link[href="${d}"]${p}`)) return; const m = document.createElement("link"); if (m.rel = f ? "stylesheet" : RB, f || (m.as = "script"), m.crossOrigin = "", m.href = d, c && m.setAttribute("nonce", c), document.head.appendChild(m), f) return new Promise((v, x) => { m.addEventListener("load", v), m.addEventListener("error", () => x(new Error(`Unable to preload CSS for ${d}`))) }) })) } function s(o) { const c = new Event("vite:preloadError", { cancelable: !0 }); if (c.payload = o, window.dispatchEvent(c), !c.defaultPrevented) throw o } return r.then(o => { for (const c of o || []) c.status === "rejected" && s(c.reason); return t().catch(s) }) }; function Mn(i) { "@babel/helpers - typeof"; return Mn = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (t) { return typeof t } : function (t) { return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, Mn(i) } var qr = Uint8Array, zs = Uint16Array, S2 = Int32Array, V0 = new qr([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), G0 = new qr([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), Gb = new qr([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), uN = function (i, t) { for (var e = new zs(31), n = 0; n < 31; ++n)e[n] = t += 1 << i[n - 1]; for (var r = new S2(e[30]), n = 1; n < 30; ++n)for (var s = e[n]; s < e[n + 1]; ++s)r[s] = s - e[n] << 5 | n; return { b: e, r } }, hN = uN(V0, 2), dN = hN.b, $b = hN.r; dN[28] = 258, $b[258] = 28; var fN = uN(G0, 0), LB = fN.b, zS = fN.r, Wb = new zs(32768); for (var Zn = 0; Zn < 32768; ++Zn) { var Dc = (Zn & 43690) >> 1 | (Zn & 21845) << 1; Dc = (Dc & 52428) >> 2 | (Dc & 13107) << 2, Dc = (Dc & 61680) >> 4 | (Dc & 3855) << 4, Wb[Zn] = ((Dc & 65280) >> 8 | (Dc & 255) << 8) >> 1 } var Xo = function (i, t, e) { for (var n = i.length, r = 0, s = new zs(t); r < n; ++r)i[r] && ++s[i[r] - 1]; var o = new zs(t); for (r = 1; r < t; ++r)o[r] = o[r - 1] + s[r - 1] << 1; var c; if (e) { c = new zs(1 << t); var u = 15 - t; for (r = 0; r < n; ++r)if (i[r]) for (var d = r << 4 | i[r], f = t - i[r], p = o[i[r] - 1]++ << f, m = p | (1 << f) - 1; p <= m; ++p)c[Wb[p] >> u] = d } else for (c = new zs(n), r = 0; r < n; ++r)i[r] && (c[r] = Wb[o[i[r] - 1]++] >> 15 - i[r]); return c }, Kc = new qr(288); for (var Zn = 0; Zn < 144; ++Zn)Kc[Zn] = 8; for (var Zn = 144; Zn < 256; ++Zn)Kc[Zn] = 9; for (var Zn = 256; Zn < 280; ++Zn)Kc[Zn] = 7; for (var Zn = 280; Zn < 288; ++Zn)Kc[Zn] = 8; var Cp = new qr(32); for (var Zn = 0; Zn < 32; ++Zn)Cp[Zn] = 5; var MB = Xo(Kc, 9, 0), PB = Xo(Kc, 9, 1), OB = Xo(Cp, 5, 0), kB = Xo(Cp, 5, 1), F1 = function (i) { for (var t = i[0], e = 1; e < i.length; ++e)i[e] > t && (t = i[e]); return t }, ja = function (i, t, e) { var n = t / 8 | 0; return (i[n] | i[n + 1] << 8) >> (t & 7) & e }, B1 = function (i, t) { var e = t / 8 | 0; return (i[e] | i[e + 1] << 8 | i[e + 2] << 16) >> (t & 7) }, A2 = function (i) { return (i + 7) / 8 | 0 }, pN = function (i, t, e) { return (e == null || e > i.length) && (e = i.length), new qr(i.subarray(t, e)) }, DB = ["unexpected EOF", "invalid block type", "invalid length/literal", "invalid distance", "stream finished", "no stream handler", , "no callback", "invalid UTF-8 data", "extra field too long", "date not in range 1980-2099", "filename too long", "stream finishing", "invalid zip data"], Ba = function (i, t, e) { var n = new Error(t || DB[i]); if (n.code = i, Error.captureStackTrace && Error.captureStackTrace(n, Ba), !e) throw n; return n }, jB = function (i, t, e, n) { var r = i.length, s = 0; if (!r || t.f && !t.l) return e || new qr(0); var o = !e, c = o || t.i != 2, u = t.i; o && (e = new qr(r * 3)); var d = function (kt) { var zt = e.length; if (kt > zt) { var $t = new qr(Math.max(zt * 2, kt)); $t.set(e), e = $t } }, f = t.f || 0, p = t.p || 0, m = t.b || 0, v = t.l, x = t.d, y = t.m, E = t.n, A = r * 8; do { if (!v) { f = ja(i, p, 1); var T = ja(i, p + 1, 3); if (p += 3, T) if (T == 1) v = PB, x = kB, y = 9, E = 5; else if (T == 2) { var F = ja(i, p, 31) + 257, D = ja(i, p + 10, 15) + 4, j = F + ja(i, p + 5, 31) + 1; p += 14; for (var J = new qr(j), ot = new qr(19), z = 0; z < D; ++z)ot[Gb[z]] = ja(i, p + z * 3, 7); p += D * 3; for (var G = F1(ot), it = (1 << G) - 1, nt = Xo(ot, G, 1), z = 0; z < j;) { var ht = nt[ja(i, p, it)]; p += ht & 15; var L = ht >> 4; if (L < 16) J[z++] = L; else { var U = 0, tt = 0; for (L == 16 ? (tt = 3 + ja(i, p, 3), p += 2, U = J[z - 1]) : L == 17 ? (tt = 3 + ja(i, p, 7), p += 3) : L == 18 && (tt = 11 + ja(i, p, 127), p += 7); tt--;)J[z++] = U } } var Q = J.subarray(0, F), pt = J.subarray(F); y = F1(Q), E = F1(pt), v = Xo(Q, y, 1), x = Xo(pt, E, 1) } else Ba(1); else { var L = A2(p) + 4, k = i[L - 4] | i[L - 3] << 8, O = L + k; if (O > r) { u && Ba(0); break } c && d(m + k), e.set(i.subarray(L, O), m), t.b = m += k, t.p = p = O * 8, t.f = f; continue } if (p > A) { u && Ba(0); break } } c && d(m + 131072); for (var Y = (1 << y) - 1, ft = (1 << E) - 1, I = p; ; I = p) { var U = v[B1(i, p) & Y], V = U >> 4; if (p += U & 15, p > A) { u && Ba(0); break } if (U || Ba(2), V < 256) e[m++] = V; else if (V == 256) { I = p, v = null; break } else { var Z = V - 254; if (V > 264) { var z = V - 257, st = V0[z]; Z = ja(i, p, (1 << st) - 1) + dN[z], p += st } var at = x[B1(i, p) & ft], ct = at >> 4; at || Ba(3), p += at & 15; var pt = LB[ct]; if (ct > 3) { var st = G0[ct]; pt += B1(i, p) & (1 << st) - 1, p += st } if (p > A) { u && Ba(0); break } c && d(m + 131072); var gt = m + Z; if (m < pt) { var xt = s - pt, Tt = Math.min(pt, gt); for (xt + m < 0 && Ba(3); m < Tt; ++m)e[m] = n[xt + m] } for (; m < gt; ++m)e[m] = e[m - pt] } } t.l = v, t.p = I, t.b = m, t.f = f, v && (f = 1, t.m = y, t.d = x, t.n = E) } while (!f); return m != e.length && o ? pN(e, 0, m) : e.subarray(0, m) }, Pl = function (i, t, e) { e <<= t & 7; var n = t / 8 | 0; i[n] |= e, i[n + 1] |= e >> 8 }, ip = function (i, t, e) { e <<= t & 7; var n = t / 8 | 0; i[n] |= e, i[n + 1] |= e >> 8, i[n + 2] |= e >> 16 }, z1 = function (i, t) { for (var e = [], n = 0; n < i.length; ++n)i[n] && e.push({ s: n, f: i[n] }); var r = e.length, s = e.slice(); if (!r) return { t: mN, l: 0 }; if (r == 1) { var o = new qr(e[0].s + 1); return o[e[0].s] = 1, { t: o, l: 1 } } e.sort(function (O, F) { return O.f - F.f }), e.push({ s: -1, f: 25001 }); var c = e[0], u = e[1], d = 0, f = 1, p = 2; for (e[0] = { s: -1, f: c.f + u.f, l: c, r: u }; f != r - 1;)c = e[e[d].f < e[p].f ? d++ : p++], u = e[d != f && e[d].f < e[p].f ? d++ : p++], e[f++] = { s: -1, f: c.f + u.f, l: c, r: u }; for (var m = s[0].s, n = 1; n < r; ++n)s[n].s > m && (m = s[n].s); var v = new zs(m + 1), x = Yb(e[f - 1], v, 0); if (x > t) { var n = 0, y = 0, E = x - t, A = 1 << E; for (s.sort(function (F, D) { return v[D.s] - v[F.s] || F.f - D.f }); n < r; ++n) { var T = s[n].s; if (v[T] > t) y += A - (1 << x - v[T]), v[T] = t; else break } for (y >>= E; y > 0;) { var L = s[n].s; v[L] < t ? y -= 1 << t - v[L]++ - 1 : ++n } for (; n >= 0 && y; --n) { var k = s[n].s; v[k] == t && (--v[k], ++y) } x = t } return { t: new qr(v), l: x } }, Yb = function (i, t, e) { return i.s == -1 ? Math.max(Yb(i.l, t, e + 1), Yb(i.r, t, e + 1)) : t[i.s] = e }, US = function (i) { for (var t = i.length; t && !i[--t];); for (var e = new zs(++t), n = 0, r = i[0], s = 1, o = function (u) { e[n++] = u }, c = 1; c <= t; ++c)if (i[c] == r && c != t) ++s; else { if (!r && s > 2) { for (; s > 138; s -= 138)o(32754); s > 2 && (o(s > 10 ? s - 11 << 5 | 28690 : s - 3 << 5 | 12305), s = 0) } else if (s > 3) { for (o(r), --s; s > 6; s -= 6)o(8304); s > 2 && (o(s - 3 << 5 | 8208), s = 0) } for (; s--;)o(r); s = 1, r = i[c] } return { c: e.subarray(0, n), n: t } }, rp = function (i, t) { for (var e = 0, n = 0; n < t.length; ++n)e += i[n] * t[n]; return e }, gN = function (i, t, e) { var n = e.length, r = A2(t + 2); i[r] = n & 255, i[r + 1] = n >> 8, i[r + 2] = i[r] ^ 255, i[r + 3] = i[r + 1] ^ 255; for (var s = 0; s < n; ++s)i[r + s + 4] = e[s]; return (r + 4 + n) * 8 }, HS = function (i, t, e, n, r, s, o, c, u, d, f) { Pl(t, f++, e), ++r[256]; for (var p = z1(r, 15), m = p.t, v = p.l, x = z1(s, 15), y = x.t, E = x.l, A = US(m), T = A.c, L = A.n, k = US(y), O = k.c, F = k.n, D = new zs(19), j = 0; j < T.length; ++j)++D[T[j] & 31]; for (var j = 0; j < O.length; ++j)++D[O[j] & 31]; for (var J = z1(D, 7), ot = J.t, z = J.l, G = 19; G > 4 && !ot[Gb[G - 1]]; --G); var it = d + 5 << 3, nt = rp(r, Kc) + rp(s, Cp) + o, ht = rp(r, m) + rp(s, y) + o + 14 + 3 * G + rp(D, ot) + 2 * D[16] + 3 * D[17] + 7 * D[18]; if (u >= 0 && it <= nt && it <= ht) return gN(t, f, i.subarray(u, u + d)); var U, tt, Q, pt; if (Pl(t, f, 1 + (ht < nt)), f += 2, ht < nt) { U = Xo(m, v, 0), tt = m, Q = Xo(y, E, 0), pt = y; var Y = Xo(ot, z, 0); Pl(t, f, L - 257), Pl(t, f + 5, F - 1), Pl(t, f + 10, G - 4), f += 14; for (var j = 0; j < G; ++j)Pl(t, f + 3 * j, ot[Gb[j]]); f += 3 * G; for (var ft = [T, O], I = 0; I < 2; ++I)for (var V = ft[I], j = 0; j < V.length; ++j) { var Z = V[j] & 31; Pl(t, f, Y[Z]), f += ot[Z], Z > 15 && (Pl(t, f, V[j] >> 5 & 127), f += V[j] >> 12) } } else U = MB, tt = Kc, Q = OB, pt = Cp; for (var j = 0; j < c; ++j) { var st = n[j]; if (st > 255) { var Z = st >> 18 & 31; ip(t, f, U[Z + 257]), f += tt[Z + 257], Z > 7 && (Pl(t, f, st >> 23 & 31), f += V0[Z]); var at = st & 31; ip(t, f, Q[at]), f += pt[at], at > 3 && (ip(t, f, st >> 5 & 8191), f += G0[at]) } else ip(t, f, U[st]), f += tt[st] } return ip(t, f, U[256]), f + tt[256] }, IB = new S2([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), mN = new qr(0), FB = function (i, t, e, n, r, s) { var o = s.z || i.length, c = new qr(n + o + 5 * (1 + Math.ceil(o / 7e3)) + r), u = c.subarray(n, c.length - r), d = s.l, f = (s.r || 0) & 7; if (t) { f && (u[0] = s.r >> 3); for (var p = IB[t - 1], m = p >> 13, v = p & 8191, x = (1 << e) - 1, y = s.p || new zs(32768), E = s.h || new zs(x + 1), A = Math.ceil(e / 3), T = 2 * A, L = function (Kt) { return (i[Kt] ^ i[Kt + 1] << A ^ i[Kt + 2] << T) & x }, k = new S2(25e3), O = new zs(288), F = new zs(32), D = 0, j = 0, J = s.i || 0, ot = 0, z = s.w || 0, G = 0; J + 2 < o; ++J) { var it = L(J), nt = J & 32767, ht = E[it]; if (y[nt] = ht, E[it] = nt, z <= J) { var U = o - J; if ((D > 7e3 || ot > 24576) && (U > 423 || !d)) { f = HS(i, u, 0, k, O, F, j, ot, G, J - G, f), ot = D = j = 0, G = J; for (var tt = 0; tt < 286; ++tt)O[tt] = 0; for (var tt = 0; tt < 30; ++tt)F[tt] = 0 } var Q = 2, pt = 0, Y = v, ft = nt - ht & 32767; if (U > 2 && it == L(J - ft)) for (var I = Math.min(m, U) - 1, V = Math.min(32767, J), Z = Math.min(258, U); ft <= V && --Y && nt != ht;) { if (i[J + Q] == i[J + Q - ft]) { for (var st = 0; st < Z && i[J + st] == i[J + st - ft]; ++st); if (st > Q) { if (Q = st, pt = ft, st > I) break; for (var at = Math.min(ft, st - 2), ct = 0, tt = 0; tt < at; ++tt) { var gt = J - ft + tt & 32767, xt = y[gt], Tt = gt - xt & 32767; Tt > ct && (ct = Tt, ht = gt) } } } nt = ht, ht = y[nt], ft += nt - ht & 32767 } if (pt) { k[ot++] = 268435456 | $b[Q] << 18 | zS[pt]; var kt = $b[Q] & 31, zt = zS[pt] & 31; j += V0[kt] + G0[zt], ++O[257 + kt], ++F[zt], z = J + Q, ++D } else k[ot++] = i[J], ++O[i[J]] } } for (J = Math.max(J, z); J < o; ++J)k[ot++] = i[J], ++O[i[J]]; f = HS(i, u, d, k, O, F, j, ot, G, J - G, f), d || (s.r = f & 7 | u[f / 8 | 0] << 3, f -= 7, s.h = E, s.p = y, s.i = J, s.w = z) } else { for (var J = s.w || 0; J < o + d; J += 65535) { var $t = J + 65535; $t >= o && (u[f / 8 | 0] = d, $t = o), f = gN(u, f + 1, i.subarray(J, $t)) } s.i = o } return pN(c, 0, n + A2(f) + r) }, vN = function () { var i = 1, t = 0; return { p: function (e) { for (var n = i, r = t, s = e.length | 0, o = 0; o != s;) { for (var c = Math.min(o + 2655, s); o < c; ++o)r += n += e[o]; n = (n & 65535) + 15 * (n >> 16), r = (r & 65535) + 15 * (r >> 16) } i = n, t = r }, d: function () { return i %= 65521, t %= 65521, (i & 255) << 24 | (i & 65280) << 8 | (t & 255) << 8 | t >> 8 } } }, BB = function (i, t, e, n, r) { if (!r && (r = { l: 1 }, t.dictionary)) { var s = t.dictionary.subarray(-32768), o = new qr(s.length + i.length); o.set(s), o.set(i, s.length), i = o, r.w = s.length } return FB(i, t.level == null ? 6 : t.level, t.mem == null ? r.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(i.length))) * 1.5) : 20 : 12 + t.mem, e, n, r) }, bN = function (i, t, e) { for (; e; ++t)i[t] = e, e >>>= 8 }, zB = function (i, t) { var e = t.level, n = e == 0 ? 0 : e < 6 ? 1 : e == 9 ? 3 : 2; if (i[0] = 120, i[1] = n << 6 | (t.dictionary && 32), i[1] |= 31 - (i[0] << 8 | i[1]) % 31, t.dictionary) { var r = vN(); r.p(t.dictionary), bN(i, 2, r.d()) } }, UB = function (i, t) { return ((i[0] & 15) != 8 || i[0] >> 4 > 7 || (i[0] << 8 | i[1]) % 31) && Ba(6, "invalid zlib data"), (i[1] >> 5 & 1) == 1 && Ba(6, "invalid zlib data: " + (i[1] & 32 ? "need" : "unexpected") + " dictionary"), (i[1] >> 3 & 4) + 2 }; function Xb(i, t) { t || (t = {}); var e = vN(); e.p(i); var n = BB(i, t, t.dictionary ? 6 : 2, 4); return zB(n, t), bN(n, n.length - 4, e.d()), n } function HB(i, t) { return jB(i.subarray(UB(i), -4), { i: 2 }, t, t) } var qB = typeof TextDecoder < "u" && new TextDecoder, VB = 0; try { qB.decode(mN, { stream: !0 }), VB = 1 } catch { } var Me = function () { return typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : this }(); function U1() { Me.console && typeof Me.console.log == "function" && Me.console.log.apply(Me.console, arguments) } var Un = { log: U1, warn: function (i) { Me.console && (typeof Me.console.warn == "function" ? Me.console.warn.apply(Me.console, arguments) : U1.call(null, arguments)) }, error: function (i) { Me.console && (typeof Me.console.error == "function" ? Me.console.error.apply(Me.console, arguments) : U1(i)) } }; function H1(i, t, e) { var n = new XMLHttpRequest; n.open("GET", i), n.responseType = "blob", n.onload = function () { Vu(n.response, t, e) }, n.onerror = function () { Un.error("could not download file") }, n.send() } function qS(i) { var t = new XMLHttpRequest; t.open("HEAD", i, !1); try { t.send() } catch { } return t.status >= 200 && t.status <= 299 } function Sm(i) { try { i.dispatchEvent(new MouseEvent("click")) } catch { var t = document.createEvent("MouseEvents"); t.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), i.dispatchEvent(t) } } var dp, Kb, Vu = Me.saveAs || ((typeof window > "u" ? "undefined" : Mn(window)) !== "object" || window !== Me ? function () { } : typeof HTMLAnchorElement < "u" && "download" in HTMLAnchorElement.prototype ? function (i, t, e) { var n = Me.URL || Me.webkitURL, r = document.createElement("a"); t = t || i.name || "download", r.download = t, r.rel = "noopener", typeof i == "string" ? (r.href = i, r.origin !== location.origin ? qS(r.href) ? H1(i, t, e) : Sm(r, r.target = "_blank") : Sm(r)) : (r.href = n.createObjectURL(i), setTimeout(function () { n.revokeObjectURL(r.href) }, 4e4), setTimeout(function () { Sm(r) }, 0)) } : "msSaveOrOpenBlob" in navigator ? function (i, t, e) { if (t = t || i.name || "download", typeof i == "string") if (qS(i)) H1(i, t, e); else { var n = document.createElement("a"); n.href = i, n.target = "_blank", setTimeout(function () { Sm(n) }) } else navigator.msSaveOrOpenBlob(function (r, s) { return s === void 0 ? s = { autoBom: !1 } : Mn(s) !== "object" && (Un.warn("Deprecated: Expected third argument to be a object"), s = { autoBom: !s }), s.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type) ? new Blob(["\uFEFF", r], { type: r.type }) : r }(i, e), t) } : function (i, t, e, n) { if ((n = n || open("", "_blank")) && (n.document.title = n.document.body.innerText = "downloading..."), typeof i == "string") return H1(i, t, e); var r = i.type === "application/octet-stream", s = /constructor/i.test(Me.HTMLElement) || Me.safari, o = /CriOS\/[\d]+/.test(navigator.userAgent); if ((o || r && s) && (typeof FileReader > "u" ? "undefined" : Mn(FileReader)) === "object") { var c = new FileReader; c.onloadend = function () { var f = c.result; f = o ? f : f.replace(/^data:[^;]*;/, "data:attachment/file;"), n ? n.location.href = f : location = f, n = null }, c.readAsDataURL(i) } else { var u = Me.URL || Me.webkitURL, d = u.createObjectURL(i); n ? n.location = d : location.href = d, n = null, setTimeout(function () { u.revokeObjectURL(d) }, 4e4) } });/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yN(i) { var t; i = i || "", this.ok = !1, i.charAt(0) == "#" && (i = i.substr(1, 6)), i = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dodgerblue: "1e90ff", feldspar: "d19275", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "005555", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslateblue: "8470ff", lightslategray: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "555500", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "805555", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "555580", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", violetred: "d02090", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }[i = (i = i.replace(/ /g, "")).toLowerCase()] || i; for (var e = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, example: ["rgb(123, 234, 45)", "rgb(255,234,245)"], process: function (c) { return [parseInt(c[1]), parseInt(c[2]), parseInt(c[3])] } }, { re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (c) { return [parseInt(c[1], 16), parseInt(c[2], 16), parseInt(c[3], 16)] } }, { re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (c) { return [parseInt(c[1] + c[1], 16), parseInt(c[2] + c[2], 16), parseInt(c[3] + c[3], 16)] } }], n = 0; n < e.length; n++) { var r = e[n].re, s = e[n].process, o = r.exec(i); o && (t = s(o), this.r = t[0], this.g = t[1], this.b = t[2], this.ok = !0) } this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () { return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")" }, this.toHex = function () { var c = this.r.toString(16), u = this.g.toString(16), d = this.b.toString(16); return c.length == 1 && (c = "0" + c), u.length == 1 && (u = "0" + u), d.length == 1 && (d = "0" + d), "#" + c + u + d } }/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q1(i, t) { var e = i[0], n = i[1], r = i[2], s = i[3]; e = Dr(e, n, r, s, t[0], 7, -680876936), s = Dr(s, e, n, r, t[1], 12, -389564586), r = Dr(r, s, e, n, t[2], 17, 606105819), n = Dr(n, r, s, e, t[3], 22, -1044525330), e = Dr(e, n, r, s, t[4], 7, -176418897), s = Dr(s, e, n, r, t[5], 12, 1200080426), r = Dr(r, s, e, n, t[6], 17, -1473231341), n = Dr(n, r, s, e, t[7], 22, -45705983), e = Dr(e, n, r, s, t[8], 7, 1770035416), s = Dr(s, e, n, r, t[9], 12, -1958414417), r = Dr(r, s, e, n, t[10], 17, -42063), n = Dr(n, r, s, e, t[11], 22, -1990404162), e = Dr(e, n, r, s, t[12], 7, 1804603682), s = Dr(s, e, n, r, t[13], 12, -40341101), r = Dr(r, s, e, n, t[14], 17, -1502002290), e = jr(e, n = Dr(n, r, s, e, t[15], 22, 1236535329), r, s, t[1], 5, -165796510), s = jr(s, e, n, r, t[6], 9, -1069501632), r = jr(r, s, e, n, t[11], 14, 643717713), n = jr(n, r, s, e, t[0], 20, -373897302), e = jr(e, n, r, s, t[5], 5, -701558691), s = jr(s, e, n, r, t[10], 9, 38016083), r = jr(r, s, e, n, t[15], 14, -660478335), n = jr(n, r, s, e, t[4], 20, -405537848), e = jr(e, n, r, s, t[9], 5, 568446438), s = jr(s, e, n, r, t[14], 9, -1019803690), r = jr(r, s, e, n, t[3], 14, -187363961), n = jr(n, r, s, e, t[8], 20, 1163531501), e = jr(e, n, r, s, t[13], 5, -1444681467), s = jr(s, e, n, r, t[2], 9, -51403784), r = jr(r, s, e, n, t[7], 14, 1735328473), e = Ir(e, n = jr(n, r, s, e, t[12], 20, -1926607734), r, s, t[5], 4, -378558), s = Ir(s, e, n, r, t[8], 11, -2022574463), r = Ir(r, s, e, n, t[11], 16, 1839030562), n = Ir(n, r, s, e, t[14], 23, -35309556), e = Ir(e, n, r, s, t[1], 4, -1530992060), s = Ir(s, e, n, r, t[4], 11, 1272893353), r = Ir(r, s, e, n, t[7], 16, -155497632), n = Ir(n, r, s, e, t[10], 23, -1094730640), e = Ir(e, n, r, s, t[13], 4, 681279174), s = Ir(s, e, n, r, t[0], 11, -358537222), r = Ir(r, s, e, n, t[3], 16, -722521979), n = Ir(n, r, s, e, t[6], 23, 76029189), e = Ir(e, n, r, s, t[9], 4, -640364487), s = Ir(s, e, n, r, t[12], 11, -421815835), r = Ir(r, s, e, n, t[15], 16, 530742520), e = Fr(e, n = Ir(n, r, s, e, t[2], 23, -995338651), r, s, t[0], 6, -198630844), s = Fr(s, e, n, r, t[7], 10, 1126891415), r = Fr(r, s, e, n, t[14], 15, -1416354905), n = Fr(n, r, s, e, t[5], 21, -57434055), e = Fr(e, n, r, s, t[12], 6, 1700485571), s = Fr(s, e, n, r, t[3], 10, -1894986606), r = Fr(r, s, e, n, t[10], 15, -1051523), n = Fr(n, r, s, e, t[1], 21, -2054922799), e = Fr(e, n, r, s, t[8], 6, 1873313359), s = Fr(s, e, n, r, t[15], 10, -30611744), r = Fr(r, s, e, n, t[6], 15, -1560198380), n = Fr(n, r, s, e, t[13], 21, 1309151649), e = Fr(e, n, r, s, t[4], 6, -145523070), s = Fr(s, e, n, r, t[11], 10, -1120210379), r = Fr(r, s, e, n, t[2], 15, 718787259), n = Fr(n, r, s, e, t[9], 21, -343485551), i[0] = Hc(e, i[0]), i[1] = Hc(n, i[1]), i[2] = Hc(r, i[2]), i[3] = Hc(s, i[3]) } function $0(i, t, e, n, r, s) { return t = Hc(Hc(t, i), Hc(n, s)), Hc(t << r | t >>> 32 - r, e) } function Dr(i, t, e, n, r, s, o) { return $0(t & e | ~t & n, i, t, r, s, o) } function jr(i, t, e, n, r, s, o) { return $0(t & n | e & ~n, i, t, r, s, o) } function Ir(i, t, e, n, r, s, o) { return $0(t ^ e ^ n, i, t, r, s, o) } function Fr(i, t, e, n, r, s, o) { return $0(e ^ (t | ~n), i, t, r, s, o) } function wN(i) { var t, e = i.length, n = [1732584193, -271733879, -1732584194, 271733878]; for (t = 64; t <= i.length; t += 64)q1(n, GB(i.substring(t - 64, t))); i = i.substring(t - 64); var r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; for (t = 0; t < i.length; t++)r[t >> 2] |= i.charCodeAt(t) << (t % 4 << 3); if (r[t >> 2] |= 128 << (t % 4 << 3), t > 55) for (q1(n, r), t = 0; t < 16; t++)r[t] = 0; return r[14] = 8 * e, q1(n, r), n } function GB(i) { var t, e = []; for (t = 0; t < 64; t += 4)e[t >> 2] = i.charCodeAt(t) + (i.charCodeAt(t + 1) << 8) + (i.charCodeAt(t + 2) << 16) + (i.charCodeAt(t + 3) << 24); return e } dp = Me.atob.bind(Me), Kb = Me.btoa.bind(Me); var VS = "0123456789abcdef".split(""); function $B(i) { for (var t = "", e = 0; e < 4; e++)t += VS[i >> 8 * e + 4 & 15] + VS[i >> 8 * e & 15]; return t } function WB(i) { return String.fromCharCode((255 & i) >> 0, (65280 & i) >> 8, (16711680 & i) >> 16, (4278190080 & i) >> 24) } function Qb(i) { return wN(i).map(WB).join("") } var YB = function (i) { for (var t = 0; t < i.length; t++)i[t] = $B(i[t]); return i.join("") }(wN("hello")) != "5d41402abc4b2a76b9719d911017c592"; function Hc(i, t) { if (YB) { var e = (65535 & i) + (65535 & t); return (i >> 16) + (t >> 16) + (e >> 16) << 16 | 65535 & e } return i + t & 4294967295 }/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zb(i, t) { var e, n, r, s; if (i !== e) { for (var o = (r = i, s = 1 + (256 / i.length >> 0), new Array(s + 1).join(r)), c = [], u = 0; u < 256; u++)c[u] = u; var d = 0; for (u = 0; u < 256; u++) { var f = c[u]; d = (d + f + o.charCodeAt(u)) % 256, c[u] = c[d], c[d] = f } e = i, n = c } else c = n; var p = t.length, m = 0, v = 0, x = ""; for (u = 0; u < p; u++)v = (v + (f = c[m = (m + 1) % 256])) % 256, c[m] = c[v], c[v] = f, o = c[(c[m] + c[v]) % 256], x += String.fromCharCode(t.charCodeAt(u) ^ o); return x }/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GS = { print: 4, modify: 8, copy: 16, "annot-forms": 32 }; function dd(i, t, e, n) { this.v = 1, this.r = 2; var r = 192; i.forEach(function (c) { if (GS.perm !== void 0) throw new Error("Invalid permission: " + c); r += GS[c] }), this.padding = "(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz"; var s = (t + this.padding).substr(0, 32), o = (e + this.padding).substr(0, 32); this.O = this.processOwnerPassword(s, o), this.P = -(1 + (255 ^ r)), this.encryptionKey = Qb(s + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(n)).substr(0, 5), this.U = Zb(this.encryptionKey, this.padding) } function fd(i) { if (/[^\u0000-\u00ff]/.test(i)) throw new Error("Invalid PDF Name Object: " + i + ", Only accept ASCII characters."); for (var t = "", e = i.length, n = 0; n < e; n++) { var r = i.charCodeAt(n); r < 33 || r === 35 || r === 37 || r === 40 || r === 41 || r === 47 || r === 60 || r === 62 || r === 91 || r === 93 || r === 123 || r === 125 || r > 126 ? t += "#" + ("0" + r.toString(16)).slice(-2) : t += i[n] } return t } function $S(i) { if (Mn(i) !== "object") throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)"); var t = {}; this.subscribe = function (e, n, r) { if (r = r || !1, typeof e != "string" || typeof n != "function" || typeof r != "boolean") throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)"); t.hasOwnProperty(e) || (t[e] = {}); var s = Math.random().toString(35); return t[e][s] = [n, !!r], s }, this.unsubscribe = function (e) { for (var n in t) if (t[n][e]) return delete t[n][e], Object.keys(t[n]).length === 0 && delete t[n], !0; return !1 }, this.publish = function (e) { if (t.hasOwnProperty(e)) { var n = Array.prototype.slice.call(arguments, 1), r = []; for (var s in t[e]) { var o = t[e][s]; try { o[0].apply(i, n) } catch (c) { Me.console && Un.error("jsPDF PubSub Error", c.message, c) } o[1] && r.push(s) } r.length && r.forEach(this.unsubscribe) } }, this.getTopics = function () { return t } } function s0(i) { if (!(this instanceof s0)) return new s0(i); var t = "opacity,stroke-opacity".split(","); for (var e in i) i.hasOwnProperty(e) && t.indexOf(e) >= 0 && (this[e] = i[e]); this.id = "", this.objectNumber = -1 } function xN(i, t) { this.gState = i, this.matrix = t, this.id = "", this.objectNumber = -1 } function Wu(i, t, e, n, r) { if (!(this instanceof Wu)) return new Wu(i, t, e, n, r); this.type = i === "axial" ? 2 : 3, this.coords = t, this.colors = e, xN.call(this, n, r) } function bd(i, t, e, n, r) { if (!(this instanceof bd)) return new bd(i, t, e, n, r); this.boundingBox = i, this.xStep = t, this.yStep = e, this.stream = "", this.cloneIndex = 0, xN.call(this, n, r) } function _e(i) {
  var t, e = typeof arguments[0] == "string" ? arguments[0] : "p", n = arguments[1], r = arguments[2], s = arguments[3], o = [], c = 1, u = 16, d = "S", f = null; Mn(i = i || {}) === "object" && (e = i.orientation, n = i.unit || n, r = i.format || r, s = i.compress || i.compressPdf || s, (f = i.encryption || null) !== null && (f.userPassword = f.userPassword || "", f.ownerPassword = f.ownerPassword || "", f.userPermissions = f.userPermissions || []), c = typeof i.userUnit == "number" ? Math.abs(i.userUnit) : 1, i.precision !== void 0 && (t = i.precision), i.floatPrecision !== void 0 && (u = i.floatPrecision), d = i.defaultPathOperation || "S"), o = i.filters || (s === !0 ? ["FlateEncode"] : o), n = n || "mm", e = ("" + (e || "P")).toLowerCase(); var p = i.putOnlyUsedFonts || !1, m = {}, v = { internal: {}, __private__: {} }; v.__private__.PubSub = $S; var x = "1.3", y = v.__private__.getPdfVersion = function () { return x }; v.__private__.setPdfVersion = function (C) { x = C }; var E = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; v.__private__.getPageFormats = function () { return E }; var A = v.__private__.getPageFormat = function (C) { return E[C] }; r = r || "a4"; var T = { COMPAT: "compat", ADVANCED: "advanced" }, L = T.COMPAT; function k() { this.saveGraphicsState(), lt(new oe(ne, 0, 0, -ne, 0, ao() * ne).toString() + " cm"), this.setFontSize(this.getFontSize() / ne), d = "n", L = T.ADVANCED } function O() { this.restoreGraphicsState(), d = "S", L = T.COMPAT } var F = v.__private__.combineFontStyleAndFontWeight = function (C, q) { if (C == "bold" && q == "normal" || C == "bold" && q == 400 || C == "normal" && q == "italic" || C == "bold" && q == "italic") throw new Error("Invalid Combination of fontweight and fontstyle"); return q && (C = q == 400 || q === "normal" ? C === "italic" ? "italic" : "normal" : q != 700 && q !== "bold" || C !== "normal" ? (q == 700 ? "bold" : q) + "" + C : "bold"), C }; v.advancedAPI = function (C) { var q = L === T.COMPAT; return q && k.call(this), typeof C != "function" || (C(this), q && O.call(this)), this }, v.compatAPI = function (C) { var q = L === T.ADVANCED; return q && O.call(this), typeof C != "function" || (C(this), q && k.call(this)), this }, v.isAdvancedAPI = function () { return L === T.ADVANCED }; var D, j = function (C) { if (L !== T.ADVANCED) throw new Error(C + " is only available in 'advanced' API mode. You need to call advancedAPI() first.") }, J = v.roundToPrecision = v.__private__.roundToPrecision = function (C, q) { var ut = t || q; if (isNaN(C) || isNaN(ut)) throw new Error("Invalid argument passed to jsPDF.roundToPrecision"); return C.toFixed(ut).replace(/0+$/, "") }; D = v.hpf = v.__private__.hpf = typeof u == "number" ? function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.hpf"); return J(C, u) } : u === "smart" ? function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.hpf"); return J(C, C > -1 && C < 1 ? 16 : 5) } : function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.hpf"); return J(C, 16) }; var ot = v.f2 = v.__private__.f2 = function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.f2"); return J(C, 2) }, z = v.__private__.f3 = function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.f3"); return J(C, 3) }, G = v.scale = v.__private__.scale = function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.scale"); return L === T.COMPAT ? C * ne : L === T.ADVANCED ? C : void 0 }, it = function (C) { return L === T.COMPAT ? ao() - C : L === T.ADVANCED ? C : void 0 }, nt = function (C) { return G(it(C)) }; v.__private__.setPrecision = v.setPrecision = function (C) { typeof parseInt(C, 10) == "number" && (t = parseInt(C, 10)) }; var ht, U = "00000000000000000000000000000000", tt = v.__private__.getFileId = function () { return U }, Q = v.__private__.setFileId = function (C) { return U = C !== void 0 && /^[a-fA-F0-9]{32}$/.test(C) ? C.toUpperCase() : U.split("").map(function () { return "ABCDEF0123456789".charAt(Math.floor(16 * Math.random())) }).join(""), f !== null && (Di = new dd(f.userPermissions, f.userPassword, f.ownerPassword, U)), U }; v.setFileId = function (C) { return Q(C), this }, v.getFileId = function () { return tt() }; var pt = v.__private__.convertDateToPDFDate = function (C) { var q = C.getTimezoneOffset(), ut = q < 0 ? "+" : "-", mt = Math.floor(Math.abs(q / 60)), Et = Math.abs(q % 60), jt = [ut, Z(mt), "'", Z(Et), "'"].join(""); return ["D:", C.getFullYear(), Z(C.getMonth() + 1), Z(C.getDate()), Z(C.getHours()), Z(C.getMinutes()), Z(C.getSeconds()), jt].join("") }, Y = v.__private__.convertPDFDateToDate = function (C) { var q = parseInt(C.substr(2, 4), 10), ut = parseInt(C.substr(6, 2), 10) - 1, mt = parseInt(C.substr(8, 2), 10), Et = parseInt(C.substr(10, 2), 10), jt = parseInt(C.substr(12, 2), 10), Wt = parseInt(C.substr(14, 2), 10); return new Date(q, ut, mt, Et, jt, Wt, 0) }, ft = v.__private__.setCreationDate = function (C) { var q; if (C === void 0 && (C = new Date), C instanceof Date) q = pt(C); else { if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C)) throw new Error("Invalid argument passed to jsPDF.setCreationDate"); q = C } return ht = q }, I = v.__private__.getCreationDate = function (C) { var q = ht; return C === "jsDate" && (q = Y(ht)), q }; v.setCreationDate = function (C) { return ft(C), this }, v.getCreationDate = function (C) { return I(C) }; var V, Z = v.__private__.padd2 = function (C) { return ("0" + parseInt(C)).slice(-2) }, st = v.__private__.padd2Hex = function (C) { return ("00" + (C = C.toString())).substr(C.length) }, at = 0, ct = [], gt = [], xt = 0, Tt = [], kt = [], zt = !1, $t = gt, Kt = function () { at = 0, xt = 0, gt = [], ct = [], Tt = [], Vr = _n(), Gr = _n() }; v.__private__.setCustomOutputDestination = function (C) { zt = !0, $t = C }; var Lt = function (C) { zt || ($t = C) }; v.__private__.resetCustomOutputDestination = function () { zt = !1, $t = gt }; var lt = v.__private__.out = function (C) { return C = C.toString(), xt += C.length + 1, $t.push(C), $t }, se = v.__private__.write = function (C) { return lt(arguments.length === 1 ? C.toString() : Array.prototype.join.call(arguments, " ")) }, ae = v.__private__.getArrayBuffer = function (C) { for (var q = C.length, ut = new ArrayBuffer(q), mt = new Uint8Array(ut); q--;)mt[q] = C.charCodeAt(q); return ut }, Vt = [["Helvetica", "helvetica", "normal", "WinAnsiEncoding"], ["Helvetica-Bold", "helvetica", "bold", "WinAnsiEncoding"], ["Helvetica-Oblique", "helvetica", "italic", "WinAnsiEncoding"], ["Helvetica-BoldOblique", "helvetica", "bolditalic", "WinAnsiEncoding"], ["Courier", "courier", "normal", "WinAnsiEncoding"], ["Courier-Bold", "courier", "bold", "WinAnsiEncoding"], ["Courier-Oblique", "courier", "italic", "WinAnsiEncoding"], ["Courier-BoldOblique", "courier", "bolditalic", "WinAnsiEncoding"], ["Times-Roman", "times", "normal", "WinAnsiEncoding"], ["Times-Bold", "times", "bold", "WinAnsiEncoding"], ["Times-Italic", "times", "italic", "WinAnsiEncoding"], ["Times-BoldItalic", "times", "bolditalic", "WinAnsiEncoding"], ["ZapfDingbats", "zapfdingbats", "normal", null], ["Symbol", "symbol", "normal", null]]; v.__private__.getStandardFonts = function () { return Vt }; var Zt = i.fontSize || 16; v.__private__.setFontSize = v.setFontSize = function (C) { return Zt = L === T.ADVANCED ? C / ne : C, this }; var Jt, Xt = v.__private__.getFontSize = v.getFontSize = function () { return L === T.COMPAT ? Zt : Zt * ne }, ce = i.R2L || !1; v.__private__.setR2L = v.setR2L = function (C) { return ce = C, this }, v.__private__.getR2L = v.getR2L = function () { return ce }; var Ce, ke = v.__private__.setZoomMode = function (C) { var q = [void 0, null, "fullwidth", "fullheight", "fullpage", "original"]; if (/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C)) Jt = C; else if (isNaN(C)) { if (q.indexOf(C) === -1) throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "' + C + '" is not recognized.'); Jt = C } else Jt = parseInt(C, 10) }; v.__private__.getZoomMode = function () { return Jt }; var Ae, be = v.__private__.setPageMode = function (C) { if ([void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(C) == -1) throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + C + '" is not recognized.'); Ce = C }; v.__private__.getPageMode = function () { return Ce }; var Fe = v.__private__.setLayoutMode = function (C) { if ([void 0, null, "continuous", "single", "twoleft", "tworight", "two"].indexOf(C) == -1) throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "' + C + '" is not recognized.'); Ae = C }; v.__private__.getLayoutMode = function () { return Ae }, v.__private__.setDisplayMode = v.setDisplayMode = function (C, q, ut) { return ke(C), Fe(q), be(ut), this }; var le = { title: "", subject: "", author: "", keywords: "", creator: "" }; v.__private__.getDocumentProperty = function (C) { if (Object.keys(le).indexOf(C) === -1) throw new Error("Invalid argument passed to jsPDF.getDocumentProperty"); return le[C] }, v.__private__.getDocumentProperties = function () { return le }, v.__private__.setDocumentProperties = v.setProperties = v.setDocumentProperties = function (C) { for (var q in le) le.hasOwnProperty(q) && C[q] && (le[q] = C[q]); return this }, v.__private__.setDocumentProperty = function (C, q) { if (Object.keys(le).indexOf(C) === -1) throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty"); return le[C] = q }; var Ne, ne, Xn, We, tr, Qe = {}, yn = {}, er = [], an = {}, Vi = {}, In = {}, mr = {}, nr = null, Fn = 0, Qt = [], xe = new $S(v), Pn = i.hotfixes || [], un = {}, ir = {}, En = [], oe = function C(q, ut, mt, Et, jt, Wt) { if (!(this instanceof C)) return new C(q, ut, mt, Et, jt, Wt); isNaN(q) && (q = 1), isNaN(ut) && (ut = 0), isNaN(mt) && (mt = 0), isNaN(Et) && (Et = 1), isNaN(jt) && (jt = 0), isNaN(Wt) && (Wt = 0), this._matrix = [q, ut, mt, Et, jt, Wt] }; Object.defineProperty(oe.prototype, "sx", { get: function () { return this._matrix[0] }, set: function (C) { this._matrix[0] = C } }), Object.defineProperty(oe.prototype, "shy", { get: function () { return this._matrix[1] }, set: function (C) { this._matrix[1] = C } }), Object.defineProperty(oe.prototype, "shx", { get: function () { return this._matrix[2] }, set: function (C) { this._matrix[2] = C } }), Object.defineProperty(oe.prototype, "sy", { get: function () { return this._matrix[3] }, set: function (C) { this._matrix[3] = C } }), Object.defineProperty(oe.prototype, "tx", { get: function () { return this._matrix[4] }, set: function (C) { this._matrix[4] = C } }), Object.defineProperty(oe.prototype, "ty", { get: function () { return this._matrix[5] }, set: function (C) { this._matrix[5] = C } }), Object.defineProperty(oe.prototype, "a", { get: function () { return this._matrix[0] }, set: function (C) { this._matrix[0] = C } }), Object.defineProperty(oe.prototype, "b", { get: function () { return this._matrix[1] }, set: function (C) { this._matrix[1] = C } }), Object.defineProperty(oe.prototype, "c", { get: function () { return this._matrix[2] }, set: function (C) { this._matrix[2] = C } }), Object.defineProperty(oe.prototype, "d", { get: function () { return this._matrix[3] }, set: function (C) { this._matrix[3] = C } }), Object.defineProperty(oe.prototype, "e", { get: function () { return this._matrix[4] }, set: function (C) { this._matrix[4] = C } }), Object.defineProperty(oe.prototype, "f", { get: function () { return this._matrix[5] }, set: function (C) { this._matrix[5] = C } }), Object.defineProperty(oe.prototype, "rotation", { get: function () { return Math.atan2(this.shx, this.sx) } }), Object.defineProperty(oe.prototype, "scaleX", { get: function () { return this.decompose().scale.sx } }), Object.defineProperty(oe.prototype, "scaleY", { get: function () { return this.decompose().scale.sy } }), Object.defineProperty(oe.prototype, "isIdentity", { get: function () { return this.sx === 1 && this.shy === 0 && this.shx === 0 && this.sy === 1 && this.tx === 0 && this.ty === 0 } }), oe.prototype.join = function (C) { return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(D).join(C) }, oe.prototype.multiply = function (C) { var q = C.sx * this.sx + C.shy * this.shx, ut = C.sx * this.shy + C.shy * this.sy, mt = C.shx * this.sx + C.sy * this.shx, Et = C.shx * this.shy + C.sy * this.sy, jt = C.tx * this.sx + C.ty * this.shx + this.tx, Wt = C.tx * this.shy + C.ty * this.sy + this.ty; return new oe(q, ut, mt, Et, jt, Wt) }, oe.prototype.decompose = function () { var C = this.sx, q = this.shy, ut = this.shx, mt = this.sy, Et = this.tx, jt = this.ty, Wt = Math.sqrt(C * C + q * q), ie = (C /= Wt) * ut + (q /= Wt) * mt; ut -= C * ie, mt -= q * ie; var ge = Math.sqrt(ut * ut + mt * mt); return ie /= ge, C * (mt /= ge) < q * (ut /= ge) && (C = -C, q = -q, ie = -ie, Wt = -Wt), { scale: new oe(Wt, 0, 0, ge, 0, 0), translate: new oe(1, 0, 0, 1, Et, jt), rotate: new oe(C, q, -q, C, 0, 0), skew: new oe(1, 0, ie, 1, 0, 0) } }, oe.prototype.toString = function (C) { return this.join(" ") }, oe.prototype.inversed = function () { var C = this.sx, q = this.shy, ut = this.shx, mt = this.sy, Et = this.tx, jt = this.ty, Wt = 1 / (C * mt - q * ut), ie = mt * Wt, ge = -q * Wt, Be = -ut * Wt, De = C * Wt; return new oe(ie, ge, Be, De, -ie * Et - Be * jt, -ge * Et - De * jt) }, oe.prototype.applyToPoint = function (C) { var q = C.x * this.sx + C.y * this.shx + this.tx, ut = C.x * this.shy + C.y * this.sy + this.ty; return new Jl(q, ut) }, oe.prototype.applyToRectangle = function (C) { var q = this.applyToPoint(C), ut = this.applyToPoint(new Jl(C.x + C.w, C.y + C.h)); return new pu(q.x, q.y, ut.x - q.x, ut.y - q.y) }, oe.prototype.clone = function () { var C = this.sx, q = this.shy, ut = this.shx, mt = this.sy, Et = this.tx, jt = this.ty; return new oe(C, q, ut, mt, Et, jt) }, v.Matrix = oe; var mn = v.matrixMult = function (C, q) { return q.multiply(C) }, tn = new oe(1, 0, 0, 1, 0, 0); v.unitMatrix = v.identityMatrix = tn; var vn = function (C, q) { if (!Vi[C]) { var ut = (q instanceof Wu ? "Sh" : "P") + (Object.keys(an).length + 1).toString(10); q.id = ut, Vi[C] = ut, an[ut] = q, xe.publish("addPattern", q) } }; v.ShadingPattern = Wu, v.TilingPattern = bd, v.addShadingPattern = function (C, q) { return j("addShadingPattern()"), vn(C, q), this }, v.beginTilingPattern = function (C) { j("beginTilingPattern()"), tc(C.boundingBox[0], C.boundingBox[1], C.boundingBox[2] - C.boundingBox[0], C.boundingBox[3] - C.boundingBox[1], C.matrix) }, v.endTilingPattern = function (C, q) {
    j("endTilingPattern()"), q.stream = kt[V].join(`
`), vn(C, q), xe.publish("endTilingPattern", q), En.pop().restore()
  }; var Gn = v.__private__.newObject = function () { var C = _n(); return _r(C, !0), C }, _n = v.__private__.newObjectDeferred = function () { return at++, ct[at] = function () { return xt }, at }, _r = function (C, q) { return q = typeof q == "boolean" && q, ct[C] = xt, q && lt(C + " 0 obj"), C }, tl = v.__private__.newAdditionalObject = function () { var C = { objId: _n(), content: "" }; return Tt.push(C), C }, Vr = _n(), Gr = _n(), rr = v.__private__.decodeColorString = function (C) { var q = C.split(" "); if (q.length !== 2 || q[1] !== "g" && q[1] !== "G") q.length === 5 && (q[4] === "k" || q[4] === "K") && (q = [(1 - q[0]) * (1 - q[3]), (1 - q[1]) * (1 - q[3]), (1 - q[2]) * (1 - q[3]), "r"]); else { var ut = parseFloat(q[0]); q = [ut, ut, ut, "r"] } for (var mt = "#", Et = 0; Et < 3; Et++)mt += ("0" + Math.floor(255 * parseFloat(q[Et])).toString(16)).slice(-2); return mt }, sr = v.__private__.encodeColorString = function (C) { var q; typeof C == "string" && (C = { ch1: C }); var ut = C.ch1, mt = C.ch2, Et = C.ch3, jt = C.ch4, Wt = C.pdfColorType === "draw" ? ["G", "RG", "K"] : ["g", "rg", "k"]; if (typeof ut == "string" && ut.charAt(0) !== "#") { var ie = new yN(ut); if (ie.ok) ut = ie.toHex(); else if (!/^\d*\.?\d*$/.test(ut)) throw new Error('Invalid color "' + ut + '" passed to jsPDF.encodeColorString.') } if (typeof ut == "string" && /^#[0-9A-Fa-f]{3}$/.test(ut) && (ut = "#" + ut[1] + ut[1] + ut[2] + ut[2] + ut[3] + ut[3]), typeof ut == "string" && /^#[0-9A-Fa-f]{6}$/.test(ut)) { var ge = parseInt(ut.substr(1), 16); ut = ge >> 16 & 255, mt = ge >> 8 & 255, Et = 255 & ge } if (mt === void 0 || jt === void 0 && ut === mt && mt === Et) if (typeof ut == "string") q = ut + " " + Wt[0]; else switch (C.precision) { case 2: q = ot(ut / 255) + " " + Wt[0]; break; case 3: default: q = z(ut / 255) + " " + Wt[0] } else if (jt === void 0 || Mn(jt) === "object") { if (jt && !isNaN(jt.a) && jt.a === 0) return q = ["1.", "1.", "1.", Wt[1]].join(" "); if (typeof ut == "string") q = [ut, mt, Et, Wt[1]].join(" "); else switch (C.precision) { case 2: q = [ot(ut / 255), ot(mt / 255), ot(Et / 255), Wt[1]].join(" "); break; default: case 3: q = [z(ut / 255), z(mt / 255), z(Et / 255), Wt[1]].join(" ") } } else if (typeof ut == "string") q = [ut, mt, Et, jt, Wt[2]].join(" "); else switch (C.precision) { case 2: q = [ot(ut), ot(mt), ot(Et), ot(jt), Wt[2]].join(" "); break; case 3: default: q = [z(ut), z(mt), z(Et), z(jt), Wt[2]].join(" ") }return q }, Cr = v.__private__.getFilters = function () { return o }, Gi = v.__private__.putStream = function (C) { var q = (C = C || {}).data || "", ut = C.filters || Cr(), mt = C.alreadyAppliedFilters || [], Et = C.addLength1 || !1, jt = q.length, Wt = C.objectId, ie = function (ui) { return ui }; if (f !== null && Wt === void 0) throw new Error("ObjectId must be passed to putStream for file encryption"); f !== null && (ie = Di.encryptor(Wt, 0)); var ge = {}; ut === !0 && (ut = ["FlateEncode"]); var Be = C.additionalKeyValues || [], De = (ge = _e.API.processDataByFilters !== void 0 ? _e.API.processDataByFilters(q, ut) : { data: q, reverseChain: [] }).reverseChain + (Array.isArray(mt) ? mt.join(" ") : mt.toString()); if (ge.data.length !== 0 && (Be.push({ key: "Length", value: ge.data.length }), Et === !0 && Be.push({ key: "Length1", value: jt })), De.length != 0) if (De.split("/").length - 1 == 1) Be.push({ key: "Filter", value: De }); else { Be.push({ key: "Filter", value: "[" + De + "]" }); for (var en = 0; en < Be.length; en += 1)if (Be[en].key === "DecodeParms") { for (var $n = [], Kn = 0; Kn < ge.reverseChain.split("/").length - 1; Kn += 1)$n.push("null"); $n.push(Be[en].value), Be[en].value = "[" + $n.join(" ") + "]" } } lt("<<"); for (var ci = 0; ci < Be.length; ci++)lt("/" + Be[ci].key + " " + Be[ci].value); lt(">>"), ge.data.length !== 0 && (lt("stream"), lt(ie(ge.data)), lt("endstream")) }, Nn = v.__private__.putPage = function (C) {
    var q = C.number, ut = C.data, mt = C.objId, Et = C.contentsObjId; _r(mt, !0), lt("<</Type /Page"), lt("/Parent " + C.rootDictionaryObjId + " 0 R"), lt("/Resources " + C.resourceDictionaryObjId + " 0 R"), lt("/MediaBox [" + parseFloat(D(C.mediaBox.bottomLeftX)) + " " + parseFloat(D(C.mediaBox.bottomLeftY)) + " " + D(C.mediaBox.topRightX) + " " + D(C.mediaBox.topRightY) + "]"), C.cropBox !== null && lt("/CropBox [" + D(C.cropBox.bottomLeftX) + " " + D(C.cropBox.bottomLeftY) + " " + D(C.cropBox.topRightX) + " " + D(C.cropBox.topRightY) + "]"), C.bleedBox !== null && lt("/BleedBox [" + D(C.bleedBox.bottomLeftX) + " " + D(C.bleedBox.bottomLeftY) + " " + D(C.bleedBox.topRightX) + " " + D(C.bleedBox.topRightY) + "]"), C.trimBox !== null && lt("/TrimBox [" + D(C.trimBox.bottomLeftX) + " " + D(C.trimBox.bottomLeftY) + " " + D(C.trimBox.topRightX) + " " + D(C.trimBox.topRightY) + "]"), C.artBox !== null && lt("/ArtBox [" + D(C.artBox.bottomLeftX) + " " + D(C.artBox.bottomLeftY) + " " + D(C.artBox.topRightX) + " " + D(C.artBox.topRightY) + "]"), typeof C.userUnit == "number" && C.userUnit !== 1 && lt("/UserUnit " + C.userUnit), xe.publish("putPage", { objId: mt, pageContext: Qt[q], pageNumber: q, page: ut }), lt("/Contents " + Et + " 0 R"), lt(">>"), lt("endobj"); var jt = ut.join(`
`); return L === T.ADVANCED && (jt += `
Q`), _r(Et, !0), Gi({ data: jt, filters: Cr(), objectId: Et }), lt("endobj"), mt
  }, Qa = v.__private__.putPages = function () { var C, q, ut = []; for (C = 1; C <= Fn; C++)Qt[C].objId = _n(), Qt[C].contentsObjId = _n(); for (C = 1; C <= Fn; C++)ut.push(Nn({ number: C, data: kt[C], objId: Qt[C].objId, contentsObjId: Qt[C].contentsObjId, mediaBox: Qt[C].mediaBox, cropBox: Qt[C].cropBox, bleedBox: Qt[C].bleedBox, trimBox: Qt[C].trimBox, artBox: Qt[C].artBox, userUnit: Qt[C].userUnit, rootDictionaryObjId: Vr, resourceDictionaryObjId: Gr })); _r(Vr, !0), lt("<</Type /Pages"); var mt = "/Kids ["; for (q = 0; q < Fn; q++)mt += ut[q] + " 0 R "; lt(mt + "]"), lt("/Count " + Fn), lt(">>"), lt("endobj"), xe.publish("postPutPages") }, el = function (C) { xe.publish("putFont", { font: C, out: lt, newObject: Gn, putStream: Gi }), C.isAlreadyPutted !== !0 && (C.objectNumber = Gn(), lt("<<"), lt("/Type /Font"), lt("/BaseFont /" + fd(C.postScriptName)), lt("/Subtype /Type1"), typeof C.encoding == "string" && lt("/Encoding /" + C.encoding), lt("/FirstChar 32"), lt("/LastChar 255"), lt(">>"), lt("endobj")) }, es = function () { for (var C in Qe) Qe.hasOwnProperty(C) && (p === !1 || p === !0 && m.hasOwnProperty(C)) && el(Qe[C]) }, ws = function (C) {
    C.objectNumber = Gn(); var q = []; q.push({ key: "Type", value: "/XObject" }), q.push({ key: "Subtype", value: "/Form" }), q.push({ key: "BBox", value: "[" + [D(C.x), D(C.y), D(C.x + C.width), D(C.y + C.height)].join(" ") + "]" }), q.push({ key: "Matrix", value: "[" + C.matrix.toString() + "]" }); var ut = C.pages[1].join(`
`); Gi({ data: ut, additionalKeyValues: q, objectId: C.objectNumber }), lt("endobj")
  }, ql = function () { for (var C in un) un.hasOwnProperty(C) && ws(un[C]) }, iu = function (C, q) { var ut, mt = [], Et = 1 / (q - 1); for (ut = 0; ut < 1; ut += Et)mt.push(ut); if (mt.push(1), C[0].offset != 0) { var jt = { offset: 0, color: C[0].color }; C.unshift(jt) } if (C[C.length - 1].offset != 1) { var Wt = { offset: 1, color: C[C.length - 1].color }; C.push(Wt) } for (var ie = "", ge = 0, Be = 0; Be < mt.length; Be++) { for (ut = mt[Be]; ut > C[ge + 1].offset;)ge++; var De = C[ge].offset, en = (ut - De) / (C[ge + 1].offset - De), $n = C[ge].color, Kn = C[ge + 1].color; ie += st(Math.round((1 - en) * $n[0] + en * Kn[0]).toString(16)) + st(Math.round((1 - en) * $n[1] + en * Kn[1]).toString(16)) + st(Math.round((1 - en) * $n[2] + en * Kn[2]).toString(16)) } return ie.trim() }, vh = function (C, q) { q || (q = 21); var ut = Gn(), mt = iu(C.colors, q), Et = []; Et.push({ key: "FunctionType", value: "0" }), Et.push({ key: "Domain", value: "[0.0 1.0]" }), Et.push({ key: "Size", value: "[" + q + "]" }), Et.push({ key: "BitsPerSample", value: "8" }), Et.push({ key: "Range", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), Et.push({ key: "Decode", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), Gi({ data: mt, additionalKeyValues: Et, alreadyAppliedFilters: ["/ASCIIHexDecode"], objectId: ut }), lt("endobj"), C.objectNumber = Gn(), lt("<< /ShadingType " + C.type), lt("/ColorSpace /DeviceRGB"); var jt = "/Coords [" + D(parseFloat(C.coords[0])) + " " + D(parseFloat(C.coords[1])) + " "; C.type === 2 ? jt += D(parseFloat(C.coords[2])) + " " + D(parseFloat(C.coords[3])) : jt += D(parseFloat(C.coords[2])) + " " + D(parseFloat(C.coords[3])) + " " + D(parseFloat(C.coords[4])) + " " + D(parseFloat(C.coords[5])), lt(jt += "]"), C.matrix && lt("/Matrix [" + C.matrix.toString() + "]"), lt("/Function " + ut + " 0 R"), lt("/Extend [true true]"), lt(">>"), lt("endobj") }, Jd = function (C, q) { var ut = _n(), mt = Gn(); q.push({ resourcesOid: ut, objectOid: mt }), C.objectNumber = mt; var Et = []; Et.push({ key: "Type", value: "/Pattern" }), Et.push({ key: "PatternType", value: "1" }), Et.push({ key: "PaintType", value: "1" }), Et.push({ key: "TilingType", value: "1" }), Et.push({ key: "BBox", value: "[" + C.boundingBox.map(D).join(" ") + "]" }), Et.push({ key: "XStep", value: D(C.xStep) }), Et.push({ key: "YStep", value: D(C.yStep) }), Et.push({ key: "Resources", value: ut + " 0 R" }), C.matrix && Et.push({ key: "Matrix", value: "[" + C.matrix.toString() + "]" }), Gi({ data: C.stream, additionalKeyValues: Et, objectId: C.objectNumber }), lt("endobj") }, ua = function (C) { var q; for (q in an) an.hasOwnProperty(q) && (an[q] instanceof Wu ? vh(an[q]) : an[q] instanceof bd && Jd(an[q], C)) }, nl = function (C) { for (var q in C.objectNumber = Gn(), lt("<<"), C) switch (q) { case "opacity": lt("/ca " + ot(C[q])); break; case "stroke-opacity": lt("/CA " + ot(C[q])) }lt(">>"), lt("endobj") }, xs = function () { var C; for (C in In) In.hasOwnProperty(C) && nl(In[C]) }, il = function () { for (var C in lt("/XObject <<"), un) un.hasOwnProperty(C) && un[C].objectNumber >= 0 && lt("/" + C + " " + un[C].objectNumber + " 0 R"); xe.publish("putXobjectDict"), lt(">>") }, bh = function () { Di.oid = Gn(), lt("<<"), lt("/Filter /Standard"), lt("/V " + Di.v), lt("/R " + Di.r), lt("/U <" + Di.toHexString(Di.U) + ">"), lt("/O <" + Di.toHexString(Di.O) + ">"), lt("/P " + Di.P), lt(">>"), lt("endobj") }, ha = function () { for (var C in lt("/Font <<"), Qe) Qe.hasOwnProperty(C) && (p === !1 || p === !0 && m.hasOwnProperty(C)) && lt("/" + C + " " + Qe[C].objectNumber + " 0 R"); lt(">>") }, ru = function () { if (Object.keys(an).length > 0) { for (var C in lt("/Shading <<"), an) an.hasOwnProperty(C) && an[C] instanceof Wu && an[C].objectNumber >= 0 && lt("/" + C + " " + an[C].objectNumber + " 0 R"); xe.publish("putShadingPatternDict"), lt(">>") } }, Za = function (C) { if (Object.keys(an).length > 0) { for (var q in lt("/Pattern <<"), an) an.hasOwnProperty(q) && an[q] instanceof v.TilingPattern && an[q].objectNumber >= 0 && an[q].objectNumber < C && lt("/" + q + " " + an[q].objectNumber + " 0 R"); xe.publish("putTilingPatternDict"), lt(">>") } }, tf = function () { if (Object.keys(In).length > 0) { var C; for (C in lt("/ExtGState <<"), In) In.hasOwnProperty(C) && In[C].objectNumber >= 0 && lt("/" + C + " " + In[C].objectNumber + " 0 R"); xe.publish("putGStateDict"), lt(">>") } }, Jn = function (C) { _r(C.resourcesOid, !0), lt("<<"), lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), ha(), ru(), Za(C.objectOid), tf(), il(), lt(">>"), lt("endobj") }, vr = function () { var C = []; es(), xs(), ql(), ua(C), xe.publish("putResources"), C.forEach(Jn), Jn({ resourcesOid: Gr, objectOid: Number.MAX_SAFE_INTEGER }), xe.publish("postPutResources") }, su = function () { xe.publish("putAdditionalObjects"); for (var C = 0; C < Tt.length; C++) { var q = Tt[C]; _r(q.objId, !0), lt(q.content), lt("endobj") } xe.publish("postPutAdditionalObjects") }, yh = function (C) { yn[C.fontName] = yn[C.fontName] || {}, yn[C.fontName][C.fontStyle] = C.id }, Ja = function (C, q, ut, mt, Et) { var jt = { id: "F" + (Object.keys(Qe).length + 1).toString(10), postScriptName: C, fontName: q, fontStyle: ut, encoding: mt, isStandardFont: Et || !1, metadata: {} }; return xe.publish("addFont", { font: jt, instance: this }), Qe[jt.id] = jt, yh(jt), jt.id }, wh = function (C) { for (var q = 0, ut = Vt.length; q < ut; q++) { var mt = Ja.call(this, C[q][0], C[q][1], C[q][2], Vt[q][3], !0); p === !1 && (m[mt] = !0); var Et = C[q][0].split("-"); yh({ id: mt, fontName: Et[0], fontStyle: Et[1] || "" }) } xe.publish("addFonts", { fonts: Qe, dictionary: yn }) }, Nr = function (C) {
    return C.foo = function () {
      try { return C.apply(this, arguments) } catch (mt) {
        var q = mt.stack || ""; ~q.indexOf(" at ") && (q = q.split(" at ")[1]); var ut = "Error in function " + q.split(`
`)[0].split("<")[0] + ": " + mt.message; if (!Me.console) throw new Error(ut); Me.console.error(ut, mt), Me.alert && alert(ut)
      }
    }, C.foo.bar = C, C.foo
  }, Vl = function (C, q) { var ut, mt, Et, jt, Wt, ie, ge, Be, De; if (Et = (q = q || {}).sourceEncoding || "Unicode", Wt = q.outputEncoding, (q.autoencode || Wt) && Qe[Ne].metadata && Qe[Ne].metadata[Et] && Qe[Ne].metadata[Et].encoding && (jt = Qe[Ne].metadata[Et].encoding, !Wt && Qe[Ne].encoding && (Wt = Qe[Ne].encoding), !Wt && jt.codePages && (Wt = jt.codePages[0]), typeof Wt == "string" && (Wt = jt[Wt]), Wt)) { for (ge = !1, ie = [], ut = 0, mt = C.length; ut < mt; ut++)(Be = Wt[C.charCodeAt(ut)]) ? ie.push(String.fromCharCode(Be)) : ie.push(C[ut]), ie[ut].charCodeAt(0) >> 8 && (ge = !0); C = ie.join("") } for (ut = C.length; ge === void 0 && ut !== 0;)C.charCodeAt(ut - 1) >> 8 && (ge = !0), ut--; if (!ge) return C; for (ie = q.noBOM ? [] : [254, 255], ut = 0, mt = C.length; ut < mt; ut++) { if ((De = (Be = C.charCodeAt(ut)) >> 8) >> 8) throw new Error("Character at position " + ut + " of string '" + C + "' exceeds 16bits. Cannot be encoded into UCS-2 BE"); ie.push(De), ie.push(Be - (De << 8)) } return String.fromCharCode.apply(void 0, ie) }, Bn = v.__private__.pdfEscape = v.pdfEscape = function (C, q) { return Vl(C, q).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, rl = v.__private__.beginPage = function (C) { kt[++Fn] = [], Qt[Fn] = { objId: 0, contentsObjId: 0, userUnit: Number(c), artBox: null, bleedBox: null, cropBox: null, trimBox: null, mediaBox: { bottomLeftX: 0, bottomLeftY: 0, topRightX: Number(C[0]), topRightY: Number(C[1]) } }, da(Fn), Lt(kt[V]) }, au = function (C, q) { var ut, mt, Et; switch (e = q || e, typeof C == "string" && (ut = A(C.toLowerCase()), Array.isArray(ut) && (mt = ut[0], Et = ut[1])), Array.isArray(C) && (mt = C[0] * ne, Et = C[1] * ne), isNaN(mt) && (mt = r[0], Et = r[1]), (mt > 14400 || Et > 14400) && (Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"), mt = Math.min(14400, mt), Et = Math.min(14400, Et)), r = [mt, Et], e.substr(0, 1)) { case "l": Et > mt && (r = [Et, mt]); break; case "p": mt > Et && (r = [Et, mt]) }rl(r), Ch(io), lt(Ss), fu !== 0 && lt(fu + " J"), Zl !== 0 && lt(Zl + " j"), xe.publish("addPage", { pageNumber: Fn }) }, ou = function (C) { C > 0 && C <= Fn && (kt.splice(C, 1), Qt.splice(C, 1), Fn--, V > Fn && (V = Fn), this.setPage(V)) }, da = function (C) { C > 0 && C <= Fn && (V = C) }, xh = v.__private__.getNumberOfPages = v.getNumberOfPages = function () { return kt.length - 1 }, lu = function (C, q, ut) { var mt, Et = void 0; return ut = ut || {}, C = C !== void 0 ? C : Qe[Ne].fontName, q = q !== void 0 ? q : Qe[Ne].fontStyle, mt = C.toLowerCase(), yn[mt] !== void 0 && yn[mt][q] !== void 0 ? Et = yn[mt][q] : yn[C] !== void 0 && yn[C][q] !== void 0 ? Et = yn[C][q] : ut.disableWarning === !1 && Un.warn("Unable to look up font label for font '" + C + "', '" + q + "'. Refer to getFontList() for available fonts."), Et || ut.noFallback || (Et = yn.times[q]) == null && (Et = yn.times.normal), Et }, to = v.__private__.putInfo = function () { var C = Gn(), q = function (mt) { return mt }; for (var ut in f !== null && (q = Di.encryptor(C, 0)), lt("<<"), lt("/Producer (" + Bn(q("jsPDF " + _e.version)) + ")"), le) le.hasOwnProperty(ut) && le[ut] && lt("/" + ut.substr(0, 1).toUpperCase() + ut.substr(1) + " (" + Bn(q(le[ut])) + ")"); lt("/CreationDate (" + Bn(q(ht)) + ")"), lt(">>"), lt("endobj") }, cu = v.__private__.putCatalog = function (C) { var q = (C = C || {}).rootDictionaryObjId || Vr; switch (Gn(), lt("<<"), lt("/Type /Catalog"), lt("/Pages " + q + " 0 R"), Jt || (Jt = "fullwidth"), Jt) { case "fullwidth": lt("/OpenAction [3 0 R /FitH null]"); break; case "fullheight": lt("/OpenAction [3 0 R /FitV null]"); break; case "fullpage": lt("/OpenAction [3 0 R /Fit]"); break; case "original": lt("/OpenAction [3 0 R /XYZ null null 1]"); break; default: var ut = "" + Jt; ut.substr(ut.length - 1) === "%" && (Jt = parseInt(Jt) / 100), typeof Jt == "number" && lt("/OpenAction [3 0 R /XYZ null null " + ot(Jt) + "]") }switch (Ae || (Ae = "continuous"), Ae) { case "continuous": lt("/PageLayout /OneColumn"); break; case "single": lt("/PageLayout /SinglePage"); break; case "two": case "twoleft": lt("/PageLayout /TwoColumnLeft"); break; case "tworight": lt("/PageLayout /TwoColumnRight") }Ce && lt("/PageMode /" + Ce), xe.publish("putCatalog"), lt(">>"), lt("endobj") }, Sh = v.__private__.putTrailer = function () { lt("trailer"), lt("<<"), lt("/Size " + (at + 1)), lt("/Root " + at + " 0 R"), lt("/Info " + (at - 1) + " 0 R"), f !== null && lt("/Encrypt " + Di.oid + " 0 R"), lt("/ID [ <" + U + "> <" + U + "> ]"), lt(">>") }, Ah = v.__private__.putHeader = function () { lt("%PDF-" + x), lt("%ºß¬à") }, uu = v.__private__.putXRef = function () { var C = "0000000000"; lt("xref"), lt("0 " + (at + 1)), lt("0000000000 65535 f "); for (var q = 1; q <= at; q++)typeof ct[q] == "function" ? lt((C + ct[q]()).slice(-10) + " 00000 n ") : ct[q] !== void 0 ? lt((C + ct[q]).slice(-10) + " 00000 n ") : lt("0000000000 00000 n ") }, fa = v.__private__.buildDocument = function () {
    Kt(), Lt(gt), xe.publish("buildDocument"), Ah(), Qa(), su(), vr(), f !== null && bh(), to(), cu(); var C = xt; return uu(), Sh(), lt("startxref"), lt("" + C), lt("%%EOF"), Lt(kt[V]), gt.join(`
`)
  }, Gl = v.__private__.getBlob = function (C) { return new Blob([ae(C)], { type: "application/pdf" }) }, pa = v.output = v.__private__.output = Nr(function (C, q) { switch (typeof (q = q || {}) == "string" ? q = { filename: q } : q.filename = q.filename || "generated.pdf", C) { case void 0: return fa(); case "save": v.save(q.filename); break; case "arraybuffer": return ae(fa()); case "blob": return Gl(fa()); case "bloburi": case "bloburl": if (Me.URL !== void 0 && typeof Me.URL.createObjectURL == "function") return Me.URL && Me.URL.createObjectURL(Gl(fa())) || void 0; Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser."); break; case "datauristring": case "dataurlstring": var ut = "", mt = fa(); try { ut = Kb(mt) } catch { ut = Kb(unescape(encodeURIComponent(mt))) } return "data:application/pdf;filename=" + q.filename + ";base64," + ut; case "pdfobjectnewwindow": if (Object.prototype.toString.call(Me) === "[object Window]") { var Et = "https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js", jt = ' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"'; q.pdfObjectUrl && (Et = q.pdfObjectUrl, jt = ""); var Wt = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="' + Et + '"' + jt + '><\/script><script >PDFObject.embed("' + this.output("dataurlstring") + '", ' + JSON.stringify(q) + ");<\/script></body></html>", ie = Me.open(); return ie !== null && ie.document.write(Wt), ie } throw new Error("The option pdfobjectnewwindow just works in a browser-environment."); case "pdfjsnewwindow": if (Object.prototype.toString.call(Me) === "[object Window]") { var ge = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="' + (q.pdfJsUrl || "examples/PDF.js/web/viewer.html") + "?file=&downloadName=" + q.filename + '" width="500px" height="400px" /></body></html>', Be = Me.open(); if (Be !== null) { Be.document.write(ge); var De = this; Be.document.documentElement.querySelector("#pdfViewer").onload = function () { Be.document.title = q.filename, Be.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(De.output("bloburl")) } } return Be } throw new Error("The option pdfjsnewwindow just works in a browser-environment."); case "dataurlnewwindow": if (Object.prototype.toString.call(Me) !== "[object Window]") throw new Error("The option dataurlnewwindow just works in a browser-environment."); var en = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="' + this.output("datauristring", q) + '"></iframe></body></html>', $n = Me.open(); if ($n !== null && ($n.document.write(en), $n.document.title = q.filename), $n || typeof safari > "u") return $n; break; case "datauri": case "dataurl": return Me.document.location.href = this.output("datauristring", q); default: return null } }), $l = function (C) { return Array.isArray(Pn) === !0 && Pn.indexOf(C) > -1 }; switch (n) { case "pt": ne = 1; break; case "mm": ne = 72 / 25.4; break; case "cm": ne = 72 / 2.54; break; case "in": ne = 72; break; case "px": ne = $l("px_scaling") == 1 ? .75 : 96 / 72; break; case "pc": case "em": ne = 12; break; case "ex": ne = 6; break; default: if (typeof n != "number") throw new Error("Invalid unit: " + n); ne = n }var Di = null; ft(), Q(); var eo = function (C) { return f !== null ? Di.encryptor(C, 0) : function (q) { return q } }, ga = v.__private__.getPageInfo = v.getPageInfo = function (C) { if (isNaN(C) || C % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfo"); return { objId: Qt[C].objId, pageNumber: C, pageContext: Qt[C] } }, Pe = v.__private__.getPageInfoByObjId = function (C) { if (isNaN(C) || C % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId"); for (var q in Qt) if (Qt[q].objId === C) break; return ga(q) }, hu = v.__private__.getCurrentPageInfo = v.getCurrentPageInfo = function () { return { objId: Qt[V].objId, pageNumber: V, pageContext: Qt[V] } }; v.addPage = function () { return au.apply(this, arguments), this }, v.setPage = function () { return da.apply(this, arguments), Lt.call(this, kt[V]), this }, v.insertPage = function (C) { return this.addPage(), this.movePage(V, C), this }, v.movePage = function (C, q) { var ut, mt; if (C > q) { ut = kt[C], mt = Qt[C]; for (var Et = C; Et > q; Et--)kt[Et] = kt[Et - 1], Qt[Et] = Qt[Et - 1]; kt[q] = ut, Qt[q] = mt, this.setPage(q) } else if (C < q) { ut = kt[C], mt = Qt[C]; for (var jt = C; jt < q; jt++)kt[jt] = kt[jt + 1], Qt[jt] = Qt[jt + 1]; kt[q] = ut, Qt[q] = mt, this.setPage(q) } return this }, v.deletePage = function () { return ou.apply(this, arguments), this }, v.__private__.text = v.text = function (C, q, ut, mt, Et) {
    var jt, Wt, ie, ge, Be, De, en, $n, Kn, ci = (mt = mt || {}).scope || this; if (typeof C == "number" && typeof q == "number" && (typeof ut == "string" || Array.isArray(ut))) { var ui = ut; ut = q, q = C, C = ui } if (arguments[3] instanceof oe ? (j("The transform parameter of text() with a Matrix value"), Kn = Et) : (ie = arguments[4], ge = arguments[5], Mn(en = arguments[3]) === "object" && en !== null || (typeof ie == "string" && (ge = ie, ie = null), typeof en == "string" && (ge = en, en = null), typeof en == "number" && (ie = en, en = null), mt = { flags: en, angle: ie, align: ge })), isNaN(q) || isNaN(ut) || C == null) throw new Error("Invalid arguments passed to jsPDF.text"); if (C.length === 0) return ci; var ji = "", As = !1, Yr = typeof mt.lineHeightFactor == "number" ? mt.lineHeightFactor : $r, Es = ci.internal.scaleFactor; function vu(Ye) { return Ye = Ye.split("	").join(Array(mt.TabLen || 9).join(" ")), Bn(Ye, en) } function va(Ye) { for (var Xe, On = Ye.concat(), hi = [], ss = On.length; ss--;)typeof (Xe = On.shift()) == "string" ? hi.push(Xe) : Array.isArray(Ye) && (Xe.length === 1 || Xe[1] === void 0 && Xe[2] === void 0) ? hi.push(Xe[0]) : hi.push([Xe[0], Xe[1], Xe[2]]); return hi } function ba(Ye, Xe) { var On; if (typeof Ye == "string") On = Xe(Ye)[0]; else if (Array.isArray(Ye)) { for (var hi, ss, vo = Ye.concat(), bo = [], xa = vo.length; xa--;)typeof (hi = vo.shift()) == "string" ? bo.push(Xe(hi)[0]) : Array.isArray(hi) && typeof hi[0] == "string" && (ss = Xe(hi[0], hi[1], hi[2]), bo.push([ss[0], ss[1], ss[2]])); On = bo } return On } var ic = !1, oo = !0; if (typeof C == "string") ic = !0; else if (Array.isArray(C)) { var rc = C.concat(); Wt = []; for (var ll, xi = rc.length; xi--;)(typeof (ll = rc.shift()) != "string" || Array.isArray(ll) && typeof ll[0] != "string") && (oo = !1); ic = oo } if (ic === !1) throw new Error('Type of text must be string or Array. "' + C + '" is not recognized.'); typeof C == "string" && (C = C.match(/[\r?\n]/) ? C.split(/\r\n|\r|\n/g) : [C]); var lo = Zt / ci.internal.scaleFactor, cl = lo * (Yr - 1); switch (mt.baseline) { case "bottom": ut -= cl; break; case "top": ut += lo - cl; break; case "hanging": ut += lo - 2 * cl; break; case "middle": ut += lo / 2 - cl }if ((De = mt.maxWidth || 0) > 0 && (typeof C == "string" ? C = ci.splitTextToSize(C, De) : Object.prototype.toString.call(C) === "[object Array]" && (C = C.reduce(function (Ye, Xe) { return Ye.concat(ci.splitTextToSize(Xe, De)) }, []))), jt = { text: C, x: q, y: ut, options: mt, mutex: { pdfEscape: Bn, activeFontKey: Ne, fonts: Qe, activeFontSize: Zt } }, xe.publish("preProcessText", jt), C = jt.text, ie = (mt = jt.options).angle, !(Kn instanceof oe) && ie && typeof ie == "number") { ie *= Math.PI / 180, mt.rotationDirection === 0 && (ie = -ie), L === T.ADVANCED && (ie = -ie); var ul = Math.cos(ie), sc = Math.sin(ie); Kn = new oe(ul, sc, -sc, ul, 0, 0) } else ie && ie instanceof oe && (Kn = ie); L !== T.ADVANCED || Kn || (Kn = tn), (Be = mt.charSpace || Ql) !== void 0 && (ji += D(G(Be)) + ` Tc
`, this.setCharSpace(this.getCharSpace() || 0)), ($n = mt.horizontalScale) !== void 0 && (ji += D(100 * $n) + ` Tz
`), mt.lang; var Tr = -1, af = mt.renderingMode !== void 0 ? mt.renderingMode : mt.stroke, bu = ci.internal.getCurrentPageInfo().pageContext; switch (af) { case 0: case !1: case "fill": Tr = 0; break; case 1: case !0: case "stroke": Tr = 1; break; case 2: case "fillThenStroke": Tr = 2; break; case 3: case "invisible": Tr = 3; break; case 4: case "fillAndAddForClipping": Tr = 4; break; case 5: case "strokeAndAddPathForClipping": Tr = 5; break; case 6: case "fillThenStrokeAndAddToPathForClipping": Tr = 6; break; case 7: case "addToPathForClipping": Tr = 7 }var Rh = bu.usedRenderingMode !== void 0 ? bu.usedRenderingMode : -1; Tr !== -1 ? ji += Tr + ` Tr
`: Rh !== -1 && (ji += `0 Tr
`), Tr !== -1 && (bu.usedRenderingMode = Tr), ge = mt.align || "left"; var rs, Ii = Zt * Yr, co = ci.internal.pageSize.getWidth(), yu = Qe[Ne]; Be = mt.charSpace || Ql, De = mt.maxWidth || 0, en = Object.assign({ autoencode: !0, noBOM: !0 }, mt.flags); var ya = [], uo = function (Ye) { return ci.getStringUnitWidth(Ye, { font: yu, charSpace: Be, fontSize: Zt, doKerning: !1 }) * Zt / Es }; if (Object.prototype.toString.call(C) === "[object Array]") { var br; Wt = va(C), ge !== "left" && (rs = Wt.map(uo)); var $i, ho = 0; if (ge === "right") { q -= rs[0], C = [], xi = Wt.length; for (var Lr = 0; Lr < xi; Lr++)Lr === 0 ? ($i = Wr(q), br = $s(ut)) : ($i = G(ho - rs[Lr]), br = -Ii), C.push([Wt[Lr], $i, br]), ho = rs[Lr] } else if (ge === "center") { q -= rs[0] / 2, C = [], xi = Wt.length; for (var _s = 0; _s < xi; _s++)_s === 0 ? ($i = Wr(q), br = $s(ut)) : ($i = G((ho - rs[_s]) / 2), br = -Ii), C.push([Wt[_s], $i, br]), ho = rs[_s] } else if (ge === "left") { C = [], xi = Wt.length; for (var Ws = 0; Ws < xi; Ws++)C.push(Wt[Ws]) } else if (ge === "justify" && yu.encoding === "Identity-H") { C = [], xi = Wt.length, De = De !== 0 ? De : co; for (var Cs = 0, ti = 0; ti < xi; ti++)if (br = ti === 0 ? $s(ut) : -Ii, $i = ti === 0 ? Wr(q) : Cs, ti < xi - 1) { var Ns = G((De - rs[ti]) / (Wt[ti].split(" ").length - 1)), mi = Wt[ti].split(" "); C.push([mi[0] + " ", $i, br]), Cs = 0; for (var Mr = 1; Mr < mi.length; Mr++) { var hl = (uo(mi[Mr - 1] + " " + mi[Mr]) - uo(mi[Mr])) * Es + Ns; Mr == mi.length - 1 ? C.push([mi[Mr], hl, 0]) : C.push([mi[Mr] + " ", hl, 0]), Cs -= hl } } else C.push([Wt[ti], $i, br]); C.push(["", Cs, 0]) } else { if (ge !== "justify") throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".'); for (C = [], xi = Wt.length, De = De !== 0 ? De : co, ti = 0; ti < xi; ti++)br = ti === 0 ? $s(ut) : -Ii, $i = ti === 0 ? Wr(q) : 0, ti < xi - 1 ? ya.push(D(G((De - rs[ti]) / (Wt[ti].split(" ").length - 1)))) : ya.push(0), C.push([Wt[ti], $i, br]) } } var Ys = typeof mt.R2L == "boolean" ? mt.R2L : ce; Ys === !0 && (C = ba(C, function (Ye, Xe, On) { return [Ye.split("").reverse().join(""), Xe, On] })), jt = { text: C, x: q, y: ut, options: mt, mutex: { pdfEscape: Bn, activeFontKey: Ne, fonts: Qe, activeFontSize: Zt } }, xe.publish("postProcessText", jt), C = jt.text, As = jt.mutex.isHex || !1; var ac = Qe[Ne].encoding; ac !== "WinAnsiEncoding" && ac !== "StandardEncoding" || (C = ba(C, function (Ye, Xe, On) { return [vu(Ye), Xe, On] })), Wt = va(C), C = []; for (var fo, po, go, dl = 0, oc = 1, mo = Array.isArray(Wt[0]) ? oc : dl, wa = "", fl = function (Ye, Xe, On) {
      var hi = ""; return On instanceof oe ? (On = typeof mt.angle == "number" ? mn(On, new oe(1, 0, 0, 1, Ye, Xe)) : mn(new oe(1, 0, 0, 1, Ye, Xe), On), L === T.ADVANCED && (On = mn(new oe(1, 0, 0, -1, 0, 0), On)), hi = On.join(" ") + ` Tm
`) : hi = D(Ye) + " " + D(Xe) + ` Td
`, hi
    }, ei = 0; ei < Wt.length; ei++) {
      switch (wa = "", mo) { case oc: go = (As ? "<" : "(") + Wt[ei][0] + (As ? ">" : ")"), fo = parseFloat(Wt[ei][1]), po = parseFloat(Wt[ei][2]); break; case dl: go = (As ? "<" : "(") + Wt[ei] + (As ? ">" : ")"), fo = Wr(q), po = $s(ut) }ya !== void 0 && ya[ei] !== void 0 && (wa = ya[ei] + ` Tw
`), ei === 0 ? C.push(wa + fl(fo, po, Kn) + go) : mo === dl ? C.push(wa + go) : mo === oc && C.push(wa + fl(fo, po, Kn) + go)
    } C = mo === dl ? C.join(` Tj
T* `) : C.join(` Tj
`), C += ` Tj
`; var Xr = `BT
/`; return Xr += Ne + " " + Zt + ` Tf
`, Xr += D(Zt * Yr) + ` TL
`, Xr += al + `
`, Xr += ji, Xr += C, lt(Xr += "ET"), m[Ne] = !0, ci
  }; var Eh = v.__private__.clip = v.clip = function (C) { return lt(C === "evenodd" ? "W*" : "W"), this }; v.clipEvenOdd = function () { return Eh("evenodd") }, v.__private__.discardPath = v.discardPath = function () { return lt("n"), this }; var Rr = v.__private__.isValidStyle = function (C) { var q = !1; return [void 0, null, "S", "D", "F", "DF", "FD", "f", "f*", "B", "B*", "n"].indexOf(C) !== -1 && (q = !0), q }; v.__private__.setDefaultPathOperation = v.setDefaultPathOperation = function (C) { return Rr(C) && (d = C), this }; var ns = v.__private__.getStyle = v.getStyle = function (C) { var q = d; switch (C) { case "D": case "S": q = "S"; break; case "F": q = "f"; break; case "FD": case "DF": q = "B"; break; case "f": case "f*": case "B": case "B*": q = C }return q }, Wl = v.close = function () { return lt("h"), this }; v.stroke = function () { return lt("S"), this }, v.fill = function (C) { return qs("f", C), this }, v.fillEvenOdd = function (C) { return qs("f*", C), this }, v.fillStroke = function (C) { return qs("B", C), this }, v.fillStrokeEvenOdd = function (C) { return qs("B*", C), this }; var qs = function (C, q) { Mn(q) === "object" ? Yl(q, C) : lt(C) }, is = function (C) { C === null || L === T.ADVANCED && C === void 0 || (C = ns(C), lt(C)) }; function du(C, q, ut, mt, Et) { var jt = new bd(q || this.boundingBox, ut || this.xStep, mt || this.yStep, this.gState, Et || this.matrix); jt.stream = this.stream; var Wt = C + "$$" + this.cloneIndex++ + "$$"; return vn(Wt, jt), jt } var Yl = function (C, q) { var ut = Vi[C.key], mt = an[ut]; if (mt instanceof Wu) lt("q"), lt(_h(q)), mt.gState && v.setGState(mt.gState), lt(C.matrix.toString() + " cm"), lt("/" + ut + " sh"), lt("Q"); else if (mt instanceof bd) { var Et = new oe(1, 0, 0, -1, 0, ao()); C.matrix && (Et = Et.multiply(C.matrix || tn), ut = du.call(mt, C.key, C.boundingBox, C.xStep, C.yStep, Et).id), lt("q"), lt("/Pattern cs"), lt("/" + ut + " scn"), mt.gState && v.setGState(mt.gState), lt(q), lt("Q") } }, _h = function (C) { switch (C) { case "f": case "F": return "W n"; case "f*": return "W* n"; case "B": return "W S"; case "B*": return "W* S"; case "S": return "W S"; case "n": return "W n" } }, no = v.moveTo = function (C, q) { return lt(D(G(C)) + " " + D(nt(q)) + " m"), this }, Vs = v.lineTo = function (C, q) { return lt(D(G(C)) + " " + D(nt(q)) + " l"), this }, ma = v.curveTo = function (C, q, ut, mt, Et, jt) { return lt([D(G(C)), D(nt(q)), D(G(ut)), D(nt(mt)), D(G(Et)), D(nt(jt)), "c"].join(" ")), this }; v.__private__.line = v.line = function (C, q, ut, mt, Et) { if (isNaN(C) || isNaN(q) || isNaN(ut) || isNaN(mt) || !Rr(Et)) throw new Error("Invalid arguments passed to jsPDF.line"); return L === T.COMPAT ? this.lines([[ut - C, mt - q]], C, q, [1, 1], Et || "S") : this.lines([[ut - C, mt - q]], C, q, [1, 1]).stroke() }, v.__private__.lines = v.lines = function (C, q, ut, mt, Et, jt) { var Wt, ie, ge, Be, De, en, $n, Kn, ci, ui, ji, As; if (typeof C == "number" && (As = ut, ut = q, q = C, C = As), mt = mt || [1, 1], jt = jt || !1, isNaN(q) || isNaN(ut) || !Array.isArray(C) || !Array.isArray(mt) || !Rr(Et) || typeof jt != "boolean") throw new Error("Invalid arguments passed to jsPDF.lines"); for (no(q, ut), Wt = mt[0], ie = mt[1], Be = C.length, ui = q, ji = ut, ge = 0; ge < Be; ge++)(De = C[ge]).length === 2 ? (ui = De[0] * Wt + ui, ji = De[1] * ie + ji, Vs(ui, ji)) : (en = De[0] * Wt + ui, $n = De[1] * ie + ji, Kn = De[2] * Wt + ui, ci = De[3] * ie + ji, ui = De[4] * Wt + ui, ji = De[5] * ie + ji, ma(en, $n, Kn, ci, ui, ji)); return jt && Wl(), is(Et), this }, v.path = function (C) { for (var q = 0; q < C.length; q++) { var ut = C[q], mt = ut.c; switch (ut.op) { case "m": no(mt[0], mt[1]); break; case "l": Vs(mt[0], mt[1]); break; case "c": ma.apply(this, mt); break; case "h": Wl() } } return this }, v.__private__.rect = v.rect = function (C, q, ut, mt, Et) { if (isNaN(C) || isNaN(q) || isNaN(ut) || isNaN(mt) || !Rr(Et)) throw new Error("Invalid arguments passed to jsPDF.rect"); return L === T.COMPAT && (mt = -mt), lt([D(G(C)), D(nt(q)), D(G(ut)), D(G(mt)), "re"].join(" ")), is(Et), this }, v.__private__.triangle = v.triangle = function (C, q, ut, mt, Et, jt, Wt) { if (isNaN(C) || isNaN(q) || isNaN(ut) || isNaN(mt) || isNaN(Et) || isNaN(jt) || !Rr(Wt)) throw new Error("Invalid arguments passed to jsPDF.triangle"); return this.lines([[ut - C, mt - q], [Et - ut, jt - mt], [C - Et, q - jt]], C, q, [1, 1], Wt, !0), this }, v.__private__.roundedRect = v.roundedRect = function (C, q, ut, mt, Et, jt, Wt) { if (isNaN(C) || isNaN(q) || isNaN(ut) || isNaN(mt) || isNaN(Et) || isNaN(jt) || !Rr(Wt)) throw new Error("Invalid arguments passed to jsPDF.roundedRect"); var ie = 4 / 3 * (Math.SQRT2 - 1); return Et = Math.min(Et, .5 * ut), jt = Math.min(jt, .5 * mt), this.lines([[ut - 2 * Et, 0], [Et * ie, 0, Et, jt - jt * ie, Et, jt], [0, mt - 2 * jt], [0, jt * ie, -Et * ie, jt, -Et, jt], [2 * Et - ut, 0], [-Et * ie, 0, -Et, -jt * ie, -Et, -jt], [0, 2 * jt - mt], [0, -jt * ie, Et * ie, -jt, Et, -jt]], C + Et, q, [1, 1], Wt, !0), this }, v.__private__.ellipse = v.ellipse = function (C, q, ut, mt, Et) { if (isNaN(C) || isNaN(q) || isNaN(ut) || isNaN(mt) || !Rr(Et)) throw new Error("Invalid arguments passed to jsPDF.ellipse"); var jt = 4 / 3 * (Math.SQRT2 - 1) * ut, Wt = 4 / 3 * (Math.SQRT2 - 1) * mt; return no(C + ut, q), ma(C + ut, q - Wt, C + jt, q - mt, C, q - mt), ma(C - jt, q - mt, C - ut, q - Wt, C - ut, q), ma(C - ut, q + Wt, C - jt, q + mt, C, q + mt), ma(C + jt, q + mt, C + ut, q + Wt, C + ut, q), is(Et), this }, v.__private__.circle = v.circle = function (C, q, ut, mt) { if (isNaN(C) || isNaN(q) || isNaN(ut) || !Rr(mt)) throw new Error("Invalid arguments passed to jsPDF.circle"); return this.ellipse(C, q, ut, ut, mt) }, v.setFont = function (C, q, ut) { return ut && (q = F(q, ut)), Ne = lu(C, q, { disableWarning: !1 }), this }; var ar = v.__private__.getFont = v.getFont = function () { return Qe[lu.apply(v, arguments)] }; v.__private__.getFontList = v.getFontList = function () { var C, q, ut = {}; for (C in yn) if (yn.hasOwnProperty(C)) for (q in ut[C] = [], yn[C]) yn[C].hasOwnProperty(q) && ut[C].push(q); return ut }, v.addFont = function (C, q, ut, mt, Et) { var jt = ["StandardEncoding", "MacRomanEncoding", "Identity-H", "WinAnsiEncoding"]; return arguments[3] && jt.indexOf(arguments[3]) !== -1 ? Et = arguments[3] : arguments[3] && jt.indexOf(arguments[3]) == -1 && (ut = F(ut, mt)), Et = Et || "Identity-H", Ja.call(this, C, q, ut, Et) }; var $r, io = i.lineWidth || .200025, Gs = v.__private__.getLineWidth = v.getLineWidth = function () { return io }, Ch = v.__private__.setLineWidth = v.setLineWidth = function (C) { return io = C, lt(D(G(C)) + " w"), this }; v.__private__.setLineDash = _e.API.setLineDash = _e.API.setLineDashPattern = function (C, q) { if (C = C || [], q = q || 0, isNaN(q) || !Array.isArray(C)) throw new Error("Invalid arguments passed to jsPDF.setLineDash"); return C = C.map(function (ut) { return D(G(ut)) }).join(" "), q = D(G(q)), lt("[" + C + "] " + q + " d"), this }; var Xl = v.__private__.getLineHeight = v.getLineHeight = function () { return Zt * $r }; v.__private__.getLineHeight = v.getLineHeight = function () { return Zt * $r }; var Kl = v.__private__.setLineHeightFactor = v.setLineHeightFactor = function (C) { return typeof (C = C || 1.15) == "number" && ($r = C), this }, ro = v.__private__.getLineHeightFactor = v.getLineHeightFactor = function () { return $r }; Kl(i.lineHeight); var Wr = v.__private__.getHorizontalCoordinate = function (C) { return G(C) }, $s = v.__private__.getVerticalCoordinate = function (C) { return L === T.ADVANCED ? C : Qt[V].mediaBox.topRightY - Qt[V].mediaBox.bottomLeftY - G(C) }, ef = v.__private__.getHorizontalCoordinateString = v.getHorizontalCoordinateString = function (C) { return D(Wr(C)) }, so = v.__private__.getVerticalCoordinateString = v.getVerticalCoordinateString = function (C) { return D($s(C)) }, Ss = i.strokeColor || "0 G"; v.__private__.getStrokeColor = v.getDrawColor = function () { return rr(Ss) }, v.__private__.setStrokeColor = v.setDrawColor = function (C, q, ut, mt) { return Ss = sr({ ch1: C, ch2: q, ch3: ut, ch4: mt, pdfColorType: "draw", precision: 2 }), lt(Ss), this }; var sl = i.fillColor || "0 g"; v.__private__.getFillColor = v.getFillColor = function () { return rr(sl) }, v.__private__.setFillColor = v.setFillColor = function (C, q, ut, mt) { return sl = sr({ ch1: C, ch2: q, ch3: ut, ch4: mt, pdfColorType: "fill", precision: 2 }), lt(sl), this }; var al = i.textColor || "0 g", nf = v.__private__.getTextColor = v.getTextColor = function () { return rr(al) }; v.__private__.setTextColor = v.setTextColor = function (C, q, ut, mt) { return al = sr({ ch1: C, ch2: q, ch3: ut, ch4: mt, pdfColorType: "text", precision: 3 }), this }; var Ql = i.charSpace, rf = v.__private__.getCharSpace = v.getCharSpace = function () { return parseFloat(Ql || 0) }; v.__private__.setCharSpace = v.setCharSpace = function (C) { if (isNaN(C)) throw new Error("Invalid argument passed to jsPDF.setCharSpace"); return Ql = C, this }; var fu = 0; v.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, v.__private__.setLineCap = v.setLineCap = function (C) { var q = v.CapJoinStyles[C]; if (q === void 0) throw new Error("Line cap style of '" + C + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return fu = q, lt(q + " J"), this }; var Zl = 0; v.__private__.setLineJoin = v.setLineJoin = function (C) { var q = v.CapJoinStyles[C]; if (q === void 0) throw new Error("Line join style of '" + C + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return Zl = q, lt(q + " j"), this }, v.__private__.setLineMiterLimit = v.__private__.setMiterLimit = v.setLineMiterLimit = v.setMiterLimit = function (C) { if (C = C || 0, isNaN(C)) throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit"); return lt(D(G(C)) + " M"), this }, v.GState = s0, v.setGState = function (C) { (C = typeof C == "string" ? In[mr[C]] : Nh(null, C)).equals(nr) || (lt("/" + C.id + " gs"), nr = C) }; var Nh = function (C, q) { if (!C || !mr[C]) { var ut = !1; for (var mt in In) if (In.hasOwnProperty(mt) && In[mt].equals(q)) { ut = !0; break } if (ut) q = In[mt]; else { var Et = "GS" + (Object.keys(In).length + 1).toString(10); In[Et] = q, q.id = Et } return C && (mr[C] = q.id), xe.publish("addGState", q), q } }; v.addGState = function (C, q) { return Nh(C, q), this }, v.saveGraphicsState = function () { return lt("q"), er.push({ key: Ne, size: Zt, color: al }), this }, v.restoreGraphicsState = function () { lt("Q"); var C = er.pop(); return Ne = C.key, Zt = C.size, al = C.color, nr = null, this }, v.setCurrentTransformationMatrix = function (C) { return lt(C.toString() + " cm"), this }, v.comment = function (C) { return lt("#" + C), this }; var Jl = function (C, q) { var ut = C || 0; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return ut }, set: function (jt) { isNaN(jt) || (ut = parseFloat(jt)) } }); var mt = q || 0; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return mt }, set: function (jt) { isNaN(jt) || (mt = parseFloat(jt)) } }); var Et = "pt"; return Object.defineProperty(this, "type", { enumerable: !0, get: function () { return Et }, set: function (jt) { Et = jt.toString() } }), this }, pu = function (C, q, ut, mt) { Jl.call(this, C, q), this.type = "rect"; var Et = ut || 0; Object.defineProperty(this, "w", { enumerable: !0, get: function () { return Et }, set: function (Wt) { isNaN(Wt) || (Et = parseFloat(Wt)) } }); var jt = mt || 0; return Object.defineProperty(this, "h", { enumerable: !0, get: function () { return jt }, set: function (Wt) { isNaN(Wt) || (jt = parseFloat(Wt)) } }), this }, gu = function () { this.page = Fn, this.currentPage = V, this.pages = kt.slice(0), this.pagesContext = Qt.slice(0), this.x = Xn, this.y = We, this.matrix = tr, this.width = ol(V), this.height = ao(V), this.outputDestination = $t, this.id = "", this.objectNumber = -1 }; gu.prototype.restore = function () { Fn = this.page, V = this.currentPage, Qt = this.pagesContext, kt = this.pages, Xn = this.x, We = this.y, tr = this.matrix, nc(V, this.width), mu(V, this.height), $t = this.outputDestination }; var tc = function (C, q, ut, mt, Et) { En.push(new gu), Fn = V = 0, kt = [], Xn = C, We = q, tr = Et, rl([ut, mt]) }, sf = function (C) { if (ir[C]) En.pop().restore(); else { var q = new gu, ut = "Xo" + (Object.keys(un).length + 1).toString(10); q.id = ut, ir[C] = ut, un[ut] = q, xe.publish("addFormObject", q), En.pop().restore() } }; for (var ec in v.beginFormObject = function (C, q, ut, mt, Et) { return tc(C, q, ut, mt, Et), this }, v.endFormObject = function (C) { return sf(C), this }, v.doFormObject = function (C, q) { var ut = un[ir[C]]; return lt("q"), lt(q.toString() + " cm"), lt("/" + ut.id + " Do"), lt("Q"), this }, v.getFormObject = function (C) { var q = un[ir[C]]; return { x: q.x, y: q.y, width: q.width, height: q.height, matrix: q.matrix } }, v.save = function (C, q) { return C = C || "generated.pdf", (q = q || {}).returnPromise = q.returnPromise || !1, q.returnPromise === !1 ? (Vu(Gl(fa()), C), typeof Vu.unload == "function" && Me.setTimeout && setTimeout(Vu.unload, 911), this) : new Promise(function (ut, mt) { try { var Et = Vu(Gl(fa()), C); typeof Vu.unload == "function" && Me.setTimeout && setTimeout(Vu.unload, 911), ut(Et) } catch (jt) { mt(jt.message) } }) }, _e.API) _e.API.hasOwnProperty(ec) && (ec === "events" && _e.API.events.length ? function (C, q) { var ut, mt, Et; for (Et = q.length - 1; Et !== -1; Et--)ut = q[Et][0], mt = q[Et][1], C.subscribe.apply(C, [ut].concat(typeof mt == "function" ? [mt] : mt)) }(xe, _e.API.events) : v[ec] = _e.API[ec]); var ol = v.getPageWidth = function (C) { return (Qt[C = C || V].mediaBox.topRightX - Qt[C].mediaBox.bottomLeftX) / ne }, nc = v.setPageWidth = function (C, q) { Qt[C].mediaBox.topRightX = q * ne + Qt[C].mediaBox.bottomLeftX }, ao = v.getPageHeight = function (C) { return (Qt[C = C || V].mediaBox.topRightY - Qt[C].mediaBox.bottomLeftY) / ne }, mu = v.setPageHeight = function (C, q) { Qt[C].mediaBox.topRightY = q * ne + Qt[C].mediaBox.bottomLeftY }; return v.internal = { pdfEscape: Bn, getStyle: ns, getFont: ar, getFontSize: Xt, getCharSpace: rf, getTextColor: nf, getLineHeight: Xl, getLineHeightFactor: ro, getLineWidth: Gs, write: se, getHorizontalCoordinate: Wr, getVerticalCoordinate: $s, getCoordinateString: ef, getVerticalCoordinateString: so, collections: {}, newObject: Gn, newAdditionalObject: tl, newObjectDeferred: _n, newObjectDeferredBegin: _r, getFilters: Cr, putStream: Gi, events: xe, scaleFactor: ne, pageSize: { getWidth: function () { return ol(V) }, setWidth: function (C) { nc(V, C) }, getHeight: function () { return ao(V) }, setHeight: function (C) { mu(V, C) } }, encryptionOptions: f, encryption: Di, getEncryptor: eo, output: pa, getNumberOfPages: xh, pages: kt, out: lt, f2: ot, f3: z, getPageInfo: ga, getPageInfoByObjId: Pe, getCurrentPageInfo: hu, getPDFVersion: y, Point: Jl, Rectangle: pu, Matrix: oe, hasHotfix: $l }, Object.defineProperty(v.internal.pageSize, "width", { get: function () { return ol(V) }, set: function (C) { nc(V, C) }, enumerable: !0, configurable: !0 }), Object.defineProperty(v.internal.pageSize, "height", { get: function () { return ao(V) }, set: function (C) { mu(V, C) }, enumerable: !0, configurable: !0 }), wh.call(v, Vt), Ne = "F1", au(r, e), xe.publish("initialized"), v
} dd.prototype.lsbFirstWord = function (i) { return String.fromCharCode(i >> 0 & 255, i >> 8 & 255, i >> 16 & 255, i >> 24 & 255) }, dd.prototype.toHexString = function (i) { return i.split("").map(function (t) { return ("0" + (255 & t.charCodeAt(0)).toString(16)).slice(-2) }).join("") }, dd.prototype.hexToBytes = function (i) { for (var t = [], e = 0; e < i.length; e += 2)t.push(String.fromCharCode(parseInt(i.substr(e, 2), 16))); return t.join("") }, dd.prototype.processOwnerPassword = function (i, t) { return Zb(Qb(t).substr(0, 5), i) }, dd.prototype.encryptor = function (i, t) { var e = Qb(this.encryptionKey + String.fromCharCode(255 & i, i >> 8 & 255, i >> 16 & 255, 255 & t, t >> 8 & 255)).substr(0, 10); return function (n) { return Zb(e, n) } }, s0.prototype.equals = function (i) { var t, e = "id,objectNumber,equals"; if (!i || Mn(i) !== Mn(this)) return !1; var n = 0; for (t in this) if (!(e.indexOf(t) >= 0)) { if (this.hasOwnProperty(t) && !i.hasOwnProperty(t) || this[t] !== i[t]) return !1; n++ } for (t in i) i.hasOwnProperty(t) && e.indexOf(t) < 0 && n--; return n === 0 }, _e.API = { events: [] }, _e.version = "3.0.1"; var wi = _e.API, E2 = 1, mh = function (i) { return i.replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, ld = function (i) { return i.replace(/\\\\/g, "\\").replace(/\\\(/g, "(").replace(/\\\)/g, ")") }, Ue = function (i) { return i.toFixed(2) }, jc = function (i) { return i.toFixed(5) }; wi.__acroform__ = {}; var ys = function (i, t) { i.prototype = Object.create(t.prototype), i.prototype.constructor = i }, WS = function (i) { return i * E2 }, Io = function (i) { var t = new AN, e = pe.internal.getHeight(i) || 0, n = pe.internal.getWidth(i) || 0; return t.BBox = [0, 0, Number(Ue(n)), Number(Ue(e))], t }, XB = wi.__acroform__.setBit = function (i, t) { if (i = i || 0, t = t || 0, isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit"); return i |= 1 << t }, KB = wi.__acroform__.clearBit = function (i, t) { if (i = i || 0, t = t || 0, isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit"); return i &= ~(1 << t) }, QB = wi.__acroform__.getBit = function (i, t) { if (isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit"); return (i & 1 << t) == 0 ? 0 : 1 }, Li = wi.__acroform__.getBitForPdf = function (i, t) { if (isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf"); return QB(i, t - 1) }, Mi = wi.__acroform__.setBitForPdf = function (i, t) { if (isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf"); return XB(i, t - 1) }, Pi = wi.__acroform__.clearBitForPdf = function (i, t) { if (isNaN(i) || isNaN(t)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf"); return KB(i, t - 1) }, ZB = wi.__acroform__.calculateCoordinates = function (i, t) { var e = t.internal.getHorizontalCoordinate, n = t.internal.getVerticalCoordinate, r = i[0], s = i[1], o = i[2], c = i[3], u = {}; return u.lowerLeft_X = e(r) || 0, u.lowerLeft_Y = n(s + c) || 0, u.upperRight_X = e(r + o) || 0, u.upperRight_Y = n(s) || 0, [Number(Ue(u.lowerLeft_X)), Number(Ue(u.lowerLeft_Y)), Number(Ue(u.upperRight_X)), Number(Ue(u.upperRight_Y))] }, JB = function (i) {
  if (i.appearanceStreamContent) return i.appearanceStreamContent; if (i.V || i.DV) {
    var t = [], e = i._V || i.DV, n = Jb(i, e), r = i.scope.internal.getFont(i.fontName, i.fontStyle).id; t.push("/Tx BMC"), t.push("q"), t.push("BT"), t.push(i.scope.__private__.encodeColorString(i.color)), t.push("/" + r + " " + Ue(n.fontSize) + " Tf"), t.push("1 0 0 1 0 0 Tm"), t.push(n.text), t.push("ET"), t.push("Q"), t.push("EMC"); var s = Io(i); return s.scope = i.scope, s.stream = t.join(`
`), s
  }
}, Jb = function (i, t) {
  var e = i.fontSize === 0 ? i.maxFontSize : i.fontSize, n = { text: "", fontSize: "" }, r = (t = (t = t.substr(0, 1) == "(" ? t.substr(1) : t).substr(t.length - 1) == ")" ? t.substr(0, t.length - 1) : t).split(" "); r = i.multiline ? r.map(function (z) {
    return z.split(`
`)
  }) : r.map(function (z) { return [z] }); var s = e, o = pe.internal.getHeight(i) || 0; o = o < 0 ? -o : o; var c = pe.internal.getWidth(i) || 0; c = c < 0 ? -c : c; var u = function (z, G, it) { if (z + 1 < r.length) { var nt = G + " " + r[z + 1][0]; return Am(nt, i, it).width <= c - 4 } return !1 }; s++; t: for (; s > 0;) {
    t = "", s--; var d, f, p = Am("3", i, s).height, m = i.multiline ? o - s : (o - p) / 2, v = m += 2, x = 0, y = 0, E = 0; if (s <= 0) {
      t = `(...) Tj
`, t += "% Width of Text: " + Am(t, i, s = 12).width + ", FieldWidth:" + c + `
`; break
    } for (var A = "", T = 0, L = 0; L < r.length; L++)if (r.hasOwnProperty(L)) {
      var k = !1; if (r[L].length !== 1 && E !== r[L].length - 1) { if ((p + 2) * (T + 2) + 2 > o) continue t; A += r[L][E], k = !0, y = L, L-- } else { A = (A += r[L][E] + " ").substr(A.length - 1) == " " ? A.substr(0, A.length - 1) : A; var O = parseInt(L), F = u(O, A, s), D = L >= r.length - 1; if (F && !D) { A += " ", E = 0; continue } if (F || D) { if (D) y = O; else if (i.multiline && (p + 2) * (T + 2) + 2 > o) continue t } else { if (!i.multiline || (p + 2) * (T + 2) + 2 > o) continue t; y = O } } for (var j = "", J = x; J <= y; J++) { var ot = r[J]; if (i.multiline) { if (J === y) { j += ot[E] + " ", E = (E + 1) % ot.length; continue } if (J === x) { j += ot[ot.length - 1] + " "; continue } } j += ot[0] + " " } switch (j = j.substr(j.length - 1) == " " ? j.substr(0, j.length - 1) : j, f = Am(j, i, s).width, i.textAlign) { case "right": d = c - f - 2; break; case "center": d = (c - f) / 2; break; case "left": default: d = 2 }t += Ue(d) + " " + Ue(v) + ` Td
`, t += "(" + mh(j) + `) Tj
`, t += -Ue(d) + ` 0 Td
`, v = -(s + 2), f = 0, x = k ? y : y + 1, T++, A = ""
    } break
  } return n.text = t, n.fontSize = s, n
}, Am = function (i, t, e) { var n = t.scope.internal.getFont(t.fontName, t.fontStyle), r = t.scope.getStringUnitWidth(i, { font: n, fontSize: parseFloat(e), charSpace: 0 }) * parseFloat(e); return { height: t.scope.getStringUnitWidth("3", { font: n, fontSize: parseFloat(e), charSpace: 0 }) * parseFloat(e) * 1.5, width: r } }, t9 = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: !1, internal: null, isInitialized: !1 }, e9 = function (i, t) { var e = { type: "reference", object: i }; t.internal.getPageInfo(i.page).pageContext.annotations.find(function (n) { return n.type === e.type && n.object === e.object }) === void 0 && t.internal.getPageInfo(i.page).pageContext.annotations.push(e) }, n9 = function (i, t) { for (var e in i) if (i.hasOwnProperty(e)) { var n = e, r = i[e]; t.internal.newObjectDeferredBegin(r.objId, !0), Mn(r) === "object" && typeof r.putStream == "function" && r.putStream(), delete i[n] } }, i9 = function (i, t) {
  if (t.scope = i, i.internal !== void 0 && (i.internal.acroformPlugin === void 0 || i.internal.acroformPlugin.isInitialized === !1)) {
    if (Xa.FieldNum = 0, i.internal.acroformPlugin = JSON.parse(JSON.stringify(t9)), i.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error("Exception while creating AcroformDictionary"); E2 = i.internal.scaleFactor, i.internal.acroformPlugin.acroFormDictionaryRoot = new EN, i.internal.acroformPlugin.acroFormDictionaryRoot.scope = i, i.internal.acroformPlugin.acroFormDictionaryRoot._eventID = i.internal.events.subscribe("postPutResources", function () { (function (e) { e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID, e.internal.acroformPlugin.printedOut = !0 })(i) }), i.internal.events.subscribe("buildDocument", function () { (function (e) { e.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0; var n = e.internal.acroformPlugin.acroFormDictionaryRoot.Fields; for (var r in n) if (n.hasOwnProperty(r)) { var s = n[r]; s.objId = void 0, s.hasAnnotation && e9(s, e) } })(i) }), i.internal.events.subscribe("putCatalog", function () { (function (e) { if (e.internal.acroformPlugin.acroFormDictionaryRoot === void 0) throw new Error("putCatalogCallback: Root missing."); e.internal.write("/AcroForm " + e.internal.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R") })(i) }), i.internal.events.subscribe("postPutPages", function (e) {
      (function (n, r) {
        var s = !n; for (var o in n || (r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId, !0), r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), n = n || r.internal.acroformPlugin.acroFormDictionaryRoot.Kids) if (n.hasOwnProperty(o)) {
          var c = n[o], u = [], d = c.Rect; if (c.Rect && (c.Rect = ZB(c.Rect, r)), r.internal.newObjectDeferredBegin(c.objId, !0), c.DA = pe.createDefaultAppearanceStream(c), Mn(c) === "object" && typeof c.getKeyValueListForStream == "function" && (u = c.getKeyValueListForStream()), c.Rect = d, c.hasAppearanceStream && !c.appearanceStreamContent) { var f = JB(c); u.push({ key: "AP", value: "<</N " + f + ">>" }), r.internal.acroformPlugin.xForms.push(f) } if (c.appearanceStreamContent) {
            var p = ""; for (var m in c.appearanceStreamContent) if (c.appearanceStreamContent.hasOwnProperty(m)) { var v = c.appearanceStreamContent[m]; if (p += "/" + m + " ", p += "<<", Object.keys(v).length >= 1 || Array.isArray(v)) { for (var o in v) if (v.hasOwnProperty(o)) { var x = v[o]; typeof x == "function" && (x = x.call(r, c)), p += "/" + o + " " + x + " ", r.internal.acroformPlugin.xForms.indexOf(x) >= 0 || r.internal.acroformPlugin.xForms.push(x) } } else typeof (x = v) == "function" && (x = x.call(r, c)), p += "/" + o + " " + x, r.internal.acroformPlugin.xForms.indexOf(x) >= 0 || r.internal.acroformPlugin.xForms.push(x); p += ">>" } u.push({
              key: "AP", value: `<<
`+ p + ">>"
            })
          } r.internal.putStream({ additionalKeyValues: u, objectId: c.objId }), r.internal.out("endobj")
        } s && n9(r.internal.acroformPlugin.xForms, r)
      })(e, i)
    }), i.internal.acroformPlugin.isInitialized = !0
  }
}, SN = wi.__acroform__.arrayToPdfArray = function (i, t, e) { var n = function (o) { return o }; if (Array.isArray(i)) { for (var r = "[", s = 0; s < i.length; s++)switch (s !== 0 && (r += " "), Mn(i[s])) { case "boolean": case "number": case "object": r += i[s].toString(); break; case "string": i[s].substr(0, 1) !== "/" ? (t !== void 0 && e && (n = e.internal.getEncryptor(t)), r += "(" + mh(n(i[s].toString())) + ")") : r += i[s].toString() }return r += "]" } throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray") }, V1 = function (i, t, e) { var n = function (r) { return r }; return t !== void 0 && e && (n = e.internal.getEncryptor(t)), (i = i || "").toString(), i = "(" + mh(n(i)) + ")" }, Vo = function () { this._objId = void 0, this._scope = void 0, Object.defineProperty(this, "objId", { get: function () { if (this._objId === void 0) { if (this.scope === void 0) return; this._objId = this.scope.internal.newObjectDeferred() } return this._objId }, set: function (i) { this._objId = i } }), Object.defineProperty(this, "scope", { value: this._scope, writable: !0 }) }; Vo.prototype.toString = function () { return this.objId + " 0 R" }, Vo.prototype.putStream = function () { var i = this.getKeyValueListForStream(); this.scope.internal.putStream({ data: this.stream, additionalKeyValues: i, objectId: this.objId }), this.scope.internal.out("endobj") }, Vo.prototype.getKeyValueListForStream = function () { var i = [], t = Object.getOwnPropertyNames(this).filter(function (s) { return s != "content" && s != "appearanceStreamContent" && s != "scope" && s != "objId" && s.substring(0, 1) != "_" }); for (var e in t) if (Object.getOwnPropertyDescriptor(this, t[e]).configurable === !1) { var n = t[e], r = this[n]; r && (Array.isArray(r) ? i.push({ key: n, value: SN(r, this.objId, this.scope) }) : r instanceof Vo ? (r.scope = this.scope, i.push({ key: n, value: r.objId + " 0 R" })) : typeof r != "function" && i.push({ key: n, value: r })) } return i }; var AN = function () { Vo.call(this), Object.defineProperty(this, "Type", { value: "/XObject", configurable: !1, writable: !0 }), Object.defineProperty(this, "Subtype", { value: "/Form", configurable: !1, writable: !0 }), Object.defineProperty(this, "FormType", { value: 1, configurable: !1, writable: !0 }); var i, t = []; Object.defineProperty(this, "BBox", { configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "Resources", { value: "2 0 R", configurable: !1, writable: !0 }), Object.defineProperty(this, "stream", { enumerable: !1, configurable: !0, set: function (e) { i = e.trim() }, get: function () { return i || null } }) }; ys(AN, Vo); var EN = function () { Vo.call(this); var i, t = []; Object.defineProperty(this, "Kids", { enumerable: !1, configurable: !0, get: function () { return t.length > 0 ? t : void 0 } }), Object.defineProperty(this, "Fields", { enumerable: !1, configurable: !1, get: function () { return t } }), Object.defineProperty(this, "DA", { enumerable: !1, configurable: !1, get: function () { if (i) { var e = function (n) { return n }; return this.scope && (e = this.scope.internal.getEncryptor(this.objId)), "(" + mh(e(i)) + ")" } }, set: function (e) { i = e } }) }; ys(EN, Vo); var Xa = function i() { Vo.call(this); var t = 4; Object.defineProperty(this, "F", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (A) { if (isNaN(A)) throw new Error('Invalid value "' + A + '" for attribute F supplied.'); t = A } }), Object.defineProperty(this, "showWhenPrinted", { enumerable: !0, configurable: !0, get: function () { return !!Li(t, 3) }, set: function (A) { A ? this.F = Mi(t, 3) : this.F = Pi(t, 3) } }); var e = 0; Object.defineProperty(this, "Ff", { enumerable: !1, configurable: !1, get: function () { return e }, set: function (A) { if (isNaN(A)) throw new Error('Invalid value "' + A + '" for attribute Ff supplied.'); e = A } }); var n = []; Object.defineProperty(this, "Rect", { enumerable: !1, configurable: !1, get: function () { if (n.length !== 0) return n }, set: function (A) { n = A !== void 0 ? A : [] } }), Object.defineProperty(this, "x", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[0]) ? 0 : n[0] }, set: function (A) { n[0] = A } }), Object.defineProperty(this, "y", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[1]) ? 0 : n[1] }, set: function (A) { n[1] = A } }), Object.defineProperty(this, "width", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[2]) ? 0 : n[2] }, set: function (A) { n[2] = A } }), Object.defineProperty(this, "height", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[3]) ? 0 : n[3] }, set: function (A) { n[3] = A } }); var r = ""; Object.defineProperty(this, "FT", { enumerable: !0, configurable: !1, get: function () { return r }, set: function (A) { switch (A) { case "/Btn": case "/Tx": case "/Ch": case "/Sig": r = A; break; default: throw new Error('Invalid value "' + A + '" for attribute FT supplied.') } } }); var s = null; Object.defineProperty(this, "T", { enumerable: !0, configurable: !1, get: function () { if (!s || s.length < 1) { if (this instanceof a0) return; s = "FieldObject" + i.FieldNum++ } var A = function (T) { return T }; return this.scope && (A = this.scope.internal.getEncryptor(this.objId)), "(" + mh(A(s)) + ")" }, set: function (A) { s = A.toString() } }), Object.defineProperty(this, "fieldName", { configurable: !0, enumerable: !0, get: function () { return s }, set: function (A) { s = A } }); var o = "helvetica"; Object.defineProperty(this, "fontName", { enumerable: !0, configurable: !0, get: function () { return o }, set: function (A) { o = A } }); var c = "normal"; Object.defineProperty(this, "fontStyle", { enumerable: !0, configurable: !0, get: function () { return c }, set: function (A) { c = A } }); var u = 0; Object.defineProperty(this, "fontSize", { enumerable: !0, configurable: !0, get: function () { return u }, set: function (A) { u = A } }); var d = void 0; Object.defineProperty(this, "maxFontSize", { enumerable: !0, configurable: !0, get: function () { return d === void 0 ? 50 / E2 : d }, set: function (A) { d = A } }); var f = "black"; Object.defineProperty(this, "color", { enumerable: !0, configurable: !0, get: function () { return f }, set: function (A) { f = A } }); var p = "/F1 0 Tf 0 g"; Object.defineProperty(this, "DA", { enumerable: !0, configurable: !1, get: function () { if (!(!p || this instanceof a0 || this instanceof th)) return V1(p, this.objId, this.scope) }, set: function (A) { A = A.toString(), p = A } }); var m = null; Object.defineProperty(this, "DV", { enumerable: !1, configurable: !1, get: function () { if (m) return this instanceof pr ? m : V1(m, this.objId, this.scope) }, set: function (A) { A = A.toString(), m = this instanceof pr ? A : A.substr(0, 1) === "(" ? ld(A.substr(1, A.length - 2)) : ld(A) } }), Object.defineProperty(this, "defaultValue", { enumerable: !0, configurable: !0, get: function () { return this instanceof pr ? ld(m.substr(1, m.length - 1)) : m }, set: function (A) { A = A.toString(), m = this instanceof pr ? "/" + A : A } }); var v = null; Object.defineProperty(this, "_V", { enumerable: !1, configurable: !1, get: function () { if (v) return v }, set: function (A) { this.V = A } }), Object.defineProperty(this, "V", { enumerable: !1, configurable: !1, get: function () { if (v) return this instanceof pr ? v : V1(v, this.objId, this.scope) }, set: function (A) { A = A.toString(), v = this instanceof pr ? A : A.substr(0, 1) === "(" ? ld(A.substr(1, A.length - 2)) : ld(A) } }), Object.defineProperty(this, "value", { enumerable: !0, configurable: !0, get: function () { return this instanceof pr ? ld(v.substr(1, v.length - 1)) : v }, set: function (A) { A = A.toString(), v = this instanceof pr ? "/" + A : A } }), Object.defineProperty(this, "hasAnnotation", { enumerable: !0, configurable: !0, get: function () { return this.Rect } }), Object.defineProperty(this, "Type", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Annot" : null } }), Object.defineProperty(this, "Subtype", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Widget" : null } }); var x, y = !1; Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return y }, set: function (A) { A = !!A, y = A } }), Object.defineProperty(this, "page", { enumerable: !0, configurable: !0, get: function () { if (x) return x }, set: function (A) { x = A } }), Object.defineProperty(this, "readOnly", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 1) }, set: function (A) { A ? this.Ff = Mi(this.Ff, 1) : this.Ff = Pi(this.Ff, 1) } }), Object.defineProperty(this, "required", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 2) }, set: function (A) { A ? this.Ff = Mi(this.Ff, 2) : this.Ff = Pi(this.Ff, 2) } }), Object.defineProperty(this, "noExport", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 3) }, set: function (A) { A ? this.Ff = Mi(this.Ff, 3) : this.Ff = Pi(this.Ff, 3) } }); var E = null; Object.defineProperty(this, "Q", { enumerable: !0, configurable: !1, get: function () { if (E !== null) return E }, set: function (A) { if ([0, 1, 2].indexOf(A) === -1) throw new Error('Invalid value "' + A + '" for attribute Q supplied.'); E = A } }), Object.defineProperty(this, "textAlign", { get: function () { var A; switch (E) { case 0: default: A = "left"; break; case 1: A = "center"; break; case 2: A = "right" }return A }, configurable: !0, enumerable: !0, set: function (A) { switch (A) { case "right": case 2: E = 2; break; case "center": case 1: E = 1; break; case "left": case 0: default: E = 0 } } }) }; ys(Xa, Vo); var Cd = function () { Xa.call(this), this.FT = "/Ch", this.V = "()", this.fontName = "zapfdingbats"; var i = 0; Object.defineProperty(this, "TI", { enumerable: !0, configurable: !1, get: function () { return i }, set: function (e) { i = e } }), Object.defineProperty(this, "topIndex", { enumerable: !0, configurable: !0, get: function () { return i }, set: function (e) { i = e } }); var t = []; Object.defineProperty(this, "Opt", { enumerable: !0, configurable: !1, get: function () { return SN(t, this.objId, this.scope) }, set: function (e) { var n, r; r = [], typeof (n = e) == "string" && (r = function (s, o, c) { c || (c = 1); for (var u, d = []; u = o.exec(s);)d.push(u[c]); return d }(n, /\((.*?)\)/g)), t = r } }), this.getOptions = function () { return t }, this.setOptions = function (e) { t = e, this.sort && t.sort() }, this.addOption = function (e) { e = (e = e || "").toString(), t.push(e), this.sort && t.sort() }, this.removeOption = function (e, n) { for (n = n || !1, e = (e = e || "").toString(); t.indexOf(e) !== -1 && (t.splice(t.indexOf(e), 1), n !== !1);); }, Object.defineProperty(this, "combo", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 18) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 18) : this.Ff = Pi(this.Ff, 18) } }), Object.defineProperty(this, "edit", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 19) }, set: function (e) { this.combo === !0 && (e ? this.Ff = Mi(this.Ff, 19) : this.Ff = Pi(this.Ff, 19)) } }), Object.defineProperty(this, "sort", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 20) }, set: function (e) { e ? (this.Ff = Mi(this.Ff, 20), t.sort()) : this.Ff = Pi(this.Ff, 20) } }), Object.defineProperty(this, "multiSelect", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 22) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 22) : this.Ff = Pi(this.Ff, 22) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 23) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 23) : this.Ff = Pi(this.Ff, 23) } }), Object.defineProperty(this, "commitOnSelChange", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 27) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 27) : this.Ff = Pi(this.Ff, 27) } }), this.hasAppearanceStream = !1 }; ys(Cd, Xa); var Nd = function () { Cd.call(this), this.fontName = "helvetica", this.combo = !1 }; ys(Nd, Cd); var Rd = function () { Nd.call(this), this.combo = !0 }; ys(Rd, Nd); var zm = function () { Rd.call(this), this.edit = !0 }; ys(zm, Rd); var pr = function () {
  Xa.call(this), this.FT = "/Btn", Object.defineProperty(this, "noToggleToOff", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 15) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 15) : this.Ff = Pi(this.Ff, 15) } }), Object.defineProperty(this, "radio", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 16) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 16) : this.Ff = Pi(this.Ff, 16) } }), Object.defineProperty(this, "pushButton", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 17) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 17) : this.Ff = Pi(this.Ff, 17) } }), Object.defineProperty(this, "radioIsUnison", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 26) }, set: function (e) { e ? this.Ff = Mi(this.Ff, 26) : this.Ff = Pi(this.Ff, 26) } }); var i, t = {}; Object.defineProperty(this, "MK", {
    enumerable: !1, configurable: !1, get: function () {
      var e = function (s) { return s }; if (this.scope && (e = this.scope.internal.getEncryptor(this.objId)), Object.keys(t).length !== 0) {
        var n, r = []; for (n in r.push("<<"), t) r.push("/" + n + " (" + mh(e(t[n])) + ")"); return r.push(">>"), r.join(`
`)
      }
    }, set: function (e) { Mn(e) === "object" && (t = e) }
  }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return t.CA || "" }, set: function (e) { typeof e == "string" && (t.CA = e) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return i }, set: function (e) { i = e } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return i.substr(1, i.length - 1) }, set: function (e) { i = "/" + e } })
}; ys(pr, Xa); var Um = function () { pr.call(this), this.pushButton = !0 }; ys(Um, pr); var Td = function () { pr.call(this), this.radio = !0, this.pushButton = !1; var i = []; Object.defineProperty(this, "Kids", { enumerable: !0, configurable: !1, get: function () { return i }, set: function (t) { i = t !== void 0 ? t : [] } }) }; ys(Td, pr); var a0 = function () {
  var i, t; Xa.call(this), Object.defineProperty(this, "Parent", { enumerable: !1, configurable: !1, get: function () { return i }, set: function (r) { i = r } }), Object.defineProperty(this, "optionName", { enumerable: !1, configurable: !0, get: function () { return t }, set: function (r) { t = r } }); var e, n = {}; Object.defineProperty(this, "MK", {
    enumerable: !1, configurable: !1, get: function () {
      var r = function (c) { return c }; this.scope && (r = this.scope.internal.getEncryptor(this.objId)); var s, o = []; for (s in o.push("<<"), n) o.push("/" + s + " (" + mh(r(n[s])) + ")"); return o.push(">>"), o.join(`
`)
    }, set: function (r) { Mn(r) === "object" && (n = r) }
  }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return n.CA || "" }, set: function (r) { typeof r == "string" && (n.CA = r) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return e }, set: function (r) { e = r } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return e.substr(1, e.length - 1) }, set: function (r) { e = "/" + r } }), this.caption = "l", this.appearanceState = "Off", this._AppearanceType = pe.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName)
}; ys(a0, Xa), Td.prototype.setAppearance = function (i) { if (!("createAppearanceStream" in i) || !("getCA" in i)) throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!"); for (var t in this.Kids) if (this.Kids.hasOwnProperty(t)) { var e = this.Kids[t]; e.appearanceStreamContent = i.createAppearanceStream(e.optionName), e.caption = i.getCA() } }, Td.prototype.createOption = function (i) { var t = new a0; return t.Parent = this, t.optionName = i, this.Kids.push(t), r9.call(this.scope, t), t }; var Hm = function () { pr.call(this), this.fontName = "zapfdingbats", this.caption = "3", this.appearanceState = "On", this.value = "On", this.textAlign = "center", this.appearanceStreamContent = pe.CheckBox.createAppearanceStream() }; ys(Hm, pr); var th = function () { Xa.call(this), this.FT = "/Tx", Object.defineProperty(this, "multiline", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 13) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 13) : this.Ff = Pi(this.Ff, 13) } }), Object.defineProperty(this, "fileSelect", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 21) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 21) : this.Ff = Pi(this.Ff, 21) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 23) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 23) : this.Ff = Pi(this.Ff, 23) } }), Object.defineProperty(this, "doNotScroll", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 24) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 24) : this.Ff = Pi(this.Ff, 24) } }), Object.defineProperty(this, "comb", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 25) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 25) : this.Ff = Pi(this.Ff, 25) } }), Object.defineProperty(this, "richText", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 26) }, set: function (t) { t ? this.Ff = Mi(this.Ff, 26) : this.Ff = Pi(this.Ff, 26) } }); var i = null; Object.defineProperty(this, "MaxLen", { enumerable: !0, configurable: !1, get: function () { return i }, set: function (t) { i = t } }), Object.defineProperty(this, "maxLength", { enumerable: !0, configurable: !0, get: function () { return i }, set: function (t) { Number.isInteger(t) && (i = t) } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return this.V || this.DV } }) }; ys(th, Xa); var qm = function () { th.call(this), Object.defineProperty(this, "password", { enumerable: !0, configurable: !0, get: function () { return !!Li(this.Ff, 14) }, set: function (i) { i ? this.Ff = Mi(this.Ff, 14) : this.Ff = Pi(this.Ff, 14) } }), this.password = !0 }; ys(qm, th); var pe = {
  CheckBox: {
    createAppearanceStream: function () { return { N: { On: pe.CheckBox.YesNormal }, D: { On: pe.CheckBox.YesPushDown, Off: pe.CheckBox.OffPushDown } } }, YesPushDown: function (i) {
      var t = Io(i); t.scope = i.scope; var e = [], n = i.scope.internal.getFont(i.fontName, i.fontStyle).id, r = i.scope.__private__.encodeColorString(i.color), s = Jb(i, i.caption); return e.push("0.749023 g"), e.push("0 0 " + Ue(pe.internal.getWidth(i)) + " " + Ue(pe.internal.getHeight(i)) + " re"), e.push("f"), e.push("BMC"), e.push("q"), e.push("0 0 1 rg"), e.push("/" + n + " " + Ue(s.fontSize) + " Tf " + r), e.push("BT"), e.push(s.text), e.push("ET"), e.push("Q"), e.push("EMC"), t.stream = e.join(`
`), t
    }, YesNormal: function (i) {
      var t = Io(i); t.scope = i.scope; var e = i.scope.internal.getFont(i.fontName, i.fontStyle).id, n = i.scope.__private__.encodeColorString(i.color), r = [], s = pe.internal.getHeight(i), o = pe.internal.getWidth(i), c = Jb(i, i.caption); return r.push("1 g"), r.push("0 0 " + Ue(o) + " " + Ue(s) + " re"), r.push("f"), r.push("q"), r.push("0 0 1 rg"), r.push("0 0 " + Ue(o - 1) + " " + Ue(s - 1) + " re"), r.push("W"), r.push("n"), r.push("0 g"), r.push("BT"), r.push("/" + e + " " + Ue(c.fontSize) + " Tf " + n), r.push(c.text), r.push("ET"), r.push("Q"), t.stream = r.join(`
`), t
    }, OffPushDown: function (i) {
      var t = Io(i); t.scope = i.scope; var e = []; return e.push("0.749023 g"), e.push("0 0 " + Ue(pe.internal.getWidth(i)) + " " + Ue(pe.internal.getHeight(i)) + " re"), e.push("f"), t.stream = e.join(`
`), t
    }
  }, RadioButton: {
    Circle: {
      createAppearanceStream: function (i) { var t = { D: { Off: pe.RadioButton.Circle.OffPushDown }, N: {} }; return t.N[i] = pe.RadioButton.Circle.YesNormal, t.D[i] = pe.RadioButton.Circle.YesPushDown, t }, getCA: function () { return "l" }, YesNormal: function (i) {
        var t = Io(i); t.scope = i.scope; var e = [], n = pe.internal.getWidth(i) <= pe.internal.getHeight(i) ? pe.internal.getWidth(i) / 4 : pe.internal.getHeight(i) / 4; n = Number((.9 * n).toFixed(5)); var r = pe.internal.Bezier_C, s = Number((n * r).toFixed(5)); return e.push("q"), e.push("1 0 0 1 " + jc(pe.internal.getWidth(i) / 2) + " " + jc(pe.internal.getHeight(i) / 2) + " cm"), e.push(n + " 0 m"), e.push(n + " " + s + " " + s + " " + n + " 0 " + n + " c"), e.push("-" + s + " " + n + " -" + n + " " + s + " -" + n + " 0 c"), e.push("-" + n + " -" + s + " -" + s + " -" + n + " 0 -" + n + " c"), e.push(s + " -" + n + " " + n + " -" + s + " " + n + " 0 c"), e.push("f"), e.push("Q"), t.stream = e.join(`
`), t
      }, YesPushDown: function (i) {
        var t = Io(i); t.scope = i.scope; var e = [], n = pe.internal.getWidth(i) <= pe.internal.getHeight(i) ? pe.internal.getWidth(i) / 4 : pe.internal.getHeight(i) / 4; n = Number((.9 * n).toFixed(5)); var r = Number((2 * n).toFixed(5)), s = Number((r * pe.internal.Bezier_C).toFixed(5)), o = Number((n * pe.internal.Bezier_C).toFixed(5)); return e.push("0.749023 g"), e.push("q"), e.push("1 0 0 1 " + jc(pe.internal.getWidth(i) / 2) + " " + jc(pe.internal.getHeight(i) / 2) + " cm"), e.push(r + " 0 m"), e.push(r + " " + s + " " + s + " " + r + " 0 " + r + " c"), e.push("-" + s + " " + r + " -" + r + " " + s + " -" + r + " 0 c"), e.push("-" + r + " -" + s + " -" + s + " -" + r + " 0 -" + r + " c"), e.push(s + " -" + r + " " + r + " -" + s + " " + r + " 0 c"), e.push("f"), e.push("Q"), e.push("0 g"), e.push("q"), e.push("1 0 0 1 " + jc(pe.internal.getWidth(i) / 2) + " " + jc(pe.internal.getHeight(i) / 2) + " cm"), e.push(n + " 0 m"), e.push(n + " " + o + " " + o + " " + n + " 0 " + n + " c"), e.push("-" + o + " " + n + " -" + n + " " + o + " -" + n + " 0 c"), e.push("-" + n + " -" + o + " -" + o + " -" + n + " 0 -" + n + " c"), e.push(o + " -" + n + " " + n + " -" + o + " " + n + " 0 c"), e.push("f"), e.push("Q"), t.stream = e.join(`
`), t
      }, OffPushDown: function (i) {
        var t = Io(i); t.scope = i.scope; var e = [], n = pe.internal.getWidth(i) <= pe.internal.getHeight(i) ? pe.internal.getWidth(i) / 4 : pe.internal.getHeight(i) / 4; n = Number((.9 * n).toFixed(5)); var r = Number((2 * n).toFixed(5)), s = Number((r * pe.internal.Bezier_C).toFixed(5)); return e.push("0.749023 g"), e.push("q"), e.push("1 0 0 1 " + jc(pe.internal.getWidth(i) / 2) + " " + jc(pe.internal.getHeight(i) / 2) + " cm"), e.push(r + " 0 m"), e.push(r + " " + s + " " + s + " " + r + " 0 " + r + " c"), e.push("-" + s + " " + r + " -" + r + " " + s + " -" + r + " 0 c"), e.push("-" + r + " -" + s + " -" + s + " -" + r + " 0 -" + r + " c"), e.push(s + " -" + r + " " + r + " -" + s + " " + r + " 0 c"), e.push("f"), e.push("Q"), t.stream = e.join(`
`), t
      }
    }, Cross: {
      createAppearanceStream: function (i) { var t = { D: { Off: pe.RadioButton.Cross.OffPushDown }, N: {} }; return t.N[i] = pe.RadioButton.Cross.YesNormal, t.D[i] = pe.RadioButton.Cross.YesPushDown, t }, getCA: function () { return "8" }, YesNormal: function (i) {
        var t = Io(i); t.scope = i.scope; var e = [], n = pe.internal.calculateCross(i); return e.push("q"), e.push("1 1 " + Ue(pe.internal.getWidth(i) - 2) + " " + Ue(pe.internal.getHeight(i) - 2) + " re"), e.push("W"), e.push("n"), e.push(Ue(n.x1.x) + " " + Ue(n.x1.y) + " m"), e.push(Ue(n.x2.x) + " " + Ue(n.x2.y) + " l"), e.push(Ue(n.x4.x) + " " + Ue(n.x4.y) + " m"), e.push(Ue(n.x3.x) + " " + Ue(n.x3.y) + " l"), e.push("s"), e.push("Q"), t.stream = e.join(`
`), t
      }, YesPushDown: function (i) {
        var t = Io(i); t.scope = i.scope; var e = pe.internal.calculateCross(i), n = []; return n.push("0.749023 g"), n.push("0 0 " + Ue(pe.internal.getWidth(i)) + " " + Ue(pe.internal.getHeight(i)) + " re"), n.push("f"), n.push("q"), n.push("1 1 " + Ue(pe.internal.getWidth(i) - 2) + " " + Ue(pe.internal.getHeight(i) - 2) + " re"), n.push("W"), n.push("n"), n.push(Ue(e.x1.x) + " " + Ue(e.x1.y) + " m"), n.push(Ue(e.x2.x) + " " + Ue(e.x2.y) + " l"), n.push(Ue(e.x4.x) + " " + Ue(e.x4.y) + " m"), n.push(Ue(e.x3.x) + " " + Ue(e.x3.y) + " l"), n.push("s"), n.push("Q"), t.stream = n.join(`
`), t
      }, OffPushDown: function (i) {
        var t = Io(i); t.scope = i.scope; var e = []; return e.push("0.749023 g"), e.push("0 0 " + Ue(pe.internal.getWidth(i)) + " " + Ue(pe.internal.getHeight(i)) + " re"), e.push("f"), t.stream = e.join(`
`), t
      }
    }
  }, createDefaultAppearanceStream: function (i) { var t = i.scope.internal.getFont(i.fontName, i.fontStyle).id, e = i.scope.__private__.encodeColorString(i.color); return "/" + t + " " + i.fontSize + " Tf " + e }
}; pe.internal = { Bezier_C: .551915024494, calculateCross: function (i) { var t = pe.internal.getWidth(i), e = pe.internal.getHeight(i), n = Math.min(t, e); return { x1: { x: (t - n) / 2, y: (e - n) / 2 + n }, x2: { x: (t - n) / 2 + n, y: (e - n) / 2 }, x3: { x: (t - n) / 2, y: (e - n) / 2 }, x4: { x: (t - n) / 2 + n, y: (e - n) / 2 + n } } } }, pe.internal.getWidth = function (i) { var t = 0; return Mn(i) === "object" && (t = WS(i.Rect[2])), t }, pe.internal.getHeight = function (i) { var t = 0; return Mn(i) === "object" && (t = WS(i.Rect[3])), t }; var r9 = wi.addField = function (i) { if (i9(this, i), !(i instanceof Xa)) throw new Error("Invalid argument passed to jsPDF.addField."); var t; return (t = i).scope.internal.acroformPlugin.printedOut && (t.scope.internal.acroformPlugin.printedOut = !1, t.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t), i.page = i.scope.internal.getCurrentPageInfo().pageNumber, this }; wi.AcroFormChoiceField = Cd, wi.AcroFormListBox = Nd, wi.AcroFormComboBox = Rd, wi.AcroFormEditBox = zm, wi.AcroFormButton = pr, wi.AcroFormPushButton = Um, wi.AcroFormRadioButton = Td, wi.AcroFormCheckBox = Hm, wi.AcroFormTextField = th, wi.AcroFormPasswordField = qm, wi.AcroFormAppearance = pe, wi.AcroForm = { ChoiceField: Cd, ListBox: Nd, ComboBox: Rd, EditBox: zm, Button: pr, PushButton: Um, RadioButton: Td, CheckBox: Hm, TextField: th, PasswordField: qm, Appearance: pe }, _e.AcroForm = { ChoiceField: Cd, ListBox: Nd, ComboBox: Rd, EditBox: zm, Button: pr, PushButton: Um, RadioButton: Td, CheckBox: Hm, TextField: th, PasswordField: qm, Appearance: pe }; _e.AcroForm; function _N(i) { return i.reduce(function (t, e, n) { return t[e] = n, t }, {}) } (function (i) { i.__addimage__ = {}; var t = "UNKNOWN", e = { PNG: [[137, 80, 78, 71]], TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]], JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]], JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]], GIF87a: [[71, 73, 70, 56, 55, 97]], GIF89a: [[71, 73, 70, 56, 57, 97]], WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]], BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]] }, n = i.__addimage__.getImageFileTypeByImageData = function (z, G) { var it, nt, ht, U, tt, Q = t; if ((G = G || t) === "RGBA" || z.data !== void 0 && z.data instanceof Uint8ClampedArray && "height" in z && "width" in z) return "RGBA"; if (F(z)) for (tt in e) for (ht = e[tt], it = 0; it < ht.length; it += 1) { for (U = !0, nt = 0; nt < ht[it].length; nt += 1)if (ht[it][nt] !== void 0 && ht[it][nt] !== z[nt]) { U = !1; break } if (U === !0) { Q = tt; break } } else for (tt in e) for (ht = e[tt], it = 0; it < ht.length; it += 1) { for (U = !0, nt = 0; nt < ht[it].length; nt += 1)if (ht[it][nt] !== void 0 && ht[it][nt] !== z.charCodeAt(nt)) { U = !1; break } if (U === !0) { Q = tt; break } } return Q === t && G !== t && (Q = G), Q }, r = function z(G) { for (var it = this.internal.write, nt = this.internal.putStream, ht = (0, this.internal.getFilters)(); ht.indexOf("FlateEncode") !== -1;)ht.splice(ht.indexOf("FlateEncode"), 1); G.objectId = this.internal.newObject(); var U = []; if (U.push({ key: "Type", value: "/XObject" }), U.push({ key: "Subtype", value: "/Image" }), U.push({ key: "Width", value: G.width }), U.push({ key: "Height", value: G.height }), G.colorSpace === E.INDEXED ? U.push({ key: "ColorSpace", value: "[/Indexed /DeviceRGB " + (G.palette.length / 3 - 1) + " " + ("sMask" in G && G.sMask !== void 0 ? G.objectId + 2 : G.objectId + 1) + " 0 R]" }) : (U.push({ key: "ColorSpace", value: "/" + G.colorSpace }), G.colorSpace === E.DEVICE_CMYK && U.push({ key: "Decode", value: "[1 0 1 0 1 0 1 0]" })), U.push({ key: "BitsPerComponent", value: G.bitsPerComponent }), "decodeParameters" in G && G.decodeParameters !== void 0 && U.push({ key: "DecodeParms", value: "<<" + G.decodeParameters + ">>" }), "transparency" in G && Array.isArray(G.transparency)) { for (var tt = "", Q = 0, pt = G.transparency.length; Q < pt; Q++)tt += G.transparency[Q] + " " + G.transparency[Q] + " "; U.push({ key: "Mask", value: "[" + tt + "]" }) } G.sMask !== void 0 && U.push({ key: "SMask", value: G.objectId + 1 + " 0 R" }); var Y = G.filter !== void 0 ? ["/" + G.filter] : void 0; if (nt({ data: G.data, additionalKeyValues: U, alreadyAppliedFilters: Y, objectId: G.objectId }), it("endobj"), "sMask" in G && G.sMask !== void 0) { var ft = "/Predictor " + G.predictor + " /Colors 1 /BitsPerComponent " + G.bitsPerComponent + " /Columns " + G.width, I = { width: G.width, height: G.height, colorSpace: "DeviceGray", bitsPerComponent: G.bitsPerComponent, decodeParameters: ft, data: G.sMask }; "filter" in G && (I.filter = G.filter), z.call(this, I) } if (G.colorSpace === E.INDEXED) { var V = this.internal.newObject(); nt({ data: j(new Uint8Array(G.palette)), objectId: V }), it("endobj") } }, s = function () { var z = this.internal.collections.addImage_images; for (var G in z) r.call(this, z[G]) }, o = function () { var z, G = this.internal.collections.addImage_images, it = this.internal.write; for (var nt in G) it("/I" + (z = G[nt]).index, z.objectId, "0", "R") }, c = function () { this.internal.collections.addImage_images || (this.internal.collections.addImage_images = {}, this.internal.events.subscribe("putResources", s), this.internal.events.subscribe("putXobjectDict", o)) }, u = function () { var z = this.internal.collections.addImage_images; return c.call(this), z }, d = function () { return Object.keys(this.internal.collections.addImage_images).length }, f = function (z) { return typeof i["process" + z.toUpperCase()] == "function" }, p = function (z) { return Mn(z) === "object" && z.nodeType === 1 }, m = function (z, G) { if (z.nodeName === "IMG" && z.hasAttribute("src")) { var it = "" + z.getAttribute("src"); if (it.indexOf("data:image/") === 0) return dp(unescape(it).split("base64,").pop()); var nt = i.loadFile(it, !0); if (nt !== void 0) return nt } if (z.nodeName === "CANVAS") { if (z.width === 0 || z.height === 0) throw new Error("Given canvas must have data. Canvas width: " + z.width + ", height: " + z.height); var ht; switch (G) { case "PNG": ht = "image/png"; break; case "WEBP": ht = "image/webp"; break; case "JPEG": case "JPG": default: ht = "image/jpeg" }return dp(z.toDataURL(ht, 1).split("base64,").pop()) } }, v = function (z) { var G = this.internal.collections.addImage_images; if (G) { for (var it in G) if (z === G[it].alias) return G[it] } }, x = function (z, G, it) { return z || G || (z = -96, G = -96), z < 0 && (z = -1 * it.width * 72 / z / this.internal.scaleFactor), G < 0 && (G = -1 * it.height * 72 / G / this.internal.scaleFactor), z === 0 && (z = G * it.width / it.height), G === 0 && (G = z * it.height / it.width), [z, G] }, y = function (z, G, it, nt, ht, U) { var tt = x.call(this, it, nt, ht), Q = this.internal.getCoordinateString, pt = this.internal.getVerticalCoordinateString, Y = u.call(this); if (it = tt[0], nt = tt[1], Y[ht.index] = ht, U) { U *= Math.PI / 180; var ft = Math.cos(U), I = Math.sin(U), V = function (st) { return st.toFixed(4) }, Z = [V(ft), V(I), V(-1 * I), V(ft), 0, 0, "cm"] } this.internal.write("q"), U ? (this.internal.write([1, "0", "0", 1, Q(z), pt(G + nt), "cm"].join(" ")), this.internal.write(Z.join(" ")), this.internal.write([Q(it), "0", "0", Q(nt), "0", "0", "cm"].join(" "))) : this.internal.write([Q(it), "0", "0", Q(nt), Q(z), pt(G + nt), "cm"].join(" ")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, "cm"].join(" ")), this.internal.write("/I" + ht.index + " Do"), this.internal.write("Q") }, E = i.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" }; i.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" }; var A = i.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, T = i.__addimage__.sHashCode = function (z) { var G, it, nt = 0; if (typeof z == "string") for (it = z.length, G = 0; G < it; G++)nt = (nt << 5) - nt + z.charCodeAt(G), nt |= 0; else if (F(z)) for (it = z.byteLength / 2, G = 0; G < it; G++)nt = (nt << 5) - nt + z[G], nt |= 0; return nt }, L = i.__addimage__.validateStringAsBase64 = function (z) { (z = z || "").toString().trim(); var G = !0; return z.length === 0 && (G = !1), z.length % 4 != 0 && (G = !1), /^[A-Za-z0-9+/]+$/.test(z.substr(0, z.length - 2)) === !1 && (G = !1), /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2)) === !1 && (G = !1), G }, k = i.__addimage__.extractImageFromDataUrl = function (z) { if (z == null || !(z = z.trim()).startsWith("data:")) return null; var G = z.indexOf(","); return G < 0 ? null : z.substring(0, G).trim().endsWith("base64") ? z.substring(G + 1) : null }, O = i.__addimage__.supportsArrayBuffer = function () { return typeof ArrayBuffer < "u" && typeof Uint8Array < "u" }; i.__addimage__.isArrayBuffer = function (z) { return O() && z instanceof ArrayBuffer }; var F = i.__addimage__.isArrayBufferView = function (z) { return O() && typeof Uint32Array < "u" && (z instanceof Int8Array || z instanceof Uint8Array || typeof Uint8ClampedArray < "u" && z instanceof Uint8ClampedArray || z instanceof Int16Array || z instanceof Uint16Array || z instanceof Int32Array || z instanceof Uint32Array || z instanceof Float32Array || z instanceof Float64Array) }, D = i.__addimage__.binaryStringToUint8Array = function (z) { for (var G = z.length, it = new Uint8Array(G), nt = 0; nt < G; nt++)it[nt] = z.charCodeAt(nt); return it }, j = i.__addimage__.arrayBufferToBinaryString = function (z) { for (var G = "", it = F(z) ? z : new Uint8Array(z), nt = 0; nt < it.length; nt += 8192)G += String.fromCharCode.apply(null, it.subarray(nt, nt + 8192)); return G }; i.addImage = function () { var z, G, it, nt, ht, U, tt, Q, pt; if (typeof arguments[1] == "number" ? (G = t, it = arguments[1], nt = arguments[2], ht = arguments[3], U = arguments[4], tt = arguments[5], Q = arguments[6], pt = arguments[7]) : (G = arguments[1], it = arguments[2], nt = arguments[3], ht = arguments[4], U = arguments[5], tt = arguments[6], Q = arguments[7], pt = arguments[8]), Mn(z = arguments[0]) === "object" && !p(z) && "imageData" in z) { var Y = z; z = Y.imageData, G = Y.format || G || t, it = Y.x || it || 0, nt = Y.y || nt || 0, ht = Y.w || Y.width || ht, U = Y.h || Y.height || U, tt = Y.alias || tt, Q = Y.compression || Q, pt = Y.rotation || Y.angle || pt } var ft = this.internal.getFilters(); if (Q === void 0 && ft.indexOf("FlateEncode") !== -1 && (Q = "SLOW"), isNaN(it) || isNaN(nt)) throw new Error("Invalid coordinates passed to jsPDF.addImage"); c.call(this); var I = J.call(this, z, G, tt, Q); return y.call(this, it, nt, ht, U, I, pt), this }; var J = function (z, G, it, nt) { var ht, U, tt; if (typeof z == "string" && n(z) === t) { z = unescape(z); var Q = ot(z, !1); (Q !== "" || (Q = i.loadFile(z, !0)) !== void 0) && (z = Q) } if (p(z) && (z = m(z, G)), G = n(z, G), !f(G)) throw new Error("addImage does not support files of type '" + G + "', please ensure that a plugin for '" + G + "' support is added."); if (((tt = it) == null || tt.length === 0) && (it = function (pt) { return typeof pt == "string" || F(pt) ? T(pt) : F(pt.data) ? T(pt.data) : null }(z)), (ht = v.call(this, it)) || (O() && (z instanceof Uint8Array || G === "RGBA" || (U = z, z = D(z))), ht = this["process" + G.toUpperCase()](z, d.call(this), it, function (pt) { return pt && typeof pt == "string" && (pt = pt.toUpperCase()), pt in i.image_compression ? pt : A.NONE }(nt), U)), !ht) throw new Error("An unknown error occurred whilst processing the image."); return ht }, ot = i.__addimage__.convertBase64ToBinaryString = function (z, G) { G = typeof G != "boolean" || G; var it, nt = ""; if (typeof z == "string") { var ht; it = (ht = k(z)) !== null && ht !== void 0 ? ht : z; try { nt = dp(it) } catch (U) { if (G) throw L(it) ? new Error("atob-Error in jsPDF.convertBase64ToBinaryString " + U.message) : new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ") } } return nt }; i.getImageProperties = function (z) { var G, it, nt = ""; if (p(z) && (z = m(z)), typeof z == "string" && n(z) === t && ((nt = ot(z, !1)) === "" && (nt = i.loadFile(z) || ""), z = nt), it = n(z), !f(it)) throw new Error("addImage does not support files of type '" + it + "', please ensure that a plugin for '" + it + "' support is added."); if (!O() || z instanceof Uint8Array || (z = D(z)), !(G = this["process" + it.toUpperCase()](z))) throw new Error("An unknown error occurred whilst processing the image"); return G.fileType = it, G } })(_e.API), function (i) { var t = function (e) { if (e !== void 0 && e != "") return !0 }; _e.API.events.push(["addPage", function (e) { this.internal.getPageInfo(e.pageNumber).pageContext.annotations = [] }]), i.events.push(["putPage", function (e) { for (var n, r, s, o = this.internal.getCoordinateString, c = this.internal.getVerticalCoordinateString, u = this.internal.getPageInfoByObjId(e.objId), d = e.pageContext.annotations, f = !1, p = 0; p < d.length && !f; p++)switch ((n = d[p]).type) { case "link": (t(n.options.url) || t(n.options.pageNumber)) && (f = !0); break; case "reference": case "text": case "freetext": f = !0 }if (f != 0) { this.internal.write("/Annots ["); for (var m = 0; m < d.length; m++) { n = d[m]; var v = this.internal.pdfEscape, x = this.internal.getEncryptor(e.objId); switch (n.type) { case "reference": this.internal.write(" " + n.object.objId + " 0 R "); break; case "text": var y = this.internal.newAdditionalObject(), E = this.internal.newAdditionalObject(), A = this.internal.getEncryptor(y.objId), T = n.title || "Note"; s = "<</Type /Annot /Subtype /Text " + (r = "/Rect [" + o(n.bounds.x) + " " + c(n.bounds.y + n.bounds.h) + " " + o(n.bounds.x + n.bounds.w) + " " + c(n.bounds.y) + "] ") + "/Contents (" + v(A(n.contents)) + ")", s += " /Popup " + E.objId + " 0 R", s += " /P " + u.objId + " 0 R", s += " /T (" + v(A(T)) + ") >>", y.content = s; var L = y.objId + " 0 R"; s = "<</Type /Annot /Subtype /Popup " + (r = "/Rect [" + o(n.bounds.x + 30) + " " + c(n.bounds.y + n.bounds.h) + " " + o(n.bounds.x + n.bounds.w + 30) + " " + c(n.bounds.y) + "] ") + " /Parent " + L, n.open && (s += " /Open true"), s += " >>", E.content = s, this.internal.write(y.objId, "0 R", E.objId, "0 R"); break; case "freetext": r = "/Rect [" + o(n.bounds.x) + " " + c(n.bounds.y) + " " + o(n.bounds.x + n.bounds.w) + " " + c(n.bounds.y + n.bounds.h) + "] "; var k = n.color || "#000000"; s = "<</Type /Annot /Subtype /FreeText " + r + "/Contents (" + v(x(n.contents)) + ")", s += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + k + ")", s += " /Border [0 0 0]", s += " >>", this.internal.write(s); break; case "link": if (n.options.name) { var O = this.annotations._nameMap[n.options.name]; n.options.pageNumber = O.page, n.options.top = O.y } else n.options.top || (n.options.top = 0); if (r = "/Rect [" + n.finalBounds.x + " " + n.finalBounds.y + " " + n.finalBounds.w + " " + n.finalBounds.h + "] ", s = "", n.options.url) s = "<</Type /Annot /Subtype /Link " + r + "/Border [0 0 0] /A <</S /URI /URI (" + v(x(n.options.url)) + ") >>"; else if (n.options.pageNumber) switch (s = "<</Type /Annot /Subtype /Link " + r + "/Border [0 0 0] /Dest [" + this.internal.getPageInfo(n.options.pageNumber).objId + " 0 R", n.options.magFactor = n.options.magFactor || "XYZ", n.options.magFactor) { case "Fit": s += " /Fit]"; break; case "FitH": s += " /FitH " + n.options.top + "]"; break; case "FitV": n.options.left = n.options.left || 0, s += " /FitV " + n.options.left + "]"; break; case "XYZ": default: var F = c(n.options.top); n.options.left = n.options.left || 0, n.options.zoom === void 0 && (n.options.zoom = 0), s += " /XYZ " + n.options.left + " " + F + " " + n.options.zoom + "]" }s != "" && (s += " >>", this.internal.write(s)) } } this.internal.write("]") } }]), i.createAnnotation = function (e) { var n = this.internal.getCurrentPageInfo(); switch (e.type) { case "link": this.link(e.bounds.x, e.bounds.y, e.bounds.w, e.bounds.h, e); break; case "text": case "freetext": n.pageContext.annotations.push(e) } }, i.link = function (e, n, r, s, o) { var c = this.internal.getCurrentPageInfo(), u = this.internal.getCoordinateString, d = this.internal.getVerticalCoordinateString; c.pageContext.annotations.push({ finalBounds: { x: u(e), y: d(n), w: u(e + r), h: d(n + s) }, options: o, type: "link" }) }, i.textWithLink = function (e, n, r, s) { var o, c, u = this.getTextWidth(e), d = this.internal.getLineHeight() / this.internal.scaleFactor; if (s.maxWidth !== void 0) { c = s.maxWidth; var f = this.splitTextToSize(e, c).length; o = Math.ceil(d * f) } else c = u, o = d; return this.text(e, n, r, s), r += .2 * d, s.align === "center" && (n -= u / 2), s.align === "right" && (n -= u), this.link(n, r - d, c, o, s), u }, i.getTextWidth = function (e) { var n = this.internal.getFontSize(); return this.getStringUnitWidth(e) * n / this.internal.scaleFactor } }(_e.API), function (i) { var t = { 1569: [65152], 1570: [65153, 65154], 1571: [65155, 65156], 1572: [65157, 65158], 1573: [65159, 65160], 1574: [65161, 65162, 65163, 65164], 1575: [65165, 65166], 1576: [65167, 65168, 65169, 65170], 1577: [65171, 65172], 1578: [65173, 65174, 65175, 65176], 1579: [65177, 65178, 65179, 65180], 1580: [65181, 65182, 65183, 65184], 1581: [65185, 65186, 65187, 65188], 1582: [65189, 65190, 65191, 65192], 1583: [65193, 65194], 1584: [65195, 65196], 1585: [65197, 65198], 1586: [65199, 65200], 1587: [65201, 65202, 65203, 65204], 1588: [65205, 65206, 65207, 65208], 1589: [65209, 65210, 65211, 65212], 1590: [65213, 65214, 65215, 65216], 1591: [65217, 65218, 65219, 65220], 1592: [65221, 65222, 65223, 65224], 1593: [65225, 65226, 65227, 65228], 1594: [65229, 65230, 65231, 65232], 1601: [65233, 65234, 65235, 65236], 1602: [65237, 65238, 65239, 65240], 1603: [65241, 65242, 65243, 65244], 1604: [65245, 65246, 65247, 65248], 1605: [65249, 65250, 65251, 65252], 1606: [65253, 65254, 65255, 65256], 1607: [65257, 65258, 65259, 65260], 1608: [65261, 65262], 1609: [65263, 65264, 64488, 64489], 1610: [65265, 65266, 65267, 65268], 1649: [64336, 64337], 1655: [64477], 1657: [64358, 64359, 64360, 64361], 1658: [64350, 64351, 64352, 64353], 1659: [64338, 64339, 64340, 64341], 1662: [64342, 64343, 64344, 64345], 1663: [64354, 64355, 64356, 64357], 1664: [64346, 64347, 64348, 64349], 1667: [64374, 64375, 64376, 64377], 1668: [64370, 64371, 64372, 64373], 1670: [64378, 64379, 64380, 64381], 1671: [64382, 64383, 64384, 64385], 1672: [64392, 64393], 1676: [64388, 64389], 1677: [64386, 64387], 1678: [64390, 64391], 1681: [64396, 64397], 1688: [64394, 64395], 1700: [64362, 64363, 64364, 64365], 1702: [64366, 64367, 64368, 64369], 1705: [64398, 64399, 64400, 64401], 1709: [64467, 64468, 64469, 64470], 1711: [64402, 64403, 64404, 64405], 1713: [64410, 64411, 64412, 64413], 1715: [64406, 64407, 64408, 64409], 1722: [64414, 64415], 1723: [64416, 64417, 64418, 64419], 1726: [64426, 64427, 64428, 64429], 1728: [64420, 64421], 1729: [64422, 64423, 64424, 64425], 1733: [64480, 64481], 1734: [64473, 64474], 1735: [64471, 64472], 1736: [64475, 64476], 1737: [64482, 64483], 1739: [64478, 64479], 1740: [64508, 64509, 64510, 64511], 1744: [64484, 64485, 64486, 64487], 1746: [64430, 64431], 1747: [64432, 64433] }, e = { 65247: { 65154: 65269, 65156: 65271, 65160: 65273, 65166: 65275 }, 65248: { 65154: 65270, 65156: 65272, 65160: 65274, 65166: 65276 }, 65165: { 65247: { 65248: { 65258: 65010 } } }, 1617: { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 } }, n = { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 }, r = [1570, 1571, 1573, 1575]; i.__arabicParser__ = {}; var s = i.__arabicParser__.isInArabicSubstitutionA = function (y) { return t[y.charCodeAt(0)] !== void 0 }, o = i.__arabicParser__.isArabicLetter = function (y) { return typeof y == "string" && /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y) }, c = i.__arabicParser__.isArabicEndLetter = function (y) { return o(y) && s(y) && t[y.charCodeAt(0)].length <= 2 }, u = i.__arabicParser__.isArabicAlfLetter = function (y) { return o(y) && r.indexOf(y.charCodeAt(0)) >= 0 }; i.__arabicParser__.arabicLetterHasIsolatedForm = function (y) { return o(y) && s(y) && t[y.charCodeAt(0)].length >= 1 }; var d = i.__arabicParser__.arabicLetterHasFinalForm = function (y) { return o(y) && s(y) && t[y.charCodeAt(0)].length >= 2 }; i.__arabicParser__.arabicLetterHasInitialForm = function (y) { return o(y) && s(y) && t[y.charCodeAt(0)].length >= 3 }; var f = i.__arabicParser__.arabicLetterHasMedialForm = function (y) { return o(y) && s(y) && t[y.charCodeAt(0)].length == 4 }, p = i.__arabicParser__.resolveLigatures = function (y) { var E = 0, A = e, T = "", L = 0; for (E = 0; E < y.length; E += 1)A[y.charCodeAt(E)] !== void 0 ? (L++, typeof (A = A[y.charCodeAt(E)]) == "number" && (T += String.fromCharCode(A), A = e, L = 0), E === y.length - 1 && (A = e, T += y.charAt(E - (L - 1)), E -= L - 1, L = 0)) : (A = e, T += y.charAt(E - L), E -= L, L = 0); return T }; i.__arabicParser__.isArabicDiacritic = function (y) { return y !== void 0 && n[y.charCodeAt(0)] !== void 0 }; var m = i.__arabicParser__.getCorrectForm = function (y, E, A) { return o(y) ? s(y) === !1 ? -1 : !d(y) || !o(E) && !o(A) || !o(A) && c(E) || c(y) && !o(E) || c(y) && u(E) || c(y) && c(E) ? 0 : f(y) && o(E) && !c(E) && o(A) && d(A) ? 3 : c(y) || !o(A) ? 1 : 2 : -1 }, v = function (y) { var E = 0, A = 0, T = 0, L = "", k = "", O = "", F = (y = y || "").split("\\s+"), D = []; for (E = 0; E < F.length; E += 1) { for (D.push(""), A = 0; A < F[E].length; A += 1)L = F[E][A], k = F[E][A - 1], O = F[E][A + 1], o(L) ? (T = m(L, k, O), D[E] += T !== -1 ? String.fromCharCode(t[L.charCodeAt(0)][T]) : L) : D[E] += L; D[E] = p(D[E]) } return D.join(" ") }, x = i.__arabicParser__.processArabic = i.processArabic = function () { var y, E = typeof arguments[0] == "string" ? arguments[0] : arguments[0].text, A = []; if (Array.isArray(E)) { var T = 0; for (A = [], T = 0; T < E.length; T += 1)Array.isArray(E[T]) ? A.push([v(E[T][0]), E[T][1], E[T][2]]) : A.push([v(E[T])]); y = A } else y = v(E); return typeof arguments[0] == "string" ? y : (arguments[0].text = y, arguments[0]) }; i.events.push(["preProcessText", x]) }(_e.API), _e.API.autoPrint = function (i) { var t; switch ((i = i || {}).variant = i.variant || "non-conform", i.variant) { case "javascript": this.addJS("print({});"); break; case "non-conform": default: this.internal.events.subscribe("postPutResources", function () { t = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /Named"), this.internal.out("/Type /Action"), this.internal.out("/N /Print"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { this.internal.out("/OpenAction " + t + " 0 R") }) }return this }, function (i) { var t = function () { var e = void 0; Object.defineProperty(this, "pdf", { get: function () { return e }, set: function (c) { e = c } }); var n = 150; Object.defineProperty(this, "width", { get: function () { return n }, set: function (c) { n = isNaN(c) || Number.isInteger(c) === !1 || c < 0 ? 150 : c, this.getContext("2d").pageWrapXEnabled && (this.getContext("2d").pageWrapX = n + 1) } }); var r = 300; Object.defineProperty(this, "height", { get: function () { return r }, set: function (c) { r = isNaN(c) || Number.isInteger(c) === !1 || c < 0 ? 300 : c, this.getContext("2d").pageWrapYEnabled && (this.getContext("2d").pageWrapY = r + 1) } }); var s = []; Object.defineProperty(this, "childNodes", { get: function () { return s }, set: function (c) { s = c } }); var o = {}; Object.defineProperty(this, "style", { get: function () { return o }, set: function (c) { o = c } }), Object.defineProperty(this, "parentNode", {}) }; t.prototype.getContext = function (e, n) { var r; if ((e = e || "2d") !== "2d") return null; for (r in n) this.pdf.context2d.hasOwnProperty(r) && (this.pdf.context2d[r] = n[r]); return this.pdf.context2d._canvas = this, this.pdf.context2d }, t.prototype.toDataURL = function () { throw new Error("toDataURL is not implemented.") }, i.events.push(["initialized", function () { this.canvas = new t, this.canvas.pdf = this }]) }(_e.API), function (i) { var t = { left: 0, top: 0, bottom: 0, right: 0 }, e = !1, n = function () { this.internal.__cell__ === void 0 && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, t), this.internal.__cell__.margins.width = this.getPageWidth(), r.call(this)) }, r = function () { this.internal.__cell__.lastCell = new s, this.internal.__cell__.pages = 1 }, s = function () { var u = arguments[0]; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return u }, set: function (y) { u = y } }); var d = arguments[1]; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return d }, set: function (y) { d = y } }); var f = arguments[2]; Object.defineProperty(this, "width", { enumerable: !0, get: function () { return f }, set: function (y) { f = y } }); var p = arguments[3]; Object.defineProperty(this, "height", { enumerable: !0, get: function () { return p }, set: function (y) { p = y } }); var m = arguments[4]; Object.defineProperty(this, "text", { enumerable: !0, get: function () { return m }, set: function (y) { m = y } }); var v = arguments[5]; Object.defineProperty(this, "lineNumber", { enumerable: !0, get: function () { return v }, set: function (y) { v = y } }); var x = arguments[6]; return Object.defineProperty(this, "align", { enumerable: !0, get: function () { return x }, set: function (y) { x = y } }), this }; s.prototype.clone = function () { return new s(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align) }, s.prototype.toArray = function () { return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align] }, i.setHeaderFunction = function (u) { return n.call(this), this.internal.__cell__.headerFunction = typeof u == "function" ? u : void 0, this }, i.getTextDimensions = function (u, d) { n.call(this); var f = (d = d || {}).fontSize || this.getFontSize(), p = d.font || this.getFont(), m = d.scaleFactor || this.internal.scaleFactor, v = 0, x = 0, y = 0, E = this; if (!Array.isArray(u) && typeof u != "string") { if (typeof u != "number") throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings."); u = String(u) } var A = d.maxWidth; A > 0 ? typeof u == "string" ? u = this.splitTextToSize(u, A) : Object.prototype.toString.call(u) === "[object Array]" && (u = u.reduce(function (L, k) { return L.concat(E.splitTextToSize(k, A)) }, [])) : u = Array.isArray(u) ? u : [u]; for (var T = 0; T < u.length; T++)v < (y = this.getStringUnitWidth(u[T], { font: p }) * f) && (v = y); return v !== 0 && (x = u.length), { w: v /= m, h: Math.max((x * f * this.getLineHeightFactor() - f * (this.getLineHeightFactor() - 1)) / m, 0) } }, i.cellAddPage = function () { n.call(this), this.addPage(); var u = this.internal.__cell__.margins || t; return this.internal.__cell__.lastCell = new s(u.left, u.top, void 0, void 0), this.internal.__cell__.pages += 1, this }; var o = i.cell = function () { var u; u = arguments[0] instanceof s ? arguments[0] : new s(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]), n.call(this); var d = this.internal.__cell__.lastCell, f = this.internal.__cell__.padding, p = this.internal.__cell__.margins || t, m = this.internal.__cell__.tableHeaderRow, v = this.internal.__cell__.printHeaders; return d.lineNumber !== void 0 && (d.lineNumber === u.lineNumber ? (u.x = (d.x || 0) + (d.width || 0), u.y = d.y || 0) : d.y + d.height + u.height + p.bottom > this.getPageHeight() ? (this.cellAddPage(), u.y = p.top, v && m && (this.printHeaderRow(u.lineNumber, !0), u.y += m[0].height)) : u.y = d.y + d.height || u.y), u.text[0] !== void 0 && (this.rect(u.x, u.y, u.width, u.height, e === !0 ? "FD" : void 0), u.align === "right" ? this.text(u.text, u.x + u.width - f, u.y + f, { align: "right", baseline: "top" }) : u.align === "center" ? this.text(u.text, u.x + u.width / 2, u.y + f, { align: "center", baseline: "top", maxWidth: u.width - f - f }) : this.text(u.text, u.x + f, u.y + f, { align: "left", baseline: "top", maxWidth: u.width - f - f })), this.internal.__cell__.lastCell = u, this }; i.table = function (u, d, f, p, m) { if (n.call(this), !f) throw new Error("No data for PDF table."); var v, x, y, E, A = [], T = [], L = [], k = {}, O = {}, F = [], D = [], j = (m = m || {}).autoSize || !1, J = m.printHeaders !== !1, ot = m.css && m.css["font-size"] !== void 0 ? 16 * m.css["font-size"] : m.fontSize || 12, z = m.margins || Object.assign({ width: this.getPageWidth() }, t), G = typeof m.padding == "number" ? m.padding : 3, it = m.headerBackgroundColor || "#c8c8c8", nt = m.headerTextColor || "#000"; if (r.call(this), this.internal.__cell__.printHeaders = J, this.internal.__cell__.margins = z, this.internal.__cell__.table_font_size = ot, this.internal.__cell__.padding = G, this.internal.__cell__.headerBackgroundColor = it, this.internal.__cell__.headerTextColor = nt, this.setFontSize(ot), p == null) T = A = Object.keys(f[0]), L = A.map(function () { return "left" }); else if (Array.isArray(p) && Mn(p[0]) === "object") for (A = p.map(function (Y) { return Y.name }), T = p.map(function (Y) { return Y.prompt || Y.name || "" }), L = p.map(function (Y) { return Y.align || "left" }), v = 0; v < p.length; v += 1)O[p[v].name] = p[v].width * (19.049976 / 25.4); else Array.isArray(p) && typeof p[0] == "string" && (T = A = p, L = A.map(function () { return "left" })); if (j || Array.isArray(p) && typeof p[0] == "string") for (v = 0; v < A.length; v += 1) { for (k[E = A[v]] = f.map(function (Y) { return Y[E] }), this.setFont(void 0, "bold"), F.push(this.getTextDimensions(T[v], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w), x = k[E], this.setFont(void 0, "normal"), y = 0; y < x.length; y += 1)F.push(this.getTextDimensions(x[y], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w); O[E] = Math.max.apply(null, F) + G + G, F = [] } if (J) { var ht = {}; for (v = 0; v < A.length; v += 1)ht[A[v]] = {}, ht[A[v]].text = T[v], ht[A[v]].align = L[v]; var U = c.call(this, ht, O); D = A.map(function (Y) { return new s(u, d, O[Y], U, ht[Y].text, void 0, ht[Y].align) }), this.setTableHeaderRow(D), this.printHeaderRow(1, !1) } var tt = p.reduce(function (Y, ft) { return Y[ft.name] = ft.align, Y }, {}); for (v = 0; v < f.length; v += 1) { "rowStart" in m && m.rowStart instanceof Function && m.rowStart({ row: v, data: f[v] }, this); var Q = c.call(this, f[v], O); for (y = 0; y < A.length; y += 1) { var pt = f[v][A[y]]; "cellStart" in m && m.cellStart instanceof Function && m.cellStart({ row: v, col: y, data: pt }, this), o.call(this, new s(u, d, O[A[y]], Q, pt, v + 2, tt[A[y]])) } } return this.internal.__cell__.table_x = u, this.internal.__cell__.table_y = d, this }; var c = function (u, d) { var f = this.internal.__cell__.padding, p = this.internal.__cell__.table_font_size, m = this.internal.scaleFactor; return Object.keys(u).map(function (v) { var x = u[v]; return this.splitTextToSize(x.hasOwnProperty("text") ? x.text : x, d[v] - f - f) }, this).map(function (v) { return this.getLineHeightFactor() * v.length * p / m + f + f }, this).reduce(function (v, x) { return Math.max(v, x) }, 0) }; i.setTableHeaderRow = function (u) { n.call(this), this.internal.__cell__.tableHeaderRow = u }, i.printHeaderRow = function (u, d) { if (n.call(this), !this.internal.__cell__.tableHeaderRow) throw new Error("Property tableHeaderRow does not exist."); var f; if (e = !0, typeof this.internal.__cell__.headerFunction == "function") { var p = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages); this.internal.__cell__.lastCell = new s(p[0], p[1], p[2], p[3], void 0, -1) } this.setFont(void 0, "bold"); for (var m = [], v = 0; v < this.internal.__cell__.tableHeaderRow.length; v += 1) { f = this.internal.__cell__.tableHeaderRow[v].clone(), d && (f.y = this.internal.__cell__.margins.top || 0, m.push(f)), f.lineNumber = u; var x = this.getTextColor(); this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), o.call(this, f), this.setTextColor(x) } m.length > 0 && this.setTableHeaderRow(m), this.setFont(void 0, "normal"), e = !1 } }(_e.API); var CN = { italic: ["italic", "oblique", "normal"], oblique: ["oblique", "italic", "normal"], normal: ["normal", "oblique", "italic"] }, NN = ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded"], ty = _N(NN), RN = [100, 200, 300, 400, 500, 600, 700, 800, 900], s9 = _N(RN); function ey(i) { var t = i.family.replace(/"|'/g, "").toLowerCase(), e = function (s) { return CN[s = s || "normal"] ? s : "normal" }(i.style), n = function (s) { if (!s) return 400; if (typeof s == "number") return s >= 100 && s <= 900 && s % 100 == 0 ? s : 400; if (/^\d00$/.test(s)) return parseInt(s); switch (s) { case "bold": return 700; case "normal": default: return 400 } }(i.weight), r = function (s) { return typeof ty[s = s || "normal"] == "number" ? s : "normal" }(i.stretch); return { family: t, style: e, weight: n, stretch: r, src: i.src || [], ref: i.ref || { name: t, style: [r, e, n].join(" ") } } } function YS(i, t, e, n) { var r; for (r = e; r >= 0 && r < t.length; r += n)if (i[t[r]]) return i[t[r]]; for (r = e; r >= 0 && r < t.length; r -= n)if (i[t[r]]) return i[t[r]] } var a9 = { "sans-serif": "helvetica", fixed: "courier", monospace: "courier", terminal: "courier", cursive: "times", fantasy: "times", serif: "times" }, XS = { caption: "times", icon: "times", menu: "times", "message-box": "times", "small-caption": "times", "status-bar": "times" }; function KS(i) { return [i.stretch, i.style, i.weight, i.family].join(" ") } function o9(i, t, e) { for (var n = (e = e || {}).defaultFontFamily || "times", r = Object.assign({}, a9, e.genericFontFamilies || {}), s = null, o = null, c = 0; c < t.length; ++c)if (r[(s = ey(t[c])).family] && (s.family = r[s.family]), i.hasOwnProperty(s.family)) { o = i[s.family]; break } if (!(o = o || i[n])) throw new Error("Could not find a font-family for the rule '" + KS(s) + "' and default family '" + n + "'."); if (o = function (u, d) { if (d[u]) return d[u]; var f = ty[u], p = f <= ty.normal ? -1 : 1, m = YS(d, NN, f, p); if (!m) throw new Error("Could not find a matching font-stretch value for " + u); return m }(s.stretch, o), o = function (u, d) { if (d[u]) return d[u]; for (var f = CN[u], p = 0; p < f.length; ++p)if (d[f[p]]) return d[f[p]]; throw new Error("Could not find a matching font-style for " + u) }(s.style, o), !(o = function (u, d) { if (d[u]) return d[u]; if (u === 400 && d[500]) return d[500]; if (u === 500 && d[400]) return d[400]; var f = s9[u], p = YS(d, RN, f, u < 400 ? -1 : 1); if (!p) throw new Error("Could not find a matching font-weight for value " + u); return p }(s.weight, o))) throw new Error("Failed to resolve a font for the rule '" + KS(s) + "'."); return o } function QS(i) { return i.trimLeft() } function l9(i, t) { for (var e = 0; e < i.length;) { if (i.charAt(e) === t) return [i.substring(0, e), i.substring(e + 1)]; e += 1 } return null } function c9(i) { var t = i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i); return t === null ? null : [t[0], i.substring(t[0].length)] } var Em, ZS, JS, G1 = ["times"]; (function (i) { var t, e, n, r, s, o, c, u, d, f = function (I) { return I = I || {}, this.isStrokeTransparent = I.isStrokeTransparent || !1, this.strokeOpacity = I.strokeOpacity || 1, this.strokeStyle = I.strokeStyle || "#000000", this.fillStyle = I.fillStyle || "#000000", this.isFillTransparent = I.isFillTransparent || !1, this.fillOpacity = I.fillOpacity || 1, this.font = I.font || "10px sans-serif", this.textBaseline = I.textBaseline || "alphabetic", this.textAlign = I.textAlign || "left", this.lineWidth = I.lineWidth || 1, this.lineJoin = I.lineJoin || "miter", this.lineCap = I.lineCap || "butt", this.path = I.path || [], this.transform = I.transform !== void 0 ? I.transform.clone() : new u, this.globalCompositeOperation = I.globalCompositeOperation || "normal", this.globalAlpha = I.globalAlpha || 1, this.clip_path = I.clip_path || [], this.currentPoint = I.currentPoint || new o, this.miterLimit = I.miterLimit || 10, this.lastPoint = I.lastPoint || new o, this.lineDashOffset = I.lineDashOffset || 0, this.lineDash = I.lineDash || [], this.margin = I.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = I.prevPageLastElemOffset || 0, this.ignoreClearRect = typeof I.ignoreClearRect != "boolean" || I.ignoreClearRect, this }; i.events.push(["initialized", function () { this.context2d = new p(this), t = this.internal.f2, e = this.internal.getCoordinateString, n = this.internal.getVerticalCoordinateString, r = this.internal.getHorizontalCoordinate, s = this.internal.getVerticalCoordinate, o = this.internal.Point, c = this.internal.Rectangle, u = this.internal.Matrix, d = new f }]); var p = function (I) { Object.defineProperty(this, "canvas", { get: function () { return { parentNode: !1, style: !1 } } }); var V = I; Object.defineProperty(this, "pdf", { get: function () { return V } }); var Z = !1; Object.defineProperty(this, "pageWrapXEnabled", { get: function () { return Z }, set: function (Lt) { Z = !!Lt } }); var st = !1; Object.defineProperty(this, "pageWrapYEnabled", { get: function () { return st }, set: function (Lt) { st = !!Lt } }); var at = 0; Object.defineProperty(this, "posX", { get: function () { return at }, set: function (Lt) { isNaN(Lt) || (at = Lt) } }); var ct = 0; Object.defineProperty(this, "posY", { get: function () { return ct }, set: function (Lt) { isNaN(Lt) || (ct = Lt) } }), Object.defineProperty(this, "margin", { get: function () { return d.margin }, set: function (Lt) { var lt; typeof Lt == "number" ? lt = [Lt, Lt, Lt, Lt] : ((lt = new Array(4))[0] = Lt[0], lt[1] = Lt.length >= 2 ? Lt[1] : lt[0], lt[2] = Lt.length >= 3 ? Lt[2] : lt[0], lt[3] = Lt.length >= 4 ? Lt[3] : lt[1]), d.margin = lt } }); var gt = !1; Object.defineProperty(this, "autoPaging", { get: function () { return gt }, set: function (Lt) { gt = Lt } }); var xt = 0; Object.defineProperty(this, "lastBreak", { get: function () { return xt }, set: function (Lt) { xt = Lt } }); var Tt = []; Object.defineProperty(this, "pageBreaks", { get: function () { return Tt }, set: function (Lt) { Tt = Lt } }), Object.defineProperty(this, "ctx", { get: function () { return d }, set: function (Lt) { Lt instanceof f && (d = Lt) } }), Object.defineProperty(this, "path", { get: function () { return d.path }, set: function (Lt) { d.path = Lt } }); var kt = []; Object.defineProperty(this, "ctxStack", { get: function () { return kt }, set: function (Lt) { kt = Lt } }), Object.defineProperty(this, "fillStyle", { get: function () { return this.ctx.fillStyle }, set: function (Lt) { var lt; lt = m(Lt), this.ctx.fillStyle = lt.style, this.ctx.isFillTransparent = lt.a === 0, this.ctx.fillOpacity = lt.a, this.pdf.setFillColor(lt.r, lt.g, lt.b, { a: lt.a }), this.pdf.setTextColor(lt.r, lt.g, lt.b, { a: lt.a }) } }), Object.defineProperty(this, "strokeStyle", { get: function () { return this.ctx.strokeStyle }, set: function (Lt) { var lt = m(Lt); this.ctx.strokeStyle = lt.style, this.ctx.isStrokeTransparent = lt.a === 0, this.ctx.strokeOpacity = lt.a, lt.a === 0 ? this.pdf.setDrawColor(255, 255, 255) : (lt.a, this.pdf.setDrawColor(lt.r, lt.g, lt.b)) } }), Object.defineProperty(this, "lineCap", { get: function () { return this.ctx.lineCap }, set: function (Lt) { ["butt", "round", "square"].indexOf(Lt) !== -1 && (this.ctx.lineCap = Lt, this.pdf.setLineCap(Lt)) } }), Object.defineProperty(this, "lineWidth", { get: function () { return this.ctx.lineWidth }, set: function (Lt) { isNaN(Lt) || (this.ctx.lineWidth = Lt, this.pdf.setLineWidth(Lt)) } }), Object.defineProperty(this, "lineJoin", { get: function () { return this.ctx.lineJoin }, set: function (Lt) { ["bevel", "round", "miter"].indexOf(Lt) !== -1 && (this.ctx.lineJoin = Lt, this.pdf.setLineJoin(Lt)) } }), Object.defineProperty(this, "miterLimit", { get: function () { return this.ctx.miterLimit }, set: function (Lt) { isNaN(Lt) || (this.ctx.miterLimit = Lt, this.pdf.setMiterLimit(Lt)) } }), Object.defineProperty(this, "textBaseline", { get: function () { return this.ctx.textBaseline }, set: function (Lt) { this.ctx.textBaseline = Lt } }), Object.defineProperty(this, "textAlign", { get: function () { return this.ctx.textAlign }, set: function (Lt) { ["right", "end", "center", "left", "start"].indexOf(Lt) !== -1 && (this.ctx.textAlign = Lt) } }); var zt = null; function $t(Lt, lt) { if (zt === null) { var se = function (ae) { var Vt = []; return Object.keys(ae).forEach(function (Zt) { ae[Zt].forEach(function (Jt) { var Xt = null; switch (Jt) { case "bold": Xt = { family: Zt, weight: "bold" }; break; case "italic": Xt = { family: Zt, style: "italic" }; break; case "bolditalic": Xt = { family: Zt, weight: "bold", style: "italic" }; break; case "": case "normal": Xt = { family: Zt } }Xt !== null && (Xt.ref = { name: Zt, style: Jt }, Vt.push(Xt)) }) }), Vt }(Lt.getFontList()); zt = function (ae) { for (var Vt = {}, Zt = 0; Zt < ae.length; ++Zt) { var Jt = ey(ae[Zt]), Xt = Jt.family, ce = Jt.stretch, Ce = Jt.style, ke = Jt.weight; Vt[Xt] = Vt[Xt] || {}, Vt[Xt][ce] = Vt[Xt][ce] || {}, Vt[Xt][ce][Ce] = Vt[Xt][ce][Ce] || {}, Vt[Xt][ce][Ce][ke] = Jt } return Vt }(se.concat(lt)) } return zt } var Kt = null; Object.defineProperty(this, "fontFaces", { get: function () { return Kt }, set: function (Lt) { zt = null, Kt = Lt } }), Object.defineProperty(this, "font", { get: function () { return this.ctx.font }, set: function (Lt) { var lt; if (this.ctx.font = Lt, (lt = /^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Lt)) !== null) { var se = lt[1]; lt[2]; var ae = lt[3], Vt = lt[4]; lt[5]; var Zt = lt[6], Jt = /^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vt)[2]; Vt = Math.floor(Jt === "px" ? parseFloat(Vt) * this.pdf.internal.scaleFactor : Jt === "em" ? parseFloat(Vt) * this.pdf.getFontSize() : parseFloat(Vt) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(Vt); var Xt = function (le) { var Ne, ne, Xn = [], We = le.trim(); if (We === "") return G1; if (We in XS) return [XS[We]]; for (; We !== "";) { switch (ne = null, Ne = (We = QS(We)).charAt(0)) { case '"': case "'": ne = l9(We.substring(1), Ne); break; default: ne = c9(We) }if (ne === null || (Xn.push(ne[0]), (We = QS(ne[1])) !== "" && We.charAt(0) !== ",")) return G1; We = We.replace(/^,/, "") } return Xn }(Zt); if (this.fontFaces) { var ce = o9($t(this.pdf, this.fontFaces), Xt.map(function (le) { return { family: le, stretch: "normal", weight: ae, style: se } })); this.pdf.setFont(ce.ref.name, ce.ref.style) } else { var Ce = ""; (ae === "bold" || parseInt(ae, 10) >= 700 || se === "bold") && (Ce = "bold"), se === "italic" && (Ce += "italic"), Ce.length === 0 && (Ce = "normal"); for (var ke = "", Ae = { arial: "Helvetica", Arial: "Helvetica", verdana: "Helvetica", Verdana: "Helvetica", helvetica: "Helvetica", Helvetica: "Helvetica", "sans-serif": "Helvetica", fixed: "Courier", monospace: "Courier", terminal: "Courier", cursive: "Times", fantasy: "Times", serif: "Times" }, be = 0; be < Xt.length; be++) { if (this.pdf.internal.getFont(Xt[be], Ce, { noFallback: !0, disableWarning: !0 }) !== void 0) { ke = Xt[be]; break } if (Ce === "bolditalic" && this.pdf.internal.getFont(Xt[be], "bold", { noFallback: !0, disableWarning: !0 }) !== void 0) ke = Xt[be], Ce = "bold"; else if (this.pdf.internal.getFont(Xt[be], "normal", { noFallback: !0, disableWarning: !0 }) !== void 0) { ke = Xt[be], Ce = "normal"; break } } if (ke === "") { for (var Fe = 0; Fe < Xt.length; Fe++)if (Ae[Xt[Fe]]) { ke = Ae[Xt[Fe]]; break } } ke = ke === "" ? "Times" : ke, this.pdf.setFont(ke, Ce) } } } }), Object.defineProperty(this, "globalCompositeOperation", { get: function () { return this.ctx.globalCompositeOperation }, set: function (Lt) { this.ctx.globalCompositeOperation = Lt } }), Object.defineProperty(this, "globalAlpha", { get: function () { return this.ctx.globalAlpha }, set: function (Lt) { this.ctx.globalAlpha = Lt } }), Object.defineProperty(this, "lineDashOffset", { get: function () { return this.ctx.lineDashOffset }, set: function (Lt) { this.ctx.lineDashOffset = Lt, ft.call(this) } }), Object.defineProperty(this, "lineDash", { get: function () { return this.ctx.lineDash }, set: function (Lt) { this.ctx.lineDash = Lt, ft.call(this) } }), Object.defineProperty(this, "ignoreClearRect", { get: function () { return this.ctx.ignoreClearRect }, set: function (Lt) { this.ctx.ignoreClearRect = !!Lt } }) }; p.prototype.setLineDash = function (I) { this.lineDash = I }, p.prototype.getLineDash = function () { return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice() }, p.prototype.fill = function () { k.call(this, "fill", !1) }, p.prototype.stroke = function () { k.call(this, "stroke", !1) }, p.prototype.beginPath = function () { this.path = [{ type: "begin" }] }, p.prototype.moveTo = function (I, V) { if (isNaN(I) || isNaN(V)) throw Un.error("jsPDF.context2d.moveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.moveTo"); var Z = this.ctx.transform.applyToPoint(new o(I, V)); this.path.push({ type: "mt", x: Z.x, y: Z.y }), this.ctx.lastPoint = new o(I, V) }, p.prototype.closePath = function () { var I = new o(0, 0), V = 0; for (V = this.path.length - 1; V !== -1; V--)if (this.path[V].type === "begin" && Mn(this.path[V + 1]) === "object" && typeof this.path[V + 1].x == "number") { I = new o(this.path[V + 1].x, this.path[V + 1].y); break } this.path.push({ type: "close" }), this.ctx.lastPoint = new o(I.x, I.y) }, p.prototype.lineTo = function (I, V) { if (isNaN(I) || isNaN(V)) throw Un.error("jsPDF.context2d.lineTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.lineTo"); var Z = this.ctx.transform.applyToPoint(new o(I, V)); this.path.push({ type: "lt", x: Z.x, y: Z.y }), this.ctx.lastPoint = new o(Z.x, Z.y) }, p.prototype.clip = function () { this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), k.call(this, null, !0) }, p.prototype.quadraticCurveTo = function (I, V, Z, st) { if (isNaN(Z) || isNaN(st) || isNaN(I) || isNaN(V)) throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo"); var at = this.ctx.transform.applyToPoint(new o(Z, st)), ct = this.ctx.transform.applyToPoint(new o(I, V)); this.path.push({ type: "qct", x1: ct.x, y1: ct.y, x: at.x, y: at.y }), this.ctx.lastPoint = new o(at.x, at.y) }, p.prototype.bezierCurveTo = function (I, V, Z, st, at, ct) { if (isNaN(at) || isNaN(ct) || isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st)) throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo"); var gt = this.ctx.transform.applyToPoint(new o(at, ct)), xt = this.ctx.transform.applyToPoint(new o(I, V)), Tt = this.ctx.transform.applyToPoint(new o(Z, st)); this.path.push({ type: "bct", x1: xt.x, y1: xt.y, x2: Tt.x, y2: Tt.y, x: gt.x, y: gt.y }), this.ctx.lastPoint = new o(gt.x, gt.y) }, p.prototype.arc = function (I, V, Z, st, at, ct) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st) || isNaN(at)) throw Un.error("jsPDF.context2d.arc: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.arc"); if (ct = !!ct, !this.ctx.transform.isIdentity) { var gt = this.ctx.transform.applyToPoint(new o(I, V)); I = gt.x, V = gt.y; var xt = this.ctx.transform.applyToPoint(new o(0, Z)), Tt = this.ctx.transform.applyToPoint(new o(0, 0)); Z = Math.sqrt(Math.pow(xt.x - Tt.x, 2) + Math.pow(xt.y - Tt.y, 2)) } Math.abs(at - st) >= 2 * Math.PI && (st = 0, at = 2 * Math.PI), this.path.push({ type: "arc", x: I, y: V, radius: Z, startAngle: st, endAngle: at, counterclockwise: ct }) }, p.prototype.arcTo = function (I, V, Z, st, at) { throw new Error("arcTo not implemented.") }, p.prototype.rect = function (I, V, Z, st) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st)) throw Un.error("jsPDF.context2d.rect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rect"); this.moveTo(I, V), this.lineTo(I + Z, V), this.lineTo(I + Z, V + st), this.lineTo(I, V + st), this.lineTo(I, V), this.lineTo(I + Z, V), this.lineTo(I, V) }, p.prototype.fillRect = function (I, V, Z, st) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st)) throw Un.error("jsPDF.context2d.fillRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillRect"); if (!v.call(this)) { var at = {}; this.lineCap !== "butt" && (at.lineCap = this.lineCap, this.lineCap = "butt"), this.lineJoin !== "miter" && (at.lineJoin = this.lineJoin, this.lineJoin = "miter"), this.beginPath(), this.rect(I, V, Z, st), this.fill(), at.hasOwnProperty("lineCap") && (this.lineCap = at.lineCap), at.hasOwnProperty("lineJoin") && (this.lineJoin = at.lineJoin) } }, p.prototype.strokeRect = function (I, V, Z, st) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st)) throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeRect"); x.call(this) || (this.beginPath(), this.rect(I, V, Z, st), this.stroke()) }, p.prototype.clearRect = function (I, V, Z, st) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st)) throw Un.error("jsPDF.context2d.clearRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.clearRect"); this.ignoreClearRect || (this.fillStyle = "#ffffff", this.fillRect(I, V, Z, st)) }, p.prototype.save = function (I) { I = typeof I != "boolean" || I; for (var V = this.pdf.internal.getCurrentPageInfo().pageNumber, Z = 0; Z < this.pdf.internal.getNumberOfPages(); Z++)this.pdf.setPage(Z + 1), this.pdf.internal.out("q"); if (this.pdf.setPage(V), I) { this.ctx.fontSize = this.pdf.internal.getFontSize(); var st = new f(this.ctx); this.ctxStack.push(this.ctx), this.ctx = st } }, p.prototype.restore = function (I) { I = typeof I != "boolean" || I; for (var V = this.pdf.internal.getCurrentPageInfo().pageNumber, Z = 0; Z < this.pdf.internal.getNumberOfPages(); Z++)this.pdf.setPage(Z + 1), this.pdf.internal.out("Q"); this.pdf.setPage(V), I && this.ctxStack.length !== 0 && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset) }, p.prototype.toDataURL = function () { throw new Error("toDataUrl not implemented.") }; var m = function (I) { var V, Z, st, at; if (I.isCanvasGradient === !0 && (I = I.getColor()), !I) return { r: 0, g: 0, b: 0, a: 0, style: I }; if (/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I)) V = 0, Z = 0, st = 0, at = 0; else { var ct = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I); if (ct !== null) V = parseInt(ct[1]), Z = parseInt(ct[2]), st = parseInt(ct[3]), at = 1; else if ((ct = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I)) !== null) V = parseInt(ct[1]), Z = parseInt(ct[2]), st = parseInt(ct[3]), at = parseFloat(ct[4]); else { if (at = 1, typeof I == "string" && I.charAt(0) !== "#") { var gt = new yN(I); I = gt.ok ? gt.toHex() : "#000000" } I.length === 4 ? (V = I.substring(1, 2), V += V, Z = I.substring(2, 3), Z += Z, st = I.substring(3, 4), st += st) : (V = I.substring(1, 3), Z = I.substring(3, 5), st = I.substring(5, 7)), V = parseInt(V, 16), Z = parseInt(Z, 16), st = parseInt(st, 16) } } return { r: V, g: Z, b: st, a: at, style: I } }, v = function () { return this.ctx.isFillTransparent || this.globalAlpha == 0 }, x = function () { return !!(this.ctx.isStrokeTransparent || this.globalAlpha == 0) }; p.prototype.fillText = function (I, V, Z, st) { if (isNaN(V) || isNaN(Z) || typeof I != "string") throw Un.error("jsPDF.context2d.fillText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillText"); if (st = isNaN(st) ? void 0 : st, !v.call(this)) { var at = Q(this.ctx.transform.rotation), ct = this.ctx.transform.scaleX; G.call(this, { text: I, x: V, y: Z, scale: ct, angle: at, align: this.textAlign, maxWidth: st }) } }, p.prototype.strokeText = function (I, V, Z, st) { if (isNaN(V) || isNaN(Z) || typeof I != "string") throw Un.error("jsPDF.context2d.strokeText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeText"); if (!x.call(this)) { st = isNaN(st) ? void 0 : st; var at = Q(this.ctx.transform.rotation), ct = this.ctx.transform.scaleX; G.call(this, { text: I, x: V, y: Z, scale: ct, renderingMode: "stroke", angle: at, align: this.textAlign, maxWidth: st }) } }, p.prototype.measureText = function (I) { if (typeof I != "string") throw Un.error("jsPDF.context2d.measureText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.measureText"); var V = this.pdf, Z = this.pdf.internal.scaleFactor, st = V.internal.getFontSize(), at = V.getStringUnitWidth(I) * st / V.internal.scaleFactor, ct = function (gt) { var xt = (gt = gt || {}).width || 0; return Object.defineProperty(this, "width", { get: function () { return xt } }), this }; return new ct({ width: at *= Math.round(96 * Z / 72 * 1e4) / 1e4 }) }, p.prototype.scale = function (I, V) { if (isNaN(I) || isNaN(V)) throw Un.error("jsPDF.context2d.scale: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.scale"); var Z = new u(I, 0, 0, V, 0, 0); this.ctx.transform = this.ctx.transform.multiply(Z) }, p.prototype.rotate = function (I) { if (isNaN(I)) throw Un.error("jsPDF.context2d.rotate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rotate"); var V = new u(Math.cos(I), Math.sin(I), -Math.sin(I), Math.cos(I), 0, 0); this.ctx.transform = this.ctx.transform.multiply(V) }, p.prototype.translate = function (I, V) { if (isNaN(I) || isNaN(V)) throw Un.error("jsPDF.context2d.translate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.translate"); var Z = new u(1, 0, 0, 1, I, V); this.ctx.transform = this.ctx.transform.multiply(Z) }, p.prototype.transform = function (I, V, Z, st, at, ct) { if (isNaN(I) || isNaN(V) || isNaN(Z) || isNaN(st) || isNaN(at) || isNaN(ct)) throw Un.error("jsPDF.context2d.transform: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.transform"); var gt = new u(I, V, Z, st, at, ct); this.ctx.transform = this.ctx.transform.multiply(gt) }, p.prototype.setTransform = function (I, V, Z, st, at, ct) { I = isNaN(I) ? 1 : I, V = isNaN(V) ? 0 : V, Z = isNaN(Z) ? 0 : Z, st = isNaN(st) ? 1 : st, at = isNaN(at) ? 0 : at, ct = isNaN(ct) ? 0 : ct, this.ctx.transform = new u(I, V, Z, st, at, ct) }; var y = function () { return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0 }; p.prototype.drawImage = function (I, V, Z, st, at, ct, gt, xt, Tt) { var kt = this.pdf.getImageProperties(I), zt = 1, $t = 1, Kt = 1, Lt = 1; st !== void 0 && xt !== void 0 && (Kt = xt / st, Lt = Tt / at, zt = kt.width / st * xt / st, $t = kt.height / at * Tt / at), ct === void 0 && (ct = V, gt = Z, V = 0, Z = 0), st !== void 0 && xt === void 0 && (xt = st, Tt = at), st === void 0 && xt === void 0 && (xt = kt.width, Tt = kt.height); for (var lt, se = this.ctx.transform.decompose(), ae = Q(se.rotate.shx), Vt = new u, Zt = (Vt = (Vt = (Vt = Vt.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new c(ct - V * Kt, gt - Z * Lt, st * zt, at * $t)), Jt = E.call(this, Zt), Xt = [], ce = 0; ce < Jt.length; ce += 1)Xt.indexOf(Jt[ce]) === -1 && Xt.push(Jt[ce]); if (L(Xt), this.autoPaging) for (var Ce = Xt[0], ke = Xt[Xt.length - 1], Ae = Ce; Ae < ke + 1; Ae++) { this.pdf.setPage(Ae); var be = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], Fe = Ae === 1 ? this.posY + this.margin[0] : this.margin[0], le = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], Ne = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], ne = Ae === 1 ? 0 : le + (Ae - 2) * Ne; if (this.ctx.clip_path.length !== 0) { var Xn = this.path; lt = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = T(lt, this.posX + this.margin[3], -ne + Fe + this.ctx.prevPageLastElemOffset), O.call(this, "fill", !0), this.path = Xn } var We = JSON.parse(JSON.stringify(Zt)); We = T([We], this.posX + this.margin[3], -ne + Fe + this.ctx.prevPageLastElemOffset)[0]; var tr = (Ae > Ce || Ae < ke) && y.call(this); tr && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], be, Ne, null).clip().discardPath()), this.pdf.addImage(I, "JPEG", We.x, We.y, We.w, We.h, null, null, ae), tr && this.pdf.restoreGraphicsState() } else this.pdf.addImage(I, "JPEG", Zt.x, Zt.y, Zt.w, Zt.h, null, null, ae) }; var E = function (I, V, Z) { var st = []; V = V || this.pdf.internal.pageSize.width, Z = Z || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2]; var at = this.posY + this.ctx.prevPageLastElemOffset; switch (I.type) { default: case "mt": case "lt": st.push(Math.floor((I.y + at) / Z) + 1); break; case "arc": st.push(Math.floor((I.y + at - I.radius) / Z) + 1), st.push(Math.floor((I.y + at + I.radius) / Z) + 1); break; case "qct": var ct = pt(this.ctx.lastPoint.x, this.ctx.lastPoint.y, I.x1, I.y1, I.x, I.y); st.push(Math.floor((ct.y + at) / Z) + 1), st.push(Math.floor((ct.y + ct.h + at) / Z) + 1); break; case "bct": var gt = Y(this.ctx.lastPoint.x, this.ctx.lastPoint.y, I.x1, I.y1, I.x2, I.y2, I.x, I.y); st.push(Math.floor((gt.y + at) / Z) + 1), st.push(Math.floor((gt.y + gt.h + at) / Z) + 1); break; case "rect": st.push(Math.floor((I.y + at) / Z) + 1), st.push(Math.floor((I.y + I.h + at) / Z) + 1) }for (var xt = 0; xt < st.length; xt += 1)for (; this.pdf.internal.getNumberOfPages() < st[xt];)A.call(this); return st }, A = function () { var I = this.fillStyle, V = this.strokeStyle, Z = this.font, st = this.lineCap, at = this.lineWidth, ct = this.lineJoin; this.pdf.addPage(), this.fillStyle = I, this.strokeStyle = V, this.font = Z, this.lineCap = st, this.lineWidth = at, this.lineJoin = ct }, T = function (I, V, Z) { for (var st = 0; st < I.length; st++)switch (I[st].type) { case "bct": I[st].x2 += V, I[st].y2 += Z; case "qct": I[st].x1 += V, I[st].y1 += Z; case "mt": case "lt": case "arc": default: I[st].x += V, I[st].y += Z }return I }, L = function (I) { return I.sort(function (V, Z) { return V - Z }) }, k = function (I, V) { for (var Z, st, at = this.fillStyle, ct = this.strokeStyle, gt = this.lineCap, xt = this.lineWidth, Tt = Math.abs(xt * this.ctx.transform.scaleX), kt = this.lineJoin, zt = JSON.parse(JSON.stringify(this.path)), $t = JSON.parse(JSON.stringify(this.path)), Kt = [], Lt = 0; Lt < $t.length; Lt++)if ($t[Lt].x !== void 0) for (var lt = E.call(this, $t[Lt]), se = 0; se < lt.length; se += 1)Kt.indexOf(lt[se]) === -1 && Kt.push(lt[se]); for (var ae = 0; ae < Kt.length; ae++)for (; this.pdf.internal.getNumberOfPages() < Kt[ae];)A.call(this); if (L(Kt), this.autoPaging) for (var Vt = Kt[0], Zt = Kt[Kt.length - 1], Jt = Vt; Jt < Zt + 1; Jt++) { this.pdf.setPage(Jt), this.fillStyle = at, this.strokeStyle = ct, this.lineCap = gt, this.lineWidth = Tt, this.lineJoin = kt; var Xt = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], ce = Jt === 1 ? this.posY + this.margin[0] : this.margin[0], Ce = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], ke = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], Ae = Jt === 1 ? 0 : Ce + (Jt - 2) * ke; if (this.ctx.clip_path.length !== 0) { var be = this.path; Z = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = T(Z, this.posX + this.margin[3], -Ae + ce + this.ctx.prevPageLastElemOffset), O.call(this, I, !0), this.path = be } if (st = JSON.parse(JSON.stringify(zt)), this.path = T(st, this.posX + this.margin[3], -Ae + ce + this.ctx.prevPageLastElemOffset), V === !1 || Jt === 0) { var Fe = (Jt > Vt || Jt < Zt) && y.call(this); Fe && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], Xt, ke, null).clip().discardPath()), O.call(this, I, V), Fe && this.pdf.restoreGraphicsState() } this.lineWidth = xt } else this.lineWidth = Tt, O.call(this, I, V), this.lineWidth = xt; this.path = zt }, O = function (I, V) { if ((I !== "stroke" || V || !x.call(this)) && (I === "stroke" || V || !v.call(this))) { for (var Z, st, at = [], ct = this.path, gt = 0; gt < ct.length; gt++) { var xt = ct[gt]; switch (xt.type) { case "begin": at.push({ begin: !0 }); break; case "close": at.push({ close: !0 }); break; case "mt": at.push({ start: xt, deltas: [], abs: [] }); break; case "lt": var Tt = at.length; if (ct[gt - 1] && !isNaN(ct[gt - 1].x) && (Z = [xt.x - ct[gt - 1].x, xt.y - ct[gt - 1].y], Tt > 0)) { for (; Tt >= 0; Tt--)if (at[Tt - 1].close !== !0 && at[Tt - 1].begin !== !0) { at[Tt - 1].deltas.push(Z), at[Tt - 1].abs.push(xt); break } } break; case "bct": Z = [xt.x1 - ct[gt - 1].x, xt.y1 - ct[gt - 1].y, xt.x2 - ct[gt - 1].x, xt.y2 - ct[gt - 1].y, xt.x - ct[gt - 1].x, xt.y - ct[gt - 1].y], at[at.length - 1].deltas.push(Z); break; case "qct": var kt = ct[gt - 1].x + 2 / 3 * (xt.x1 - ct[gt - 1].x), zt = ct[gt - 1].y + 2 / 3 * (xt.y1 - ct[gt - 1].y), $t = xt.x + 2 / 3 * (xt.x1 - xt.x), Kt = xt.y + 2 / 3 * (xt.y1 - xt.y), Lt = xt.x, lt = xt.y; Z = [kt - ct[gt - 1].x, zt - ct[gt - 1].y, $t - ct[gt - 1].x, Kt - ct[gt - 1].y, Lt - ct[gt - 1].x, lt - ct[gt - 1].y], at[at.length - 1].deltas.push(Z); break; case "arc": at.push({ deltas: [], abs: [], arc: !0 }), Array.isArray(at[at.length - 1].abs) && at[at.length - 1].abs.push(xt) } } st = V ? null : I === "stroke" ? "stroke" : "fill"; for (var se = !1, ae = 0; ae < at.length; ae++)if (at[ae].arc) for (var Vt = at[ae].abs, Zt = 0; Zt < Vt.length; Zt++) { var Jt = Vt[Zt]; Jt.type === "arc" ? j.call(this, Jt.x, Jt.y, Jt.radius, Jt.startAngle, Jt.endAngle, Jt.counterclockwise, void 0, V, !se) : it.call(this, Jt.x, Jt.y), se = !0 } else if (at[ae].close === !0) this.pdf.internal.out("h"), se = !1; else if (at[ae].begin !== !0) { var Xt = at[ae].start.x, ce = at[ae].start.y; nt.call(this, at[ae].deltas, Xt, ce), se = !0 } st && J.call(this, st), V && ot.call(this) } }, F = function (I) { var V = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor, Z = V * (this.pdf.internal.getLineHeightFactor() - 1); switch (this.ctx.textBaseline) { case "bottom": return I - Z; case "top": return I + V - Z; case "hanging": return I + V - 2 * Z; case "middle": return I + V / 2 - Z; case "ideographic": return I; case "alphabetic": default: return I } }, D = function (I) { return I + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1) }; p.prototype.createLinearGradient = function () { var I = function () { }; return I.colorStops = [], I.addColorStop = function (V, Z) { this.colorStops.push([V, Z]) }, I.getColor = function () { return this.colorStops.length === 0 ? "#000000" : this.colorStops[0][1] }, I.isCanvasGradient = !0, I }, p.prototype.createPattern = function () { return this.createLinearGradient() }, p.prototype.createRadialGradient = function () { return this.createLinearGradient() }; var j = function (I, V, Z, st, at, ct, gt, xt, Tt) { for (var kt = U.call(this, Z, st, at, ct), zt = 0; zt < kt.length; zt++) { var $t = kt[zt]; zt === 0 && (Tt ? z.call(this, $t.x1 + I, $t.y1 + V) : it.call(this, $t.x1 + I, $t.y1 + V)), ht.call(this, I, V, $t.x2, $t.y2, $t.x3, $t.y3, $t.x4, $t.y4) } xt ? ot.call(this) : J.call(this, gt) }, J = function (I) { switch (I) { case "stroke": this.pdf.internal.out("S"); break; case "fill": this.pdf.internal.out("f") } }, ot = function () { this.pdf.clip(), this.pdf.discardPath() }, z = function (I, V) { this.pdf.internal.out(e(I) + " " + n(V) + " m") }, G = function (I) { var V; switch (I.align) { case "right": case "end": V = "right"; break; case "center": V = "center"; break; case "left": case "start": default: V = "left" }var Z = this.pdf.getTextDimensions(I.text), st = F.call(this, I.y), at = D.call(this, st) - Z.h, ct = this.ctx.transform.applyToPoint(new o(I.x, st)), gt = this.ctx.transform.decompose(), xt = new u; xt = (xt = (xt = xt.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale); for (var Tt, kt, zt, $t = this.ctx.transform.applyToRectangle(new c(I.x, st, Z.w, Z.h)), Kt = xt.applyToRectangle(new c(I.x, at, Z.w, Z.h)), Lt = E.call(this, Kt), lt = [], se = 0; se < Lt.length; se += 1)lt.indexOf(Lt[se]) === -1 && lt.push(Lt[se]); if (L(lt), this.autoPaging) for (var ae = lt[0], Vt = lt[lt.length - 1], Zt = ae; Zt < Vt + 1; Zt++) { this.pdf.setPage(Zt); var Jt = Zt === 1 ? this.posY + this.margin[0] : this.margin[0], Xt = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], ce = this.pdf.internal.pageSize.height - this.margin[2], Ce = ce - this.margin[0], ke = this.pdf.internal.pageSize.width - this.margin[1], Ae = ke - this.margin[3], be = Zt === 1 ? 0 : Xt + (Zt - 2) * Ce; if (this.ctx.clip_path.length !== 0) { var Fe = this.path; Tt = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = T(Tt, this.posX + this.margin[3], -1 * be + Jt), O.call(this, "fill", !0), this.path = Fe } var le = T([JSON.parse(JSON.stringify(Kt))], this.posX + this.margin[3], -be + Jt + this.ctx.prevPageLastElemOffset)[0]; I.scale >= .01 && (kt = this.pdf.internal.getFontSize(), this.pdf.setFontSize(kt * I.scale), zt = this.lineWidth, this.lineWidth = zt * I.scale); var Ne = this.autoPaging !== "text"; if (Ne || le.y + le.h <= ce) { if (Ne || le.y >= Jt && le.x <= ke) { var ne = Ne ? I.text : this.pdf.splitTextToSize(I.text, I.maxWidth || ke - le.x)[0], Xn = T([JSON.parse(JSON.stringify($t))], this.posX + this.margin[3], -be + Jt + this.ctx.prevPageLastElemOffset)[0], We = Ne && (Zt > ae || Zt < Vt) && y.call(this); We && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], Ae, Ce, null).clip().discardPath()), this.pdf.text(ne, Xn.x, Xn.y, { angle: I.angle, align: V, renderingMode: I.renderingMode }), We && this.pdf.restoreGraphicsState() } } else le.y < ce && (this.ctx.prevPageLastElemOffset += ce - le.y); I.scale >= .01 && (this.pdf.setFontSize(kt), this.lineWidth = zt) } else I.scale >= .01 && (kt = this.pdf.internal.getFontSize(), this.pdf.setFontSize(kt * I.scale), zt = this.lineWidth, this.lineWidth = zt * I.scale), this.pdf.text(I.text, ct.x + this.posX, ct.y + this.posY, { angle: I.angle, align: V, renderingMode: I.renderingMode, maxWidth: I.maxWidth }), I.scale >= .01 && (this.pdf.setFontSize(kt), this.lineWidth = zt) }, it = function (I, V, Z, st) { Z = Z || 0, st = st || 0, this.pdf.internal.out(e(I + Z) + " " + n(V + st) + " l") }, nt = function (I, V, Z) { return this.pdf.lines(I, V, Z, null, null) }, ht = function (I, V, Z, st, at, ct, gt, xt) { this.pdf.internal.out([t(r(Z + I)), t(s(st + V)), t(r(at + I)), t(s(ct + V)), t(r(gt + I)), t(s(xt + V)), "c"].join(" ")) }, U = function (I, V, Z, st) { for (var at = 2 * Math.PI, ct = Math.PI / 2; V > Z;)V -= at; var gt = Math.abs(Z - V); gt < at && st && (gt = at - gt); for (var xt = [], Tt = st ? -1 : 1, kt = V; gt > 1e-5;) { var zt = kt + Tt * Math.min(gt, ct); xt.push(tt.call(this, I, kt, zt)), gt -= Math.abs(zt - kt), kt = zt } return xt }, tt = function (I, V, Z) { var st = (Z - V) / 2, at = I * Math.cos(st), ct = I * Math.sin(st), gt = at, xt = -ct, Tt = gt * gt + xt * xt, kt = Tt + gt * at + xt * ct, zt = 4 / 3 * (Math.sqrt(2 * Tt * kt) - kt) / (gt * ct - xt * at), $t = gt - zt * xt, Kt = xt + zt * gt, Lt = $t, lt = -Kt, se = st + V, ae = Math.cos(se), Vt = Math.sin(se); return { x1: I * Math.cos(V), y1: I * Math.sin(V), x2: $t * ae - Kt * Vt, y2: $t * Vt + Kt * ae, x3: Lt * ae - lt * Vt, y3: Lt * Vt + lt * ae, x4: I * Math.cos(Z), y4: I * Math.sin(Z) } }, Q = function (I) { return 180 * I / Math.PI }, pt = function (I, V, Z, st, at, ct) { var gt = I + .5 * (Z - I), xt = V + .5 * (st - V), Tt = at + .5 * (Z - at), kt = ct + .5 * (st - ct), zt = Math.min(I, at, gt, Tt), $t = Math.max(I, at, gt, Tt), Kt = Math.min(V, ct, xt, kt), Lt = Math.max(V, ct, xt, kt); return new c(zt, Kt, $t - zt, Lt - Kt) }, Y = function (I, V, Z, st, at, ct, gt, xt) { var Tt, kt, zt, $t, Kt, Lt, lt, se, ae, Vt, Zt, Jt, Xt, ce, Ce = Z - I, ke = st - V, Ae = at - Z, be = ct - st, Fe = gt - at, le = xt - ct; for (kt = 0; kt < 41; kt++)ae = (lt = (zt = I + (Tt = kt / 40) * Ce) + Tt * ((Kt = Z + Tt * Ae) - zt)) + Tt * (Kt + Tt * (at + Tt * Fe - Kt) - lt), Vt = (se = ($t = V + Tt * ke) + Tt * ((Lt = st + Tt * be) - $t)) + Tt * (Lt + Tt * (ct + Tt * le - Lt) - se), kt == 0 ? (Zt = ae, Jt = Vt, Xt = ae, ce = Vt) : (Zt = Math.min(Zt, ae), Jt = Math.min(Jt, Vt), Xt = Math.max(Xt, ae), ce = Math.max(ce, Vt)); return new c(Math.round(Zt), Math.round(Jt), Math.round(Xt - Zt), Math.round(ce - Jt)) }, ft = function () { if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) { var I, V, Z = (I = this.ctx.lineDash, V = this.ctx.lineDashOffset, JSON.stringify({ lineDash: I, lineDashOffset: V })); this.prevLineDash !== Z && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = Z) } } })(_e.API), function (i) { var t = function (s) { var o, c, u, d, f, p, m, v, x, y; for (c = [], u = 0, d = (s += o = "\0\0\0\0".slice(s.length % 4 || 4)).length; d > u; u += 4)(f = (s.charCodeAt(u) << 24) + (s.charCodeAt(u + 1) << 16) + (s.charCodeAt(u + 2) << 8) + s.charCodeAt(u + 3)) !== 0 ? (p = (f = ((f = ((f = ((f = (f - (y = f % 85)) / 85) - (x = f % 85)) / 85) - (v = f % 85)) / 85) - (m = f % 85)) / 85) % 85, c.push(p + 33, m + 33, v + 33, x + 33, y + 33)) : c.push(122); return function (E, A) { for (var T = A; T > 0; T--)E.pop() }(c, o.length), String.fromCharCode.apply(String, c) + "~>" }, e = function (s) { var o, c, u, d, f, p = String, m = "length", v = 255, x = "charCodeAt", y = "slice", E = "replace"; for (s[y](-2), s = s[y](0, -2)[E](/\s/g, "")[E]("z", "!!!!!"), u = [], d = 0, f = (s += o = "uuuuu"[y](s[m] % 5 || 5))[m]; f > d; d += 5)c = 52200625 * (s[x](d) - 33) + 614125 * (s[x](d + 1) - 33) + 7225 * (s[x](d + 2) - 33) + 85 * (s[x](d + 3) - 33) + (s[x](d + 4) - 33), u.push(v & c >> 24, v & c >> 16, v & c >> 8, v & c); return function (A, T) { for (var L = T; L > 0; L--)A.pop() }(u, o[m]), p.fromCharCode.apply(p, u) }, n = function (s) { var o = new RegExp(/^([0-9A-Fa-f]{2})+$/); if ((s = s.replace(/\s/g, "")).indexOf(">") !== -1 && (s = s.substr(0, s.indexOf(">"))), s.length % 2 && (s += "0"), o.test(s) === !1) return ""; for (var c = "", u = 0; u < s.length; u += 2)c += String.fromCharCode("0x" + (s[u] + s[u + 1])); return c }, r = function (s) { for (var o = new Uint8Array(s.length), c = s.length; c--;)o[c] = s.charCodeAt(c); return s = (o = Xb(o)).reduce(function (u, d) { return u + String.fromCharCode(d) }, "") }; i.processDataByFilters = function (s, o) { var c = 0, u = s || "", d = []; for (typeof (o = o || []) == "string" && (o = [o]), c = 0; c < o.length; c += 1)switch (o[c]) { case "ASCII85Decode": case "/ASCII85Decode": u = e(u), d.push("/ASCII85Encode"); break; case "ASCII85Encode": case "/ASCII85Encode": u = t(u), d.push("/ASCII85Decode"); break; case "ASCIIHexDecode": case "/ASCIIHexDecode": u = n(u), d.push("/ASCIIHexEncode"); break; case "ASCIIHexEncode": case "/ASCIIHexEncode": u = u.split("").map(function (f) { return ("0" + f.charCodeAt().toString(16)).slice(-2) }).join("") + ">", d.push("/ASCIIHexDecode"); break; case "FlateEncode": case "/FlateEncode": u = r(u), d.push("/FlateDecode"); break; default: throw new Error('The filter: "' + o[c] + '" is not implemented') }return { data: u, reverseChain: d.reverse().join(" ") } } }(_e.API), function (i) { i.loadFile = function (t, e, n) { return function (r, s, o) { s = s !== !1, o = typeof o == "function" ? o : function () { }; var c = void 0; try { c = function (u, d, f) { var p = new XMLHttpRequest, m = 0, v = function (x) { var y = x.length, E = [], A = String.fromCharCode; for (m = 0; m < y; m += 1)E.push(A(255 & x.charCodeAt(m))); return E.join("") }; if (p.open("GET", u, !d), p.overrideMimeType("text/plain; charset=x-user-defined"), d === !1 && (p.onload = function () { p.status === 200 ? f(v(this.responseText)) : f(void 0) }), p.send(null), d && p.status === 200) return v(p.responseText) }(r, s, o) } catch { } return c }(t, e, n) }, i.loadImageFile = i.loadFile }(_e.API), function (i) { function t() { return (Me.html2canvas ? Promise.resolve(Me.html2canvas) : Vb(() => import("./html2canvas.esm-BfxBtG_O.js"), [])).catch(function (o) { return Promise.reject(new Error("Could not load html2canvas: " + o)) }).then(function (o) { return o.default ? o.default : o }) } function e() { return (Me.DOMPurify ? Promise.resolve(Me.DOMPurify) : Vb(() => import("./purify.es-CQJ0hv7W.js"), [])).catch(function (o) { return Promise.reject(new Error("Could not load dompurify: " + o)) }).then(function (o) { return o.default ? o.default : o }) } var n = function (o) { var c = Mn(o); return c === "undefined" ? "undefined" : c === "string" || o instanceof String ? "string" : c === "number" || o instanceof Number ? "number" : c === "function" || o instanceof Function ? "function" : o && o.constructor === Array ? "array" : o && o.nodeType === 1 ? "element" : c === "object" ? "object" : "unknown" }, r = function (o, c) { var u = document.createElement(o); for (var d in c.className && (u.className = c.className), c.innerHTML && c.dompurify && (u.innerHTML = c.dompurify.sanitize(c.innerHTML)), c.style) u.style[d] = c.style[d]; return u }, s = function o(c) { var u = Object.assign(o.convert(Promise.resolve()), JSON.parse(JSON.stringify(o.template))), d = o.convert(Promise.resolve(), u); return d = (d = d.setProgress(1, o, 1, [o])).set(c) }; (s.prototype = Object.create(Promise.prototype)).constructor = s, s.convert = function (o, c) { return o.__proto__ = c || s.prototype, o }, s.template = { prop: { src: null, container: null, overlay: null, canvas: null, img: null, pdf: null, pageSize: null, callback: function () { } }, progress: { val: 0, state: null, n: 0, stack: [] }, opt: { filename: "file.pdf", margin: [0, 0, 0, 0], enableLinks: !0, x: 0, y: 0, html2canvas: {}, jsPDF: {}, backgroundColor: "transparent" } }, s.prototype.from = function (o, c) { return this.then(function () { switch (c = c || function (u) { switch (n(u)) { case "string": return "string"; case "element": return u.nodeName.toLowerCase() === "canvas" ? "canvas" : "element"; default: return "unknown" } }(o)) { case "string": return this.then(e).then(function (u) { return this.set({ src: r("div", { innerHTML: o, dompurify: u }) }) }); case "element": return this.set({ src: o }); case "canvas": return this.set({ canvas: o }); case "img": return this.set({ img: o }); default: return this.error("Unknown source type.") } }) }, s.prototype.to = function (o) { switch (o) { case "container": return this.toContainer(); case "canvas": return this.toCanvas(); case "img": return this.toImg(); case "pdf": return this.toPdf(); default: return this.error("Invalid target.") } }, s.prototype.toContainer = function () { return this.thenList([function () { return this.prop.src || this.error("Cannot duplicate - no source HTML.") }, function () { return this.prop.pageSize || this.setPageSize() }]).then(function () { var o = { position: "relative", display: "inline-block", width: (typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + "px", left: 0, right: 0, top: 0, margin: "auto", backgroundColor: this.opt.backgroundColor }, c = function u(d, f) { for (var p = d.nodeType === 3 ? document.createTextNode(d.nodeValue) : d.cloneNode(!1), m = d.firstChild; m; m = m.nextSibling)f !== !0 && m.nodeType === 1 && m.nodeName === "SCRIPT" || p.appendChild(u(m, f)); return d.nodeType === 1 && (d.nodeName === "CANVAS" ? (p.width = d.width, p.height = d.height, p.getContext("2d").drawImage(d, 0, 0)) : d.nodeName !== "TEXTAREA" && d.nodeName !== "SELECT" || (p.value = d.value), p.addEventListener("load", function () { p.scrollTop = d.scrollTop, p.scrollLeft = d.scrollLeft }, !0)), p }(this.prop.src, this.opt.html2canvas.javascriptEnabled); c.tagName === "BODY" && (o.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + "px"), this.prop.overlay = r("div", { className: "html2pdf__overlay", style: { position: "fixed", overflow: "hidden", zIndex: 1e3, left: "-100000px", right: 0, bottom: 0, top: 0 } }), this.prop.container = r("div", { className: "html2pdf__container", style: o }), this.prop.container.appendChild(c), this.prop.container.firstChild.appendChild(r("div", { style: { clear: "both", border: "0 none transparent", margin: 0, padding: 0, height: 0 } })), this.prop.container.style.float = "none", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = "relative", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + "px" }) }, s.prototype.toCanvas = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(t).then(function (c) { var u = Object.assign({}, this.opt.html2canvas); return delete u.onrendered, c(this.prop.container, u) }).then(function (c) { (this.opt.html2canvas.onrendered || function () { })(c), this.prop.canvas = c, document.body.removeChild(this.prop.overlay) }) }, s.prototype.toContext2d = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(t).then(function (c) { var u = this.opt.jsPDF, d = this.opt.fontFaces, f = typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth, p = Object.assign({ async: !0, allowTaint: !0, scale: f, scrollX: this.opt.scrollX || 0, scrollY: this.opt.scrollY || 0, backgroundColor: "#ffffff", imageTimeout: 15e3, logging: !0, proxy: null, removeContainer: !0, foreignObjectRendering: !1, useCORS: !1 }, this.opt.html2canvas); if (delete p.onrendered, u.context2d.autoPaging = this.opt.autoPaging === void 0 || this.opt.autoPaging, u.context2d.posX = this.opt.x, u.context2d.posY = this.opt.y, u.context2d.margin = this.opt.margin, u.context2d.fontFaces = d, d) for (var m = 0; m < d.length; ++m) { var v = d[m], x = v.src.find(function (y) { return y.format === "truetype" }); x && u.addFont(x.url, v.ref.name, v.ref.style) } return p.windowHeight = p.windowHeight || 0, p.windowHeight = p.windowHeight == 0 ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : p.windowHeight, u.context2d.save(!0), c(this.prop.container, p) }).then(function (c) { this.opt.jsPDF.context2d.restore(!0), (this.opt.html2canvas.onrendered || function () { })(c), this.prop.canvas = c, document.body.removeChild(this.prop.overlay) }) }, s.prototype.toImg = function () { return this.thenList([function () { return this.prop.canvas || this.toCanvas() }]).then(function () { var o = this.prop.canvas.toDataURL("image/" + this.opt.image.type, this.opt.image.quality); this.prop.img = document.createElement("img"), this.prop.img.src = o }) }, s.prototype.toPdf = function () { return this.thenList([function () { return this.toContext2d() }]).then(function () { this.prop.pdf = this.prop.pdf || this.opt.jsPDF }) }, s.prototype.output = function (o, c, u) { return (u = u || "pdf").toLowerCase() === "img" || u.toLowerCase() === "image" ? this.outputImg(o, c) : this.outputPdf(o, c) }, s.prototype.outputPdf = function (o, c) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { return this.prop.pdf.output(o, c) }) }, s.prototype.outputImg = function (o) { return this.thenList([function () { return this.prop.img || this.toImg() }]).then(function () { switch (o) { case void 0: case "img": return this.prop.img; case "datauristring": case "dataurlstring": return this.prop.img.src; case "datauri": case "dataurl": return document.location.href = this.prop.img.src; default: throw 'Image output type "' + o + '" is not supported.' } }) }, s.prototype.save = function (o) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).set(o ? { filename: o } : null).then(function () { this.prop.pdf.save(this.opt.filename) }) }, s.prototype.doCallback = function () { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { this.prop.callback(this.prop.pdf) }) }, s.prototype.set = function (o) { if (n(o) !== "object") return this; var c = Object.keys(o || {}).map(function (u) { if (u in s.template.prop) return function () { this.prop[u] = o[u] }; switch (u) { case "margin": return this.setMargin.bind(this, o.margin); case "jsPDF": return function () { return this.opt.jsPDF = o.jsPDF, this.setPageSize() }; case "pageSize": return this.setPageSize.bind(this, o.pageSize); default: return function () { this.opt[u] = o[u] } } }, this); return this.then(function () { return this.thenList(c) }) }, s.prototype.get = function (o, c) { return this.then(function () { var u = o in s.template.prop ? this.prop[o] : this.opt[o]; return c ? c(u) : u }) }, s.prototype.setMargin = function (o) { return this.then(function () { switch (n(o)) { case "number": o = [o, o, o, o]; case "array": if (o.length === 2 && (o = [o[0], o[1], o[0], o[1]]), o.length === 4) break; default: return this.error("Invalid margin array.") }this.opt.margin = o }).then(this.setPageSize) }, s.prototype.setPageSize = function (o) { function c(u, d) { return Math.floor(u * d / 72 * 96) } return this.then(function () { (o = o || _e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner") || (o.inner = { width: o.width - this.opt.margin[1] - this.opt.margin[3], height: o.height - this.opt.margin[0] - this.opt.margin[2] }, o.inner.px = { width: c(o.inner.width, o.k), height: c(o.inner.height, o.k) }, o.inner.ratio = o.inner.height / o.inner.width), this.prop.pageSize = o }) }, s.prototype.setProgress = function (o, c, u, d) { return o != null && (this.progress.val = o), c != null && (this.progress.state = c), u != null && (this.progress.n = u), d != null && (this.progress.stack = d), this.progress.ratio = this.progress.val / this.progress.state, this }, s.prototype.updateProgress = function (o, c, u, d) { return this.setProgress(o ? this.progress.val + o : null, c || null, u ? this.progress.n + u : null, d ? this.progress.stack.concat(d) : null) }, s.prototype.then = function (o, c) { var u = this; return this.thenCore(o, c, function (d, f) { return u.updateProgress(null, null, 1, [d]), Promise.prototype.then.call(this, function (p) { return u.updateProgress(null, d), p }).then(d, f).then(function (p) { return u.updateProgress(1), p }) }) }, s.prototype.thenCore = function (o, c, u) { u = u || Promise.prototype.then, o && (o = o.bind(this)), c && (c = c.bind(this)); var d = Promise.toString().indexOf("[native code]") !== -1 && Promise.name === "Promise" ? this : s.convert(Object.assign({}, this), Promise.prototype), f = u.call(d, o, c); return s.convert(f, this.__proto__) }, s.prototype.thenExternal = function (o, c) { return Promise.prototype.then.call(this, o, c) }, s.prototype.thenList = function (o) { var c = this; return o.forEach(function (u) { c = c.thenCore(u) }), c }, s.prototype.catch = function (o) { o && (o = o.bind(this)); var c = Promise.prototype.catch.call(this, o); return s.convert(c, this) }, s.prototype.catchExternal = function (o) { return Promise.prototype.catch.call(this, o) }, s.prototype.error = function (o) { return this.then(function () { throw new Error(o) }) }, s.prototype.using = s.prototype.set, s.prototype.saveAs = s.prototype.save, s.prototype.export = s.prototype.output, s.prototype.run = s.prototype.then, _e.getPageSize = function (o, c, u) { if (Mn(o) === "object") { var d = o; o = d.orientation, c = d.unit || c, u = d.format || u } c = c || "mm", u = u || "a4", o = ("" + (o || "P")).toLowerCase(); var f, p = ("" + u).toLowerCase(), m = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; switch (c) { case "pt": f = 1; break; case "mm": f = 72 / 25.4; break; case "cm": f = 72 / 2.54; break; case "in": f = 72; break; case "px": f = .75; break; case "pc": case "em": f = 12; break; case "ex": f = 6; break; default: throw "Invalid unit: " + c }var v, x = 0, y = 0; if (m.hasOwnProperty(p)) x = m[p][1] / f, y = m[p][0] / f; else try { x = u[1], y = u[0] } catch { throw new Error("Invalid format: " + u) } if (o === "p" || o === "portrait") o = "p", y > x && (v = y, y = x, x = v); else { if (o !== "l" && o !== "landscape") throw "Invalid orientation: " + o; o = "l", x > y && (v = y, y = x, x = v) } return { width: y, height: x, unit: c, k: f, orientation: o } }, i.html = function (o, c) { (c = c || {}).callback = c.callback || function () { }, c.html2canvas = c.html2canvas || {}, c.html2canvas.canvas = c.html2canvas.canvas || this.canvas, c.jsPDF = c.jsPDF || this, c.fontFaces = c.fontFaces ? c.fontFaces.map(ey) : null; var u = new s(c); return c.worker ? u : u.from(o).doCallback() } }(_e.API), _e.API.addJS = function (i) { return JS = i, this.internal.events.subscribe("postPutResources", function () { Em = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/Names [(EmbeddedJS) " + (Em + 1) + " 0 R]"), this.internal.out(">>"), this.internal.out("endobj"), ZS = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /JavaScript"), this.internal.out("/JS (" + JS + ")"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { Em !== void 0 && ZS !== void 0 && this.internal.out("/Names <</JavaScript " + Em + " 0 R>>") }), this }, function (i) {
  var t; i.events.push(["postPutResources", function () { var e = this, n = /^(\d+) 0 obj$/; if (this.outline.root.children.length > 0) for (var r = e.outline.render().split(/\r\n/), s = 0; s < r.length; s++) { var o = r[s], c = n.exec(o); if (c != null) { var u = c[1]; e.internal.newObjectDeferredBegin(u, !1) } e.internal.write(o) } if (this.outline.createNamedDestinations) { var d = this.internal.pages.length, f = []; for (s = 0; s < d; s++) { var p = e.internal.newObject(); f.push(p); var m = e.internal.getPageInfo(s + 1); e.internal.write("<< /D[" + m.objId + " 0 R /XYZ null null null]>> endobj") } var v = e.internal.newObject(); for (e.internal.write("<< /Names [ "), s = 0; s < f.length; s++)e.internal.write("(page_" + (s + 1) + ")" + f[s] + " 0 R"); e.internal.write(" ] >>", "endobj"), t = e.internal.newObject(), e.internal.write("<< /Dests " + v + " 0 R"), e.internal.write(">>", "endobj") } }]), i.events.push(["putCatalog", function () { this.outline.root.children.length > 0 && (this.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && this.internal.write("/Names " + t + " 0 R")) }]), i.events.push(["initialized", function () {
    var e = this; e.outline = { createNamedDestinations: !1, root: { children: [] } }, e.outline.add = function (n, r, s) { var o = { title: r, options: s, children: [] }; return n == null && (n = this.root), n.children.push(o), o }, e.outline.render = function () { return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = e, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val }, e.outline.genIds_r = function (n) { n.id = e.internal.newObjectDeferred(); for (var r = 0; r < n.children.length; r++)this.genIds_r(n.children[r]) }, e.outline.renderRoot = function (n) { this.objStart(n), this.line("/Type /Outlines"), n.children.length > 0 && (this.line("/First " + this.makeRef(n.children[0])), this.line("/Last " + this.makeRef(n.children[n.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, n)), this.objEnd() }, e.outline.renderItems = function (n) { for (var r = this.ctx.pdf.internal.getVerticalCoordinateString, s = 0; s < n.children.length; s++) { var o = n.children[s]; this.objStart(o), this.line("/Title " + this.makeString(o.title)), this.line("/Parent " + this.makeRef(n)), s > 0 && this.line("/Prev " + this.makeRef(n.children[s - 1])), s < n.children.length - 1 && this.line("/Next " + this.makeRef(n.children[s + 1])), o.children.length > 0 && (this.line("/First " + this.makeRef(o.children[0])), this.line("/Last " + this.makeRef(o.children[o.children.length - 1]))); var c = this.count = this.count_r({ count: 0 }, o); if (c > 0 && this.line("/Count " + c), o.options && o.options.pageNumber) { var u = e.internal.getPageInfo(o.options.pageNumber); this.line("/Dest [" + u.objId + " 0 R /XYZ 0 " + r(0) + " 0]") } this.objEnd() } for (var d = 0; d < n.children.length; d++)this.renderItems(n.children[d]) }, e.outline.line = function (n) {
      this.ctx.val += n + `\r
`}, e.outline.makeRef = function (n) { return n.id + " 0 R" }, e.outline.makeString = function (n) { return "(" + e.internal.pdfEscape(n) + ")" }, e.outline.objStart = function (n) {
        this.ctx.val += `\r
`+ n.id + ` 0 obj\r
<<\r
`}, e.outline.objEnd = function () {
        this.ctx.val += `>> \r
endobj\r
`}, e.outline.count_r = function (n, r) { for (var s = 0; s < r.children.length; s++)n.count++, this.count_r(n, r.children[s]); return n.count }
  }])
}(_e.API), function (i) { var t = [192, 193, 194, 195, 196, 197, 198, 199]; i.processJPEG = function (e, n, r, s, o, c) { var u, d = this.decode.DCT_DECODE, f = null; if (typeof e == "string" || this.__addimage__.isArrayBuffer(e) || this.__addimage__.isArrayBufferView(e)) { switch (e = o || e, e = this.__addimage__.isArrayBuffer(e) ? new Uint8Array(e) : e, (u = function (p) { for (var m, v = 256 * p.charCodeAt(4) + p.charCodeAt(5), x = p.length, y = { width: 0, height: 0, numcomponents: 1 }, E = 4; E < x; E += 2) { if (E += v, t.indexOf(p.charCodeAt(E + 1)) !== -1) { m = 256 * p.charCodeAt(E + 5) + p.charCodeAt(E + 6), y = { width: 256 * p.charCodeAt(E + 7) + p.charCodeAt(E + 8), height: m, numcomponents: p.charCodeAt(E + 9) }; break } v = 256 * p.charCodeAt(E + 2) + p.charCodeAt(E + 3) } return y }(e = this.__addimage__.isArrayBufferView(e) ? this.__addimage__.arrayBufferToBinaryString(e) : e)).numcomponents) { case 1: c = this.color_spaces.DEVICE_GRAY; break; case 4: c = this.color_spaces.DEVICE_CMYK; break; case 3: c = this.color_spaces.DEVICE_RGB }f = { data: e, width: u.width, height: u.height, colorSpace: c, bitsPerComponent: 8, filter: d, index: n, alias: r } } return f } }(_e.API); var cd, _m, tA, eA, nA, u9 = function () { var i, t, e; function n(s) { var o, c, u, d, f, p, m, v, x, y, E, A, T, L; for (this.data = s, this.pos = 8, this.palette = [], this.imgData = [], this.transparency = {}, this.animation = null, this.text = {}, p = null; ;) { switch (o = this.readUInt32(), x = (function () { var k, O; for (O = [], k = 0; k < 4; ++k)O.push(String.fromCharCode(this.data[this.pos++])); return O }).call(this).join("")) { case "IHDR": this.width = this.readUInt32(), this.height = this.readUInt32(), this.bits = this.data[this.pos++], this.colorType = this.data[this.pos++], this.compressionMethod = this.data[this.pos++], this.filterMethod = this.data[this.pos++], this.interlaceMethod = this.data[this.pos++]; break; case "acTL": this.animation = { numFrames: this.readUInt32(), numPlays: this.readUInt32() || 1 / 0, frames: [] }; break; case "PLTE": this.palette = this.read(o); break; case "fcTL": p && this.animation.frames.push(p), this.pos += 4, p = { width: this.readUInt32(), height: this.readUInt32(), xOffset: this.readUInt32(), yOffset: this.readUInt32() }, f = this.readUInt16(), d = this.readUInt16() || 100, p.delay = 1e3 * f / d, p.disposeOp = this.data[this.pos++], p.blendOp = this.data[this.pos++], p.data = []; break; case "IDAT": case "fdAT": for (x === "fdAT" && (this.pos += 4, o -= 4), s = p?.data || this.imgData, A = 0; 0 <= o ? A < o : A > o; 0 <= o ? ++A : --A)s.push(this.data[this.pos++]); break; case "tRNS": switch (this.transparency = {}, this.colorType) { case 3: if (u = this.palette.length / 3, this.transparency.indexed = this.read(o), this.transparency.indexed.length > u) throw new Error("More transparent colors than palette size"); if ((y = u - this.transparency.indexed.length) > 0) for (T = 0; 0 <= y ? T < y : T > y; 0 <= y ? ++T : --T)this.transparency.indexed.push(255); break; case 0: this.transparency.grayscale = this.read(o)[0]; break; case 2: this.transparency.rgb = this.read(o) }break; case "tEXt": m = (E = this.read(o)).indexOf(0), v = String.fromCharCode.apply(String, E.slice(0, m)), this.text[v] = String.fromCharCode.apply(String, E.slice(m + 1)); break; case "IEND": return p && this.animation.frames.push(p), this.colors = (function () { switch (this.colorType) { case 0: case 3: case 4: return 1; case 2: case 6: return 3 } }).call(this), this.hasAlphaChannel = (L = this.colorType) === 4 || L === 6, c = this.colors + (this.hasAlphaChannel ? 1 : 0), this.pixelBitlength = this.bits * c, this.colorSpace = (function () { switch (this.colors) { case 1: return "DeviceGray"; case 3: return "DeviceRGB" } }).call(this), void (this.imgData = new Uint8Array(this.imgData)); default: this.pos += o }if (this.pos += 4, this.pos > this.data.length) throw new Error("Incomplete or corrupt PNG file") } } n.prototype.read = function (s) { var o, c; for (c = [], o = 0; 0 <= s ? o < s : o > s; 0 <= s ? ++o : --o)c.push(this.data[this.pos++]); return c }, n.prototype.readUInt32 = function () { return this.data[this.pos++] << 24 | this.data[this.pos++] << 16 | this.data[this.pos++] << 8 | this.data[this.pos++] }, n.prototype.readUInt16 = function () { return this.data[this.pos++] << 8 | this.data[this.pos++] }, n.prototype.decodePixels = function (s) { var o = this.pixelBitlength / 8, c = new Uint8Array(this.width * this.height * o), u = 0, d = this; if (s == null && (s = this.imgData), s.length === 0) return new Uint8Array(0); function f(p, m, v, x) { var y, E, A, T, L, k, O, F, D, j, J, ot, z, G, it, nt, ht, U, tt, Q, pt, Y = Math.ceil((d.width - p) / v), ft = Math.ceil((d.height - m) / x), I = d.width == Y && d.height == ft; for (G = o * Y, ot = I ? c : new Uint8Array(G * ft), k = s.length, z = 0, E = 0; z < ft && u < k;) { switch (s[u++]) { case 0: for (T = ht = 0; ht < G; T = ht += 1)ot[E++] = s[u++]; break; case 1: for (T = U = 0; U < G; T = U += 1)y = s[u++], L = T < o ? 0 : ot[E - o], ot[E++] = (y + L) % 256; break; case 2: for (T = tt = 0; tt < G; T = tt += 1)y = s[u++], A = (T - T % o) / o, it = z && ot[(z - 1) * G + A * o + T % o], ot[E++] = (it + y) % 256; break; case 3: for (T = Q = 0; Q < G; T = Q += 1)y = s[u++], A = (T - T % o) / o, L = T < o ? 0 : ot[E - o], it = z && ot[(z - 1) * G + A * o + T % o], ot[E++] = (y + Math.floor((L + it) / 2)) % 256; break; case 4: for (T = pt = 0; pt < G; T = pt += 1)y = s[u++], A = (T - T % o) / o, L = T < o ? 0 : ot[E - o], z === 0 ? it = nt = 0 : (it = ot[(z - 1) * G + A * o + T % o], nt = A && ot[(z - 1) * G + (A - 1) * o + T % o]), O = L + it - nt, F = Math.abs(O - L), j = Math.abs(O - it), J = Math.abs(O - nt), D = F <= j && F <= J ? L : j <= J ? it : nt, ot[E++] = (y + D) % 256; break; default: throw new Error("Invalid filter algorithm: " + s[u - 1]) }if (!I) { var V = ((m + z * x) * d.width + p) * o, Z = z * G; for (T = 0; T < Y; T += 1) { for (var st = 0; st < o; st += 1)c[V++] = ot[Z++]; V += (v - 1) * o } } z++ } } return s = HB(s), d.interlaceMethod == 1 ? (f(0, 0, 8, 8), f(4, 0, 8, 8), f(0, 4, 4, 8), f(2, 0, 4, 4), f(0, 2, 2, 4), f(1, 0, 2, 2), f(0, 1, 1, 2)) : f(0, 0, 1, 1), c }, n.prototype.decodePalette = function () { var s, o, c, u, d, f, p, m, v; for (c = this.palette, f = this.transparency.indexed || [], d = new Uint8Array((f.length || 0) + c.length), u = 0, s = 0, o = p = 0, m = c.length; p < m; o = p += 3)d[u++] = c[o], d[u++] = c[o + 1], d[u++] = c[o + 2], d[u++] = (v = f[s++]) != null ? v : 255; return d }, n.prototype.copyToImageData = function (s, o) { var c, u, d, f, p, m, v, x, y, E, A; if (u = this.colors, y = null, c = this.hasAlphaChannel, this.palette.length && (y = (A = this._decodedPalette) != null ? A : this._decodedPalette = this.decodePalette(), u = 4, c = !0), x = (d = s.data || s).length, p = y || o, f = m = 0, u === 1) for (; f < x;)v = y ? 4 * o[f / 4] : m, E = p[v++], d[f++] = E, d[f++] = E, d[f++] = E, d[f++] = c ? p[v++] : 255, m = v; else for (; f < x;)v = y ? 4 * o[f / 4] : m, d[f++] = p[v++], d[f++] = p[v++], d[f++] = p[v++], d[f++] = c ? p[v++] : 255, m = v }, n.prototype.decode = function () { var s; return s = new Uint8Array(this.width * this.height * 4), this.copyToImageData(s, this.decodePixels()), s }; var r = function () { if (Object.prototype.toString.call(Me) === "[object Window]") { try { t = Me.document.createElement("canvas"), e = t.getContext("2d") } catch { return !1 } return !0 } return !1 }; return r(), i = function (s) { var o; if (r() === !0) return e.width = s.width, e.height = s.height, e.clearRect(0, 0, s.width, s.height), e.putImageData(s, 0, 0), (o = new Image).src = t.toDataURL(), o; throw new Error("This method requires a Browser with Canvas-capability.") }, n.prototype.decodeFrames = function (s) { var o, c, u, d, f, p, m, v; if (this.animation) { for (v = [], c = f = 0, p = (m = this.animation.frames).length; f < p; c = ++f)o = m[c], u = s.createImageData(o.width, o.height), d = this.decodePixels(new Uint8Array(o.data)), this.copyToImageData(u, d), o.imageData = u, v.push(o.image = i(u)); return v } }, n.prototype.renderFrame = function (s, o) { var c, u, d; return c = (u = this.animation.frames)[o], d = u[o - 1], o === 0 && s.clearRect(0, 0, this.width, this.height), d?.disposeOp === 1 ? s.clearRect(d.xOffset, d.yOffset, d.width, d.height) : d?.disposeOp === 2 && s.putImageData(d.imageData, d.xOffset, d.yOffset), c.blendOp === 0 && s.clearRect(c.xOffset, c.yOffset, c.width, c.height), s.drawImage(c.image, c.xOffset, c.yOffset) }, n.prototype.animate = function (s) { var o, c, u, d, f, p, m = this; return c = 0, p = this.animation, d = p.numFrames, u = p.frames, f = p.numPlays, (o = function () { var v, x; if (v = c++ % d, x = u[v], m.renderFrame(s, v), d > 1 && c / d < f) return m.animation._timeout = setTimeout(o, x.delay) })() }, n.prototype.stopAnimation = function () { var s; return clearTimeout((s = this.animation) != null ? s._timeout : void 0) }, n.prototype.render = function (s) { var o, c; return s._png && s._png.stopAnimation(), s._png = this, s.width = this.width, s.height = this.height, o = s.getContext("2d"), this.animation ? (this.decodeFrames(o), this.animate(o)) : (c = o.createImageData(this.width, this.height), this.copyToImageData(c, this.decodePixels()), o.putImageData(c, 0, 0)) }, n }();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function h9(i) { var t = 0; if (i[t++] !== 71 || i[t++] !== 73 || i[t++] !== 70 || i[t++] !== 56 || (i[t++] + 1 & 253) != 56 || i[t++] !== 97) throw new Error("Invalid GIF 87a/89a header."); var e = i[t++] | i[t++] << 8, n = i[t++] | i[t++] << 8, r = i[t++], s = r >> 7, o = 1 << (7 & r) + 1; i[t++], i[t++]; var c = null, u = null; s && (c = t, u = o, t += 3 * o); var d = !0, f = [], p = 0, m = null, v = 0, x = null; for (this.width = e, this.height = n; d && t < i.length;)switch (i[t++]) { case 33: switch (i[t++]) { case 255: if (i[t] !== 11 || i[t + 1] == 78 && i[t + 2] == 69 && i[t + 3] == 84 && i[t + 4] == 83 && i[t + 5] == 67 && i[t + 6] == 65 && i[t + 7] == 80 && i[t + 8] == 69 && i[t + 9] == 50 && i[t + 10] == 46 && i[t + 11] == 48 && i[t + 12] == 3 && i[t + 13] == 1 && i[t + 16] == 0) t += 14, x = i[t++] | i[t++] << 8, t++; else for (t += 12; ;) { if (!((z = i[t++]) >= 0)) throw Error("Invalid block size"); if (z === 0) break; t += z } break; case 249: if (i[t++] !== 4 || i[t + 4] !== 0) throw new Error("Invalid graphics extension block."); var y = i[t++]; p = i[t++] | i[t++] << 8, m = i[t++], (1 & y) == 0 && (m = null), v = y >> 2 & 7, t++; break; case 254: for (; ;) { if (!((z = i[t++]) >= 0)) throw Error("Invalid block size"); if (z === 0) break; t += z } break; default: throw new Error("Unknown graphic control label: 0x" + i[t - 1].toString(16)) }break; case 44: var E = i[t++] | i[t++] << 8, A = i[t++] | i[t++] << 8, T = i[t++] | i[t++] << 8, L = i[t++] | i[t++] << 8, k = i[t++], O = k >> 6 & 1, F = 1 << (7 & k) + 1, D = c, j = u, J = !1; k >> 7 && (J = !0, D = t, j = F, t += 3 * F); var ot = t; for (t++; ;) { var z; if (!((z = i[t++]) >= 0)) throw Error("Invalid block size"); if (z === 0) break; t += z } f.push({ x: E, y: A, width: T, height: L, has_local_palette: J, palette_offset: D, palette_size: j, data_offset: ot, data_length: t - ot, transparent_index: m, interlaced: !!O, delay: p, disposal: v }); break; case 59: d = !1; break; default: throw new Error("Unknown gif block: 0x" + i[t - 1].toString(16)) }this.numFrames = function () { return f.length }, this.loopCount = function () { return x }, this.frameInfo = function (G) { if (G < 0 || G >= f.length) throw new Error("Frame index out of range."); return f[G] }, this.decodeAndBlitFrameBGRA = function (G, it) { var nt = this.frameInfo(G), ht = nt.width * nt.height, U = new Uint8Array(ht); iA(i, nt.data_offset, U, ht); var tt = nt.palette_offset, Q = nt.transparent_index; Q === null && (Q = 256); var pt = nt.width, Y = e - pt, ft = pt, I = 4 * (nt.y * e + nt.x), V = 4 * ((nt.y + nt.height) * e + nt.x), Z = I, st = 4 * Y; nt.interlaced === !0 && (st += 4 * e * 7); for (var at = 8, ct = 0, gt = U.length; ct < gt; ++ct) { var xt = U[ct]; if (ft === 0 && (ft = pt, (Z += st) >= V && (st = 4 * Y + 4 * e * (at - 1), Z = I + (pt + Y) * (at << 1), at >>= 1)), xt === Q) Z += 4; else { var Tt = i[tt + 3 * xt], kt = i[tt + 3 * xt + 1], zt = i[tt + 3 * xt + 2]; it[Z++] = zt, it[Z++] = kt, it[Z++] = Tt, it[Z++] = 255 } --ft } }, this.decodeAndBlitFrameRGBA = function (G, it) { var nt = this.frameInfo(G), ht = nt.width * nt.height, U = new Uint8Array(ht); iA(i, nt.data_offset, U, ht); var tt = nt.palette_offset, Q = nt.transparent_index; Q === null && (Q = 256); var pt = nt.width, Y = e - pt, ft = pt, I = 4 * (nt.y * e + nt.x), V = 4 * ((nt.y + nt.height) * e + nt.x), Z = I, st = 4 * Y; nt.interlaced === !0 && (st += 4 * e * 7); for (var at = 8, ct = 0, gt = U.length; ct < gt; ++ct) { var xt = U[ct]; if (ft === 0 && (ft = pt, (Z += st) >= V && (st = 4 * Y + 4 * e * (at - 1), Z = I + (pt + Y) * (at << 1), at >>= 1)), xt === Q) Z += 4; else { var Tt = i[tt + 3 * xt], kt = i[tt + 3 * xt + 1], zt = i[tt + 3 * xt + 2]; it[Z++] = Tt, it[Z++] = kt, it[Z++] = zt, it[Z++] = 255 } --ft } } } function iA(i, t, e, n) { for (var r = i[t++], s = 1 << r, o = s + 1, c = o + 1, u = r + 1, d = (1 << u) - 1, f = 0, p = 0, m = 0, v = i[t++], x = new Int32Array(4096), y = null; ;) { for (; f < 16 && v !== 0;)p |= i[t++] << f, f += 8, v === 1 ? v = i[t++] : --v; if (f < u) break; var E = p & d; if (p >>= u, f -= u, E !== s) { if (E === o) break; for (var A = E < c ? E : y, T = 0, L = A; L > s;)L = x[L] >> 8, ++T; var k = L; if (m + T + (A !== E ? 1 : 0) > n) return void Un.log("Warning, gif stream longer than expected."); e[m++] = k; var O = m += T; for (A !== E && (e[m++] = k), L = A; T--;)L = x[L], e[--O] = 255 & L, L >>= 8; y !== null && c < 4096 && (x[c++] = y << 8 | k, c >= d + 1 && u < 12 && (++u, d = d << 1 | 1)), y = E } else c = o + 1, d = (1 << (u = r + 1)) - 1, y = null } return m !== n && Un.log("Warning, gif stream shorter than expected."), e }/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $1(i) { var t, e, n, r, s, o = Math.floor, c = new Array(64), u = new Array(64), d = new Array(64), f = new Array(64), p = new Array(65535), m = new Array(65535), v = new Array(64), x = new Array(64), y = [], E = 0, A = 7, T = new Array(64), L = new Array(64), k = new Array(64), O = new Array(256), F = new Array(2048), D = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63], j = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], J = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], ot = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125], z = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250], G = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], it = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], nt = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119], ht = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250]; function U(I, V) { for (var Z = 0, st = 0, at = new Array, ct = 1; ct <= 16; ct++) { for (var gt = 1; gt <= I[ct]; gt++)at[V[st]] = [], at[V[st]][0] = Z, at[V[st]][1] = ct, st++, Z++; Z *= 2 } return at } function tt(I) { for (var V = I[0], Z = I[1] - 1; Z >= 0;)V & 1 << Z && (E |= 1 << A), Z--, --A < 0 && (E == 255 ? (Q(255), Q(0)) : Q(E), A = 7, E = 0) } function Q(I) { y.push(I) } function pt(I) { Q(I >> 8 & 255), Q(255 & I) } function Y(I, V, Z, st, at) { for (var ct, gt = at[0], xt = at[240], Tt = function (Vt, Zt) { var Jt, Xt, ce, Ce, ke, Ae, be, Fe, le, Ne, ne = 0; for (le = 0; le < 8; ++le) { Jt = Vt[ne], Xt = Vt[ne + 1], ce = Vt[ne + 2], Ce = Vt[ne + 3], ke = Vt[ne + 4], Ae = Vt[ne + 5], be = Vt[ne + 6]; var Xn = Jt + (Fe = Vt[ne + 7]), We = Jt - Fe, tr = Xt + be, Qe = Xt - be, yn = ce + Ae, er = ce - Ae, an = Ce + ke, Vi = Ce - ke, In = Xn + an, mr = Xn - an, nr = tr + yn, Fn = tr - yn; Vt[ne] = In + nr, Vt[ne + 4] = In - nr; var Qt = .707106781 * (Fn + mr); Vt[ne + 2] = mr + Qt, Vt[ne + 6] = mr - Qt; var xe = .382683433 * ((In = Vi + er) - (Fn = Qe + We)), Pn = .5411961 * In + xe, un = 1.306562965 * Fn + xe, ir = .707106781 * (nr = er + Qe), En = We + ir, oe = We - ir; Vt[ne + 5] = oe + Pn, Vt[ne + 3] = oe - Pn, Vt[ne + 1] = En + un, Vt[ne + 7] = En - un, ne += 8 } for (ne = 0, le = 0; le < 8; ++le) { Jt = Vt[ne], Xt = Vt[ne + 8], ce = Vt[ne + 16], Ce = Vt[ne + 24], ke = Vt[ne + 32], Ae = Vt[ne + 40], be = Vt[ne + 48]; var mn = Jt + (Fe = Vt[ne + 56]), tn = Jt - Fe, vn = Xt + be, Gn = Xt - be, _n = ce + Ae, _r = ce - Ae, tl = Ce + ke, Vr = Ce - ke, Gr = mn + tl, rr = mn - tl, sr = vn + _n, Cr = vn - _n; Vt[ne] = Gr + sr, Vt[ne + 32] = Gr - sr; var Gi = .707106781 * (Cr + rr); Vt[ne + 16] = rr + Gi, Vt[ne + 48] = rr - Gi; var Nn = .382683433 * ((Gr = Vr + _r) - (Cr = Gn + tn)), Qa = .5411961 * Gr + Nn, el = 1.306562965 * Cr + Nn, es = .707106781 * (sr = _r + Gn), ws = tn + es, ql = tn - es; Vt[ne + 40] = ql + Qa, Vt[ne + 24] = ql - Qa, Vt[ne + 8] = ws + el, Vt[ne + 56] = ws - el, ne++ } for (le = 0; le < 64; ++le)Ne = Vt[le] * Zt[le], v[le] = Ne > 0 ? Ne + .5 | 0 : Ne - .5 | 0; return v }(I, V), kt = 0; kt < 64; ++kt)x[D[kt]] = Tt[kt]; var zt = x[0] - Z; Z = x[0], zt == 0 ? tt(st[0]) : (tt(st[m[ct = 32767 + zt]]), tt(p[ct])); for (var $t = 63; $t > 0 && x[$t] == 0;)$t--; if ($t == 0) return tt(gt), Z; for (var Kt, Lt = 1; Lt <= $t;) { for (var lt = Lt; x[Lt] == 0 && Lt <= $t;)++Lt; var se = Lt - lt; if (se >= 16) { Kt = se >> 4; for (var ae = 1; ae <= Kt; ++ae)tt(xt); se &= 15 } ct = 32767 + x[Lt], tt(at[(se << 4) + m[ct]]), tt(p[ct]), Lt++ } return $t != 63 && tt(gt), Z } function ft(I) { I = Math.min(Math.max(I, 1), 100), s != I && (function (V) { for (var Z = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], st = 0; st < 64; st++) { var at = o((Z[st] * V + 50) / 100); at = Math.min(Math.max(at, 1), 255), c[D[st]] = at } for (var ct = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], gt = 0; gt < 64; gt++) { var xt = o((ct[gt] * V + 50) / 100); xt = Math.min(Math.max(xt, 1), 255), u[D[gt]] = xt } for (var Tt = [1, 1.387039845, 1.306562965, 1.175875602, 1, .785694958, .5411961, .275899379], kt = 0, zt = 0; zt < 8; zt++)for (var $t = 0; $t < 8; $t++)d[kt] = 1 / (c[D[kt]] * Tt[zt] * Tt[$t] * 8), f[kt] = 1 / (u[D[kt]] * Tt[zt] * Tt[$t] * 8), kt++ }(I < 50 ? Math.floor(5e3 / I) : Math.floor(200 - 2 * I)), s = I) } this.encode = function (I, V) { V && ft(V), y = new Array, E = 0, A = 7, pt(65496), pt(65504), pt(16), Q(74), Q(70), Q(73), Q(70), Q(0), Q(1), Q(1), Q(0), pt(1), pt(1), Q(0), Q(0), function () { pt(65499), pt(132), Q(0); for (var Xt = 0; Xt < 64; Xt++)Q(c[Xt]); Q(1); for (var ce = 0; ce < 64; ce++)Q(u[ce]) }(), function (Xt, ce) { pt(65472), pt(17), Q(8), pt(ce), pt(Xt), Q(3), Q(1), Q(17), Q(0), Q(2), Q(17), Q(1), Q(3), Q(17), Q(1) }(I.width, I.height), function () { pt(65476), pt(418), Q(0); for (var Xt = 0; Xt < 16; Xt++)Q(j[Xt + 1]); for (var ce = 0; ce <= 11; ce++)Q(J[ce]); Q(16); for (var Ce = 0; Ce < 16; Ce++)Q(ot[Ce + 1]); for (var ke = 0; ke <= 161; ke++)Q(z[ke]); Q(1); for (var Ae = 0; Ae < 16; Ae++)Q(G[Ae + 1]); for (var be = 0; be <= 11; be++)Q(it[be]); Q(17); for (var Fe = 0; Fe < 16; Fe++)Q(nt[Fe + 1]); for (var le = 0; le <= 161; le++)Q(ht[le]) }(), pt(65498), pt(12), Q(3), Q(1), Q(0), Q(2), Q(17), Q(3), Q(17), Q(0), Q(63), Q(0); var Z = 0, st = 0, at = 0; E = 0, A = 7, this.encode.displayName = "_encode_"; for (var ct, gt, xt, Tt, kt, zt, $t, Kt, Lt, lt = I.data, se = I.width, ae = I.height, Vt = 4 * se, Zt = 0; Zt < ae;) { for (ct = 0; ct < Vt;) { for (kt = Vt * Zt + ct, $t = -1, Kt = 0, Lt = 0; Lt < 64; Lt++)zt = kt + (Kt = Lt >> 3) * Vt + ($t = 4 * (7 & Lt)), Zt + Kt >= ae && (zt -= Vt * (Zt + 1 + Kt - ae)), ct + $t >= Vt && (zt -= ct + $t - Vt + 4), gt = lt[zt++], xt = lt[zt++], Tt = lt[zt++], T[Lt] = (F[gt] + F[xt + 256 >> 0] + F[Tt + 512 >> 0] >> 16) - 128, L[Lt] = (F[gt + 768 >> 0] + F[xt + 1024 >> 0] + F[Tt + 1280 >> 0] >> 16) - 128, k[Lt] = (F[gt + 1280 >> 0] + F[xt + 1536 >> 0] + F[Tt + 1792 >> 0] >> 16) - 128; Z = Y(T, d, Z, t, n), st = Y(L, f, st, e, r), at = Y(k, f, at, e, r), ct += 32 } Zt += 8 } if (A >= 0) { var Jt = []; Jt[1] = A + 1, Jt[0] = (1 << A + 1) - 1, tt(Jt) } return pt(65497), new Uint8Array(y) }, i = i || 50, function () { for (var I = String.fromCharCode, V = 0; V < 256; V++)O[V] = I(V) }(), t = U(j, J), e = U(G, it), n = U(ot, z), r = U(nt, ht), function () { for (var I = 1, V = 2, Z = 1; Z <= 15; Z++) { for (var st = I; st < V; st++)m[32767 + st] = Z, p[32767 + st] = [], p[32767 + st][1] = Z, p[32767 + st][0] = st; for (var at = -(V - 1); at <= -I; at++)m[32767 + at] = Z, p[32767 + at] = [], p[32767 + at][1] = Z, p[32767 + at][0] = V - 1 + at; I <<= 1, V <<= 1 } }(), function () { for (var I = 0; I < 256; I++)F[I] = 19595 * I, F[I + 256 >> 0] = 38470 * I, F[I + 512 >> 0] = 7471 * I + 32768, F[I + 768 >> 0] = -11059 * I, F[I + 1024 >> 0] = -21709 * I, F[I + 1280 >> 0] = 32768 * I + 8421375, F[I + 1536 >> 0] = -27439 * I, F[I + 1792 >> 0] = -5329 * I }(), ft(i) }/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ia(i, t) { if (this.pos = 0, this.buffer = i, this.datav = new DataView(i.buffer), this.is_with_alpha = !!t, this.bottom_up = !0, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, ["BM", "BA", "CI", "CP", "IC", "PT"].indexOf(this.flag) === -1) throw new Error("Invalid BMP File"); this.parseHeader(), this.parseBGR() } function rA(i) { function t(j) { if (!j) throw Error("assert :P") } function e(j, J, ot) { for (var z = 0; 4 > z; z++)if (j[J + z] != ot.charCodeAt(z)) return !0; return !1 } function n(j, J, ot, z, G) { for (var it = 0; it < G; it++)j[J + it] = ot[z + it] } function r(j, J, ot, z) { for (var G = 0; G < z; G++)j[J + G] = ot } function s(j) { return new Int32Array(j) } function o(j, J) { for (var ot = [], z = 0; z < j; z++)ot.push(new J); return ot } function c(j, J) { var ot = []; return function z(G, it, nt) { for (var ht = nt[it], U = 0; U < ht && (G.push(nt.length > it + 1 ? [] : new J), !(nt.length < it + 1)); U++)z(G[U], it + 1, nt) }(ot, 0, j), ot } var u = function () { var j = this; function J(b, S) { for (var R = 1 << S - 1 >>> 0; b & R;)R >>>= 1; return R ? (b & R - 1) + R : b } function ot(b, S, R, P, H) { t(!(P % R)); do b[S + (P -= R)] = H; while (0 < P) } function z(b, S, R, P, H) { if (t(2328 >= H), 512 >= H) var $ = s(512); else if (($ = s(H)) == null) return 0; return function (W, X, et, rt, vt, Nt) { var _t, St, Ht = X, Ot = 1 << et, bt = s(16), wt = s(16); for (t(vt != 0), t(rt != null), t(W != null), t(0 < et), St = 0; St < vt; ++St) { if (15 < rt[St]) return 0; ++bt[rt[St]] } if (bt[0] == vt) return 0; for (wt[1] = 0, _t = 1; 15 > _t; ++_t) { if (bt[_t] > 1 << _t) return 0; wt[_t + 1] = wt[_t] + bt[_t] } for (St = 0; St < vt; ++St)_t = rt[St], 0 < rt[St] && (Nt[wt[_t]++] = St); if (wt[15] == 1) return (rt = new G).g = 0, rt.value = Nt[0], ot(W, Ht, 1, Ot, rt), Ot; var It, qt = -1, Bt = Ot - 1, re = 0, te = 1, me = 1, ee = 1 << et; for (St = 0, _t = 1, vt = 2; _t <= et; ++_t, vt <<= 1) { if (te += me <<= 1, 0 > (me -= bt[_t])) return 0; for (; 0 < bt[_t]; --bt[_t])(rt = new G).g = _t, rt.value = Nt[St++], ot(W, Ht + re, vt, ee, rt), re = J(re, _t) } for (_t = et + 1, vt = 2; 15 >= _t; ++_t, vt <<= 1) { if (te += me <<= 1, 0 > (me -= bt[_t])) return 0; for (; 0 < bt[_t]; --bt[_t]) { if (rt = new G, (re & Bt) != qt) { for (Ht += ee, It = 1 << (qt = _t) - et; 15 > qt && !(0 >= (It -= bt[qt]));)++qt, It <<= 1; Ot += ee = 1 << (It = qt - et), W[X + (qt = re & Bt)].g = It + et, W[X + qt].value = Ht - X - qt } rt.g = _t - et, rt.value = Nt[St++], ot(W, Ht + (re >> et), vt, ee, rt), re = J(re, _t) } } return te != 2 * wt[15] - 1 ? 0 : Ot }(b, S, R, P, H, $) } function G() { this.value = this.g = 0 } function it() { this.value = this.g = 0 } function nt() { this.G = o(5, G), this.H = s(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = o(xi, it) } function ht(b, S, R, P) { t(b != null), t(S != null), t(2147483648 > P), b.Ca = 254, b.I = 0, b.b = -8, b.Ka = 0, b.oa = S, b.pa = R, b.Jd = S, b.Yc = R + P, b.Zc = 4 <= P ? R + P - 4 + 1 : R, ct(b) } function U(b, S) { for (var R = 0; 0 < S--;)R |= xt(b, 128) << S; return R } function tt(b, S) { var R = U(b, S); return gt(b) ? -R : R } function Q(b, S, R, P) { var H, $ = 0; for (t(b != null), t(S != null), t(4294967288 > P), b.Sb = P, b.Ra = 0, b.u = 0, b.h = 0, 4 < P && (P = 4), H = 0; H < P; ++H)$ += S[R + H] << 8 * H; b.Ra = $, b.bb = P, b.oa = S, b.pa = R } function pt(b) { for (; 8 <= b.u && b.bb < b.Sb;)b.Ra >>>= 8, b.Ra += b.oa[b.pa + b.bb] << ul - 8 >>> 0, ++b.bb, b.u -= 8; Z(b) && (b.h = 1, b.u = 0) } function Y(b, S) { if (t(0 <= S), !b.h && S <= cl) { var R = V(b) & lo[S]; return b.u += S, pt(b), R } return b.h = 1, b.u = 0 } function ft() { this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0 } function I() { this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0 } function V(b) { return b.Ra >>> (b.u & ul - 1) >>> 0 } function Z(b) { return t(b.bb <= b.Sb), b.h || b.bb == b.Sb && b.u > ul } function st(b, S) { b.u = S, b.h = Z(b) } function at(b) { b.u >= sc && (t(b.u >= sc), pt(b)) } function ct(b) { t(b != null && b.oa != null), b.pa < b.Zc ? (b.I = (b.oa[b.pa++] | b.I << 8) >>> 0, b.b += 8) : (t(b != null && b.oa != null), b.pa < b.Yc ? (b.b += 8, b.I = b.oa[b.pa++] | b.I << 8) : b.Ka ? b.b = 0 : (b.I <<= 8, b.b += 8, b.Ka = 1)) } function gt(b) { return U(b, 1) } function xt(b, S) { var R = b.Ca; 0 > b.b && ct(b); var P = b.b, H = R * S >>> 8, $ = (b.I >>> P > H) + 0; for ($ ? (R -= H, b.I -= H + 1 << P >>> 0) : R = H + 1, P = R, H = 0; 256 <= P;)H += 8, P >>= 8; return P = 7 ^ H + Tr[P], b.b -= P, b.Ca = (R << P) - 1, $ } function Tt(b, S, R) { b[S + 0] = R >> 24 & 255, b[S + 1] = R >> 16 & 255, b[S + 2] = R >> 8 & 255, b[S + 3] = R >> 0 & 255 } function kt(b, S) { return b[S + 0] << 0 | b[S + 1] << 8 } function zt(b, S) { return kt(b, S) | b[S + 2] << 16 } function $t(b, S) { return kt(b, S) | kt(b, S + 2) << 16 } function Kt(b, S) { var R = 1 << S; return t(b != null), t(0 < S), b.X = s(R), b.X == null ? 0 : (b.Mb = 32 - S, b.Xa = S, 1) } function Lt(b, S) { t(b != null), t(S != null), t(b.Xa == S.Xa), n(S.X, 0, b.X, 0, 1 << S.Xa) } function lt() { this.X = [], this.Xa = this.Mb = 0 } function se(b, S, R, P) { t(R != null), t(P != null); var H = R[0], $ = P[0]; return H == 0 && (H = (b * $ + S / 2) / S), $ == 0 && ($ = (S * H + b / 2) / b), 0 >= H || 0 >= $ ? 0 : (R[0] = H, P[0] = $, 1) } function ae(b, S) { return b + (1 << S) - 1 >>> S } function Vt(b, S) { return ((4278255360 & b) + (4278255360 & S) >>> 0 & 4278255360) + ((16711935 & b) + (16711935 & S) >>> 0 & 16711935) >>> 0 } function Zt(b, S) { j[S] = function (R, P, H, $, W, X, et) { var rt; for (rt = 0; rt < W; ++rt) { var vt = j[b](X[et + rt - 1], H, $ + rt); X[et + rt] = Vt(R[P + rt], vt) } } } function Jt() { this.ud = this.hd = this.jd = 0 } function Xt(b, S) { return ((4278124286 & (b ^ S)) >>> 1) + (b & S) >>> 0 } function ce(b) { return 0 <= b && 256 > b ? b : 0 > b ? 0 : 255 < b ? 255 : void 0 } function Ce(b, S) { return ce(b + (b - S + .5 >> 1)) } function ke(b, S, R) { return Math.abs(S - R) - Math.abs(b - R) } function Ae(b, S, R, P, H, $, W) { for (P = $[W - 1], R = 0; R < H; ++R)$[W + R] = P = Vt(b[S + R], P) } function be(b, S, R, P, H) { var $; for ($ = 0; $ < R; ++$) { var W = b[S + $], X = W >> 8 & 255, et = 16711935 & (et = (et = 16711935 & W) + ((X << 16) + X)); P[H + $] = (4278255360 & W) + et >>> 0 } } function Fe(b, S) { S.jd = b >> 0 & 255, S.hd = b >> 8 & 255, S.ud = b >> 16 & 255 } function le(b, S, R, P, H, $) { var W; for (W = 0; W < P; ++W) { var X = S[R + W], et = X >>> 8, rt = X, vt = 255 & (vt = (vt = X >>> 16) + ((b.jd << 24 >> 24) * (et << 24 >> 24) >>> 5)); rt = 255 & (rt = (rt = rt + ((b.hd << 24 >> 24) * (et << 24 >> 24) >>> 5)) + ((b.ud << 24 >> 24) * (vt << 24 >> 24) >>> 5)), H[$ + W] = (4278255360 & X) + (vt << 16) + rt } } function Ne(b, S, R, P, H) { j[S] = function ($, W, X, et, rt, vt, Nt, _t, St) { for (et = Nt; et < _t; ++et)for (Nt = 0; Nt < St; ++Nt)rt[vt++] = H(X[P($[W++])]) }, j[b] = function ($, W, X, et, rt, vt, Nt) { var _t = 8 >> $.b, St = $.Ea, Ht = $.K[0], Ot = $.w; if (8 > _t) for ($ = (1 << $.b) - 1, Ot = (1 << _t) - 1; W < X; ++W) { var bt, wt = 0; for (bt = 0; bt < St; ++bt)bt & $ || (wt = P(et[rt++])), vt[Nt++] = H(Ht[wt & Ot]), wt >>= _t } else j["VP8LMapColor" + R](et, rt, Ht, Ot, vt, Nt, W, X, St) } } function ne(b, S, R, P, H) { for (R = S + R; S < R;) { var $ = b[S++]; P[H++] = $ >> 16 & 255, P[H++] = $ >> 8 & 255, P[H++] = $ >> 0 & 255 } } function Xn(b, S, R, P, H) { for (R = S + R; S < R;) { var $ = b[S++]; P[H++] = $ >> 16 & 255, P[H++] = $ >> 8 & 255, P[H++] = $ >> 0 & 255, P[H++] = $ >> 24 & 255 } } function We(b, S, R, P, H) { for (R = S + R; S < R;) { var $ = (W = b[S++]) >> 16 & 240 | W >> 12 & 15, W = W >> 0 & 240 | W >> 28 & 15; P[H++] = $, P[H++] = W } } function tr(b, S, R, P, H) { for (R = S + R; S < R;) { var $ = (W = b[S++]) >> 16 & 248 | W >> 13 & 7, W = W >> 5 & 224 | W >> 3 & 31; P[H++] = $, P[H++] = W } } function Qe(b, S, R, P, H) { for (R = S + R; S < R;) { var $ = b[S++]; P[H++] = $ >> 0 & 255, P[H++] = $ >> 8 & 255, P[H++] = $ >> 16 & 255 } } function yn(b, S, R, P, H, $) { if ($ == 0) for (R = S + R; S < R;)Tt(P, (($ = b[S++])[0] >> 24 | $[1] >> 8 & 65280 | $[2] << 8 & 16711680 | $[3] << 24) >>> 0), H += 32; else n(P, H, b, S, R) } function er(b, S) { j[S][0] = j[b + "0"], j[S][1] = j[b + "1"], j[S][2] = j[b + "2"], j[S][3] = j[b + "3"], j[S][4] = j[b + "4"], j[S][5] = j[b + "5"], j[S][6] = j[b + "6"], j[S][7] = j[b + "7"], j[S][8] = j[b + "8"], j[S][9] = j[b + "9"], j[S][10] = j[b + "10"], j[S][11] = j[b + "11"], j[S][12] = j[b + "12"], j[S][13] = j[b + "13"], j[S][14] = j[b + "0"], j[S][15] = j[b + "0"] } function an(b) { return b == xu || b == yo || b == Aa || b == cc } function Vi() { this.eb = [], this.size = this.A = this.fb = 0 } function In() { this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0 } function mr() { this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new Vi, this.f.kb = new In, this.sd = null } function nr() { this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0] } function Fn() { this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0 } function Qt(b) { return alert("todo:WebPSamplerProcessPlane"), b.T } function xe(b, S) { var R = b.T, P = S.ba.f.RGBA, H = P.eb, $ = P.fb + b.ka * P.A, W = Bi[S.ba.S], X = b.y, et = b.O, rt = b.f, vt = b.N, Nt = b.ea, _t = b.W, St = S.cc, Ht = S.dc, Ot = S.Mc, bt = S.Nc, wt = b.ka, It = b.ka + b.T, qt = b.U, Bt = qt + 1 >> 1; for (wt == 0 ? W(X, et, null, null, rt, vt, Nt, _t, rt, vt, Nt, _t, H, $, null, null, qt) : (W(S.ec, S.fc, X, et, St, Ht, Ot, bt, rt, vt, Nt, _t, H, $ - P.A, H, $, qt), ++R); wt + 2 < It; wt += 2)St = rt, Ht = vt, Ot = Nt, bt = _t, vt += b.Rc, _t += b.Rc, $ += 2 * P.A, W(X, (et += 2 * b.fa) - b.fa, X, et, St, Ht, Ot, bt, rt, vt, Nt, _t, H, $ - P.A, H, $, qt); return et += b.fa, b.j + It < b.o ? (n(S.ec, S.fc, X, et, qt), n(S.cc, S.dc, rt, vt, Bt), n(S.Mc, S.Nc, Nt, _t, Bt), R--) : 1 & It || W(X, et, null, null, rt, vt, Nt, _t, rt, vt, Nt, _t, H, $ + P.A, null, null, qt), R } function Pn(b, S, R) { var P = b.F, H = [b.J]; if (P != null) { var $ = b.U, W = S.ba.S, X = W == gl || W == Aa; S = S.ba.f.RGBA; var et = [0], rt = b.ka; et[0] = b.T, b.Kb && (rt == 0 ? --et[0] : (--rt, H[0] -= b.width), b.j + b.ka + b.T == b.o && (et[0] = b.o - b.j - rt)); var vt = S.eb; rt = S.fb + rt * S.A, b = Xe(P, H[0], b.width, $, et, vt, rt + (X ? 0 : 3), S.A), t(R == et), b && an(W) && Xr(vt, rt, X, $, et, S.A) } return 0 } function un(b) { var S = b.ma, R = S.ba.S, P = 11 > R, H = R == lc || R == wu || R == gl || R == Sa || R == 12 || an(R); if (S.memory = null, S.Ib = null, S.Jb = null, S.Nd = null, !oo(S.Oa, b, H ? 11 : 12)) return 0; if (H && an(R) && Wt(), b.da) alert("todo:use_scaling"); else { if (P) { if (S.Ib = Qt, b.Kb) { if (R = b.U + 1 >> 1, S.memory = s(b.U + 2 * R), S.memory == null) return 0; S.ec = S.memory, S.fc = 0, S.cc = S.ec, S.dc = S.fc + b.U, S.Mc = S.cc, S.Nc = S.dc + R, S.Ib = xe, Wt() } } else alert("todo:EmitYUV"); H && (S.Jb = Pn, P && Et()) } if (P && !og) { for (b = 0; 256 > b; ++b)X0[b] = 89858 * (b - 128) + Ai >> Js, Eu[b] = -22014 * (b - 128) + Ai, lf[b] = -45773 * (b - 128), Ei[b] = 113618 * (b - 128) + Ai >> Js; for (b = So; b < Dh; ++b)S = 76283 * (b - 16) + Ai >> Js, _u[b - So] = Yr(S, 255), cf[b - So] = Yr(S + 8 >> 4, 15); og = 1 } return 1 } function ir(b) { var S = b.ma, R = b.U, P = b.T; return t(!(1 & b.ka)), 0 >= R || 0 >= P ? 0 : (R = S.Ib(b, S), S.Jb != null && S.Jb(b, S, R), S.Dc += R, 1) } function En(b) { b.ma.memory = null } function oe(b, S, R, P) { return Y(b, 8) != 47 ? 0 : (S[0] = Y(b, 14) + 1, R[0] = Y(b, 14) + 1, P[0] = Y(b, 1), Y(b, 3) != 0 ? 0 : !b.h) } function mn(b, S) { if (4 > b) return b + 1; var R = b - 2 >> 1; return (2 + (1 & b) << R) + Y(S, R) + 1 } function tn(b, S) { return 120 < S ? S - 120 : 1 <= (R = ((R = _a[S - 1]) >> 4) * b + (8 - (15 & R))) ? R : 1; var R } function vn(b, S, R) { var P = V(R), H = b[S += 255 & P].g - 8; return 0 < H && (st(R, R.u + 8), P = V(R), S += b[S].value, S += P & (1 << H) - 1), st(R, R.u + b[S].g), b[S].value } function Gn(b, S, R) { return R.g += b.g, R.value += b.value << S >>> 0, t(8 >= R.g), b.g } function _n(b, S, R) { var P = b.xc; return t((S = P == 0 ? 0 : b.vc[b.md * (R >> P) + (S >> P)]) < b.Wb), b.Ya[S] } function _r(b, S, R, P) { var H = b.ab, $ = b.c * S, W = b.C; S = W + S; var X = R, et = P; for (P = b.Ta, R = b.Ua; 0 < H--;) { var rt = b.gc[H], vt = W, Nt = S, _t = X, St = et, Ht = (et = P, X = R, rt.Ea); switch (t(vt < Nt), t(Nt <= rt.nc), rt.hc) { case 2: Rh(_t, St, (Nt - vt) * Ht, et, X); break; case 0: var Ot = vt, bt = Nt, wt = et, It = X, qt = (ee = rt).Ea; Ot == 0 && (af(_t, St, null, null, 1, wt, It), Ae(_t, St + 1, 0, 0, qt - 1, wt, It + 1), St += qt, It += qt, ++Ot); for (var Bt = 1 << ee.b, re = Bt - 1, te = ae(qt, ee.b), me = ee.K, ee = ee.w + (Ot >> ee.b) * te; Ot < bt;) { var fn = me, wn = ee, $e = 1; for (bu(_t, St, wt, It - qt, 1, wt, It); $e < qt;) { var Ve = ($e & ~re) + Bt; Ve > qt && (Ve = qt), (0, ya[fn[wn++] >> 8 & 15])(_t, St + +$e, wt, It + $e - qt, Ve - $e, wt, It + $e), $e = Ve } St += qt, It += qt, ++Ot & re || (ee += te) } Nt != rt.nc && n(et, X - Ht, et, X + (Nt - vt - 1) * Ht, Ht); break; case 1: for (Ht = _t, bt = St, qt = (_t = rt.Ea) - (It = _t & ~(wt = (St = 1 << rt.b) - 1)), Ot = ae(_t, rt.b), Bt = rt.K, rt = rt.w + (vt >> rt.b) * Ot; vt < Nt;) { for (re = Bt, te = rt, me = new Jt, ee = bt + It, fn = bt + _t; bt < ee;)Fe(re[te++], me), uo(me, Ht, bt, St, et, X), bt += St, X += St; bt < fn && (Fe(re[te++], me), uo(me, Ht, bt, qt, et, X), bt += qt, X += qt), ++vt & wt || (rt += Ot) } break; case 3: if (_t == et && St == X && 0 < rt.b) { for (bt = et, _t = Ht = X + (Nt - vt) * Ht - (It = (Nt - vt) * ae(rt.Ea, rt.b)), St = et, wt = X, Ot = [], It = (qt = It) - 1; 0 <= It; --It)Ot[It] = St[wt + It]; for (It = qt - 1; 0 <= It; --It)bt[_t + It] = Ot[It]; rs(rt, vt, Nt, et, Ht, et, X) } else rs(rt, vt, Nt, _t, St, et, X) }X = P, et = R } et != R && n(P, R, X, et, $) } function tl(b, S) { var R = b.V, P = b.Ba + b.c * b.C, H = S - b.C; if (t(S <= b.l.o), t(16 >= H), 0 < H) { var $ = b.l, W = b.Ta, X = b.Ua, et = $.width; if (_r(b, H, R, P), H = X = [X], t((R = b.C) < (P = S)), t($.v < $.va), P > $.o && (P = $.o), R < $.j) { var rt = $.j - R; R = $.j, H[0] += rt * et } if (R >= P ? R = 0 : (H[0] += 4 * $.v, $.ka = R - $.j, $.U = $.va - $.v, $.T = P - R, R = 1), R) { if (X = X[0], 11 > (R = b.ca).S) { var vt = R.f.RGBA, Nt = (P = R.S, H = $.U, $ = $.T, rt = vt.eb, vt.A), _t = $; for (vt = vt.fb + b.Ma * vt.A; 0 < _t--;) { var St = W, Ht = X, Ot = H, bt = rt, wt = vt; switch (P) { case or: br(St, Ht, Ot, bt, wt); break; case lc: $i(St, Ht, Ot, bt, wt); break; case xu: $i(St, Ht, Ot, bt, wt), Xr(bt, wt, 0, Ot, 1, 0); break; case Xs: _s(St, Ht, Ot, bt, wt); break; case wu: yn(St, Ht, Ot, bt, wt, 1); break; case yo: yn(St, Ht, Ot, bt, wt, 1), Xr(bt, wt, 0, Ot, 1, 0); break; case gl: yn(St, Ht, Ot, bt, wt, 0); break; case Aa: yn(St, Ht, Ot, bt, wt, 0), Xr(bt, wt, 1, Ot, 1, 0); break; case Sa: ho(St, Ht, Ot, bt, wt); break; case cc: ho(St, Ht, Ot, bt, wt), Ye(bt, wt, Ot, 1, 0); break; case Lh: Lr(St, Ht, Ot, bt, wt); break; default: t(0) }X += et, vt += Nt } b.Ma += $ } else alert("todo:EmitRescaledRowsYUVA"); t(b.Ma <= R.height) } } b.C = S, t(b.C <= b.i) } function Vr(b) { var S; if (0 < b.ua) return 0; for (S = 0; S < b.Wb; ++S) { var R = b.Ya[S].G, P = b.Ya[S].H; if (0 < R[1][P[1] + 0].g || 0 < R[2][P[2] + 0].g || 0 < R[3][P[3] + 0].g) return 0 } return 1 } function Gr(b, S, R, P, H, $) { if (b.Z != 0) { var W = b.qd, X = b.rd; for (t(Qs[b.Z] != null); S < R; ++S)Qs[b.Z](W, X, P, H, P, H, $), W = P, X = H, H += $; b.qd = W, b.rd = X } } function rr(b, S) { var R = b.l.ma, P = R.Z == 0 || R.Z == 1 ? b.l.j : b.C; if (P = b.C < P ? P : b.C, t(S <= b.l.o), S > P) { var H = b.l.width, $ = R.ca, W = R.tb + H * P, X = b.V, et = b.Ba + b.c * P, rt = b.gc; t(b.ab == 1), t(rt[0].hc == 3), co(rt[0], P, S, X, et, $, W), Gr(R, P, S, $, W, H) } b.C = b.Ma = S } function sr(b, S, R, P, H, $, W) { var X = b.$ / P, et = b.$ % P, rt = b.m, vt = b.s, Nt = R + b.$, _t = Nt; H = R + P * H; var St = R + P * $, Ht = 280 + vt.ua, Ot = b.Pb ? X : 16777216, bt = 0 < vt.ua ? vt.Wa : null, wt = vt.wc, It = Nt < St ? _n(vt, et, X) : null; t(b.C < $), t(St <= H); var qt = !1; t: for (; ;) { for (; qt || Nt < St;) { var Bt = 0; if (X >= Ot) { var re = Nt - R; t((Ot = b).Pb), Ot.wd = Ot.m, Ot.xd = re, 0 < Ot.s.ua && Lt(Ot.s.Wa, Ot.s.vb), Ot = X + rg } if (et & wt || (It = _n(vt, et, X)), t(It != null), It.Qb && (S[Nt] = It.qb, qt = !0), !qt) if (at(rt), It.jc) { Bt = rt, re = S; var te = Nt, me = It.pd[V(Bt) & xi - 1]; t(It.jc), 256 > me.g ? (st(Bt, Bt.u + me.g), re[te] = me.value, Bt = 0) : (st(Bt, Bt.u + me.g - 256), t(256 <= me.value), Bt = me.value), Bt == 0 && (qt = !0) } else Bt = vn(It.G[0], It.H[0], rt); if (rt.h) break; if (qt || 256 > Bt) { if (!qt) if (It.nd) S[Nt] = (It.qb | Bt << 8) >>> 0; else { if (at(rt), qt = vn(It.G[1], It.H[1], rt), at(rt), re = vn(It.G[2], It.H[2], rt), te = vn(It.G[3], It.H[3], rt), rt.h) break; S[Nt] = (te << 24 | qt << 16 | Bt << 8 | re) >>> 0 } if (qt = !1, ++Nt, ++et >= P && (et = 0, ++X, W != null && X <= $ && !(X % 16) && W(b, X), bt != null)) for (; _t < Nt;)Bt = S[_t++], bt.X[(506832829 * Bt & 4294967295) >>> bt.Mb] = Bt } else if (280 > Bt) { if (Bt = mn(Bt - 256, rt), re = vn(It.G[4], It.H[4], rt), at(rt), re = tn(P, re = mn(re, rt)), rt.h) break; if (Nt - R < re || H - Nt < Bt) break t; for (te = 0; te < Bt; ++te)S[Nt + te] = S[Nt + te - re]; for (Nt += Bt, et += Bt; et >= P;)et -= P, ++X, W != null && X <= $ && !(X % 16) && W(b, X); if (t(Nt <= H), et & wt && (It = _n(vt, et, X)), bt != null) for (; _t < Nt;)Bt = S[_t++], bt.X[(506832829 * Bt & 4294967295) >>> bt.Mb] = Bt } else { if (!(Bt < Ht)) break t; for (qt = Bt - 280, t(bt != null); _t < Nt;)Bt = S[_t++], bt.X[(506832829 * Bt & 4294967295) >>> bt.Mb] = Bt; Bt = Nt, t(!(qt >>> (re = bt).Xa)), S[Bt] = re.X[qt], qt = !0 } qt || t(rt.h == Z(rt)) } if (b.Pb && rt.h && Nt < H) t(b.m.h), b.a = 5, b.m = b.wd, b.$ = b.xd, 0 < b.s.ua && Lt(b.s.vb, b.s.Wa); else { if (rt.h) break t; W?.(b, X > $ ? $ : X), b.a = 0, b.$ = Nt - R } return 1 } return b.a = 3, 0 } function Cr(b) { t(b != null), b.vc = null, b.yc = null, b.Ya = null; var S = b.Wa; S != null && (S.X = null), b.vb = null, t(b != null) } function Gi() { var b = new sf; return b == null ? null : (b.a = 0, b.xb = uc, er("Predictor", "VP8LPredictors"), er("Predictor", "VP8LPredictors_C"), er("PredictorAdd", "VP8LPredictorsAdd"), er("PredictorAdd", "VP8LPredictorsAdd_C"), Rh = be, uo = le, br = ne, $i = Xn, ho = We, Lr = tr, _s = Qe, j.VP8LMapColor32b = Ii, j.VP8LMapColor8b = yu, b) } function Nn(b, S, R, P, H) { var $ = 1, W = [b], X = [S], et = P.m, rt = P.s, vt = null, Nt = 0; t: for (; ;) { if (R) for (; $ && Y(et, 1);) { var _t = W, St = X, Ht = P, Ot = 1, bt = Ht.m, wt = Ht.gc[Ht.ab], It = Y(bt, 2); if (Ht.Oc & 1 << It) $ = 0; else { switch (Ht.Oc |= 1 << It, wt.hc = It, wt.Ea = _t[0], wt.nc = St[0], wt.K = [null], ++Ht.ab, t(4 >= Ht.ab), It) { case 0: case 1: wt.b = Y(bt, 3) + 2, Ot = Nn(ae(wt.Ea, wt.b), ae(wt.nc, wt.b), 0, Ht, wt.K), wt.K = wt.K[0]; break; case 3: var qt, Bt = Y(bt, 8) + 1, re = 16 < Bt ? 0 : 4 < Bt ? 1 : 2 < Bt ? 2 : 3; if (_t[0] = ae(wt.Ea, re), wt.b = re, qt = Ot = Nn(Bt, 1, 0, Ht, wt.K)) { var te, me = Bt, ee = wt, fn = 1 << (8 >> ee.b), wn = s(fn); if (wn == null) qt = 0; else { var $e = ee.K[0], Ve = ee.w; for (wn[0] = ee.K[0][0], te = 1; te < 1 * me; ++te)wn[te] = Vt($e[Ve + te], wn[te - 1]); for (; te < 4 * fn; ++te)wn[te] = 0; ee.K[0] = null, ee.K[0] = wn, qt = 1 } } Ot = qt; break; case 2: break; default: t(0) }$ = Ot } } if (W = W[0], X = X[0], $ && Y(et, 1) && !($ = 1 <= (Nt = Y(et, 4)) && 11 >= Nt)) { P.a = 3; break t } var Cn; if (Cn = $) e: { var xn, Ie, Rn, we = P, Le = W, hn = X, pn = Nt, zi = R, _i = we.m, di = we.s, fi = [null], vi = 1, ls = 0, Sn = vl[pn]; n: for (; ;) { if (zi && Y(_i, 1)) { var bi = Y(_i, 3) + 2, Rs = ae(Le, bi), Ao = ae(hn, bi), wl = Rs * Ao; if (!Nn(Rs, Ao, 0, we, fi)) break n; for (fi = fi[0], di.xc = bi, xn = 0; xn < wl; ++xn) { var Eo = fi[xn] >> 8 & 65535; fi[xn] = Eo, Eo >= vi && (vi = Eo + 1) } } if (_i.h) break n; for (Ie = 0; 5 > Ie; ++Ie) { var Wn = Kr[Ie]; !Ie && 0 < pn && (Wn += 1 << pn), ls < Wn && (ls = Wn) } var Cu = o(vi * Sn, G), jh = vi, wr = o(jh, nt); if (wr == null) var Qn = null; else t(65536 >= jh), Qn = wr; var xl = s(ls); if (Qn == null || xl == null || Cu == null) { we.a = 1; break n } var _o = Cu; for (xn = Rn = 0; xn < vi; ++xn) { var Pr = Qn[xn], Co = Pr.G, Or = Pr.H, Nu = 0, dc = 1, Ih = 0; for (Ie = 0; 5 > Ie; ++Ie) { Wn = Kr[Ie], Co[Ie] = _o, Or[Ie] = Rn, !Ie && 0 < pn && (Wn += 1 << pn); r: { var Ru, Fh = Wn, Tu = we, fc = xl, ug = _o, hg = Rn, Lu = 0, Ta = Tu.m, Q0 = Y(Ta, 1); if (r(fc, 0, 0, Fh), Q0) { var dg = Y(Ta, 1) + 1, fg = Y(Ta, 1), uf = Y(Ta, fg == 0 ? 1 : 8); fc[uf] = 1, dg == 2 && (fc[uf = Y(Ta, 8)] = 1); var pc = 1 } else { var hf = s(19), df = Y(Ta, 4) + 4; if (19 < df) { Tu.a = 3; var Mu = 0; break r } for (Ru = 0; Ru < df; ++Ru)hf[Ea[Ru]] = Y(Ta, 3); var Bh = void 0, gc = void 0, pg = Tu, gg = hf, La = Fh, Pu = fc, zh = 0, Ts = pg.m, mc = 8, ff = o(128, G); i: for (; z(ff, 0, 7, gg, 19);) { if (Y(Ts, 1)) { var mg = 2 + 2 * Y(Ts, 3); if ((Bh = 2 + Y(Ts, mg)) > La) break i } else Bh = La; for (gc = 0; gc < La && Bh--;) { at(Ts); var pf = ff[0 + (127 & V(Ts))]; st(Ts, Ts.u + pf.g); var Sl = pf.value; if (16 > Sl) Pu[gc++] = Sl, Sl != 0 && (mc = Sl); else { var vg = Sl == 16, gf = Sl - 16, mf = os[gf], vf = Y(Ts, Mh[gf]) + mf; if (gc + vf > La) break i; for (var bg = vg ? mc : 0; 0 < vf--;)Pu[gc++] = bg } } zh = 1; break i } zh || (pg.a = 3), pc = zh } (pc = pc && !Ta.h) && (Lu = z(ug, hg, 8, fc, Fh)), pc && Lu != 0 ? Mu = Lu : (Tu.a = 3, Mu = 0) } if (Mu == 0) break n; if (dc && ml[Ie] == 1 && (dc = _o[Rn].g == 0), Nu += _o[Rn].g, Rn += Mu, 3 >= Ie) { var Al, Uh = xl[0]; for (Al = 1; Al < Wn; ++Al)xl[Al] > Uh && (Uh = xl[Al]); Ih += Uh } } if (Pr.nd = dc, Pr.Qb = 0, dc && (Pr.qb = (Co[3][Or[3] + 0].value << 24 | Co[1][Or[1] + 0].value << 16 | Co[2][Or[2] + 0].value) >>> 0, Nu == 0 && 256 > Co[0][Or[0] + 0].value && (Pr.Qb = 1, Pr.qb += Co[0][Or[0] + 0].value << 8)), Pr.jc = !Pr.Qb && 6 > Ih, Pr.jc) { var Ou, Ma = Pr; for (Ou = 0; Ou < xi; ++Ou) { var ta = Ou, Pa = Ma.pd[ta], ku = Ma.G[0][Ma.H[0] + ta]; 256 <= ku.value ? (Pa.g = ku.g + 256, Pa.value = ku.value) : (Pa.g = 0, Pa.value = 0, ta >>= Gn(ku, 8, Pa), ta >>= Gn(Ma.G[1][Ma.H[1] + ta], 16, Pa), ta >>= Gn(Ma.G[2][Ma.H[2] + ta], 0, Pa), Gn(Ma.G[3][Ma.H[3] + ta], 24, Pa)) } } } di.vc = fi, di.Wb = vi, di.Ya = Qn, di.yc = Cu, Cn = 1; break e } Cn = 0 } if (!($ = Cn)) { P.a = 3; break t } if (0 < Nt) { if (rt.ua = 1 << Nt, !Kt(rt.Wa, Nt)) { P.a = 1, $ = 0; break t } } else rt.ua = 0; var Du = P, bf = W, yg = X, yf = Du.s, wf = yf.xc; if (Du.c = bf, Du.i = yg, yf.md = ae(bf, wf), yf.wc = wf == 0 ? -1 : (1 << wf) - 1, R) { P.xb = ag; break t } if ((vt = s(W * X)) == null) { P.a = 1, $ = 0; break t } $ = ($ = sr(P, vt, 0, W, X, X, null)) && !et.h; break t } return $ ? (H != null ? H[0] = vt : (t(vt == null), t(R)), P.$ = 0, R || Cr(rt)) : Cr(rt), $ } function Qa(b, S) { var R = b.c * b.i, P = R + S + 16 * S; return t(b.c <= S), b.V = s(P), b.V == null ? (b.Ta = null, b.Ua = 0, b.a = 1, 0) : (b.Ta = b.V, b.Ua = b.Ba + R + S, 1) } function el(b, S) { var R = b.C, P = S - R, H = b.V, $ = b.Ba + b.c * R; for (t(S <= b.l.o); 0 < P;) { var W = 16 < P ? 16 : P, X = b.l.ma, et = b.l.width, rt = et * W, vt = X.ca, Nt = X.tb + et * R, _t = b.Ta, St = b.Ua; _r(b, W, H, $), On(_t, St, vt, Nt, rt), Gr(X, R, R + W, vt, Nt, et), P -= W, H += W * b.c, R += W } t(R == S), b.C = b.Ma = S } function es() { this.ub = this.yd = this.td = this.Rb = 0 } function ws() { this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0 } function ql() { this.Fb = this.Bb = this.Cb = 0, this.Zb = s(4), this.Lb = s(4) } function iu() { this.Yb = function () { var b = []; return function S(R, P, H) { for (var $ = H[P], W = 0; W < $ && (R.push(H.length > P + 1 ? [] : 0), !(H.length < P + 1)); W++)S(R[W], P + 1, H) }(b, 0, [3, 11]), b }() } function vh() { this.jb = s(3), this.Wc = c([4, 8], iu), this.Xc = c([4, 17], iu) } function Jd() { this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new s(4), this.od = new s(4) } function ua() { this.ld = this.La = this.dd = this.tc = 0 } function nl() { this.Na = this.la = 0 } function xs() { this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0 } function il() { this.ad = s(384), this.Za = 0, this.Ob = s(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0 } function bh() { this.uc = this.M = this.Nb = 0, this.wa = Array(new ua), this.Y = 0, this.ya = Array(new il), this.aa = 0, this.l = new Za } function ha() { this.y = s(16), this.f = s(8), this.ea = s(8) } function ru() { this.cb = this.a = 0, this.sc = "", this.m = new ft, this.Od = new es, this.Kc = new ws, this.ed = new Jd, this.Qa = new ql, this.Ic = this.$c = this.Aa = 0, this.D = new bh, this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = o(8, ft), this.ia = 0, this.pb = o(4, xs), this.Pa = new vh, this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new ha), this.Hd = 0, this.rb = Array(new nl), this.sb = 0, this.wa = Array(new ua), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new il), this.L = this.aa = 0, this.gd = c([4, 2], ua), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0 } function Za() { this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = "void", this.put = "VP8IoPutHook", this.ac = "VP8IoSetupHook", this.bc = "VP8IoTeardownHook", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0 } function tf() { var b = new ru; return b != null && (b.a = 0, b.sc = "OK", b.cb = 0, b.Xb = 0, Si || (Si = yh)), b } function Jn(b, S, R) { return b.a == 0 && (b.a = S, b.sc = R, b.cb = 0), 0 } function vr(b, S, R) { return 3 <= R && b[S + 0] == 157 && b[S + 1] == 1 && b[S + 2] == 42 } function su(b, S) { if (b == null) return 0; if (b.a = 0, b.sc = "OK", S == null) return Jn(b, 2, "null VP8Io passed to VP8GetHeaders()"); var R = S.data, P = S.w, H = S.ha; if (4 > H) return Jn(b, 7, "Truncated header."); var $ = R[P + 0] | R[P + 1] << 8 | R[P + 2] << 16, W = b.Od; if (W.Rb = !(1 & $), W.td = $ >> 1 & 7, W.yd = $ >> 4 & 1, W.ub = $ >> 5, 3 < W.td) return Jn(b, 3, "Incorrect keyframe parameters."); if (!W.yd) return Jn(b, 4, "Frame not displayable."); P += 3, H -= 3; var X = b.Kc; if (W.Rb) { if (7 > H) return Jn(b, 7, "cannot parse picture header"); if (!vr(R, P, H)) return Jn(b, 3, "Bad code word"); X.c = 16383 & (R[P + 4] << 8 | R[P + 3]), X.Td = R[P + 4] >> 6, X.i = 16383 & (R[P + 6] << 8 | R[P + 5]), X.Ud = R[P + 6] >> 6, P += 7, H -= 7, b.za = X.c + 15 >> 4, b.Ub = X.i + 15 >> 4, S.width = X.c, S.height = X.i, S.Da = 0, S.j = 0, S.v = 0, S.va = S.width, S.o = S.height, S.da = 0, S.ib = S.width, S.hb = S.height, S.U = S.width, S.T = S.height, r(($ = b.Pa).jb, 0, 255, $.jb.length), t(($ = b.Qa) != null), $.Cb = 0, $.Bb = 0, $.Fb = 1, r($.Zb, 0, 0, $.Zb.length), r($.Lb, 0, 0, $.Lb) } if (W.ub > H) return Jn(b, 7, "bad partition length"); ht($ = b.m, R, P, W.ub), P += W.ub, H -= W.ub, W.Rb && (X.Ld = gt($), X.Kd = gt($)), X = b.Qa; var et, rt = b.Pa; if (t($ != null), t(X != null), X.Cb = gt($), X.Cb) { if (X.Bb = gt($), gt($)) { for (X.Fb = gt($), et = 0; 4 > et; ++et)X.Zb[et] = gt($) ? tt($, 7) : 0; for (et = 0; 4 > et; ++et)X.Lb[et] = gt($) ? tt($, 6) : 0 } if (X.Bb) for (et = 0; 3 > et; ++et)rt.jb[et] = gt($) ? U($, 8) : 255 } else X.Bb = 0; if ($.Ka) return Jn(b, 3, "cannot parse segment header"); if ((X = b.ed).zd = gt($), X.Tb = U($, 6), X.wb = U($, 3), X.Pc = gt($), X.Pc && gt($)) { for (rt = 0; 4 > rt; ++rt)gt($) && (X.vd[rt] = tt($, 6)); for (rt = 0; 4 > rt; ++rt)gt($) && (X.od[rt] = tt($, 6)) } if (b.L = X.Tb == 0 ? 0 : X.zd ? 1 : 2, $.Ka) return Jn(b, 3, "cannot parse filter header"); var vt = H; if (H = et = P, P = et + vt, X = vt, b.Xb = (1 << U(b.m, 2)) - 1, vt < 3 * (rt = b.Xb)) R = 7; else { for (et += 3 * rt, X -= 3 * rt, vt = 0; vt < rt; ++vt) { var Nt = R[H + 0] | R[H + 1] << 8 | R[H + 2] << 16; Nt > X && (Nt = X), ht(b.Jc[+vt], R, et, Nt), et += Nt, X -= Nt, H += 3 } ht(b.Jc[+rt], R, et, X), R = et < P ? 0 : 5 } if (R != 0) return Jn(b, R, "cannot parse partitions"); for (R = U(et = b.m, 7), H = gt(et) ? tt(et, 4) : 0, P = gt(et) ? tt(et, 4) : 0, X = gt(et) ? tt(et, 4) : 0, rt = gt(et) ? tt(et, 4) : 0, et = gt(et) ? tt(et, 4) : 0, vt = b.Qa, Nt = 0; 4 > Nt; ++Nt) { if (vt.Cb) { var _t = vt.Zb[Nt]; vt.Fb || (_t += R) } else { if (0 < Nt) { b.pb[Nt] = b.pb[0]; continue } _t = R } var St = b.pb[Nt]; St.Sc[0] = Su[Yr(_t + H, 127)], St.Sc[1] = Au[Yr(_t + 0, 127)], St.Eb[0] = 2 * Su[Yr(_t + P, 127)], St.Eb[1] = 101581 * Au[Yr(_t + X, 127)] >> 16, 8 > St.Eb[1] && (St.Eb[1] = 8), St.Qc[0] = Su[Yr(_t + rt, 117)], St.Qc[1] = Au[Yr(_t + et, 127)], St.lc = _t + et } if (!W.Rb) return Jn(b, 4, "Not a key frame."); for (gt($), W = b.Pa, R = 0; 4 > R; ++R) { for (H = 0; 8 > H; ++H)for (P = 0; 3 > P; ++P)for (X = 0; 11 > X; ++X)rt = xt($, bl[R][H][P][X]) ? U($, 8) : Ks[R][H][P][X], W.Wc[R][H].Yb[P][X] = rt; for (H = 0; 17 > H; ++H)W.Xc[R][H] = W.Wc[R][sg[H]] } return b.kc = gt($), b.kc && (b.Bd = U($, 8)), b.cb = 1 } function yh(b, S, R, P, H, $, W) { var X = S[H].Yb[R]; for (R = 0; 16 > H; ++H) { if (!xt(b, X[R + 0])) return H; for (; !xt(b, X[R + 1]);)if (X = S[++H].Yb[0], R = 0, H == 16) return 16; var et = S[H + 1].Yb; if (xt(b, X[R + 2])) { var rt = b, vt = 0; if (xt(rt, (_t = X)[(Nt = R) + 3])) if (xt(rt, _t[Nt + 6])) { for (X = 0, Nt = 2 * (vt = xt(rt, _t[Nt + 8])) + (_t = xt(rt, _t[Nt + 9 + vt])), vt = 0, _t = ni[Nt]; _t[X]; ++X)vt += vt + xt(rt, _t[X]); vt += 3 + (8 << Nt) } else xt(rt, _t[Nt + 7]) ? (vt = 7 + 2 * xt(rt, 165), vt += xt(rt, 145)) : vt = 5 + xt(rt, 159); else vt = xt(rt, _t[Nt + 4]) ? 3 + xt(rt, _t[Nt + 5]) : 2; X = et[2] } else vt = 1, X = et[1]; et = W + bn[H], 0 > (rt = b).b && ct(rt); var Nt, _t = rt.b, St = (Nt = rt.Ca >> 1) - (rt.I >> _t) >> 31; --rt.b, rt.Ca += St, rt.Ca |= 1, rt.I -= (Nt + 1 & St) << _t, $[et] = ((vt ^ St) - St) * P[(0 < H) + 0] } return 16 } function Ja(b) { var S = b.rb[b.sb - 1]; S.la = 0, S.Na = 0, r(b.zc, 0, 0, b.zc.length), b.ja = 0 } function wh(b, S) { if (b == null) return 0; if (S == null) return Jn(b, 2, "NULL VP8Io parameter in VP8Decode()."); if (!b.cb && !su(b, S)) return 0; if (t(b.cb), S.ac == null || S.ac(S)) { S.ob && (b.L = 0); var R = Ra[b.L]; if (b.L == 2 ? (b.yb = 0, b.zb = 0) : (b.yb = S.v - R >> 4, b.zb = S.j - R >> 4, 0 > b.yb && (b.yb = 0), 0 > b.zb && (b.zb = 0)), b.Va = S.o + 15 + R >> 4, b.Hb = S.va + 15 + R >> 4, b.Hb > b.za && (b.Hb = b.za), b.Va > b.Ub && (b.Va = b.Ub), 0 < b.L) { var P = b.ed; for (R = 0; 4 > R; ++R) { var H; if (b.Qa.Cb) { var $ = b.Qa.Lb[R]; b.Qa.Fb || ($ += P.Tb) } else $ = P.Tb; for (H = 0; 1 >= H; ++H) { var W = b.gd[R][H], X = $; if (P.Pc && (X += P.vd[0], H && (X += P.od[0])), 0 < (X = 0 > X ? 0 : 63 < X ? 63 : X)) { var et = X; 0 < P.wb && (et = 4 < P.wb ? et >> 2 : et >> 1) > 9 - P.wb && (et = 9 - P.wb), 1 > et && (et = 1), W.dd = et, W.tc = 2 * X + et, W.ld = 40 <= X ? 2 : 15 <= X ? 1 : 0 } else W.tc = 0; W.La = H } } } R = 0 } else Jn(b, 6, "Frame setup failed"), R = b.a; if (R = R == 0) { if (R) { b.$c = 0, 0 < b.Aa || (b.Ic = lg); t: { R = b.Ic, P = 4 * (et = b.za); var rt = 32 * et, vt = et + 1, Nt = 0 < b.L ? et * (0 < b.Aa ? 2 : 1) : 0, _t = (b.Aa == 2 ? 2 : 1) * et; if ((W = P + 832 + (H = 3 * (16 * R + Ra[b.L]) / 2 * rt) + ($ = b.Fa != null && 0 < b.Fa.length ? b.Kc.c * b.Kc.i : 0)) != W) R = 0; else { if (W > b.Vb) { if (b.Vb = 0, b.Ec = s(W), b.Fc = 0, b.Ec == null) { R = Jn(b, 1, "no memory during frame initialization."); break t } b.Vb = W } W = b.Ec, X = b.Fc, b.Ac = W, b.Bc = X, X += P, b.Gd = o(rt, ha), b.Hd = 0, b.rb = o(vt + 1, nl), b.sb = 1, b.wa = Nt ? o(Nt, ua) : null, b.Y = 0, b.D.Nb = 0, b.D.wa = b.wa, b.D.Y = b.Y, 0 < b.Aa && (b.D.Y += et), t(!0), b.oc = W, b.pc = X, X += 832, b.ya = o(_t, il), b.aa = 0, b.D.ya = b.ya, b.D.aa = b.aa, b.Aa == 2 && (b.D.aa += et), b.R = 16 * et, b.B = 8 * et, et = (rt = Ra[b.L]) * b.R, rt = rt / 2 * b.B, b.sa = W, b.ta = X + et, b.qa = b.sa, b.ra = b.ta + 16 * R * b.R + rt, b.Ha = b.qa, b.Ia = b.ra + 8 * R * b.B + rt, b.$c = 0, X += H, b.mb = $ ? W : null, b.nb = $ ? X : null, t(X + $ <= b.Fc + b.Vb), Ja(b), r(b.Ac, b.Bc, 0, P), R = 1 } } if (R) { if (S.ka = 0, S.y = b.sa, S.O = b.ta, S.f = b.qa, S.N = b.ra, S.ea = b.Ha, S.Vd = b.Ia, S.fa = b.R, S.Rc = b.B, S.F = null, S.J = 0, !xa) { for (R = -255; 255 >= R; ++R)hi[255 + R] = 0 > R ? -R : R; for (R = -1020; 1020 >= R; ++R)ss[1020 + R] = -128 > R ? -128 : 127 < R ? 127 : R; for (R = -112; 112 >= R; ++R)vo[112 + R] = -16 > R ? -16 : 15 < R ? 15 : R; for (R = -255; 510 >= R; ++R)bo[255 + R] = 0 > R ? 0 : 255 < R ? 255 : R; xa = 1 } Ws = to, Cs = ou, Ns = da, mi = xh, Mr = lu, ti = au, hl = sl, Ys = al, ac = rf, fo = fu, po = nf, go = Ql, dl = Zl, oc = Nh, mo = ro, wa = Wr, fl = $s, ei = ef, yr[0] = Rr, yr[1] = Sh, yr[2] = hu, yr[3] = Eh, yr[4] = ns, yr[5] = qs, yr[6] = Wl, yr[7] = is, yr[8] = Yl, yr[9] = du, Ca[0] = $l, Ca[1] = uu, Ca[2] = fa, Ca[3] = Gl, Ca[4] = Di, Ca[5] = eo, Ca[6] = ga, Qr[0] = ma, Qr[1] = Ah, Qr[2] = _h, Qr[3] = no, Qr[4] = $r, Qr[5] = ar, Qr[6] = io, R = 1 } else R = 0 } R && (R = function (St, Ht) { for (St.M = 0; St.M < St.Va; ++St.M) { var Ot, bt = St.Jc[St.M & St.Xb], wt = St.m, It = St; for (Ot = 0; Ot < It.za; ++Ot) { var qt = wt, Bt = It, re = Bt.Ac, te = Bt.Bc + 4 * Ot, me = Bt.zc, ee = Bt.ya[Bt.aa + Ot]; if (Bt.Qa.Bb ? ee.$b = xt(qt, Bt.Pa.jb[0]) ? 2 + xt(qt, Bt.Pa.jb[2]) : xt(qt, Bt.Pa.jb[1]) : ee.$b = 0, Bt.kc && (ee.Ad = xt(qt, Bt.Bd)), ee.Za = !xt(qt, 145) + 0, ee.Za) { var fn = ee.Ob, wn = 0; for (Bt = 0; 4 > Bt; ++Bt) { var $e, Ve = me[0 + Bt]; for ($e = 0; 4 > $e; ++$e) { Ve = of[re[te + $e]][Ve]; for (var Cn = wo[xt(qt, Ve[0])]; 0 < Cn;)Cn = wo[2 * Cn + xt(qt, Ve[Cn])]; Ve = -Cn, re[te + $e] = Ve } n(fn, wn, re, te, 4), wn += 4, me[0 + Bt] = Ve } } else Ve = xt(qt, 156) ? xt(qt, 128) ? 1 : 3 : xt(qt, 163) ? 2 : 0, ee.Ob[0] = Ve, r(re, te, Ve, 4), r(me, 0, Ve, 4); ee.Dd = xt(qt, 142) ? xt(qt, 114) ? xt(qt, 183) ? 1 : 3 : 2 : 0 } if (It.m.Ka) return Jn(St, 7, "Premature end-of-partition0 encountered."); for (; St.ja < St.za; ++St.ja) { if (It = bt, qt = (wt = St).rb[wt.sb - 1], re = wt.rb[wt.sb + wt.ja], Ot = wt.ya[wt.aa + wt.ja], te = wt.kc ? Ot.Ad : 0) qt.la = re.la = 0, Ot.Za || (qt.Na = re.Na = 0), Ot.Hc = 0, Ot.Gc = 0, Ot.ia = 0; else { var xn, Ie; if (qt = re, re = It, te = wt.Pa.Xc, me = wt.ya[wt.aa + wt.ja], ee = wt.pb[me.$b], Bt = me.ad, fn = 0, wn = wt.rb[wt.sb - 1], Ve = $e = 0, r(Bt, fn, 0, 384), me.Za) var Rn = 0, we = te[3]; else { Cn = s(16); var Le = qt.Na + wn.Na; if (Le = Si(re, te[1], Le, ee.Eb, 0, Cn, 0), qt.Na = wn.Na = (0 < Le) + 0, 1 < Le) Ws(Cn, 0, Bt, fn); else { var hn = Cn[0] + 3 >> 3; for (Cn = 0; 256 > Cn; Cn += 16)Bt[fn + Cn] = hn } Rn = 1, we = te[0] } var pn = 15 & qt.la, zi = 15 & wn.la; for (Cn = 0; 4 > Cn; ++Cn) { var _i = 1 & zi; for (hn = Ie = 0; 4 > hn; ++hn)pn = pn >> 1 | (_i = (Le = Si(re, we, Le = _i + (1 & pn), ee.Sc, Rn, Bt, fn)) > Rn) << 7, Ie = Ie << 2 | (3 < Le ? 3 : 1 < Le ? 2 : Bt[fn + 0] != 0), fn += 16; pn >>= 4, zi = zi >> 1 | _i << 7, $e = ($e << 8 | Ie) >>> 0 } for (we = pn, Rn = zi >> 4, xn = 0; 4 > xn; xn += 2) { for (Ie = 0, pn = qt.la >> 4 + xn, zi = wn.la >> 4 + xn, Cn = 0; 2 > Cn; ++Cn) { for (_i = 1 & zi, hn = 0; 2 > hn; ++hn)Le = _i + (1 & pn), pn = pn >> 1 | (_i = 0 < (Le = Si(re, te[2], Le, ee.Qc, 0, Bt, fn))) << 3, Ie = Ie << 2 | (3 < Le ? 3 : 1 < Le ? 2 : Bt[fn + 0] != 0), fn += 16; pn >>= 2, zi = zi >> 1 | _i << 5 } Ve |= Ie << 4 * xn, we |= pn << 4 << xn, Rn |= (240 & zi) << xn } qt.la = we, wn.la = Rn, me.Hc = $e, me.Gc = Ve, me.ia = 43690 & Ve ? 0 : ee.ia, te = !($e | Ve) } if (0 < wt.L && (wt.wa[wt.Y + wt.ja] = wt.gd[Ot.$b][Ot.Za], wt.wa[wt.Y + wt.ja].La |= !te), It.Ka) return Jn(St, 7, "Premature end-of-file encountered.") } if (Ja(St), wt = Ht, It = 1, Ot = (bt = St).D, qt = 0 < bt.L && bt.M >= bt.zb && bt.M <= bt.Va, bt.Aa == 0) t: { if (Ot.M = bt.M, Ot.uc = qt, ba(bt, Ot), It = 1, Ot = (Ie = bt.D).Nb, qt = (Ve = Ra[bt.L]) * bt.R, re = Ve / 2 * bt.B, Cn = 16 * Ot * bt.R, hn = 8 * Ot * bt.B, te = bt.sa, me = bt.ta - qt + Cn, ee = bt.qa, Bt = bt.ra - re + hn, fn = bt.Ha, wn = bt.Ia - re + hn, zi = (pn = Ie.M) == 0, $e = pn >= bt.Va - 1, bt.Aa == 2 && ba(bt, Ie), Ie.uc) for (_i = (Le = bt).D.M, t(Le.D.uc), Ie = Le.yb; Ie < Le.Hb; ++Ie) { Rn = Ie, we = _i; var di = (fi = (Wn = Le).D).Nb; xn = Wn.R; var fi = fi.wa[fi.Y + Rn], vi = Wn.sa, ls = Wn.ta + 16 * di * xn + 16 * Rn, Sn = fi.dd, bi = fi.tc; if (bi != 0) if (t(3 <= bi), Wn.L == 1) 0 < Rn && wa(vi, ls, xn, bi + 4), fi.La && ei(vi, ls, xn, bi), 0 < we && mo(vi, ls, xn, bi + 4), fi.La && fl(vi, ls, xn, bi); else { var Rs = Wn.B, Ao = Wn.qa, wl = Wn.ra + 8 * di * Rs + 8 * Rn, Eo = Wn.Ha, Wn = Wn.Ia + 8 * di * Rs + 8 * Rn; di = fi.ld, 0 < Rn && (Ys(vi, ls, xn, bi + 4, Sn, di), fo(Ao, wl, Eo, Wn, Rs, bi + 4, Sn, di)), fi.La && (go(vi, ls, xn, bi, Sn, di), oc(Ao, wl, Eo, Wn, Rs, bi, Sn, di)), 0 < we && (hl(vi, ls, xn, bi + 4, Sn, di), ac(Ao, wl, Eo, Wn, Rs, bi + 4, Sn, di)), fi.La && (po(vi, ls, xn, bi, Sn, di), dl(Ao, wl, Eo, Wn, Rs, bi, Sn, di)) } } if (bt.ia && alert("todo:DitherRow"), wt.put != null) { if (Ie = 16 * pn, pn = 16 * (pn + 1), zi ? (wt.y = bt.sa, wt.O = bt.ta + Cn, wt.f = bt.qa, wt.N = bt.ra + hn, wt.ea = bt.Ha, wt.W = bt.Ia + hn) : (Ie -= Ve, wt.y = te, wt.O = me, wt.f = ee, wt.N = Bt, wt.ea = fn, wt.W = wn), $e || (pn -= Ve), pn > wt.o && (pn = wt.o), wt.F = null, wt.J = null, bt.Fa != null && 0 < bt.Fa.length && Ie < pn && (wt.J = mu(bt, wt, Ie, pn - Ie), wt.F = bt.mb, wt.F == null && wt.F.length == 0)) { It = Jn(bt, 3, "Could not decode alpha data."); break t } Ie < wt.j && (Ve = wt.j - Ie, Ie = wt.j, t(!(1 & Ve)), wt.O += bt.R * Ve, wt.N += bt.B * (Ve >> 1), wt.W += bt.B * (Ve >> 1), wt.F != null && (wt.J += wt.width * Ve)), Ie < pn && (wt.O += wt.v, wt.N += wt.v >> 1, wt.W += wt.v >> 1, wt.F != null && (wt.J += wt.v), wt.ka = Ie - wt.j, wt.U = wt.va - wt.v, wt.T = pn - Ie, It = wt.put(wt)) } Ot + 1 != bt.Ic || $e || (n(bt.sa, bt.ta - qt, te, me + 16 * bt.R, qt), n(bt.qa, bt.ra - re, ee, Bt + 8 * bt.B, re), n(bt.Ha, bt.Ia - re, fn, wn + 8 * bt.B, re)) } if (!It) return Jn(St, 6, "Output aborted.") } return 1 }(b, S)), S.bc != null && S.bc(S), R &= 1 } return R ? (b.cb = 0, R) : 0 } function Nr(b, S, R, P, H) { H = b[S + R + 32 * P] + (H >> 3), b[S + R + 32 * P] = -256 & H ? 0 > H ? 0 : 255 : H } function Vl(b, S, R, P, H, $) { Nr(b, S, 0, R, P + H), Nr(b, S, 1, R, P + $), Nr(b, S, 2, R, P - $), Nr(b, S, 3, R, P - H) } function Bn(b) { return (20091 * b >> 16) + b } function rl(b, S, R, P) { var H, $ = 0, W = s(16); for (H = 0; 4 > H; ++H) { var X = b[S + 0] + b[S + 8], et = b[S + 0] - b[S + 8], rt = (35468 * b[S + 4] >> 16) - Bn(b[S + 12]), vt = Bn(b[S + 4]) + (35468 * b[S + 12] >> 16); W[$ + 0] = X + vt, W[$ + 1] = et + rt, W[$ + 2] = et - rt, W[$ + 3] = X - vt, $ += 4, S++ } for (H = $ = 0; 4 > H; ++H)X = (b = W[$ + 0] + 4) + W[$ + 8], et = b - W[$ + 8], rt = (35468 * W[$ + 4] >> 16) - Bn(W[$ + 12]), Nr(R, P, 0, 0, X + (vt = Bn(W[$ + 4]) + (35468 * W[$ + 12] >> 16))), Nr(R, P, 1, 0, et + rt), Nr(R, P, 2, 0, et - rt), Nr(R, P, 3, 0, X - vt), $++, P += 32 } function au(b, S, R, P) { var H = b[S + 0] + 4, $ = 35468 * b[S + 4] >> 16, W = Bn(b[S + 4]), X = 35468 * b[S + 1] >> 16; Vl(R, P, 0, H + W, b = Bn(b[S + 1]), X), Vl(R, P, 1, H + $, b, X), Vl(R, P, 2, H - $, b, X), Vl(R, P, 3, H - W, b, X) } function ou(b, S, R, P, H) { rl(b, S, R, P), H && rl(b, S + 16, R, P + 4) } function da(b, S, R, P) { Cs(b, S + 0, R, P, 1), Cs(b, S + 32, R, P + 128, 1) } function xh(b, S, R, P) { var H; for (b = b[S + 0] + 4, H = 0; 4 > H; ++H)for (S = 0; 4 > S; ++S)Nr(R, P, S, H, b) } function lu(b, S, R, P) { b[S + 0] && mi(b, S + 0, R, P), b[S + 16] && mi(b, S + 16, R, P + 4), b[S + 32] && mi(b, S + 32, R, P + 128), b[S + 48] && mi(b, S + 48, R, P + 128 + 4) } function to(b, S, R, P) { var H, $ = s(16); for (H = 0; 4 > H; ++H) { var W = b[S + 0 + H] + b[S + 12 + H], X = b[S + 4 + H] + b[S + 8 + H], et = b[S + 4 + H] - b[S + 8 + H], rt = b[S + 0 + H] - b[S + 12 + H]; $[0 + H] = W + X, $[8 + H] = W - X, $[4 + H] = rt + et, $[12 + H] = rt - et } for (H = 0; 4 > H; ++H)W = (b = $[0 + 4 * H] + 3) + $[3 + 4 * H], X = $[1 + 4 * H] + $[2 + 4 * H], et = $[1 + 4 * H] - $[2 + 4 * H], rt = b - $[3 + 4 * H], R[P + 0] = W + X >> 3, R[P + 16] = rt + et >> 3, R[P + 32] = W - X >> 3, R[P + 48] = rt - et >> 3, P += 64 } function cu(b, S, R) { var P, H = S - 32, $ = Fi, W = 255 - b[H - 1]; for (P = 0; P < R; ++P) { var X, et = $, rt = W + b[S - 1]; for (X = 0; X < R; ++X)b[S + X] = et[rt + b[H + X]]; S += 32 } } function Sh(b, S) { cu(b, S, 4) } function Ah(b, S) { cu(b, S, 8) } function uu(b, S) { cu(b, S, 16) } function fa(b, S) { var R; for (R = 0; 16 > R; ++R)n(b, S + 32 * R, b, S - 32, 16) } function Gl(b, S) { var R; for (R = 16; 0 < R; --R)r(b, S, b[S - 1], 16), S += 32 } function pa(b, S, R) { var P; for (P = 0; 16 > P; ++P)r(S, R + 32 * P, b, 16) } function $l(b, S) { var R, P = 16; for (R = 0; 16 > R; ++R)P += b[S - 1 + 32 * R] + b[S + R - 32]; pa(P >> 5, b, S) } function Di(b, S) { var R, P = 8; for (R = 0; 16 > R; ++R)P += b[S - 1 + 32 * R]; pa(P >> 4, b, S) } function eo(b, S) { var R, P = 8; for (R = 0; 16 > R; ++R)P += b[S + R - 32]; pa(P >> 4, b, S) } function ga(b, S) { pa(128, b, S) } function Pe(b, S, R) { return b + 2 * S + R + 2 >> 2 } function hu(b, S) { var R, P = S - 32; for (P = new Uint8Array([Pe(b[P - 1], b[P + 0], b[P + 1]), Pe(b[P + 0], b[P + 1], b[P + 2]), Pe(b[P + 1], b[P + 2], b[P + 3]), Pe(b[P + 2], b[P + 3], b[P + 4])]), R = 0; 4 > R; ++R)n(b, S + 32 * R, P, 0, P.length) } function Eh(b, S) { var R = b[S - 1], P = b[S - 1 + 32], H = b[S - 1 + 64], $ = b[S - 1 + 96]; Tt(b, S + 0, 16843009 * Pe(b[S - 1 - 32], R, P)), Tt(b, S + 32, 16843009 * Pe(R, P, H)), Tt(b, S + 64, 16843009 * Pe(P, H, $)), Tt(b, S + 96, 16843009 * Pe(H, $, $)) } function Rr(b, S) { var R, P = 4; for (R = 0; 4 > R; ++R)P += b[S + R - 32] + b[S - 1 + 32 * R]; for (P >>= 3, R = 0; 4 > R; ++R)r(b, S + 32 * R, P, 4) } function ns(b, S) { var R = b[S - 1 + 0], P = b[S - 1 + 32], H = b[S - 1 + 64], $ = b[S - 1 - 32], W = b[S + 0 - 32], X = b[S + 1 - 32], et = b[S + 2 - 32], rt = b[S + 3 - 32]; b[S + 0 + 96] = Pe(P, H, b[S - 1 + 96]), b[S + 1 + 96] = b[S + 0 + 64] = Pe(R, P, H), b[S + 2 + 96] = b[S + 1 + 64] = b[S + 0 + 32] = Pe($, R, P), b[S + 3 + 96] = b[S + 2 + 64] = b[S + 1 + 32] = b[S + 0 + 0] = Pe(W, $, R), b[S + 3 + 64] = b[S + 2 + 32] = b[S + 1 + 0] = Pe(X, W, $), b[S + 3 + 32] = b[S + 2 + 0] = Pe(et, X, W), b[S + 3 + 0] = Pe(rt, et, X) } function Wl(b, S) { var R = b[S + 1 - 32], P = b[S + 2 - 32], H = b[S + 3 - 32], $ = b[S + 4 - 32], W = b[S + 5 - 32], X = b[S + 6 - 32], et = b[S + 7 - 32]; b[S + 0 + 0] = Pe(b[S + 0 - 32], R, P), b[S + 1 + 0] = b[S + 0 + 32] = Pe(R, P, H), b[S + 2 + 0] = b[S + 1 + 32] = b[S + 0 + 64] = Pe(P, H, $), b[S + 3 + 0] = b[S + 2 + 32] = b[S + 1 + 64] = b[S + 0 + 96] = Pe(H, $, W), b[S + 3 + 32] = b[S + 2 + 64] = b[S + 1 + 96] = Pe($, W, X), b[S + 3 + 64] = b[S + 2 + 96] = Pe(W, X, et), b[S + 3 + 96] = Pe(X, et, et) } function qs(b, S) { var R = b[S - 1 + 0], P = b[S - 1 + 32], H = b[S - 1 + 64], $ = b[S - 1 - 32], W = b[S + 0 - 32], X = b[S + 1 - 32], et = b[S + 2 - 32], rt = b[S + 3 - 32]; b[S + 0 + 0] = b[S + 1 + 64] = $ + W + 1 >> 1, b[S + 1 + 0] = b[S + 2 + 64] = W + X + 1 >> 1, b[S + 2 + 0] = b[S + 3 + 64] = X + et + 1 >> 1, b[S + 3 + 0] = et + rt + 1 >> 1, b[S + 0 + 96] = Pe(H, P, R), b[S + 0 + 64] = Pe(P, R, $), b[S + 0 + 32] = b[S + 1 + 96] = Pe(R, $, W), b[S + 1 + 32] = b[S + 2 + 96] = Pe($, W, X), b[S + 2 + 32] = b[S + 3 + 96] = Pe(W, X, et), b[S + 3 + 32] = Pe(X, et, rt) } function is(b, S) { var R = b[S + 0 - 32], P = b[S + 1 - 32], H = b[S + 2 - 32], $ = b[S + 3 - 32], W = b[S + 4 - 32], X = b[S + 5 - 32], et = b[S + 6 - 32], rt = b[S + 7 - 32]; b[S + 0 + 0] = R + P + 1 >> 1, b[S + 1 + 0] = b[S + 0 + 64] = P + H + 1 >> 1, b[S + 2 + 0] = b[S + 1 + 64] = H + $ + 1 >> 1, b[S + 3 + 0] = b[S + 2 + 64] = $ + W + 1 >> 1, b[S + 0 + 32] = Pe(R, P, H), b[S + 1 + 32] = b[S + 0 + 96] = Pe(P, H, $), b[S + 2 + 32] = b[S + 1 + 96] = Pe(H, $, W), b[S + 3 + 32] = b[S + 2 + 96] = Pe($, W, X), b[S + 3 + 64] = Pe(W, X, et), b[S + 3 + 96] = Pe(X, et, rt) } function du(b, S) { var R = b[S - 1 + 0], P = b[S - 1 + 32], H = b[S - 1 + 64], $ = b[S - 1 + 96]; b[S + 0 + 0] = R + P + 1 >> 1, b[S + 2 + 0] = b[S + 0 + 32] = P + H + 1 >> 1, b[S + 2 + 32] = b[S + 0 + 64] = H + $ + 1 >> 1, b[S + 1 + 0] = Pe(R, P, H), b[S + 3 + 0] = b[S + 1 + 32] = Pe(P, H, $), b[S + 3 + 32] = b[S + 1 + 64] = Pe(H, $, $), b[S + 3 + 64] = b[S + 2 + 64] = b[S + 0 + 96] = b[S + 1 + 96] = b[S + 2 + 96] = b[S + 3 + 96] = $ } function Yl(b, S) { var R = b[S - 1 + 0], P = b[S - 1 + 32], H = b[S - 1 + 64], $ = b[S - 1 + 96], W = b[S - 1 - 32], X = b[S + 0 - 32], et = b[S + 1 - 32], rt = b[S + 2 - 32]; b[S + 0 + 0] = b[S + 2 + 32] = R + W + 1 >> 1, b[S + 0 + 32] = b[S + 2 + 64] = P + R + 1 >> 1, b[S + 0 + 64] = b[S + 2 + 96] = H + P + 1 >> 1, b[S + 0 + 96] = $ + H + 1 >> 1, b[S + 3 + 0] = Pe(X, et, rt), b[S + 2 + 0] = Pe(W, X, et), b[S + 1 + 0] = b[S + 3 + 32] = Pe(R, W, X), b[S + 1 + 32] = b[S + 3 + 64] = Pe(P, R, W), b[S + 1 + 64] = b[S + 3 + 96] = Pe(H, P, R), b[S + 1 + 96] = Pe($, H, P) } function _h(b, S) { var R; for (R = 0; 8 > R; ++R)n(b, S + 32 * R, b, S - 32, 8) } function no(b, S) { var R; for (R = 0; 8 > R; ++R)r(b, S, b[S - 1], 8), S += 32 } function Vs(b, S, R) { var P; for (P = 0; 8 > P; ++P)r(S, R + 32 * P, b, 8) } function ma(b, S) { var R, P = 8; for (R = 0; 8 > R; ++R)P += b[S + R - 32] + b[S - 1 + 32 * R]; Vs(P >> 4, b, S) } function ar(b, S) { var R, P = 4; for (R = 0; 8 > R; ++R)P += b[S + R - 32]; Vs(P >> 3, b, S) } function $r(b, S) { var R, P = 4; for (R = 0; 8 > R; ++R)P += b[S - 1 + 32 * R]; Vs(P >> 3, b, S) } function io(b, S) { Vs(128, b, S) } function Gs(b, S, R) { var P = b[S - R], H = b[S + 0], $ = 3 * (H - P) + Th[1020 + b[S - 2 * R] - b[S + R]], W = pl[112 + ($ + 4 >> 3)]; b[S - R] = Fi[255 + P + pl[112 + ($ + 3 >> 3)]], b[S + 0] = Fi[255 + H - W] } function Ch(b, S, R, P) { var H = b[S + 0], $ = b[S + R]; return as[255 + b[S - 2 * R] - b[S - R]] > P || as[255 + $ - H] > P } function Xl(b, S, R, P) { return 4 * as[255 + b[S - R] - b[S + 0]] + as[255 + b[S - 2 * R] - b[S + R]] <= P } function Kl(b, S, R, P, H) { var $ = b[S - 3 * R], W = b[S - 2 * R], X = b[S - R], et = b[S + 0], rt = b[S + R], vt = b[S + 2 * R], Nt = b[S + 3 * R]; return 4 * as[255 + X - et] + as[255 + W - rt] > P ? 0 : as[255 + b[S - 4 * R] - $] <= H && as[255 + $ - W] <= H && as[255 + W - X] <= H && as[255 + Nt - vt] <= H && as[255 + vt - rt] <= H && as[255 + rt - et] <= H } function ro(b, S, R, P) { var H = 2 * P + 1; for (P = 0; 16 > P; ++P)Xl(b, S + P, R, H) && Gs(b, S + P, R) } function Wr(b, S, R, P) { var H = 2 * P + 1; for (P = 0; 16 > P; ++P)Xl(b, S + P * R, 1, H) && Gs(b, S + P * R, 1) } function $s(b, S, R, P) { var H; for (H = 3; 0 < H; --H)ro(b, S += 4 * R, R, P) } function ef(b, S, R, P) { var H; for (H = 3; 0 < H; --H)Wr(b, S += 4, R, P) } function so(b, S, R, P, H, $, W, X) { for ($ = 2 * $ + 1; 0 < H--;) { if (Kl(b, S, R, $, W)) if (Ch(b, S, R, X)) Gs(b, S, R); else { var et = b, rt = S, vt = R, Nt = et[rt - 2 * vt], _t = et[rt - vt], St = et[rt + 0], Ht = et[rt + vt], Ot = et[rt + 2 * vt], bt = 27 * (It = Th[1020 + 3 * (St - _t) + Th[1020 + Nt - Ht]]) + 63 >> 7, wt = 18 * It + 63 >> 7, It = 9 * It + 63 >> 7; et[rt - 3 * vt] = Fi[255 + et[rt - 3 * vt] + It], et[rt - 2 * vt] = Fi[255 + Nt + wt], et[rt - vt] = Fi[255 + _t + bt], et[rt + 0] = Fi[255 + St - bt], et[rt + vt] = Fi[255 + Ht - wt], et[rt + 2 * vt] = Fi[255 + Ot - It] } S += P } } function Ss(b, S, R, P, H, $, W, X) { for ($ = 2 * $ + 1; 0 < H--;) { if (Kl(b, S, R, $, W)) if (Ch(b, S, R, X)) Gs(b, S, R); else { var et = b, rt = S, vt = R, Nt = et[rt - vt], _t = et[rt + 0], St = et[rt + vt], Ht = pl[112 + ((Ot = 3 * (_t - Nt)) + 4 >> 3)], Ot = pl[112 + (Ot + 3 >> 3)], bt = Ht + 1 >> 1; et[rt - 2 * vt] = Fi[255 + et[rt - 2 * vt] + bt], et[rt - vt] = Fi[255 + Nt + Ot], et[rt + 0] = Fi[255 + _t - Ht], et[rt + vt] = Fi[255 + St - bt] } S += P } } function sl(b, S, R, P, H, $) { so(b, S, R, 1, 16, P, H, $) } function al(b, S, R, P, H, $) { so(b, S, 1, R, 16, P, H, $) } function nf(b, S, R, P, H, $) { var W; for (W = 3; 0 < W; --W)Ss(b, S += 4 * R, R, 1, 16, P, H, $) } function Ql(b, S, R, P, H, $) { var W; for (W = 3; 0 < W; --W)Ss(b, S += 4, 1, R, 16, P, H, $) } function rf(b, S, R, P, H, $, W, X) { so(b, S, H, 1, 8, $, W, X), so(R, P, H, 1, 8, $, W, X) } function fu(b, S, R, P, H, $, W, X) { so(b, S, 1, H, 8, $, W, X), so(R, P, 1, H, 8, $, W, X) } function Zl(b, S, R, P, H, $, W, X) { Ss(b, S + 4 * H, H, 1, 8, $, W, X), Ss(R, P + 4 * H, H, 1, 8, $, W, X) } function Nh(b, S, R, P, H, $, W, X) { Ss(b, S + 4, 1, H, 8, $, W, X), Ss(R, P + 4, 1, H, 8, $, W, X) } function Jl() { this.ba = new mr, this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new Fn, this.memory = 0, this.Ib = "OutputFunc", this.Jb = "OutputAlphaFunc", this.Nd = "OutputRowFunc" } function pu() { this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0 } function gu() { this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0 } function tc() { this.ua = 0, this.Wa = new lt, this.vb = new lt, this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new nt, this.yc = new G } function sf() { this.xb = this.a = 0, this.l = new Za, this.ca = new mr, this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new I, this.Pb = 0, this.wd = new I, this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new tc, this.ab = 0, this.gc = o(4, gu), this.Oc = 0 } function ec() { this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new Za, this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0 } function ol(b, S, R, P, H, $, W) { for (b = b == null ? 0 : b[S + 0], S = 0; S < W; ++S)H[$ + S] = b + R[P + S] & 255, b = H[$ + S] } function nc(b, S, R, P, H, $, W) { var X; if (b == null) ol(null, null, R, P, H, $, W); else for (X = 0; X < W; ++X)H[$ + X] = b[S + X] + R[P + X] & 255 } function ao(b, S, R, P, H, $, W) { if (b == null) ol(null, null, R, P, H, $, W); else { var X, et = b[S + 0], rt = et, vt = et; for (X = 0; X < W; ++X)rt = vt + (et = b[S + X]) - rt, vt = R[P + X] + (-256 & rt ? 0 > rt ? 0 : 255 : rt) & 255, rt = et, H[$ + X] = vt } } function mu(b, S, R, P) { var H = S.width, $ = S.o; if (t(b != null && S != null), 0 > R || 0 >= P || R + P > $) return null; if (!b.Cc) { if (b.ga == null) { var W; if (b.ga = new ec, (W = b.ga == null) || (W = S.width * S.o, t(b.Gb.length == 0), b.Gb = s(W), b.Uc = 0, b.Gb == null ? W = 0 : (b.mb = b.Gb, b.nb = b.Uc, b.rc = null, W = 1), W = !W), !W) { W = b.ga; var X = b.Fa, et = b.P, rt = b.qc, vt = b.mb, Nt = b.nb, _t = et + 1, St = rt - 1, Ht = W.l; if (t(X != null && vt != null && S != null), Qs[0] = null, Qs[1] = ol, Qs[2] = nc, Qs[3] = ao, W.ca = vt, W.tb = Nt, W.c = S.width, W.i = S.height, t(0 < W.c && 0 < W.i), 1 >= rt) S = 0; else if (W.$a = X[et + 0] >> 0 & 3, W.Z = X[et + 0] >> 2 & 3, W.Lc = X[et + 0] >> 4 & 3, et = X[et + 0] >> 6 & 3, 0 > W.$a || 1 < W.$a || 4 <= W.Z || 1 < W.Lc || et) S = 0; else if (Ht.put = ir, Ht.ac = un, Ht.bc = En, Ht.ma = W, Ht.width = S.width, Ht.height = S.height, Ht.Da = S.Da, Ht.v = S.v, Ht.va = S.va, Ht.j = S.j, Ht.o = S.o, W.$a) t: { t(W.$a == 1), S = Gi(); e: for (; ;) { if (S == null) { S = 0; break t } if (t(W != null), W.mc = S, S.c = W.c, S.i = W.i, S.l = W.l, S.l.ma = W, S.l.width = W.c, S.l.height = W.i, S.a = 0, Q(S.m, X, _t, St), !Nn(W.c, W.i, 1, S, null) || (S.ab == 1 && S.gc[0].hc == 3 && Vr(S.s) ? (W.ic = 1, X = S.c * S.i, S.Ta = null, S.Ua = 0, S.V = s(X), S.Ba = 0, S.V == null ? (S.a = 1, S = 0) : S = 1) : (W.ic = 0, S = Qa(S, W.c)), !S)) break e; S = 1; break t } W.mc = null, S = 0 } else S = St >= W.c * W.i; W = !S } if (W) return null; b.ga.Lc != 1 ? b.Ga = 0 : P = $ - R } t(b.ga != null), t(R + P <= $); t: { if (S = (X = b.ga).c, $ = X.l.o, X.$a == 0) { if (_t = b.rc, St = b.Vc, Ht = b.Fa, et = b.P + 1 + R * S, rt = b.mb, vt = b.nb + R * S, t(et <= b.P + b.qc), X.Z != 0) for (t(Qs[X.Z] != null), W = 0; W < P; ++W)Qs[X.Z](_t, St, Ht, et, rt, vt, S), _t = rt, St = vt, vt += S, et += S; else for (W = 0; W < P; ++W)n(rt, vt, Ht, et, S), _t = rt, St = vt, vt += S, et += S; b.rc = _t, b.Vc = St } else { if (t(X.mc != null), S = R + P, t((W = X.mc) != null), t(S <= W.i), W.C >= S) S = 1; else if (X.ic || Et(), X.ic) { X = W.V, _t = W.Ba, St = W.c; var Ot = W.i, bt = (Ht = 1, et = W.$ / St, rt = W.$ % St, vt = W.m, Nt = W.s, W.$), wt = St * Ot, It = St * S, qt = Nt.wc, Bt = bt < It ? _n(Nt, rt, et) : null; t(bt <= wt), t(S <= Ot), t(Vr(Nt)); e: for (; ;) { for (; !vt.h && bt < It;) { if (rt & qt || (Bt = _n(Nt, rt, et)), t(Bt != null), at(vt), 256 > (Ot = vn(Bt.G[0], Bt.H[0], vt))) X[_t + bt] = Ot, ++bt, ++rt >= St && (rt = 0, ++et <= S && !(et % 16) && rr(W, et)); else { if (!(280 > Ot)) { Ht = 0; break e } Ot = mn(Ot - 256, vt); var re, te = vn(Bt.G[4], Bt.H[4], vt); if (at(vt), !(bt >= (te = tn(St, te = mn(te, vt))) && wt - bt >= Ot)) { Ht = 0; break e } for (re = 0; re < Ot; ++re)X[_t + bt + re] = X[_t + bt + re - te]; for (bt += Ot, rt += Ot; rt >= St;)rt -= St, ++et <= S && !(et % 16) && rr(W, et); bt < It && rt & qt && (Bt = _n(Nt, rt, et)) } t(vt.h == Z(vt)) } rr(W, et > S ? S : et); break e } !Ht || vt.h && bt < wt ? (Ht = 0, W.a = vt.h ? 5 : 3) : W.$ = bt, S = Ht } else S = sr(W, W.V, W.Ba, W.c, W.i, S, el); if (!S) { P = 0; break t } } R + P >= $ && (b.Cc = 1), P = 1 } if (!P) return null; if (b.Cc && ((P = b.ga) != null && (P.mc = null), b.ga = null, 0 < b.Ga)) return alert("todo:WebPDequantizeLevels"), null } return b.nb + R * H } function C(b, S, R, P, H, $) { for (; 0 < H--;) { var W, X = b, et = S + (R ? 1 : 0), rt = b, vt = S + (R ? 0 : 3); for (W = 0; W < P; ++W) { var Nt = rt[vt + 4 * W]; Nt != 255 && (Nt *= 32897, X[et + 4 * W + 0] = X[et + 4 * W + 0] * Nt >> 23, X[et + 4 * W + 1] = X[et + 4 * W + 1] * Nt >> 23, X[et + 4 * W + 2] = X[et + 4 * W + 2] * Nt >> 23) } S += $ } } function q(b, S, R, P, H) { for (; 0 < P--;) { var $; for ($ = 0; $ < R; ++$) { var W = b[S + 2 * $ + 0], X = 15 & (rt = b[S + 2 * $ + 1]), et = 4369 * X, rt = (240 & rt | rt >> 4) * et >> 16; b[S + 2 * $ + 0] = (240 & W | W >> 4) * et >> 16 & 240 | (15 & W | W << 4) * et >> 16 >> 4 & 15, b[S + 2 * $ + 1] = 240 & rt | X } S += H } } function ut(b, S, R, P, H, $, W, X) { var et, rt, vt = 255; for (rt = 0; rt < H; ++rt) { for (et = 0; et < P; ++et) { var Nt = b[S + et]; $[W + 4 * et] = Nt, vt &= Nt } S += R, W += X } return vt != 255 } function mt(b, S, R, P, H) { var $; for ($ = 0; $ < H; ++$)R[P + $] = b[S + $] >> 8 } function Et() { Xr = C, Ye = q, Xe = ut, On = mt } function jt(b, S, R) { j[b] = function (P, H, $, W, X, et, rt, vt, Nt, _t, St, Ht, Ot, bt, wt, It, qt) { var Bt, re = qt - 1 >> 1, te = X[et + 0] | rt[vt + 0] << 16, me = Nt[_t + 0] | St[Ht + 0] << 16; t(P != null); var ee = 3 * te + me + 131074 >> 2; for (S(P[H + 0], 255 & ee, ee >> 16, Ot, bt), $ != null && (ee = 3 * me + te + 131074 >> 2, S($[W + 0], 255 & ee, ee >> 16, wt, It)), Bt = 1; Bt <= re; ++Bt) { var fn = X[et + Bt] | rt[vt + Bt] << 16, wn = Nt[_t + Bt] | St[Ht + Bt] << 16, $e = te + fn + me + wn + 524296, Ve = $e + 2 * (fn + me) >> 3; ee = Ve + te >> 1, te = ($e = $e + 2 * (te + wn) >> 3) + fn >> 1, S(P[H + 2 * Bt - 1], 255 & ee, ee >> 16, Ot, bt + (2 * Bt - 1) * R), S(P[H + 2 * Bt - 0], 255 & te, te >> 16, Ot, bt + (2 * Bt - 0) * R), $ != null && (ee = $e + me >> 1, te = Ve + wn >> 1, S($[W + 2 * Bt - 1], 255 & ee, ee >> 16, wt, It + (2 * Bt - 1) * R), S($[W + 2 * Bt + 0], 255 & te, te >> 16, wt, It + (2 * Bt + 0) * R)), te = fn, me = wn } 1 & qt || (ee = 3 * te + me + 131074 >> 2, S(P[H + qt - 1], 255 & ee, ee >> 16, Ot, bt + (qt - 1) * R), $ != null && (ee = 3 * me + te + 131074 >> 2, S($[W + qt - 1], 255 & ee, ee >> 16, wt, It + (qt - 1) * R))) } } function Wt() { Bi[or] = Na, Bi[lc] = Zs, Bi[Xs] = xo, Bi[wu] = Ph, Bi[gl] = Oh, Bi[Sa] = hc, Bi[Lh] = kh, Bi[xu] = Zs, Bi[yo] = Ph, Bi[Aa] = Oh, Bi[cc] = hc } function ie(b) { return b & -16384 ? 0 > b ? 0 : 255 : b >> Y0 } function ge(b, S) { return ie((19077 * b >> 8) + (26149 * S >> 8) - 14234) } function Be(b, S, R) { return ie((19077 * b >> 8) - (6419 * S >> 8) - (13320 * R >> 8) + 8708) } function De(b, S) { return ie((19077 * b >> 8) + (33050 * S >> 8) - 17685) } function en(b, S, R, P, H) { P[H + 0] = ge(b, R), P[H + 1] = Be(b, S, R), P[H + 2] = De(b, S) } function $n(b, S, R, P, H) { P[H + 0] = De(b, S), P[H + 1] = Be(b, S, R), P[H + 2] = ge(b, R) } function Kn(b, S, R, P, H) { var $ = Be(b, S, R); S = $ << 3 & 224 | De(b, S) >> 3, P[H + 0] = 248 & ge(b, R) | $ >> 5, P[H + 1] = S } function ci(b, S, R, P, H) { var $ = 240 & De(b, S) | 15; P[H + 0] = 240 & ge(b, R) | Be(b, S, R) >> 4, P[H + 1] = $ } function ui(b, S, R, P, H) { P[H + 0] = 255, en(b, S, R, P, H + 1) } function ji(b, S, R, P, H) { $n(b, S, R, P, H), P[H + 3] = 255 } function As(b, S, R, P, H) { en(b, S, R, P, H), P[H + 3] = 255 } function Yr(b, S) { return 0 > b ? 0 : b > S ? S : b } function Es(b, S, R) { j[b] = function (P, H, $, W, X, et, rt, vt, Nt) { for (var _t = vt + (-2 & Nt) * R; vt != _t;)S(P[H + 0], $[W + 0], X[et + 0], rt, vt), S(P[H + 1], $[W + 0], X[et + 0], rt, vt + R), H += 2, ++W, ++et, vt += 2 * R; 1 & Nt && S(P[H + 0], $[W + 0], X[et + 0], rt, vt) } } function vu(b, S, R) { return R == 0 ? b == 0 ? S == 0 ? 6 : 5 : S == 0 ? 4 : 0 : R } function va(b, S, R, P, H) { switch (b >>> 30) { case 3: Cs(S, R, P, H, 0); break; case 2: ti(S, R, P, H); break; case 1: mi(S, R, P, H) } } function ba(b, S) { var R, P, H = S.M, $ = S.Nb, W = b.oc, X = b.pc + 40, et = b.oc, rt = b.pc + 584, vt = b.oc, Nt = b.pc + 600; for (R = 0; 16 > R; ++R)W[X + 32 * R - 1] = 129; for (R = 0; 8 > R; ++R)et[rt + 32 * R - 1] = 129, vt[Nt + 32 * R - 1] = 129; for (0 < H ? W[X - 1 - 32] = et[rt - 1 - 32] = vt[Nt - 1 - 32] = 129 : (r(W, X - 32 - 1, 127, 21), r(et, rt - 32 - 1, 127, 9), r(vt, Nt - 32 - 1, 127, 9)), P = 0; P < b.za; ++P) { var _t = S.ya[S.aa + P]; if (0 < P) { for (R = -1; 16 > R; ++R)n(W, X + 32 * R - 4, W, X + 32 * R + 12, 4); for (R = -1; 8 > R; ++R)n(et, rt + 32 * R - 4, et, rt + 32 * R + 4, 4), n(vt, Nt + 32 * R - 4, vt, Nt + 32 * R + 4, 4) } var St = b.Gd, Ht = b.Hd + P, Ot = _t.ad, bt = _t.Hc; if (0 < H && (n(W, X - 32, St[Ht].y, 0, 16), n(et, rt - 32, St[Ht].f, 0, 8), n(vt, Nt - 32, St[Ht].ea, 0, 8)), _t.Za) { var wt = W, It = X - 32 + 16; for (0 < H && (P >= b.za - 1 ? r(wt, It, St[Ht].y[15], 4) : n(wt, It, St[Ht + 1].y, 0, 4)), R = 0; 4 > R; R++)wt[It + 128 + R] = wt[It + 256 + R] = wt[It + 384 + R] = wt[It + 0 + R]; for (R = 0; 16 > R; ++R, bt <<= 2)wt = W, It = X + yl[R], yr[_t.Ob[R]](wt, It), va(bt, Ot, 16 * +R, wt, It) } else if (wt = vu(P, H, _t.Ob[0]), Ca[wt](W, X), bt != 0) for (R = 0; 16 > R; ++R, bt <<= 2)va(bt, Ot, 16 * +R, W, X + yl[R]); for (R = _t.Gc, wt = vu(P, H, _t.Dd), Qr[wt](et, rt), Qr[wt](vt, Nt), bt = Ot, wt = et, It = rt, 255 & (_t = R >> 0) && (170 & _t ? Ns(bt, 256, wt, It) : Mr(bt, 256, wt, It)), _t = vt, bt = Nt, 255 & (R >>= 8) && (170 & R ? Ns(Ot, 320, _t, bt) : Mr(Ot, 320, _t, bt)), H < b.Ub - 1 && (n(St[Ht].y, 0, W, X + 480, 16), n(St[Ht].f, 0, et, rt + 224, 8), n(St[Ht].ea, 0, vt, Nt + 224, 8)), R = 8 * $ * b.B, St = b.sa, Ht = b.ta + 16 * P + 16 * $ * b.R, Ot = b.qa, _t = b.ra + 8 * P + R, bt = b.Ha, wt = b.Ia + 8 * P + R, R = 0; 16 > R; ++R)n(St, Ht + R * b.R, W, X + 32 * R, 16); for (R = 0; 8 > R; ++R)n(Ot, _t + R * b.B, et, rt + 32 * R, 8), n(bt, wt + R * b.B, vt, Nt + 32 * R, 8) } } function ic(b, S, R, P, H, $, W, X, et) { var rt = [0], vt = [0], Nt = 0, _t = et != null ? et.kd : 0, St = et ?? new pu; if (b == null || 12 > R) return 7; St.data = b, St.w = S, St.ha = R, S = [S], R = [R], St.gb = [St.gb]; t: { var Ht = S, Ot = R, bt = St.gb; if (t(b != null), t(Ot != null), t(bt != null), bt[0] = 0, 12 <= Ot[0] && !e(b, Ht[0], "RIFF")) { if (e(b, Ht[0] + 8, "WEBP")) { bt = 3; break t } var wt = $t(b, Ht[0] + 4); if (12 > wt || 4294967286 < wt) { bt = 3; break t } if (_t && wt > Ot[0] - 8) { bt = 7; break t } bt[0] = wt, Ht[0] += 12, Ot[0] -= 12 } bt = 0 } if (bt != 0) return bt; for (wt = 0 < St.gb[0], R = R[0]; ;) { t: { var It = b; Ot = S, bt = R; var qt = rt, Bt = vt, re = Ht = [0]; if ((ee = Nt = [Nt])[0] = 0, 8 > bt[0]) bt = 7; else { if (!e(It, Ot[0], "VP8X")) { if ($t(It, Ot[0] + 4) != 10) { bt = 3; break t } if (18 > bt[0]) { bt = 7; break t } var te = $t(It, Ot[0] + 8), me = 1 + zt(It, Ot[0] + 12); if (2147483648 <= me * (It = 1 + zt(It, Ot[0] + 15))) { bt = 3; break t } re != null && (re[0] = te), qt != null && (qt[0] = me), Bt != null && (Bt[0] = It), Ot[0] += 18, bt[0] -= 18, ee[0] = 1 } bt = 0 } } if (Nt = Nt[0], Ht = Ht[0], bt != 0) return bt; if (Ot = !!(2 & Ht), !wt && Nt) return 3; if ($ != null && ($[0] = !!(16 & Ht)), W != null && (W[0] = Ot), X != null && (X[0] = 0), W = rt[0], Ht = vt[0], Nt && Ot && et == null) { bt = 0; break } if (4 > R) { bt = 7; break } if (wt && Nt || !wt && !Nt && !e(b, S[0], "ALPH")) { R = [R], St.na = [St.na], St.P = [St.P], St.Sa = [St.Sa]; t: { te = b, bt = S, wt = R; var ee = St.gb; qt = St.na, Bt = St.P, re = St.Sa, me = 22, t(te != null), t(wt != null), It = bt[0]; var fn = wt[0]; for (t(qt != null), t(re != null), qt[0] = null, Bt[0] = null, re[0] = 0; ;) { if (bt[0] = It, wt[0] = fn, 8 > fn) { bt = 7; break t } var wn = $t(te, It + 4); if (4294967286 < wn) { bt = 3; break t } var $e = 8 + wn + 1 & -2; if (me += $e, 0 < ee && me > ee) { bt = 3; break t } if (!e(te, It, "VP8 ") || !e(te, It, "VP8L")) { bt = 0; break t } if (fn[0] < $e) { bt = 7; break t } e(te, It, "ALPH") || (qt[0] = te, Bt[0] = It + 8, re[0] = wn), It += $e, fn -= $e } } if (R = R[0], St.na = St.na[0], St.P = St.P[0], St.Sa = St.Sa[0], bt != 0) break } R = [R], St.Ja = [St.Ja], St.xa = [St.xa]; t: if (ee = b, bt = S, wt = R, qt = St.gb[0], Bt = St.Ja, re = St.xa, te = bt[0], It = !e(ee, te, "VP8 "), me = !e(ee, te, "VP8L"), t(ee != null), t(wt != null), t(Bt != null), t(re != null), 8 > wt[0]) bt = 7; else { if (It || me) { if (ee = $t(ee, te + 4), 12 <= qt && ee > qt - 12) { bt = 3; break t } if (_t && ee > wt[0] - 8) { bt = 7; break t } Bt[0] = ee, bt[0] += 8, wt[0] -= 8, re[0] = me } else re[0] = 5 <= wt[0] && ee[te + 0] == 47 && !(ee[te + 4] >> 5), Bt[0] = wt[0]; bt = 0 } if (R = R[0], St.Ja = St.Ja[0], St.xa = St.xa[0], S = S[0], bt != 0) break; if (4294967286 < St.Ja) return 3; if (X == null || Ot || (X[0] = St.xa ? 2 : 1), W = [W], Ht = [Ht], St.xa) { if (5 > R) { bt = 7; break } X = W, _t = Ht, Ot = $, b == null || 5 > R ? b = 0 : 5 <= R && b[S + 0] == 47 && !(b[S + 4] >> 5) ? (wt = [0], ee = [0], qt = [0], Q(Bt = new I, b, S, R), oe(Bt, wt, ee, qt) ? (X != null && (X[0] = wt[0]), _t != null && (_t[0] = ee[0]), Ot != null && (Ot[0] = qt[0]), b = 1) : b = 0) : b = 0 } else { if (10 > R) { bt = 7; break } X = Ht, b == null || 10 > R || !vr(b, S + 3, R - 3) ? b = 0 : (_t = b[S + 0] | b[S + 1] << 8 | b[S + 2] << 16, Ot = 16383 & (b[S + 7] << 8 | b[S + 6]), b = 16383 & (b[S + 9] << 8 | b[S + 8]), 1 & _t || 3 < (_t >> 1 & 7) || !(_t >> 4 & 1) || _t >> 5 >= St.Ja || !Ot || !b ? b = 0 : (W && (W[0] = Ot), X && (X[0] = b), b = 1)) } if (!b || (W = W[0], Ht = Ht[0], Nt && (rt[0] != W || vt[0] != Ht))) return 3; et != null && (et[0] = St, et.offset = S - et.w, t(4294967286 > S - et.w), t(et.offset == et.ha - R)); break } return bt == 0 || bt == 7 && Nt && et == null ? ($ != null && ($[0] |= St.na != null && 0 < St.na.length), P != null && (P[0] = W), H != null && (H[0] = Ht), 0) : bt } function oo(b, S, R) { var P = S.width, H = S.height, $ = 0, W = 0, X = P, et = H; if (S.Da = b != null && 0 < b.Da, S.Da && (X = b.cd, et = b.bd, $ = b.v, W = b.j, 11 > R || ($ &= -2, W &= -2), 0 > $ || 0 > W || 0 >= X || 0 >= et || $ + X > P || W + et > H)) return 0; if (S.v = $, S.j = W, S.va = $ + X, S.o = W + et, S.U = X, S.T = et, S.da = b != null && 0 < b.da, S.da) { if (!se(X, et, R = [b.ib], $ = [b.hb])) return 0; S.ib = R[0], S.hb = $[0] } return S.ob = b != null && b.ob, S.Kb = b == null || !b.Sd, S.da && (S.ob = S.ib < 3 * P / 4 && S.hb < 3 * H / 4, S.Kb = 0), 1 } function rc(b) { if (b == null) return 2; if (11 > b.S) { var S = b.f.RGBA; S.fb += (b.height - 1) * S.A, S.A = -S.A } else S = b.f.kb, b = b.height, S.O += (b - 1) * S.fa, S.fa = -S.fa, S.N += (b - 1 >> 1) * S.Ab, S.Ab = -S.Ab, S.W += (b - 1 >> 1) * S.Db, S.Db = -S.Db, S.F != null && (S.J += (b - 1) * S.lb, S.lb = -S.lb); return 0 } function ll(b, S, R, P) { if (P == null || 0 >= b || 0 >= S) return 2; if (R != null) { if (R.Da) { var H = R.cd, $ = R.bd, W = -2 & R.v, X = -2 & R.j; if (0 > W || 0 > X || 0 >= H || 0 >= $ || W + H > b || X + $ > S) return 2; b = H, S = $ } if (R.da) { if (!se(b, S, H = [R.ib], $ = [R.hb])) return 2; b = H[0], S = $[0] } } P.width = b, P.height = S; t: { var et = P.width, rt = P.height; if (b = P.S, 0 >= et || 0 >= rt || !(b >= or && 13 > b)) b = 2; else { if (0 >= P.Rd && P.sd == null) { W = $ = H = S = 0; var vt = (X = et * cg[b]) * rt; if (11 > b || ($ = (rt + 1) / 2 * (S = (et + 1) / 2), b == 12 && (W = (H = et) * rt)), (rt = s(vt + 2 * $ + W)) == null) { b = 1; break t } P.sd = rt, 11 > b ? ((et = P.f.RGBA).eb = rt, et.fb = 0, et.A = X, et.size = vt) : ((et = P.f.kb).y = rt, et.O = 0, et.fa = X, et.Fd = vt, et.f = rt, et.N = 0 + vt, et.Ab = S, et.Cd = $, et.ea = rt, et.W = 0 + vt + $, et.Db = S, et.Ed = $, b == 12 && (et.F = rt, et.J = 0 + vt + 2 * $), et.Tc = W, et.lb = H) } if (S = 1, H = P.S, $ = P.width, W = P.height, H >= or && 13 > H) if (11 > H) b = P.f.RGBA, S &= (X = Math.abs(b.A)) * (W - 1) + $ <= b.size, S &= X >= $ * cg[H], S &= b.eb != null; else { b = P.f.kb, X = ($ + 1) / 2, vt = (W + 1) / 2, et = Math.abs(b.fa), rt = Math.abs(b.Ab); var Nt = Math.abs(b.Db), _t = Math.abs(b.lb), St = _t * (W - 1) + $; S &= et * (W - 1) + $ <= b.Fd, S &= rt * (vt - 1) + X <= b.Cd, S = (S &= Nt * (vt - 1) + X <= b.Ed) & et >= $ & rt >= X & Nt >= X, S &= b.y != null, S &= b.f != null, S &= b.ea != null, H == 12 && (S &= _t >= $, S &= St <= b.Tc, S &= b.F != null) } else S = 0; b = S ? 0 : 2 } } return b != 0 || R != null && R.fd && (b = rc(P)), b } var xi = 64, lo = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215], cl = 24, ul = 32, sc = 8, Tr = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7]; Zt("Predictor0", "PredictorAdd0"), j.Predictor0 = function () { return 4278190080 }, j.Predictor1 = function (b) { return b }, j.Predictor2 = function (b, S, R) { return S[R + 0] }, j.Predictor3 = function (b, S, R) { return S[R + 1] }, j.Predictor4 = function (b, S, R) { return S[R - 1] }, j.Predictor5 = function (b, S, R) { return Xt(Xt(b, S[R + 1]), S[R + 0]) }, j.Predictor6 = function (b, S, R) { return Xt(b, S[R - 1]) }, j.Predictor7 = function (b, S, R) { return Xt(b, S[R + 0]) }, j.Predictor8 = function (b, S, R) { return Xt(S[R - 1], S[R + 0]) }, j.Predictor9 = function (b, S, R) { return Xt(S[R + 0], S[R + 1]) }, j.Predictor10 = function (b, S, R) { return Xt(Xt(b, S[R - 1]), Xt(S[R + 0], S[R + 1])) }, j.Predictor11 = function (b, S, R) { var P = S[R + 0]; return 0 >= ke(P >> 24 & 255, b >> 24 & 255, (S = S[R - 1]) >> 24 & 255) + ke(P >> 16 & 255, b >> 16 & 255, S >> 16 & 255) + ke(P >> 8 & 255, b >> 8 & 255, S >> 8 & 255) + ke(255 & P, 255 & b, 255 & S) ? P : b }, j.Predictor12 = function (b, S, R) { var P = S[R + 0]; return (ce((b >> 24 & 255) + (P >> 24 & 255) - ((S = S[R - 1]) >> 24 & 255)) << 24 | ce((b >> 16 & 255) + (P >> 16 & 255) - (S >> 16 & 255)) << 16 | ce((b >> 8 & 255) + (P >> 8 & 255) - (S >> 8 & 255)) << 8 | ce((255 & b) + (255 & P) - (255 & S))) >>> 0 }, j.Predictor13 = function (b, S, R) { var P = S[R - 1]; return (Ce((b = Xt(b, S[R + 0])) >> 24 & 255, P >> 24 & 255) << 24 | Ce(b >> 16 & 255, P >> 16 & 255) << 16 | Ce(b >> 8 & 255, P >> 8 & 255) << 8 | Ce(b >> 0 & 255, P >> 0 & 255)) >>> 0 }; var af = j.PredictorAdd0; j.PredictorAdd1 = Ae, Zt("Predictor2", "PredictorAdd2"), Zt("Predictor3", "PredictorAdd3"), Zt("Predictor4", "PredictorAdd4"), Zt("Predictor5", "PredictorAdd5"), Zt("Predictor6", "PredictorAdd6"), Zt("Predictor7", "PredictorAdd7"), Zt("Predictor8", "PredictorAdd8"), Zt("Predictor9", "PredictorAdd9"), Zt("Predictor10", "PredictorAdd10"), Zt("Predictor11", "PredictorAdd11"), Zt("Predictor12", "PredictorAdd12"), Zt("Predictor13", "PredictorAdd13"); var bu = j.PredictorAdd2; Ne("ColorIndexInverseTransform", "MapARGB", "32b", function (b) { return b >> 8 & 255 }, function (b) { return b }), Ne("VP8LColorIndexInverseTransformAlpha", "MapAlpha", "8b", function (b) { return b }, function (b) { return b >> 8 & 255 }); var Rh, rs = j.ColorIndexInverseTransform, Ii = j.MapARGB, co = j.VP8LColorIndexInverseTransformAlpha, yu = j.MapAlpha, ya = j.VP8LPredictorsAdd = []; ya.length = 16, (j.VP8LPredictors = []).length = 16, (j.VP8LPredictorsAdd_C = []).length = 16, (j.VP8LPredictors_C = []).length = 16; var uo, br, $i, ho, Lr, _s, Ws, Cs, ti, Ns, mi, Mr, hl, Ys, ac, fo, po, go, dl, oc, mo, wa, fl, ei, Xr, Ye, Xe, On, hi = s(511), ss = s(2041), vo = s(225), bo = s(767), xa = 0, Th = ss, pl = vo, Fi = bo, as = hi, or = 0, lc = 1, Xs = 2, wu = 3, gl = 4, Sa = 5, Lh = 6, xu = 7, yo = 8, Aa = 9, cc = 10, Mh = [2, 3, 7], os = [3, 3, 11], Kr = [280, 256, 256, 256, 40], ml = [0, 1, 1, 1, 0], Ea = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], _a = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112], vl = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004], rg = 8, Su = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157], Au = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284], Si = null, ni = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]], bn = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15], wo = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9], Ks = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]], of = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]], bl = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]], sg = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0], Ca = [], yr = [], Qr = [], ag = 1, uc = 2, Qs = [], Bi = []; jt("UpsampleRgbLinePair", en, 3), jt("UpsampleBgrLinePair", $n, 3), jt("UpsampleRgbaLinePair", As, 4), jt("UpsampleBgraLinePair", ji, 4), jt("UpsampleArgbLinePair", ui, 4), jt("UpsampleRgba4444LinePair", ci, 2), jt("UpsampleRgb565LinePair", Kn, 2); var Na = j.UpsampleRgbLinePair, xo = j.UpsampleBgrLinePair, Zs = j.UpsampleRgbaLinePair, Ph = j.UpsampleBgraLinePair, Oh = j.UpsampleArgbLinePair, hc = j.UpsampleRgba4444LinePair, kh = j.UpsampleRgb565LinePair, Js = 16, Ai = 1 << Js - 1, So = -227, Dh = 482, Y0 = 6, og = 0, X0 = s(256), Ei = s(256), lf = s(256), Eu = s(256), _u = s(Dh - So), cf = s(Dh - So); Es("YuvToRgbRow", en, 3), Es("YuvToBgrRow", $n, 3), Es("YuvToRgbaRow", As, 4), Es("YuvToBgraRow", ji, 4), Es("YuvToArgbRow", ui, 4), Es("YuvToRgba4444Row", ci, 2), Es("YuvToRgb565Row", Kn, 2); var yl = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396], Ra = [0, 2, 8], K0 = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1], lg = 1; this.WebPDecodeRGBA = function (b, S, R, P, H) { var $ = lc, W = new Jl, X = new mr; W.ba = X, X.S = $, X.width = [X.width], X.height = [X.height]; var et = X.width, rt = X.height, vt = new nr; if (vt == null || b == null) var Nt = 2; else t(vt != null), Nt = ic(b, S, R, vt.width, vt.height, vt.Pd, vt.Qd, vt.format, null); if (Nt != 0 ? et = 0 : (et != null && (et[0] = vt.width[0]), rt != null && (rt[0] = vt.height[0]), et = 1), et) { X.width = X.width[0], X.height = X.height[0], P != null && (P[0] = X.width), H != null && (H[0] = X.height); t: { if (P = new Za, (H = new pu).data = b, H.w = S, H.ha = R, H.kd = 1, S = [0], t(H != null), ((b = ic(H.data, H.w, H.ha, null, null, null, S, null, H)) == 0 || b == 7) && S[0] && (b = 4), (S = b) == 0) { if (t(W != null), P.data = H.data, P.w = H.w + H.offset, P.ha = H.ha - H.offset, P.put = ir, P.ac = un, P.bc = En, P.ma = W, H.xa) { if ((b = Gi()) == null) { W = 1; break t } if (function (_t, St) { var Ht = [0], Ot = [0], bt = [0]; e: for (; ;) { if (_t == null) return 0; if (St == null) return _t.a = 2, 0; if (_t.l = St, _t.a = 0, Q(_t.m, St.data, St.w, St.ha), !oe(_t.m, Ht, Ot, bt)) { _t.a = 3; break e } if (_t.xb = uc, St.width = Ht[0], St.height = Ot[0], !Nn(Ht[0], Ot[0], 1, _t, null)) break e; return 1 } return t(_t.a != 0), 0 }(b, P)) { if (P = (S = ll(P.width, P.height, W.Oa, W.ba)) == 0) { e: { P = b; n: for (; ;) { if (P == null) { P = 0; break e } if (t(P.s.yc != null), t(P.s.Ya != null), t(0 < P.s.Wb), t((R = P.l) != null), t((H = R.ma) != null), P.xb != 0) { if (P.ca = H.ba, P.tb = H.tb, t(P.ca != null), !oo(H.Oa, R, wu)) { P.a = 2; break n } if (!Qa(P, R.width) || R.da) break n; if ((R.da || an(P.ca.S)) && Et(), 11 > P.ca.S || (alert("todo:WebPInitConvertARGBToYUV"), P.ca.f.kb.F != null && Et()), P.Pb && 0 < P.s.ua && P.s.vb.X == null && !Kt(P.s.vb, P.s.Wa.Xa)) { P.a = 1; break n } P.xb = 0 } if (!sr(P, P.V, P.Ba, P.c, P.i, R.o, tl)) break n; H.Dc = P.Ma, P = 1; break e } t(P.a != 0), P = 0 } P = !P } P && (S = b.a) } else S = b.a } else { if ((b = new tf) == null) { W = 1; break t } if (b.Fa = H.na, b.P = H.P, b.qc = H.Sa, su(b, P)) { if ((S = ll(P.width, P.height, W.Oa, W.ba)) == 0) { if (b.Aa = 0, R = W.Oa, t((H = b) != null), R != null) { if (0 < (et = 0 > (et = R.Md) ? 0 : 100 < et ? 255 : 255 * et / 100)) { for (rt = vt = 0; 4 > rt; ++rt)12 > (Nt = H.pb[rt]).lc && (Nt.ia = et * K0[0 > Nt.lc ? 0 : Nt.lc] >> 3), vt |= Nt.ia; vt && (alert("todo:VP8InitRandom"), H.ia = 1) } H.Ga = R.Id, 100 < H.Ga ? H.Ga = 100 : 0 > H.Ga && (H.Ga = 0) } wh(b, P) || (S = b.a) } } else S = b.a } S == 0 && W.Oa != null && W.Oa.fd && (S = rc(W.ba)) } W = S } $ = W != 0 ? null : 11 > $ ? X.f.RGBA.eb : X.f.kb.y } else $ = null; return $ }; var cg = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1] }; function d(j, J) { for (var ot = "", z = 0; z < 4; z++)ot += String.fromCharCode(j[J++]); return ot } function f(j, J) { return (j[J + 0] << 0 | j[J + 1] << 8 | j[J + 2] << 16) >>> 0 } function p(j, J) { return (j[J + 0] << 0 | j[J + 1] << 8 | j[J + 2] << 16 | j[J + 3] << 24) >>> 0 } new u; var m = [0], v = [0], x = [], y = new u, E = i, A = function (j, J) { var ot = {}, z = 0, G = !1, it = 0, nt = 0; if (ot.frames = [], !function (V, Z, st, at) { for (var ct = 0; ct < at; ct++)if (V[Z + ct] != st.charCodeAt(ct)) return !0; return !1 }(j, J, "RIFF", 4)) { for (p(j, J += 4), J += 8; J < j.length;) { var ht = d(j, J), U = p(j, J += 4); J += 4; var tt = U + (1 & U); switch (ht) { case "VP8 ": case "VP8L": ot.frames[z] === void 0 && (ot.frames[z] = {}), (Y = ot.frames[z]).src_off = G ? nt : J - 8, Y.src_size = it + U + 8, z++, G && (G = !1, it = 0, nt = 0); break; case "VP8X": (Y = ot.header = {}).feature_flags = j[J]; var Q = J + 4; Y.canvas_width = 1 + f(j, Q), Q += 3, Y.canvas_height = 1 + f(j, Q), Q += 3; break; case "ALPH": G = !0, it = tt + 8, nt = J - 8; break; case "ANIM": (Y = ot.header).bgcolor = p(j, J), Q = J + 4, Y.loop_count = (ft = j)[(I = Q) + 0] << 0 | ft[I + 1] << 8, Q += 2; break; case "ANMF": var pt, Y; (Y = ot.frames[z] = {}).offset_x = 2 * f(j, J), J += 3, Y.offset_y = 2 * f(j, J), J += 3, Y.width = 1 + f(j, J), J += 3, Y.height = 1 + f(j, J), J += 3, Y.duration = f(j, J), J += 3, pt = j[J++], Y.dispose = 1 & pt, Y.blend = pt >> 1 & 1 }ht != "ANMF" && (J += tt) } var ft, I; return ot } }(E, 0); A.response = E, A.rgbaoutput = !0, A.dataurl = !1; var T = A.header ? A.header : null, L = A.frames ? A.frames : null; if (T) { T.loop_counter = T.loop_count, m = [T.canvas_height], v = [T.canvas_width]; for (var k = 0; k < L.length && L[k].blend != 0; k++); } var O = L[0], F = y.WebPDecodeRGBA(E, O.src_off, O.src_size, v, m); O.rgba = F, O.imgwidth = v[0], O.imgheight = m[0]; for (var D = 0; D < v[0] * m[0] * 4; D++)x[D] = F[D]; return this.width = v, this.height = m, this.data = x, this } (function (i) { var t = function () { return typeof Xb == "function" }, e = function (m, v, x, y) { var E = 4, A = o; switch (y) { case i.image_compression.FAST: E = 1, A = s; break; case i.image_compression.MEDIUM: E = 6, A = c; break; case i.image_compression.SLOW: E = 9, A = u }m = n(m, v, x, A); var T = Xb(m, { level: E }); return i.__addimage__.arrayBufferToBinaryString(T) }, n = function (m, v, x, y) { for (var E, A, T, L = m.length / v, k = new Uint8Array(m.length + L), O = f(), F = 0; F < L; F += 1) { if (T = F * v, E = m.subarray(T, T + v), y) k.set(y(E, x, A), T + F); else { for (var D, j = O.length, J = []; D < j; D += 1)J[D] = O[D](E, x, A); var ot = p(J.concat()); k.set(J[ot], T + F) } A = E } return k }, r = function (m) { var v = Array.apply([], m); return v.unshift(0), v }, s = function (m, v) { var x, y = [], E = m.length; y[0] = 1; for (var A = 0; A < E; A += 1)x = m[A - v] || 0, y[A + 1] = m[A] - x + 256 & 255; return y }, o = function (m, v, x) { var y, E = [], A = m.length; E[0] = 2; for (var T = 0; T < A; T += 1)y = x && x[T] || 0, E[T + 1] = m[T] - y + 256 & 255; return E }, c = function (m, v, x) { var y, E, A = [], T = m.length; A[0] = 3; for (var L = 0; L < T; L += 1)y = m[L - v] || 0, E = x && x[L] || 0, A[L + 1] = m[L] + 256 - (y + E >>> 1) & 255; return A }, u = function (m, v, x) { var y, E, A, T, L = [], k = m.length; L[0] = 4; for (var O = 0; O < k; O += 1)y = m[O - v] || 0, E = x && x[O] || 0, A = x && x[O - v] || 0, T = d(y, E, A), L[O + 1] = m[O] - T + 256 & 255; return L }, d = function (m, v, x) { if (m === v && v === x) return m; var y = Math.abs(v - x), E = Math.abs(m - x), A = Math.abs(m + v - x - x); return y <= E && y <= A ? m : E <= A ? v : x }, f = function () { return [r, s, o, c, u] }, p = function (m) { var v = m.map(function (x) { return x.reduce(function (y, E) { return y + Math.abs(E) }, 0) }); return v.indexOf(Math.min.apply(null, v)) }; i.processPNG = function (m, v, x, y) { var E, A, T, L, k, O, F, D, j, J, ot, z, G, it, nt, ht = this.decode.FLATE_DECODE, U = ""; if (this.__addimage__.isArrayBuffer(m) && (m = new Uint8Array(m)), this.__addimage__.isArrayBufferView(m)) { if (m = (T = new u9(m)).imgData, A = T.bits, E = T.colorSpace, k = T.colors, [4, 6].indexOf(T.colorType) !== -1) { if (T.bits === 8) { j = (D = T.pixelBitlength == 32 ? new Uint32Array(T.decodePixels().buffer) : T.pixelBitlength == 16 ? new Uint16Array(T.decodePixels().buffer) : new Uint8Array(T.decodePixels().buffer)).length, ot = new Uint8Array(j * T.colors), J = new Uint8Array(j); var tt, Q = T.pixelBitlength - T.bits; for (it = 0, nt = 0; it < j; it++) { for (G = D[it], tt = 0; tt < Q;)ot[nt++] = G >>> tt & 255, tt += T.bits; J[it] = G >>> tt & 255 } } if (T.bits === 16) { j = (D = new Uint32Array(T.decodePixels().buffer)).length, ot = new Uint8Array(j * (32 / T.pixelBitlength) * T.colors), J = new Uint8Array(j * (32 / T.pixelBitlength)), z = T.colors > 1, it = 0, nt = 0; for (var pt = 0; it < j;)G = D[it++], ot[nt++] = G >>> 0 & 255, z && (ot[nt++] = G >>> 16 & 255, G = D[it++], ot[nt++] = G >>> 0 & 255), J[pt++] = G >>> 16 & 255; A = 8 } y !== i.image_compression.NONE && t() ? (m = e(ot, T.width * T.colors, T.colors, y), F = e(J, T.width, 1, y)) : (m = ot, F = J, ht = void 0) } if (T.colorType === 3 && (E = this.color_spaces.INDEXED, O = T.palette, T.transparency.indexed)) { var Y = T.transparency.indexed, ft = 0; for (it = 0, j = Y.length; it < j; ++it)ft += Y[it]; if ((ft /= 255) === j - 1 && Y.indexOf(0) !== -1) L = [Y.indexOf(0)]; else if (ft !== j) { for (D = T.decodePixels(), J = new Uint8Array(D.length), it = 0, j = D.length; it < j; it++)J[it] = Y[D[it]]; F = e(J, T.width, 1) } } var I = function (V) { var Z; switch (V) { case i.image_compression.FAST: Z = 11; break; case i.image_compression.MEDIUM: Z = 13; break; case i.image_compression.SLOW: Z = 14; break; default: Z = 12 }return Z }(y); return ht === this.decode.FLATE_DECODE && (U = "/Predictor " + I + " "), U += "/Colors " + k + " /BitsPerComponent " + A + " /Columns " + T.width, (this.__addimage__.isArrayBuffer(m) || this.__addimage__.isArrayBufferView(m)) && (m = this.__addimage__.arrayBufferToBinaryString(m)), (F && this.__addimage__.isArrayBuffer(F) || this.__addimage__.isArrayBufferView(F)) && (F = this.__addimage__.arrayBufferToBinaryString(F)), { alias: x, data: m, index: v, filter: ht, decodeParameters: U, transparency: L, palette: O, sMask: F, predictor: I, width: T.width, height: T.height, bitsPerComponent: A, colorSpace: E } } } })(_e.API), function (i) { i.processGIF89A = function (t, e, n, r) { var s = new h9(t), o = s.width, c = s.height, u = []; s.decodeAndBlitFrameRGBA(0, u); var d = { data: u, width: o, height: c }, f = new $1(100).encode(d, 100); return i.processJPEG.call(this, f, e, n, r) }, i.processGIF87A = i.processGIF89A }(_e.API), Ia.prototype.parseHeader = function () { if (this.fileSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, !0), this.pos += 4, this.offset = this.datav.getUint32(this.pos, !0), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.width = this.datav.getUint32(this.pos, !0), this.pos += 4, this.height = this.datav.getInt32(this.pos, !0), this.pos += 4, this.planes = this.datav.getUint16(this.pos, !0), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, !0), this.pos += 2, this.compress = this.datav.getUint32(this.pos, !0), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.hr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.vr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.colors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.bitPP === 16 && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) { var i = this.colors === 0 ? 1 << this.bitPP : this.colors; this.palette = new Array(i); for (var t = 0; t < i; t++) { var e = this.datav.getUint8(this.pos++, !0), n = this.datav.getUint8(this.pos++, !0), r = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0); this.palette[t] = { red: r, green: n, blue: e, quad: s } } } this.height < 0 && (this.height *= -1, this.bottom_up = !1) }, Ia.prototype.parseBGR = function () { this.pos = this.offset; try { var i = "bit" + this.bitPP, t = this.width * this.height * 4; this.data = new Uint8Array(t), this[i]() } catch (e) { Un.log("bit decode error:" + e) } }, Ia.prototype.bit1 = function () { var i, t = Math.ceil(this.width / 8), e = t % 4; for (i = this.height - 1; i >= 0; i--) { for (var n = this.bottom_up ? i : this.height - 1 - i, r = 0; r < t; r++)for (var s = this.datav.getUint8(this.pos++, !0), o = n * this.width * 4 + 8 * r * 4, c = 0; c < 8 && 8 * r + c < this.width; c++) { var u = this.palette[s >> 7 - c & 1]; this.data[o + 4 * c] = u.blue, this.data[o + 4 * c + 1] = u.green, this.data[o + 4 * c + 2] = u.red, this.data[o + 4 * c + 3] = 255 } e !== 0 && (this.pos += 4 - e) } }, Ia.prototype.bit4 = function () { for (var i = Math.ceil(this.width / 2), t = i % 4, e = this.height - 1; e >= 0; e--) { for (var n = this.bottom_up ? e : this.height - 1 - e, r = 0; r < i; r++) { var s = this.datav.getUint8(this.pos++, !0), o = n * this.width * 4 + 2 * r * 4, c = s >> 4, u = 15 & s, d = this.palette[c]; if (this.data[o] = d.blue, this.data[o + 1] = d.green, this.data[o + 2] = d.red, this.data[o + 3] = 255, 2 * r + 1 >= this.width) break; d = this.palette[u], this.data[o + 4] = d.blue, this.data[o + 4 + 1] = d.green, this.data[o + 4 + 2] = d.red, this.data[o + 4 + 3] = 255 } t !== 0 && (this.pos += 4 - t) } }, Ia.prototype.bit8 = function () { for (var i = this.width % 4, t = this.height - 1; t >= 0; t--) { for (var e = this.bottom_up ? t : this.height - 1 - t, n = 0; n < this.width; n++) { var r = this.datav.getUint8(this.pos++, !0), s = e * this.width * 4 + 4 * n; if (r < this.palette.length) { var o = this.palette[r]; this.data[s] = o.red, this.data[s + 1] = o.green, this.data[s + 2] = o.blue, this.data[s + 3] = 255 } else this.data[s] = 255, this.data[s + 1] = 255, this.data[s + 2] = 255, this.data[s + 3] = 255 } i !== 0 && (this.pos += 4 - i) } }, Ia.prototype.bit15 = function () { for (var i = this.width % 3, t = parseInt("11111", 2), e = this.height - 1; e >= 0; e--) { for (var n = this.bottom_up ? e : this.height - 1 - e, r = 0; r < this.width; r++) { var s = this.datav.getUint16(this.pos, !0); this.pos += 2; var o = (s & t) / t * 255 | 0, c = (s >> 5 & t) / t * 255 | 0, u = (s >> 10 & t) / t * 255 | 0, d = s >> 15 ? 255 : 0, f = n * this.width * 4 + 4 * r; this.data[f] = u, this.data[f + 1] = c, this.data[f + 2] = o, this.data[f + 3] = d } this.pos += i } }, Ia.prototype.bit16 = function () { for (var i = this.width % 3, t = parseInt("11111", 2), e = parseInt("111111", 2), n = this.height - 1; n >= 0; n--) { for (var r = this.bottom_up ? n : this.height - 1 - n, s = 0; s < this.width; s++) { var o = this.datav.getUint16(this.pos, !0); this.pos += 2; var c = (o & t) / t * 255 | 0, u = (o >> 5 & e) / e * 255 | 0, d = (o >> 11) / t * 255 | 0, f = r * this.width * 4 + 4 * s; this.data[f] = d, this.data[f + 1] = u, this.data[f + 2] = c, this.data[f + 3] = 255 } this.pos += i } }, Ia.prototype.bit24 = function () { for (var i = this.height - 1; i >= 0; i--) { for (var t = this.bottom_up ? i : this.height - 1 - i, e = 0; e < this.width; e++) { var n = this.datav.getUint8(this.pos++, !0), r = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), o = t * this.width * 4 + 4 * e; this.data[o] = s, this.data[o + 1] = r, this.data[o + 2] = n, this.data[o + 3] = 255 } this.pos += this.width % 4 } }, Ia.prototype.bit32 = function () { for (var i = this.height - 1; i >= 0; i--)for (var t = this.bottom_up ? i : this.height - 1 - i, e = 0; e < this.width; e++) { var n = this.datav.getUint8(this.pos++, !0), r = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), o = this.datav.getUint8(this.pos++, !0), c = t * this.width * 4 + 4 * e; this.data[c] = s, this.data[c + 1] = r, this.data[c + 2] = n, this.data[c + 3] = o } }, Ia.prototype.getData = function () { return this.data }, function (i) { i.processBMP = function (t, e, n, r) { var s = new Ia(t, !1), o = s.width, c = s.height, u = { data: s.getData(), width: o, height: c }, d = new $1(100).encode(u, 100); return i.processJPEG.call(this, d, e, n, r) } }(_e.API), rA.prototype.getData = function () { return this.data }, function (i) { i.processWEBP = function (t, e, n, r) { var s = new rA(t), o = s.width, c = s.height, u = { data: s.getData(), width: o, height: c }, d = new $1(100).encode(u, 100); return i.processJPEG.call(this, d, e, n, r) } }(_e.API), _e.API.processRGBA = function (i, t, e) { for (var n = i.data, r = n.length, s = new Uint8Array(r / 4 * 3), o = new Uint8Array(r / 4), c = 0, u = 0, d = 0; d < r; d += 4) { var f = n[d], p = n[d + 1], m = n[d + 2], v = n[d + 3]; s[c++] = f, s[c++] = p, s[c++] = m, o[u++] = v } var x = this.__addimage__.arrayBufferToBinaryString(s); return { alpha: this.__addimage__.arrayBufferToBinaryString(o), data: x, index: t, alias: e, colorSpace: "DeviceRGB", bitsPerComponent: 8, width: i.width, height: i.height } }, _e.API.setLanguage = function (i) { return this.internal.languageSettings === void 0 && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = !1), { af: "Afrikaans", sq: "Albanian", ar: "Arabic (Standard)", "ar-DZ": "Arabic (Algeria)", "ar-BH": "Arabic (Bahrain)", "ar-EG": "Arabic (Egypt)", "ar-IQ": "Arabic (Iraq)", "ar-JO": "Arabic (Jordan)", "ar-KW": "Arabic (Kuwait)", "ar-LB": "Arabic (Lebanon)", "ar-LY": "Arabic (Libya)", "ar-MA": "Arabic (Morocco)", "ar-OM": "Arabic (Oman)", "ar-QA": "Arabic (Qatar)", "ar-SA": "Arabic (Saudi Arabia)", "ar-SY": "Arabic (Syria)", "ar-TN": "Arabic (Tunisia)", "ar-AE": "Arabic (U.A.E.)", "ar-YE": "Arabic (Yemen)", an: "Aragonese", hy: "Armenian", as: "Assamese", ast: "Asturian", az: "Azerbaijani", eu: "Basque", be: "Belarusian", bn: "Bengali", bs: "Bosnian", br: "Breton", bg: "Bulgarian", my: "Burmese", ca: "Catalan", ch: "Chamorro", ce: "Chechen", zh: "Chinese", "zh-HK": "Chinese (Hong Kong)", "zh-CN": "Chinese (PRC)", "zh-SG": "Chinese (Singapore)", "zh-TW": "Chinese (Taiwan)", cv: "Chuvash", co: "Corsican", cr: "Cree", hr: "Croatian", cs: "Czech", da: "Danish", nl: "Dutch (Standard)", "nl-BE": "Dutch (Belgian)", en: "English", "en-AU": "English (Australia)", "en-BZ": "English (Belize)", "en-CA": "English (Canada)", "en-IE": "English (Ireland)", "en-JM": "English (Jamaica)", "en-NZ": "English (New Zealand)", "en-PH": "English (Philippines)", "en-ZA": "English (South Africa)", "en-TT": "English (Trinidad & Tobago)", "en-GB": "English (United Kingdom)", "en-US": "English (United States)", "en-ZW": "English (Zimbabwe)", eo: "Esperanto", et: "Estonian", fo: "Faeroese", fj: "Fijian", fi: "Finnish", fr: "French (Standard)", "fr-BE": "French (Belgium)", "fr-CA": "French (Canada)", "fr-FR": "French (France)", "fr-LU": "French (Luxembourg)", "fr-MC": "French (Monaco)", "fr-CH": "French (Switzerland)", fy: "Frisian", fur: "Friulian", gd: "Gaelic (Scots)", "gd-IE": "Gaelic (Irish)", gl: "Galacian", ka: "Georgian", de: "German (Standard)", "de-AT": "German (Austria)", "de-DE": "German (Germany)", "de-LI": "German (Liechtenstein)", "de-LU": "German (Luxembourg)", "de-CH": "German (Switzerland)", el: "Greek", gu: "Gujurati", ht: "Haitian", he: "Hebrew", hi: "Hindi", hu: "Hungarian", is: "Icelandic", id: "Indonesian", iu: "Inuktitut", ga: "Irish", it: "Italian (Standard)", "it-CH": "Italian (Switzerland)", ja: "Japanese", kn: "Kannada", ks: "Kashmiri", kk: "Kazakh", km: "Khmer", ky: "Kirghiz", tlh: "Klingon", ko: "Korean", "ko-KP": "Korean (North Korea)", "ko-KR": "Korean (South Korea)", la: "Latin", lv: "Latvian", lt: "Lithuanian", lb: "Luxembourgish", mk: "North Macedonia", ms: "Malay", ml: "Malayalam", mt: "Maltese", mi: "Maori", mr: "Marathi", mo: "Moldavian", nv: "Navajo", ng: "Ndonga", ne: "Nepali", no: "Norwegian", nb: "Norwegian (Bokmal)", nn: "Norwegian (Nynorsk)", oc: "Occitan", or: "Oriya", om: "Oromo", fa: "Persian", "fa-IR": "Persian/Iran", pl: "Polish", pt: "Portuguese", "pt-BR": "Portuguese (Brazil)", pa: "Punjabi", "pa-IN": "Punjabi (India)", "pa-PK": "Punjabi (Pakistan)", qu: "Quechua", rm: "Rhaeto-Romanic", ro: "Romanian", "ro-MO": "Romanian (Moldavia)", ru: "Russian", "ru-MO": "Russian (Moldavia)", sz: "Sami (Lappish)", sg: "Sango", sa: "Sanskrit", sc: "Sardinian", sd: "Sindhi", si: "Singhalese", sr: "Serbian", sk: "Slovak", sl: "Slovenian", so: "Somani", sb: "Sorbian", es: "Spanish", "es-AR": "Spanish (Argentina)", "es-BO": "Spanish (Bolivia)", "es-CL": "Spanish (Chile)", "es-CO": "Spanish (Colombia)", "es-CR": "Spanish (Costa Rica)", "es-DO": "Spanish (Dominican Republic)", "es-EC": "Spanish (Ecuador)", "es-SV": "Spanish (El Salvador)", "es-GT": "Spanish (Guatemala)", "es-HN": "Spanish (Honduras)", "es-MX": "Spanish (Mexico)", "es-NI": "Spanish (Nicaragua)", "es-PA": "Spanish (Panama)", "es-PY": "Spanish (Paraguay)", "es-PE": "Spanish (Peru)", "es-PR": "Spanish (Puerto Rico)", "es-ES": "Spanish (Spain)", "es-UY": "Spanish (Uruguay)", "es-VE": "Spanish (Venezuela)", sx: "Sutu", sw: "Swahili", sv: "Swedish", "sv-FI": "Swedish (Finland)", "sv-SV": "Swedish (Sweden)", ta: "Tamil", tt: "Tatar", te: "Teluga", th: "Thai", tig: "Tigre", ts: "Tsonga", tn: "Tswana", tr: "Turkish", tk: "Turkmen", uk: "Ukrainian", hsb: "Upper Sorbian", ur: "Urdu", ve: "Venda", vi: "Vietnamese", vo: "Volapuk", wa: "Walloon", cy: "Welsh", xh: "Xhosa", ji: "Yiddish", zu: "Zulu" }[i] !== void 0 && (this.internal.languageSettings.languageCode = i, this.internal.languageSettings.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () { this.internal.write("/Lang (" + this.internal.languageSettings.languageCode + ")") }), this.internal.languageSettings.isSubscribed = !0)), this }, cd = _e.API, _m = cd.getCharWidthsArray = function (i, t) { var e, n, r = (t = t || {}).font || this.internal.getFont(), s = t.fontSize || this.internal.getFontSize(), o = t.charSpace || this.internal.getCharSpace(), c = t.widths ? t.widths : r.metadata.Unicode.widths, u = c.fof ? c.fof : 1, d = t.kerning ? t.kerning : r.metadata.Unicode.kerning, f = d.fof ? d.fof : 1, p = t.doKerning !== !1, m = 0, v = i.length, x = 0, y = c[0] || u, E = []; for (e = 0; e < v; e++)n = i.charCodeAt(e), typeof r.metadata.widthOfString == "function" ? E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n)) + o * (1e3 / s) || 0) / 1e3) : (m = p && Mn(d[n]) === "object" && !isNaN(parseInt(d[n][x], 10)) ? d[n][x] / f : 0, E.push((c[n] || y) / u + m)), x = n; return E }, tA = cd.getStringUnitWidth = function (i, t) { var e = (t = t || {}).fontSize || this.internal.getFontSize(), n = t.font || this.internal.getFont(), r = t.charSpace || this.internal.getCharSpace(); return cd.processArabic && (i = cd.processArabic(i)), typeof n.metadata.widthOfString == "function" ? n.metadata.widthOfString(i, e, r) / e : _m.apply(this, arguments).reduce(function (s, o) { return s + o }, 0) }, eA = function (i, t, e, n) { for (var r = [], s = 0, o = i.length, c = 0; s !== o && c + t[s] < e;)c += t[s], s++; r.push(i.slice(0, s)); var u = s; for (c = 0; s !== o;)c + t[s] > n && (r.push(i.slice(u, s)), c = 0, u = s), c += t[s], s++; return u !== s && r.push(i.slice(u, s)), r }, nA = function (i, t, e) {
  e || (e = {}); var n, r, s, o, c, u, d, f = [], p = [f], m = e.textIndent || 0, v = 0, x = 0, y = i.split(" "), E = _m.apply(this, [" ", e])[0]; if (u = e.lineIndent === -1 ? y[0].length + 2 : e.lineIndent || 0) {
    var A = Array(u).join(" "), T = []; y.map(function (k) {
      (k = k.split(/\s*\n/)).length > 1 ? T = T.concat(k.map(function (O, F) {
        return (F && O.length ? `
`: "") + O
      })) : T.push(k[0])
    }), y = T, u = tA.apply(this, [A, e])
  } for (s = 0, o = y.length; s < o; s++) {
    var L = 0; if (n = y[s], u && n[0] == `
`&& (n = n.substr(1), L = 1), m + v + (x = (r = _m.apply(this, [n, e])).reduce(function (k, O) { return k + O }, 0)) > t || L) { if (x > t) { for (c = eA.apply(this, [n, r, t - (m + v), t]), f.push(c.shift()), f = [c.pop()]; c.length;)p.push([c.shift()]); x = r.slice(n.length - (f[0] ? f[0].length : 0)).reduce(function (k, O) { return k + O }, 0) } else f = [n]; p.push(f), m = x + u, v = E } else f.push(n), m += v + x, v = E
  } return d = u ? function (k, O) { return (O ? A : "") + k.join(" ") } : function (k) { return k.join(" ") }, p.map(d)
}, cd.splitTextToSize = function (i, t, e) { var n, r = (e = e || {}).fontSize || this.internal.getFontSize(), s = (function (f) { if (f.widths && f.kerning) return { widths: f.widths, kerning: f.kerning }; var p = this.internal.getFont(f.fontName, f.fontStyle); return p.metadata.Unicode ? { widths: p.metadata.Unicode.widths || { 0: 1 }, kerning: p.metadata.Unicode.kerning || {} } : { font: p.metadata, fontSize: this.internal.getFontSize(), charSpace: this.internal.getCharSpace() } }).call(this, e); n = Array.isArray(i) ? i : String(i).split(/\r?\n/); var o = 1 * this.internal.scaleFactor * t / r; s.textIndent = e.textIndent ? 1 * e.textIndent * this.internal.scaleFactor / r : 0, s.lineIndent = e.lineIndent; var c, u, d = []; for (c = 0, u = n.length; c < u; c++)d = d.concat(nA.apply(this, [n[c], o, s])); return d }, function (i) { i.__fontmetrics__ = i.__fontmetrics__ || {}; for (var t = "klmnopqrstuvwxyz", e = {}, n = {}, r = 0; r < t.length; r++)e[t[r]] = "0123456789abcdef"[r], n["0123456789abcdef"[r]] = t[r]; var s = function (p) { return "0x" + parseInt(p, 10).toString(16) }, o = i.__fontmetrics__.compress = function (p) { var m, v, x, y, E = ["{"]; for (var A in p) { if (m = p[A], isNaN(parseInt(A, 10)) ? v = "'" + A + "'" : (A = parseInt(A, 10), v = (v = s(A).slice(2)).slice(0, -1) + n[v.slice(-1)]), typeof m == "number") m < 0 ? (x = s(m).slice(3), y = "-") : (x = s(m).slice(2), y = ""), x = y + x.slice(0, -1) + n[x.slice(-1)]; else { if (Mn(m) !== "object") throw new Error("Don't know what to do with value type " + Mn(m) + "."); x = o(m) } E.push(v + x) } return E.push("}"), E.join("") }, c = i.__fontmetrics__.uncompress = function (p) { if (typeof p != "string") throw new Error("Invalid argument passed to uncompress."); for (var m, v, x, y, E = {}, A = 1, T = E, L = [], k = "", O = "", F = p.length - 1, D = 1; D < F; D += 1)(y = p[D]) == "'" ? m ? (x = m.join(""), m = void 0) : m = [] : m ? m.push(y) : y == "{" ? (L.push([T, x]), T = {}, x = void 0) : y == "}" ? ((v = L.pop())[0][v[1]] = T, x = void 0, T = v[0]) : y == "-" ? A = -1 : x === void 0 ? e.hasOwnProperty(y) ? (k += e[y], x = parseInt(k, 16) * A, A = 1, k = "") : k += y : e.hasOwnProperty(y) ? (O += e[y], T[x] = parseInt(O, 16) * A, A = 1, x = void 0, O = "") : O += y; return E }, u = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, d = { Unicode: { Courier: u, "Courier-Bold": u, "Courier-BoldOblique": u, "Courier-Oblique": u, Helvetica: u, "Helvetica-Bold": u, "Helvetica-BoldOblique": u, "Helvetica-Oblique": u, "Times-Roman": u, "Times-Bold": u, "Times-BoldItalic": u, "Times-Italic": u } }, f = { Unicode: { "Courier-Oblique": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Symbol: c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"), Helvetica: c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), ZapfDingbats: c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-Bold": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } }; i.events.push(["addFont", function (p) { var m = p.font, v = f.Unicode[m.postScriptName]; v && (m.metadata.Unicode = {}, m.metadata.Unicode.widths = v.widths, m.metadata.Unicode.kerning = v.kerning); var x = d.Unicode[m.postScriptName]; x && (m.metadata.Unicode.encoding = x, m.encoding = x.codePages[0]) }]) }(_e.API), function (i) { var t = function (e) { for (var n = e.length, r = new Uint8Array(n), s = 0; s < n; s++)r[s] = e.charCodeAt(s); return r }; i.API.events.push(["addFont", function (e) { var n = void 0, r = e.font, s = e.instance; if (!r.isStandardFont) { if (s === void 0) throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('" + r.postScriptName + "')."); if (typeof (n = s.existsFileInVFS(r.postScriptName) === !1 ? s.loadFile(r.postScriptName) : s.getFileFromVFS(r.postScriptName)) != "string") throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('" + r.postScriptName + "')."); (function (o, c) { c = /^\x00\x01\x00\x00/.test(c) ? t(c) : t(dp(c)), o.metadata = i.API.TTFFont.open(c), o.metadata.Unicode = o.metadata.Unicode || { encoding: {}, kerning: {}, widths: [] }, o.metadata.glyIdsUsed = [0] })(r, n) } }]) }(_e), function (i) { function t() { return (Me.canvg ? Promise.resolve(Me.canvg) : Vb(() => import("./index.es-D74bBKXj.js"), [])).catch(function (e) { return Promise.reject(new Error("Could not load canvg: " + e)) }).then(function (e) { return e.default ? e.default : e }) } _e.API.addSvgAsImage = function (e, n, r, s, o, c, u, d) { if (isNaN(n) || isNaN(r)) throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates", arguments), new Error("Invalid coordinates passed to jsPDF.addSvgAsImage"); if (isNaN(s) || isNaN(o)) throw Un.error("jsPDF.addSvgAsImage: Invalid measurements", arguments), new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage"); var f = document.createElement("canvas"); f.width = s, f.height = o; var p = f.getContext("2d"); p.fillStyle = "#fff", p.fillRect(0, 0, f.width, f.height); var m = { ignoreMouse: !0, ignoreAnimation: !0, ignoreDimensions: !0 }, v = this; return t().then(function (x) { return x.fromString(p, e, m) }, function () { return Promise.reject(new Error("Could not load canvg.")) }).then(function (x) { return x.render(m) }).then(function () { v.addImage(f.toDataURL("image/jpeg", 1), n, r, s, o, u, d) }) } }(), _e.API.putTotalPages = function (i) { var t, e = 0; parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (t = new RegExp(i, "g"), e = this.internal.getNumberOfPages()) : (t = new RegExp(this.pdfEscape16(i, this.internal.getFont()), "g"), e = this.pdfEscape16(this.internal.getNumberOfPages() + "", this.internal.getFont())); for (var n = 1; n <= this.internal.getNumberOfPages(); n++)for (var r = 0; r < this.internal.pages[n].length; r++)this.internal.pages[n][r] = this.internal.pages[n][r].replace(t, e); return this }, _e.API.viewerPreferences = function (i, t) {
  var e; i = i || {}, t = t || !1; var n, r, s, o = { HideToolbar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideMenubar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideWindowUI: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, FitWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, CenterWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, DisplayDocTitle: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.4 }, NonFullScreenPageMode: { defaultValue: "UseNone", value: "UseNone", type: "name", explicitSet: !1, valueSet: ["UseNone", "UseOutlines", "UseThumbs", "UseOC"], pdfVersion: 1.3 }, Direction: { defaultValue: "L2R", value: "L2R", type: "name", explicitSet: !1, valueSet: ["L2R", "R2L"], pdfVersion: 1.3 }, ViewArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, ViewClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintScaling: { defaultValue: "AppDefault", value: "AppDefault", type: "name", explicitSet: !1, valueSet: ["AppDefault", "None"], pdfVersion: 1.6 }, Duplex: { defaultValue: "", value: "none", type: "name", explicitSet: !1, valueSet: ["Simplex", "DuplexFlipShortEdge", "DuplexFlipLongEdge", "none"], pdfVersion: 1.7 }, PickTrayByPDFSize: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.7 }, PrintPageRange: { defaultValue: "", value: "", type: "array", explicitSet: !1, valueSet: null, pdfVersion: 1.7 }, NumCopies: { defaultValue: 1, value: 1, type: "integer", explicitSet: !1, valueSet: null, pdfVersion: 1.7 } }, c = Object.keys(o), u = [], d = 0, f = 0, p = 0; function m(x, y) { var E, A = !1; for (E = 0; E < x.length; E += 1)x[E] === y && (A = !0); return A } if (this.internal.viewerpreferences === void 0 && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(o)), this.internal.viewerpreferences.isSubscribed = !1), e = this.internal.viewerpreferences.configuration, i === "reset" || t === !0) { var v = c.length; for (p = 0; p < v; p += 1)e[c[p]].value = e[c[p]].defaultValue, e[c[p]].explicitSet = !1 } if (Mn(i) === "object") { for (r in i) if (s = i[r], m(c, r) && s !== void 0) { if (e[r].type === "boolean" && typeof s == "boolean") e[r].value = s; else if (e[r].type === "name" && m(e[r].valueSet, s)) e[r].value = s; else if (e[r].type === "integer" && Number.isInteger(s)) e[r].value = s; else if (e[r].type === "array") { for (d = 0; d < s.length; d += 1)if (n = !0, s[d].length === 1 && typeof s[d][0] == "number") u.push(String(s[d] - 1)); else if (s[d].length > 1) { for (f = 0; f < s[d].length; f += 1)typeof s[d][f] != "number" && (n = !1); n === !0 && u.push([s[d][0] - 1, s[d][1] - 1].join(" ")) } e[r].value = "[" + u.join(" ") + "]" } else e[r].value = e[r].defaultValue; e[r].explicitSet = !0 } } return this.internal.viewerpreferences.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () {
    var x, y = []; for (x in e) e[x].explicitSet === !0 && (e[x].type === "name" ? y.push("/" + x + " /" + e[x].value) : y.push("/" + x + " " + e[x].value)); y.length !== 0 && this.internal.write(`/ViewerPreferences
<<
`+ y.join(`
`) + `
>>`)
  }), this.internal.viewerpreferences.isSubscribed = !0), this.internal.viewerpreferences.configuration = e, this
}, function (i) { var t = function () { var n = '<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + this.internal.__metadata__.namespaceuri + '"><jspdf:metadata>', r = unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')), s = unescape(encodeURIComponent(n)), o = unescape(encodeURIComponent(this.internal.__metadata__.metadata)), c = unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")), u = unescape(encodeURIComponent("</x:xmpmeta>")), d = s.length + o.length + c.length + r.length + u.length; this.internal.__metadata__.metadata_object_number = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + d + " >>"), this.internal.write("stream"), this.internal.write(r + s + o + c + u), this.internal.write("endstream"), this.internal.write("endobj") }, e = function () { this.internal.__metadata__.metadata_object_number && this.internal.write("/Metadata " + this.internal.__metadata__.metadata_object_number + " 0 R") }; i.addMetadata = function (n, r) { return this.internal.__metadata__ === void 0 && (this.internal.__metadata__ = { metadata: n, namespaceuri: r || "http://jspdf.default.namespaceuri/" }, this.internal.events.subscribe("putCatalog", e), this.internal.events.subscribe("postPutResources", t)), this } }(_e.API), function (i) {
  var t = i.API, e = t.pdfEscape16 = function (s, o) { for (var c, u = o.metadata.Unicode.widths, d = ["", "0", "00", "000", "0000"], f = [""], p = 0, m = s.length; p < m; ++p) { if (c = o.metadata.characterToGlyph(s.charCodeAt(p)), o.metadata.glyIdsUsed.push(c), o.metadata.toUnicode[c] = s.charCodeAt(p), u.indexOf(c) == -1 && (u.push(c), u.push([parseInt(o.metadata.widthOfGlyph(c), 10)])), c == "0") return f.join(""); c = c.toString(16), f.push(d[4 - c.length], c) } return f.join("") }, n = function (s) {
    var o, c, u, d, f, p, m; for (f = `/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`, u = [], p = 0, m = (c = Object.keys(s).sort(function (v, x) { return v - x })).length; p < m; p++)o = c[p], u.length >= 100 && (f += `
`+ u.length + ` beginbfchar
`+ u.join(`
`) + `
endbfchar`, u = []), s[o] !== void 0 && s[o] !== null && typeof s[o].toString == "function" && (d = ("0000" + s[o].toString(16)).slice(-4), o = ("0000" + (+o).toString(16)).slice(-4), u.push("<" + o + "><" + d + ">")); return u.length && (f += `
`+ u.length + ` beginbfchar
`+ u.join(`
`) + `
endbfchar
`), f += `endcmap
CMapName currentdict /CMap defineresource pop
end
end`}; t.events.push(["putFont", function (s) { (function (o) { var c = o.font, u = o.out, d = o.newObject, f = o.putStream; if (c.metadata instanceof i.API.TTFFont && c.encoding === "Identity-H") { for (var p = c.metadata.Unicode.widths, m = c.metadata.subset.encode(c.metadata.glyIdsUsed, 1), v = "", x = 0; x < m.length; x++)v += String.fromCharCode(m[x]); var y = d(); f({ data: v, addLength1: !0, objectId: y }), u("endobj"); var E = d(); f({ data: n(c.metadata.toUnicode), addLength1: !0, objectId: E }), u("endobj"); var A = d(); u("<<"), u("/Type /FontDescriptor"), u("/FontName /" + fd(c.fontName)), u("/FontFile2 " + y + " 0 R"), u("/FontBBox " + i.API.PDFObject.convert(c.metadata.bbox)), u("/Flags " + c.metadata.flags), u("/StemV " + c.metadata.stemV), u("/ItalicAngle " + c.metadata.italicAngle), u("/Ascent " + c.metadata.ascender), u("/Descent " + c.metadata.decender), u("/CapHeight " + c.metadata.capHeight), u(">>"), u("endobj"); var T = d(); u("<<"), u("/Type /Font"), u("/BaseFont /" + fd(c.fontName)), u("/FontDescriptor " + A + " 0 R"), u("/W " + i.API.PDFObject.convert(p)), u("/CIDToGIDMap /Identity"), u("/DW 1000"), u("/Subtype /CIDFontType2"), u("/CIDSystemInfo"), u("<<"), u("/Supplement 0"), u("/Registry (Adobe)"), u("/Ordering (" + c.encoding + ")"), u(">>"), u(">>"), u("endobj"), c.objectNumber = d(), u("<<"), u("/Type /Font"), u("/Subtype /Type0"), u("/ToUnicode " + E + " 0 R"), u("/BaseFont /" + fd(c.fontName)), u("/Encoding /" + c.encoding), u("/DescendantFonts [" + T + " 0 R]"), u(">>"), u("endobj"), c.isAlreadyPutted = !0 } })(s) }]), t.events.push(["putFont", function (s) { (function (o) { var c = o.font, u = o.out, d = o.newObject, f = o.putStream; if (c.metadata instanceof i.API.TTFFont && c.encoding === "WinAnsiEncoding") { for (var p = c.metadata.rawData, m = "", v = 0; v < p.length; v++)m += String.fromCharCode(p[v]); var x = d(); f({ data: m, addLength1: !0, objectId: x }), u("endobj"); var y = d(); f({ data: n(c.metadata.toUnicode), addLength1: !0, objectId: y }), u("endobj"); var E = d(); u("<<"), u("/Descent " + c.metadata.decender), u("/CapHeight " + c.metadata.capHeight), u("/StemV " + c.metadata.stemV), u("/Type /FontDescriptor"), u("/FontFile2 " + x + " 0 R"), u("/Flags 96"), u("/FontBBox " + i.API.PDFObject.convert(c.metadata.bbox)), u("/FontName /" + fd(c.fontName)), u("/ItalicAngle " + c.metadata.italicAngle), u("/Ascent " + c.metadata.ascender), u(">>"), u("endobj"), c.objectNumber = d(); for (var A = 0; A < c.metadata.hmtx.widths.length; A++)c.metadata.hmtx.widths[A] = parseInt(c.metadata.hmtx.widths[A] * (1e3 / c.metadata.head.unitsPerEm)); u("<</Subtype/TrueType/Type/Font/ToUnicode " + y + " 0 R/BaseFont/" + fd(c.fontName) + "/FontDescriptor " + E + " 0 R/Encoding/" + c.encoding + " /FirstChar 29 /LastChar 255 /Widths " + i.API.PDFObject.convert(c.metadata.hmtx.widths) + ">>"), u("endobj"), c.isAlreadyPutted = !0 } })(s) }]); var r = function (s) { var o, c = s.text || "", u = s.x, d = s.y, f = s.options || {}, p = s.mutex || {}, m = p.pdfEscape, v = p.activeFontKey, x = p.fonts, y = v, E = "", A = 0, T = "", L = x[y].encoding; if (x[y].encoding !== "Identity-H") return { text: c, x: u, y: d, options: f, mutex: p }; for (T = c, y = v, Array.isArray(c) && (T = c[0]), A = 0; A < T.length; A += 1)x[y].metadata.hasOwnProperty("cmap") && (o = x[y].metadata.cmap.unicode.codeMap[T[A].charCodeAt(0)]), o || T[A].charCodeAt(0) < 256 && x[y].metadata.hasOwnProperty("Unicode") ? E += T[A] : E += ""; var k = ""; return parseInt(y.slice(1)) < 14 || L === "WinAnsiEncoding" ? k = m(E, y).split("").map(function (O) { return O.charCodeAt(0).toString(16) }).join("") : L === "Identity-H" && (k = e(E, x[y])), p.isHex = !0, { text: k, x: u, y: d, options: f, mutex: p } }; t.events.push(["postProcessText", function (s) { var o = s.text || "", c = [], u = { text: o, x: s.x, y: s.y, options: s.options, mutex: s.mutex }; if (Array.isArray(o)) { var d = 0; for (d = 0; d < o.length; d += 1)Array.isArray(o[d]) && o[d].length === 3 ? c.push([r(Object.assign({}, u, { text: o[d][0] })).text, o[d][1], o[d][2]]) : c.push(r(Object.assign({}, u, { text: o[d] })).text); s.text = c } else s.text = r(Object.assign({}, u, { text: o })).text }])
}(_e), function (i) { var t = function () { return this.internal.vFS === void 0 && (this.internal.vFS = {}), !0 }; i.existsFileInVFS = function (e) { return t.call(this), this.internal.vFS[e] !== void 0 }, i.addFileToVFS = function (e, n) { return t.call(this), this.internal.vFS[e] = n, this }, i.getFileFromVFS = function (e) { return t.call(this), this.internal.vFS[e] !== void 0 ? this.internal.vFS[e] : null } }(_e.API), function (i) { i.__bidiEngine__ = i.prototype.__bidiEngine__ = function (n) { var r, s, o, c, u, d, f, p = t, m = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], v = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], x = { L: 0, R: 1, EN: 2, AN: 3, N: 4, B: 5, S: 6 }, y = { 0: 0, 5: 1, 6: 2, 7: 3, 32: 4, 251: 5, 254: 6, 255: 7 }, E = ["(", ")", "(", "<", ">", "<", "[", "]", "[", "{", "}", "{", "«", "»", "«", "‹", "›", "‹", "⁅", "⁆", "⁅", "⁽", "⁾", "⁽", "₍", "₎", "₍", "≤", "≥", "≤", "〈", "〉", "〈", "﹙", "﹚", "﹙", "﹛", "﹜", "﹛", "﹝", "﹞", "﹝", "﹤", "﹥", "﹤"], A = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/), T = !1, L = 0; this.__bidiEngine__ = {}; var k = function (z) { var G = z.charCodeAt(), it = G >> 8, nt = y[it]; return nt !== void 0 ? p[256 * nt + (255 & G)] : it === 252 || it === 253 ? "AL" : A.test(it) ? "L" : it === 8 ? "R" : "N" }, O = function (z) { for (var G, it = 0; it < z.length; it++) { if ((G = k(z.charAt(it))) === "L") return !1; if (G === "R") return !0 } return !1 }, F = function (z, G, it, nt) { var ht, U, tt, Q, pt = G[nt]; switch (pt) { case "L": case "R": T = !1; break; case "N": case "AN": break; case "EN": T && (pt = "AN"); break; case "AL": T = !0, pt = "R"; break; case "WS": pt = "N"; break; case "CS": nt < 1 || nt + 1 >= G.length || (ht = it[nt - 1]) !== "EN" && ht !== "AN" || (U = G[nt + 1]) !== "EN" && U !== "AN" ? pt = "N" : T && (U = "AN"), pt = U === ht ? U : "N"; break; case "ES": pt = (ht = nt > 0 ? it[nt - 1] : "B") === "EN" && nt + 1 < G.length && G[nt + 1] === "EN" ? "EN" : "N"; break; case "ET": if (nt > 0 && it[nt - 1] === "EN") { pt = "EN"; break } if (T) { pt = "N"; break } for (tt = nt + 1, Q = G.length; tt < Q && G[tt] === "ET";)tt++; pt = tt < Q && G[tt] === "EN" ? "EN" : "N"; break; case "NSM": if (o && !c) { for (Q = G.length, tt = nt + 1; tt < Q && G[tt] === "NSM";)tt++; if (tt < Q) { var Y = z[nt], ft = Y >= 1425 && Y <= 2303 || Y === 64286; if (ht = G[tt], ft && (ht === "R" || ht === "AL")) { pt = "R"; break } } } pt = nt < 1 || (ht = G[nt - 1]) === "B" ? "N" : it[nt - 1]; break; case "B": T = !1, r = !0, pt = L; break; case "S": s = !0, pt = "N"; break; case "LRE": case "RLE": case "LRO": case "RLO": case "PDF": T = !1; break; case "BN": pt = "N" }return pt }, D = function (z, G, it) { var nt = z.split(""); return it && j(nt, it, { hiLevel: L }), nt.reverse(), G && G.reverse(), nt.join("") }, j = function (z, G, it) { var nt, ht, U, tt, Q, pt = -1, Y = z.length, ft = 0, I = [], V = L ? v : m, Z = []; for (T = !1, r = !1, s = !1, ht = 0; ht < Y; ht++)Z[ht] = k(z[ht]); for (U = 0; U < Y; U++) { if (Q = ft, I[U] = F(z, Z, I, U), nt = 240 & (ft = V[Q][x[I[U]]]), ft &= 15, G[U] = tt = V[ft][5], nt > 0) if (nt === 16) { for (ht = pt; ht < U; ht++)G[ht] = 1; pt = -1 } else pt = -1; if (V[ft][6]) pt === -1 && (pt = U); else if (pt > -1) { for (ht = pt; ht < U; ht++)G[ht] = tt; pt = -1 } Z[U] === "B" && (G[U] = 0), it.hiLevel |= tt } s && function (st, at, ct) { for (var gt = 0; gt < ct; gt++)if (st[gt] === "S") { at[gt] = L; for (var xt = gt - 1; xt >= 0 && st[xt] === "WS"; xt--)at[xt] = L } }(Z, G, Y) }, J = function (z, G, it, nt, ht) { if (!(ht.hiLevel < z)) { if (z === 1 && L === 1 && !r) return G.reverse(), void (it && it.reverse()); for (var U, tt, Q, pt, Y = G.length, ft = 0; ft < Y;) { if (nt[ft] >= z) { for (Q = ft + 1; Q < Y && nt[Q] >= z;)Q++; for (pt = ft, tt = Q - 1; pt < tt; pt++, tt--)U = G[pt], G[pt] = G[tt], G[tt] = U, it && (U = it[pt], it[pt] = it[tt], it[tt] = U); ft = Q } ft++ } } }, ot = function (z, G, it) { var nt = z.split(""), ht = { hiLevel: L }; return it || (it = []), j(nt, it, ht), function (U, tt, Q) { if (Q.hiLevel !== 0 && f) for (var pt, Y = 0; Y < U.length; Y++)tt[Y] === 1 && (pt = E.indexOf(U[Y])) >= 0 && (U[Y] = E[pt + 1]) }(nt, it, ht), J(2, nt, G, it, ht), J(1, nt, G, it, ht), nt.join("") }; return this.__bidiEngine__.doBidiReorder = function (z, G, it) { if (function (ht, U) { if (U) for (var tt = 0; tt < ht.length; tt++)U[tt] = tt; c === void 0 && (c = O(ht)), d === void 0 && (d = O(ht)) }(z, G), o || !u || d) if (o && u && c ^ d) L = c ? 1 : 0, z = D(z, G, it); else if (!o && u && d) L = c ? 1 : 0, z = ot(z, G, it), z = D(z, G); else if (!o || c || u || d) { if (o && !u && c ^ d) z = D(z, G), c ? (L = 0, z = ot(z, G, it)) : (L = 1, z = ot(z, G, it), z = D(z, G)); else if (o && c && !u && d) L = 1, z = ot(z, G, it), z = D(z, G); else if (!o && !u && c ^ d) { var nt = f; c ? (L = 1, z = ot(z, G, it), L = 0, f = !1, z = ot(z, G, it), f = nt) : (L = 0, z = ot(z, G, it), z = D(z, G), L = 1, f = !1, z = ot(z, G, it), f = nt, z = D(z, G)) } } else L = 0, z = ot(z, G, it); else L = c ? 1 : 0, z = ot(z, G, it); return z }, this.__bidiEngine__.setOptions = function (z) { z && (o = z.isInputVisual, u = z.isOutputVisual, c = z.isInputRtl, d = z.isOutputRtl, f = z.isSymmetricSwapping) }, this.__bidiEngine__.setOptions(n), this.__bidiEngine__ }; var t = ["BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "S", "B", "S", "WS", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "B", "B", "B", "S", "WS", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "BN", "BN", "BN", "BN", "BN", "BN", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "CS", "N", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "L", "N", "N", "BN", "N", "N", "ET", "ET", "EN", "EN", "N", "L", "N", "N", "N", "EN", "L", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "N", "N", "N", "N", "N", "ET", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "NSM", "R", "NSM", "NSM", "R", "NSM", "NSM", "R", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AN", "AN", "AN", "AN", "AN", "AN", "N", "N", "AL", "ET", "ET", "AL", "CS", "AL", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "ET", "AN", "AN", "AL", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "NSM", "NSM", "N", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "R", "N", "N", "N", "N", "R", "N", "N", "N", "N", "N", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "BN", "BN", "BN", "L", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "B", "LRE", "RLE", "PDF", "LRO", "RLO", "CS", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "BN", "BN", "BN", "BN", "BN", "N", "LRI", "RLI", "FSI", "PDI", "BN", "BN", "BN", "BN", "BN", "BN", "EN", "L", "N", "N", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "L", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "R", "NSM", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "ES", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "R", "R", "R", "R", "R", "N", "R", "N", "R", "R", "N", "R", "R", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "CS", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "ET", "N", "N", "ES", "ES", "N", "N", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "BN", "N", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "N", "N", "N", "ET", "ET", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"], e = new i.__bidiEngine__({ isInputVisual: !0 }); i.API.events.push(["postProcessText", function (n) { var r = n.text; n.x, n.y; var s = n.options || {}; n.mutex, s.lang; var o = []; if (s.isInputVisual = typeof s.isInputVisual != "boolean" || s.isInputVisual, e.setOptions(s), Object.prototype.toString.call(r) === "[object Array]") { var c = 0; for (o = [], c = 0; c < r.length; c += 1)Object.prototype.toString.call(r[c]) === "[object Array]" ? o.push([e.doBidiReorder(r[c][0]), r[c][1], r[c][2]]) : o.push([e.doBidiReorder(r[c])]); n.text = o } else n.text = e.doBidiReorder(r); e.setOptions({ isInputVisual: !0 }) }]) }(_e), _e.API.TTFFont = function () { function i(t) { var e; if (this.rawData = t, e = this.contents = new Qc(t), this.contents.pos = 4, e.readString(4) === "ttcf") throw new Error("TTCF not supported."); e.pos = 0, this.parse(), this.subset = new C9(this), this.registerTTF() } return i.open = function (t) { return new i(t) }, i.prototype.parse = function () { return this.directory = new d9(this.contents), this.head = new p9(this), this.name = new y9(this), this.cmap = new TN(this), this.toUnicode = {}, this.hhea = new g9(this), this.maxp = new w9(this), this.hmtx = new x9(this), this.post = new v9(this), this.os2 = new m9(this), this.loca = new _9(this), this.glyf = new S9(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax] }, i.prototype.registerTTF = function () { var t, e, n, r, s; if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = (function () { var o, c, u, d; for (d = [], o = 0, c = (u = this.bbox).length; o < c; o++)t = u[o], d.push(Math.round(t * this.scaleFactor)); return d }).call(this), this.stemV = 0, this.post.exists ? (n = 255 & (r = this.post.italic_angle), (32768 & (e = r >> 16)) != 0 && (e = -(1 + (65535 ^ e))), this.italicAngle = +(e + "." + n)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = (s = this.familyClass) === 1 || s === 2 || s === 3 || s === 4 || s === 5 || s === 7, this.isScript = this.familyClass === 10, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), this.italicAngle !== 0 && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode) throw new Error("No unicode cmap for font") }, i.prototype.characterToGlyph = function (t) { var e; return ((e = this.cmap.unicode) != null ? e.codeMap[t] : void 0) || 0 }, i.prototype.widthOfGlyph = function (t) { var e; return e = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(t).advance * e }, i.prototype.widthOfString = function (t, e, n) { var r, s, o, c; for (o = 0, s = 0, c = (t = "" + t).length; 0 <= c ? s < c : s > c; s = 0 <= c ? ++s : --s)r = t.charCodeAt(s), o += this.widthOfGlyph(this.characterToGlyph(r)) + n * (1e3 / e) || 0; return o * (e / 1e3) }, i.prototype.lineHeight = function (t, e) { var n; return e == null && (e = !1), n = e ? this.lineGap : 0, (this.ascender + n - this.decender) / 1e3 * t }, i }(); var Ka, Qc = function () { function i(t) { this.data = t ?? [], this.pos = 0, this.length = this.data.length } return i.prototype.readByte = function () { return this.data[this.pos++] }, i.prototype.writeByte = function (t) { return this.data[this.pos++] = t }, i.prototype.readUInt32 = function () { return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte() }, i.prototype.writeUInt32 = function (t) { return this.writeByte(t >>> 24 & 255), this.writeByte(t >> 16 & 255), this.writeByte(t >> 8 & 255), this.writeByte(255 & t) }, i.prototype.readInt32 = function () { var t; return (t = this.readUInt32()) >= 2147483648 ? t - 4294967296 : t }, i.prototype.writeInt32 = function (t) { return t < 0 && (t += 4294967296), this.writeUInt32(t) }, i.prototype.readUInt16 = function () { return this.readByte() << 8 | this.readByte() }, i.prototype.writeUInt16 = function (t) { return this.writeByte(t >> 8 & 255), this.writeByte(255 & t) }, i.prototype.readInt16 = function () { var t; return (t = this.readUInt16()) >= 32768 ? t - 65536 : t }, i.prototype.writeInt16 = function (t) { return t < 0 && (t += 65536), this.writeUInt16(t) }, i.prototype.readString = function (t) { var e, n; for (n = [], e = 0; 0 <= t ? e < t : e > t; e = 0 <= t ? ++e : --e)n[e] = String.fromCharCode(this.readByte()); return n.join("") }, i.prototype.writeString = function (t) { var e, n, r; for (r = [], e = 0, n = t.length; 0 <= n ? e < n : e > n; e = 0 <= n ? ++e : --e)r.push(this.writeByte(t.charCodeAt(e))); return r }, i.prototype.readShort = function () { return this.readInt16() }, i.prototype.writeShort = function (t) { return this.writeInt16(t) }, i.prototype.readLongLong = function () { var t, e, n, r, s, o, c, u; return t = this.readByte(), e = this.readByte(), n = this.readByte(), r = this.readByte(), s = this.readByte(), o = this.readByte(), c = this.readByte(), u = this.readByte(), 128 & t ? -1 * (72057594037927940 * (255 ^ t) + 281474976710656 * (255 ^ e) + 1099511627776 * (255 ^ n) + 4294967296 * (255 ^ r) + 16777216 * (255 ^ s) + 65536 * (255 ^ o) + 256 * (255 ^ c) + (255 ^ u) + 1) : 72057594037927940 * t + 281474976710656 * e + 1099511627776 * n + 4294967296 * r + 16777216 * s + 65536 * o + 256 * c + u }, i.prototype.writeLongLong = function (t) { var e, n; return e = Math.floor(t / 4294967296), n = 4294967295 & t, this.writeByte(e >> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e), this.writeByte(n >> 24 & 255), this.writeByte(n >> 16 & 255), this.writeByte(n >> 8 & 255), this.writeByte(255 & n) }, i.prototype.readInt = function () { return this.readInt32() }, i.prototype.writeInt = function (t) { return this.writeInt32(t) }, i.prototype.read = function (t) { var e, n; for (e = [], n = 0; 0 <= t ? n < t : n > t; n = 0 <= t ? ++n : --n)e.push(this.readByte()); return e }, i.prototype.write = function (t) { var e, n, r, s; for (s = [], n = 0, r = t.length; n < r; n++)e = t[n], s.push(this.writeByte(e)); return s }, i }(), d9 = function () { var i; function t(e) { var n, r, s; for (this.scalarType = e.readInt(), this.tableCount = e.readShort(), this.searchRange = e.readShort(), this.entrySelector = e.readShort(), this.rangeShift = e.readShort(), this.tables = {}, r = 0, s = this.tableCount; 0 <= s ? r < s : r > s; r = 0 <= s ? ++r : --r)n = { tag: e.readString(4), checksum: e.readInt(), offset: e.readInt(), length: e.readInt() }, this.tables[n.tag] = n } return t.prototype.encode = function (e) { var n, r, s, o, c, u, d, f, p, m, v, x, y; for (y in v = Object.keys(e).length, u = Math.log(2), p = 16 * Math.floor(Math.log(v) / u), o = Math.floor(p / u), f = 16 * v - p, (r = new Qc).writeInt(this.scalarType), r.writeShort(v), r.writeShort(p), r.writeShort(o), r.writeShort(f), s = 16 * v, d = r.pos + s, c = null, x = [], e) for (m = e[y], r.writeString(y), r.writeInt(i(m)), r.writeInt(d), r.writeInt(m.length), x = x.concat(m), y === "head" && (c = d), d += m.length; d % 4;)x.push(0), d++; return r.write(x), n = 2981146554 - i(r.data), r.pos = c + 8, r.writeUInt32(n), r.data }, i = function (e) { var n, r, s, o; for (e = LN.call(e); e.length % 4;)e.push(0); for (s = new Qc(e), r = 0, n = 0, o = e.length; n < o; n = n += 4)r += s.readUInt32(); return 4294967295 & r }, t }(), f9 = {}.hasOwnProperty, Jo = function (i, t) { for (var e in t) f9.call(t, e) && (i[e] = t[e]); function n() { this.constructor = i } return n.prototype = t.prototype, i.prototype = new n, i.__super__ = t.prototype, i }; Ka = function () { function i(t) { var e; this.file = t, e = this.file.directory.tables[this.tag], this.exists = !!e, e && (this.offset = e.offset, this.length = e.length, this.parse(this.file.contents)) } return i.prototype.parse = function () { }, i.prototype.encode = function () { }, i.prototype.raw = function () { return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null }, i }(); var p9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "head", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.revision = e.readInt(), this.checkSumAdjustment = e.readInt(), this.magicNumber = e.readInt(), this.flags = e.readShort(), this.unitsPerEm = e.readShort(), this.created = e.readLongLong(), this.modified = e.readLongLong(), this.xMin = e.readShort(), this.yMin = e.readShort(), this.xMax = e.readShort(), this.yMax = e.readShort(), this.macStyle = e.readShort(), this.lowestRecPPEM = e.readShort(), this.fontDirectionHint = e.readShort(), this.indexToLocFormat = e.readShort(), this.glyphDataFormat = e.readShort() }, t.prototype.encode = function (e) { var n; return (n = new Qc).writeInt(this.version), n.writeInt(this.revision), n.writeInt(this.checkSumAdjustment), n.writeInt(this.magicNumber), n.writeShort(this.flags), n.writeShort(this.unitsPerEm), n.writeLongLong(this.created), n.writeLongLong(this.modified), n.writeShort(this.xMin), n.writeShort(this.yMin), n.writeShort(this.xMax), n.writeShort(this.yMax), n.writeShort(this.macStyle), n.writeShort(this.lowestRecPPEM), n.writeShort(this.fontDirectionHint), n.writeShort(e), n.writeShort(this.glyphDataFormat), n.data }, t }(), sA = function () { function i(t, e) { var n, r, s, o, c, u, d, f, p, m, v, x, y, E, A, T, L; switch (this.platformID = t.readUInt16(), this.encodingID = t.readShort(), this.offset = e + t.readInt(), p = t.pos, t.pos = this.offset, this.format = t.readUInt16(), this.length = t.readUInt16(), this.language = t.readUInt16(), this.isUnicode = this.platformID === 3 && this.encodingID === 1 && this.format === 4 || this.platformID === 0 && this.format === 4, this.codeMap = {}, this.format) { case 0: for (u = 0; u < 256; ++u)this.codeMap[u] = t.readByte(); break; case 4: for (v = t.readUInt16(), m = v / 2, t.pos += 6, s = function () { var k, O; for (O = [], u = k = 0; 0 <= m ? k < m : k > m; u = 0 <= m ? ++k : --k)O.push(t.readUInt16()); return O }(), t.pos += 2, y = function () { var k, O; for (O = [], u = k = 0; 0 <= m ? k < m : k > m; u = 0 <= m ? ++k : --k)O.push(t.readUInt16()); return O }(), d = function () { var k, O; for (O = [], u = k = 0; 0 <= m ? k < m : k > m; u = 0 <= m ? ++k : --k)O.push(t.readUInt16()); return O }(), f = function () { var k, O; for (O = [], u = k = 0; 0 <= m ? k < m : k > m; u = 0 <= m ? ++k : --k)O.push(t.readUInt16()); return O }(), r = (this.length - t.pos + this.offset) / 2, c = function () { var k, O; for (O = [], u = k = 0; 0 <= r ? k < r : k > r; u = 0 <= r ? ++k : --k)O.push(t.readUInt16()); return O }(), u = A = 0, L = s.length; A < L; u = ++A)for (E = s[u], n = T = x = y[u]; x <= E ? T <= E : T >= E; n = x <= E ? ++T : --T)f[u] === 0 ? o = n + d[u] : (o = c[f[u] / 2 + (n - x) - (m - u)] || 0) !== 0 && (o += d[u]), this.codeMap[n] = 65535 & o }t.pos = p } return i.encode = function (t, e) { var n, r, s, o, c, u, d, f, p, m, v, x, y, E, A, T, L, k, O, F, D, j, J, ot, z, G, it, nt, ht, U, tt, Q, pt, Y, ft, I, V, Z, st, at, ct, gt, xt, Tt, kt, zt; switch (nt = new Qc, o = Object.keys(t).sort(function ($t, Kt) { return $t - Kt }), e) { case "macroman": for (y = 0, E = function () { var $t = []; for (x = 0; x < 256; ++x)$t.push(0); return $t }(), T = { 0: 0 }, s = {}, ht = 0, pt = o.length; ht < pt; ht++)T[xt = t[r = o[ht]]] == null && (T[xt] = ++y), s[r] = { old: t[r], new: T[t[r]] }, E[r] = T[t[r]]; return nt.writeUInt16(1), nt.writeUInt16(0), nt.writeUInt32(12), nt.writeUInt16(0), nt.writeUInt16(262), nt.writeUInt16(0), nt.write(E), { charMap: s, subtable: nt.data, maxGlyphID: y + 1 }; case "unicode": for (G = [], p = [], L = 0, T = {}, n = {}, A = d = null, U = 0, Y = o.length; U < Y; U++)T[O = t[r = o[U]]] == null && (T[O] = ++L), n[r] = { old: O, new: T[O] }, c = T[O] - r, A != null && c === d || (A && p.push(A), G.push(r), d = c), A = r; for (A && p.push(A), p.push(65535), G.push(65535), ot = 2 * (J = G.length), j = 2 * Math.pow(Math.log(J) / Math.LN2, 2), m = Math.log(j / 2) / Math.LN2, D = 2 * J - j, u = [], F = [], v = [], x = tt = 0, ft = G.length; tt < ft; x = ++tt) { if (z = G[x], f = p[x], z === 65535) { u.push(0), F.push(0); break } if (z - (it = n[z].new) >= 32768) for (u.push(0), F.push(2 * (v.length + J - x)), r = Q = z; z <= f ? Q <= f : Q >= f; r = z <= f ? ++Q : --Q)v.push(n[r].new); else u.push(it - z), F.push(0) } for (nt.writeUInt16(3), nt.writeUInt16(1), nt.writeUInt32(12), nt.writeUInt16(4), nt.writeUInt16(16 + 8 * J + 2 * v.length), nt.writeUInt16(0), nt.writeUInt16(ot), nt.writeUInt16(j), nt.writeUInt16(m), nt.writeUInt16(D), ct = 0, I = p.length; ct < I; ct++)r = p[ct], nt.writeUInt16(r); for (nt.writeUInt16(0), gt = 0, V = G.length; gt < V; gt++)r = G[gt], nt.writeUInt16(r); for (Tt = 0, Z = u.length; Tt < Z; Tt++)c = u[Tt], nt.writeUInt16(c); for (kt = 0, st = F.length; kt < st; kt++)k = F[kt], nt.writeUInt16(k); for (zt = 0, at = v.length; zt < at; zt++)y = v[zt], nt.writeUInt16(y); return { charMap: n, subtable: nt.data, maxGlyphID: L + 1 } } }, i }(), TN = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "cmap", t.prototype.parse = function (e) { var n, r, s; for (e.pos = this.offset, this.version = e.readUInt16(), s = e.readUInt16(), this.tables = [], this.unicode = null, r = 0; 0 <= s ? r < s : r > s; r = 0 <= s ? ++r : --r)n = new sA(e, this.offset), this.tables.push(n), n.isUnicode && this.unicode == null && (this.unicode = n); return !0 }, t.encode = function (e, n) { var r, s; return n == null && (n = "macroman"), r = sA.encode(e, n), (s = new Qc).writeUInt16(0), s.writeUInt16(1), r.table = s.data.concat(r.subtable), r }, t }(), g9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "hhea", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.ascender = e.readShort(), this.decender = e.readShort(), this.lineGap = e.readShort(), this.advanceWidthMax = e.readShort(), this.minLeftSideBearing = e.readShort(), this.minRightSideBearing = e.readShort(), this.xMaxExtent = e.readShort(), this.caretSlopeRise = e.readShort(), this.caretSlopeRun = e.readShort(), this.caretOffset = e.readShort(), e.pos += 8, this.metricDataFormat = e.readShort(), this.numberOfMetrics = e.readUInt16() }, t }(), m9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "OS/2", t.prototype.parse = function (e) { if (e.pos = this.offset, this.version = e.readUInt16(), this.averageCharWidth = e.readShort(), this.weightClass = e.readUInt16(), this.widthClass = e.readUInt16(), this.type = e.readShort(), this.ySubscriptXSize = e.readShort(), this.ySubscriptYSize = e.readShort(), this.ySubscriptXOffset = e.readShort(), this.ySubscriptYOffset = e.readShort(), this.ySuperscriptXSize = e.readShort(), this.ySuperscriptYSize = e.readShort(), this.ySuperscriptXOffset = e.readShort(), this.ySuperscriptYOffset = e.readShort(), this.yStrikeoutSize = e.readShort(), this.yStrikeoutPosition = e.readShort(), this.familyClass = e.readShort(), this.panose = function () { var n, r; for (r = [], n = 0; n < 10; ++n)r.push(e.readByte()); return r }(), this.charRange = function () { var n, r; for (r = [], n = 0; n < 4; ++n)r.push(e.readInt()); return r }(), this.vendorID = e.readString(4), this.selection = e.readShort(), this.firstCharIndex = e.readShort(), this.lastCharIndex = e.readShort(), this.version > 0 && (this.ascent = e.readShort(), this.descent = e.readShort(), this.lineGap = e.readShort(), this.winAscent = e.readShort(), this.winDescent = e.readShort(), this.codePageRange = function () { var n, r; for (r = [], n = 0; n < 2; n = ++n)r.push(e.readInt()); return r }(), this.version > 1)) return this.xHeight = e.readShort(), this.capHeight = e.readShort(), this.defaultChar = e.readShort(), this.breakChar = e.readShort(), this.maxContext = e.readShort() }, t }(), v9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "post", t.prototype.parse = function (e) { var n, r, s; switch (e.pos = this.offset, this.format = e.readInt(), this.italicAngle = e.readInt(), this.underlinePosition = e.readShort(), this.underlineThickness = e.readShort(), this.isFixedPitch = e.readInt(), this.minMemType42 = e.readInt(), this.maxMemType42 = e.readInt(), this.minMemType1 = e.readInt(), this.maxMemType1 = e.readInt(), this.format) { case 65536: break; case 131072: var o; for (r = e.readUInt16(), this.glyphNameIndex = [], o = 0; 0 <= r ? o < r : o > r; o = 0 <= r ? ++o : --o)this.glyphNameIndex.push(e.readUInt16()); for (this.names = [], s = []; e.pos < this.offset + this.length;)n = e.readByte(), s.push(this.names.push(e.readString(n))); return s; case 151552: return r = e.readUInt16(), this.offsets = e.read(r); case 196608: break; case 262144: return this.map = (function () { var c, u, d; for (d = [], o = c = 0, u = this.file.maxp.numGlyphs; 0 <= u ? c < u : c > u; o = 0 <= u ? ++c : --c)d.push(e.readUInt32()); return d }).call(this) } }, t }(), b9 = function (i, t) { this.raw = i, this.length = i.length, this.platformID = t.platformID, this.encodingID = t.encodingID, this.languageID = t.languageID }, y9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "name", t.prototype.parse = function (e) { var n, r, s, o, c, u, d, f, p, m, v; for (e.pos = this.offset, e.readShort(), n = e.readShort(), u = e.readShort(), r = [], o = 0; 0 <= n ? o < n : o > n; o = 0 <= n ? ++o : --o)r.push({ platformID: e.readShort(), encodingID: e.readShort(), languageID: e.readShort(), nameID: e.readShort(), length: e.readShort(), offset: this.offset + u + e.readShort() }); for (d = {}, o = p = 0, m = r.length; p < m; o = ++p)s = r[o], e.pos = s.offset, f = e.readString(s.length), c = new b9(f, s), d[v = s.nameID] == null && (d[v] = []), d[s.nameID].push(c); this.strings = d, this.copyright = d[0], this.fontFamily = d[1], this.fontSubfamily = d[2], this.uniqueSubfamily = d[3], this.fontName = d[4], this.version = d[5]; try { this.postscriptName = d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } catch { this.postscriptName = d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } return this.trademark = d[7], this.manufacturer = d[8], this.designer = d[9], this.description = d[10], this.vendorUrl = d[11], this.designerUrl = d[12], this.license = d[13], this.licenseUrl = d[14], this.preferredFamily = d[15], this.preferredSubfamily = d[17], this.compatibleFull = d[18], this.sampleText = d[19] }, t }(), w9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "maxp", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.numGlyphs = e.readUInt16(), this.maxPoints = e.readUInt16(), this.maxContours = e.readUInt16(), this.maxCompositePoints = e.readUInt16(), this.maxComponentContours = e.readUInt16(), this.maxZones = e.readUInt16(), this.maxTwilightPoints = e.readUInt16(), this.maxStorage = e.readUInt16(), this.maxFunctionDefs = e.readUInt16(), this.maxInstructionDefs = e.readUInt16(), this.maxStackElements = e.readUInt16(), this.maxSizeOfInstructions = e.readUInt16(), this.maxComponentElements = e.readUInt16(), this.maxComponentDepth = e.readUInt16() }, t }(), x9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "hmtx", t.prototype.parse = function (e) { var n, r, s, o, c, u, d; for (e.pos = this.offset, this.metrics = [], n = 0, u = this.file.hhea.numberOfMetrics; 0 <= u ? n < u : n > u; n = 0 <= u ? ++n : --n)this.metrics.push({ advance: e.readUInt16(), lsb: e.readInt16() }); for (s = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = function () { var f, p; for (p = [], n = f = 0; 0 <= s ? f < s : f > s; n = 0 <= s ? ++f : --f)p.push(e.readInt16()); return p }(), this.widths = (function () { var f, p, m, v; for (v = [], f = 0, p = (m = this.metrics).length; f < p; f++)o = m[f], v.push(o.advance); return v }).call(this), r = this.widths[this.widths.length - 1], d = [], n = c = 0; 0 <= s ? c < s : c > s; n = 0 <= s ? ++c : --c)d.push(this.widths.push(r)); return d }, t.prototype.forGlyph = function (e) { return e in this.metrics ? this.metrics[e] : { advance: this.metrics[this.metrics.length - 1].advance, lsb: this.leftSideBearings[e - this.metrics.length] } }, t }(), LN = [].slice, S9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "glyf", t.prototype.parse = function () { return this.cache = {} }, t.prototype.glyphFor = function (e) { var n, r, s, o, c, u, d, f, p, m; return e in this.cache ? this.cache[e] : (o = this.file.loca, n = this.file.contents, r = o.indexOf(e), (s = o.lengthOf(e)) === 0 ? this.cache[e] = null : (n.pos = this.offset + r, c = (u = new Qc(n.read(s))).readShort(), f = u.readShort(), m = u.readShort(), d = u.readShort(), p = u.readShort(), this.cache[e] = c === -1 ? new E9(u, f, m, d, p) : new A9(u, c, f, m, d, p), this.cache[e])) }, t.prototype.encode = function (e, n, r) { var s, o, c, u, d; for (c = [], o = [], u = 0, d = n.length; u < d; u++)s = e[n[u]], o.push(c.length), s && (c = c.concat(s.encode(r))); return o.push(c.length), { table: c, offsets: o } }, t }(), A9 = function () { function i(t, e, n, r, s, o) { this.raw = t, this.numberOfContours = e, this.xMin = n, this.yMin = r, this.xMax = s, this.yMax = o, this.compound = !1 } return i.prototype.encode = function () { return this.raw.data }, i }(), E9 = function () { function i(t, e, n, r, s) { var o, c; for (this.raw = t, this.xMin = e, this.yMin = n, this.xMax = r, this.yMax = s, this.compound = !0, this.glyphIDs = [], this.glyphOffsets = [], o = this.raw; c = o.readShort(), this.glyphOffsets.push(o.pos), this.glyphIDs.push(o.readUInt16()), 32 & c;)o.pos += 1 & c ? 4 : 2, 128 & c ? o.pos += 8 : 64 & c ? o.pos += 4 : 8 & c && (o.pos += 2) } return i.prototype.encode = function () { var t, e, n; for (e = new Qc(LN.call(this.raw.data)), t = 0, n = this.glyphIDs.length; t < n; ++t)e.pos = this.glyphOffsets[t]; return e.data }, i }(), _9 = function (i) { function t() { return t.__super__.constructor.apply(this, arguments) } return Jo(t, Ka), t.prototype.tag = "loca", t.prototype.parse = function (e) { var n, r; return e.pos = this.offset, n = this.file.head.indexToLocFormat, this.offsets = n === 0 ? (function () { var s, o; for (o = [], r = 0, s = this.length; r < s; r += 2)o.push(2 * e.readUInt16()); return o }).call(this) : (function () { var s, o; for (o = [], r = 0, s = this.length; r < s; r += 4)o.push(e.readUInt32()); return o }).call(this) }, t.prototype.indexOf = function (e) { return this.offsets[e] }, t.prototype.lengthOf = function (e) { return this.offsets[e + 1] - this.offsets[e] }, t.prototype.encode = function (e, n) { for (var r = new Uint32Array(this.offsets.length), s = 0, o = 0, c = 0; c < r.length; ++c)if (r[c] = s, o < n.length && n[o] == c) { ++o, r[c] = s; var u = this.offsets[c], d = this.offsets[c + 1] - u; d > 0 && (s += d) } for (var f = new Array(4 * r.length), p = 0; p < r.length; ++p)f[4 * p + 3] = 255 & r[p], f[4 * p + 2] = (65280 & r[p]) >> 8, f[4 * p + 1] = (16711680 & r[p]) >> 16, f[4 * p] = (4278190080 & r[p]) >> 24; return f }, t }(), C9 = function () { function i(t) { this.font = t, this.subset = {}, this.unicodes = {}, this.next = 33 } return i.prototype.generateCmap = function () { var t, e, n, r, s; for (e in r = this.font.cmap.tables[0].codeMap, t = {}, s = this.subset) n = s[e], t[e] = r[n]; return t }, i.prototype.glyphsFor = function (t) { var e, n, r, s, o, c, u; for (r = {}, o = 0, c = t.length; o < c; o++)r[s = t[o]] = this.font.glyf.glyphFor(s); for (s in e = [], r) (n = r[s]) != null && n.compound && e.push.apply(e, n.glyphIDs); if (e.length > 0) for (s in u = this.glyphsFor(e)) n = u[s], r[s] = n; return r }, i.prototype.encode = function (t, e) { var n, r, s, o, c, u, d, f, p, m, v, x, y, E, A; for (r in n = TN.encode(this.generateCmap(), "unicode"), o = this.glyphsFor(t), v = { 0: 0 }, A = n.charMap) v[(u = A[r]).old] = u.new; for (x in m = n.maxGlyphID, o) x in v || (v[x] = m++); return f = function (T) { var L, k; for (L in k = {}, T) k[T[L]] = L; return k }(v), p = Object.keys(f).sort(function (T, L) { return T - L }), y = function () { var T, L, k; for (k = [], T = 0, L = p.length; T < L; T++)c = p[T], k.push(f[c]); return k }(), s = this.font.glyf.encode(o, y, v), d = this.font.loca.encode(s.offsets, y), E = { cmap: this.font.cmap.raw(), glyf: s.table, loca: d, hmtx: this.font.hmtx.raw(), hhea: this.font.hhea.raw(), maxp: this.font.maxp.raw(), post: this.font.post.raw(), name: this.font.name.raw(), head: this.font.head.encode(e) }, this.font.os2.exists && (E["OS/2"] = this.font.os2.raw()), this.font.directory.encode(E) }, i }(); _e.API.PDFObject = function () {
  var i; function t() { } return i = function (e, n) { return (Array(n + 1).join("0") + e).slice(-n) }, t.convert = function (e) {
    var n, r, s, o; if (Array.isArray(e)) return "[" + function () { var c, u, d; for (d = [], c = 0, u = e.length; c < u; c++)n = e[c], d.push(t.convert(n)); return d }().join(" ") + "]"; if (typeof e == "string") return "/" + e; if (e?.isString) return "(" + e + ")"; if (e instanceof Date) return "(D:" + i(e.getUTCFullYear(), 4) + i(e.getUTCMonth(), 2) + i(e.getUTCDate(), 2) + i(e.getUTCHours(), 2) + i(e.getUTCMinutes(), 2) + i(e.getUTCSeconds(), 2) + "Z)"; if ({}.toString.call(e) === "[object Object]") {
      for (r in s = ["<<"], e) o = e[r], s.push("/" + r + " " + t.convert(o)); return s.push(">>"), s.join(`
`)
    } return "" + e
  }, t
}(); Yo.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${B0}/pdf.worker.js`; const aA = () => {
  const [i, t] = M.useState(null), [e, n] = M.useState([]), [r, s] = M.useState(null), [o, c] = M.useState(""), [u, d] = M.useState(!1), [f, p] = M.useState(""), m = M.useRef(null), v = M.useRef(null), x = M.useCallback(() => { const L = v.current.getScreenshot(); L && (n(k => [...k, L]), d(!1)) }, []), y = L => { const k = L.target.files[0]; if (!k) return; const O = k.type; if (O.startsWith("image/")) { const F = new FileReader; F.onload = () => { t(F.result), s(null) }, F.readAsDataURL(k) } else O === "application/pdf" && (s(k), t(null), p(k.name)) }, E = async () => { if (!o) return alert("Enter Patient MRN"); const L = m.current?.cropper; if (!L) return; const k = L.getCroppedCanvas(), O = await new Promise(j => k.toBlob(j, "image/jpeg")), F = new File([O], "cropped-image.jpg", { type: "image/jpeg" }); console.log(F); const D = new FormData; D.append("file", F), D.append("patientMRN", o), D.append("employeeId", "12345"), console.log(O); try { await qn.post("/clerk/uploadDoc", D), alert("Image uploaded successfully!"), t(null) } catch (j) { console.error(j), alert("Upload failed") } }, A = async () => { if (!o || !r) return alert("Missing Patient MRN or PDF"); const L = new FormData; L.append("file", r), L.append("patientMRN", o), L.append("employeeId", "1234"); try { const k = await qn.post("/clerk/uploadDoc", L); alert("PDF uploaded successfully!"), s(null), p("") } catch (k) { console.error(k), alert("Upload failed") } }, T = async () => { if (!o || e.length === 0) return alert("Add MRN and capture images"); const L = new _e; for (let D = 0; D < e.length; D++)D !== 0 && L.addPage(), L.addImage(e[D], "JPEG", 10, 10, 190, 270); const k = L.output("blob"), O = new File([k], "scanned-document.pdf", { type: "application/pdf" }), F = new FormData; F.append("file", O), F.append("scannerClerk", "687903b74d2933e28308743f"), F.append("patientMRN", o), F.append("employeeId", "1234"); try { await qn.post("/clerk/uploadDoc", F), alert("Scanned PDF uploaded successfully!"), n([]) } catch (D) { console.error(D), alert("Upload failed") } }; return N.jsxs("div", {
    className: "max-w-3xl mx-auto p-4", children: [N.jsx("h1", { className: "text-xl font-semibold mb-4", children: "Document Scanner" }), N.jsx("label", { className: "block text-sm font-medium mb-1 text-gray-700", children: "Enter Patient MRN" }), N.jsx("input", { type: "text", value: o, onChange: L => c(L.target.value), className: "w-full mb-4 px-3 py-2 border rounded-md text-sm", placeholder: "e.g., MRN123456" }), N.jsx("input", {
      type: "file", accept: "image/*,application/pdf", onChange: y, className: `mb-4 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4\r
                   file:rounded-full file:border-0 file:text-sm file:font-semibold\r
                   file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`}), N.jsx("button", { onClick: () => d(!0), className: "mb-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition", children: "Open Camera" }), u && N.jsxs("div", { className: "mb-4", children: [N.jsx(t3, { audio: !1, ref: v, screenshotFormat: "image/jpeg", className: "w-full rounded-md", videoConstraints: { facingMode: "environment" } }), N.jsx("button", { onClick: x, className: "mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition", children: "Capture Image" })] }), e.length > 0 && N.jsxs("div", { className: "mb-4", children: [N.jsx("h2", { className: "text-lg font-medium mb-2", children: "Captured Images" }), N.jsx("div", { className: "grid grid-cols-2 gap-2", children: e.map((L, k) => N.jsxs("div", { className: "relative", children: [N.jsx("img", { src: L, alt: `Captured ${k}`, className: "w-full rounded shadow" }), N.jsx("button", { onClick: () => { const O = [...e]; O.splice(k, 1), n(O) }, className: "absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded hover:bg-red-700", children: "Delete" })] }, k)) }), N.jsx("button", { onClick: T, className: "mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition", children: "Upload All as PDF" }), N.jsx("button", { onClick: () => n([]), className: "mt-2 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition ml-2", children: "Clear Captured Images" })] }), i && N.jsxs(N.Fragment, { children: [N.jsx("div", { className: "w-full h-[60vh] mb-4", children: N.jsx(J7, { src: i, ref: m, style: { height: "100%", width: "100%" }, aspectRatio: NaN, guides: !0, viewMode: 1, dragMode: "move", autoCropArea: 1, background: !1 }) }), N.jsx("button", { onClick: E, className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition", children: "Upload Cropped Image" })] }), r && N.jsxs("div", { className: "mt-4", children: [N.jsxs("p", { className: "text-sm mb-2 text-gray-600", children: ["PDF selected: ", f] }), N.jsx("button", { onClick: A, className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition", children: "Upload PDF" })] })]
  })
}, N9 = ({ page: i, limit: t }) => qn.get(`/clerk/clerkDocs?page=${i}&limit=${t}`), R9 = i => qn.get("/clerk/deleteDoc/" + i), T9 = ({ searchTerm: i, page: t, limit: e }) => qn.get(`/clerk/search?query=${i}&page=${t}&limit=${e}`), L9 = i => qn.post("/clerk/updateStatus", { id: i }); Yo.workerSrc = `https://unpkg.com/pdfjs-dist@${B0}/build/pdf.worker.min.js`; const M9 = ({ filePath: i }) => { const [t, e] = M.useState(null), [n, r] = M.useState(0); M.useEffect(() => { const o = () => { const c = document.getElementById("pdf-container"); c && r(c.offsetWidth - 40) }; return o(), window.addEventListener("resize", o), () => window.removeEventListener("resize", o) }, []); const s = ({ numPages: o }) => { e(o) }; return console.log("PDF file path:", i), N.jsx("div", { id: "pdf-container", className: "w-full max-w-4xl mx-auto p-4 overflow-y-auto max-h-[85vh] bg-white rounded-lg", children: i ? N.jsx(w2, { file: i, onLoadSuccess: s, className: "flex flex-col items-center", children: Array.from(new Array(t || 0), (o, c) => N.jsx("div", { className: "mb-4 shadow-lg", children: N.jsx(x2, { pageNumber: c + 1, width: n, renderTextLayer: !1, renderAnnotationLayer: !1, className: "border rounded" }) }, c)) }) : N.jsx("p", { className: "text-center text-gray-500", children: "No PDF file provided" }) }) }, MN = ({ filePath: i }) => { console.log("Previewing file:", i); const t = i?.toLowerCase().endsWith(".pdf"); return console.log("Is PDF:", t), N.jsx("div", { className: "w-[60vw] h-[90vh] flex justify-center items-center", children: t ? N.jsx(M9, { filePath: i }) : N.jsx("img", { src: i, alt: "Preview", className: "max-w-full max-h-[80vh] object-contain" }) }) }; Yo.workerSrc = new URL("/assets/pdf.worker.min--PgD6g2g.mjs", import.meta.url).toString(); const _2 = ({ document: i, deleteButton: t, onDelete: e }) => {
  const { id: n, fileName: r, filePath: s, patientMRN: o, status: c, scannedAt: u, comment: d, employeeId: f, uploadedAt: p } = i, [m, v] = M.useState(!1), x = jp(), y = s?.toLowerCase().endsWith(".pdf"), E = () => { x("/rescan", { state: { id: n, fileName: r, filePath: s, uploadedAt: p } }) }, A = L => { L.target === L.currentTarget && v(!1) }, T = async () => { try { await L9(n), alert("Document submitted successfully") } catch (L) { console.error(L), alert("Could not update the document") } }; return M.useEffect(() => { const L = k => { k.key === "Escape" && v(!1) }; return m && window.addEventListener("keydown", L), () => window.removeEventListener("keydown", L) }, [m]), N.jsxs(Vy, {
    className: "w-full max-w-md relative", children: [N.jsx(Gy, { children: N.jsxs($y, { className: "flex items-center gap-2", children: [N.jsx(D_, { className: "h-5 w-5 text-blue-500" }), r] }) }), N.jsxs(Wy, {
      children: [N.jsxs("div", {
        className: "space-y-2", children: [y ? N.jsx("div", { className: "w-full h-48 overflow-hidden rounded mb-2", children: N.jsx(w2, { file: $o(s), children: N.jsx(x2, { pageNumber: 1, width: 300, renderTextLayer: !1, renderAnnotationLayer: !1, className: "w-full h-full object-cover" }) }) }) : N.jsx("img", { src: $o(s), alt: r, className: "w-full h-48 object-cover rounded mb-2" }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Patient MRN:" }), " ", o] }), N.jsxs("p", {
          className: "text-sm text-gray-600 flex items-center gap-2", children: [N.jsx("span", { className: "font-medium", children: "Status:" }), N.jsxs("span", {
            className: `flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium
                ${c === "draft" ? "bg-yellow-100 text-yellow-800" : c === "rejected" ? "bg-red-100 text-red-800" : c === "submitted" ? "bg-green-100 text-green-800" : c === "approved" ? "bg-blue-100 text-blue-800" : "bg-gray-200 text-gray-800"}`, children: [N.jsx("span", {
              className: `w-2 h-2 rounded-full
                  ${c === "draft" ? "bg-yellow-500" : c === "rejected" ? "bg-red-500" : c === "submitted" ? "bg-green-500" : c === "approved" ? "bg-blue-500" : "bg-gray-500"}`
            }), c]
          }), (c === "draft" || c === "rejected") && N.jsx("button", { className: "underline text-gray-600 hover:text-gray-800 text-sm ml-2", onClick: E, children: "Rescan or Resubmit" })]
        }), c === "draft" && N.jsx(dn, { onClick: T, className: "mt-1 bg-blue-600 hover:bg-blue-700 text-white", children: "Submit Document" }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Comments:" }), " ", d] }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Employee ID:" }), " ", f] }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Scanned At:" }), " ", new Date(u).toLocaleString()] })]
      }), N.jsx("div", { className: "mt-4", children: N.jsx(dn, { variant: "outline", className: "w-full", onClick: () => v(!0), children: "Preview Document" }) })]
    }), m && N.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center bg-black/80", onClick: A, children: N.jsx("div", { className: "relative flex justify-center items-center w-[60vw] h-[90vh] overflow-auto", children: N.jsx(MN, { filePath: $o(s) }) }) }), t && N.jsx(dn, { variant: "destructive", size: "icon", onClick: e, title: "Delete Document", className: "absolute top-2 right-2 bg-red-600 hover:bg-red-700", children: N.jsx(YD, { className: "h-4 w-4" }) })]
  })
}, PN = ({ onSearch: i }) => { const [t, e] = M.useState(""), n = s => { const o = s.target.value; e(o) }, r = s => { s.preventDefault(), i(t) }; return N.jsxs("form", { onSubmit: r, className: "flex w-full max-w-4xl p-4 bg-white items-center gap-3 mb-4", children: [N.jsx(Bs, { label: "Search Documents", id: "search", name: "search", value: t, onChange: n, placeholder: "Enter document name or MRN...", className: "w-full", required: !0 }), N.jsx(dn, { type: "submit", "aria-label": "Search", className: "inline-flex items-center justify-center px-4 py-2 text-white rounded-lg transition", children: N.jsx(VD, { className: "w-5 h-5" }) })] }) }; function ON({ className: i, ...t }) { return N.jsx("nav", { role: "navigation", "aria-label": "pagination", "data-slot": "pagination", className: je("mx-auto flex w-full justify-center", i), ...t }) } function kN({ className: i, ...t }) { return N.jsx("ul", { "data-slot": "pagination-content", className: je("flex flex-row items-center gap-1", i), ...t }) } function Ld(i) { return N.jsx("li", { "data-slot": "pagination-item", ...i }) } function W0({ className: i, isActive: t, size: e = "icon", ...n }) { return N.jsx("a", { "aria-current": t ? "page" : void 0, "data-slot": "pagination-link", "data-active": t, className: je(SE({ variant: t ? "outline" : "ghost", size: e }), i), ...n }) } function DN({ className: i, ...t }) { return N.jsxs(W0, { "aria-label": "Go to previous page", size: "default", className: je("gap-1 px-2.5 sm:pl-2.5", i), ...t, children: [N.jsx(ED, {}), N.jsx("span", { className: "hidden sm:block", children: "Previous" })] }) } function jN({ className: i, ...t }) { return N.jsxs(W0, { "aria-label": "Go to next page", size: "default", className: je("gap-1 px-2.5 sm:pr-2.5", i), ...t, children: [N.jsx("span", { className: "hidden sm:block", children: "Next" }), N.jsx(CD, {})] }) } const P9 = () => { const i = Tp(), { showError: t, showSuccess: e } = Zc(), [n, r] = M.useState(!1), [s, o] = M.useState(null), [c, u] = M.useState(""), [d, f] = M.useState(1), p = 9, m = M.useRef(null), { data: v, isLoading: x, error: y, isFetching: E } = Lp({ queryKey: ["scanned-docs", c, d], queryFn: async () => { const j = { page: d, limit: p }; return c ? await T9({ searchTerm: c, ...j }) : await N9(j) }, keepPreviousData: !0 }), A = Us({ mutationFn: R9, onSuccess: () => { i.invalidateQueries(["scanned-docs"]), e("Document deleted successfully"), r(!1), o(null) }, onError: j => { t(j, "Failed to delete document") } }), T = M.useCallback(j => { o(j), r(!0) }, []), L = M.useCallback(() => { s && A.mutate(s) }, [s, A]), k = M.useCallback(j => { u(j.trim()), f(1) }, []), O = M.useCallback(() => { u(""), f(1), m.current && (m.current.value = "") }, []); if (y) return t(y, y.statusCode === 400 ? "Please enter a search term" : "Failed to fetch documents"), N.jsxs("div", { className: "text-center text-red-500", role: "alert", children: ["Error: ", y.message] }); const F = v?.data?.data?.data || [], D = v?.data?.data?.totalPages || 1; return N.jsxs("div", { className: "p-4 w-full", children: [N.jsx("h1", { className: "text-2xl font-bold mb-6", children: "My Scanned Documents" }), N.jsxs("div", { className: "mb-6 flex items-center gap-2", children: [N.jsx(PN, { onSearch: k, placeholder: "Search documents..." }), c && N.jsx(dn, { variant: "outline", size: "icon", onClick: O, "aria-label": "Clear search", title: "Clear search", children: N.jsx(N0, { className: "h-4 w-4" }) })] }), x || E ? N.jsx("div", { className: "flex justify-center items-center h-64", children: N.jsx(jD, { className: "h-8 w-8 animate-spin" }) }) : N.jsxs(N.Fragment, { children: [N.jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6", children: F.length > 0 ? F.map(j => N.jsx(_2, { document: j, deleteButton: j.status === "draft", onDelete: () => T(j.id) }, j.id)) : N.jsxs("div", { className: "text-center py-12 col-span-full", children: [N.jsx("p", { className: "text-lg text-gray-600", children: c ? "No documents found matching your search." : "You have no scanned documents yet." }), !c && N.jsx(dn, { className: "mt-4", onClick: () => window.location.href = "/scan", children: "Scan a New Document" })] }) }), D > 1 && N.jsx(ON, { className: "mt-6 flex justify-center", children: N.jsxs(kN, { children: [N.jsx(Ld, { children: N.jsx(DN, { onClick: () => f(j => Math.max(j - 1, 1)), className: d === 1 ? "pointer-events-none opacity-50" : "" }) }), [...Array(D)].map((j, J) => { const ot = J + 1; return N.jsx(Ld, { children: N.jsx(W0, { onClick: () => f(ot), isActive: d === ot, children: ot }) }, ot) }), N.jsx(Ld, { children: N.jsx(jN, { onClick: () => f(j => Math.min(j + 1, D)), className: d === D ? "pointer-events-none opacity-50" : "" }) })] }) })] }), N.jsx(qp, { open: n, onOpenChange: r, children: N.jsxs(Vp, { className: "sm:max-w-md", children: [N.jsx(Gp, { children: N.jsx($p, { children: "Confirm Document Deletion" }) }), N.jsx("p", { className: "text-sm text-gray-600", children: "Are you sure you want to delete this document? This action cannot be undone." }), N.jsxs("div", { className: "flex gap-2 mt-4 justify-end", children: [N.jsx(dn, { variant: "outline", onClick: () => r(!1), disabled: A.isLoading, children: "Cancel" }), N.jsx(dn, { variant: "destructive", onClick: L, disabled: A.isLoading, children: A.isLoading ? "Deleting..." : "Delete" })] })] }) })] }) }, O9 = [{ title: "Review Documents", url: "/approver/review", icon: j_ }, { title: "Approved Documents", url: "/approver/approved", icon: xb }, { title: "Rejected Documents", url: "/approver/rejected", icon: xb }]; function k9() { return N.jsx($C, { className: "mt-16", children: N.jsx(YC, { children: N.jsx(XC, { children: N.jsx(KC, { children: N.jsx(QC, { children: O9.map(i => N.jsx(ZC, { children: N.jsx(JC, { asChild: !0, children: N.jsxs("a", { href: i.url, children: [N.jsx(i.icon, {}), N.jsx("span", { children: i.title })] }) }) }, i.title)) }) }) }) }) }) } const D9 = () => N.jsx("div", { children: N.jsxs(GC, { children: [N.jsx(k9, {}), N.jsx(WC, {}), N.jsx(nE, {})] }) }), j9 = () => N.jsx(zy, { roles: ["Approver"], children: N.jsx(D9, {}) }), I9 = ({ page: i = 1, limit: t = 10 } = {}) => qn.get("/approver/scannedDocs", { params: { page: i, limit: t } }), F9 = ({ page: i = 1, limit: t = 10 } = {}) => qn.get("/approver/approvedDocs", { params: { page: i, limit: t } }), B9 = ({ page: i = 1, limit: t = 10 } = {}) => qn.get("/approver/rejectedDocs", { params: { page: i, limit: t } }), z9 = i => qn.post(`/approver/approve/${i}`), U9 = (i, t) => qn.post(`/approver/reject/${i}`, t), H9 = ({ query: i, page: t = 1, limit: e = 10 }) => qn.get("/approver/search", { params: { query: i, page: t, limit: e } }), q9 = ({ document: i }) => { const { fileName: t, filePath: e, patientMRN: n, status: r, scannedAt: s } = i, [o, c] = M.useState(!1), [u, d] = M.useState(""), f = Tp(), [p, m] = Yt.useState(!1), v = e?.toLowerCase().endsWith(".pdf"), x = L => { L.target === L.currentTarget && m(!1) }; M.useEffect(() => { const L = k => { k.key === "Escape" && m(!1) }; return p && window.addEventListener("keydown", L), () => window.removeEventListener("keydown", L) }, [p]); const y = Us({ mutationFn: () => z9(i.id), onSuccess: () => { showSuccess(`${i.fileName} approved successfully.`), refetch() }, onError: L => { showError(L, "Failed to approve document") } }), E = Us({ mutationFn: () => U9(i.id, { rejectComment: u }), onSuccess: () => { showSuccess(`${i.fileName} rejected successfully.`), c(!1), d(""), f.invalidateQueries(["approver-scanned-docs"]), refetch() }, onError: L => showError(L, "Failed to reject document") }), A = () => { y.mutate() }, T = () => { if (!u.trim()) { showError("Please provide a reason for rejection"); return } E.mutate() }; return N.jsx(N.Fragment, { children: N.jsxs(Vy, { className: "w-full max-w-sm", children: [N.jsx(Gy, { children: N.jsxs($y, { className: "flex items-center gap-2", children: [N.jsx(D_, { className: "h-5 w-5 text-blue-500" }), t] }) }), N.jsxs(Wy, { children: [N.jsxs("div", { className: "space-y-2", children: [v ? N.jsx("div", { className: "w-full h-48 overflow-hidden rounded mb-2", children: N.jsx(w2, { file: $o(e), children: N.jsx(x2, { pageNumber: 1, width: 300, renderTextLayer: !1, renderAnnotationLayer: !1, className: "w-full h-full object-cover" }) }) }) : N.jsx("img", { src: $o(e), alt: t, className: "w-full h-48 object-cover rounded mb-2" }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Patient MRN:" }), " ", n] }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Status:" }), " ", r] }), N.jsxs("p", { className: "text-sm text-gray-600", children: [N.jsx("span", { className: "font-medium", children: "Scanned At:" }), " ", new Date(s).toLocaleString()] }), N.jsx(dn, { variant: "outline", className: "w-full mt-4", onClick: () => m(!0), children: "Preview Document" }), p && N.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center bg-black/80", onClick: x, children: N.jsx("div", { className: "relative flex justify-center items-center max-w-[60vw] max-h-[90vh] overflow-auto", children: N.jsx(MN, { filePath: $o(e) }) }) }), N.jsxs("div", { className: "flex gap-2 mt-4", children: [N.jsx(dn, { onClick: A, disabled: y.isLoading || E.isLoading, className: "flex-1 bg-green-600 hover:bg-green-700", children: "Approve" }), N.jsx(dn, { onClick: () => c(!0), disabled: y.isLoading || E.isLoading, variant: "destructive", className: "flex-1", children: "Reject" })] })] }), N.jsx(qp, { open: o, onOpenChange: c, children: N.jsxs(Vp, { children: [N.jsx(Gp, { children: N.jsxs($p, { children: ["Reject Document: ", t] }) }), N.jsx("div", { className: "py-4", children: N.jsx(by, { value: u, onChange: L => d(L.target.value), placeholder: "Enter reason for rejection", className: "w-full" }) }), N.jsxs(rj, { children: [N.jsx(dn, { variant: "ghost", onClick: () => c(!1), disabled: E.isLoading, children: "Cancel" }), N.jsx(dn, { variant: "ghost", onClick: T, disabled: E.isLoading, children: "Submit Rejection" })] })] }) })] })] }) }) }, oA = () => { const [i, t] = M.useState(""), [e, n] = M.useState(1), r = 9, { data: s, isLoading: o, error: c } = Lp({ queryKey: ["approver-scanned-docs", i, e], queryFn: async () => { const p = { page: e, limit: r }; return i ? await H9({ query: i, ...p }) : await I9(p) }, keepPreviousData: !0 }), u = M.useCallback(p => { t(p.trim()), n(1) }, []), d = s?.data?.data?.data || [], f = s?.data?.data?.totalPages || 1; return o ? N.jsx("div", { children: "Loading..." }) : c ? N.jsx("div", { className: "text-center text-red-500", role: "alert", children: "Error loading documents" }) : N.jsxs("div", { className: "w-full p-4", children: [N.jsx("h1", { className: "text-2xl font-bold mb-4 w-full", children: "Scanned Documents to Review" }), N.jsx(PN, { onSearch: u, placeholder: "Search documents..." }), N.jsx("div", { className: "flex w-full gap-4 flex-wrap justify-center mt-6", children: d.length > 0 ? d.map(p => N.jsx(q9, { document: p }, p.id)) : N.jsx("div", { children: "No documents found" }) }), f > 1 && N.jsx(ON, { className: "mt-6 flex justify-center", children: N.jsxs(kN, { children: [N.jsx(Ld, { children: N.jsx(DN, { onClick: () => n(p => Math.max(p - 1, 1)), className: e === 1 ? "pointer-events-none opacity-50" : "" }) }), [...Array(f)].map((p, m) => { const v = m + 1; return N.jsx(Ld, { children: N.jsx(W0, { onClick: () => n(v), isActive: e === v, children: v }) }, v) }), N.jsx(Ld, { children: N.jsx(jN, { onClick: () => n(p => Math.min(p + 1, f)), className: e === f ? "pointer-events-none opacity-50" : "" }) })] }) })] }) }, V9 = () => { const { data: i, isPending: t, isError: e } = Lp({ queryKey: ["approver-rejected-docs"], queryFn: B9 }); return N.jsxs("div", { children: [N.jsx("h1", { className: "text-2xl font-bold mb-4", children: "Rejected Documents" }), N.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: i?.data?.data?.data?.map(n => N.jsx(_2, { document: n }, n.id)) })] }) }, G9 = () => { const { data: i, isPending: t, isError: e } = Lp({ queryKey: ["approver-approved-docs"], queryFn: F9 }); return N.jsxs("div", { children: [N.jsx("h1", { className: "text-2xl font-bold mb-4", children: "Approved Documents" }), N.jsx("div", { className: "flex flex-wrap justify-center gap-4", children: i?.data?.data?.data?.map(n => N.jsx(_2, { document: n }, n.id)) })] }) }, $9 = () => {
  const { state: i } = Ul(), t = M.useRef(null), [e, n] = M.useState("draft"), [r, s] = M.useState("submitted"), [o, c] = M.useState([]), [u, d] = M.useState(!1), [f, p] = M.useState(null); if (!i) return N.jsx("p", { children: "No document data provided." }); const { id: m, fileName: v, filePath: x, uploadedAt: y } = i, E = M.useCallback(() => { const O = t.current.getScreenshot(); O && (c(F => [...F, O]), d(!1)) }, []), A = O => { const F = O.target.files[0]; F && p(F) }, T = () => { const O = new _e; return o.forEach((F, D) => { D !== 0 && O.addPage(), O.addImage(F, "JPEG", 10, 10, 190, 270) }), O.output("blob") }, L = async (O, F) => { const D = new FormData; D.append("id", m), D.append("file", O), D.append("status", F); try { await qn.post("/clerk/updateDoc", D), alert("Document updated successfully!"), c([]), p(null) } catch (j) { console.error(j), alert("Failed to update document.") } }, k = async O => { if (o.length > 0) { const F = T(), D = new File([F], "rescanned-document.pdf", { type: "application/pdf" }); await L(D, O) } else f ? await L(f, O) : alert("Please capture images or upload a file.") }; return N.jsxs("div", {
    className: "max-w-3xl mx-auto p-4", children: [N.jsx("h1", { className: "text-xl font-semibold mb-4", children: "Rescan or Resubmit Document" }), N.jsxs("p", { className: "text-sm text-gray-600 mb-2", children: ["Document ID: ", m] }), N.jsxs("p", { className: "text-sm text-gray-600 mb-4", children: ["Old File: ", v] }), N.jsx("input", {
      type: "file", accept: "image/*,application/pdf", onChange: A, className: `mb-4 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4\r
                   file:rounded-full file:border-0 file:text-sm file:font-semibold\r
                   file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`}), N.jsx("button", { onClick: () => d(!0), className: "mb-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition", children: "Open Camera" }), u && N.jsxs("div", { className: "mb-4", children: [N.jsx(t3, { audio: !1, ref: t, screenshotFormat: "image/jpeg", className: "w-full rounded-md", videoConstraints: { facingMode: "environment" } }), N.jsx("button", { onClick: E, className: "mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition", children: "Capture Image" })] }), o.length > 0 && N.jsxs("div", { className: "mb-4", children: [N.jsx("h2", { className: "text-lg font-medium mb-2", children: "Captured Images" }), N.jsx("div", { className: "grid grid-cols-2 gap-2", children: o.map((O, F) => N.jsxs("div", { className: "relative", children: [N.jsx("img", { src: O, alt: `Captured ${F}`, className: "w-full rounded shadow" }), N.jsx("button", { onClick: () => { const D = [...o]; D.splice(F, 1), c(D) }, className: "absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded hover:bg-red-700", children: "Delete" })] }, F)) })] }), N.jsx("button", { onClick: () => k("draft"), className: "mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition mr-2", children: "Upload as Draft" }), N.jsx("button", { onClick: () => k("submitted"), className: "mt-4 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition", children: "Upload as Submitted" })]
  })
}, W9 = () => N.jsxs(P6, { children: [N.jsx(H8, {}), N.jsxs(c6, { children: [N.jsx(Xi, { path: "/", element: N.jsx(V8, {}) }), N.jsx(Xi, { path: "/login", element: N.jsx(a8, {}) }), N.jsx(Xi, { path: "/register", element: N.jsx(l8, {}) }), N.jsx(Xi, { path: "/admin", element: N.jsx(dj, {}) }), N.jsx(Xi, { path: "/reset-password", element: N.jsx(u8, {}) }), N.jsx(Xi, { path: "/reset-password/:token", element: N.jsx(d8, {}) }), N.jsx(Xi, { path: "/profile", element: N.jsx(fj, {}) }), N.jsx(Xi, { path: "/unauthorized", element: N.jsx(r7, {}) }), N.jsxs(Xi, { path: "/scanner", element: N.jsx(i7, {}), children: [N.jsx(Xi, { index: !0, element: N.jsx(aA, {}) }), N.jsx(Xi, { path: "scan", element: N.jsx(aA, {}) }), N.jsx(Xi, { path: "docs", element: N.jsx(P9, {}) })] }), N.jsx(Xi, { path: "/rescan", element: N.jsx($9, {}) }), N.jsxs(Xi, { path: "/approver", element: N.jsx(j9, {}), children: [N.jsx(Xi, { index: !0, element: N.jsx(oA, {}) }), N.jsx(Xi, { path: "review", element: N.jsx(oA, {}) }), N.jsx(Xi, { path: "approved", element: N.jsx(G9, {}) }), N.jsx(Xi, { path: "rejected", element: N.jsx(V9, {}) })] })] }), N.jsx(JM, {})] }); X4.createRoot(document.getElementById("root")).render(N.jsx(Yt.StrictMode, { children: N.jsx(mR, { client: mL, children: N.jsx(gL, { children: N.jsx(W9, {}) }) }) })); export { Mn as _, X9 as c, Np as g };
